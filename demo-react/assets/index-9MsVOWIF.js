var m3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jne=m3((qne,Ac)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function f3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SC={exports:{}},fp={},AC={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.element"),_3=Symbol.for("react.portal"),y3=Symbol.for("react.fragment"),v3=Symbol.for("react.strict_mode"),x3=Symbol.for("react.profiler"),b3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),E3=Symbol.for("react.forward_ref"),S3=Symbol.for("react.suspense"),A3=Symbol.for("react.memo"),C3=Symbol.for("react.lazy"),j1=Symbol.iterator;function k3(e){return e===null||typeof e!="object"?null:(e=j1&&e[j1]||e["@@iterator"],typeof e=="function"?e:null)}var CC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kC=Object.assign,TC={};function kl(e,t,n){this.props=e,this.context=t,this.refs=TC,this.updater=n||CC}kl.prototype.isReactComponent={};kl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LC(){}LC.prototype=kl.prototype;function Ty(e,t,n){this.props=e,this.context=t,this.refs=TC,this.updater=n||CC}var Ly=Ty.prototype=new LC;Ly.constructor=Ty;kC(Ly,kl.prototype);Ly.isPureReactComponent=!0;var $1=Array.isArray,NC=Object.prototype.hasOwnProperty,Ny={current:null},IC={key:!0,ref:!0,__self:!0,__source:!0};function PC(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)NC.call(t,r)&&!IC.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$d,type:e,key:s,ref:o,props:i,_owner:Ny.current}}function T3(e,t){return{$$typeof:$d,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Iy(e){return typeof e=="object"&&e!==null&&e.$$typeof===$d}function L3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U1=/\/+/g;function Cm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?L3(""+e.key):t.toString(36)}function yh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $d:case _3:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Cm(o,0):r,$1(i)?(n="",e!=null&&(n=e.replace(U1,"$&/")+"/"),yh(i,t,n,"",function(c){return c})):i!=null&&(Iy(i)&&(i=T3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U1,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",$1(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Cm(s,a);o+=yh(s,t,n,l,i)}else if(l=k3(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Cm(s,a++),o+=yh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(e,t,n){if(e==null)return e;var r=[],i=0;return yh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function N3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},vh={transition:null},I3={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:vh,ReactCurrentOwner:Ny};At.Children={map:iu,forEach:function(e,t,n){iu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return iu(e,function(){t++}),t},toArray:function(e){return iu(e,function(t){return t})||[]},only:function(e){if(!Iy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};At.Component=kl;At.Fragment=y3;At.Profiler=x3;At.PureComponent=Ty;At.StrictMode=v3;At.Suspense=S3;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I3;At.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=kC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Ny.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)NC.call(t,l)&&!IC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:$d,type:e.type,key:i,ref:s,props:r,_owner:o}};At.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:b3,_context:e},e.Consumer=e};At.createElement=PC;At.createFactory=function(e){var t=PC.bind(null,e);return t.type=e,t};At.createRef=function(){return{current:null}};At.forwardRef=function(e){return{$$typeof:E3,render:e}};At.isValidElement=Iy;At.lazy=function(e){return{$$typeof:C3,_payload:{_status:-1,_result:e},_init:N3}};At.memo=function(e,t){return{$$typeof:A3,type:e,compare:t===void 0?null:t}};At.startTransition=function(e){var t=vh.transition;vh.transition={};try{e()}finally{vh.transition=t}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(e,t){return mr.current.useCallback(e,t)};At.useContext=function(e){return mr.current.useContext(e)};At.useDebugValue=function(){};At.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};At.useEffect=function(e,t){return mr.current.useEffect(e,t)};At.useId=function(){return mr.current.useId()};At.useImperativeHandle=function(e,t,n){return mr.current.useImperativeHandle(e,t,n)};At.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};At.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};At.useMemo=function(e,t){return mr.current.useMemo(e,t)};At.useReducer=function(e,t,n){return mr.current.useReducer(e,t,n)};At.useRef=function(e){return mr.current.useRef(e)};At.useState=function(e){return mr.current.useState(e)};At.useSyncExternalStore=function(e,t,n){return mr.current.useSyncExternalStore(e,t,n)};At.useTransition=function(){return mr.current.useTransition()};At.version="18.2.0";AC.exports=At;var L=AC.exports;const E=f3(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P3=L,M3=Symbol.for("react.element"),F3=Symbol.for("react.fragment"),R3=Object.prototype.hasOwnProperty,D3=P3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z3={key:!0,ref:!0,__self:!0,__source:!0};function MC(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)R3.call(t,r)&&!z3.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:M3,type:e,key:s,ref:o,props:i,_owner:D3.current}}fp.Fragment=F3;fp.jsx=MC;fp.jsxs=MC;SC.exports=fp;var ot=SC.exports,i_={},FC={exports:{}},Hr={},RC={exports:{}},DC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,J){var oe=V.length;V.push(J);e:for(;0<oe;){var ie=oe-1>>>1,pe=V[ie];if(0<i(pe,J))V[ie]=J,V[oe]=pe,oe=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var J=V[0],oe=V.pop();if(oe!==J){V[0]=oe;e:for(var ie=0,pe=V.length,Ce=pe>>>1;ie<Ce;){var ce=2*(ie+1)-1,ve=V[ce],De=ce+1,qe=V[De];if(0>i(ve,oe))De<pe&&0>i(qe,ve)?(V[ie]=qe,V[De]=oe,ie=De):(V[ie]=ve,V[ce]=oe,ie=ce);else if(De<pe&&0>i(qe,oe))V[ie]=qe,V[De]=oe,ie=De;else break e}}return J}function i(V,J){var oe=V.sortIndex-J.sortIndex;return oe!==0?oe:V.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,p=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(V){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=V)r(c),J.sortIndex=J.expirationTime,t(l,J);else break;J=n(c)}}function x(V){if(m=!1,v(V),!p)if(n(l)!==null)p=!0,T(w);else{var J=n(c);J!==null&&q(x,J.startTime-V)}}function w(V,J){p=!1,m&&(m=!1,y(S),S=-1),g=!0;var oe=h;try{for(v(J),u=n(l);u!==null&&(!(u.expirationTime>J)||V&&!N());){var ie=u.callback;if(typeof ie=="function"){u.callback=null,h=u.priorityLevel;var pe=ie(u.expirationTime<=J);J=e.unstable_now(),typeof pe=="function"?u.callback=pe:u===n(l)&&r(l),v(J)}else r(l);u=n(l)}if(u!==null)var Ce=!0;else{var ce=n(c);ce!==null&&q(x,ce.startTime-J),Ce=!1}return Ce}finally{u=null,h=oe,g=!1}}var b=!1,A=null,S=-1,k=5,C=-1;function N(){return!(e.unstable_now()-C<k)}function D(){if(A!==null){var V=e.unstable_now();C=V;var J=!0;try{J=A(!0,V)}finally{J?j():(b=!1,A=null)}}else b=!1}var j;if(typeof f=="function")j=function(){f(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,F=U.port2;U.port1.onmessage=D,j=function(){F.postMessage(null)}}else j=function(){_(D,0)};function T(V){A=V,b||(b=!0,j())}function q(V,J){S=_(function(){V(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,T(w))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var oe=h;h=J;try{return V()}finally{h=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var oe=h;h=V;try{return J()}finally{h=oe}},e.unstable_scheduleCallback=function(V,J,oe){var ie=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ie+oe:ie):oe=ie,V){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=oe+pe,V={id:d++,callback:J,priorityLevel:V,startTime:oe,expirationTime:pe,sortIndex:-1},oe>ie?(V.sortIndex=oe,t(c,V),n(l)===null&&V===n(c)&&(m?(y(S),S=-1):m=!0,q(x,oe-ie))):(V.sortIndex=pe,t(l,V),p||g||(p=!0,T(w))),V},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(V){var J=h;return function(){var oe=h;h=J;try{return V.apply(this,arguments)}finally{h=oe}}}})(DC);RC.exports=DC;var O3=RC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=L,Ur=O3;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Kc={};function aa(e,t){cl(e,t),cl(e+"Capture",t)}function cl(e,t){for(Kc[e]=t,e=0;e<t.length;e++)OC.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s_=Object.prototype.hasOwnProperty,B3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V1={},G1={};function j3(e){return s_.call(G1,e)?!0:s_.call(V1,e)?!1:B3.test(e)?G1[e]=!0:(V1[e]=!0,!1)}function $3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U3(e,t,n,r){if(t===null||typeof t>"u"||$3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Py=/[\-:]([a-z])/g;function My(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Py,My);Un[t]=new fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Py,My);Un[t]=new fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Py,My);Un[t]=new fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new fr(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fy(e,t,n,r){var i=Un.hasOwnProperty(t)?Un[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U3(t,n,i,r)&&(n=null),r||i===null?j3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vs=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),Ry=Symbol.for("react.strict_mode"),o_=Symbol.for("react.profiler"),BC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),a_=Symbol.for("react.suspense"),l_=Symbol.for("react.suspense_list"),zy=Symbol.for("react.memo"),Ms=Symbol.for("react.lazy"),$C=Symbol.for("react.offscreen"),H1=Symbol.iterator;function Fl(e){return e===null||typeof e!="object"?null:(e=H1&&e[H1]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,km;function ic(e){if(km===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);km=t&&t[1]||""}return`
`+km+e}var Tm=!1;function Lm(e,t){if(!e||Tm)return"";Tm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Tm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ic(e):""}function V3(e){switch(e.tag){case 5:return ic(e.type);case 16:return ic("Lazy");case 13:return ic("Suspense");case 19:return ic("SuspenseList");case 0:case 2:case 15:return e=Lm(e.type,!1),e;case 11:return e=Lm(e.type.render,!1),e;case 1:return e=Lm(e.type,!0),e;default:return""}}function c_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia:return"Fragment";case Na:return"Portal";case o_:return"Profiler";case Ry:return"StrictMode";case a_:return"Suspense";case l_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jC:return(e.displayName||"Context")+".Consumer";case BC:return(e._context.displayName||"Context")+".Provider";case Dy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zy:return t=e.displayName||null,t!==null?t:c_(e.type)||"Memo";case Ms:t=e._payload,e=e._init;try{return c_(e(t))}catch{}}return null}function G3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c_(t);case 8:return t===Ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H3(e){var t=UC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){e._valueTracker||(e._valueTracker=H3(e))}function VC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=UC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Zh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d_(e,t){var n=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function W1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=oo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GC(e,t){t=t.checked,t!=null&&Fy(e,"checked",t,!1)}function u_(e,t){GC(e,t);var n=oo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h_(e,t.type,n):t.hasOwnProperty("defaultValue")&&h_(e,t.type,oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function h_(e,t,n){(t!=="number"||Zh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sc=Array.isArray;function Ka(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function g_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function X1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(sc(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oo(n)}}function HC(e,t){var n=oo(t.value),r=oo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Y1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var au,qC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=au.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W3=["Webkit","ms","Moz","O"];Object.keys(Cc).forEach(function(e){W3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cc[t]=Cc[e]})});function XC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cc.hasOwnProperty(e)&&Cc[e]?(""+t).trim():t+"px"}function YC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=XC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var q3=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m_(e,t){if(t){if(q3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function f_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var y_=null,Ja=null,el=null;function Z1(e){if(e=Gd(e)){if(typeof y_!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=bp(t),y_(e.stateNode,e.type,t))}}function ZC(e){Ja?el?el.push(e):el=[e]:Ja=e}function QC(){if(Ja){var e=Ja,t=el;if(el=Ja=null,Z1(e),t)for(e=0;e<t.length;e++)Z1(t[e])}}function KC(e,t){return e(t)}function JC(){}var Nm=!1;function ek(e,t,n){if(Nm)return e(t,n);Nm=!0;try{return KC(e,t,n)}finally{Nm=!1,(Ja!==null||el!==null)&&(JC(),QC())}}function ed(e,t){var n=e.stateNode;if(n===null)return null;var r=bp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var v_=!1;if(us)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){v_=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{v_=!1}function X3(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var kc=!1,Qh=null,Kh=!1,x_=null,Y3={onError:function(e){kc=!0,Qh=e}};function Z3(e,t,n,r,i,s,o,a,l){kc=!1,Qh=null,X3.apply(Y3,arguments)}function Q3(e,t,n,r,i,s,o,a,l){if(Z3.apply(this,arguments),kc){if(kc){var c=Qh;kc=!1,Qh=null}else throw Error(Ie(198));Kh||(Kh=!0,x_=c)}}function la(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Q1(e){if(la(e)!==e)throw Error(Ie(188))}function K3(e){var t=e.alternate;if(!t){if(t=la(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Q1(i),e;if(s===r)return Q1(i),t;s=s.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?e:t}function nk(e){return e=K3(e),e!==null?rk(e):null}function rk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rk(e);if(t!==null)return t;e=e.sibling}return null}var ik=Ur.unstable_scheduleCallback,K1=Ur.unstable_cancelCallback,J3=Ur.unstable_shouldYield,eD=Ur.unstable_requestPaint,fn=Ur.unstable_now,tD=Ur.unstable_getCurrentPriorityLevel,By=Ur.unstable_ImmediatePriority,sk=Ur.unstable_UserBlockingPriority,Jh=Ur.unstable_NormalPriority,nD=Ur.unstable_LowPriority,ok=Ur.unstable_IdlePriority,_p=null,Ui=null;function rD(e){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(_p,e,void 0,(e.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:oD,iD=Math.log,sD=Math.LN2;function oD(e){return e>>>=0,e===0?32:31-(iD(e)/sD|0)|0}var lu=64,cu=4194304;function oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oc(a):(s&=o,s!==0&&(r=oc(s)))}else o=n&~i,o!==0?r=oc(o):s!==0&&(r=oc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bi(t),i=1<<n,r|=e[n],t&=~i;return r}function aD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-bi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aD(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function b_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ak(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function Im(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ud(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bi(t),e[t]=n}function cD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bi(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function jy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bi(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ut=0;function lk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ck,$y,dk,uk,hk,w_=!1,du=[],Zs=null,Qs=null,Ks=null,td=new Map,nd=new Map,Os=[],dD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J1(e,t){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":td.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(t.pointerId)}}function Dl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Gd(t),t!==null&&$y(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uD(e,t,n,r,i){switch(t){case"focusin":return Zs=Dl(Zs,e,t,n,r,i),!0;case"dragenter":return Qs=Dl(Qs,e,t,n,r,i),!0;case"mouseover":return Ks=Dl(Ks,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return td.set(s,Dl(td.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,nd.set(s,Dl(nd.get(s)||null,e,t,n,r,i)),!0}return!1}function gk(e){var t=Lo(e.target);if(t!==null){var n=la(t);if(n!==null){if(t=n.tag,t===13){if(t=tk(n),t!==null){e.blockedOn=t,hk(e.priority,function(){dk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=E_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);__=r,n.target.dispatchEvent(r),__=null}else return t=Gd(n),t!==null&&$y(t),e.blockedOn=n,!1;t.shift()}return!0}function ew(e,t,n){xh(e)&&n.delete(t)}function hD(){w_=!1,Zs!==null&&xh(Zs)&&(Zs=null),Qs!==null&&xh(Qs)&&(Qs=null),Ks!==null&&xh(Ks)&&(Ks=null),td.forEach(ew),nd.forEach(ew)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,w_||(w_=!0,Ur.unstable_scheduleCallback(Ur.unstable_NormalPriority,hD)))}function rd(e){function t(i){return zl(i,e)}if(0<du.length){zl(du[0],e);for(var n=1;n<du.length;n++){var r=du[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zs!==null&&zl(Zs,e),Qs!==null&&zl(Qs,e),Ks!==null&&zl(Ks,e),td.forEach(t),nd.forEach(t),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)gk(n),n.blockedOn===null&&Os.shift()}var tl=vs.ReactCurrentBatchConfig,tg=!0;function gD(e,t,n,r){var i=Ut,s=tl.transition;tl.transition=null;try{Ut=1,Uy(e,t,n,r)}finally{Ut=i,tl.transition=s}}function pD(e,t,n,r){var i=Ut,s=tl.transition;tl.transition=null;try{Ut=4,Uy(e,t,n,r)}finally{Ut=i,tl.transition=s}}function Uy(e,t,n,r){if(tg){var i=E_(e,t,n,r);if(i===null)$m(e,t,r,ng,n),J1(e,r);else if(uD(i,e,t,n,r))r.stopPropagation();else if(J1(e,r),t&4&&-1<dD.indexOf(e)){for(;i!==null;){var s=Gd(i);if(s!==null&&ck(s),s=E_(e,t,n,r),s===null&&$m(e,t,r,ng,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $m(e,t,r,null,n)}}var ng=null;function E_(e,t,n,r){if(ng=null,e=Oy(r),e=Lo(e),e!==null)if(t=la(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ng=e,null}function pk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tD()){case By:return 1;case sk:return 4;case Jh:case nD:return 16;case ok:return 536870912;default:return 16}default:return 16}}var js=null,Vy=null,bh=null;function mk(){if(bh)return bh;var e,t=Vy,n=t.length,r,i="value"in js?js.value:js.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return bh=i.slice(e,1<r?1-r:void 0)}function wh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function tw(){return!1}function Wr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uu:tw,this.isPropagationStopped=tw,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=Wr(Tl),Vd=un({},Tl,{view:0,detail:0}),mD=Wr(Vd),Pm,Mm,Ol,yp=un({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Pm=e.screenX-Ol.screenX,Mm=e.screenY-Ol.screenY):Mm=Pm=0,Ol=e),Pm)},movementY:function(e){return"movementY"in e?e.movementY:Mm}}),nw=Wr(yp),fD=un({},yp,{dataTransfer:0}),_D=Wr(fD),yD=un({},Vd,{relatedTarget:0}),Fm=Wr(yD),vD=un({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),xD=Wr(vD),bD=un({},Tl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wD=Wr(bD),ED=un({},Tl,{data:0}),rw=Wr(ED),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CD[e])?!!t[e]:!1}function Hy(){return kD}var TD=un({},Vd,{key:function(e){if(e.key){var t=SD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hy,charCode:function(e){return e.type==="keypress"?wh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LD=Wr(TD),ND=un({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iw=Wr(ND),ID=un({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hy}),PD=Wr(ID),MD=un({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),FD=Wr(MD),RD=un({},yp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DD=Wr(RD),zD=[9,13,27,32],Wy=us&&"CompositionEvent"in window,Tc=null;us&&"documentMode"in document&&(Tc=document.documentMode);var OD=us&&"TextEvent"in window&&!Tc,fk=us&&(!Wy||Tc&&8<Tc&&11>=Tc),sw=" ",ow=!1;function _k(e,t){switch(e){case"keyup":return zD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function BD(e,t){switch(e){case"compositionend":return yk(t);case"keypress":return t.which!==32?null:(ow=!0,sw);case"textInput":return e=t.data,e===sw&&ow?null:e;default:return null}}function jD(e,t){if(Pa)return e==="compositionend"||!Wy&&_k(e,t)?(e=mk(),bh=Vy=js=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fk&&t.locale!=="ko"?null:t.data;default:return null}}var $D={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$D[e.type]:t==="textarea"}function vk(e,t,n,r){ZC(r),t=rg(t,"onChange"),0<t.length&&(n=new Gy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Lc=null,id=null;function UD(e){Nk(e,0)}function vp(e){var t=Ra(e);if(VC(t))return e}function VD(e,t){if(e==="change")return t}var xk=!1;if(us){var Rm;if(us){var Dm="oninput"in document;if(!Dm){var lw=document.createElement("div");lw.setAttribute("oninput","return;"),Dm=typeof lw.oninput=="function"}Rm=Dm}else Rm=!1;xk=Rm&&(!document.documentMode||9<document.documentMode)}function cw(){Lc&&(Lc.detachEvent("onpropertychange",bk),id=Lc=null)}function bk(e){if(e.propertyName==="value"&&vp(id)){var t=[];vk(t,id,e,Oy(e)),ek(UD,t)}}function GD(e,t,n){e==="focusin"?(cw(),Lc=t,id=n,Lc.attachEvent("onpropertychange",bk)):e==="focusout"&&cw()}function HD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vp(id)}function WD(e,t){if(e==="click")return vp(t)}function qD(e,t){if(e==="input"||e==="change")return vp(t)}function XD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ei=typeof Object.is=="function"?Object.is:XD;function sd(e,t){if(Ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!s_.call(t,i)||!Ei(e[i],t[i]))return!1}return!0}function dw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uw(e,t){var n=dw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dw(n)}}function wk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ek(){for(var e=window,t=Zh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Zh(e.document)}return t}function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YD(e){var t=Ek(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&wk(n.ownerDocument.documentElement,n)){if(r!==null&&qy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=uw(n,s);var o=uw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZD=us&&"documentMode"in document&&11>=document.documentMode,Ma=null,S_=null,Nc=null,A_=!1;function hw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A_||Ma==null||Ma!==Zh(r)||(r=Ma,"selectionStart"in r&&qy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&sd(Nc,r)||(Nc=r,r=rg(S_,"onSelect"),0<r.length&&(t=new Gy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ma)))}function hu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fa={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},zm={},Sk={};us&&(Sk=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function xp(e){if(zm[e])return zm[e];if(!Fa[e])return e;var t=Fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sk)return zm[e]=t[n];return e}var Ak=xp("animationend"),Ck=xp("animationiteration"),kk=xp("animationstart"),Tk=xp("transitionend"),Lk=new Map,gw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(e,t){Lk.set(e,t),aa(t,[e])}for(var Om=0;Om<gw.length;Om++){var Bm=gw[Om],QD=Bm.toLowerCase(),KD=Bm[0].toUpperCase()+Bm.slice(1);mo(QD,"on"+KD)}mo(Ak,"onAnimationEnd");mo(Ck,"onAnimationIteration");mo(kk,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(Tk,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function pw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q3(r,t,void 0,e),e.currentTarget=null}function Nk(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;pw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;pw(i,a,c),s=l}}}if(Kh)throw e=x_,Kh=!1,x_=null,e}function Zt(e,t){var n=t[N_];n===void 0&&(n=t[N_]=new Set);var r=e+"__bubble";n.has(r)||(Ik(t,e,2,!1),n.add(r))}function jm(e,t,n){var r=0;t&&(r|=4),Ik(n,e,r,t)}var gu="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[gu]){e[gu]=!0,OC.forEach(function(n){n!=="selectionchange"&&(JD.has(n)||jm(n,!1,e),jm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gu]||(t[gu]=!0,jm("selectionchange",!1,t))}}function Ik(e,t,n,r){switch(pk(t)){case 1:var i=gD;break;case 4:i=pD;break;default:i=Uy}n=i.bind(null,t,n,e),i=void 0,!v_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $m(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ek(function(){var c=s,d=Oy(n),u=[];e:{var h=Lk.get(e);if(h!==void 0){var g=Gy,p=e;switch(e){case"keypress":if(wh(n)===0)break e;case"keydown":case"keyup":g=LD;break;case"focusin":p="focus",g=Fm;break;case"focusout":p="blur",g=Fm;break;case"beforeblur":case"afterblur":g=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PD;break;case Ak:case Ck:case kk:g=xD;break;case Tk:g=FD;break;case"scroll":g=mD;break;case"wheel":g=DD;break;case"copy":case"cut":case"paste":g=wD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=iw}var m=(t&4)!==0,_=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var f=c,v;f!==null;){v=f;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,y!==null&&(x=ed(f,y),x!=null&&m.push(ad(f,x,v)))),_)break;f=f.return}0<m.length&&(h=new g(h,p,null,n,d),u.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==__&&(p=n.relatedTarget||n.fromElement)&&(Lo(p)||p[hs]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Lo(p):null,p!==null&&(_=la(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=nw,x="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(m=iw,x="onPointerLeave",y="onPointerEnter",f="pointer"),_=g==null?h:Ra(g),v=p==null?h:Ra(p),h=new m(x,f+"leave",g,n,d),h.target=_,h.relatedTarget=v,x=null,Lo(d)===c&&(m=new m(y,f+"enter",p,n,d),m.target=v,m.relatedTarget=_,x=m),_=x,g&&p)t:{for(m=g,y=p,f=0,v=m;v;v=va(v))f++;for(v=0,x=y;x;x=va(x))v++;for(;0<f-v;)m=va(m),f--;for(;0<v-f;)y=va(y),v--;for(;f--;){if(m===y||y!==null&&m===y.alternate)break t;m=va(m),y=va(y)}m=null}else m=null;g!==null&&mw(u,h,g,m,!1),p!==null&&_!==null&&mw(u,_,p,m,!0)}}e:{if(h=c?Ra(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=VD;else if(aw(h))if(xk)w=qD;else{w=HD;var b=GD}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=WD);if(w&&(w=w(e,c))){vk(u,w,n,d);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&h_(h,"number",h.value)}switch(b=c?Ra(c):window,e){case"focusin":(aw(b)||b.contentEditable==="true")&&(Ma=b,S_=c,Nc=null);break;case"focusout":Nc=S_=Ma=null;break;case"mousedown":A_=!0;break;case"contextmenu":case"mouseup":case"dragend":A_=!1,hw(u,n,d);break;case"selectionchange":if(ZD)break;case"keydown":case"keyup":hw(u,n,d)}var A;if(Wy)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Pa?_k(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(fk&&n.locale!=="ko"&&(Pa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Pa&&(A=mk()):(js=d,Vy="value"in js?js.value:js.textContent,Pa=!0)),b=rg(c,S),0<b.length&&(S=new rw(S,e,null,n,d),u.push({event:S,listeners:b}),A?S.data=A:(A=yk(n),A!==null&&(S.data=A)))),(A=OD?BD(e,n):jD(e,n))&&(c=rg(c,"onBeforeInput"),0<c.length&&(d=new rw("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=A))}Nk(u,t)})}function ad(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ed(e,n),s!=null&&r.unshift(ad(e,s,i)),s=ed(e,t),s!=null&&r.push(ad(e,s,i))),e=e.return}return r}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mw(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ed(n,s),l!=null&&o.unshift(ad(n,l,a))):i||(l=ed(n,s),l!=null&&o.push(ad(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e5=/\r\n?/g,t5=/\u0000|\uFFFD/g;function fw(e){return(typeof e=="string"?e:""+e).replace(e5,`
`).replace(t5,"")}function pu(e,t,n){if(t=fw(t),fw(e)!==t&&n)throw Error(Ie(425))}function ig(){}var C_=null,k_=null;function T_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var L_=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,r5=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(e){return _w.resolve(null).then(e).catch(i5)}:L_;function i5(e){setTimeout(function(){throw e})}function Um(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),rd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rd(t)}function Js(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Bi="__reactFiber$"+Ll,ld="__reactProps$"+Ll,hs="__reactContainer$"+Ll,N_="__reactEvents$"+Ll,s5="__reactListeners$"+Ll,o5="__reactHandles$"+Ll;function Lo(e){var t=e[Bi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hs]||n[Bi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yw(e);e!==null;){if(n=e[Bi])return n;e=yw(e)}return t}e=n,n=e.parentNode}return null}function Gd(e){return e=e[Bi]||e[hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ra(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function bp(e){return e[ld]||null}var I_=[],Da=-1;function fo(e){return{current:e}}function tn(e){0>Da||(e.current=I_[Da],I_[Da]=null,Da--)}function Xt(e,t){Da++,I_[Da]=e.current,e.current=t}var ao={},tr=fo(ao),Cr=fo(!1),Yo=ao;function dl(e,t){var n=e.type.contextTypes;if(!n)return ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kr(e){return e=e.childContextTypes,e!=null}function sg(){tn(Cr),tn(tr)}function vw(e,t,n){if(tr.current!==ao)throw Error(Ie(168));Xt(tr,t),Xt(Cr,n)}function Pk(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ie(108,G3(e)||"Unknown",i));return un({},n,r)}function og(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,Yo=tr.current,Xt(tr,e),Xt(Cr,Cr.current),!0}function xw(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=Pk(e,t,Yo),r.__reactInternalMemoizedMergedChildContext=e,tn(Cr),tn(tr),Xt(tr,e)):tn(Cr),Xt(Cr,n)}var Ji=null,wp=!1,Vm=!1;function Mk(e){Ji===null?Ji=[e]:Ji.push(e)}function a5(e){wp=!0,Mk(e)}function _o(){if(!Vm&&Ji!==null){Vm=!0;var e=0,t=Ut;try{var n=Ji;for(Ut=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ji=null,wp=!1}catch(i){throw Ji!==null&&(Ji=Ji.slice(e+1)),ik(By,_o),i}finally{Ut=t,Vm=!1}}return null}var za=[],Oa=0,ag=null,lg=0,ti=[],ni=0,Zo=null,ns=1,rs="";function Eo(e,t){za[Oa++]=lg,za[Oa++]=ag,ag=e,lg=t}function Fk(e,t,n){ti[ni++]=ns,ti[ni++]=rs,ti[ni++]=Zo,Zo=e;var r=ns;e=rs;var i=32-bi(r)-1;r&=~(1<<i),n+=1;var s=32-bi(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ns=1<<32-bi(t)+i|n<<i|r,rs=s+e}else ns=1<<s|n<<i|r,rs=e}function Xy(e){e.return!==null&&(Eo(e,1),Fk(e,1,0))}function Yy(e){for(;e===ag;)ag=za[--Oa],za[Oa]=null,lg=za[--Oa],za[Oa]=null;for(;e===Zo;)Zo=ti[--ni],ti[ni]=null,rs=ti[--ni],ti[ni]=null,ns=ti[--ni],ti[ni]=null}var $r=null,Br=null,on=!1,vi=null;function Rk(e,t){var n=ri(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$r=e,Br=Js(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$r=e,Br=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zo!==null?{id:ns,overflow:rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ri(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$r=e,Br=null,!0):!1;default:return!1}}function P_(e){return(e.mode&1)!==0&&(e.flags&128)===0}function M_(e){if(on){var t=Br;if(t){var n=t;if(!bw(e,t)){if(P_(e))throw Error(Ie(418));t=Js(n.nextSibling);var r=$r;t&&bw(e,t)?Rk(r,n):(e.flags=e.flags&-4097|2,on=!1,$r=e)}}else{if(P_(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,on=!1,$r=e}}}function ww(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$r=e}function mu(e){if(e!==$r)return!1;if(!on)return ww(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!T_(e.type,e.memoizedProps)),t&&(t=Br)){if(P_(e))throw Dk(),Error(Ie(418));for(;t;)Rk(e,t),t=Js(t.nextSibling)}if(ww(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Br=Js(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Br=null}}else Br=$r?Js(e.stateNode.nextSibling):null;return!0}function Dk(){for(var e=Br;e;)e=Js(e.nextSibling)}function ul(){Br=$r=null,on=!1}function Zy(e){vi===null?vi=[e]:vi.push(e)}var l5=vs.ReactCurrentBatchConfig;function fi(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var cg=fo(null),dg=null,Ba=null,Qy=null;function Ky(){Qy=Ba=dg=null}function Jy(e){var t=cg.current;tn(cg),e._currentValue=t}function F_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function nl(e,t){dg=e,Qy=Ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ar=!0),e.firstContext=null)}function oi(e){var t=e._currentValue;if(Qy!==e)if(e={context:e,memoizedValue:t,next:null},Ba===null){if(dg===null)throw Error(Ie(308));Ba=e,dg.dependencies={lanes:0,firstContext:e}}else Ba=Ba.next=e;return t}var No=null;function ev(e){No===null?No=[e]:No.push(e)}function zk(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ev(t)):(n.next=i.next,i.next=n),t.interleaved=n,gs(e,r)}function gs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fs=!1;function tv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function as(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function eo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Lt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,gs(e,n)}return i=r.interleaved,i===null?(t.next=t,ev(r)):(t.next=i.next,i.next=t),r.interleaved=t,gs(e,n)}function Eh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jy(e,n)}}function Ew(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ug(e,t,n,r){var i=e.updateQueue;Fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,g=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(g,u,h):p,h==null)break e;u=un({},u,h);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ko|=o,e.lanes=o,e.memoizedState=u}}function Sw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var Bk=new zC.Component().refs;function R_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:un({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ep={isMounted:function(e){return(e=e._reactInternals)?la(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pr(),i=no(e),s=as(r,i);s.payload=t,n!=null&&(s.callback=n),t=eo(e,s,i),t!==null&&(wi(t,e,i,r),Eh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pr(),i=no(e),s=as(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=eo(e,s,i),t!==null&&(wi(t,e,i,r),Eh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pr(),r=no(e),i=as(n,r);i.tag=2,t!=null&&(i.callback=t),t=eo(e,i,r),t!==null&&(wi(t,e,r,n),Eh(t,e,r))}};function Aw(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!sd(n,r)||!sd(i,s):!0}function jk(e,t,n){var r=!1,i=ao,s=t.contextType;return typeof s=="object"&&s!==null?s=oi(s):(i=kr(t)?Yo:tr.current,r=t.contextTypes,s=(r=r!=null)?dl(e,i):ao),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ep,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Cw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ep.enqueueReplaceState(t,t.state,null)}function D_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bk,tv(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=oi(s):(s=kr(t)?Yo:tr.current,i.context=dl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(R_(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ep.enqueueReplaceState(i,i.state,null),ug(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===Bk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function fu(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kw(e){var t=e._init;return t(e._payload)}function $k(e){function t(y,f){if(e){var v=y.deletions;v===null?(y.deletions=[f],y.flags|=16):v.push(f)}}function n(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=ro(y,f),y.index=0,y.sibling=null,y}function s(y,f,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<f?(y.flags|=2,f):v):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,f,v,x){return f===null||f.tag!==6?(f=Zm(v,y.mode,x),f.return=y,f):(f=i(f,v),f.return=y,f)}function l(y,f,v,x){var w=v.type;return w===Ia?d(y,f,v.props.children,x,v.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ms&&kw(w)===f.type)?(x=i(f,v.props),x.ref=Bl(y,f,v),x.return=y,x):(x=Lh(v.type,v.key,v.props,null,y.mode,x),x.ref=Bl(y,f,v),x.return=y,x)}function c(y,f,v,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Qm(v,y.mode,x),f.return=y,f):(f=i(f,v.children||[]),f.return=y,f)}function d(y,f,v,x,w){return f===null||f.tag!==7?(f=$o(v,y.mode,x,w),f.return=y,f):(f=i(f,v),f.return=y,f)}function u(y,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Zm(""+f,y.mode,v),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case su:return v=Lh(f.type,f.key,f.props,null,y.mode,v),v.ref=Bl(y,null,f),v.return=y,v;case Na:return f=Qm(f,y.mode,v),f.return=y,f;case Ms:var x=f._init;return u(y,x(f._payload),v)}if(sc(f)||Fl(f))return f=$o(f,y.mode,v,null),f.return=y,f;fu(y,f)}return null}function h(y,f,v,x){var w=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(y,f,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return v.key===w?l(y,f,v,x):null;case Na:return v.key===w?c(y,f,v,x):null;case Ms:return w=v._init,h(y,f,w(v._payload),x)}if(sc(v)||Fl(v))return w!==null?null:d(y,f,v,x,null);fu(y,v)}return null}function g(y,f,v,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(v)||null,a(f,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case su:return y=y.get(x.key===null?v:x.key)||null,l(f,y,x,w);case Na:return y=y.get(x.key===null?v:x.key)||null,c(f,y,x,w);case Ms:var b=x._init;return g(y,f,v,b(x._payload),w)}if(sc(x)||Fl(x))return y=y.get(v)||null,d(f,y,x,w,null);fu(f,x)}return null}function p(y,f,v,x){for(var w=null,b=null,A=f,S=f=0,k=null;A!==null&&S<v.length;S++){A.index>S?(k=A,A=null):k=A.sibling;var C=h(y,A,v[S],x);if(C===null){A===null&&(A=k);break}e&&A&&C.alternate===null&&t(y,A),f=s(C,f,S),b===null?w=C:b.sibling=C,b=C,A=k}if(S===v.length)return n(y,A),on&&Eo(y,S),w;if(A===null){for(;S<v.length;S++)A=u(y,v[S],x),A!==null&&(f=s(A,f,S),b===null?w=A:b.sibling=A,b=A);return on&&Eo(y,S),w}for(A=r(y,A);S<v.length;S++)k=g(A,y,S,v[S],x),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?S:k.key),f=s(k,f,S),b===null?w=k:b.sibling=k,b=k);return e&&A.forEach(function(N){return t(y,N)}),on&&Eo(y,S),w}function m(y,f,v,x){var w=Fl(v);if(typeof w!="function")throw Error(Ie(150));if(v=w.call(v),v==null)throw Error(Ie(151));for(var b=w=null,A=f,S=f=0,k=null,C=v.next();A!==null&&!C.done;S++,C=v.next()){A.index>S?(k=A,A=null):k=A.sibling;var N=h(y,A,C.value,x);if(N===null){A===null&&(A=k);break}e&&A&&N.alternate===null&&t(y,A),f=s(N,f,S),b===null?w=N:b.sibling=N,b=N,A=k}if(C.done)return n(y,A),on&&Eo(y,S),w;if(A===null){for(;!C.done;S++,C=v.next())C=u(y,C.value,x),C!==null&&(f=s(C,f,S),b===null?w=C:b.sibling=C,b=C);return on&&Eo(y,S),w}for(A=r(y,A);!C.done;S++,C=v.next())C=g(A,y,S,C.value,x),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?S:C.key),f=s(C,f,S),b===null?w=C:b.sibling=C,b=C);return e&&A.forEach(function(D){return t(y,D)}),on&&Eo(y,S),w}function _(y,f,v,x){if(typeof v=="object"&&v!==null&&v.type===Ia&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case su:e:{for(var w=v.key,b=f;b!==null;){if(b.key===w){if(w=v.type,w===Ia){if(b.tag===7){n(y,b.sibling),f=i(b,v.props.children),f.return=y,y=f;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ms&&kw(w)===b.type){n(y,b.sibling),f=i(b,v.props),f.ref=Bl(y,b,v),f.return=y,y=f;break e}n(y,b);break}else t(y,b);b=b.sibling}v.type===Ia?(f=$o(v.props.children,y.mode,x,v.key),f.return=y,y=f):(x=Lh(v.type,v.key,v.props,null,y.mode,x),x.ref=Bl(y,f,v),x.return=y,y=x)}return o(y);case Na:e:{for(b=v.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(y,f.sibling),f=i(f,v.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else t(y,f);f=f.sibling}f=Qm(v,y.mode,x),f.return=y,y=f}return o(y);case Ms:return b=v._init,_(y,f,b(v._payload),x)}if(sc(v))return p(y,f,v,x);if(Fl(v))return m(y,f,v,x);fu(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(y,f.sibling),f=i(f,v),f.return=y,y=f):(n(y,f),f=Zm(v,y.mode,x),f.return=y,y=f),o(y)):n(y,f)}return _}var hl=$k(!0),Uk=$k(!1),Hd={},Vi=fo(Hd),cd=fo(Hd),dd=fo(Hd);function Io(e){if(e===Hd)throw Error(Ie(174));return e}function nv(e,t){switch(Xt(dd,t),Xt(cd,e),Xt(Vi,Hd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p_(t,e)}tn(Vi),Xt(Vi,t)}function gl(){tn(Vi),tn(cd),tn(dd)}function Vk(e){Io(dd.current);var t=Io(Vi.current),n=p_(t,e.type);t!==n&&(Xt(cd,e),Xt(Vi,n))}function rv(e){cd.current===e&&(tn(Vi),tn(cd))}var cn=fo(0);function hg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gm=[];function iv(){for(var e=0;e<Gm.length;e++)Gm[e]._workInProgressVersionPrimary=null;Gm.length=0}var Sh=vs.ReactCurrentDispatcher,Hm=vs.ReactCurrentBatchConfig,Qo=0,dn=null,Sn=null,Pn=null,gg=!1,Ic=!1,ud=0,c5=0;function qn(){throw Error(Ie(321))}function sv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ei(e[n],t[n]))return!1;return!0}function ov(e,t,n,r,i,s){if(Qo=s,dn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sh.current=e===null||e.memoizedState===null?g5:p5,e=n(r,i),Ic){s=0;do{if(Ic=!1,ud=0,25<=s)throw Error(Ie(301));s+=1,Pn=Sn=null,t.updateQueue=null,Sh.current=m5,e=n(r,i)}while(Ic)}if(Sh.current=pg,t=Sn!==null&&Sn.next!==null,Qo=0,Pn=Sn=dn=null,gg=!1,t)throw Error(Ie(300));return e}function av(){var e=ud!==0;return ud=0,e}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?dn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function ai(){if(Sn===null){var e=dn.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Pn===null?dn.memoizedState:Pn.next;if(t!==null)Pn=t,Sn=e;else{if(e===null)throw Error(Ie(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Pn===null?dn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function hd(e,t){return typeof t=="function"?t(e):t}function Wm(e){var t=ai(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=Sn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Qo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,dn.lanes|=d,Ko|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ei(r,t.memoizedState)||(Ar=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,dn.lanes|=s,Ko|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qm(e){var t=ai(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ei(s,t.memoizedState)||(Ar=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gk(){}function Hk(e,t){var n=dn,r=ai(),i=t(),s=!Ei(r.memoizedState,i);if(s&&(r.memoizedState=i,Ar=!0),r=r.queue,lv(Xk.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,gd(9,qk.bind(null,n,r,i,t),void 0,null),Mn===null)throw Error(Ie(349));Qo&30||Wk(n,t,i)}return i}function Wk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qk(e,t,n,r){t.value=n,t.getSnapshot=r,Yk(t)&&Zk(e)}function Xk(e,t,n){return n(function(){Yk(t)&&Zk(e)})}function Yk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ei(e,n)}catch{return!0}}function Zk(e){var t=gs(e,1);t!==null&&wi(t,e,1,-1)}function Tw(e){var t=Di();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:e},t.queue=e,e=e.dispatch=h5.bind(null,dn,e),[t.memoizedState,e]}function gd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dn.updateQueue,t===null?(t={lastEffect:null,stores:null},dn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qk(){return ai().memoizedState}function Ah(e,t,n,r){var i=Di();dn.flags|=e,i.memoizedState=gd(1|t,n,void 0,r===void 0?null:r)}function Sp(e,t,n,r){var i=ai();r=r===void 0?null:r;var s=void 0;if(Sn!==null){var o=Sn.memoizedState;if(s=o.destroy,r!==null&&sv(r,o.deps)){i.memoizedState=gd(t,n,s,r);return}}dn.flags|=e,i.memoizedState=gd(1|t,n,s,r)}function Lw(e,t){return Ah(8390656,8,e,t)}function lv(e,t){return Sp(2048,8,e,t)}function Kk(e,t){return Sp(4,2,e,t)}function Jk(e,t){return Sp(4,4,e,t)}function eT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tT(e,t,n){return n=n!=null?n.concat([e]):null,Sp(4,4,eT.bind(null,t,e),n)}function cv(){}function nT(e,t){var n=ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rT(e,t){var n=ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iT(e,t,n){return Qo&21?(Ei(n,t)||(n=ak(),dn.lanes|=n,Ko|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ar=!0),e.memoizedState=n)}function d5(e,t){var n=Ut;Ut=n!==0&&4>n?n:4,e(!0);var r=Hm.transition;Hm.transition={};try{e(!1),t()}finally{Ut=n,Hm.transition=r}}function sT(){return ai().memoizedState}function u5(e,t,n){var r=no(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oT(e))aT(t,n);else if(n=zk(e,t,n,r),n!==null){var i=pr();wi(n,e,r,i),lT(n,t,r)}}function h5(e,t,n){var r=no(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oT(e))aT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ei(a,o)){var l=t.interleaved;l===null?(i.next=i,ev(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=zk(e,t,i,r),n!==null&&(i=pr(),wi(n,e,r,i),lT(n,t,r))}}function oT(e){var t=e.alternate;return e===dn||t!==null&&t===dn}function aT(e,t){Ic=gg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jy(e,n)}}var pg={readContext:oi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},g5={readContext:oi,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:oi,useEffect:Lw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ah(4194308,4,eT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ah(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ah(4,2,e,t)},useMemo:function(e,t){var n=Di();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Di();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u5.bind(null,dn,e),[r.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:Tw,useDebugValue:cv,useDeferredValue:function(e){return Di().memoizedState=e},useTransition:function(){var e=Tw(!1),t=e[0];return e=d5.bind(null,e[1]),Di().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dn,i=Di();if(on){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),Mn===null)throw Error(Ie(349));Qo&30||Wk(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Lw(Xk.bind(null,r,s,e),[e]),r.flags|=2048,gd(9,qk.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Di(),t=Mn.identifierPrefix;if(on){var n=rs,r=ns;n=(r&~(1<<32-bi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ud++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p5={readContext:oi,useCallback:nT,useContext:oi,useEffect:lv,useImperativeHandle:tT,useInsertionEffect:Kk,useLayoutEffect:Jk,useMemo:rT,useReducer:Wm,useRef:Qk,useState:function(){return Wm(hd)},useDebugValue:cv,useDeferredValue:function(e){var t=ai();return iT(t,Sn.memoizedState,e)},useTransition:function(){var e=Wm(hd)[0],t=ai().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Hk,useId:sT,unstable_isNewReconciler:!1},m5={readContext:oi,useCallback:nT,useContext:oi,useEffect:lv,useImperativeHandle:tT,useInsertionEffect:Kk,useLayoutEffect:Jk,useMemo:rT,useReducer:qm,useRef:Qk,useState:function(){return qm(hd)},useDebugValue:cv,useDeferredValue:function(e){var t=ai();return Sn===null?t.memoizedState=e:iT(t,Sn.memoizedState,e)},useTransition:function(){var e=qm(hd)[0],t=ai().memoizedState;return[e,t]},useMutableSource:Gk,useSyncExternalStore:Hk,useId:sT,unstable_isNewReconciler:!1};function pl(e,t){try{var n="",r=t;do n+=V3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Xm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function z_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var f5=typeof WeakMap=="function"?WeakMap:Map;function cT(e,t,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fg||(fg=!0,q_=r),z_(e,t)},n}function dT(e,t,n){n=as(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){z_(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){z_(e,t),typeof r!="function"&&(to===null?to=new Set([this]):to.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Nw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new f5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=N5.bind(null,e,t,n),t.then(e,e))}function Iw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=as(-1,1),t.tag=2,eo(n,t,1))),n.lanes|=1),e)}var _5=vs.ReactCurrentOwner,Ar=!1;function dr(e,t,n,r){t.child=e===null?Uk(t,null,n,r):hl(t,e.child,n,r)}function Mw(e,t,n,r,i){n=n.render;var s=t.ref;return nl(t,i),r=ov(e,t,n,r,s,i),n=av(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ps(e,t,i)):(on&&n&&Xy(t),t.flags|=1,dr(e,t,r,i),t.child)}function Fw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_v(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,uT(e,t,s,r,i)):(e=Lh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sd,n(o,r)&&e.ref===t.ref)return ps(e,t,i)}return t.flags|=1,e=ro(s,r),e.ref=t.ref,e.return=t,t.child=e}function uT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(sd(s,r)&&e.ref===t.ref)if(Ar=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ar=!0);else return t.lanes=e.lanes,ps(e,t,i)}return O_(e,t,n,r,i)}function hT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt($a,Fr),Fr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt($a,Fr),Fr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xt($a,Fr),Fr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Xt($a,Fr),Fr|=r;return dr(e,t,i,n),t.child}function gT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O_(e,t,n,r,i){var s=kr(n)?Yo:tr.current;return s=dl(t,s),nl(t,i),n=ov(e,t,n,r,s,i),r=av(),e!==null&&!Ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ps(e,t,i)):(on&&r&&Xy(t),t.flags|=1,dr(e,t,n,i),t.child)}function Rw(e,t,n,r,i){if(kr(n)){var s=!0;og(t)}else s=!1;if(nl(t,i),t.stateNode===null)Ch(e,t),jk(t,n,r),D_(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=oi(c):(c=kr(n)?Yo:tr.current,c=dl(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Cw(t,o,r,c),Fs=!1;var h=t.memoizedState;o.state=h,ug(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Cr.current||Fs?(typeof d=="function"&&(R_(t,n,d,r),l=t.memoizedState),(a=Fs||Aw(t,n,a,r,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ok(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:fi(t.type,a),o.props=c,u=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=oi(l):(l=kr(n)?Yo:tr.current,l=dl(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Cw(t,o,r,l),Fs=!1,h=t.memoizedState,o.state=h,ug(t,r,o,i);var p=t.memoizedState;a!==u||h!==p||Cr.current||Fs?(typeof g=="function"&&(R_(t,n,g,r),p=t.memoizedState),(c=Fs||Aw(t,n,c,r,h,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return B_(e,t,n,r,s,i)}function B_(e,t,n,r,i,s){gT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&xw(t,n,!1),ps(e,t,s);r=t.stateNode,_5.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hl(t,e.child,null,s),t.child=hl(t,null,a,s)):dr(e,t,a,s),t.memoizedState=r.state,i&&xw(t,n,!0),t.child}function pT(e){var t=e.stateNode;t.pendingContext?vw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vw(e,t.context,!1),nv(e,t.containerInfo)}function Dw(e,t,n,r,i){return ul(),Zy(i),t.flags|=256,dr(e,t,n,r),t.child}var j_={dehydrated:null,treeContext:null,retryLane:0};function $_(e){return{baseLanes:e,cachePool:null,transitions:null}}function mT(e,t,n){var r=t.pendingProps,i=cn.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xt(cn,i&1),e===null)return M_(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=kp(o,r,0,null),e=$o(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=$_(n),t.memoizedState=j_,e):dv(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return y5(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ro(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ro(a,s):(s=$o(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?$_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=j_,r}return s=e.child,e=s.sibling,r=ro(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dv(e,t){return t=kp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _u(e,t,n,r){return r!==null&&Zy(r),hl(t,e.child,null,n),e=dv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y5(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Xm(Error(Ie(422))),_u(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=kp({mode:"visible",children:r.children},i,0,null),s=$o(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&hl(t,e.child,null,o),t.child.memoizedState=$_(o),t.memoizedState=j_,s);if(!(t.mode&1))return _u(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=Xm(s,r,void 0),_u(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ar||a){if(r=Mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gs(e,i),wi(r,e,i,-1))}return fv(),r=Xm(Error(Ie(421))),_u(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=I5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Br=Js(i.nextSibling),$r=t,on=!0,vi=null,e!==null&&(ti[ni++]=ns,ti[ni++]=rs,ti[ni++]=Zo,ns=e.id,rs=e.overflow,Zo=t),t=dv(t,r.children),t.flags|=4096,t)}function zw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),F_(e.return,t,n)}function Ym(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(dr(e,t,r.children,n),r=cn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zw(e,n,t);else if(e.tag===19)zw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(cn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ym(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ym(t,!0,n,null,s);break;case"together":Ym(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ch(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,n=ro(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ro(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v5(e,t,n){switch(t.tag){case 3:pT(t),ul();break;case 5:Vk(t);break;case 1:kr(t.type)&&og(t);break;case 4:nv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xt(cg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(cn,cn.current&1),t.flags|=128,null):n&t.child.childLanes?mT(e,t,n):(Xt(cn,cn.current&1),e=ps(e,t,n),e!==null?e.sibling:null);Xt(cn,cn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(cn,cn.current),r)break;return null;case 22:case 23:return t.lanes=0,hT(e,t,n)}return ps(e,t,n)}var _T,U_,yT,vT;_T=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};U_=function(){};yT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Io(Vi.current);var s=null;switch(n){case"input":i=d_(e,i),r=d_(e,r),s=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),s=[];break;case"textarea":i=g_(e,i),r=g_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ig)}m_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};vT=function(e,t,n,r){n!==r&&(t.flags|=4)};function jl(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x5(e,t,n){var r=t.pendingProps;switch(Yy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(t),null;case 1:return kr(t.type)&&sg(),Xn(t),null;case 3:return r=t.stateNode,gl(),tn(Cr),tn(tr),iv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vi!==null&&(Z_(vi),vi=null))),U_(e,t),Xn(t),null;case 5:rv(t);var i=Io(dd.current);if(n=t.type,e!==null&&t.stateNode!=null)yT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return Xn(t),null}if(e=Io(Vi.current),mu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Bi]=t,r[ld]=s,e=(t.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<ac.length;i++)Zt(ac[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":W1(r,s),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",r);break;case"textarea":X1(r,s),Zt("invalid",r)}m_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,e),i=["children",""+a]):Kc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Zt("scroll",r)}switch(n){case"input":ou(r),q1(r,s,!0);break;case"textarea":ou(r),Y1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ig)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Bi]=t,e[ld]=r,_T(e,t,!1,!1),t.stateNode=e;e:{switch(o=f_(n,r),n){case"dialog":Zt("cancel",e),Zt("close",e),i=r;break;case"iframe":case"object":case"embed":Zt("load",e),i=r;break;case"video":case"audio":for(i=0;i<ac.length;i++)Zt(ac[i],e);i=r;break;case"source":Zt("error",e),i=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),i=r;break;case"details":Zt("toggle",e),i=r;break;case"input":W1(e,r),i=d_(e,r),Zt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Zt("invalid",e);break;case"textarea":X1(e,r),i=g_(e,r),Zt("invalid",e);break;default:i=r}m_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qC(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jc(e,l):typeof l=="number"&&Jc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",e):l!=null&&Fy(e,s,l,o))}switch(n){case"input":ou(e),q1(e,r,!1);break;case"textarea":ou(e),Y1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ka(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ka(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ig)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xn(t),null;case 6:if(e&&t.stateNode!=null)vT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=Io(dd.current),Io(Vi.current),mu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Bi]=t,(s=r.nodeValue!==n)&&(e=$r,e!==null))switch(e.tag){case 3:pu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bi]=t,t.stateNode=r}return Xn(t),null;case 13:if(tn(cn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&Br!==null&&t.mode&1&&!(t.flags&128))Dk(),ul(),t.flags|=98560,s=!1;else if(s=mu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ie(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[Bi]=t}else ul(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xn(t),s=!1}else vi!==null&&(Z_(vi),vi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cn.current&1?kn===0&&(kn=3):fv())),t.updateQueue!==null&&(t.flags|=4),Xn(t),null);case 4:return gl(),U_(e,t),e===null&&od(t.stateNode.containerInfo),Xn(t),null;case 10:return Jy(t.type._context),Xn(t),null;case 17:return kr(t.type)&&sg(),Xn(t),null;case 19:if(tn(cn),s=t.memoizedState,s===null)return Xn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)jl(s,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hg(e),o!==null){for(t.flags|=128,jl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(cn,cn.current&1|2),t.child}e=e.sibling}s.tail!==null&&fn()>ml&&(t.flags|=128,r=!0,jl(s,!1),t.lanes=4194304)}else{if(!r)if(e=hg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!on)return Xn(t),null}else 2*fn()-s.renderingStartTime>ml&&n!==1073741824&&(t.flags|=128,r=!0,jl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=fn(),t.sibling=null,n=cn.current,Xt(cn,r?n&1|2:n&1),t):(Xn(t),null);case 22:case 23:return mv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fr&1073741824&&(Xn(t),t.subtreeFlags&6&&(t.flags|=8192)):Xn(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function b5(e,t){switch(Yy(t),t.tag){case 1:return kr(t.type)&&sg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gl(),tn(Cr),tn(tr),iv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return rv(t),null;case 13:if(tn(cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));ul()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(cn),null;case 4:return gl(),null;case 10:return Jy(t.type._context),null;case 22:case 23:return mv(),null;case 24:return null;default:return null}}var yu=!1,Jn=!1,w5=typeof WeakSet=="function"?WeakSet:Set,We=null;function ja(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){mn(e,t,r)}else n.current=null}function V_(e,t,n){try{n()}catch(r){mn(e,t,r)}}var Ow=!1;function E5(e,t){if(C_=tg,e=Ek(),qy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var g;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(k_={focusedElem:e,selectionRange:n},tg=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,_=p.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:fi(t.type,m),_);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(x){mn(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return p=Ow,Ow=!1,p}function Pc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&V_(t,n,s)}i=i.next}while(i!==r)}}function Ap(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function G_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xT(e){var t=e.alternate;t!==null&&(e.alternate=null,xT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bi],delete t[ld],delete t[N_],delete t[s5],delete t[o5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bT(e){return e.tag===5||e.tag===3||e.tag===4}function Bw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function H_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ig));else if(r!==4&&(e=e.child,e!==null))for(H_(e,t,n),e=e.sibling;e!==null;)H_(e,t,n),e=e.sibling}function W_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(W_(e,t,n),e=e.sibling;e!==null;)W_(e,t,n),e=e.sibling}var zn=null,_i=!1;function Ss(e,t,n){for(n=n.child;n!==null;)wT(e,t,n),n=n.sibling}function wT(e,t,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(_p,n)}catch{}switch(n.tag){case 5:Jn||ja(n,t);case 6:var r=zn,i=_i;zn=null,Ss(e,t,n),zn=r,_i=i,zn!==null&&(_i?(e=zn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zn.removeChild(n.stateNode));break;case 18:zn!==null&&(_i?(e=zn,n=n.stateNode,e.nodeType===8?Um(e.parentNode,n):e.nodeType===1&&Um(e,n),rd(e)):Um(zn,n.stateNode));break;case 4:r=zn,i=_i,zn=n.stateNode.containerInfo,_i=!0,Ss(e,t,n),zn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&V_(n,t,o),i=i.next}while(i!==r)}Ss(e,t,n);break;case 1:if(!Jn&&(ja(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){mn(n,t,a)}Ss(e,t,n);break;case 21:Ss(e,t,n);break;case 22:n.mode&1?(Jn=(r=Jn)||n.memoizedState!==null,Ss(e,t,n),Jn=r):Ss(e,t,n);break;default:Ss(e,t,n)}}function jw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w5),t.forEach(function(r){var i=P5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:zn=a.stateNode,_i=!1;break e;case 3:zn=a.stateNode.containerInfo,_i=!0;break e;case 4:zn=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(zn===null)throw Error(Ie(160));wT(s,o,i),zn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){mn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ET(t,e),t=t.sibling}function ET(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gi(t,e),Ii(e),r&4){try{Pc(3,e,e.return),Ap(3,e)}catch(m){mn(e,e.return,m)}try{Pc(5,e,e.return)}catch(m){mn(e,e.return,m)}}break;case 1:gi(t,e),Ii(e),r&512&&n!==null&&ja(n,n.return);break;case 5:if(gi(t,e),Ii(e),r&512&&n!==null&&ja(n,n.return),e.flags&32){var i=e.stateNode;try{Jc(i,"")}catch(m){mn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&GC(i,s),f_(a,o);var c=f_(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?YC(i,u):d==="dangerouslySetInnerHTML"?qC(i,u):d==="children"?Jc(i,u):Fy(i,d,u,c)}switch(a){case"input":u_(i,s);break;case"textarea":HC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ka(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ka(i,!!s.multiple,s.defaultValue,!0):Ka(i,!!s.multiple,s.multiple?[]:"",!1))}i[ld]=s}catch(m){mn(e,e.return,m)}}break;case 6:if(gi(t,e),Ii(e),r&4){if(e.stateNode===null)throw Error(Ie(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){mn(e,e.return,m)}}break;case 3:if(gi(t,e),Ii(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rd(t.containerInfo)}catch(m){mn(e,e.return,m)}break;case 4:gi(t,e),Ii(e);break;case 13:gi(t,e),Ii(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gv=fn())),r&4&&jw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Jn=(c=Jn)||d,gi(t,e),Jn=c):gi(t,e),Ii(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(We=e,d=e.child;d!==null;){for(u=We=d;We!==null;){switch(h=We,g=h.child,h.tag){case 0:case 11:case 14:case 15:Pc(4,h,h.return);break;case 1:ja(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){mn(r,n,m)}}break;case 5:ja(h,h.return);break;case 22:if(h.memoizedState!==null){Uw(u);continue}}g!==null?(g.return=h,We=g):Uw(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=XC("display",o))}catch(m){mn(e,e.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){mn(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:gi(t,e),Ii(e),r&4&&jw(e);break;case 21:break;default:gi(t,e),Ii(e)}}function Ii(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bT(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jc(i,""),r.flags&=-33);var s=Bw(e);W_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bw(e);H_(e,a,o);break;default:throw Error(Ie(161))}}catch(l){mn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S5(e,t,n){We=e,ST(e)}function ST(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=yu;var c=Jn;if(yu=o,(Jn=l)&&!c)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?Vw(i):l!==null?(l.return=o,We=l):Vw(i);for(;s!==null;)We=s,ST(s),s=s.sibling;We=i,yu=a,Jn=c}$w(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):$w(e)}}function $w(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jn||Ap(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:fi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Sw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&rd(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Jn||t.flags&512&&G_(t)}catch(h){mn(t,t.return,h)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function Uw(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function Vw(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ap(4,t)}catch(l){mn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){mn(t,i,l)}}var s=t.return;try{G_(t)}catch(l){mn(t,s,l)}break;case 5:var o=t.return;try{G_(t)}catch(l){mn(t,o,l)}}}catch(l){mn(t,t.return,l)}if(t===e){We=null;break}var a=t.sibling;if(a!==null){a.return=t.return,We=a;break}We=t.return}}var A5=Math.ceil,mg=vs.ReactCurrentDispatcher,uv=vs.ReactCurrentOwner,si=vs.ReactCurrentBatchConfig,Lt=0,Mn=null,wn=null,jn=0,Fr=0,$a=fo(0),kn=0,pd=null,Ko=0,Cp=0,hv=0,Mc=null,Sr=null,gv=0,ml=1/0,Ki=null,fg=!1,q_=null,to=null,vu=!1,$s=null,_g=0,Fc=0,X_=null,kh=-1,Th=0;function pr(){return Lt&6?fn():kh!==-1?kh:kh=fn()}function no(e){return e.mode&1?Lt&2&&jn!==0?jn&-jn:l5.transition!==null?(Th===0&&(Th=ak()),Th):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:pk(e.type)),e):1}function wi(e,t,n,r){if(50<Fc)throw Fc=0,X_=null,Error(Ie(185));Ud(e,n,r),(!(Lt&2)||e!==Mn)&&(e===Mn&&(!(Lt&2)&&(Cp|=n),kn===4&&Bs(e,jn)),Tr(e,r),n===1&&Lt===0&&!(t.mode&1)&&(ml=fn()+500,wp&&_o()))}function Tr(e,t){var n=e.callbackNode;lD(e,t);var r=eg(e,e===Mn?jn:0);if(r===0)n!==null&&K1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&K1(n),t===1)e.tag===0?a5(Gw.bind(null,e)):Mk(Gw.bind(null,e)),r5(function(){!(Lt&6)&&_o()}),n=null;else{switch(lk(r)){case 1:n=By;break;case 4:n=sk;break;case 16:n=Jh;break;case 536870912:n=ok;break;default:n=Jh}n=PT(n,AT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AT(e,t){if(kh=-1,Th=0,Lt&6)throw Error(Ie(327));var n=e.callbackNode;if(rl()&&e.callbackNode!==n)return null;var r=eg(e,e===Mn?jn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yg(e,r);else{t=r;var i=Lt;Lt|=2;var s=kT();(Mn!==e||jn!==t)&&(Ki=null,ml=fn()+500,jo(e,t));do try{T5();break}catch(a){CT(e,a)}while(!0);Ky(),mg.current=s,Lt=i,wn!==null?t=0:(Mn=null,jn=0,t=kn)}if(t!==0){if(t===2&&(i=b_(e),i!==0&&(r=i,t=Y_(e,i))),t===1)throw n=pd,jo(e,0),Bs(e,r),Tr(e,fn()),n;if(t===6)Bs(e,r);else{if(i=e.current.alternate,!(r&30)&&!C5(i)&&(t=yg(e,r),t===2&&(s=b_(e),s!==0&&(r=s,t=Y_(e,s))),t===1))throw n=pd,jo(e,0),Bs(e,r),Tr(e,fn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:So(e,Sr,Ki);break;case 3:if(Bs(e,r),(r&130023424)===r&&(t=gv+500-fn(),10<t)){if(eg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=L_(So.bind(null,e,Sr,Ki),t);break}So(e,Sr,Ki);break;case 4:if(Bs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-bi(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A5(r/1960))-r,10<r){e.timeoutHandle=L_(So.bind(null,e,Sr,Ki),r);break}So(e,Sr,Ki);break;case 5:So(e,Sr,Ki);break;default:throw Error(Ie(329))}}}return Tr(e,fn()),e.callbackNode===n?AT.bind(null,e):null}function Y_(e,t){var n=Mc;return e.current.memoizedState.isDehydrated&&(jo(e,t).flags|=256),e=yg(e,t),e!==2&&(t=Sr,Sr=n,t!==null&&Z_(t)),e}function Z_(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function C5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ei(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bs(e,t){for(t&=~hv,t&=~Cp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bi(t),r=1<<n;e[n]=-1,t&=~r}}function Gw(e){if(Lt&6)throw Error(Ie(327));rl();var t=eg(e,0);if(!(t&1))return Tr(e,fn()),null;var n=yg(e,t);if(e.tag!==0&&n===2){var r=b_(e);r!==0&&(t=r,n=Y_(e,r))}if(n===1)throw n=pd,jo(e,0),Bs(e,t),Tr(e,fn()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,So(e,Sr,Ki),Tr(e,fn()),null}function pv(e,t){var n=Lt;Lt|=1;try{return e(t)}finally{Lt=n,Lt===0&&(ml=fn()+500,wp&&_o())}}function Jo(e){$s!==null&&$s.tag===0&&!(Lt&6)&&rl();var t=Lt;Lt|=1;var n=si.transition,r=Ut;try{if(si.transition=null,Ut=1,e)return e()}finally{Ut=r,si.transition=n,Lt=t,!(Lt&6)&&_o()}}function mv(){Fr=$a.current,tn($a)}function jo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n5(n)),wn!==null)for(n=wn.return;n!==null;){var r=n;switch(Yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sg();break;case 3:gl(),tn(Cr),tn(tr),iv();break;case 5:rv(r);break;case 4:gl();break;case 13:tn(cn);break;case 19:tn(cn);break;case 10:Jy(r.type._context);break;case 22:case 23:mv()}n=n.return}if(Mn=e,wn=e=ro(e.current,null),jn=Fr=t,kn=0,pd=null,hv=Cp=Ko=0,Sr=Mc=null,No!==null){for(t=0;t<No.length;t++)if(n=No[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}No=null}return e}function CT(e,t){do{var n=wn;try{if(Ky(),Sh.current=pg,gg){for(var r=dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gg=!1}if(Qo=0,Pn=Sn=dn=null,Ic=!1,ud=0,uv.current=null,n===null||n.return===null){kn=1,pd=t,wn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Iw(o);if(g!==null){g.flags&=-257,Pw(g,o,a,s,t),g.mode&1&&Nw(s,c,t),t=g,l=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){Nw(s,c,t),fv();break e}l=Error(Ie(426))}}else if(on&&a.mode&1){var _=Iw(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Pw(_,o,a,s,t),Zy(pl(l,a));break e}}s=l=pl(l,a),kn!==4&&(kn=2),Mc===null?Mc=[s]:Mc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=cT(s,l,t);Ew(s,y);break e;case 1:a=l;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(to===null||!to.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=dT(s,a,t);Ew(s,x);break e}}s=s.return}while(s!==null)}LT(n)}catch(w){t=w,wn===n&&n!==null&&(wn=n=n.return);continue}break}while(!0)}function kT(){var e=mg.current;return mg.current=pg,e===null?pg:e}function fv(){(kn===0||kn===3||kn===2)&&(kn=4),Mn===null||!(Ko&268435455)&&!(Cp&268435455)||Bs(Mn,jn)}function yg(e,t){var n=Lt;Lt|=2;var r=kT();(Mn!==e||jn!==t)&&(Ki=null,jo(e,t));do try{k5();break}catch(i){CT(e,i)}while(!0);if(Ky(),Lt=n,mg.current=r,wn!==null)throw Error(Ie(261));return Mn=null,jn=0,kn}function k5(){for(;wn!==null;)TT(wn)}function T5(){for(;wn!==null&&!J3();)TT(wn)}function TT(e){var t=IT(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?LT(e):wn=t,uv.current=null}function LT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=b5(n,t),n!==null){n.flags&=32767,wn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,wn=null;return}}else if(n=x5(n,t,Fr),n!==null){wn=n;return}if(t=t.sibling,t!==null){wn=t;return}wn=t=e}while(t!==null);kn===0&&(kn=5)}function So(e,t,n){var r=Ut,i=si.transition;try{si.transition=null,Ut=1,L5(e,t,n,r)}finally{si.transition=i,Ut=r}return null}function L5(e,t,n,r){do rl();while($s!==null);if(Lt&6)throw Error(Ie(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cD(e,s),e===Mn&&(wn=Mn=null,jn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,PT(Jh,function(){return rl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=si.transition,si.transition=null;var o=Ut;Ut=1;var a=Lt;Lt|=4,uv.current=null,E5(e,n),ET(n,e),YD(k_),tg=!!C_,k_=C_=null,e.current=n,S5(n),eD(),Lt=a,Ut=o,si.transition=s}else e.current=n;if(vu&&(vu=!1,$s=e,_g=i),s=e.pendingLanes,s===0&&(to=null),rD(n.stateNode),Tr(e,fn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fg)throw fg=!1,e=q_,q_=null,e;return _g&1&&e.tag!==0&&rl(),s=e.pendingLanes,s&1?e===X_?Fc++:(Fc=0,X_=e):Fc=0,_o(),null}function rl(){if($s!==null){var e=lk(_g),t=si.transition,n=Ut;try{if(si.transition=null,Ut=16>e?16:e,$s===null)var r=!1;else{if(e=$s,$s=null,_g=0,Lt&6)throw Error(Ie(331));var i=Lt;for(Lt|=4,We=e.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(We=c;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:Pc(8,d,s)}var u=d.child;if(u!==null)u.return=d,We=u;else for(;We!==null;){d=We;var h=d.sibling,g=d.return;if(xT(d),d===c){We=null;break}if(h!==null){h.return=g,We=h;break}We=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,We=y;break e}We=s.return}}var f=e.current;for(We=f;We!==null;){o=We;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,We=v;else e:for(o=f;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ap(9,a)}}catch(w){mn(a,a.return,w)}if(a===o){We=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,We=x;break e}We=a.return}}if(Lt=i,_o(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(_p,e)}catch{}r=!0}return r}finally{Ut=n,si.transition=t}}return!1}function Hw(e,t,n){t=pl(n,t),t=cT(e,t,1),e=eo(e,t,1),t=pr(),e!==null&&(Ud(e,1,t),Tr(e,t))}function mn(e,t,n){if(e.tag===3)Hw(e,e,n);else for(;t!==null;){if(t.tag===3){Hw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(to===null||!to.has(r))){e=pl(n,e),e=dT(t,e,1),t=eo(t,e,1),e=pr(),t!==null&&(Ud(t,1,e),Tr(t,e));break}}t=t.return}}function N5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pr(),e.pingedLanes|=e.suspendedLanes&n,Mn===e&&(jn&n)===n&&(kn===4||kn===3&&(jn&130023424)===jn&&500>fn()-gv?jo(e,0):hv|=n),Tr(e,t)}function NT(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var n=pr();e=gs(e,t),e!==null&&(Ud(e,t,n),Tr(e,n))}function I5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),NT(e,n)}function P5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),NT(e,n)}var IT;IT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Ar=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ar=!1,v5(e,t,n);Ar=!!(e.flags&131072)}else Ar=!1,on&&t.flags&1048576&&Fk(t,lg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ch(e,t),e=t.pendingProps;var i=dl(t,tr.current);nl(t,n),i=ov(null,t,r,e,i,n);var s=av();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kr(r)?(s=!0,og(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tv(t),i.updater=Ep,t.stateNode=i,i._reactInternals=t,D_(t,r,e,n),t=B_(null,t,r,!0,s,n)):(t.tag=0,on&&s&&Xy(t),dr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ch(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=F5(r),e=fi(r,e),i){case 0:t=O_(null,t,r,e,n);break e;case 1:t=Rw(null,t,r,e,n);break e;case 11:t=Mw(null,t,r,e,n);break e;case 14:t=Fw(null,t,r,fi(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),O_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),Rw(e,t,r,i,n);case 3:e:{if(pT(t),e===null)throw Error(Ie(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ok(e,t),ug(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=pl(Error(Ie(423)),t),t=Dw(e,t,r,n,i);break e}else if(r!==i){i=pl(Error(Ie(424)),t),t=Dw(e,t,r,n,i);break e}else for(Br=Js(t.stateNode.containerInfo.firstChild),$r=t,on=!0,vi=null,n=Uk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ul(),r===i){t=ps(e,t,n);break e}dr(e,t,r,n)}t=t.child}return t;case 5:return Vk(t),e===null&&M_(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,T_(r,i)?o=null:s!==null&&T_(r,s)&&(t.flags|=32),gT(e,t),dr(e,t,o,n),t.child;case 6:return e===null&&M_(t),null;case 13:return mT(e,t,n);case 4:return nv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hl(t,null,r,n):dr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),Mw(e,t,r,i,n);case 7:return dr(e,t,t.pendingProps,n),t.child;case 8:return dr(e,t,t.pendingProps.children,n),t.child;case 12:return dr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Xt(cg,r._currentValue),r._currentValue=o,s!==null)if(Ei(s.value,o)){if(s.children===i.children&&!Cr.current){t=ps(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=as(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),F_(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F_(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,nl(t,n),i=oi(i),r=r(i),t.flags|=1,dr(e,t,r,n),t.child;case 14:return r=t.type,i=fi(r,t.pendingProps),i=fi(r.type,i),Fw(e,t,r,i,n);case 15:return uT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:fi(r,i),Ch(e,t),t.tag=1,kr(r)?(e=!0,og(t)):e=!1,nl(t,n),jk(t,r,i),D_(t,r,i,n),B_(null,t,r,!0,e,n);case 19:return fT(e,t,n);case 22:return hT(e,t,n)}throw Error(Ie(156,t.tag))};function PT(e,t){return ik(e,t)}function M5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,n,r){return new M5(e,t,n,r)}function _v(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F5(e){if(typeof e=="function")return _v(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dy)return 11;if(e===zy)return 14}return 2}function ro(e,t){var n=e.alternate;return n===null?(n=ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")_v(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ia:return $o(n.children,i,s,t);case Ry:o=8,i|=8;break;case o_:return e=ri(12,n,t,i|2),e.elementType=o_,e.lanes=s,e;case a_:return e=ri(13,n,t,i),e.elementType=a_,e.lanes=s,e;case l_:return e=ri(19,n,t,i),e.elementType=l_,e.lanes=s,e;case $C:return kp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BC:o=10;break e;case jC:o=9;break e;case Dy:o=11;break e;case zy:o=14;break e;case Ms:o=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=ri(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $o(e,t,n,r){return e=ri(7,e,r,t),e.lanes=n,e}function kp(e,t,n,r){return e=ri(22,e,r,t),e.elementType=$C,e.lanes=n,e.stateNode={isHidden:!1},e}function Zm(e,t,n){return e=ri(6,e,null,t),e.lanes=n,e}function Qm(e,t,n){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yv(e,t,n,r,i,s,o,a,l){return e=new R5(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ri(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tv(s),e}function D5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function MT(e){if(!e)return ao;e=e._reactInternals;e:{if(la(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if(kr(n))return Pk(e,n,t)}return t}function FT(e,t,n,r,i,s,o,a,l){return e=yv(n,r,!0,e,i,s,o,a,l),e.context=MT(null),n=e.current,r=pr(),i=no(n),s=as(r,i),s.callback=t??null,eo(n,s,i),e.current.lanes=i,Ud(e,i,r),Tr(e,r),e}function Tp(e,t,n,r){var i=t.current,s=pr(),o=no(i);return n=MT(n),t.context===null?t.context=n:t.pendingContext=n,t=as(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=eo(i,t,o),e!==null&&(wi(e,i,o,s),Eh(e,i,o)),o}function vg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ww(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vv(e,t){Ww(e,t),(e=e.alternate)&&Ww(e,t)}function z5(){return null}var RT=typeof reportError=="function"?reportError:function(e){console.error(e)};function xv(e){this._internalRoot=e}Lp.prototype.render=xv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Tp(e,t,null,null)};Lp.prototype.unmount=xv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jo(function(){Tp(null,e,null,null)}),t[hs]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=uk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Os.length&&t!==0&&t<Os[n].priority;n++);Os.splice(n,0,e),n===0&&gk(e)}};function bv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Np(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qw(){}function O5(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=vg(o);s.call(c)}}var o=FT(t,r,e,0,null,!1,!1,"",qw);return e._reactRootContainer=o,e[hs]=o.current,od(e.nodeType===8?e.parentNode:e),Jo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=vg(l);a.call(c)}}var l=yv(e,0,!1,null,null,!1,!1,"",qw);return e._reactRootContainer=l,e[hs]=l.current,od(e.nodeType===8?e.parentNode:e),Jo(function(){Tp(t,l,n,r)}),l}function Ip(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=vg(o);a.call(l)}}Tp(t,o,e,i)}else o=O5(n,t,e,i,r);return vg(o)}ck=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oc(t.pendingLanes);n!==0&&(jy(t,n|1),Tr(t,fn()),!(Lt&6)&&(ml=fn()+500,_o()))}break;case 13:Jo(function(){var r=gs(e,1);if(r!==null){var i=pr();wi(r,e,1,i)}}),vv(e,1)}};$y=function(e){if(e.tag===13){var t=gs(e,134217728);if(t!==null){var n=pr();wi(t,e,134217728,n)}vv(e,134217728)}};dk=function(e){if(e.tag===13){var t=no(e),n=gs(e,t);if(n!==null){var r=pr();wi(n,e,t,r)}vv(e,t)}};uk=function(){return Ut};hk=function(e,t){var n=Ut;try{return Ut=e,t()}finally{Ut=n}};y_=function(e,t,n){switch(t){case"input":if(u_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bp(r);if(!i)throw Error(Ie(90));VC(r),u_(r,i)}}}break;case"textarea":HC(e,n);break;case"select":t=n.value,t!=null&&Ka(e,!!n.multiple,t,!1)}};KC=pv;JC=Jo;var B5={usingClientEntryPoint:!1,Events:[Gd,Ra,bp,ZC,QC,pv]},$l={findFiberByHostInstance:Lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j5={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nk(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||z5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{_p=xu.inject(j5),Ui=xu}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B5;Hr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(t))throw Error(Ie(200));return D5(e,t,null,n)};Hr.createRoot=function(e,t){if(!bv(e))throw Error(Ie(299));var n=!1,r="",i=RT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=yv(e,1,!1,null,null,n,!1,r,i),e[hs]=t.current,od(e.nodeType===8?e.parentNode:e),new xv(t)};Hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=nk(t),e=e===null?null:e.stateNode,e};Hr.flushSync=function(e){return Jo(e)};Hr.hydrate=function(e,t,n){if(!Np(t))throw Error(Ie(200));return Ip(null,e,t,!0,n)};Hr.hydrateRoot=function(e,t,n){if(!bv(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=FT(t,null,e,1,n??null,i,!1,s,o),e[hs]=t.current,od(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Lp(t)};Hr.render=function(e,t,n){if(!Np(t))throw Error(Ie(200));return Ip(null,e,t,!1,n)};Hr.unmountComponentAtNode=function(e){if(!Np(e))throw Error(Ie(40));return e._reactRootContainer?(Jo(function(){Ip(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0):!1};Hr.unstable_batchedUpdates=pv;Hr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Np(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return Ip(e,t,n,!1,r)};Hr.version="18.2.0-next-9e3b772b8-20220608";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(e){console.error(e)}}DT(),FC.exports=Hr;var yo=FC.exports,Xw=yo;i_.createRoot=Xw.createRoot,i_.hydrateRoot=Xw.hydrateRoot;var $5=Object.create,Pp=Object.defineProperty,U5=Object.defineProperties,V5=Object.getOwnPropertyDescriptor,G5=Object.getOwnPropertyDescriptors,zT=Object.getOwnPropertyNames,Yw=Object.getOwnPropertySymbols,H5=Object.getPrototypeOf,OT=Object.prototype.hasOwnProperty,W5=Object.prototype.propertyIsEnumerable,Zw=(e,t,n)=>t in e?Pp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t)=>{for(var n in t||(t={}))OT.call(t,n)&&Zw(e,n,t[n]);if(Yw)for(var n of Yw(t))W5.call(t,n)&&Zw(e,n,t[n]);return e},vt=(e,t)=>U5(e,G5(t)),BT=(e,t)=>function(){return t||(0,e[zT(e)[0]])((t={exports:{}}).exports,t),t.exports},Wd=(e,t)=>{for(var n in t)Pp(e,n,{get:t[n],enumerable:!0})},q5=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zT(t))OT.call(e,i)||i===n||Pp(e,i,{get:()=>t[i],enumerable:!(r=V5(t,i))||r.enumerable});return e},wv=(e,t,n)=>(n=e!=null?$5(H5(e)):{},q5(!t&&e&&e.__esModule?n:Pp(n,"default",{value:e,enumerable:!0}),e)),jT=BT({"node_modules/@linkurious/ogma-parsers/dist/ogma-parsers.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Parsers
* @description Parsers for Ogma
* @version 0.0.20 (built on Fri Jan 12 2024 15:00:46 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2024. All rights reserved.
* @preserve
*/function s(Z,re,se){se=se||re,re in Z&&(Z.attributes[se]=Z[re])}function o(Z,re,se){if(Z&&typeof Z=="object"){if(Array.isArray(Z))return Z.forEach(le=>o(le,re,se));if(function(ue){return ue.type==="vertex"||ue._type==="vertex"||ue.inE||ue.outE||ue._inE||ue._outE}(Z)){const le={};Z.properties&&Object.keys(Z.properties).forEach(ge=>{le[ge]=Z.properties[ge][0].value});const ue=l(Z);re.push({id:ue,data:{id:Z.id+"",categories:[Z.label],properties:le}});for(const ge in Z)ge!=="properties"&&o(Z[ge],re,se);return}if(function(ue){return ue.type==="edge"||ue._type==="edge"||ue.inV||ue.outV||ue._outV||ue._inV}(Z)){const le=l(Z);se.push({id:le,source:a(Z,["inV","_inV"]),target:a(Z,["outV","_outV"]),data:{id:le,type:Z.label,properties:Z.properties||{}}});for(const ue in Z)ue!=="properties"&&o(Z[ue],re,se);return}Object.keys(Z).forEach(le=>o(Z[le],re,se))}}function a(Z,re){for(const se of re)if(Z[se])return l(Z[se])}function l(Z){if(typeof Z=="string"||isFinite(Z))return String(Z);const re=Z;return String(re.id||re._id)}const c=Z=>Z.charCodeAt(0),d=c(" "),u=c("<"),h=c(">"),g=c('"'),p=c(`
`),m=c("\r"),_=c("/"),y=c("\\"),f=c("a"),v=c("z"),x=c("A"),w=c("Z"),b=c("0"),A=c("9"),S=c(":"),k=-1,C=-2,N=-3,D=-4;function j(Z,re,se,le){const ue=le.length;if(se-re!==ue)return!1;for(let ge=0;ge<ue;++ge)if(Z[re+ge]!==le[ge])return!1;return!0}function U(Z,re,se,le){return F(Z.tags,re,se,le)}function F(Z,re,se,le){const ue=Z.length;for(let ge=0;ge<ue;++ge)if(j(re,se,le,Z[ge]))return ge;return Z.push(re.slice(se,le)),ue}function T(Z,re,se){let le=V(re,se),ue=re[le];if(ue===h||ue===_)return le;let ge=le;le=oe(re,le);const Me=function(ke,lt,it,Nt){return F(ke.attributes,lt,it,Nt)}(Z,re,ge,le);for(;re[le]!==g;)++le;for(++le,ge=le;(ue=re[le])!==g;)ue===y&&++le,++le;return Z.tokens.push(N,Me,ge,le),le+1}function q(Z){return Z===d||Z===p||Z===m}function V(Z,re){for(;q(Z[re]);)++re;return re}function J(Z){return Z>=f&&Z<=v||Z>=x&&Z<=w||Z===S||Z>=b&&Z<=A}function oe(Z,re){for(;J(Z[re]);)++re;return re}function ie(Z,re){const se=["return {","  id: undefined,","  attributes: {","    text: undefined,","    color: undefined,",`    ${Z?"radius":"width"}: undefined`,Z?"  ,x: undefined":"",Z?"  ,y: undefined":"","  },"];Z||se.push("  source: undefined,","  target: undefined,");const le=Object.keys(re);le.length&&se.push("  data: {");for(let ue=0;ue<le.length;++ue){const ge=re[le[ue]],Me=ge.title;se.push(`  "${Me}": ${ge.default!==void 0?JSON.stringify(ge.default):void 0}${ue===le.length-1?"":","}`)}return le.length&&se.push("}"),se.push("};"),new Function(se.join(`
`))}function pe(Z){return Z.indexOf("\\")===-1||(Z=Z.replace(/\\"/g,'"')),Z}function Ce(Z,re){let se=0;for(let le=0;le<20;++le){const ue=se+Z[le]+re[le];se=+(ue>=10),Z[le]=ue%10}}const ce=new class{constructor(){this._decimalPowerOfTwo=new Uint8Array(20),this._binaryNumber=new Uint8Array(64),this._decimalNumber=new Uint8Array(20)}int64ToString({low:re,high:se}){if(re===0&&se===0)return"0";(function(Pe,ke,lt){for(let it=0;it<32;++it)lt[it]=+!!(Pe&1<<it);for(let it=0;it<32;++it)lt[it+32]=+!!(ke&1<<it);return lt})(re,se,this._binaryNumber),this._decimalNumber.fill(0),this._decimalPowerOfTwo.fill(0),this._decimalPowerOfTwo[0]=1;const le=this._binaryNumber[63]===1;le&&function(Pe){for(let ke=0;ke<64;++ke)Pe[ke]^=1;for(let ke=0;ke<64&&!(Pe[ke]^=1);++ke);}(this._binaryNumber);for(let Me=0;Me<64;++Me)this._binaryNumber[Me]&&Ce(this._decimalNumber,this._decimalPowerOfTwo),Ce(this._decimalPowerOfTwo,this._decimalPowerOfTwo);const ue=[];let ge=this._decimalNumber.length-1;for(le&&ue.push("-");!this._decimalNumber[ge];)ge-=1;for(let Me=ge;Me>=0;--Me)ue.push(String(this._decimalNumber[Me]));return ue.join("")}};function ve(Z){return ce.int64ToString(Z)}function De(Z){return typeof Z=="object"&&"high"in Z&&"low"in Z}const qe=Z=>"start"in Z&&"end"in Z&&"type"in Z,Xe=Z=>"segments"in Z;function me(Z,re,se,le){if(re)if(Array.isArray(re))re.forEach(ue=>me(Z,ue,se,le));else if(Xe(re))(function(ge,Me,Pe,ke){Me.segments.forEach(lt=>{me(ge,lt.start,Pe,ke),me(ge,lt.end,Pe,ke),me(ge,lt.relationship,Pe,ke)})})(Z,re,se,le);else if(function(ge){if(typeof ge!="object"||ge===null)throw new Error("Ogma can only retrieve nodes and relationships from Neo4j. Please make sure that your Cypher query returns nodes and edges, not values.");const Me=Object.keys(ge.properties);for(const Pe of Me){const ke=ge.properties[Pe];De(ke)&&(ge.properties[Pe]=ve(ke))}if(ge.identity!==void 0){if(De(ge.identity)&&(ge.identity=ve(ge.identity)),function(ke){return"start"in ke&&"end"in ke}(ge)){const Pe=ge.start.identity||ge.start,ke=ge.end.identity||ge.end;De(Pe)&&(ge.start=ve(Pe)),De(ke)&&(ge.end=ve(ke))}}else ge.id&&(ge.identity=ge.id)}(re),qe(re))le.has(re.identity)||(le.add(re.identity),Z.edges.push({id:re.identity,source:re.start,target:re.end,data:{neo4jType:re.type,neo4jProperties:re.properties}}));else{const ue=re;se.has(ue.identity)||(se.add(ue.identity),Z.nodes.push({id:ue.identity,attributes:{},data:{neo4jLabels:ue.labels,neo4jProperties:ue.properties}}))}}const _e={boolean:Z=>Z.toLowerCase()==="true",int:parseFloat,long:parseFloat,float:parseFloat,double:parseFloat,string:Z=>Z};function nt(Z,re,se){const le=Z.getElementsByTagName("data"),ue={};for(let ge=0;ge<le.length;ge++){const Me=le[ge],Pe=Me.getAttribute("key");if(Pe===null)continue;const ke=re[Pe];typeof ke>"u"?ue[Pe]=Me.textContent:Me.textContent&&Me.textContent.length!==0&&(ue[ke.name]=ke.parse(Me.textContent))}for(const ge in se)ge in ue||(ue[ge]=se[ge]);return ue}function rt(Z){return Z.color?Z.color:Z.r&&Z.g&&Z.b?`rgb(${Z.r}, ${Z.g}, ${Z.b})`:void 0}const mt=new Set(["x","y","size","color","r","g","b","label"]);function at(Z){const re={};for(const se in Z)mt.has(se)||Z[se]===void 0||(re[se]=Z[se]);return re}i.gexf=function(re){if(re.indexOf("<gexf")===-1)throw new Error("not a GEXF file");const se=function(G){const X=new Int32Array(G.length);for(let te=0,de=G.length;te<de;++te)X[te]=G.charCodeAt(te);return X}(re),le=function(G,X){let te,de;const fe={tags:[],attributes:[],tokens:[]},ne=fe.tokens;let he=V(G,X);for(;he<G.length;){let Ee=G[he];if(Ee===u){if(he=V(G,++he),G[he]===_)for(ne.push(C);G[++he]!==h;);else{te=he,he=oe(G,te);const Le=U(fe,G,te,he);for(ne.push(k,Le),Ee=G[he];Ee!==h&&Ee!==_;)he=T(fe,G,he),Ee=G[he];if(Ee===_)for(ne.push(C);G[++he]!==h;);}he+=1}else{for(te=he;G[++he]!==u;);for(de=he-1;q(G[de]);)--de;ne.push(D,te,de+1)}he=V(G,he)}return fe}(se,re.indexOf("<gexf ")),ue={},ge={};le.tags.forEach((K,G)=>{const X=String.fromCharCode.apply(null,K);ue[X]=G}),le.attributes.forEach((K,G)=>{const X=String.fromCharCode.apply(null,K);ge[X]=G});const Me=ue.attributes,Pe=ue.attribute,ke=ue.node,lt=ue.edge,it=ue.default,Nt=ue["viz:position"],It=ue["viz:size"],Pt=ue["viz:color"],Gt=ue.attvalue,Ot=ge.class,ct=ge.id,Ct=ge.type,Bt=ge.title,Mt=ge.label,kt=ge.source,xt=ge.target,Vt=ge.x,nn=ge.y,sr=ge.r,ht=ge.g,bt=ge.b,gt=ge.a,jt=ge.value,Ht=ge.for,vn=ge.weight,Fn={float:1,double:1,integer:2,boolean:3,string:4,"list-string":5};let hn=0;const Tn=le.tokens,vr=Tn.length,Ti=new Array(16);let $t=0,Ln=0,Rn=0,R=!0;const B={},Y={};let $,ae,Te="",He="",Oe="",je={attributes:{}},et=0,pt=0,yt=0,dt=1,ut="",P=!1,O=!0,M=null,z=null;const H=[],Q=[];let W=0,ee={};for(;hn<vr;){const K=Tn[hn];if(K===k)Ln=$t,$t=Tn[hn+1],Ti[Rn]=$t,Rn+=1,$t===ke?(M||(M=ie(!0,B)),je=M(),O=!0,ee=B):$t===lt&&(z||(z=ie(!1,Y)),je=z(),O=!1,ee=Y),hn+=2;else if(K===C){if(Te&&$t===Pe){ee=R?B:Y;const G=Fn[He];let X=$;X&&(G===1?X=+X:G===2?X=0|+X:G===3?X=X==="true":G===5&&(X=X.split(" ").filter(te=>te))),ee[Te]={title:Oe||Te,default:X,type:G},Te="",Oe="",He="",$=void 0}else if($t===ke&&Rn===4)P&&je.attributes&&(je.attributes.color=`rgba(${et}, ${pt}, ${yt}, ${dt})`,et=0,pt=0,yt=0,dt=1,P=!1),je.id||(je.id=++W),H.push(je);else if($t===lt&&Rn===4)je.id||(je.id=++W),Q.push(je);else if($t===Gt&&Rn===6&&ut){const G=(O?B:Y)[ut];if(G){if(ae===void 0)ae=G.default;else{const X=G.type;X&&(X===1?ae=+ae:X===2?ae=0|+ae:X===3?ae=ae==="true":X===5?ae=ae.split(" ").filter(te=>te).map(te=>pe(te)):typeof se=="string"&&(ae=pe(ae)))}je.data[ee[ut].title]=ae}ut="",ae=null}Rn-=1,$t=Ln,Ln=Ti[Rn-2],hn+=1}else if(K===N){const G=Tn[hn+1],X=re.substring(Tn[hn+2],Tn[hn+3]);if($t===Me)G===Ot&&(R=X!=="edge"&&X!=="edges");else if($t===Pe)G===ct?Te=X:G===Ct?He=X:G===Bt&&(Oe=X);else if($t!==ke&&$t!==lt||Rn!==4)if($t===Nt&&Rn===5){if(G===Vt)je.attributes.x=parseFloat(X);else if(G===nn){const te=parseFloat(X);je.attributes.y=te===0?te:-te}}else $t===Pt&&Rn===5?(P=!0,G===sr?et=parseInt(X):G===ht?pt=parseInt(X):G===bt?yt=parseInt(X):G===gt&&(dt=parseFloat(X))):$t===It&&Rn===5?G===jt&&(O?je.attributes.radius=+X:je.attributes.width=+X):$t===Gt&&Rn===6&&(G===Ht||G===ct?ut=X:G===jt&&(ae=X));else G===ct?je.id=X:G===Mt?je.attributes.text=X:G===kt?je.source=X:G===xt?je.target=X:G===vn&&(je.attributes.width=+X);hn+=4}else{if(K!==D)throw new Error(`at index ${hn}: token ${K}`);{const G=re.substring(Tn[hn+1],Tn[hn+2]);$t===it&&($=G),hn+=3}}}return{nodes:H,edges:Q}},i.graphml=function(re,se){if(!se){if(typeof DOMParser>"u")throw new Error("DOMParser is not available. You need to provide a DOMParser instance as second argument, if you are not in the browser environment");se=new DOMParser}const le=se.parseFromString(re,"application/xml"),ue=le.getElementsByTagName("key"),ge=le.getElementsByTagName("node"),Me=le.getElementsByTagName("edge"),{definitions:Pe,defaults:ke}=function(Pt){const Gt={graph:{},node:{},edge:{}},Ot={graph:{},node:{},edge:{}};for(let ct=0;ct<Pt.length;ct++){const Ct=Pt[ct],Bt=Ct.getAttribute("for")||"node",Mt=Ct.getAttribute("id"),kt=Ct.getAttribute("attr.name"),xt=Ct.getAttribute("attr.type")||"string",Vt=Ct.getElementsByTagName("default"),nn=Vt.length!==0?Vt[0].textContent:void 0;Gt[Bt][Mt]={name:kt,parse:_e[xt]},typeof nn<"u"&&(Ot[Bt][kt]=nn)}return{definitions:Gt,defaults:Ot}}(ue),lt=[],it=new Set;for(let It=0;It<ge.length;It++){const Pt=ge[It],Gt=Pt.getAttribute("id"),Ot=Pt.getAttribute("href")||void 0,ct=nt(Pt,Pe.node,ke.node);it.add(Gt);const Ct={id:Gt,attributes:{x:ct.x,y:ct.y,radius:ct.size,color:rt(ct),text:ct.label},data:at(ct)};ct.x!==void 0&&(Ct.attributes.x=ct.x),ct.y!==void 0&&(Ct.attributes.y=ct.y),ct.size!==void 0&&(Ct.attributes.radius=ct.size),ct.label!==void 0&&(Ct.attributes.text=ct.label);const Bt=rt(ct);Bt!==void 0&&(Ct.attributes.color=Bt),Ot!==void 0&&(Ct.data.href=Ot),lt.push(Ct)}const Nt=[];for(let It=0;It<Me.length;It++){const Pt=Me[It],Gt=Pt.getAttribute("id")||It,Ot=Pt.getAttribute("source"),ct=Pt.getAttribute("target"),Ct=Pt.getAttribute("xlink:href")||void 0;if(!it.has(Ot)||!it.has(ct))throw new Error(`Invalid edge: ${Ot} -> ${ct}`);const Bt=nt(Pt,Pe.edge,ke.edge),Mt={id:Gt,source:Ot,target:ct,attributes:{},data:at(Bt)},kt=rt(Bt);kt!==void 0&&(Mt.attributes.color=kt),Ct!==void 0&&(Mt.data.href=Ct),Nt.push(Mt)}return{nodes:lt,edges:Nt}},i.janus=function(re){const se=[],le=[];return o(typeof re=="string"?JSON.parse(re):re,se,le),{nodes:se,edges:le}},i.json=function(re,se=le=>le){const le=se(JSON.parse(re)),ue=le.nodes||[],ge=le.edges||[];for(let Me=0;Me<ue.length;Me++){const Pe=ue[Me];Pe.attributes||(Pe.attributes={}),typeof Pe.size=="string"&&(Pe.size=+Pe.size),typeof Pe.x=="string"&&(Pe.x=+Pe.x),typeof Pe.y=="string"&&(Pe.y=+Pe.y),s(Pe,"x"),s(Pe,"y"),s(Pe,"size","radius"),s(Pe,"color"),s(Pe,"text")}for(let Me=0;Me<ge.length;Me++){const Pe=ge[Me];Pe.attributes||(Pe.attributes={}),typeof Pe.size=="string"&&(Pe.size=+Pe.size),s(Pe,"size","width"),s(Pe,"color"),s(Pe,"text")}return{nodes:ue,edges:ge}},i.mtx=Z=>{const re=Z.split(`
`).filter(ue=>!ue.startsWith("%")),[se]=re[0].split(" ").map(Number),le=re.slice(1).map(ue=>ue.split(" ").slice(0,2).map(Number)).filter(ue=>ue.length===2);return{nodes:Array.from({length:Number(se)},(ue,ge)=>({id:ge})),edges:le.map(([ue,ge])=>({source:ue%se,target:ge%se}))}},i.neo4j=function(re){let se=typeof re=="string"?JSON.parse(re):re;const le={nodes:[],edges:[]},ue=new Set,ge=new Set;return(Me=>"queryKeys"in Me&&"values"in Me)(se)&&(se=function(Pe){const ke=[];return Pe.values.forEach(lt=>{const{nodes:it=[],relationships:Nt=[],segments:It=[]}=lt.adapted,Pt=[{segments:It,properties:{}}];ke.push({_fields:[...it,...Nt,...Pt]})}),{records:ke}}(se)),se.records.forEach(({_fields:Me})=>Me.forEach(Pe=>me(le,Pe,ue,ge))),le},Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaParsers={})}}),X5=BT({"node_modules/@linkurious/ogma-generators/dist/ogma-generators.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Generators
* @description Graphs Generators for Ogma
* @version 0.0.13 (built on Tue Nov 14 2023 10:49:46 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2023. All rights reserved.
* @preserve
*/const s=Object.freeze(Object.defineProperty({__proto__:null,configure:({nodes:b=10,edges:A=10,texts:S=!1,scale:k=100}={})=>({nodes:b,edges:A,texts:S,scale:k}),generate:function({nodes:A,scale:S,texts:k,edges:C}){const N=[],D=[];for(let j=0;j<A;j++)N.push({id:j,attributes:{x:Math.random()*S,y:Math.random()*S,text:k?`Node ${j}`:void 0}});for(let j=0;j<C;j++)D.push({id:j,source:Math.random()*A|0,target:Math.random()*A|0,attributes:{text:k?`Edge ${j}`:void 0}});return{nodes:N,edges:D}}},Symbol.toStringTag,{value:"Module"})),o=Object.freeze(Object.defineProperty({__proto__:null,configure:({rows:b=4,columns:A=4,columnDistance:S=20,rowDistance:k=20,xmin:C=0,ymin:N=0}={})=>({rows:b,columns:A,columnDistance:S,rowDistance:k,xmin:C,ymin:N}),generate:function({rows:A,columns:S,columnDistance:k,rowDistance:C,xmin:N,ymin:D}){const j={nodes:[],edges:[]};let U=0;for(let F=0;F<A;++F)for(let T=0;T<S;++T){const q=F*S+T;j.nodes.push({id:q,attributes:{x:N+T*k,y:D+F*C}}),T!==S-1&&(j.edges.push({id:U,source:q,target:F*S+T+1}),U++),F!==A-1&&(j.edges.push({id:U,source:q,target:(F+1)*S+T}),U++)}return j}},Symbol.toStringTag,{value:"Module"})),a=Object.freeze(Object.defineProperty({__proto__:null,configure:({length:b=5,scale:A=100}={})=>({length:b,scale:A}),generate:function({length:A,scale:S}){const k={nodes:[],edges:[]};if(A<=0)return k;k.nodes.push({id:0,attributes:{x:Math.random()*S,y:Math.random()*S}});for(let C=1;C<A;++C)k.nodes.push({id:C,attributes:{x:Math.random()*S,y:Math.random()*S}}),k.edges.push({id:C-1,source:C-1,target:C});return k}},Symbol.toStringTag,{value:"Module"}));function l(b){return typeof b=="number"&&isFinite(b)?b:void 0}const c=Object.freeze(Object.defineProperty({__proto__:null,configure:function({children:A=2,height:S=3}={}){if(!function(C){return typeof C=="number"&&isFinite(C)&&C>0?C:void 0}(A))throw new TypeError('Invalid argument: "children" is not a positive number, was '+A);if(!function(C){return typeof C=="number"&&isFinite(C)&&C>=0?C:void 0}(S))throw new TypeError('Invalid argument: "height" is not a positive number, was '+S);return{children:A,height:S}},generate:function({children:A,height:S}){S+=1;const k=Math.pow(A,S),C=[],N=[];let D=1,j=0,U=0;for(let F=0;F<S;++F){const T=k/(D+1)/1.5;for(let q=0;q<D;++q){const V=j++;if(C.push({id:V,attributes:{x:(q+1)*T*10,y:20*F}}),F!==S-1)for(let J=0;J<A;++J)N.push({id:U,source:V,target:V*A+J+1}),U+=1}D*=A}return{nodes:C,edges:N}}},Symbol.toStringTag,{value:"Module"})),d=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:A=20,edges:S,p:k,scale:C=100}={}){if(!l(A)||A<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+A);if(S!==void 0&&k!==void 0)throw new TypeError("Invalid argument: choose between options.edges and options.p");return S===void 0&&k===void 0&&(k=.1),k===void 0&&(k=-1),S===void 0&&(S=-1),{nodes:A,p:k,edges:S,scale:C}},generate:function(A){const S={nodes:[],edges:[]},k=A.nodes,C=A.p,N=A.scale;if(C>=0){let D=0;for(let j=0;j<k;j++){S.nodes.push({id:j,attributes:{x:Math.random()*N,y:Math.random()*N}});for(let U=0;U<j;U++)Math.random()<C&&S.edges.push({id:D++,source:j,target:U})}}else{const D=[],j=A.edges;for(let F=0;F<k;F++){S.nodes.push({id:F,attributes:{x:100*Math.random(),y:100*Math.random()}});for(let T=F+1;T<k;T++)D.push({source:F,target:T})}let U=D.length-1;for(let F=0;F<j;F++){const T=D.splice(Math.floor(Math.random()*U),1)[0];T.id=F,S.edges.push(T),U--}}return S}},Symbol.toStringTag,{value:"Module"})),u=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:A=40,m0:S=5,m:k=1,scale:C=100}={}){if(!l(A)||A<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+A);if(!l(S)||S>=A)throw new TypeError(`Invalid argument: options.m0 is not a number < ${A}, was ${S}`);if(!l(S)||k>=S)throw new TypeError(`Invalid argument: options.m is not a number <= ${S}, was ${k}`);if(!l(C)||C<0)throw new TypeError("Invalid argument: options.scale is not a number or is less than 0");return{nodes:A,m0:S,m:k,scale:C}},generate:function({scale:A,nodes:S,m0:k,m:C}){const N={nodes:[],edges:[]},D={},j=[],U=A/10;let F=0;for(let T=0;T<k;T++)N.nodes.push({id:T,attributes:{x:Math.random()*U,y:Math.random()*U}}),j[T]=0;for(let T=0;T<k;T++)for(let q=T+1;q<k;q++){const V={id:F++,source:T,target:q};D[V.source+"-"+V.target]=V,N.edges.push(V),j[T]++,j[q]++}for(let T=k;T<S;T++){N.nodes.push({id:T,attributes:{x:Math.random()*A,y:Math.random()*A}}),j[T]=0;let q=0;for(let J=0;J<T;J++)q+=j[J];let V=0;for(let J=0;J<C;J++){const oe=Math.random();let ie=0;for(let pe=0;pe<T;pe++)if(!D[`${T}-${pe}`]&&!D[`${pe}-${T}`]&&(ie=T===1?1:ie+j[pe]/q+V/(T-J),oe<=ie)){V+=j[pe]/q;const Ce={id:F++,source:T,target:pe};D[`${Ce.source}-${Ce.target}`]=Ce,N.edges.push(Ce),j[T]++,j[pe]++;break}}}return N}},Symbol.toStringTag,{value:"Module"})),h=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:A=50,width:S=100,height:k=100,x:C=0,y:N=0}={}){if(!isFinite(A)||A<1)throw new RangeError("Tree generator: number of nodes must be a positive integer");return{nodes:A,width:S,height:k,x:C,y:N}},generate:function({nodes:A,x:S,y:k,width:C,height:N}){const D=S-C/2,j=k-N/2;return{nodes:new Array(A).fill(0).map((U,F)=>({id:F,attributes:{x:D+Math.random()*C,y:j+Math.random()*N}})),edges:new Array(A-1).fill(0).map((U,F)=>({id:F,source:Math.floor(Math.sqrt(F)),target:F+1}))}}},Symbol.toStringTag,{value:"Module"})),g=5,p=10,m=10,_=2.7,y=.2;function f(b){return Math.pow(_,b)*p}function v(b){return g+f(b)/m}function x(b,A,S,k,C){if(S===0)return C;const N=f(S),D=v(S),j=D*y;let U=-Math.PI;const F=2*Math.PI/A,T=k.attributes.x||0,q=k.attributes.y||0;for(let V=0;V<A;++V){const J={id:C,attributes:{x:T+N*Math.cos(U),y:q+N*Math.sin(U),radius:D}},oe={id:C,source:k.id,target:C,attributes:{width:j}};b.nodes.push(J),b.edges.push(oe),C=x(b,A,S-1,J,C+1),U+=F}return C}const w=Object.freeze(Object.defineProperty({__proto__:null,configure:function({depth:A=3,breadth:S=3,nodes:k}){return k!==void 0?(S=5,A=Math.ceil(Math.log(k)/Math.log(5))):k=-1,{depth:A,breadth:S,nodes:k}},generate:function({depth:A,breadth:S,nodes:k}){const C={id:0,attributes:{x:0,y:0,radius:v(A+1)}},N={nodes:[C],edges:[]};return x(N,S,A,C,1),k!==void 0&&k>=0&&(N.nodes=N.nodes.slice(0,k),N.edges=N.edges.slice(0,Math.max(k-1,0))),N}},Symbol.toStringTag,{value:"Module"}));i.balancedTree=c,i.barabasiAlbert=u,i.erdosRenyi=d,i.flower=w,i.grid=o,i.path=a,i.random=s,i.randomTree=h,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaGenerators={})}}),Yt=class{constructor(e){this._ogma=e}},Q_={};function $T(e,t,n,r,i,s){let o=0;for(let a=0;a<r;a++)for(let l=0;l<r;l++){const c=s[a],d=s[l];if(c!==d){const u=e[c][d]*i,h=1/(u*u);if(h){const g=t[c]-t[d],p=n[c]-n[d];o+=h*Math.pow(u-Math.sqrt(g*g+p*p),2)}}}return o}function UT(e,t,n,r,i,s,o){let a=0;if(i===-1)return 0;for(let l=0;l<r;l++)for(let c=0;c<r;c++){const d=o[l],u=o[c];if(d!==u&&(d===i||u===i)){const h=e[d][u]*s,g=1/(h*h);if(g){const p=t[d]-t[u],m=n[d]-n[u];a+=g*Math.pow(h-Math.sqrt(p*p+m*m),2)}}}return a}function K_(e,t,n,r,i,s,o,a){o=o||0;let l=0,c=0;for(let d=0;d<r;d++)for(let u=0;u<r;u++){const h=a[d],g=a[u];if(h!==g){const p=e[h][g]*s,m=1/(p*p);if(m){const _=t[h]-t[g],y=n[h]-n[g],f=m*Math.pow(p-Math.sqrt(_*_+y*y),2);l+=f,h!==i&&g!==i||(c+=f)}}}return(1-o)*l+o*c}function J_(e,t,n,r,i,s,o,a,l){o=o||0;const c=t,d=n;(i=i===void 0?-1:i)===-1&&(o=0);const u=t[i],h=n[i];for(let g=0;g<r;g++){const p=a[g],m=l(e[i][g]),_=o/(m*m);if(m===0)continue;let y=0,f=0,v=0;const x=t[p],w=n[p];for(let A=0;A<r;A++){const S=a[A];if(S!==p){const k=e[p][S]*s,C=1/(k*k),N=t[S],D=n[S];if(C!==0){const j=x-N,U=w-D,F=j*j+U*U,T=F<1e-12?0:1/Math.sqrt(F);f+=(1-o)*C*(N+k*(x-N)*T),v+=(1-o)*C*(D+k*(w-D)*T)}y+=C}}const b=(1-o)*y+_;if(b!==0){const A=x-u,S=w-h;let k=A*A+S*S;k=k<1e-12?0:1/Math.sqrt(k);const C=m===0?0:_*(m*k);c[p]=(f+C*t[p])/b,d[p]=(v+C*n[p])/b}}return{x:c,y:d}}function Y5(e,t,n,r,i,s,o,a){o=o||0;const l=t,c=n;let d;(i=i===void 0?-1:i)===-1&&(o=0);for(let u=0;u<r;u++){const h=a[u];let g=0,p=0,m=0;const _=t[h],y=n[h];for(let f=0;f<r;f++){const v=a[f];let x=0;if(v!==h){let w=0;const b=e[h][v]*s,A=1/(b*b);h!==i&&v!==i||(w=A);const S=(1-o)*A+o*w;if(g+=S,A!==0){const k=t[v],C=n[v],N=_-k,D=y-C,j=N*N+D*D;j>1e-6&&(x=1/Math.sqrt(j)),p+=S*(k+b*(_-k)*x),m+=S*(C+b*(y-C)*x)}}}d=g,d!==0&&(l[h]=p/d,c[h]=m/d)}return{x:l,y:c}}function Ev(e=(i,s)=>i-s,t=[],n={},r=i=>i){let i=t.length;function s(a){for(;;){const l=2*a+1,c=l+1;let d=a;if(l<i&&e(t[l],t[d])<0&&(d=l),c<i&&e(t[c],t[d])<0&&(d=c),d===a)return a;const u=t[d];t[d]=t[a],t[a]=u,n[r(t[d])]=d,n[r(u)]=a,a=d}}return{get keys(){return n},get size(){return i},heapify:s,pop(){if(i<=0)return;if(i===1)return i--,t[0];const a=t[0];return t[0]=t[i-1],i--,s(0),a},decreaseKey(a,l){for(l!==void 0&&(t[a]=l,n[r(l)]=a);a>0;){const c=a-1>>1;if(!(e(t[c],t[a])>0))break;{const d=t[a];t[a]=t[c],t[c]=d,n[r(t[a])]=a,n[r(d)]=c,a=c}}return a},min:()=>t[0],remove(a){return this.decreaseKey(a,Number.NEGATIVE_INFINITY),this.pop()},push(a){i++;let l=i-1;for(t[l]=a;l>0;){const c=l-1>>1;if(!(e(t[c],t[l])>0))break;{const d=t[l];t[l]=t[c],t[c]=d,n[r(t[l])]=l,n[r(d)]=c,l=c}}return l},empty:()=>i<=0,toArray:()=>t.slice(0,i)}}function Sv({sources:e,targets:t,weights:n,source:r,target:i,undirected:s=!1,indexes:o,N:a}){if(!(a=o?o.length:a)||!isFinite(a)||a===0)throw new Error("Invalid number of nodes "+a);const l=new Float32Array(a),c=new Int32Array(a),d={},u=Number.POSITIVE_INFINITY;if(!n){n=[];for(let m=0;m<a;m++)n[m]=1}if(!o){o=new Uint32Array(a);for(let m=0;m<a;m++)o[m]=m+1}for(let m=0;m<a;m++)l[m]=u,c[m]=-1,d[o[m]]=m;l[d[r]]=0;let h=!1;for(let m=1;m<=a;m++){for(let _=0;_<n.length;_++){const y=e[_],f=t[_],v=d[y],x=d[f];if(v!==void 0&&x!==void 0){const w=n[_];let b=l[v]+w;l[v]!==u&&b<l[x]&&(l[x]=b,c[x]=y,h=!0),s&&(b=l[x]+w,l[x]!==u&&b<l[v]&&(l[v]=b,c[v]=f,h=!0))}}if(!h)break}if(h)for(let m=0;m<n.length;m++){const _=e[m],y=t[m],f=d[_],v=d[y];if(f!==void 0&&v!==void 0){const x=n[m];if(l[f]+x<l[v])return null}}let g=null,p=null;if(i!==void 0){const m=d[i];if(m!==void 0&&l[m]!==u){g=[];for(let _=i;_!==-1;_=c[d[_]])g.push(_);g=g.reverse(),p=l[m]}}return{distances:l,path:g,pathLength:p}}function Av(e,t,n,r,i,s,o){r=r||e.map((_,y)=>y+1);const a=r.length,l=new Float32Array(a),c=new Int32Array(a),d=new Uint32Array(a),u=Number.POSITIVE_INFINITY,h={};if(a===0)return{distances:l,path:null,pathLength:null};if(!i){i={};for(let _=0;_<a;_++)i[r[_]]=_}for(let _=0;_<a;_++)l[_]=u,c[_]=-1,d[_]=h[_]=_;const g=Ev((_,y)=>l[_]-l[y],d,h);for(l[i[t]]=0,g.decreaseKey(h[i[t]]);g.size!==0;){const _=g.pop(),y=l[_],f=e[_];if(y===u)break;for(let v=0,x=f.nodes.length;v<x;v++){const w=f.nodes[v],b=s?1:o?o(r[_],w):f.weights?f.weights[v]:1,A=i[w];if(A===void 0)continue;const S=y+b;S<l[A]&&(l[A]=S,c[A]=_,g.decreaseKey(h[A]))}}let p=null,m=null;if(n!==void 0){const _=i[n];if(l[_]!==u){p=[];for(let y=_;y!==-1;y=c[y])p.push(r[y]);p.reverse(),m=l[n]}}return{distances:l,path:p,pathLength:m}}function e0({sources:e,targets:t,weights:n,indexes:r,adjacency:i,undirected:s,ignoreWeights:o}){const a=Number.POSITIVE_INFINITY,l=r?r.length:i.length;if(!r){r=new Uint32Array(l);for(let m=0;m<l;m++)r[m]=m+1}const c=new Array(l),d={};for(let m=0;m<l;m++){c[m]=new Float32Array(l);for(let _=0;_<l;_++)c[m][_]=m===_?0:a;d[r[m]]=m}const u=l,h=n.length;e=e.slice(),t=t.slice(),n=n.slice();for(let m=0;m<l;m++)e[h+m]=u,t[h+m]=r[m],n[h+m]=0,o&&(n[m]=1);const g=Sv({sources:e,targets:t,weights:n,undirected:s,N:l+1,source:u});if(g===null)throw new Error("Graph has negative weight loops");const p=g.distances;for(let m=0;m<n.length;m++){const _=d[e[m]],y=d[t[m]];_!==void 0&&y!==void 0&&(n[m]=n[m]+p[_]-p[y])}e=e.slice(0,h),t=t.slice(0,h),n=n.slice(0,h);for(let m=0;m<l;m++){const _=r[m],{distances:y}=Av(i,_,void 0,r,d,!!o);for(let f=0;f<l;f++)c[m][f]=m===f?0:y[f]}return c}Wd(Q_,{CyclesFinder:()=>KL,Quadtree:()=>WL,bellmanFord:()=>Sv,betweenness:()=>eN,circlePack:()=>jL,circleSpread:()=>Jz,constrainedStress:()=>K_,convexhull:()=>Qz,detectCyclesDirected:()=>ZL,detectCyclesUndirected:()=>OO,detectCyclesUndirectedDFS:()=>BO,dijkstra:()=>Av,distanceStress:()=>UT,johnson:()=>e0,kruskal:()=>JL,largestEmptyCircle:()=>RL,minDisk:()=>Up,minHeap:()=>Ev,removeRadialOverlap:()=>y0,stressMinimizationStep:()=>J_,stressMinimizationStepGeneral:()=>Y5,weightedStress:()=>$T});var ls=11102230246251565e-32,Yn=134217729,Z5=(3+8*ls)*ls;function Km(e,t,n,r,i){let s,o,a,l,c=t[0],d=r[0],u=0,h=0;d>c==d>-c?(s=c,c=t[++u]):(s=d,d=r[++h]);let g=0;if(u<e&&h<n)for(d>c==d>-c?(o=c+s,a=s-(o-c),c=t[++u]):(o=d+s,a=s-(o-d),d=r[++h]),s=o,a!==0&&(i[g++]=a);u<e&&h<n;)d>c==d>-c?(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u]):(o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h]),s=o,a!==0&&(i[g++]=a);for(;u<e;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u],s=o,a!==0&&(i[g++]=a);for(;h<n;)o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h],s=o,a!==0&&(i[g++]=a);return s===0&&g!==0||(i[g++]=s),g}function Q5(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function qd(e){return new Float64Array(e)}var K5=(3+16*ls)*ls,J5=(2+12*ls)*ls,ez=(9+64*ls)*ls*ls,xa=qd(4),Qw=qd(8),Kw=qd(12),Jw=qd(16),or=qd(4);function tz(e,t,n,r,i,s,o){let a,l,c,d,u,h,g,p,m,_,y,f,v,x,w,b,A,S;const k=e-i,C=n-i,N=t-s,D=r-s;x=k*D,h=Yn*k,g=h-(h-k),p=k-g,h=Yn*D,m=h-(h-D),_=D-m,w=p*_-(x-g*m-p*m-g*_),b=N*C,h=Yn*N,g=h-(h-N),p=N-g,h=Yn*C,m=h-(h-C),_=C-m,A=p*_-(b-g*m-p*m-g*_),y=w-A,u=w-y,xa[0]=w-(y+u)+(u-A),f=x+y,u=f-x,v=x-(f-u)+(y-u),y=v-b,u=v-y,xa[1]=v-(y+u)+(u-b),S=f+y,u=S-f,xa[2]=f-(S-u)+(y-u),xa[3]=S;let j=Q5(4,xa),U=J5*o;if(j>=U||-j>=U||(u=e-k,a=e-(k+u)+(u-i),u=n-C,c=n-(C+u)+(u-i),u=t-N,l=t-(N+u)+(u-s),u=r-D,d=r-(D+u)+(u-s),a===0&&l===0&&c===0&&d===0)||(U=ez*o+Z5*Math.abs(j),j+=k*d+D*a-(N*c+C*l),j>=U||-j>=U))return j;x=a*D,h=Yn*a,g=h-(h-a),p=a-g,h=Yn*D,m=h-(h-D),_=D-m,w=p*_-(x-g*m-p*m-g*_),b=l*C,h=Yn*l,g=h-(h-l),p=l-g,h=Yn*C,m=h-(h-C),_=C-m,A=p*_-(b-g*m-p*m-g*_),y=w-A,u=w-y,or[0]=w-(y+u)+(u-A),f=x+y,u=f-x,v=x-(f-u)+(y-u),y=v-b,u=v-y,or[1]=v-(y+u)+(u-b),S=f+y,u=S-f,or[2]=f-(S-u)+(y-u),or[3]=S;const F=Km(4,xa,4,or,Qw);x=k*d,h=Yn*k,g=h-(h-k),p=k-g,h=Yn*d,m=h-(h-d),_=d-m,w=p*_-(x-g*m-p*m-g*_),b=N*c,h=Yn*N,g=h-(h-N),p=N-g,h=Yn*c,m=h-(h-c),_=c-m,A=p*_-(b-g*m-p*m-g*_),y=w-A,u=w-y,or[0]=w-(y+u)+(u-A),f=x+y,u=f-x,v=x-(f-u)+(y-u),y=v-b,u=v-y,or[1]=v-(y+u)+(u-b),S=f+y,u=S-f,or[2]=f-(S-u)+(y-u),or[3]=S;const T=Km(F,Qw,4,or,Kw);x=a*d,h=Yn*a,g=h-(h-a),p=a-g,h=Yn*d,m=h-(h-d),_=d-m,w=p*_-(x-g*m-p*m-g*_),b=l*c,h=Yn*l,g=h-(h-l),p=l-g,h=Yn*c,m=h-(h-c),_=c-m,A=p*_-(b-g*m-p*m-g*_),y=w-A,u=w-y,or[0]=w-(y+u)+(u-A),f=x+y,u=f-x,v=x-(f-u)+(y-u),y=v-b,u=v-y,or[1]=v-(y+u)+(u-b),S=f+y,u=S-f,or[2]=f-(S-u)+(y-u),or[3]=S;const q=Km(T,Kw,4,or,Jw);return Jw[q-1]}function bu(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,c=Math.abs(o+a);return Math.abs(l)>=K5*c?l:-tz(e,t,n,r,i,s,c)}var eE=Math.pow(2,-52),wu=new Uint32Array(512),Cv=class{static from(e,t=oz,n=az){const r=e.length,i=new Float64Array(2*r);for(let s=0;s<r;s++){const o=e[s];i[2*s]=t(o),i[2*s+1]=n(o)}return new Cv(i)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,s=e.length>>1;let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let S=0;S<s;S++){const k=e[2*S],C=e[2*S+1];k<o&&(o=k),C<a&&(a=C),k>l&&(l=k),C>c&&(c=C),this._ids[S]=S}const d=(o+l)/2,u=(a+c)/2;let h,g,p;for(let S=0,k=1/0;S<s;S++){const C=Jm(d,u,e[2*S],e[2*S+1]);C<k&&(h=S,k=C)}const m=e[2*h],_=e[2*h+1];for(let S=0,k=1/0;S<s;S++){if(S===h)continue;const C=Jm(m,_,e[2*S],e[2*S+1]);C<k&&C>0&&(g=S,k=C)}let y=e[2*g],f=e[2*g+1],v=1/0;for(let S=0;S<s;S++){if(S===h||S===g)continue;const k=iz(m,_,y,f,e[2*S],e[2*S+1]);k<v&&(p=S,v=k)}let x=e[2*p],w=e[2*p+1];if(v===1/0){for(let C=0;C<s;C++)this._dists[C]=e[2*C]-e[0]||e[2*C+1]-e[1];Ua(this._ids,this._dists,0,s-1);const S=new Uint32Array(s);let k=0;for(let C=0,N=-1/0;C<s;C++){const D=this._ids[C],j=this._dists[D];j>N&&(S[k++]=D,N=j)}return this.hull=S.subarray(0,k),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(bu(m,_,y,f,x,w)<0){const S=g,k=y,C=f;g=p,y=x,f=w,p=S,x=k,w=C}const b=sz(m,_,y,f,x,w);this._cx=b.x,this._cy=b.y;for(let S=0;S<s;S++)this._dists[S]=Jm(e[2*S],e[2*S+1],b.x,b.y);Ua(this._ids,this._dists,0,s-1),this._hullStart=h;let A=3;n[h]=t[p]=g,n[g]=t[h]=p,n[p]=t[g]=h,r[h]=0,r[g]=1,r[p]=2,i.fill(-1),i[this._hashKey(m,_)]=h,i[this._hashKey(y,f)]=g,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(h,g,p,-1,-1,-1);for(let S,k,C=0;C<this._ids.length;C++){const N=this._ids[C],D=e[2*N],j=e[2*N+1];if(C>0&&Math.abs(D-S)<=eE&&Math.abs(j-k)<=eE||(S=D,k=j,N===h||N===g||N===p))continue;let U=0;for(let J=0,oe=this._hashKey(D,j);J<this._hashSize&&(U=i[(oe+J)%this._hashSize],U===-1||U===n[U]);J++);U=t[U];let F,T=U;for(;F=n[T],bu(D,j,e[2*T],e[2*T+1],e[2*F],e[2*F+1])>=0;)if(T=F,T===U){T=-1;break}if(T===-1)continue;let q=this._addTriangle(T,N,n[T],-1,-1,r[T]);r[N]=this._legalize(q+2),r[T]=q,A++;let V=n[T];for(;F=n[V],bu(D,j,e[2*V],e[2*V+1],e[2*F],e[2*F+1])<0;)q=this._addTriangle(V,N,F,r[N],-1,r[V]),r[N]=this._legalize(q+2),n[V]=V,A--,V=F;if(T===U)for(;F=t[T],bu(D,j,e[2*F],e[2*F+1],e[2*T],e[2*T+1])<0;)q=this._addTriangle(F,N,T,-1,r[T],r[F]),this._legalize(q+2),r[F]=q,n[T]=T,A--,T=F;this._hullStart=t[N]=T,n[T]=t[V]=N,n[N]=V,i[this._hashKey(D,j)]=N,i[this._hashKey(e[2*T],e[2*T+1])]=T}this.hull=new Uint32Array(A);for(let S=0,k=this._hullStart;S<A;S++)this.hull[S]=k,k=n[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(nz(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,s=0;for(;;){const o=n[e],a=e-e%3;if(s=a+(e+2)%3,o===-1){if(i===0)break;e=wu[--i];continue}const l=o-o%3,c=a+(e+1)%3,d=l+(o+2)%3,u=t[s],h=t[e],g=t[c],p=t[d];if(rz(r[2*u],r[2*u+1],r[2*h],r[2*h+1],r[2*g],r[2*g+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=u;const m=n[d];if(m===-1){let y=this._hullStart;do{if(this._hullTri[y]===d){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,m),this._link(o,n[s]),this._link(s,d);const _=l+(o+1)%3;i<wu.length&&(wu[i++]=_)}else{if(i===0)break;e=wu[--i]}}return s}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,s){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}};function nz(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Jm(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function rz(e,t,n,r,i,s,o,a){const l=e-o,c=t-a,d=n-o,u=r-a,h=i-o,g=s-a,p=d*d+u*u,m=h*h+g*g;return l*(u*m-p*g)-c*(d*m-p*h)+(l*l+c*c)*(d*g-u*h)<0}function iz(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l),g=(c*d-a*u)*h,p=(o*u-l*d)*h;return g*g+p*p}function sz(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l);return{x:e+(c*d-a*u)*h,y:t+(o*u-l*d)*h}}function Ua(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{let i=n+1,s=r;Ul(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Ul(e,n,r),t[e[i]]>t[e[r]]&&Ul(e,i,r),t[e[n]]>t[e[i]]&&Ul(e,n,i);const o=e[i],a=t[o];for(;;){do i++;while(t[e[i]]<a);do s--;while(t[e[s]]>a);if(s<i)break;Ul(e,i,s)}e[n+1]=e[s],e[s]=o,r-i+1>=s-n?(Ua(e,t,i,r),Ua(e,t,n,s-1)):(Ua(e,t,n,s-1),Ua(e,t,i,r))}}function Ul(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oz(e){return e[0]}function az(e){return e[1]}var t0={};Wd(t0,{BUTTON_MAPPING:()=>Pv,BoundingBox:()=>Cn,DummyCanvas:()=>pL,DummyCanvasRenderingContext2D:()=>mL,DummyDomElement:()=>rL,DummyFileReader:()=>Ih,DummyTextNode:()=>Dv,DummyXHR:()=>wg,ElementSet:()=>Xd,EventTarget:()=>Yd,FlexArray:()=>kg,IndexList:()=>SL,Map2:()=>AL,PathMap:()=>CL,PrioritySet:()=>FL,SVG_NS:()=>Nv,Table:()=>f0,XLINK:()=>oL,XML_NS:()=>a0,applyCursorStyle:()=>Ag,baseURI:()=>hL,binaryIndexOf:()=>HT,cancelAnimFrame:()=>VT,clamp:()=>Vr,clearCanvas:()=>u0,componentsToRGBA:()=>NL,computeMax:()=>Ga,computeMin:()=>is,computeSum:()=>wL,concatenateArrays:()=>hz,createBlob:()=>vd,createCanvas:()=>Vn,createDummyDomElement:()=>Eg,createDummyXmlDocument:()=>PL,createElement:()=>l0,createSvgElement:()=>Dt,createTextNode:()=>Iv,createWebGL2Context:()=>_L,createWorker:()=>LL,createXmlDocument:()=>ML,dataUrlToBlob:()=>iL,debounce:()=>mz,deepCopy:()=>an,displayPixelsOnScreen:()=>$z,ensureTransferable:()=>Op,escapeDOMAttribute:()=>Va,extendList:()=>yz,fadeElement:()=>gL,fetch:()=>Nl,fetchBinary:()=>dL,fetchBinaryAsBase64:()=>uL,flatten:()=>fd,flattenArray:()=>GT,forEach:()=>$i,formatAngle:()=>Cg,formatHex:()=>Ph,formatWorkerMessage:()=>TL,getBaseLog:()=>EL,getCurrentTime:()=>er,getDate:()=>JT,getDocument:()=>fs,getDocumentFontRules:()=>vL,getEmbeddedFontRules:()=>xL,getFlattenedKeys:()=>ra,getGlContext:()=>yL,getImage:()=>aL,getLeafValues:()=>zp,getOptions:()=>qr,getPixelRatio:()=>Lr,getProperty:()=>sn,getStyle:()=>nL,getTime:()=>eL,getValues:()=>Rc,getWebglContext:()=>Mv,hash8:()=>r0,indexArrayToArray:()=>md,indexByName:()=>vz,insertSortAsc:()=>lc,insertSortDesc:()=>uz,isArray:()=>$n,isBlob:()=>Ez,isHTMLElement:()=>cL,isInteger:()=>pz,isLittleEndian:()=>Dp,isObject:()=>yn,isRawObject:()=>na,isWebGLSupported:()=>fL,lerp:()=>Rt,mapKeys:()=>jp,mapValues:()=>co,merge:()=>jr,mergeValues:()=>bg,mix:()=>h0,nextPowerOfTwo:()=>Us,objToValueList:()=>$p,parseColor:()=>nr,parseColorHex:()=>Rv,parseColorRgba:()=>Fv,pick:()=>s0,processQueue:()=>fz,promiseQueue:()=>qT,promptDownload:()=>vo,propertyPathToString:()=>n0,removeFromArray:()=>gz,requestAnimFrame:()=>kv,resizeElement:()=>Sg,resolvePath:()=>bL,rgbaToRgb:()=>ka,serializeXMLDocument:()=>zv,setAttributes:()=>Lv,setCtxFont:()=>lo,setElementSize:()=>sa,setKeys:()=>Pz,setProperty:()=>Gi,setValues:()=>uc,smartRequire:()=>li,throttle:()=>Rp,toArray:()=>xg,toHexa:()=>m0,toPropertyPath:()=>ta,traverse:()=>YT,unflatten:()=>i0,unorderedHash:()=>_z,workerIsAvailable:()=>kL});var lz=(()=>{let e=0;return typeof requestAnimationFrame<"u"?requestAnimationFrame:function(t){const n=Date.now(),r=Math.min(16,Math.max(0,16-(n-e))),i=e=n+r;return setTimeout(()=>t(i),r)}})(),cz=typeof cancelAnimationFrame<"u"?cancelAnimationFrame:function(e){return clearTimeout(e)};function kv(e,t){return lz(n=>{e.call(t,n)})}function VT(e){e&&cz(e)}var dz=typeof global=="object"&&global!==null&&global.it!==void 0,ms=typeof document<"u",ea=typeof window<"u",Mp=ea&&!window.__OGMA_HEADLESS,Fp=Mp&&ms;function lc(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])>t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function uz(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])<t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function $n(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function xg(e){return Array.isArray(e)?e:[e]}function GT(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n];if(Array.isArray(r))for(let i=0;i<r.length;++i)t.push(r[i]);else t.push(r)}return t}function hz(...e){if(e.length===0)return[];const t=e[0].constructor;let n=0;for(const s of e)n+=s.length;const r=new t(n);let i=0;for(const s of e){for(let o=0;o<s.length;o++)r[i+o]=s[o];i+=s.length}return r}function gz(e,t){const n=e.indexOf(t);return n!==-1&&(e.splice(n,1),!0)}function HT(e,t){let n,r,i=0,s=e.length-1;for(;i<=s;)if(n=(i+s)/2|0,r=e[n],r<t)i=n+1;else{if(!(r>t))return n;s=n-1}return-1}var md=(e,t)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return n};function pz(e){return typeof e=="number"&&e%1==0}function n0(e){return Array.isArray(e)?e.join("."):e}function ta(e){if(!e)return[];if(typeof e=="string")return e.split(".");if(Array.isArray(e)){for(let t=0;t<e.length;++t)if(typeof e[t]!="string")throw new TypeError(`${e[t]} is not a string`);return e.slice()}throw new TypeError(`invalid property path "${e}": expected string or array of strings`)}function Rp(e,t,n){let r,i,s;if(t===0)return function(){e.apply(n,arguments)};const o=function(){r=!1,i&&(s.apply(n,i),i=null)};return s=function(){let a;return r?i=arguments:(a=e.apply(n,arguments),setTimeout(o,t),r=!0),a},s}function mz(e,t,n){let r,i,s,o,a;const l=t===0||t===void 0?100:t;function c(){const u=Date.now()-o;u<l&&u>=0?r=setTimeout(c,l-u):(r=null,n||(a=e.apply(s,i),s=i=null))}const d=function(){s=this,i=arguments,o=Date.now();const u=n&&!r;return r||(r=setTimeout(c,t)),u&&(a=e.apply(s,i),s=i=null),a};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(a=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},d}function WT(e,t,n,r,i){n(e[t],t,e,r,i).then(s=>{t===e.length-1?r(s):WT(e,t+1,n,r,i)}).catch(i)}function fz(e,t){return new Promise((n,r)=>WT(e,0,t,n,r))}function Dp(){return new Uint8Array(new Uint32Array([305419896]).buffer)[0]===120}function qT(e){return e.reduce((t,n)=>t.then(n),Promise.resolve())}function r0(e,t,n,r,i,s,o,a){return e+i+256*(t+s)+65536*(n+o)+16777216*(r+a)}function _z(e,t){return e<t?e*t+Math.pow(t-e-1,2)/4:e*t+Math.pow(e-t-1,2)/4}function na(e){return!(e===null||typeof e!="object"||$n(e)||e instanceof RegExp||typeof HTMLElement<"u"&&e instanceof HTMLElement)}function Rc(e){const t=Object.keys(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=e[t[r]];return n}function $i(e,t,n){if(Array.isArray(e))return e.forEach(t,n);if(!na(e))throw new Error("forEach: invalid argument "+JSON.stringify(e));const r=Object.keys(e);if(n!==void 0)for(let i=0;i<r.length;++i){const s=r[i];t.call(n,e[s],s)}else for(let i=0;i<r.length;++i){const s=r[i];t(e[s],s)}}function an(e){if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;++i)r[i]=an(e[i]);return r}if(!yn(e))return e;const t={},n=Object.keys(e);for(const r of n)t[r]=an(e[r]);return t}function yz(e,t){t.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}function Gi(e,t,n){const r=typeof t=="string"?t.split("."):t;for(let i=0;i<r.length-1;++i){const s=r[i];let o=e[s];o||(o={},e[s]=o),e=o}e[r[r.length-1]]=n}function sn(e,t){const n=ta(t);if(!n.length)return e;if(e){for(let r=0;r<n.length-1;++r){const i=e[n[r]];if(!i)return;e=i}return e[n[n.length-1]]}}function fd(e,t,n="."){t||(t=s=>!na(s));const r={},i=Object.keys(e);for(let s=0;s<i.length;++s){const o=i[s],a=e[o];if(t(a))r[o]=a;else{const l=fd(a,t),c=Object.keys(l);for(let d=0;d<c.length;d++){const u=c[d];r[`${o}${n}${u}`]=l[u]}}}return r}function i0(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Gi(t,i,e[i])}return t}function ra(e,t,n=[]){const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=e[s],a=t?t+s:s;yn(o)?ra(o,a+".",n):n.push(a)}return n}var XT=Object.prototype.hasOwnProperty;function YT(e,t){const n=[e];let r;for(;n.length>0;)if(r=n.pop(),r)if(yn(r))for(const i in r)XT.call(r,i)&&n.push(r[i]);else t(r)}function vz(e){const t={};return YT(e,n=>t[n.getName()]=n),t}function zp(e,t=[]){if(yn(e)){const n=Object.keys(e);for(const r of n)zp(e[r],t)}else t.push(e);return t}function Op(e){for(const t in e)typeof e[t]=="function"&&delete e[t];return e}function qr(e,t){if(e===void 0)return an(t);if(!na(e))return e;const n={},r=Object.keys(t);for(const i of r){const s=t[i],o=e[i];na(s)?n[i]=qr(o,s):n[i]=o===void 0?an(s):o}return n}function yn(e){return e&&(e.constructor===Object||!e.constructor)}function bg(e,t){if(!yn(t)||!yn(e))return t;const n=Object.assign({},e),r=Object.keys(t);for(const i of r)n[i]=bg(n[i],t[i]);return n}function s0(e,t){return t==null?e:t.reduce((n,r)=>(n[r]=e[r],n),{})}var jr=(...e)=>{const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)XT.call(r,i)&&(Array.isArray(t[i])&&Array.isArray(r[i])?t[i]=Array.from(new Set(t[i].concat(r[i]))):yn(t[i])&&yn(r[i])?t[i]=jr(t[i],r[i]):t[i]=r[i])}return t},xz={},ZT=xz,Nh={},QT={},o0=e=>null;if(typeof global=="object"&&(Nh=global),typeof window=="object"&&(QT=window),typeof Ac=="object"&&typeof Ac.require=="function"){const e=Ac.require.bind(Ac);o0=t=>{try{return e(t)}catch{return null}}}else typeof Nh.require=="function"&&(o0=e=>{const t=Nh.require;try{return t(e)}catch{return null}});function li(e,{throwOnError:t}={}){let n=null;if(!n&&e&&(n=ZT[e]),!n&&e&&(n=o0(e)),!n&&e&&(n=QT[e]),!n&&e&&(n=Nh[e]),!n&&t){const r=[`unable to find module "${e}"; make sure one of these statements is true:`,`- Ogma.libraries['${e}'] is set to the right library`,`- require('${e}') returns the right library`,`- window['${e}'] is set to the right library`].join(`
`);throw new Error(r)}return n}var KT=typeof performance<"u"&&performance.now?()=>0|performance.now():()=>Date.now(),bz=KT();function er(){return KT()-bz}function JT(){const e=new Date,t=e.getDate(),n=e.getMonth()+1;return`${e.getFullYear()}-${n<10?"0"+n:n}-${t<10?"0"+t:t}`}function eL(){const e=new Date;return`[${Eu((e.getUTCHours()-(e.getTimezoneOffset()/60|0))%24)}:${Eu(e.getUTCMinutes())}:${Eu(e.getUTCSeconds())}:${Eu(e.getUTCMilliseconds(),3)}]`}function Eu(e,t=2){let n=Math.pow(10,t-1),r=String(e);for(;n>1;)e<n&&(r="0"+r),n/=10;return r}function io(e){!dz&&console.warn(eL()+" "+e)}function wz(e,t){t.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})})}var ef,ia,Tv,tL,ft=()=>{},_d=()=>!1,Bp=()=>!0,yd=()=>null,Si=e=>e,cc=class{constructor(){this.method=null,this.url=null,this.status=0,this.readyState=0,this.headers={},this.responseText=null,this.response=null,cc.onCreate&&cc.onCreate(this)}open(e,t){this.method=e,this.url=t,cc.onSend&&cc.onSend(this)}respond(e,t,n){this.readyState=4,this.status=e,this.headers=t,this.responseText=n,this.response=n,this.onreadystatechange()}send(){this.readyState=4}},wg=cc;wg.onCreate=ft,wg.onSend=ft;var dc=class{constructor(){this.onload=ft,dc.onCreate&&dc.onCreate(this)}readAsDataURL(e){this._blob=e,dc.onRead&&dc.onRead(this)}load(e){this.result=typeof e=="function"?e(this._blob):e,this.onload&&this.onload()}},Ih=dc;function fs(){return ia||{createElementNS:()=>null,createElement:()=>null,implementation:{createDocument(){throw new Error('unable to create XML document; if you use Node JS install the "xmldom" package')}}}}function nL(e,t){if(document&&document.defaultView){let n=e.style[t];if((!n||n==="auto")&&fs().defaultView){const r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n==="auto"?null:n?n.toString():null}return null}Ih.onCreate=ft,Ih.onRead=ft,ef=li("xmldom"),ia=ms?document:ef?new ef.DOMImplementation().createDocument():null,Tv=typeof XMLHttpRequest<"u"?XMLHttpRequest:wg,tL=typeof FileReader<"u"?FileReader:Ih;var rL=class{constructor(){this.onmousewheel=ft,this.__dummy=!0,this.style={},this.clientWidth=0,this.clientHeight=0,this.childNodes=[],this.style={width:"0px",height:"0px",top:void 0,left:void 0,position:"",backgroundColor:void 0}}get offsetWidth(){return parseFloat(this.style.width||"0")}get offsetHeight(){return parseFloat(this.style.height||"0")}get firstChild(){return null}get parentNode(){return null}get classList(){return{length:0,value:"",add(){},remove(){},contains:e=>!1,item:null}}get innerHTML(){return""}set innerHTML(e){}appendChild(e){return this.childNodes.push(e),e}removeChild(){}addEventListener(){}removeEventListener(){}insertBefore(){}contains(e){return!1}};function Eg(){return new rL}var Lr=ea?()=>window.devicePixelRatio:()=>1;function iL(e){const t=";base64,";let n,r,i;if(e.indexOf(t)===-1)return n=e.split(","),r=n[0].split(":")[1],i=decodeURIComponent(n[1]),vd(i,r);n=e.split(t),r=n[0].split(":")[1],i=window.atob(n[1]);const s=i.length,o=new Uint8Array(s);for(let a=0;a<s;++a)o[a]=i.charCodeAt(a);return vd([o],r)}var sL=class{constructor(e,t){this.data=e,this.type=t}};function vd(e,t){return typeof Blob<"u"?new Blob(e,{type:t}):new sL(e,t)}function Ez(e){return typeof Blob<"u"&&e instanceof Blob||e instanceof sL}function Sz(e,t){return t==="blob"?e:t==="dataURL"?iL(e):vd([e],"text/xml")}function vo(e,t,n){if(!Mp)return e;let r=null,i=null,s=null;window.Blob?(r=Sz(e,n),i=window.URL.createObjectURL(r)):s="data:text/xml;charset=UTF-8,"+encodeURIComponent('<?xml version="1.0" encoding="UTF-8"?>')+encodeURIComponent(e);const o=document.createElement("a");return o.setAttribute("href",i||s),o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o),i&&setTimeout(()=>window.URL.revokeObjectURL(i),0),e}function Sg(e,t,n,r=Lr()){if(sa(e,t+"px",n+"px"),e.tagName==="IMG"||e.tagName==="CANVAS"){const i=e;i.width=t*r,i.height=n*r}}function Lv(e,t){$i(t,(n,r)=>{n!==void 0&&e.setAttribute(r,n)})}var Nv="http://www.w3.org/2000/svg",a0="http://www.w3.org/2000/xmlns/",oL="http://www.w3.org/1999/xlink",Az=1;function Dt(e,t){const n=ia.createElementNS(Nv,e);return n.style||(n.style={}),t&&Lv(n,t),n}function l0(e){const t=ia.createElement("div"),n=e.trim().replace(/\s+/g," ");if(t.innerHTML=n,!t.firstChild||t.firstChild.nodeType!==Az)throw new Error(`Failed to create element from: "${e}". Expected an HTML string`);return t.firstChild}function Iv(e){if(ia)return ia.createTextNode(e)}function aL(e){return typeof Image>"u"?Promise.resolve(null):new Promise(t=>{const n=new Image;n.src=e,n.onload=()=>t(n),n.onerror=()=>t(null)})}function lL(e){if(e.indexOf("http://")===0||e.indexOf("https://")===0)return e;const t=window.location.origin,n=window.location.pathname,r=n.lastIndexOf("/");return r===-1?t+"/"+e:t+n.substr(0,r)+"/"+e}function Nl(e){return new Promise((t,n)=>{const r=new Tv;r.open("GET",lL(e),!0),r.onreadystatechange=function(){if(r.readyState===4){const i=r.status;i===200?t(r.responseText):n(i!==0?new Error(`cannot retrieve file at url "${e}"; the server responded with status code ${i}.`):new Error(`cannot send XMLHttpRequest to url "${e}"; if you're using the local file protocol this is most likely the cause.`))}},r.onerror=function(){n(new Error(`cannot retrieve file at url "${e}"; the XMLHttpRequest failed.`))},r.send()})}function cL(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Ag(e,t){e.style.cursor=t,e.style.cursor!==t&&(e.style.cursor=`-webkit-${t}`)}function dL(e){return new Promise((t,n)=>{const r=new Tv;r.responseType="blob",r.open("GET",lL(e),!0),r.onreadystatechange=()=>{if(r.readyState===4){if(r.status===200)return t(r.response);n(r.status)}},r.onerror=i=>n(i),r.send()})}function uL(e){return dL(e).then(t=>new Promise((n,r)=>{const i=new tL;i.onerror=r,i.onload=()=>n(i.result),i.readAsDataURL(t)}))}function Va(e,t=!0){const n=t?"&#13;":`
`;return(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,n).replace(/[\r\n]/g,n)}var Pv={0:"left",1:"middle",2:"right"};function hL(e){if(e.baseURI)return e.baseURI;const t=e.getElementsByTagName("base");return t.length>0?t[0].href:e.URL||(e.location?e.location.href:"")}function gL(e,t,n,r){return new Promise(i=>{let s=t;const o=Date.now(),a=(n-t)*Math.min(1,1/(r/16));(function l(){Date.now()-o<r?(s=Math.min(1,Math.max(0,s+a)),e.style.opacity=s.toString(),kv(l)):i()})()})}function sa(e,t,n){e.style.width=t,e.style.height=n}var c0=300,d0=150,pL=class{constructor(){this.style={},this.width=c0,this.height=d0,this.__context=new mL,this.style={},this.width=c0,this.height=d0}get __dummy(){return!0}get parentNode(){return null}getContext(e){return e==="2d"?this.__context:null}toDataURL(e="png"){return`data:image/${e};base64,`}addEventListener(){}removeEventListener(){}getBoundingClientRect(){return{left:0,top:0,bottom:0,right:0,width:this.width,height:this.height}}},mL=class{constructor(){this._fontSize=10}set font(e){const t=e.match(/\d+/);t&&(this._fontSize=parseFloat(t[0]))}set fillStyle(e){}set textBaseline(e){}set textAlign(e){}set strokeStyle(e){}set lineWidth(e){}fill(){}stroke(){}clearRect(){}fillRect(){}strokeRect(){}beginPath(){}closePath(){}moveTo(){}lineTo(){}rect(){}arc(){}save(){}restore(){}clip(){}translate(){}rotate(){}fillText(){}setLineDash(){}quadraticCurveTo(){}bezierCurveTo(){}drawImage(){}measureText(e){return{width:e.length*Math.ceil(.625*this._fontSize)}}getImageData(){return{width:0,height:0,data:new Uint8ClampedArray(0)}}},Su=li("canvas")||li("canvas-prebuilt");function Vn(e=c0,t=d0){if(ms){const r=document.createElement("canvas");return r.width=e,r.height=t,r}if(Su){let r=null;return r="createCanvas"in Su?Su.createCanvas(e,t):new Su(e,t),r.style={},r}const n=new pL;return n.width=e,n.height=t,n}function u0(e,t,n=e.width,r=e.height){t.clearRect(0,0,n,r)}function lo(e,t,n,r=""){e.font=`${r} ${n}px ${t}`}function fL(){return Mv(Vn(),{},"webgl")!==null}var _L=e=>{const{canvas:t,width:n,height:r}=we({canvas:document.createElement("canvas"),width:window.innerWidth*devicePixelRatio,height:window.innerHeight*devicePixelRatio},e);t.width=Math.ceil(n),t.height=Math.ceil(r),t.style.width=Math.ceil(n/devicePixelRatio)+"px",t.style.height=Math.ceil(r/devicePixelRatio)+"px";const i=t.getContext("webgl2",{antialias:!0});if(!i)throw new Error("WebGL 2.0 not supported");return i},yL=(e,t,n)=>{const r=_L();return r.canvas.addEventListener("webglcontextlost",n),{context:r,cleanUp:()=>{var i;r.canvas.removeEventListener("webglcontextlost",n),(i=r.getExtension("WEBGL_lose_context"))==null||i.loseContext()}}};function Mv(e,t,n){let r=e.getContext(n,t);return r||(r=e.getContext("experimental-webgl",t)),r||null}function Cz(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].cssText+`
`;return t}function vL(){const e=fs(),t=e.styleSheets||[],n=hL(e),r=[],i=[];for(let o=0;o<t.length;o++){const a=t[o];a.href==null?r.push({href:n,content:Cz(a.cssRules)}):i.push(a.href)}const s=/@font-face\s*\{[^}]+\}/g;return Promise.all(i.map(o=>Nl(o).then(a=>({href:o,content:a})).catch(yd))).then(o=>o.concat(r)).then(o=>{const a=[];for(let l=0;l<o.length;l++){const c=o[l];if(c!==null){const{href:d,content:u}=c,h=u.match(s);if(h){const g=Tz(h,d);a.push.apply(a,g)}}}return a})}function xL(e,t){return Promise.all(e.map(({formats:n,originalRule:r})=>Promise.all(n.map(({format:i,url:s})=>t?uL(s).then(o=>({format:i,src:o})).catch(yd):{format:i,src:s})).then(i=>{const s=[];for(const o of i)o!==null&&s.push(`url('${o.src}') format('${o.format}')`);if(s.length!==0){const o=`src: ${s.join(",")}`;return r.replace(/@font-face\s*{([^}]*);?}/,`@font-face{$1;${o}}`).replace(/\s+/," ").replace(/;+/,";")}return r})))}var kz={"embedded-opentype":!0,svg:!0};function Tz(e,t){const n=/url\(['"]?([^'")]+)['"]?\)\s+format\(['"]?([^'")]+)['"]?\)/g,r=/font-family\s*:\s*['"]?([^;'"]+)['"]?;/,i=[];for(let s=0;s<e.length;s++){const o=e[s],a=o.match(r);if(a){const l=a[1],c=[];let d;for(;d=n.exec(o);){const u=d[1],h=d[2];kz[h.toLowerCase()]||c.push({format:h,url:bL(u,t)})}i.push({name:l,formats:c,originalRule:o})}}return i}function bL(e,t){if(/^http(s)?:/.test(e))return e;if(e[0]==="/"){const i=t.match(/((\w+:\/\/)([^/]+))/);return i?i[1]+e:e}const n=e.split("/"),r=t.split("/");for(t[t.length-1]!=="/"&&r.pop();n[0]==="..";)n.shift(),r.pop();return r.concat(n).join("/").replace(/[\w](\/{2,})/g,i=>i[0]+"/")}function Us(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function wL(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n];return t}function Vr(e,t,n){return Math.max(t,Math.min(n,e))}function h0(e,t,n){return e+(t-e)*n}function Rt(e,t,n){return e*(1-n)+t*n}function Ga(e){if(!e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i>t&&(t=i)}return t}function is(e){if(!e.length)return 1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i<t&&(t=i)}return t}var EL=(e,t)=>Math.log(e)/Math.log(t),Cg=e=>e<-Math.PI?e+2*Math.PI:e>Math.PI?e-2*Math.PI:e,tE=4,SL=class{constructor(){this._buffer=new Uint32Array(tE),this._capacity=tE,this._size=0,this._busy=!1}isBusy(){return this._busy}markBusy(){return this._busy=!0,this}sliceAndReset(){this._busy=!1;const e=this.slice(0,this._size);return this.reset(),e}reset(){return this._size=0,this}reserve(e){return e>this._capacity&&this._setCapacity(Us(e)),this}_setCapacity(e){const t=new Uint32Array(e);t.set(this._buffer),this._buffer=t,this._capacity=e}push(e){return this._size===this._capacity&&this._setCapacity(2*this._capacity),this._buffer[this._size++]=e,this}pushUnchecked(e){return this._buffer[this._size++]=e,this}slice(e=0,t=this._size){return this._buffer.slice(e,t)}getBuffer(){return this._buffer}getLength(){return this._size}getCapacity(){return this._capacity}setLength(e){return this._size=e,this}isEmpty(){return this._size===0}},nE=(e,t)=>(e+t)*(e+t+1)/2+t;function Vl(e,t){const n=e<t?e:t;return 67108864*n+(e+t-n)}function jp(e){if(e.keys)return Array.from(e.keys());const t=[];return e.forEach((n,r)=>t.push(r)),t}function co(e){if(e.values)return Array.from(e.values());const t=[];return e.forEach(n=>t.push(n)),t}var AL=class{constructor(){this._map=new Map}reset(){this._map.clear()}set(e,t,n){this._map.set(nE(e,t),n)}get(e,t){return this._map.get(nE(e,t))}};function Lz(e){return e instanceof RegExp||e instanceof Date}var Nz=typeof HTMLElement>"u"?e=>!1:e=>e instanceof HTMLElement,Iz=function(e){return typeof e!="object"||e===null||$n(e)||Lz(e)};function $p(e,t=[],n=[]){if(!Nz(e)){if(Iz(e))t.push({path:n.slice(),value:e});else{const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=n.slice();o.push(s),$p(e[s],t,o)}}return t}}var CL=class{constructor(){this._keys=[],this._values=[],this._size=0,this._cachedPath=[],this._cachedIndex=-1}get size(){return this._size}set(e,t){const n=this._getIndex(e);n!==-1?this._values[n]=t:(tf(this._cachedPath,e)&&(this._cachedIndex=this._keys.length),this._keys.push(e),this._values.push(t),this._size+=1)}get(e){const t=this._getIndex(e);if(t!==-1)return this._values[t]}has(e){return this._getIndex(e)!==-1}keys(){return this._keys.slice()}_getIndex(e){if(tf(e,this._cachedPath))return this._cachedIndex;this._cachedPath=e.slice();const t=this._keys;for(let n=0;n<t.length;++n)if(tf(t[n],e))return this._cachedIndex=n,n;return this._cachedIndex=-1,-1}};function tf(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var Pz=function(t){return Array.from(t.keys())},uc=function(t){return Array.from(t.values())},As=()=>(e,t)=>e[t],Cs=()=>(e,t,n)=>{e[t]=n},rE={1:nf(1),2:nf(2),4:nf(4),8:As(),16:As(),32:As(),int8:As(),int16:As(),int32:As(),float:As(),any:As()},iE={1:rf(1),2:rf(2),4:rf(4),8:Cs(),16:Cs(),32:Cs(),int8:Cs(),int16:Cs(),int32:Cs(),float:Cs(),any:Cs()};function nf(e){const t=8/e,n=(1<<e)-1;return(r,i)=>r[i/t|0]>>i%t*e&n}function rf(e){const t=8/e,n=Math.pow(2,e)-1;return(r,i,s)=>{const o=i%t*e,a=i/t|0,l=s<<o,c=255-(n-s<<o);r[a]=r[a]&c|l}}function Mz(e,t){return e===void 0&&t!=="any"&&t!=="resource"?0:e}var Fz={get(e){return this._getArrayElt(this._buffer,e)},set(e,t){this._setArrayElt(this._buffer,e,t)}},Rz={get(e){return this._byIndex[this._getArrayElt(this._buffer,e)]},set(e,t){let n=this._byName[t];n===void 0&&(n=this._nextIndex++,this._byIndex.push(t),this._getElementBitSize()>this._elementSize&&this.increaseElementSize(),this._byName[t]=n),this._setArrayElt(this._buffer,e,n)}},Dz=0,kg=class{constructor(e){this._id=Dz++,this._initialized=!1;const t=e.name,n=e.storage,r=e.size||0,i=Mz(e.default,n),s=Math.max(8,sE(r+1)),o=n==="resource"?1:n;this._name=t,this._storage=n,this._getArrayElt=rE[o],this._setArrayElt=iE[o],this._elementSize=o,this._nbElements=s,this._fallback=null,this._byName=void 0,this._byIndex=void 0,this._nextIndex=void 0,this._defaultValue=i,this._BASE_VALUE=n==="any"?void 0:0,this._methods=Fz,this._initialized=!1,this._buffer=null,n==="resource"&&(this._methods=Rz,this._byName=Object.create(null),this._byIndex=[],this._nextIndex=1,this._byName[i]=0,this._byIndex.push(i))}getValues(){return Object.keys(this._byName||{})}getName(){return this._name||""}setDefaultValue(e){this._defaultValue=e,this._storage==="resource"&&(this._byName[e]=0,this._byIndex[0]=e)}get(e){return this._get(e)}set(e,t){this._set(e,t)}_get(e){return this._defaultValue}_set(e,t){t!==this._defaultValue&&(this._initialize(),this._set(e,t))}setFallback(e){this._fallback=e,this.get=this._getWithFallback}_getWithFallback(e){const t=this._get(e);return t===void 0&&this._fallback?this._fallback.get(e):t}_initialize(){this._initialized=!0,this._buffer=sf(this._nbElements,this._elementSize),this._get=this._methods.get,this._set=this._methods.set,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(0)}grow(e){const t=sE(e+1);if(!(t<=this._nbElements)){if(this._initialized)if(this._elementSize==="any")for(let n=this._nbElements;n<t;++n)this._buffer.push(this._defaultValue);else{const n=sf(t,this._elementSize);n.set(this._buffer),this._buffer=n,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(this._nbElements)}this._nbElements=t}}increaseElementSize(){const e=this._elementSize;if(typeof e!="number"||e===32)throw new Error("FlexArray: cannot increase element size");const t=2*e,n=rE[t],r=iE[t];if(this._initialized){const i=this._nbElements,s=this._getArrayElt,o=this._buffer,a=sf(i,t);if(e>=8)a.set(o);else for(let l=0;l<i;++l)r(a,l,s(o,l));this._buffer=a}this._elementSize=t,this._getArrayElt=n,this._setArrayElt=r}buffer(){if(!this._buffer)throw new Error("FlexArray: buffer not instantiated");return this._buffer}elementBitSize(){return this._elementSize}capacity(){return this._nbElements}byteSize(){return this._nbElements*this._elementSize/8}isInitialized(){return this._initialized||this._fallback&&this._fallback.isInitialized()}getMultiple(e,t){const n=e.length;t===void 0&&(t=new Array(n));for(let r=0,i=n;r<i;++r)t[r]=this.get(e[r]);return t}fill(e,t){for(let n=0,r=e.length;n<r;++n)this.set(e[n],t)}setMultiple(e,t,n){if(n||!Array.isArray(t)&&!ArrayBuffer.isView(t))for(let r=0,i=e.length;r<i;++r)this.set(e[r],t);else for(let r=0,i=e.length;r<i;++r)this.set(e[r],t[r])}reset(){return this._initialized&&this._reset(0),this}_reset(e){const t=this._storage==="resource"?0:this._defaultValue;if(this._buffer)if(typeof this._elementSize!="number"||this._elementSize>=8)this._buffer.fill(t,e);else{const n=8/this._elementSize;let r=0;for(let i=0;i<n;++i)r<<=this._elementSize,r+=t;if(e===void 0)this._buffer.fill(r);else{const i=e+(8-e%8);for(let s=e;s<i;++s)this._setArrayElt(this._buffer,s,t);this._buffer.fill(r,i/8)}}}_getElementBitSize(){if(this._nextIndex)return Math.pow(2,Math.ceil(Math.log2(Math.log2(this._nextIndex))))}};function sE(e){let t=2;for(;t<e;)t*=2;return t}function sf(e,t){return t==="any"?new Array(e):t==="float"?new Float32Array(e):t==="int8"?new Int8Array(e):t==="int16"?new Int16Array(e):t==="int32"?new Int32Array(e):t===32?new Uint32Array(e):t===16?new Uint16Array(e):new Uint8Array(Math.ceil(e/8*t))}var oE=class{constructor(e){this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._flexArrays=[],this._defaultValues=[],this._flexArraysByName={},this._indexLists=[],this._name=e?"node":"edge",this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._idFlexArray=new kg({storage:"int32"}),this._idFlexArray.get=t=>this._indexToId[t],this._idFlexArray.getMultiple=t=>{const n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=this._indexToId[t[r]];return n},this._flexArraysByName.id=this._idFlexArray}addElements(e){const t=[];for(let n=0,r=e.length;n<r;++n){const i=e[n];let s=this._idToIndex[i];s===void 0&&(s=this._getNextIndex(),this._idToIndex[i]=s,this._indexToId[s]=i),t.push(s)}for(const n of this._flexArrays)n.grow(this._nextIndex);for(const n of this._indexLists)n.reserve(this._nextIndex);return new Uint32Array(t)}removeElements(e){for(let t=0,n=e.length;t<n;++t){const r=e[t],i=this._indexToId[r];i!==void 0&&(delete this._idToIndex[i],this._removeIndex(r))}}clear(){this._idToIndex=Object.create(null),this._indexToId=[void 0],this._nextIndex=1,this._freeIndexes=[];for(const e of this._flexArrays)e.reset();for(const e of this._indexLists)e.reset()}has(e){return this._indexToId[e]!==void 0}getIndex(e,t=!1){const n=this._idToIndex[e];if(n===void 0&&t)throw new Error(`${this._name} id "${e}" not found`);return n}createFlexArray(e,t){const{name:n}=e;if(n&&t&&this._flexArraysByName[n])throw new Error(`${this._name} flexArray "${n}" already exists`);let r=e.default;r===void 0&&e.storage!=="any"&&e.storage!=="resource"&&(r=0);const i=this._nextIndex,s={storage:e.storage,size:i,name:n,default:r};let o;return o=(r===void 0&&e.storage!=="any"&&e.storage,new kg(s)),this._flexArrays.push(o),this._defaultValues.push(e.default),n&&t&&(this._flexArraysByName[n]=o),o}getFlexArray(e){return this._flexArraysByName[e]}getAllFlexArrays(){return this._flexArraysByName}createIndexList(){const e=new SL;return e.reserve(this._nextIndex),this._indexLists.push(e),e}getId(e){return this._indexToId[e]}getMaxIndex(){return this._nextIndex-1}_removeIndex(e){this._indexesToBeFreed.push(e)}_getNextIndex(){let e=this._freeIndexes.pop();return e===void 0&&(e=this._nextIndex++),e}freeIndexes(){for(const e of this._indexesToBeFreed)this._indexToId[e]=void 0,this._freeIndexes.push(e);for(let e=0;e<this._flexArrays.length;++e){const t=this._flexArrays[e],n=this._defaultValues[e];for(const r of this._indexesToBeFreed)t.set(r,n)}this._indexesToBeFreed=[]}},xd=li("web-worker"),kL=!!xd||typeof Worker<"u"&&typeof Blob<"u";function TL(e){return xd?g0(e):e}function g0(e){if(ArrayBuffer.isView(e))return Array.from(e);if(Array.isArray(e)){for(let t=0;t<e.length;t++)e[t]=g0(e[t]);return e}if(yn(e)){const t=Object.keys(e);for(const n of t)e[n]=g0(e[n]);return e}return e}function LL(e){return xd?Oz(e):zz(e)}function zz(e){const t=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(t);return new Worker(n)}function Oz(e){if(xd)return new xd("data:application/javascript,"+e.replace(/\n/g,""))}var Bz=/^rgba?\((\d+),?\s*(\d+),?\s*(\d+),?\s*((\d+)?\.?\d+)*\)$/;function Fv(e,t=[0,0,0,0]){const n=Bz.exec(e);return n?(t[0]=parseInt(n[1])/255,t[1]=parseInt(n[2])/255,t[2]=parseInt(n[3])/255,t[3]=n[4]===void 0?1:parseFloat(n[4]),t):null}function Ph(e){return e<16?"0"+e.toString(16):e.toString(16)}function NL([e,t,n,r=1]){return`rgba(${256*e|0},${256*t|0},${256*n|0},${r})`}function Rv(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,s)=>r+r+i+i+s+s);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1]:null}var of=["AliceBlue","#F0F8FF","AntiqueWhite","#FAEBD7","Aqua","#00FFFF","Aquamarine","#7FFFD4","Azure","#F0FFFF","Beige","#F5F5DC","Bisque","#FFE4C4","Black","#000000","BlanchedAlmond","#FFEBCD","Blue","#0000FF","BlueViolet","#8A2BE2","Brown","#A52A2A","BurlyWood","#DEB887","CadetBlue","#5F9EA0","Chartreuse","#7FFF00","Chocolate","#D2691E","Coral","#FF7F50","CornflowerBlue","#6495ED","Cornsilk","#FFF8DC","Crimson","#DC143C","Cyan","#00FFFF","DarkBlue","#00008B","DarkCyan","#008B8B","DarkGoldenRod","#B8860B","DarkGray","#A9A9A9","DarkGrey","#A9A9A9","DarkGreen","#006400","DarkKhaki","#BDB76B","DarkMagenta","#8B008B","DarkOliveGreen","#556B2F","DarkOrange","#FF8C00","DarkOrchid","#9932CC","DarkRed","#8B0000","DarkSalmon","#E9967A","DarkSeaGreen","#8FBC8F","DarkSlateBlue","#483D8B","DarkSlateGray","#2F4F4F","DarkSlateGrey","#2F4F4F","DarkTurquoise","#00CED1","DarkViolet","#9400D3","DeepPink","#FF1493","DeepSkyBlue","#00BFFF","DimGray","#696969","DimGrey","#696969","DodgerBlue","#1E90FF","FireBrick","#B22222","FloralWhite","#FFFAF0","ForestGreen","#228B22","Fuchsia","#FF00FF","Gainsboro","#DCDCDC","GhostWhite","#F8F8FF","Gold","#FFD700","GoldenRod","#DAA520","Gray","#808080","Grey","#808080","Green","#008000","GreenYellow","#ADFF2F","HoneyDew","#F0FFF0","HotPink","#FF69B4","IndianRed","#CD5C5C","Indigo","#4B0082","Ivory","#FFFFF0","Khaki","#F0E68C","Lavender","#E6E6FA","LavenderBlush","#FFF0F5","LawnGreen","#7CFC00","LemonChiffon","#FFFACD","LightBlue","#ADD8E6","LightCoral","#F08080","LightCyan","#E0FFFF","LightGoldenRodYellow","#FAFAD2","LightGray","#D3D3D3","LightGrey","#D3D3D3","LightGreen","#90EE90","LightPink","#FFB6C1","LightSalmon","#FFA07A","LightSeaGreen","#20B2AA","LightSkyBlue","#87CEFA","LightSlateGray","#778899","LightSlateGrey","#778899","LightSteelBlue","#B0C4DE","LightYellow","#FFFFE0","Lime","#00FF00","LimeGreen","#32CD32","Linen","#FAF0E6","Magenta","#FF00FF","Maroon","#800000","MediumAquaMarine","#66CDAA","MediumBlue","#0000CD","MediumOrchid","#BA55D3","MediumPurple","#9370DB","MediumSeaGreen","#3CB371","MediumSlateBlue","#7B68EE","MediumSpringGreen","#00FA9A","MediumTurquoise","#48D1CC","MediumVioletRed","#C71585","MidnightBlue","#191970","MintCream","#F5FFFA","MistyRose","#FFE4E1","Moccasin","#FFE4B5","NavajoWhite","#FFDEAD","Navy","#000080","OldLace","#FDF5E6","Olive","#808000","OliveDrab","#6B8E23","Orange","#FFA500","OrangeRed","#FF4500","Orchid","#DA70D6","PaleGoldenRod","#EEE8AA","PaleGreen","#98FB98","PaleTurquoise","#AFEEEE","PaleVioletRed","#DB7093","PapayaWhip","#FFEFD5","PeachPuff","#FFDAB9","Peru","#CD853F","Pink","#FFC0CB","Plum","#DDA0DD","PowderBlue","#B0E0E6","Purple","#800080","RebeccaPurple","#663399","Red","#FF0000","RosyBrown","#BC8F8F","RoyalBlue","#4169E1","SaddleBrown","#8B4513","Salmon","#FA8072","SandyBrown","#F4A460","SeaGreen","#2E8B57","SeaShell","#FFF5EE","Sienna","#A0522D","Silver","#C0C0C0","SkyBlue","#87CEEB","SlateBlue","#6A5ACD","SlateGray","#708090","SlateGrey","#708090","Snow","#FFFAFA","SpringGreen","#00FF7F","SteelBlue","#4682B4","Tan","#D2B48C","Teal","#008080","Thistle","#D8BFD8","Tomato","#FF6347","Turquoise","#40E0D0","Violet","#EE82EE","Wheat","#F5DEB3","White","#FFFFFF","WhiteSmoke","#F5F5F5","Yellow","#FFFF00","YellowGreen","#9ACD32"],Gl=[0,0,0,0],bd=new Map;bd.set(null,[0,0,0,0]),bd.set("transparent",[0,0,0,0]);for(let e=0;e<of.length;e+=2){const t=of[e].toLowerCase(),n=of[e+1];bd.set(t,Rv(n))}var p0,nr=e=>{let t=bd.get(e);if(t===void 0){const n=e+"",r=n.charAt(0)==="#"?Rv(n):Fv(n);bd.set(e,r),t=r}return t},m0=e=>{const t=nr(e);if(!t)return null;const[n,r,i]=t;return`#${Ph(255*n)}${Ph(255*r)}${Ph(255*i)}`},ka=e=>{let t=1,n=e;return n&&Fv(e,Gl)&&(n=`rgb(${255*+Gl[0]},${255*+Gl[1]},${255*+Gl[2]})`,t=parseFloat(Gl[3].toString())),{color:n,opacity:t}},aE=li("xmldom");p0=typeof XMLSerializer<"u"?XMLSerializer:aE?aE.XMLSerializer:null;var IL=class{constructor(e){this._attributes={},this._children=[],this._name=e}setAttribute(e,t){this._attributes[e]=t}appendChild(e){this._children.push(e)}get tagName(){return this._name}get children(){return this._children}get childNodes(){return this._children}get firstChild(){return this._children[0]||null}serialize(){const e=this._name,t=this._attributes,n=this._children,r=Object.keys(t).filter(s=>t[s]!==void 0).map(s=>` ${s}="${""+t[s]}"`).join(""),i=n.map(s=>s.serialize()).join("");return i.length?`<${e}${r}>${i}</${e}>`:`<${e}${r}/>`}cloneNode(e){const t=new IL(this._name),n=Object.keys(this._attributes);for(const r of n)t.setAttribute(r,this._attributes[r]);if(e)for(let r=0;r<this._children.length;r++)t.appendChild(this._children[r].cloneNode(e));return t}},Dv=class{constructor(e){this._text=e}serialize(){return this._text}cloneNode(){return new Dv(this._text)}},jz=class{constructor(){this._children=[],this._meta=[],this._children=[],this._meta=[]}appendChild(e){this._children.push(e)}serialize(){return this._meta.concat(this._children.map(e=>e.serialize())).join("")}createElement(e){return new IL(e)}createTextNode(e){return new Dv(e)}},PL=()=>new jz;function zv(e){if(p0)return new p0().serializeToString(e)}var ML=()=>fs().implementation.createDocument("","",null),FL=class{constructor(e){this._heap=[],this._size=0,this._keyToValue=e,this._keyToIndex=new Int32Array(e.length),this._keyToIndex.fill(-1)}add(e){let t=this._keyToIndex[e];t===-1&&(t=this._size++,this._heap[t]=e),this._keyToIndex[e]=this._bubble(t)}removeMin(){if(this._size===0)return NaN;const e=this._heap[0];return this._heap[0]=this._heap[--this._size],this._bubble(0),e}isEmpty(){return this._size===0}has(e){return this._keyToIndex[e]!==-1}_bubble(e){const t=this._indexToValue(e),n=this._getParentIndex(e),r=this._indexToValue(n);let i=e;if(e!==0&&r>t)i=this._swap(e,n);else{const s=this._getLeftChildIndex(e),o=this._getRightChildIndex(e),a=this._indexToValue(s),l=this._indexToValue(o),c=Math.min(t,a,l);c===t||(i=c===a?this._swap(e,s):this._swap(e,o))}return i===e?e:this._bubble(i)}_indexToValue(e){return e>=this._size?1/0:this._keyToValue[this._heap[e]]}_getParentIndex(e){return(e-1)/2|0}_getLeftChildIndex(e){return 2*e+1}_getRightChildIndex(e){return 2*e+2}_swap(e,t){const n=this._heap[e],r=this._heap[t];return this._heap[e]=r,this._heap[t]=n,this._keyToIndex[n]=t,this._keyToIndex[r]=e,t}},Xd=class{constructor(e,t){this._graph=e,this._nodes={elementList:e.nodeList,flexArray:e.createNodeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!0)},this._edges={elementList:e.edgeList,flexArray:e.createEdgeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!1)}}_get(e){return e.isNode?this._nodes:this._edges}addOrRemoveElements(e,t){return t?this.addElements(e):this.removeElements(e)}addElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength();for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];n.get(o)!==1&&(n.set(o,1),r.pushUnchecked(o))}return t(r.slice(i))}removeElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength(),s=r.getBuffer();if(i>s.length)return this.clear(),this.addElements(e),e;let o=0;for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];n.get(l)!==0&&(n.set(l,0),o+=1)}if(o===i)return t(r.sliceAndReset());if(o===0)return t();{const a=this._graph.acquireIndexList(e.isNode);let l=0;for(let c=0;c<i;++c){const d=s[c];n.get(d)===0?(l+=1,a.pushUnchecked(d)):s[c-l]=d}return r.setLength(i-o),t(a.sliceAndReset())}}hasElement(e){return!!this._get(e).flexArray.get(e._index)}clear(){this._nodes.indexList.isEmpty()||(this._nodes.indexList.reset(),this._nodes.flexArray.reset()),this._edges.indexList.isEmpty()||(this._edges.indexList.reset(),this._edges.flexArray.reset())}isEmpty(){return this._nodes.indexList.isEmpty()&&this._edges.indexList.isEmpty()}getElements(){return{nodes:this._nodes.elementList(this._nodes.indexList.slice()),edges:this._edges.elementList(this._edges.indexList.slice())}}};function $z(e,t,n,r=0){t===void 0&&(t=n=Math.sqrt(e.length/4)),n===void 0&&(n=t);const i=document.createElement("canvas"),s=i.getContext("2d");if(s){const o=s.createImageData(t,n);i.style.imageRendering="pixelated",i.style.border="1px solid black",i.style.margin="2px",i.style.position="absolute",i.style.top=i.style.left="0px",i.width=t,i.height=n,o.data.set(e),s.putImageData(o,0,0);const a=document.getElementById("graph-container");a&&(a.style.position="static"),setTimeout(()=>document.body.appendChild(i),r)}}var Ov=()=>({minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),Cn=class{constructor(e={}){const{xValues:t=[],yValues:n=[],scaledSizeValues:r=[],fixedSizeValues:i=[]}=e;this.minX=is(t),this.minY=is(n),this.maxX=Ga(t),this.maxY=Ga(n),this.minScaledSize=is(r),this.maxScaledSize=Ga(r),this.minFixedSize=is(i),this.maxFixedSize=Ga(i),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY}reset(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.minScaledSize=1/0,this.maxScaledSize=-1/0,this.minFixedSize=1/0,this.maxFixedSize=-1/0,this.width=0,this.height=0,this.cx=0,this.cy=0,this}addPoint(e,t,n,r){return this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,t),n!==void 0&&r!==void 0&&(r==="scaled"?(this.minScaledSize=Math.min(this.minScaledSize,n),this.maxScaledSize=Math.max(this.maxScaledSize,n)):(this.minFixedSize=Math.min(this.minFixedSize,n),this.maxFixedSize=Math.max(this.maxFixedSize,n))),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY,this}computeForZoom(e){const t=Math.max(this.maxScaledSize,this.maxFixedSize/e);return Cn.from({minX:this.minX-t/2,minY:this.minY-t/2,maxX:this.maxX+t/2,maxY:this.maxY+t/2,width:this.width+t,height:this.height+t})}static from({minX:e,minY:t,maxX:n,maxY:r,width:i,height:s}={}){const o=new Cn;return e!=null&&(o.minX=e),t!=null&&(o.minY=t),n!=null&&(o.maxX=n),r!=null&&(o.maxY=r),n!=null&&e!=null&&(o.width=i||(n-e)/2,o.cx=(e+n)/2),r!=null&&t!=null&&(o.height=s||(r-t)/2,o.cy=(t+r)/2),o}static fromValues(e,t,n){let r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0;c<e.length;c++){const d=e[c],u=t[c],h=n[c];d-h<r&&(r=d-h),u-h<i&&(i=u-h),d+h>s&&(s=d+h),u+h>o&&(o=u+h),h>a&&(a=h)}const l=Cn.from({minX:r,minY:i,maxX:s,maxY:o});return l.maxScaledSize=a,l}pad(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,this.width+=2*e,this.height+=2*e,this}isValid(){return isFinite(this.width)&&isFinite(this.height)}extend(e){return this.addPoint(e.minX,e.minY),this.addPoint(e.maxX,e.maxY),this}bottomLeft(){return{x:this.minX,y:this.minY}}topRight(){return{x:this.maxX,y:this.maxY}}},Yd=class{on(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");if(typeof t!="function")throw new TypeError("Event handler must be function");const n=this._events=this._events||{};return(n[e]=n[e]||[]).push(t),this}off(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=this._events=this._events||{},r=n[e];if($n(r))if(typeof t!="function")n[e]=null;else{const i=r.indexOf(t);i!==-1&&r.splice(i,1),r.length===0&&(n[e]=null)}return this}fire(e,...t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=(this._events=this._events||{})[e];if($n(n)){const r=t;for(let i=0;i<n.length;i++){const s=n[i];s&&s.apply(this,r)}}return this}once(e,t){const n=this,r=function(...i){t.apply(n,i),n.off(e,r)};return r.handler=t,this.on(e,r)}hasListener(e,t){if(!e||!t)return!1;const n=(this._events=this._events||{})[e];if($n(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];if(s===t||s.handler===t)return!0}return!1}clearEvents(){this._events={}}getListeners(e){return(this._events=this._events||{})[e]}},Uz=8,f0=class{constructor(){this._BIG_LIST=255,this._MAX_LIST_SIZE=8,this._capacity=Uz,this._buffer=new Uint32Array(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(t){return t===void 0&&(t=this._nextIndex++),t>=this._capacity&&this._reserve(t+1),this._sizes[t]=0,t}get(t){const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){const i=this._buffer[r];return this._bigLists[i]}throw new Error(`Table: ${t} out of bounds (${n})`)}size(t){const n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(t){const n=this._sizes,r=this._bigLists,i=this._buffer,s=this._MAX_LIST_SIZE,o=t.length,a=new Array(o);for(let l=0;l<o;l++){const c=t[l],d=n[c];a[l]=d<=s?d:r[i[c*s]].length}return a}addTo(t,n){const r=this._sizes[t],i=t*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=n,this._sizes[t]=r+1;else if(r===this._BIG_LIST){const s=this._buffer[i];this._bigLists[s].push(n)}else{const s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(n),this._bigLists.push(s),this._sizes[t]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}return this}removeFrom(t,n){return this.removeFromAndGetSize(t,n),this}removeFromAndGetSize(t,n){const r=this._MAX_LIST_SIZE*t;let i=this._sizes[t];if(i<=this._MAX_LIST_SIZE){for(let s=r,o=r+i;s<o;++s)if(this._buffer[s]===n)return i-=1,this._buffer[s]=this._buffer[o-1],this._sizes[t]=i,i}else if(i===this._BIG_LIST){const s=this._buffer[r],o=this._bigLists[s],a=o.indexOf(n);if(a!==-1)return o.splice(a,1),o.length}throw new Error('topology: Table: "removeFrom" failed, should not happen')}reserve(t){return this._capacity<t&&this._reserve(t),this}_reserve(t){this._capacity=Math.pow(2,Math.ceil(Math.log2(t))),this._buffer=lE(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=lE(this._sizes,this._capacity)}};function lE(e,t){const n=new e.constructor(t);return n.set(e),n}function RL(e,t=1,n=0,r,i){if(!r||!i){const u=e.map(g=>[g.x,g.y]),h=Cv.from(u,g=>g.x,g=>g.y);r=md(h.triangles,u),i=md(h.hull,u)}if(!i)return[];const s=n*n,o=[],a={};for(let u=0;u<r.length;u+=3)if(Vz(i,Bv(r[u],r[u+1],r[u+2]))){const h=Hz(r[u],r[u+1],r[u+2]);h>s&&(o.push(u),a[u]=h)}if(o.length===0)return[];o.sort((u,h)=>a[u]-a[h]);let l=o[0],c=a[l];const d=[];for(let u=0;u<o.length;u++){const h=o[u],g=a[h];g>c&&g>s&&(l=h,c=g,d.push(l),d.length>t&&d.shift())}return d.map(u=>Gz(r[u],r[u+1],r[u+2]))}function Vz(e,t){const n=e.length,r=e[n-1],[i,s]=t;let[o,a]=r,l=!1;for(let c=0;c<n;c++){const d=e[c],[u,h]=d;h>s!=a>s&&i<(o-u)*(s-h)/(a-h)+u&&(l=!l),o=u,a=h}return l}function Gz(e,t,n){const r=Bv(e,t,n);let i=0;for(let s=0;s<3;s++){const o=arguments[s],a=o[0]-r[0],l=o[1]-r[1],c=Math.sqrt(a*a+l*l);c>i&&(i=c)}return[r[0],r[1],i]}function Hz(e,t,n){const[r,i]=Bv(e,t,n),[s,o]=e,a=r-s,l=i-o;return a*a+l*l}function Bv(e,t,n){const r=[(e[0]+t[0])/2,(e[1]+t[1])/2],i=[(t[0]+n[0])/2,(t[1]+n[1])/2],s=-1/((t[1]-e[1])/(t[0]-e[0])),o=-1/((n[1]-t[1])/(n[0]-t[0])),a=r[1]-s*r[0],l=(a-(i[1]-o*i[0]))/(o-s);return[l,s*l+a]}function Up(e,t,n,r){let i;if(r)i=r;else{i=new Uint32Array(e.length);for(let h=0,g=e.length;h<g;h++)i[h]=h}function s(h,g,p,m,_,y){const f=p-y+1e-9*Math.max(p,y,1),v=m-h,x=_-g;return f>0&&f*f>v*v+x*x}function o(h,g,p,m,_,y,f){for(let v=0;v<m.length;++v){const x=m[v];if(!s(h,g,p,_[x],y[x],f[x]))return!1}return!0}function a(h,g,p,m,_,y){const f=m-h,v=_-g,x=y-p,w=Math.sqrt(f*f+v*v);return[(h+m+f/w*x)/2,(g+_+v/w*x)/2,(w+p+y)/2]}function l(h,g,p,m,_,y,f,v,x){const w=h-m,b=h-f,A=g-_,S=g-v,k=y-p,C=x-p,N=h*h+g*g-p*p,D=N-m*m-_*_+y*y,j=N-f*f-v*v+x*x,U=b*A-w*S,F=(A*j-S*D)/(2*U)-h,T=(S*k-A*C)/U,q=(b*D-w*j)/(2*U)-g,V=(w*C-b*k)/U,J=T*T+V*V-1,oe=2*(p+F*T+q*V),ie=F*F+q*q-p*p,pe=-(Math.abs(J)>1e-6?(oe+Math.sqrt(oe*oe-4*J*ie))/(2*J):ie/oe);return[h+F+T*pe,g+q+V*pe,pe]}function c(h,g,p,m){switch(h.length){case 1:const _=h[0];return function(A,S,k){return[A,S,k]}(g[_],p[_],m[_]);case 2:const[y,f]=h;return a(g[y],p[y],m[y],g[f],p[f],m[f]);case 3:const[v,x,w]=h;return l(g[v],p[v],m[v],g[x],p[x],m[x],g[w],p[w],m[w]);default:return null}}function d(h,g,p,m,_,y){const f=p-y,v=m-h,x=_-g;return f<0||f*f<v*v+x*x}function u(h,g,p,m,_){const y=p[g],f=m[g],v=_[g];if(o(y,f,v,h,p,m,_))return[g];for(let x=0;x<h.length;++x){const w=h[x],b=p[w],A=m[w],S=_[w];if(d(y,f,v,b,A,S)){const[k,C,N]=a(b,A,S,y,f,v);if(o(k,C,N,h,p,m,_))return[h[x],g]}}for(let x=0;x<h.length-1;++x)for(let w=x+1;w<h.length;++w){const b=h[x],A=h[w],S=p[b],k=m[b],C=_[b],N=p[A],D=m[A],j=_[A],U=a(S,k,C,N,D,j);if(d(U[0],U[1],U[2],y,f,v)){const F=a(S,k,C,y,f,v);if(d(F[0],F[1],F[2],N,D,j)){const T=a(N,D,j,y,f,v);if(d(T[0],T[1],T[2],S,k,C)){const q=l(S,k,C,N,D,j,y,f,v);if(o(q[0],q[1],q[2],h,p,m,_))return[b,A,g]}}}}throw new Error}return i=function(g){for(let p=g.length-1;p>=0;p--){let m=Math.floor(Math.random()*(p+1));m=Math.max(Math.min(m,p),0);const _=g[p];g[p]=g[m],g[m]=_}return g}(i),n=n||new Array(e.length).fill(0),function(g,p,m,_,y){let f=null,v=[],x=0;for(;x<p;){const w=g[x];f&&s(f[0],f[1],f[2],m[w],_[w],y[w])?x++:(v=u(v,w,m,_,y),f=c(v,m,_,y),x=0)}return f}(i,i.length,e,t,n)}var DL=[1/0,1/0,-1/0,-1/0];function Tg(e,t,n,r,i,s={x:0,y:0}){const o=Math.cos(i),a=Math.sin(i),l=e-n,c=t-r;return s.x=o*l-a*c+n,s.y=a*l+o*c+r,s}function Wz(e,t,n=0,r={x:0,y:0}){return r.x=e.x+n*Math.sin(t),r.y=e.y+n*Math.cos(t),r}var _n=(e,t,n,r)=>Math.hypot(e-n,t-r);function Mh(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function zL(e){const t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e}function _0(e){return 180*e/Math.PI}function qz(e){return e*Math.PI/180}function OL(e,t){return e.minX-=t,e.minY-=t,e.maxX+=t,e.maxY+=t,e.width===void 0&&(e.width=e.maxX-e.minX),e.height===void 0&&(e.height=e.maxY-e.minY),e.width+=2*t,e.height+=2*t,e}function jv(e,t,n,r,i,s){const o=r-e,a=i-t,l=Math.sqrt(o*o+a*a);if(l>n+s||l<Math.abs(n-s))return null;const c=(n*n-s*s+l*l)/(2*l),d=e+o*c/l,u=t+a*c/l,h=Math.sqrt(n*n-c*c),g=h/l*-a,p=o*(h/l);return[[d+g,u+p],[d-g,u-p]]}function $v(e,t,n,r,i,s){if(e-i>=0&&n-i<0)return 1;if(e-i<0&&n-i>=0)return-1;if(e-i==0&&n-i==0)return t-r>=0||r-s>=0?t-r:r-t;const o=(e-i)*(r-s)-(n-i)*(t-s);return o<0?1:o>0?-1:(e-i)*(e-i)+(t-s)*(t-s)-((n-i)*(n-i)+(r-s)*(r-s))}function Xz([e,t,n],r,i){const s=Math.abs(e-r),o=Math.abs(t-i);return s+o<=n||!(s>n||o>n)&&Math.sqrt(s*s+o*o)<n+1e-12}function Yz(e,t,n,r){const i=e[0]-t,s=e[1]-n,o=e[2]-r;return i*i+s*s<o*o+1e-6}function Uv(e,t,n,r,i,s,o){const a=e-Math.max(r,Math.min(s,e)),l=t-Math.max(i,Math.min(o,t));return a*a+l*l<n*n}function BL(e,t,n,r,i,s,o,a={x:0,y:0}){const l=a||{x:0,y:0};let c,d,u,h;if(n===e){const y=e-i,f=o*o-y*y;if(f<0)return null;const v=Math.sqrt(f);c=e,u=e,d=s+v,h=s-v}else{const y=(r-t)/(n-e),f=t-y*e,v=f-s,x=y*y+1,w=2*(y*v-i),b=w*w-4*x*(i*i+v*v-o*o);if(b<0)return null;const A=-w,S=Math.sqrt(b),k=2*x;c=(A+S)/k,u=(A-S)/k,d=y*c+f,h=y*u+f}const g=e-c,p=t-d,m=e-u,_=t-h;return g*g+p*p<m*m+_*_?(l.x=c,l.y=d):(l.x=u,l.y=h),l}function y0({X:e,Y:t,sizes:n,indexes:r,R:i,center:s,gap:o=0,epsilon:a=.001,maxLoops:l=5,inPlace:c=!0}){const d=r.length,u=s[0],h=s[1];let g=d;c||(e=e.slice(),t=t.slice());const p=jv,m=$v,_=r.slice().sort((C,N)=>m(e[C],t[C],e[N],t[N],u,h)),y=_[d-1],f=e[y],v=t[y];let x=!1;for(let C=0;C<g-1;C++){let N=C%d,D=(C+1)%d;C===-1&&(N=d-1,D=0),N=_[N],D=_[D];const j=e[N],U=t[N];let F=e[D],T=t[D];const q=n[N]+n[D]+o;let V=m(j,U,F,T,u,h);if(V===-1&&x&&(V=1),!(q>i)){if(V===1||q-_n(j,U,F,T)>a){const J=p(u,h,i,j,U,q);if(J){const oe=J[0];x=F>u&&oe[0]<u,F=e[D]=oe[0],T=t[D]=oe[1]}}else x=!1;if(C%d==d-2){const J=_[d-1],oe=_[0];if(t[J]>h&&t[oe]>h&&e[J]-n[J]<e[oe]+n[J]){let ie=0;for(g=Math.min(d*l,g+d);t[_[J]]>h&&t[_[0]]>h&&e[_[J]]<e[_[0]]&&++ie<d;){const pe=_.pop();pe&&_.unshift(pe)}}}}}const w=f-u,b=v-h,A=e[y]-u,S=t[y]-h,k=w===A?0:Math.abs(Math.acos((w*A+b*S)/(Math.sqrt(w*w+b*b)*Math.sqrt(A*A+S*S))));if(k!==0){const C=Math.sin(-k),N=Math.cos(-k);let D;for(let j=0;j<d;j++){D=_[j];const U=e[D]-u,F=t[D]-h;e[D]=U*N-F*C+u,t[D]=U*C+F*N+h}}return{X:e,Y:t}}function cE(e,t,n,r,i,s){const o={},a=n[e];let l=a,c=0;const d=a*i;for(const u in t){const h=t[u];let g=0,p=0;for(let f=0,v=h.length;f<v;f++){const x=n[h[f]];p=Math.max(p,x),g+=2*x+r}const m=g/(2*Math.PI),_=p+l,y=s?c+Math.max(s,_):c*i;c=Math.max(_,c,m,d,y),o[u]=c,l=p}return o[0]=0,o[Number.POSITIVE_INFINITY]=c,o}function Zz(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function dE(e){const t=e.length,n=[0,1];let r=2;for(let i=2;i<t;i++){for(;r>1&&Zz(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Qz(e){const t=e.length;if(t<3)return null;const n=new Array(t),r=new Array(t);for(let u=0;u<t;u++)n[u]=[+e[u][0],+e[u][1],u];n.sort((u,h)=>u[0]-h[0]||u[1]-h[1]);for(let u=0;u<t;u++)r[u]=[n[u][0],-n[u][1]];const i=dE(n),s=dE(r),o=s[s.length-1],a=i[i.length-1],l=s[0]===i[0],c=o===a?1:0,d=[];for(let u=i.length-1;u>=0;--u)d.push(e[n[i[u]][2]]);for(let u=+l;u<s.length-c;u++)d.push(e[n[s[u]][2]]);return d}var uE=e=>--e*e*e+1,hE=(e,t,n)=>{const r=e-n[0],i=t-n[1];return r*r+i*i},Kz=(e,t)=>{let n=1/0,r=-1/0;for(let i=0;i<e.length;i++){const s=e[i],o=t?t[s]:s;n=Math.min(o,n),r=Math.max(o,r)}return{min:n,max:r}};function Jz({X:e,Y:t,R:n,center:r,maxSteps:i=1e3,padding:s=5,epsilon:o=1e-9,damping:a=2,pinned:l=-1,indexes:c,onUpdate:d,pushSmallerOut:u=!0}){const h=c?c.length:e.length;let g=c;if(g===void 0){g=new Uint32Array(h);for(let x=0;x<h;x++)g[x]=x}else g=c;if(l!==-1)r=[e[l],t[l]];else if(!r){let x=0,w=0;for(let b=0;b<h;b++)x+=e[g[b]],w+=t[g[b]];r=[x/h,w/h]}const{min:p,max:m}=Kz(g,n);function _(x,w){let b=0;for(let C=0;C<h-1;C++)for(let N=C+1;N<h;N++){if(C===N)continue;const D=g[C],j=g[N],U=e[D],F=t[D],T=n[D],q=e[j],V=t[j],J=n[j],oe=q-U,ie=V-F,pe=T+J+s,Ce=oe*oe+ie*ie;if(Ce<pe*pe-x){const ce=(pe-Math.sqrt(Ce))*w,ve=1/Ce,De=oe*ve*ce,qe=ie*ve*ce,Xe=De*De+qe*qe;if(j!==l){const me=T/p;b+=Xe*me,e[j]+=De*me,t[j]+=qe*me}if(D!==l){const me=J/p;b+=Xe*me,e[D]-=De*me,t[D]-=qe*me}}}const A=x*a*(1-w),S=r[0],k=r[1];for(let C=0;C<h;C++){const N=g[C];if(N!==l){const D=e[N],j=t[N],U=n[N],F=u?A*(U/m):A,T=(D-S)*F,q=(j-k)*F;b+=T*T+q*q,e[N]-=T,t[N]-=q}}return b}g.sort((x,w)=>n[w]*hE(e[w],t[w],r)-n[x]*hE(e[x],t[x],r));let y=0,f=0;const v=uE(1/h);for(let x=0;x<i&&(y=_(v,uE((x+1)/i)),d&&setTimeout(()=>d(e,t)),!(Math.abs(y-f)<o));x++)f=y;return{X:e,Y:t}}var Au=e=>({data:e,next:null,prev:null});function jL(e,t=0,n=0){const r=e.length;if(r===0)return e;const i=e[0];if(i.x=t,i.y=n,r===1)return e;const s=e[1];if(i.x=t-s.radius,s.x=t+i.radius,s.y=n,r===2)return e;const o=e[2];gE(s,i,o);let a=Au(i),l=Au(s),c=Au(o);a.next=c.prev=l,l.next=a.prev=c,c.next=l.prev=a;e:for(let d=3;d<r;d++){c=Au(e[d]),gE(a.data,l.data,e[d]);let u=l.next,h=a.prev,g=l.data.radius,p=a.data.radius;do if(g<=p){if(pE(u.data,c.data)){l=u,a.next=l,l.prev=a,--d;continue e}g+=u.data.radius,u=u.next}else{if(pE(h.data,c.data)){a=h,a.next=l,l.prev=a,--d;continue e}p+=h.data.radius,h=h.prev}while(u!==h.next);c.prev=a,c.next=l,a.next=l.prev=l=c;let m=mE(a);for(;(c=c.next)!==l;){const _=mE(c);_<m&&(a=c,m=_)}l=a.next}return e}function gE(e,t,n){const r=e.x-t.x;let i,s;const o=e.y-t.y,a=r*r+o*o;let l,c;a?(s=t.radius+n.radius,s*=s,c=e.radius+n.radius,c*=c,s>c?(i=(a+c-s)/(2*a),l=Math.sqrt(Math.max(0,c/a-i*i)),n.x=e.x-i*r-l*o,n.y=e.y-i*o+l*r):(i=(a+s-c)/(2*a),l=Math.sqrt(Math.max(0,s/a-i*i)),n.x=t.x+i*r-l*o,n.y=t.y+i*o+l*r)):(n.x=t.x+n.radius,n.y=t.y)}var eO=1e-6;function pE(e,t){const n=e.radius+t.radius-eO,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function mE(e){const t=e.data,n=e.next.data,r=t.radius+n.radius,i=(t.x*n.radius+n.x*t.radius)/r,s=(t.y*n.radius+n.y*t.radius)/r;return i*i+s*s}var tO=16,nO=class{constructor(e=Int32Array,t=tO,n=8){this._BIG_LIST=new Uint8Array([-1])[0],this._ArrayType=e,this._capacity=t,this._MAX_LIST_SIZE=n,this._freeIndex=-1,this.clear()}clear(){this._buffer=new this._ArrayType(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._idToIndex={},this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(e){let t;return this._freeIndex===-1?t=this._nextIndex++:(t=this._freeIndex,this._freeIndex=-1),this._idToIndex[e]=t,t>=this._capacity&&this._expand(t+1),this._sizes[t]=0,t}getItems(e){const t=this._idToIndex[e];if(t===void 0)return;const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){let i=this._buffer[r];return this._bigLists[i]}}removeEntry(e){const t=this._idToIndex[e];if(this._sizes[t]===this._BIG_LIST){const n=this._MAX_LIST_SIZE*t,r=this._buffer[n];this._bigLists[r].length=0}this._sizes[t]=0,this._freeIndex=t}size(e){const t=this._idToIndex[e];let n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(e){const t=this._sizes,n=this._bigLists,r=this._buffer,i=this._MAX_LIST_SIZE,s=e.length,o=new Array(s);for(let a=0;a<s;a++){const l=this._idToIndex[e[a]],c=t[l];o[a]=c<=i?c:n[r[l*i]].length}return o}addTo(e,t){const n=this._idToIndex[e],r=this._sizes[n],i=n*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=t,this._sizes[n]=r+1;else if(r===this._BIG_LIST){let s=this._buffer[i];this._bigLists[s].push(t)}else{let s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(t),this._bigLists.push(s),this._sizes[n]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}}removeFrom(e,t){this.removeFromAndGetSize(e,t)}removeFromAndGetSize(e,t){const n=this._idToIndex[e];let r=this._sizes[n],i=this._MAX_LIST_SIZE*n;if(r<=this._MAX_LIST_SIZE){for(let s=i,o=i+r;s<o;++s)if(this._buffer[s]===t)return r-=1,this._buffer[s]=this._buffer[o-1],this._sizes[n]=r,r}else if(r===this._BIG_LIST){let s=this._buffer[i],o=this._bigLists[s],a=o.indexOf(t);if(a!==-1)return o.splice(a,1),o.length}}reserve(e){this._capacity<e&&this._expand(e)}_expand(e){this._capacity=Math.pow(2,Math.ceil(Math.log2(e))),this._buffer=fE(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=fE(this._sizes,this._capacity)}has(e){const t=this._idToIndex[e];return!(t===void 0||t>=this._capacity)&&this._sizes[t]!==0}get averageSize(){let e=0;for(let t=0;t<this._capacity;t++)e+=this._sizes[t];return e/this._capacity}};function fE(e,t){let n=new e.constructor(t);return n.set(e),n}var Hl,_E,Wl,ba,ql,Po=[0,1],Fh=[0,2];for(Wl=4;Wl<65535;Wl<<=2)for(Hl=0,_E=Po.length;Hl<_E;Hl++)Po.push(Po[Hl]|Wl),Fh.push((Po[Hl]|Wl)<<1);function yi(e,t){return(Fh[255&t]|Po[255&e])+65536*(Fh[t>>8&255]|Po[e>>8&255])+4294967296*(Fh[t>>16&255]|Po[e>>16&255])}function yE(e,t=[0,0]){if(e>0xffffffffffff)throw"Only morton codes up to 48 bits are supported.";if(!ba){ba={},ql={};for(var n=0;n<256;n++)ba[yi(n,0)]=n,ql[yi(0,n)]=n}var r=ba[21845&e],i=ql[43690&e];return e>65535&&(r|=ba[21845&(e/=65536)]<<8,i|=ql[43690&e]<<8,e>65535&&(r|=ba[21845&(e/=65536)]<<16,i|=ql[43690&e]<<16)),t[0]=r,t[1]=i,t}yi.code=function(t,n,r){if(t>24)throw"Morton codes are only supported up to Z=24";var i=1<<24-t;return yi(n*i,r*i)},yi.range=function(t,n,r){if(t>24)throw"Morton ranges are only supported up to Z=24";var i=1<<24-t,s=yi(n*i,r*i);return[s,s+i*i-1]},yi.reverse=yE,yi.decode=function(t,n){var r=yE(n),i=1<<24-t;return[r[0]/i,r[1]/i]},yi.min=function(t,n){var r=1431655765&t,i=1431655765&n,s=2863311530&t,o=2863311530&n;return Math.min(r,i)+Math.min(s,o)};var rO=1e-6,iO=1e-12;function $L(){for(var e=arguments,t=e.length-1,n=t,r=[],i=0;i<=t&&Math.abs(e[i])<=iO;i++)t--;switch(t){case 1:sO(e[n],e[n-1],r);break;case 2:oO(e[n],e[n-1],e[n-2],r);break;case 3:aO(e[n],e[n-1],e[n-2],e[n-3],r)}return r}function sO(e,t,n=[]){return t!==0&&n.push(-e/t),n}function oO(e,t,n,r=[]){var i=t/n,s=i*i-4*(e/n);if(s>0){var o=Math.sqrt(s);r.push(.5*(-i+o)),r.push(.5*(-i-o))}else s===0&&r.push(.5*-i);return r}function aO(e,t,n,r,i=[]){var s,o,a=n/r,l=t/r,c=(3*l-a*a)/3,d=(2*a*a*a-9*l*a+27*(e/r))/27,u=a/3,h=d*d/4+c*c*c/27,g=d/2;if(Math.abs(h)<=rO&&(h=0),h>0){var p=Math.sqrt(h);o=(s=-g+p)>=0?Math.pow(s,1/3):-Math.pow(-s,1/3),(s=-g-p)>=0?o+=Math.pow(s,1/3):o-=Math.pow(-s,1/3),i.push(o-u)}else if(h<0){var m=Math.sqrt(-c/3),_=Math.atan2(Math.sqrt(-h),-g)/3,y=Math.cos(_),f=Math.sin(_),v=Math.sqrt(3);i.push(2*m*y-u),i.push(-m*(y+v*f)-u),i.push(-m*(y-v*f)-u)}else s=g>=0?-Math.pow(g,1/3):Math.pow(-g,1/3),i.push(2*s-u),i.push(-s-u);return i}function ks(e,t,n,r,i,s,o,a,l,c,d){for(var u,h,g=Math.min(o,l),p=Math.min(a,c),m=Math.max(o,l),_=Math.max(a,c),y=$L((u=a-c)*(e+-2*n+i)+(h=l-o)*(t+-2*r+s),u*(-2*e+2*n)+h*(-2*t+2*r),u*e+h*t+(o*c-l*a)),f=0;f<y.length;f++){var v=y[f];if(0<=v&&v<=1){var x=e+(n-e)*v,w=t+(r-t)*v,b=x+(n+(i-n)*v-x)*v,A=w+(r+(s-r)*v-w)*v;if(o===l){if(p<=A&&A<=_){if(!d)return 1;d.push(b,A)}}else if(a===c){if(g<=b&&b<=m){if(!d)return 1;d.push(b,A)}}else if(b>=g&&A>=p&&b<=m&&A<=_){if(!d)return 1;d.push(b,A)}}}return d?d.length/2:0}function UL(e,t,n,r,i,s,o,a,l,c,d){return d?(ks(e,t,n,r,i,s,o,a,l,a,d),ks(e,t,n,r,i,s,l,a,l,c,d),ks(e,t,n,r,i,s,o,c,l,c,d),ks(e,t,n,r,i,s,o,a,o,c,d),d.length/2):o<=e&&l>=e&&a<=t&&c>=t||o<=i&&l>=i&&a<=s&&c>=s||ks(e,t,n,r,i,s,o,a,l,a)||ks(e,t,n,r,i,s,l,a,l,c)||ks(e,t,n,r,i,s,o,c,l,c)||ks(e,t,n,r,i,s,o,a,o,c)?1:0}function Ts(e,t,n,r,i,s,o,a,l,c,d,u,h){for(var g,p,m=Math.min(l,d),_=Math.min(c,u),y=Math.max(l,d),f=Math.max(c,u),v=$L((g=c-u)*(-1*e+3*n+-3*i+o)+(p=d-l)*(-1*t+3*r+-3*s+a),g*(3*e+-6*n+3*i)+p*(3*t+-6*r+3*s),g*(-3*e+3*n)+p*(-3*t+3*r),g*e+p*t+(l*u-d*c)),x=0;x<v.length;x++){var w=v[x];if(0<=w&&w<=1){var b=e+(n-e)*w,A=t+(r-t)*w,S=n+(i-n)*w,k=r+(s-r)*w,C=b+(S-b)*w,N=A+(k-A)*w,D=C+(S+(i+(o-i)*w-S)*w-C)*w,j=N+(k+(s+(a-s)*w-k)*w-N)*w;if(l===d){if(_<=j&&j<=f){if(!h)return 1;h.push(D,j)}}else if(c===u){if(m<=D&&D<=y){if(!h)return 1;h.push(D,j)}}else if(D>=m&&j>=_&&D<=y&&j<=f){if(!h)return 1;h.push(D,j)}}}return h?h.length/2:0}function VL(e,t,n,r,i,s,o,a,l,c,d,u,h){return h?(Ts(e,t,n,r,i,s,o,a,l,c,d,c,h),Ts(e,t,n,r,i,s,o,a,d,c,d,u,h),Ts(e,t,n,r,i,s,o,a,l,u,d,u,h),Ts(e,t,n,r,i,s,o,a,l,c,l,u,h),h.length/2):l<=e&&d>=e&&c<=t&&u>=t||l<=o&&d>=o&&c<=a&&u>=a||Ts(e,t,n,r,i,s,o,a,l,c,d,c)||Ts(e,t,n,r,i,s,o,a,d,c,d,u)||Ts(e,t,n,r,i,s,o,a,l,u,d,u)||Ts(e,t,n,r,i,s,o,a,l,c,l,u)?1:0}var vE=typeof Map>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}set(t,n){t in this._values||this._size++,this._values[t]=n}get(t){return this._values[t]}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Map,lO=typeof Set>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}add(t){t in this._values||this._size++,this._values[t]=!0}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Set,GL=class{constructor(){this._intersects=null,this._getBounds=null}setBoundsGetter(e){return this._getBounds=e,this}setIntersector(e){return this._intersects=e,this}},cO=65536,dO=16,uO=16,hO=class extends GL{constructor(e,t,n=uO,r=cO,i=Int32Array,s=dO){super(),this._occupied=0,this._idToCode=new vE,this._codeCache=[0,0,0],this.code=(o,a,l)=>l|yi(o,a)<<this._bitsForZoom,this.decode=(o,a)=>(yi.reverse(o>>this._bitsForZoom,a),a[2]=o&this._zoomMask,a),this._intersects=e,this._getBounds=t,this._cells=new nO(i),this._offset=r,this._maxLevels=s,this._mortonMax=(1<<this._maxLevels)-1,this._bitsForZoom=Math.log2(this._maxLevels),this._zoomMask=(1<<this._bitsForZoom)-1,this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._min=-r,this._max=r,this._resolution=this._mortonMax/(this._max-this._min),this._minCellSize=n*this._resolution,this._bounds=new Array(4*this._maxLevels);for(let o=0;o<this._maxLevels;o++)this._bounds[4*o]=1/0,this._bounds[4*o+1]=1/0,this._bounds[4*o+2]=-1/0,this._bounds[4*o+3]=-1/0}setMinCellSize(e){return this._minCellSize=e,this}setOffset(e){return this._offset=e,this._min=-e,this._max=e,this._resolution=this._mortonMax/(this._max-this._min),this}insert(e,t,n,r,i){t===void 0&&([t,n,r,i]=this._getBounds(e));const s=Math.max(r-t,i-n);let o,a=this._minCellSize;for(o=0;a<s&&o<this._maxLevels-1;o++)a*=2;const l=this._resolution,c=this._min,d=l*(.5*(r+t)-c)/a|0,u=l*(.5*(i+n)-c)/a|0,h=this.code(d,u,o);this._cells.has(h)||this._cells.addEntry(h),this._cells.addTo(h,e),this._objectsAtLevel[o]++,this._occupied|=1<<o;const g=4*o,p=this._bounds;return d<p[g]&&(p[g]=d),u<p[g+1]&&(p[g+1]=u),d>p[g+2]&&(p[g+2]=d),u>p[g+3]&&(p[g+3]=u),this._idToCode.set(e,h),h}has(e){return this._idToCode.has(e)}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i)}remove(e){const t=this._idToCode.get(e);this.decode(t,this._codeCache);const n=this._codeCache[2];return--this._objectsAtLevel[n]==0&&(this._occupied&=~(1<<n),this._bounds[4*n]=1/0,this._bounds[4*n+1]=1/0,this._bounds[4*n+2]=-1/0,this._bounds[4*n+3]=-1/0),this._cells.removeFrom(t,e),this._idToCode.delete(e),this}query(e,t,n,r){const i=this._cells,s=this._bounds,o=this._intersects,a=this._min,l=this._resolution;let c=this._minCellSize,d=this._occupied;const u=[];for(let h=0;h<this._maxLevels&&d!==0;c*=2,d>>=1,h++){if(!(1&d))continue;const g=1/c,p=4*h,m=Math.max(s[p],l*(e-a)*g-1|0),_=Math.max(s[p+1],l*(t-a)*g-1|0),y=Math.min(s[p+2],l*(n-a)*g+1|0),f=Math.min(s[p+3],l*(r-a)*g+1|0);for(let v=m;v<=y;v++)for(let x=_;x<=f;x++){const w=this.code(v,x,h),b=i.getItems(w);if(b!==void 0)for(let A=0;A<b.length;A++){const S=b[A];o(S,e,t,n,r)&&u.push(S)}}}return u}traverse(e,t,n,r,i){const s=this._cells,o=this._bounds,a=this._intersects,l=this._min,c=this._resolution;let d=this._minCellSize,u=this._occupied;const h=[];for(let g=0;g<this._maxLevels&&u!==0;d*=2,u>>=1,g++){if(!(1&u))continue;const p=1/d,m=4*g,_=Math.max(o[m],c*(e-l)*p-1|0),y=Math.max(o[m+1],c*(t-l)*p-1|0),f=Math.min(o[m+2],c*(n-l)*p+1|0),v=Math.min(o[m+3],c*(r-l)*p+1|0);for(let x=_;x<=f;x++)for(let w=y;w<=v;w++){const b=this.code(x,w,g),A=s.getItems(b);if(A!==void 0)for(let S=0;S<A.length;S++){const k=A[S];if(a(k,e,t,n,r)&&(h.push(k),i(k)))return h}}}return h}collisions(e,t=this._getBounds){if(typeof t!="function")throw new Error("getBounds function is required to get the object bounds");const n=Array.from(this._idToCode.keys()),r=this._min,i=this._resolution,s=this._cells,o=new vE,a=[];for(let l=0;l<n.length;l++){let c=0,d=this._minCellSize,u=this._occupied;const h=n[l];let[g,p,m,_]=t(h);const y=Math.max(m-g,_-p);for(c=0;d<y;c++)d*=2,u>>=1;g=i*(g-r),p=i*(p-r),m=i*(m-r),_=i*(_-r);for(let f=c;f<this._maxLevels&&u!==0;d*=2,u>>=1,f++){if(!(1&u))continue;const v=1/d,x=p*v-1|0,w=m*v+1|0,b=_*v+1|0;for(let A=g*v-1|0;A<=w;A++)for(let S=x;S<=b;S++){const k=this.code(A,S,f);if(o.get(k)===l)continue;o.set(k,l);const C=s.getItems(k);if(C!==void 0)for(let N=0;N<C.length;N++){const D=C[N],[j,U,F,T]=this._getBounds(D);D!==h&&e(h,j,U,F,T)&&a.push(h,D)}}}}return gO(a)}clear(){this._occupied=0,this._cells.clear(),this._idToCode.clear(),this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._bounds=new Array(4*this._maxLevels);for(let e=0;e<this._maxLevels;e++)this._bounds[4*e]=1/0,this._bounds[4*e+1]=1/0,this._bounds[4*e+2]=-1/0,this._bounds[4*e+3]=-1/0;return this}keyToBBox(e){const[t,n,r]=this.decode(e,[0,0,0]),i=this._minCellSize*(1<<r),s=this._min,o=this._resolution;return[t*i/o+s,n*i/o+s,(t+1)*i/o+s,(n+1)*i/o+s]}keys(){return Object.keys(this._cells._idToIndex)}get averageCellOccupancy(){return this._cells.averageSize}get size(){return this._idToCode.size}getBoxes(){return Array.from(this._idToCode.keys()).map(e=>this._getBounds(e))}};function gO(e){const t=new lO,n=[];for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1],o=i<s?i*s+(s-i-1)*(s-i-1)/4:i*s+(i-s-1)*(i-s-1)/4;t.has(o)||(t.add(o),n.push(i,s))}return n}function pO(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function Qi(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}var Yi=(e,t,n,r,i,s)=>({minX:e,minY:t,maxX:n,maxY:r,leaf:!0,level:s,parent:i,objects:[],final:!1,children:null});function HL(e){const{minX:t,minY:n,maxX:r,maxY:i}=e;return[t,n,r,i]}function hc(e,t,n,r,i,s,o,a){return e>=i&&n<=o&&t>=s&&r<=a}var mO=0,fO=1,_O=2,yO=3;function Cu(e,t,n,r,i,s,o,a){const l=(s+a)/2,c=(t+r)/2;return(e+n)/2<=(i+o)/2?c<=l?mO:fO:c<=l?yO:_O}var vO=e=>e,Ta=class extends GL{constructor(e=vO,t=10,n,r=0){super(),this._nodeCapacity=10,this._root=null,this._objects={},this._size=0,this._rootLevel=0,this._maxLevel=30,this._idToCell={},this._nodeCapacity=t,this._root=null,this._getBounds=e,this._rootLevel=r,this._maxLevel=r+30,this._idToCell={},n&&(this._root=Yi(n[0],n[1],n[2],n[3],null,r))}get size(){return this._size}get root(){return this._root}clear(){return this._root=null,this._objects={},this._size=0,this._idToCell={},this._rootLevel=0,this._maxLevel=this._rootLevel+30,this}insert(e,t,n,r,i,s=this._root){if(t||([t,n,r,i]=this._getBounds(e)),this._objects[e])return;if(this._objects[e]=!0,this._size++,!this._root){const g=Math.max(Math.abs(r-t),Math.abs(i-n));return this._root=Yi(t,n,t+g,n+g,null,this._rootLevel),this._idToCell[e]=[this._root],this._root.objects=[e],e}let o,a=[s],l=!1;const c=this._nodeCapacity,d=this._idToCell,u=this._maxLevel;let h;for(;h=a.pop();){o=h;const{minX:g,minY:p,maxX:m,maxY:_}=o;Qi(t,n,r,i,g,p,m,_)&&(o.leaf?o.objects&&(o.objects.length<c||o.final)?(o.objects.push(e),d[e]?d[e].push(o):d[e]=[o],l=!0,(o.level>=u||Math.abs(m-g)<=Math.abs(r-t)||Math.abs(_-p)<=Math.abs(i-n))&&(o.final=!0)):(this.splitNode(o),a.push(o)):a.push.apply(a,o.children))}if(!hc(t,n,r,i,(s=this._root).minX,s.minY,s.maxX,s.maxY)){let g=this._rootLevel;for(;!hc(t,n,r,i,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){s=this._root;const{minX:p,minY:m,maxX:_,maxY:y}=s;let f=p,v=m,x=_,w=y;const b=Math.abs(_-p),A=Math.abs(y-m);if(A===0&&b===0)break;const S=Math.max(b,A);t<p?(f-=S,n<m?v-=S:w+=S):(x+=S,n<m?v-=S:w+=S);const k=Yi(f,v,x,w,null,--g);this.splitNode(k),k.children[Cu(p,m,_,y,f,v,x,w)]=s,this._root=s.parent=k}for(a=[this._root],this._root.level=this._rootLevel;h=a.shift();)if(o=h,!o.leaf)for(let p=0;p<4;p++){const m=o.children[p];m.level=o.level+1,a.push(m)}s=this._root;for(let p=0;p<4;p++){const m=s.children[p];m&&m.leaf&&m.objects&&(m.objects.push(e),d[e]?d[e].push(m):d[e]=[m])}}return l?e:void 0}removeById(e){if(!this._objects[e])return e;this._size--;const t=this._idToCell[e];for(let n=0;n<t.length;n++){const r=t[n].objects||[];for(let i=0,s=r.length;i<s;i++)if(r[i]===e){r.splice(i,1);break}}return delete this._objects[e],delete this._idToCell[e],e}remove(e){const[t,n,r,i]=this._getBounds(e),s=[this._root];let o,a;const l=[];for(;o=s.pop();)if(Qi(t,n,r,i,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const c=o.objects||[];for(let d=0,u=c.length;d<u;d++)if(c[d]===e){c.splice(d,1),u===1&&l.push(o);break}}else s.push.apply(s,o.children);if(delete this._idToCell[e],delete this._objects[e],this._size--,l.length)for(;a=l.pop();){let c=a.parent,d=!0;for(;c&&d;){if(!c.leaf){for(let u=0;u<4;u++)if(o=c.children[u],!o.leaf||o.objects&&o.objects.length!==0){d=!1;break}d&&(c.leaf=!0,c.children=[],c.objects=[])}c=c.parent}}return e}splitNode(e){const{minX:t,minY:n,maxX:r,maxY:i}=e,s=(t+r)/2,o=(n+i)/2,a=e.level+1,l=this._idToCell,c=this._maxLevel,d=[Yi(t,n,s,o,e,a),Yi(t,o,s,i,e,a),Yi(s,o,r,i,e,a),Yi(s,n,r,o,e,a)];if(e.objects!==null){const u=e.objects,h=this._getBounds;for(let g=0,p=u.length;g<p;g++){const m=u[g],_=h(m);let y=l[m];for(let f=0;f<4;f++){const v=d[f],{minX:x,minY:w,maxX:b,maxY:A}=v;Qi(_[0],_[1],_[2],_[3],x,w,b,A)&&(v.objects&&v.objects.push(m),(v.level>=c||Math.abs(b-x)<=Math.abs(_[2]-_[0])||Math.abs(A-w)<=Math.abs(_[3]-_[1]))&&(v.final=!0),y?y.push(v):y=[v])}y&&y.splice(y.indexOf(e),1)}}e.children=d,e.objects=null,e.leaf=!1}point(e,t,n){let r=[];const i=[this._root];let s,o,a;const l=this._getBounds;for(;s=i.pop();)if(e>=s.minX&&e<=s.maxX&&t>=s.minY&&t<=s.maxY){if(s.leaf){n&&s.objects&&(r=s.objects);const c=s.objects||[];for(let d=0,u=c.length;d<u;d++)a=c[d],o=l(a),e>=o[0]&&e<=o[2]&&t>=o[1]&&t<=o[3]&&r.push(a);break}i.push.apply(i,s.children)}return r.length?r:null}neigbours(e,t){let n,r=[];const i=[this._root];for(;n=i.pop();)if(e>=n.minX&&e<=n.maxX&&t>=n.minY&&t<=n.maxY){if(n.leaf){r=n.objects;break}i.push.apply(i,n.children)}return r}query(e,t,n,r){const i=[],s=[this._root];let o,a,l;const c=this._getBounds,d={},u=this._intersects;let h;for(;o=s.pop();)if(Qi(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const g=o.objects||[];for(let p=0,m=g.length;p<m;p++)l=g[p],d[l]||(a=c(l),Qi(e,t,n,r,a[0],a[1],a[2],a[3])&&(u&&!u(l,e,t,n,r)||i.push(l)),d[l]=!0)}else h=Cu(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY),s.push(o.children[(h+3)%4],o.children[(h+2)%4],o.children[(h+1)%4],o.children[h]);return i}traverse(e,t,n,r,i){const s=[],o=[this._root];let a,l,c;const d=this._getBounds,u={},h=this._intersects;let g;for(;a=o.pop();)if(Qi(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY))if(a.leaf){const p=a.objects||[];for(let m=0,_=p.length;m<_;m++)if(c=p[m],!u[c]){if(l=d(c),Qi(e,t,n,r,l[0],l[1],l[2],l[3])&&(!h||h(c,e,t,n,r))&&(s.push(c),i(c)))return s;u[c]=!0}}else g=Cu(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY),o.push(a.children[(g+3)%4],a.children[(g+2)%4],a.children[(g+1)%4],a.children[g]);return s}getOverlaps(){const e=[this._root];let t,n,r;const i=[],s=this._getBounds,o={};for(;t=e.pop();)if(t.leaf){const a=t.objects||[],l=a.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)if(n=a[c],r=a[d],c!==d&&!o[n+":"+r]&&!o[r+":"+n]){o[n+":"+r]=!0;const u=s(n),h=s(r);Qi(u[0],u[1],u[2],u[3],h[0],h[1],h[2],h[3])&&i.push(n,r)}}else e.push.apply(e,t.children);return i}cover(e,t,n,r){if(this._root===null)return this._root=Yi(e,t,n,r,null,0),this;let i=this._root;if(!hc(e,t,n,r,i.minX,i.minY,i.maxX,i.maxY)){let s=this._rootLevel;for(;!hc(e,t,n,r,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){i=this._root;const{minX:c,minY:d,maxX:u,maxY:h}=i;let g=c,p=d,m=u,_=h;const y=Math.abs(u-c),f=Math.abs(h-d);if(f===0&&y===0)break;const v=Math.max(y,f);e<c?(g-=v,t<d?p-=v:_+=v):(m+=v,t<d?p-=v:_+=v);const x=Yi(g,p,m,_,null,--s);this.splitNode(x),x.children[Cu(c,d,u,h,g,p,m,_)]=i,this._root=i.parent=x}const o=[this._root];let a,l;for(this._root.level=this._rootLevel;a=o.shift();)if(l=a,!l.leaf)for(let c=0;c<4;c++){const d=l.children[c];d.level=l.level+1,o.push(d)}}return this}getAll(){return Object.keys(this._objects).map(e=>Number(e))}forEach(e,t){const n=[this._root];let r;for(;r=n.pop();)if(r.leaf&&r.objects)for(let i=0,s=r.objects.length;i<s;i++)e.call(t,r.objects[i]);else n.push.apply(n,r.children);return this}getLeafs(){const e=[this._root],t=[];let n;for(;n=e.pop();)n.leaf?t.push(n):e.push.apply(e,n.children);return t}traverseFromRoot(e,t){const n=[this._root];let r;for(;r=n.pop();)e.call(t,r,r.objects)||r.leaf||n.push.apply(n,r.children);return this}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i),this}getNodeBounds(e){return HL(e)}};Ta.flatAccessor=(e,t)=>n=>{const r=t*n;return e.slice(r,r+t)},Ta.inside=hc,Ta.intersects=pO,Ta.overlaps=Qi,Ta.getNodeBBox=HL;var WL=Ta;function xO(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return qL(this.cover(t,n),t,n,e)}function qL(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s,o,a,l,c,d,u,h,g=e._root,p={data:r},m=e._x0,_=e._y0,y=e._x1,f=e._y1;if(!g)return e._root=p,e;for(;g.length;)if((c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o,i=g,!(g=g[u=d<<1|c]))return i[u]=p,e;if(a=+e._x.call(null,g.data),l=+e._y.call(null,g.data),t===a&&n===l)return p.next=g,i?i[u]=p:e._root=p,e;do i=i?i[u]=new Array(4):e._root=new Array(4),(c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o;while((u=d<<1|c)==(h=(l>=o)<<1|a>=s));return i[h]=g,i[u]=p,e}function bO(e){var t,n,r,i,s=e.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,d=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,a[n]=i,r<l&&(l=r),r>d&&(d=r),i<c&&(c=i),i>u&&(u=i));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),n=0;n<s;++n)qL(this,o[n],a[n],e[n]);return this}function wO(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=s;)switch(a=(t<r)<<1|e<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function EO(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function SO(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function hr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function AO(e,t,n){var r,i,s,o,a,l,c,d=this._x0,u=this._y0,h=this._x1,g=this._y1,p=[],m=this._root;for(m&&p.push(new hr(m,d,u,h,g)),n==null?n=1/0:(d=e-n,u=t-n,h=e+n,g=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(s=l.y0)>g||(o=l.x1)<d||(a=l.y1)<u))if(m.length){var _=(i+o)/2,y=(s+a)/2;p.push(new hr(m[3],_,y,o,a),new hr(m[2],i,y,_,a),new hr(m[1],_,s,o,y),new hr(m[0],i,s,_,y)),(c=(t>=y)<<1|e>=_)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var f=e-+this._x.call(null,m.data),v=t-+this._y.call(null,m.data),x=f*f+v*v;if(x<n){var w=Math.sqrt(n=x);d=e-w,u=t-w,h=e+w,g=t+w,r=m.data}}return r}function CO(e){if(isNaN(s=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,s,o,a,l,c,d,u,h,g=this._root,p=this._x0,m=this._y0,_=this._x1,y=this._y1;if(!g)return this;if(g.length)for(;;){if((c=s>=(a=(p+_)/2))?p=a:_=a,(d=o>=(l=(m+y)/2))?m=l:y=l,t=g,!(g=g[u=d<<1|c]))return this;if(!g.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,h=u)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(g=t[0]||t[1]||t[2]||t[3])&&g===(t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[h]=g:this._root=g),this):(this._root=i,this)}function kO(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function TO(){return this._root}function LO(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function NO(e){var t,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new hr(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,s=t.x1,o=t.y1)&&l.length){var c=(r+s)/2,d=(i+o)/2;(n=l[3])&&a.push(new hr(n,c,d,s,o)),(n=l[2])&&a.push(new hr(n,r,d,c,o)),(n=l[1])&&a.push(new hr(n,c,i,s,d)),(n=l[0])&&a.push(new hr(n,r,i,c,d))}return this}function IO(e){var t,n=[],r=[];for(this._root&&n.push(new hr(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var s,o=t.x0,a=t.y0,l=t.x1,c=t.y1,d=(o+l)/2,u=(a+c)/2;(s=i[0])&&n.push(new hr(s,o,a,d,u)),(s=i[1])&&n.push(new hr(s,d,a,l,u)),(s=i[2])&&n.push(new hr(s,o,u,d,c)),(s=i[3])&&n.push(new hr(s,d,u,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function PO(e){return e[0]}function MO(e){return arguments.length?(this._x=e,this):this._x}function FO(e){return e[1]}function RO(e){return arguments.length?(this._y=e,this):this._y}function XL(e,t,n){var r=new Vv(t??PO,n??FO,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Vv(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function xE(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var ar=XL.prototype=Vv.prototype;ar.copy=function(){var e,t,n=new Vv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xE(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=xE(t));return n},ar.add=xO,ar.addAll=bO,ar.cover=wO,ar.data=EO,ar.extent=SO,ar.find=AO,ar.remove=CO,ar.removeAll=kO,ar.root=TO,ar.size=LO,ar.visit=NO,ar.visitAfter=IO,ar.x=MO,ar.y=RO;var Xl=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},DO=function(e){const t=[];let n,r,i,s,o,a,l,c=this._root;for(c&&t.push(new Xl(c,this._x0,this._y0,this._x1,this._y1));(n=t.pop())&&(l=e(c=n.node,i=n.x0,s=n.y0,o=n.x1,a=n.y1),l!=="break");)if(!l&&c.length){const d=(i+o)/2,u=(s+a)/2;(r=c[3])&&t.push(new Xl(r,d,u,o,a)),(r=c[2])&&t.push(new Xl(r,i,u,d,a)),(r=c[1])&&t.push(new Xl(r,d,s,o,u)),(r=c[0])&&t.push(new Xl(r,i,s,d,u))}return this};function Gv(e,t,n,r,i){const s=new Array(e.length);for(let o=0;o<t.length;o++){const a=r[t[o]],l=r[n[o]];s[a]=s[a]||[],s[a].push(l),i&&(s[l]=s[l]||[],s[l].push(a))}return s}function wd(e,t){return e[t]===-1?t:wd(e,e[t])}function zO(e,t,n){const r=wd(e,t),i=wd(e,n);e[r]=i}function OO(e,t,n,r=!1){const i=new Int32Array(e.length),s={};for(let o=0;o<e.length;o++)i[o]=-1,s[e[o]]=o;for(let o=0;o<t.length;o++){const a=s[t[o]],l=s[n[o]];if(r&&a===l)return!0;const c=wd(i,a),d=wd(i,l);if(c===d)return!0;zO(i,c,d)}return!1}function YL(e,t,n,r,i,s,o,a){if(r[e]=i,n[e])return!0;if(t[e])return!1;t[e]=1,n[e]=1;const l=s[e];if(l){for(const c of l)if(YL(c,t,n,r,e,s,o,a))return o.push(a[c]),!0}return n[e]=0,!1}function ZL(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Uint8Array(r),o=new Int32Array(r),a={};for(let c=0;c<r;c++)a[e[c]]=c;const l=Gv(e,t,n,a,!1);for(let c=0;c<r;c++){const d=[];if(YL(c,i,s,o,-1,l,d,e)&&d.length>1){const u=d[0];for(let h=1;h<d.length;h++)if(d[h]===u){d.length=h;break}return d.push(u),d.reverse()}}return!1}function QL(e,t,n,r,i,s,o){t[e]=1,r[e]=n;const a=i[e];if(a){for(const l of a)if(t[l]){if(l!==n)return r[l]=e,s.push(o[l]),!0}else if(QL(l,t,e,r,i,s,o))return s.push(o[l]),!0}return!1}function BO(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Int32Array(r),o={};for(let l=0;l<r;l++)o[e[l]]=l,s[l]=-1;const a=Gv(e,t,n,o,!0);for(let l=0;l<t.length;l++){const c=o[t[l]],d=o[n[l]];a[c]=a[c]||[],a[c].push(d)}for(let l=0;l<r;l++){const c=l,d=[];if(!i[c]&&QL(c,i,-1,s,a,d,e))return!0}return!1}XL.prototype.visit2=DO;var KL=class{constructor(e,t,n){this.cycles=[],this.visitedLength=0,this.visitedStack=[],this.stack=[],this.idToIndex={},this.removed={},this.nodes=e,this.visited=new Uint8Array(this.nodes.length);for(let r=0;r<e.length;r++)this.idToIndex[e[r]]=r;this.adjacency=Gv(e,t,n,this.idToIndex)}getCycles(){this.visited=new Uint8Array(this.nodes.length),this.visitedStack=[];for(let e=0;e<this.nodes.length;e++)for(this.backtrack(e,e);this.visitedLength!==0;){const t=this.visitedStack.pop();t!==void 0&&this.visited[t]&&(this.visited[t]=0,this.visitedLength--)}return this.cycles}backtrack(e,t){let n=!1;this.stack.push(t),this.visited[t]||(this.visited[t]=1,this.visitedLength++),this.visitedStack.push(t);const r=this.adjacency[t]||[];for(const i of r)if(this.removed[t]=this.removed[t]||{},!this.removed[t][i]){if(i<e)this.removed[t][i]=!0;else if(i===e){n=!0;const s=[];for(let o=0,a=!1;o<this.stack.length;o++){const l=this.stack[o];e===l&&(a=!0),a&&s.push(this.nodes[l])}this.cycles.push(s)}else if(!this.visited[i]){const s=this.backtrack(e,i);n=n||s}}if(n){let i;do i=this.visitedStack.pop(),this.visited[i]&&(this.visited[i]=0,this.visitedLength--);while(i!==t)}return this.stack.pop(),n}};function jO(){return{index:{},parent:[],count:0}}function $O(e,t){e.index[t]===void 0&&(e.count+=1,e.index[t]=e.parent.push(-e.count))}function bE(e,t){let n=e.index[t];if(n===void 0)return-1;for(;n>=0;)t=n,n=e.parent[n];return t}function UO(e,t,n){e.parent[n]=t,e.count-=1}function VO(e){return e.count<=1}function JL(e,t,n,r,i){i&&t.sort((a,l)=>i(a)-i(l));const s=[],o=jO();e.forEach(a=>$O(o,a));for(let a=0;a<t.length&&!VO(o);a++){const l=bE(o,n(t[a])),c=bE(o,r(t[a]));l!==c&&l>0&&c>0&&(UO(o,l,c),s.push(t[a]))}return s}function eN({adjacency:e,directed:t=!1,normalized:n=!0}){const r=[],i=[],s={},o={},a={},l={};let c;const d=new Array(e.length),u={},h={},g={};for(let f=0;f<e.length;f++){const v=e[f];g[v.id]=v.adj,u[v.id]=!0,h[v.id]=f,t||v.adj.forEach(x=>{u[x]=!0})}const p=Object.keys(u).map(f=>+f);for(let f=0;f<p.length;f++)d[f]=0;for(let f=0;f<p.length;f++)c=p[f],y(c),_();const m=n?p.length>2?1/((p.length-1)*(p.length-2)):0:t?0:.5;if(m)for(let f=0;f<d.length;f++)d[f]*=m;return d;function _(){for(let f=0;f<p.length;f++)l[p[f]]=0;for(;i.length;){const f=i.pop(),v=(1+l[f])/a[f],x=s[f];for(let w=0;w<x.length;++w){const b=x[w];l[b]+=a[b]*v}f!==c&&(d[h[f]]+=l[f])}}function y(f){for(let v=0;v<p.length;v++){const x=p[v];s[x]=[],o[x]=-1,a[x]=0}for(o[f]=0,a[f]=1,r.push(f);r.length;){const v=r.shift();i.push(v),g[v].forEach(x=>{o[x]===-1&&(o[x]=o[v]+1,r.push(x)),o[x]===o[v]+1&&(a[x]+=a[v],s[x].push(v))})}}}var tN=ea&&!!window.PointerEvent,Vp="pointerdown",Gp="pointermove",Hp="pointerup",Zd="pointercancel",fl={},Lg=0,nN=e=>e.pointerType==="mouse",rN=e=>e.pointerType!=="mouse";function GO(){if(ms&&Lg===0&&tN){const e=document.documentElement;e.addEventListener(Vp,iN,!0),e.addEventListener(Gp,sN,!0),e.addEventListener(Hp,Ng,!0),e.addEventListener(Zd,Ng,!0)}Lg++}function HO(){if(Lg--,ms&&Lg===0){const e=document.documentElement;e.removeEventListener(Vp,iN,!0),e.removeEventListener(Gp,sN,!0),e.removeEventListener(Hp,Ng,!0),e.removeEventListener(Zd,Ng,!0)}}function iN(e){fl[e.pointerId]=e}function sN(e){fl[e.pointerId]&&(fl[e.pointerId]=e)}function Ng(e){delete fl[e.pointerId]}function Wp(e,t){e.touches=[];for(const n in fl)e.touches.push(fl[n]);e.changedTouches=[e],t(e)}function WO(e,t,n){const r=i=>{nN(i)||(rN(i)&&i.preventDefault(),Wp(i,n))};return e(t,Vp,r,!1),r}function qO(e,t,n){const r=i=>{rN(i)&&i.preventDefault(),Wp(i,n)};return e(t,Zd,r,!1),r}function XO(e,t,n){const r=i=>{nN(i)&&i.buttons===0||Wp(i,n)};return e(t,Gp,r,!1),r}function YO(e,t,n){const r=i=>Wp(i,n);return e(t,Hp,r,!1),e(t,Zd,r,!1),r}function wE(e,t,n,r){return n==="touchstart"?e(t,Vp,r,!1):n==="touchmove"?e(t,Gp,r,!1):n==="touchend"?(e(t,Hp,r,!1),e(t,Zd,r,!1)):void 0}var st=class{constructor(e){this._ogma=e}_setModules(e){this._modules=e}onMounted(){}onReady(e){}destroy(e){}},ZO=["graphics","legend","brand"],af=300,lf=300,QO=200,KO=class extends st{constructor(){super(...arguments),this._width=af,this._height=lf,this._layers={},this._focus=!1,this._container=null,this._isFullScreen=!1,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],this._refreshUntil=0,this._currentTime=er(),this._timeouts=[],this._isDestroyed=!1,this._onDetachDom=[],this._isRealBrowser=Mp,this._isDocumentReady=Fp,this._inFrame=!1,this._mustRefresh=!1,this._nextFrame=null,this._onWindowResize=()=>this._resize(),this._onWindowFocus=()=>this.refresh(),this._onFullscreenChange=()=>{this._isFullScreen=Dc()}}onMounted(){this._modules.settings.register("minimumWidth",af,()=>this._resize(),!1),this._modules.settings.register("minimumHeight",lf,()=>this._resize(),!1),this._modules.events.register(["beforeNewFrame","frame","afterNewFrame","setContainer","resize"]),this._onDetachDom=[],GO(),this.addWindowEventListener("resize",this._onWindowResize).addWindowEventListener("focus",this._onWindowFocus)}onReady(e){var t,n;e.container&&this.setContainer(e.container),(t=e.options)!=null&&t.width||(n=e.options)!=null&&n.height?this._resize({width:e.options.width||af,height:e.options.height||lf}):this._resize()}addWindowEventListener(e,t,n){return this._isRealBrowser&&this.addElementEventListener(window,e,t,n),this}addDirectWindowEventListener(e,t,n){this._isRealBrowser&&window.addEventListener(e,t,n)}removeDirectWindowEventListener(e,t){this._isRealBrowser&&window.removeEventListener(e,t)}addDocumentEventListener(e,t,n){return this._isDocumentReady&&this.addElementEventListener(document.documentElement,e,t,n),t}removeDocumentEventListener(e,t){this._isDocumentReady&&document.documentElement.removeEventListener(e,t)}addMediaListener(e,t){if(this._isDocumentReady&&typeof window.matchMedia=="function"){const n=window.matchMedia(e);n.addListener(t),this._onDetachDom.push(()=>n.removeListener(t))}}addElementEventListener(e,t,n,r){return this._isDestroyed||(e.addEventListener(t,n,r),this._onDetachDom.push(()=>e.removeEventListener(t,n,r))),n}detachFromDom(){this._onDetachDom.forEach(e=>e()),this._onDetachDom=[],this._emptyContainer()}setTimeout(e,t=0){const n=setTimeout(()=>{this._timeouts.splice(this._timeouts.indexOf(n),1),e()},t);return this._timeouts.push(n),n}clearTimeout(e){return e&&(clearTimeout(e),this._timeouts.splice(this._timeouts.indexOf(e),1)),null}clearAllTimeouts(){this._timeouts.forEach(clearTimeout),this._timeouts=[]}stopFrames(){this._isDestroyed=!0,this._nextFrame&&(VT(this._nextFrame),this._nextFrame=null)}isDestroyed(){return this._isDestroyed}getDimensions(){return{width:this._width,height:this._height}}setDimensions(e){this._resize(e)}setLayer(e,t,{automaticResize:n=!1}={}){t&&(t._ogmaLayer=e,n&&(t.style.position="absolute",t.style.top="0px",t.style.left="0px",Sg(t,this._width,this._height,Lr()))),this._layers[e]={element:t,automaticResize:n},this._updateContainerContent()}setContainer(e){let t;if(typeof e=="string"){if(t=document.getElementById(e),!t)throw new Error(`unable to find DOM element with id "${e}"`)}else t=e;if(t===this._container)return;t===null&&this._emptyContainer();const n=this._container;this._isFullScreen=!1,this._container=t,this._container&&["fullscreenchange","webkitfullscreenchange"].forEach(r=>{this.addElementEventListener(this._container,r,this._onFullscreenChange)}),this._resize(),this._updateContainerContent(),this._modules.events.fire("setContainer",{element:t,prevElement:n})}getContainer(){return this._container}appendElement(e){this._container!==null&&this._container.appendChild(e)}focus(){this._focus=!0}blur(){this._focus=!1}hasFocus(){return this._focus}forceResize(){this._resize()}_beforeOrAfterNextFrame(e){const t=e?this._afterNextFramePromises:this._beforeNextFramePromises,n=new Promise(r=>{t.push(()=>(r(void 0),n))});return this._refresh(),n}beforeNextFrame(){return this._beforeOrAfterNextFrame(!1)}afterNextFrame(){return this._beforeOrAfterNextFrame(!0)}refresh(e){e&&(this._refreshUntil=Math.max(this._refreshUntil,e)),this._refresh()}_emptyContainer(){if(this._container){const e=[];for(let t=0;t<this._container.childNodes.length;++t){const n=this._container.childNodes[t];n._ogmaLayer&&e.push(n)}for(let t=0;t<e.length;++t)this._container.removeChild(e[t])}}_fillContainer(){if(this._container){const e=nL(this._container,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(this._container.style.position="relative");const t=this._container.firstChild;ZO.forEach(n=>{const r=this._layers[n];r&&r.element&&this._container&&this._container.insertBefore(r.element,t)})}}_updateContainerContent(){this._emptyContainer(),this._fillContainer()}_resize(e){if(!this._container&&!e)return;const t=this._width,n=this._height;let r,i;if(this._container){const s=this._modules.settings.get("minimumWidth"),o=this._modules.settings.get("minimumHeight"),a=this._container.clientWidth||1,l=this._container.clientHeight||1;r=Math.max(s,e?e.width:a),i=Math.max(o,e?e.height:l)}else e!=null&&(r=e.width,i=e.height);r===t&&i===n||(this._width=r,this._height=i,$i(this._layers,({element:s,automaticResize:o})=>{o&&Sg(s,r,i)}),this._modules.events.fire("resize",{prevWidth:t,prevHeight:n,width:r,height:i,difWidth:r-t,difHeight:i-n}))}_refresh(){this._inFrame?this._mustRefresh=!0:this._nextFrame||this._isDestroyed||(this._nextFrame=kv(()=>this._playFrame()))}_playFrame(){const e=er(),t=e-this._currentTime,n=GT([this._beforeNextFramePromises,()=>this._modules.events.fire("beforeNewFrame",{elapsed:t}),()=>this._modules.events.fire("frame",{elapsed:t}),()=>this._modules.events.fire("afterNewFrame",{elapsed:t}),this._afterNextFramePromises,()=>{this._inFrame=!1,(this._mustRefresh||e<this._refreshUntil+17)&&(this._mustRefresh=!1,this._refresh())}]);this._inFrame=!0,this._nextFrame=null,this._mustRefresh=!1,this._currentTime=e,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],n.reduce((r,i)=>r.then(()=>{if(!this._isDestroyed)return i()}),Promise.resolve())}isPlayingFrame(){return this._inFrame||!!this._nextFrame}setFullScreen(e){let t=Promise.resolve();return e!==this._isFullScreen?(this._container&&(t=e?JO(this._container):eB()),t.then(()=>new Promise(n=>{this.setTimeout(()=>{this._isFullScreen=Dc(),n(void 0)},QO)}))):t}isFullScreen(){return Dc()}debounceBeforeFrame(e){let t=!1,n=[];const r=()=>{const i=n;t=!1,n=[],e(),i.forEach(s=>s())};return()=>new Promise(i=>{n.push(i),t||(t=!0,this.beforeNextFrame().then(r))})}destroy(){HO(),this.detachFromDom(),this.clearAllTimeouts(),this.stopFrames()}};function Dc(){return typeof document<"u"&&!!(document.fullscreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)}function JO(e){return Dc()?Promise.resolve():e.requestFullscreen?e.requestFullscreen():e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?Promise.resolve(e.webkitRequestFullScreen()):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():Promise.resolve()}function eB(){return Dc()?typeof document>"u"?Promise.resolve():document.exitFullscreen?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.webkitCancelFullScreen?Promise.resolve(document.webkitCancelFullScreen()):document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve():Promise.resolve()}var tB=class extends st{constructor(){super(...arguments),this._nodeChanges=[],this._edgeChanges=[],this._shouldTriggerEvents=!1}onMounted(){this._nodeDataList=this._modules.graph.createAttribute(!0,{name:"data",storage:"any"},!1),this._edgeDataList=this._modules.graph.createAttribute(!1,{name:"data",storage:"any"},!1),this._nodeList=this._modules.graph.getNodeAttribute("object"),this._edgeList=this._modules.graph.getEdgeAttribute("object"),this._modules.events.register(["setData","updateNodeData","updateEdgeData"]),this._modules.events.on("addNodes",({nodes:e,objects:t})=>this._onAddElements(e,t)).on("addEdges",({edges:e,objects:t})=>this._onAddElements(e,t)).on("beforeNewFrame",()=>{this._shouldTriggerEvents&&(this._shouldTriggerEvents=!1,this._triggerEvents())})}_onAddElements(e,t){const{isNode:n,size:r,_indexes:i}=e,s=this[n?"_nodeDataList":"_edgeDataList"];for(let o=0;o<r;++o)s.set(i[o],t[o].data)}setProperty(e,t,n,{dispatch:r=!1}={}){this._setDataProperty(e.isNode,e._indexes,t,n,r),this._modules.events.fire("setData",{elements:e})}getProperty(e,t){return this._getDataProperty(e.isNode,e._indexes,t)}_setDataProperty(e,t,n,r,i){i&&typeof r=="function"&&(i=!1);const s=EE(n),o=typeof r=="function",a=e?this._nodeList:this._edgeList,l=e?this._nodeDataList:this._edgeDataList,c=nB(e?this._nodeChanges:this._edgeChanges,s);for(let d=0;d<t.length;++d){const u=t[d];let h=l.get(u);const g=a.get(u),p=i?r[d]:r;let m,_;if(s===null)m=h,_=o?p(g):p,l.set(u,_);else{h==null&&(h={},l.set(u,h));const y=s.length;for(let f=0;f<y;f++){const v=s[f];let x=h[v];f<y-1?(x==null&&(x={},h[v]=x),h=x):(m=x,_=o?p(g):p,h[v]=_)}}c.indexes.push(u),c.previousValues.push(m),c.newValues.push(_)}this._scheduleEvents()}_getDataProperty(e,t,n,r){const i=EE(n);r||(r=new Array(t.length));const s=e?this._nodeDataList:this._edgeDataList;for(let o=0;o<t.length;++o){const a=t[o];let l,c=s.get(a);if(i!==null&&i.length)if(c==null)l=void 0;else{const d=i.length;for(let u=0;u<d&&c;++u)l=c=c[i[u]]}else l=c;r[o]=l}return r}_scheduleEvents(){this._shouldTriggerEvents=!0,this._modules.dom.refresh()}_triggerEvents(){const e=this._prepareEvtPayload(!0),t=this._prepareEvtPayload(!1);this._modules.events.fire("updateNodeData",e),this._modules.events.fire("updateEdgeData",t)}_prepareEvtPayload(e){const t=e?this._modules.graph.nodeList:this._modules.graph.edgeList,n=e?"_nodeChanges":"_edgeChanges";let r=[];const i=this[n];this[n]=[];const s=[];for(let o=0;o<i.length;++o){const{indexes:a,property:l,newValues:c,previousValues:d}=i[o];r=r.concat(a||[]),e?s.push({property:l,newValues:c,previousValues:d,nodes:t(a)}):s.push({property:l,newValues:c,previousValues:d,edges:t(a)})}return e?{nodes:t(r).dedupe(),isNode:e,changes:s}:{edges:t(r).dedupe(),isNode:e,changes:s}}};function nB(e,t){for(let r=0;r<e.length;++r){const i=e[r],s=i.property;if(t===null&&s===null)return i;if(t&&s&&s.length===t.length){let o=!0;for(let a=0;a<s.length;++a)if(s[a]!==t[a]){o=!1;break}if(o)return i}}const n={property:t&&t.slice(),indexes:[],previousValues:[],newValues:[],nodes:null,edges:null};return e.push(n),n}function EE(e){return typeof e=="string"?e.split("."):$n(e)?e:null}var rB=[];function oN(e){typeof e=="object"&&e!==null||(e={});const t=typeof e.data=="function"?e.data:Si;return{attributes:Array.isArray(e.attributes)?e.attributes:e.attributes||rB,data:t}}function qp(e,t){for(const n of e){const r=t;Object.keys(r).forEach(i=>{const s=r[i];n.prototype[i]=function(o,a){return io(`Deprecated method "${i}"; please use "${s}" instead.`),this[s](o,a)}})}}function SE(e){const t=e.getFlexArray("removed"),n=e.getFlexArray("excluded"),r=e.getFlexArray("virtual");return{all:i=>t.get(i)===0,visible:i=>n.get(i)===0,excluded:i=>n.get(i)===1,raw:i=>r.get(i)===0&&t.get(i)===0,_all:i=>!0}}function AE(e,t,n){return{all:ku(n.all,e,t),visible:ku(n.visible,e,t),raw:ku(n.raw,e,t),_all:ku(n._all,e,t)}}function ku(e,t,n){let r=null;return{getList(){if(!r){const i=t(),s=n();s.reset();for(let o=1;o<=i;++o)e(o)&&s.push(o);r=s.sliceAndReset()}return r},invalidList(){r=null}}}function aN(e){if(e===void 0)return Math.round(Math.random()*Number.MAX_SAFE_INTEGER);if(typeof e!="string"&&(typeof e!="number"||!isFinite(e)))throw new Error(`${e} is not a valid id, expected string or number`);return e}function Ig(e,t,n={},r={}){return Ed(e,t,[n],r).get(0)}function iB(e,{nodes:t=[],edges:n=[]},r={}){if(e.fireEvent("preAddGraph",{name:"preAddGraph"}),!r.batchSize)return Promise.all([Ed(e,!0,t,r),Ed(e,!1,n,r)]).then(([s,o])=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{nodes:s,edges:o}),{nodes:s,edges:o}));let i;return _l(e,!0,t,r).then(s=>(i=s,_l(e,!1,n,r))).then(s=>({nodes:i,edges:s})).then(s=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{name:"addGraph"}),s))}function _l(e,t,n,r={}){if(r.batchSize){const i=[];for(let a=0;a<n.length;a+=r.batchSize)i.push(n.slice(a,a+r.batchSize));const s=(a,l)=>{let c;return a.then(d=>(c=d,e.getDom().afterNextFrame())).then(()=>Ed(e,t,l,r)).then(d=>c.concat(d))},o=t?e.nodeList():e.edgeList();return i.reduce(s,Promise.resolve(o))}return Promise.resolve(Ed(e,t,n,r))}function Ed(e,t,n,r){e.fireEvent("preAddElements",{name:"preAddElements",objects:n,isNode:t});const i=!!r.ignoreInvalid,s=e.storage.fetch(t),o=[],a=[],l=[],c=[],d=new Set,{virtual:u=!1}=r;for(const w of n){if(typeof w!="object"||w===null||Array.isArray(w)){if(i)continue;throw new Error(`${w} is not a valid ${t?"node":"edge"}`)}const b=aN(w.id);if(!s.getIndex(b,!1)&&!d.has(b)){if(!t){const A=w,S=e.getExtremityIndex(b,A.source,0,i),k=e.getExtremityIndex(b,A.target,1,i);if(i&&(!S||!k))continue;l.push(S),c.push(k)}a.push(b),o.push(w),d.add(b)}}const h=s.addElements(a);t?e.topology.allocateNodes(h):e.topology.allocateEdges(h,l,c);const g=s.getFlexArray("object"),p=s.getFlexArray("excluded"),m=s.getFlexArray("removed"),_=s.getFlexArray("virtual"),y=t?e.node:e.edge,f=t?e.nodeList:e.edgeList,v=e.getCacheLists(t),x=f(h);for(let w=0;w<h.length;w++){const b=h[w];g.set(b,y(b))}return p.setMultiple(h,0),m.setMultiple(h,0),_.setMultiple(h,u?1:0),v.visible.invalidList(),v.all.invalidList(),v._all.invalidList(),u||v.raw.invalidList(),x.size!==0&&(t?e.fireEvent("addNodes",{virtual:u,objects:o,nodes:x}):e.fireEvent("addEdges",{virtual:u,objects:o,edges:x})),x}var sB=1,oB=2,aB=3,lB=4,cB=5,dB=6,v0="_visible",x0="_data",uB="_compound",zc="_hovered",b0="_hoverExtremityHighlighted",Kt="_selected",w0="_selectionExtremityHighlighted",Rh="_dragged",lN="_rewirable",Mo="_export",ln="_faded",Rs="_transparent",hB="_visual_groups",Qd=-1,Tu="in",Lu="out",cf="both",CE=[Kt,Rh,w0,zc,b0,lN,Mo,ln,Rs,hB],cN=2,gB=-1,dN=3,pB=3,mB=4,uN=-1,fB=["hover","zoom","panning","rotation","gesture","drag","selection","tooltip","user","interactions","resizing","rewiring","connectNodes","lasso"],wa=void 0,_B=class{constructor(e){this._neighborTable=new f0,this._parallelTable=new f0,this._parallelEdgesIndex=[],this._hasParallelEdges=new Set,this._fakeDeduper={get:()=>0,set:ft,reset(){return this}},this._fakeInvertedDeduper={get:()=>1,set:ft,reset(){return this}},this._graph=e,this.nodeDeduper=e.createNodeAttribute({storage:1},!1),this.edgeDeduper=e.createEdgeAttribute({storage:1},!1),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target")}getAdjacentDirections(e){return this._neighborTable.get(e)}getEdgeIndexesInDirection(e){return this._parallelTable.get(e)}allocateNodes(e){this._neighborTable.reserve(e.length);for(let t=0;t<e.length;++t)this._neighborTable.addEntry(e[t])}allocateEdges(e,t,n){this._parallelTable.reserve(Math.floor(e.length/2));for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=n[r];this._sourceList.set(i,s),this._targetList.set(i,o),this.addToAdjacencyList(i)}}getExtremity(e,t){const n=e?this._sourceList:this._targetList;if(t.isList){const r=this._graph.acquireIndexList(!0);for(let i=0;i<t._indexes.length;i++)r.push(n.get(t._indexes[i]));return this._graph.nodeList(r.sliceAndReset())}return this._graph.getObjectList(!0).get(n.get(t._index))}setExtremities(e,t,n){for(let r=0;r<e.length;++r)this.removeFromAdjacencyList(e[r]);t!==null&&this._sourceList.setMultiple(e,t),n!==null&&this._targetList.setMultiple(e,n);for(let r=0;r<e.length;++r)this.addToAdjacencyList(e[r])}addToAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Vl(t,n);let i=this._parallelEdgesIndex[r];if(i===wa)i=this._parallelTable.addEntry(),this._parallelEdgesIndex[r]=i,this._neighborTable.addTo(t,i),t!==n&&this._neighborTable.addTo(n,i);else{this._hasParallelEdges.add(e);const s=this._parallelTable.get(+i);if(s)for(const o of s)this._hasParallelEdges.add(o)}this._parallelTable.addTo(i,e)}hasParallelEdges(e){return this._hasParallelEdges.has(e)}removeFromAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Vl(t,n),i=this._parallelEdgesIndex[r];i!==wa&&this._parallelTable.removeFromAndGetSize(i,e)===0&&(this._neighborTable.removeFrom(t,i),t!==n&&this._neighborTable.removeFrom(n,i),this._parallelEdgesIndex[r]=wa,this._hasParallelEdges.delete(e))}getParallelEdges(e,t={}){const n=t.filter||"visible",r=this._graph.acquireIndexList(!1),i=this._graph.getFilter(!1,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s],a=Vl(this._sourceList.get(o),this._targetList.get(o)),l=this._parallelEdgesIndex[a];if(l!==wa){const c=this._parallelTable.get(+l);if(c)for(const d of c)i(d)&&r.push(d)}}return this._graph.edgeList(r.sliceAndReset())}fastGetNodesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=this._neighborTable.get(o);for(const l of a){const c=this._parallelTable.get(l),d=c[0],u=r.get(d),h=i.get(d);if(u!==0&&h!==0){t.push(u+h-o);for(const g of c)n.push(g)}}}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}fastGetEdgesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),l=i.get(o),c=Vl(a,l),d=this._parallelEdgesIndex[c];if(d!==wa){const u=this._parallelTable.get(+d);if(u)for(const h of u)n.push(h)}t.push(a),t.push(l)}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}getDeduper(e){return(e?this.nodeDeduper:this.edgeDeduper).reset()}collectAdjacentEdges(e,t,n,r=!1,i=!1){const s=t===Tu,o=!(t===Lu||s||i),a=this._graph.acquireIndexList(!1),l=this._graph.getFilter(!1,n),c=r?this.getDeduper(!1):this._fakeDeduper;let d=this._fakeInvertedDeduper;const u=this._sourceList,h=this._targetList;if(i){d=this.getDeduper(!0);for(let g=0;g<e.length;g++)d.set(e[g],1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);if(o)for(const f of y)l(f)&&c.get(f)===0&&(a.push(f),c.set(f,1));else for(const f of y){const v=u.get(f),x=h.get(f),w=v+x-p;s!==(x===p)&&v!==x||!l(f)||c.get(f)!==0||d.get(w)!==1||(a.push(f),c.set(f,1))}}}return a.sliceAndReset()}collectAdjacentNodes(e,t,n,r=!1,i,s){const o=t!==Tu,a=t!==Lu,l=this._graph.acquireIndexList(!0),c=this._graph.getFilter(!1,n),d=r?this.getDeduper(!0):this._fakeDeduper,u=this._sourceList,h=this._targetList;if(i)for(let g=0;g<i.length;g++){const p=i[g];l.push(p),d.set(p,1)}if(s)for(let g=0;g<s.length;g++){const p=s[g];d.set(p,1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);for(const f of y)if(c(f)){const v=u.get(f),x=h.get(f),w=v+x-p;if((a&&p===x||o&&p===v)&&d.get(w)===0){l.push(w),d.set(w,1);break}}}}return l.sliceAndReset()}getAdjacentElements(e,t,n={}){const r=n.direction||cf,i=n.filter||"visible",s=n.policy||"union",o=!!n.bothExtremities;if(e){const a=s==="include-sources"?t:null,l=s==="exclude-sources"?t:null;return this.collectAdjacentNodes(t,r,i,!0,a,l)}return this.collectAdjacentEdges(t,r,i,!0,o)}getEdgesBetweenTwoNodes(e,t){const n=Vl(e,t),r=this._parallelEdgesIndex[n];if(r===wa)return new Uint32Array;const i=this._parallelTable.get(+r);return new Uint32Array(i)}getConnectedComponents(e,{filter:t="visible",returnIds:n=!1,internalIndexes:r=!1}={}){const i=this._graph,s=[],o={},a=i.acquireIndexList(!0);let l;typeof t=="string"?l=i.getFilter(!0,t):(l=t,t="visible");for(let u=0;u<e.length;u++){const h=e[u];l(h)&&a.push(h)}const c=a.sliceAndReset(),d={filter:t};for(let u=0;u<c.length;u++){const h=c[u];if(!o[h]){const g=[h],p=[];for(;g.length!==0;){const m=g.pop();!o[m]&&l(m)&&(g.push.apply(g,this.getAdjacentElements(!0,new Uint32Array([m]),d)),o[m]=!0,p.push(m))}p.length>0&&s.push(p)}}if(n){const u=i.getNodeAttribute("id");for(let h=0;h<s.length;h++)s[h]=u.getMultiple(s[h])}else if(!r)for(let u=0;u<s.length;u++)s[u]=i.nodeList(new Uint32Array(s[u]));return s}getAdjacencyList({directed:e,ids:t,weight:n,nodes:r}){const i=e?Lu:cf,s=new Array(r.length),o=this._graph;for(let p=0;p<r.length;++p)s[p]=this.collectAdjacentEdges(new Uint32Array([r[p]]),i,"all");const a=o.getEdgeAttribute("source"),l=o.getEdgeAttribute("target"),c=o.getEdgeAttribute("width"),d=o.getNodeAttribute("id"),u=[],h=typeof n=="number",g=typeof n!="function"&&!h&&!!n;for(let p=0;p<s.length;p++){const m=s[p],_=r[p],y=m.length,f=t?new Array(y):new Uint32Array(y),v=new Array(y);for(let w=0;w<y;w++){const b=m[w],A=a.get(b),S=l.get(b);let k=e||_===A?S:A;if(t&&(k=d.get(k)),f[w]=k,n){if(h&&(v[w]=n),typeof n=="function"){const C=o.getNode(A),N=o.getNode(S);v[w]=n(C,N)}g&&(v[w]=c.get(b)||1)}}const x=we({nodes:f,id:t?d.get(_):_},n&&{weights:v});u.push(x)}return u}degrees(e,t){if(t!==Tu&&t!==Lu)return this._neighborTable.sizes(e);const n=new Array(e.length),r=t===Tu;for(let i=0,s=e.length;i<s;i++)n[i]=this._degree(e[i],r);return n}_degree(e,t){const n=this._neighborTable.get(e),r=this._sourceList,i=this._targetList;let s=0;for(let o=0;o<n.length;++o){const a=this._parallelTable.get(n[o]);for(let l=0;l<a.length;++l){const c=a[l],d=r.get(c),u=i.get(c);if(t&&u===e||!t&&d===e){s+=1;break}}}return s}getDegree(e,t){const{direction:n,filter:r}=this._getDegreeOptions(t),i=new Array(e.length),s=new Uint32Array(1);for(let o=0;o<e.length;++o)s[0]=e[o],i[o]=this.collectAdjacentNodes(s,n,r).length;return i}_getDegreeOptions(e){const t={direction:cf,filter:"visible"};return typeof e=="string"?t.direction=e:e&&(typeof e.direction=="string"&&(t.direction=e.direction),typeof e.filter=="string"&&(t.filter=e.filter)),t}};function hN(e,t,n){const r=e.getObjectList(t.isNode);for(let i=0;i<t._indexes.length;++i){const s=t._indexes[i];n(r.get(s),i)}}function gN(e,t,n){const r=new Array(t.size),i=e.getObjectList(t.isNode);for(let s=0;s<t._indexes.length;++s){const o=t._indexes[s],a=i.get(o);r[s]=n(a,s)}return r}function pN(e,t,n){n=n||Bp;const r=t.isNode,i=e.acquireIndexList(r),s=e.getObjectList(r),o=e.getListFactory(r);for(let a=0;a<t._indexes.length;++a){const l=t._indexes[a],c=s.get(l);c&&n(c,a)&&i.push(l)}return o(i.sliceAndReset())}function mN(e,t,n,r){const i=e.getListFactory(t.isNode);if(!n)return{valid:t,invalid:i()};const s=e.acquireIndexList(t.isNode),o=e.acquireIndexList(t.isNode),a=e.getObjectList(t.isNode);for(let l=0;l<t._indexes.length;l++){const c=t._indexes[l],d=a.get(c);d!==void 0&&(n(d,r)?s:o).pushUnchecked(c)}return{valid:i(s.sliceAndReset()),invalid:i(o.sliceAndReset())}}function fN(e,t,n,r){const i=e.getObjectList(t.isNode);let s=r;for(let o=0;o<t._indexes.length;++o){const a=t._indexes[o];s=n(s,i.get(a),o)}return s}function _N(e,t){const n=t.isNode,r=e.topology.getDeduper(n),i=e.acquireIndexList(n),s=e.getListFactory(n);for(let o=0;o<t._indexes.length;o++){const a=t._indexes[o];r.get(a)===0&&(r.set(a,1),i.push(a))}return s(i.sliceAndReset())}function yN(e,t,n){const r=t.isNode,i=n.topology.getDeduper(r),s=n.acquireIndexList(r),o=n.getListFactory(r);for(let a=0;a<t._indexes.length;a++){const l=t._indexes[a];i.set(l,1)}for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];i.get(l)===0&&s.push(l)}return o(s.sliceAndReset())}function vN(e,t){const n=t.isNode,r=e.storage.fetch(n),i=r.getFlexArray("excluded"),s=r.getMaxIndex(),o=e.topology.getDeduper(n),a=e.acquireIndexList(n),l=e.getListFactory(n);for(let c=0;c<t._indexes.length;c++)o.set(t._indexes[c],1);for(let c=1;c<=s;++c)o.get(c)===0&&i.get(c)===0&&a.push(c);return l(a.sliceAndReset())}function xN(e,t,n){const r=e.getListFactory(t.isNode),i=new Uint32Array(t._indexes.length+n._indexes.length);return i.set(t._indexes),i.set(n._indexes,t._indexes.length),r(i)}function bN(e,t){return e.getObjectList(t.isNode).getMultiple(t._indexes)}function Xp(e,t){const n=e.getStorage(t.isNode);if(t.isList){const r=new Array(t.size);for(let i=0;i<t._indexes.length;++i)r[i]=n.getId(t._indexes[i]);return r}return n.getId(t._index)}function wN(e,t){return e.topology.getExtremity(!0,t)}function EN(e,t){return e.topology.getExtremity(!1,t)}function SN(e,t,n){return e.getObjectList(t.isNode).get(t._indexes[n])}function AN(e,t,n){const r=e.getListFactory(t.isNode),i=e.getObjectList(t.isNode),s=t._indexes.slice();return s.sort((o,a)=>{const l=i.get(o),c=i.get(a);return n(l,c)}),r(s)}var kE=new Uint32Array(1),uo=class{constructor(e,t){this.size=1,this.isNode=!1,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return kE[0]=this._index,kE}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}hasParallelEdges(){return this._ogma.modules.graph.hasParallelEdges(this)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.filter(n=>n!==this).dedupe()}}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.modules.graph.edgeList(new Uint32Array([this._index]))}getId(){return Xp(this._ogma.modules.graph,this)}getSource(){return wN(this._ogma.modules.graph,this)}getTarget(){return EN(this._ogma.modules.graph,this)}getExtremities(){return this._ogma.modules.graph.nodeList(new Uint32Array([this.getSource()._index,this.getTarget()._index]))}setSource(e){this._ogma.modules.graph.setSource(this,e)}setTarget(e){this._ogma.modules.graph.setTarget(this,e)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=oN(e);return{id:this.getId(),source:this.getSource().getId(),target:this.getTarget().getId(),attributes:this.getAttributes(t),data:n(an(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};qp([uo],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var ca=class{constructor(e,t){this.isList=!0,this.isNode=!1,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.subtract(this).dedupe()}}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return bN(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.edgeList(this._indexes.slice())}getId(){return Xp(this._ogma.modules.graph,this)}getSource(){return wN(this._ogma.modules.graph,this)}getTarget(){return EN(this._ogma.modules.graph,this)}getExtremities(){return this.getSource().concat(this.getTarget())}get(e){return SN(this._ogma.modules.graph,this,e)}forEach(e){hN(this._ogma.modules.graph,this,e)}map(e){return gN(this._ogma.modules.graph,this,e)}filter(e){return pN(this._ogma.modules.graph,this,e)}reduce(e,t){return fN(this._ogma.modules.graph,this,e,t)}concat(e){return xN(this._ogma.modules.graph,this,e)}dedupe(){return _N(this._ogma.modules.graph,this)}subtract(e){return yN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.edgeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof uo?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}sort(e){return AN(this._ogma.modules.graph,this,e)}inverse(){return vN(this._ogma.modules.graph,this)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!$n(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};qp([ca],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var Vs="geo.latitude",Gs="geo.longitude",TE="geo.prevLat",df="geo.prevLng",E0=85.0511287798,Pg=1,yB='Map data &copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap contributors</a>',Fo={latitudePath:"latitude",longitudePath:"longitude",maxZoomLevel:22,minZoomLevel:0,wrapCoordinates:!0,tileUrlTemplate:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",tileUrlSubdomains:"abc",attribution:null,attributionOptions:void 0,backgroundColor:"silver",opacity:1,duration:0,disableNodeDragging:!0,tileBuffer:1,sizeRatio:1,tiles:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",subdomains:"abc",tms:!1,wms:!1},crs:void 0},vB={maxBoundsViscosity:1,worldCopyJump:!0,zoomControl:!1,attributionControl:!1};function LE(e,t){e&&t!==void 0&&isFinite(t)&&e.setOpacity&&e.setOpacity(t)}function NE(){return ea||typeof global<"u"&&!global.process}function uf(e){return Math.log2(e)+Pg}function xB(e){return 2**(e-Pg)}function IE(e){return e!=null&&!isNaN(e)}function CN(e,t){return TN(e,t,"longitude")}function kN(e,t){return TN(e,t,"latitude")}function TN(e,t,n){if(isNaN(t))throw new TypeError(`node ${e}: ${t} is not a valid ${n}`)}function bB(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function wB(e,t){return t==null&&e.url===Fo.tiles.url?yB:null}function EB(e={},t){const{tileUrlSubdomains:n,tileUrlTemplate:r,attribution:i,attributionOptions:s,latitudePath:o,longitudePath:a,sizeRatio:l,tiles:c}=e;if(r!=null&&typeof r!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a URL string");if(n!=null&&typeof n!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a string");if(c!=null){if(!(yn(c)||c instanceof t.Layer))throw new TypeError("Geo mode: tiles must be a object or L.Layer instance");const d=c;if(d.url!=null&&typeof d.url!="string")throw new TypeError("Geo mode: tiles.url must be a string");if(d.subdomains!=null&&typeof d.subdomains!="string")throw new TypeError("Geo mode: tiles.subdomains must be a string");if(d.tms&&typeof d.tms!="boolean")throw new TypeError("Geo mode: tiles.tms must be a boolean");if(d.wms&&typeof d.wms!="boolean")throw new TypeError("Geo mode: tiles.wms must be a boolean")}if(i!=null&&typeof i!="string")throw new TypeError("Geo mode: Map attribution must be a string");if(s!=null&&!yn(s))throw new TypeError("Geo mode: attributionOptions must to be a BrandOptions object");if(o!=null&&typeof o!="string"&&!Array.isArray(o))throw new TypeError("Geo mode: Latitude path must be a valid property path: a string or an array of strings.");if(a!=null&&typeof a!="string"&&!Array.isArray(a))throw new TypeError("Geo mode: Longitude path must be a valid property path: a string or an array of strings.");if(l!=null&&(!isFinite(l)||l<=0))throw new TypeError("Geo mode: sizeRatio must be a positive number.")}function SB(e,t={}){if(t.tiles===void 0||t.tileUrlTemplate||t.tileUrlSubdomains){const n=Fo.tiles;return we(we(we({},t.tiles||{}),Fo.tiles),{url:t.tileUrlTemplate||n.url,subdomains:t.tileUrlSubdomains||n.subdomains})}return yn(t.tiles)?we(we({},e.tiles),t.tiles):t.tiles}function AB(e,t){return e.attribution!==t.attribution||e.tiles!==t.tiles}var CB=fs().createElement("div");function kB(e){const t=fs().createElement("div");t.className="ogma-geo-container",sa(t,"100%","100%");const n=e||CB;return n.insertBefore(t,n.firstChild),t}function TB(e){const t=[[1/0,1/0],[-1/0,-1/0]];return e.getGeoCoordinates().reduce((n,{latitude:r,longitude:i})=>{const[s,o]=n;return s[0]=Math.min(s[0],r),s[1]=Math.min(s[1],i),o[0]=Math.max(o[0],r),o[1]=Math.max(o[1],i),n},t)}function LB(e,t,n,r){const i=t._indexes;e.getNodeAttribute(Vs).setMultiple(i,n),e.getNodeAttribute(Gs).setMultiple(i,r)}function NB(e,t,n){const{longitudePath:r,latitudePath:i,wrapCoordinates:s}=n,[o,a]=e.getAttributes(!0,[Vs,Gs]),l=t._indexes,c=t.getId(),d=l.length,u=t.getData(i),h=t.getData(r);for(let g=0;g<d;g++){let p=h[g],m=u[g];const _=l[g],y=c[g];m!=null&&p!=null&&(CN(y,p),kN(y,m),s&&(p%=180,m=Vr(+m,-E0,E0)),a.set(_,p),o.set(_,m))}}function IB(e,{longitudePath:t,latitudePath:n,wrapCoordinates:r},i){const s=e.getData(t),o=e.getData(n);return s!=null&&o!=null&&(!(!r&&!i)||Math.abs(o)<=E0&&Math.abs(s)<=180)}function Nu(e,t,n,r){PB(e,!0,t,n,r)}function PB(e,t,n,r,i){const s=e.getAttribute(t,r),o=e.getAttribute(t,i),a=n._indexes;o.setMultiple(a,s.getMultiple(a))}function MB(e){return e.reduce((t,{nodes:n,newValues:r})=>{if(!n)return t;const i=n.filter((s,o)=>r[o]!=null);return t?t.concat(i):i},null)}function FB(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","radius"]).forEach(({text:n,radius:r},i)=>{t[e.get(i).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:n.minVisibleSize,size:Math.max(1,Number(r))}}),t}function PE(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","minVisibleSize","width"]).forEach(({text:n,minVisibleSize:r,width:i},s)=>{t[e.get(s).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:r,size:Math.max(1,Number(i))}}),t}function RB(e,t,n){if(!t||!Object.keys(t).length)return Promise.resolve();const r=e.getId().filter(i=>t[i]).map(i=>{if(!t[i])return 0;const s=Number(t[i]["text.minVisibleSize"]),o=Number(t[i].minVisibleSize),a=Number(t[i]["text.size"]),l=Number(t[i]["text.scale"]),c=Number(t[i].size)*l*n;return c<=o||c<=s?0:a});return e.setAttribute("text.size",r)}function DB(e,t){const n=e.getId().map(r=>{const i=t[r]||{};return Number(i["text.size"])});return e.setAttribute("text.size",n)}var ME=new Uint32Array(1),Hi=class{constructor(e,t){this.size=1,this.isNode=!0,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return ME[0]=this._index,ME}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this._ogma.modules.camera.graphToScreenCoordinates(this.getPosition())}isInScreen(){const e=this.getPositionOnScreen(),t=this._ogma.modules.camera;return e.x>=0&&e.x<=t.width&&e.y>=0&&e.y<=t.height}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)[0]}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}getConnectedComponent(e){return this._ogma.modules.graph.getConnectedComponentByNode(this,e)[0]}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.nodeList(new Uint32Array([+this._index]))}getId(){return Xp(this._ogma.modules.graph,this)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=oN(e),r=this.getAttributes(t);return{id:this.getId(),attributes:r,data:n(an(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getGeoCoordinates(){const e=this._ogma.modules.graph,t=e.getNodeAttribute(Vs).get(this._index),n=e.getNodeAttribute(Gs).get(this._index);return{latitude:IE(t)?t:void 0,longitude:IE(n)?n:void 0}}setGeoCoordinates(e){return this.toList().setGeoCoordinates([e]).then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};qp([Hi],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var xs=class{constructor(e,t){this.isList=!0,this.isNode=!0,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this.getPosition().map(e=>this._ogma.modules.camera.graphToScreenCoordinates(e))}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)}getConnectedComponents(e){return this._ogma.modules.graph.getConnectedComponents(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return bN(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.nodeList(this._indexes.slice())}getId(){return Xp(this._ogma.modules.graph,this)}get(e){return SN(this._ogma.modules.graph,this,e)}forEach(e){hN(this._ogma.modules.graph,this,e)}map(e){return gN(this._ogma.modules.graph,this,e)}filter(e){return pN(this._ogma.modules.graph,this,e)}reduce(e,t){return fN(this._ogma.modules.graph,this,e,t)}concat(e){return xN(this._ogma.modules.graph,this,e)}dedupe(){return _N(this._ogma.modules.graph,this)}subtract(e){return yN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.nodeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof Hi?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}inverse(){return vN(this._ogma.modules.graph,this)}sort(e){return AN(this._ogma.modules.graph,this,e)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!$n(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getGeoCoordinates(){const e=this._ogma.modules.graph,t=new Array(this._indexes.length),n=e.getNodeAttribute(Vs).getMultiple(this._indexes),r=e.getNodeAttribute(Gs).getMultiple(this._indexes);for(let i=0,s=this._indexes.length;i<s;i++)t[i]={latitude:n[i],longitude:r[i]};return t}setGeoCoordinates(e){const t=this._ogma.modules.geo,n=this.getId(),r=this._indexes,i=new Array(r.length),s=new Array(r.length);if(e===null&&(e=new Array(r.length).fill(null)),e.length!==r.length)throw new RangeError("You must provide coordinates for each node in the NodeList");for(let l=0,c=r.length;l<c;l++){let{latitude:d,longitude:u}=e[l]||{latitude:void 0,longitude:void 0};const h=n[l];d==null&&u==null?d=u=void 0:(kN(h,d),CN(h,u)),i[l]=d,s[l]=u}this.setData(t.latitudePath,i),this.setData(t.longitudePath,s);const{dom:o,graph:a}=this._ogma.modules;return LB(a,this,i,s),this._ogma.modules.geo.isEnabled()?o.afterNextFrame().then(()=>o.afterNextFrame()).then(()=>this):o.afterNextFrame().then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};function zB(e,t,n){return yl(e,!0,[t],n)}function OB(e,t,n){return yl(e,!1,[t],n)}function BB(e,t,n){return yl(e,!0,t,n)}function jB(e,t,n){return yl(e,!1,t,n)}function yl(e,t,n,r={},i=!1){Array.isArray(n)||n instanceof(t?xs:ca)||(n=[n]);const{virtual:s=!1}=r,o={elementsToRemove:e.getElements(t,n),virtual:s};e.fireEvent("requestElementsToDelete",o);let{elementsToRemove:a}=s?{elementsToRemove:n}:o;if(!a.size)return Promise.resolve();a=a.dedupe();const l=e.storage.fetch(t),c=l.getFlexArray("removed");if(a=a.filter(g=>c.get(g._index)===0),t){const g=a.getAdjacentEdges({filter:"all"}),p=g.filter(m=>m.isVirtual());yl(e,!1,g,r,!0),yl(e,!1,p,{virtual:!0},!0)}const d=a._indexes,u=e.getCacheLists(t);if(wL(l.getFlexArray("virtual").getMultiple(d))!==(s?d.length:0))throw new Error("Attempting to remove virtual elements; you should not do that");const h={virtual:s,[t?"nodes":"edges"]:a};if(e.fireEvent(t?"beforeRemoveNodes":"beforeRemoveEdges",h),u.visible.invalidList(),u.all.invalidList(),s||u.raw.invalidList(),e.setExcluded(a,!0),c.setMultiple(d,1),!t)for(let g=0;g<d.length;++g)e.topology.removeFromAdjacencyList(d[g]);return l.removeElements(d),e.fireEvent(t?"removeNodes":"removeEdges",h),Promise.resolve()}qp([xs],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var $B=class{addNodes(e,t){return _l(this.modules.graph,!0,e,t)}addEdges(e,t){return _l(this.modules.graph,!1,e,t)}addNode(e,t){return Ig(this.modules.graph,!0,e,t)}addEdge(e,t){return Ig(this.modules.graph,!1,e,t)}removeNodes(e,t){return BB(this.modules.graph,e,t)}removeEdges(e,t){return jB(this.modules.graph,e,t)}removeNode(e,t){return zB(this.modules.graph,e,t)}removeEdge(e,t){return OB(this.modules.graph,e,t)}getNodes(e){return this.modules.graph.getNodes(e)}getEdges(e){return this.modules.graph.getEdges(e)}getNode(e){return this.modules.graph.getNode(e)}getEdge(e){return this.modules.graph.getEdge(e)}clearGraph(){this.modules.graph.clear()}setGraph(e,t){return this.modules.graph.clear(),this.addGraph(e,t)}addGraph(e,t){const n=this.modules.graph.getNodes().size===0,r=iB(this.modules.graph,e,t);return n?this.modules.locate.locateGraph({padding:30,ignoreZoomLimits:!0,duration:0}).then(()=>r):r}createNodeList(){return this.getNodes([])}createEdgeList(){return this.getEdges([])}getConnectedComponents(e={}){return this.modules.graph.getConnectedComponents(this.getNodes(e.filter),e)}getConnectedComponentByNode(e,t){const n=this.modules.graph.getNode(e);if(n===void 0)throw new Error(`getComponentByNode: cannot find node ${e}`);return this.modules.graph.getConnectedComponentByNode(n,t)[0]}},UB=class extends st{constructor(){super(...arguments),this.storage={nodes:new oE(!0),edges:new oE(!1),fetch(e){return e?this.nodes:this.edges}},this._promisesToResolve=[],this._nodeIndexLists=[],this._edgeIndexLists=[],this._onNewFrame=()=>{this.storage.nodes.freeIndexes(),this.storage.edges.freeIndexes()}}onMounted(){this._modules.events.register(["preAddElements","addNodes","addEdges","preAddGraph","postAddGraph","addGraph","excludedStateChange","clearGraph","beforeRemoveNodes","requestElementsToDelete","removeNodes","beforeRemoveEdges","removeEdges"]),[{name:"excluded",storage:1,default:1},{name:"removed",storage:1,default:1},{name:"virtual",storage:1,default:0}].forEach(e=>{this.createNodeAttribute(e,!0),this.createEdgeAttribute(e,!0)}),this.node=this._ogma.node,this.edge=this._ogma.edge,this.nodeList=this._ogma.nodeList,this.edgeList=this._ogma.edgeList,this._nodes=this.createAttribute(!0,{name:"object",storage:"any"},!0),this._edges=this.createAttribute(!1,{name:"object",storage:"any"},!0),this.createAttribute(!1,{name:"source",storage:32},!0),this.createAttribute(!1,{name:"target",storage:32},!0),this._nodeFilters=SE(this.storage.nodes),this._edgeFilters=SE(this.storage.edges),this._initialize(),this._modules.events.on("frame",this._onNewFrame)}onReady(e){if(e.graph){const{nodes:t,edges:n}=e.graph;t&&this.addNodes(t),n&&this.addEdges(n)}}createIndexList(e){return this.storage.fetch(e).createIndexList()}getDom(){return this._modules.dom}acquireIndexList(e){const t=e?this._nodeIndexLists:this._edgeIndexLists;let n=t.find(r=>!r.isBusy());return n||(n=this.createIndexList(e),t.push(n)),n.markBusy(),n}getObjectList(e){return e?this._nodes:this._edges}getListFactory(e){return e?this.nodeList:this.edgeList}getStorage(e){return e?this.storage.nodes:this.storage.edges}getFilter(e,t){const n=e?this._nodeFilters:this._edgeFilters;return n[t]||n.visible}fireEvent(e,t){this._modules.events.fire(e,t)}getCacheLists(e){return e?this._nodeCacheLists:this._edgeCacheLists}_resolvePromises(){const e=this._promisesToResolve;this._promisesToResolve=[],e.forEach(t=>t())}_initialize(){this._nodeCacheLists=AE(()=>this.getNodeMaxIndex(),()=>this.acquireIndexList(!0),this._nodeFilters),this._edgeCacheLists=AE(()=>this.getEdgeMaxIndex(),()=>this.acquireIndexList(!1),this._edgeFilters),this.topology=new _B(this),this._resolvePromises()}getNodeMaxIndex(){return this.storage.nodes.getMaxIndex()}getEdgeMaxIndex(){return this.storage.edges.getMaxIndex()}isExcluded(e){return this.storage.fetch(e.isNode).getFlexArray("excluded").getMultiple(e._indexes)}setExcluded(e,t){const n=t?1:0,r=e.isNode,i=this.storage.fetch(r),s=i.getFlexArray("excluded"),o=i.getFlexArray("removed"),a=this.acquireIndexList(r),l=this.getListFactory(r);for(let d=0;d<e._indexes.length;d++){const u=e._indexes[d],h=s.get(u),g=o.get(u);n!==h&&g===0&&a.push(u)}const c=a.sliceAndReset();if(c.length){this.getCacheLists(e.isNode).visible.invalidList();const d=l(c);s.setMultiple(c,n),this._modules.events.fire("excludedStateChange",{elements:d,value:t})}}addNode(e,t){return Ig(this,!0,e,t)}addEdge(e,t){return Ig(this,!1,e,t)}addNodes(e,t){return _l(this,!0,e,t)}addEdges(e,t){return _l(this,!1,e,t)}getExtremityIndex(e,t,n,r){if(t instanceof Hi)return t._index;{const i=this.storage.nodes.getIndex(t);if(!i&&!r)throw new Error(`addEdge(s): invalid ${n===0?"source":"target"} for edge "${e}"; node "${t}" does not exist`);return i}}getNodes(e){return this.getElements(!0,e)}getEdges(e){return this.getElements(!1,e)}getElements(e,t){const n=e?this.nodeList:this.edgeList,r=e?xs:ca,i=e?Hi:uo;if(t&&typeof t!="string"){const s=this.acquireIndexList(e),o=this.storage.fetch(e);if(t instanceof i)s.push(t._index);else if($n(t)){const a=t;for(const l of a)if(l instanceof i)s.push(l._index);else{const c=o.getIndex(l);c&&s.push(c)}}else if(t instanceof r){const a=this.getFilter(e,"all"),l=t;for(let c=0;c<l._indexes.length;c++){const d=l._indexes[c];a(d)&&s.push(d)}}return n(s.sliceAndReset())}{const s=t||"visible",o=this.getCacheLists(e)[s];if(!o)throw new Error(`getNodes/getEdges: unexpected argument "${s}"`);return n(o.getList())}}getNode(e){return this._getElement(!0,e)}getEdge(e){return this._getElement(!1,e)}_getElement(e,t){if(t instanceof(e?Hi:uo))return t;const n=this.getStorage(e),r=this.getObjectList(e),i=n.getIndex(t);return i?r.get(i):void 0}clear(){this._modules.events.fire("clearGraph",{nodes:this.getNodes("all"),edges:this.getEdges("all")}),this.storage.nodes.clear(),this.storage.edges.clear(),this._initialize()}createAttribute(e,t,n=!1){return this.storage.fetch(e).createFlexArray(t,n)}createNodeAttribute(e,t){return this.createAttribute(!0,e,t)}createEdgeAttribute(e,t){return this.createAttribute(!1,e,t)}getAttribute(e,t){return this.storage.fetch(e).getFlexArray(t)}getAttributes(e,t){return t.map(n=>this.getAttribute(e,n))}getNodeAttribute(e){return this.storage.nodes.getFlexArray(e)}getNodeAttributes(e){return this.getAttributes(!0,e)}getEdgeAttribute(e){return this.storage.edges.getFlexArray(e)}getEdgeAttributes(e){return this.getAttributes(!1,e)}getAllNodeAttributes(){return this.storage.nodes.getAllFlexArrays()}getAllEdgeAttributes(){return this.storage.edges.getAllFlexArrays()}setSource(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,n._indexes,null)}setTarget(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,null,n._indexes)}getParallelEdges(e,t={}){return this.topology.getParallelEdges(e,t)}hasParallelEdges(e){return this.topology.hasParallelEdges(e._index)}getEdgesBetweenTwoNodes(e,t){return this.edgeList(this.topology.getEdgesBetweenTwoNodes(e._index,t._index))}getAdjacentDirections(e){return this.topology.getAdjacentDirections(e)}getEdgeIndexesInDirection(e){return this.topology.getEdgeIndexesInDirection(e)}fastGetNodesAdjacentElements(e){const t=this._ogma.getNodes();let n=!1;if(t.size===e.size){const r=new Set(e._indexes);for(let i=0;i<t.size;i++)r.delete(t._indexes[i]);n=r.size===0}return n?{nodes:t,edges:this._ogma.getEdges()}:this.topology.fastGetNodesAdjacentElements(e._indexes)}fastGetEdgesAdjacentElements(e){const t=this._ogma.getEdges();let n=!1;if(t.size===e.size){const r=new Set(e._indexes);for(let i=0;i<t.size;i++)r.delete(t._indexes[i]);n=r.size===0}return n?{nodes:this._ogma.getNodes(),edges:t}:this.topology.fastGetEdgesAdjacentElements(e._indexes)}getAdjacentNodes(e,t){return this.nodeList(this.topology.getAdjacentElements(!0,e._indexes,t))}getAdjacentEdges(e,t){return this.edgeList(this.topology.getAdjacentElements(!1,e._indexes,t))}getDegree(e,t){return this.topology.getDegree(e._indexes,t)}degrees(e,t){return this.topology.degrees(e,t)}getAdjacencyList({directed:e=!1,internalIndexes:t=!1,weight:n=1,nodes:r,indexes:i}={}){return this.topology.getAdjacencyList({directed:e,weight:n,ids:!t,nodes:i||this.getNodes(r)._indexes})}getConnectedComponents(e,t){return this.topology.getConnectedComponents(e._indexes,t)}getConnectedComponentByNode(e,t){return this.topology.getConnectedComponents(e._indexes,t)}},VB=Fp&&document.fonts,GB=200,hf="/qwerty/ [HELLO] ",FE="serif",HB=16,WB=class{constructor(){this._fontFaceSet=VB?document.fonts:null,this._canvas=Vn(),this._ctx=this._canvas.getContext("2d")}_measureText(e,t){return this._ctx.font=`12px ${t}`,this._ctx.measureText(e).width}check(e){if(e===FE)return!0;const t=this._measureText(hf,FE);return this._measureText(hf,e)!==t}load(e){return this._fontFaceSet&&this._fontFaceSet.load?this._fontFaceSet.load(`12px ${e}`):(this._ctx.font=`12px ${e}`,this._ctx.fillText(hf,10,50),Promise.resolve())}},qB=class{constructor(e,t){this._fontLoaderCounter=0,this._loaded=!1,this._value=null,this._timeout=0,this._fontFaceSet=e,this._fontName=t,this._loaded=!1,this._value=null,this._timeout=0,Fp&&!this._fontFaceSet.check(this._fontName)||this._setLoaded()}_setLoaded(){this._loaded=!0,this._value=this._fontName}getValue(){return this._value}isLoaded(){return this._loaded}destroy(){clearTimeout(this._timeout)}load(){return this._tryLoad(GB).then(()=>{this._setLoaded()})}_tryLoad(e){return this._fontFaceSet.load(this._fontName).then(()=>{if(!this._fontFaceSet.check(this._fontName)&&this._fontLoaderCounter<HB)return new Promise(t=>{e<6e4&&(this._timeout=setTimeout(t,e))}).then(()=>(this._fontLoaderCounter++,this._tryLoad(1.5*e)))})}},XB=class{constructor(){this._fontFaceSet=new WB,this._fonts={},this._onFontLoaded=[],this._hideUntilFontsLoaded=!0}setHideUntilFontsLoaded(e){this._hideUntilFontsLoaded=e}getFont(e){let t=this._fonts[e];return t||(t=new qB(this._fontFaceSet,e),this._fonts[e]=t,t.isLoaded()||t.load().then(()=>this._triggerFontLoaded(e))),!this._hideUntilFontsLoaded&&e||t.getValue()}onFontLoaded(e){this._onFontLoaded.push(e)}destroy(){this._onFontLoaded=[],Object.keys(this._fonts).forEach(e=>this._fonts[e].destroy())}_triggerFontLoaded(e){this._onFontLoaded.forEach(t=>t(e))}},YB=0,ZB=1,QB=2,KB=3,JB=4,e4=5,t4=6,n4=7,r4=8,i4=9,Yp=10,s4=0,LN=1,NN=2,Hv=30,IN=0,o4=1,a4=2,Wv=3,l4=4,c4=5,qv=6,PN=1e-6,ii=Math.PI,Oc=2*Math.PI,MN=ii*(5/4),FN=ii*(7/4),RN=ii*(3/4),DN=ii*(1/4),RE=1.1,DE=.07,d4=1,zE=1,OE=.17,u4=1,h4=-ii/2,g4=ii/2,p4={plain:{dash:0,gap:0},dashed:{dash:3,gap:1},dotted:{dash:1,gap:3}},m4={right:0,top:-Math.PI/2,left:Math.PI,bottom:Math.PI/2,center:0},f4={right:Math.PI,top:-Math.PI/2,left:0,bottom:Math.PI/2,center:0};function _4(e,t,n,r){Xv(e,t,n,r),e.thicknessOrFontSizeScaled=t.widthScaled,e.thicknessOrFontSizeFixed=t.widthFixed,e.strokeWidthScaled=t.stroke.widthScaled,e.strokeWidthFixed=t.stroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.color,e.strokeColor=t.stroke.color,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=t.stroke.minVisibleSize,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}function Xv(e,t,n,r){e.pieceId=n,e.shape=r,e.x1=t.sourceX,e.y1=t.sourceY,e.x2=t.targetX,e.y2=t.targetY,e.rectWidthOrSourceRadiusScaled=t.sourceRadiusScaled,e.rectWidthOrSourceRadiusFixed=t.sourceRadiusFixed,e.rectHeightOrTargetRadiusScaled=t.targetRadiusScaled,e.rectHeightOrTargetRadiusFixed=t.targetRadiusFixed,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.widthScaled,e.curvature=t.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=t.isSelfLoop,e.isText=!1}function y4(e,t,n){const r=t.widthScaled+2*t.halo.widthScaled,i=t.widthFixed+2*t.halo.widthFixed;Xv(e,t,n,"line"),e.thicknessOrFontSizeScaled=r,e.thicknessOrFontSizeFixed=i,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.halo.color,e.strokeColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1}function v4(e,t,n,r){Xv(e,t,n,r);const i=t.widthFixed*OE+u4;e.thicknessOrFontSizeScaled=t.widthScaled*zE,e.thicknessOrFontSizeFixed=t.widthFixed*zE,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=t.widthScaled*OE,e.offsetFixed=i,e.fillColor=t.outline.color,e.strokeColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,t.outline.minVisibleSize),e.strokeMinVisibleSize=0,e.offsetAngle=Math.PI/2,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}var xi=1,Uo=2,Mg=3,S0=1,so=2,Ro=3,Kd=4,Vo=5,Go=6,ho=7,ci=1,Zp=2,Yv=3,Zv=4,Ha=5,il=6,sl=1,zN=2,ON=3;function x4(e,t,n){BN(e,t,n),e.pattern.type=ho,e.pattern.attributes.text=t.content,e.pattern.attributes.size=Qd,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternColor=t.color,e.patternScale=1,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function b4(e,t,n){BN(e,t,n),e.pieceId+=il,e.fillColor=t.backgroundColor,e.shape="square"}function BN(e,t,n){const r=t.position==="centered"?0:(n.widthScaled+t.heightScaled)/2+n.stroke.widthScaled,i=t.position==="centered"?0:(n.widthFixed+t.heightFixed)/2+n.stroke.widthFixed+t.padding+t.margin;e.pieceId=Ha,e.shape="square",e.x1=n.sourceX,e.y1=n.sourceY,e.x2=n.targetX,e.y2=n.targetY,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding+1,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=n.sourceRadiusScaled+n.targetRadiusScaled,e.strokeWidthFixed=n.sourceRadiusFixed+n.targetRadiusFixed,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,n.minVisibleSize),e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.offsetAngle,e.patternScale=0,e.symbolicSize=n.widthScaled,e.curvature=n.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=n.isSelfLoop,e.isText=!1,e.adjustTextAngle=t.adjustAngle}var Jd="shifted",w4="centered";function Qv(e,t){if(t<2)return e;const n=e.split(`
`),r=[];for(let i=0;i<n.length;++i){const s=n[i];if(s.length<t)r.push(s);else{const o=jN(n[i],t);for(let a=0;a<o.length;++a)r.push(o[a])}}return r.join(`
`)}function jN(e,t){const n=[""],r=e.split(" ");for(let i=0;i<r.length;i++){const s=n[n.length-1],o=r[i];s.length+1+o.length<=t&&s.length?n[n.length-1]+=(s.length>0?" ":"")+o:n.push(o)}return n}function $N(e,t){if(e===null)return null;const n=(e=e.toString()).split(`
`),r=[];let i=0;for(let s=0;s<n.length;s++){let o=n[s];if(!t||t<=1||o.length<t)r.push(o),i=Math.max(i,o.length);else{const a=jN(n[s],t);for(let l=0;l<a.length;l++)o=a[l],r.push(o),i=Math.max(i,o.length)}}return{data:r,maxLength:i,lines:r.length}}function UN(){const e=li("@mapbox/mapbox-gl-rtl-text")||li("mapbox-gl-rtl-text"),t=e?e.processBidirectionalText:ea?window.processBidirectionalText:null,n=e?e.applyArabicShaping:ea?window.applyArabicShaping:null;return{processBidirectionalText:t?i=>{if(i===null||i==null)return"";const s=[];let o=0,a="";const l=i.split(`
`);for(let c=0;c<l.length;c++){const d=l[c],u=l[c].length+o;u>0&&c<l.length-1&&s.push(u),a+=c>0?""+d:d,o+=d.length}return t(a,s).join(`
`)}:i=>i,applyArabicShaping:n?i=>i==null?null:typeof i=="number"?i.toString():n(i):i=>i==null?null:i.toString()}}var E4=e=>!!e||e===0;function Ai(e,t,n=0){return e==="inherit"?Array.isArray(t)?t[((n/(2*Math.PI)*t.length|0)+1)%t.length]:t:e}function S4(e,t,n){return e==="source"?Array.isArray(t)?t[0]:t:e==="target"?Array.isArray(n)?n[0]:n:e}function A4(e){const t=e.depth;return t===NN||t===LN||(t-Hv)%qv>=Wv}function VN(e){const t=(e.depth-Hv)%qv;return t>=0&&t!==IN&&t!==Wv}function BE(e,t,n,r,i,s){C4(e,t,n,r,i,s),jE(e,t,n,r.text,i.texts.primary,s.texts.primary,s),jE(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s)}function C4(e,t,n,r,i,s){if(r.width.get(n)!==0){if(gf(i.body,s,_4),i.halo.body){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),gf(i.halo,s,y4)}i.outline.body&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),gf(i.outline,s,v4))}}function gf(e,t,n){n(e.body,t,Zp,t.shape.body),e.head&&n(e.head,t,Yv,t.shape.head),e.tail&&n(e.tail,t,Zv,t.shape.tail)}function jE(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Ai(a.color.get(n),o.color),s.position=a.position?a.position.get(n):Jd,s.style=a.style.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=Qv(s.content,s.maxLineLength),s.adjustAngle=a.adjustAngle.get(n),s.align=a.align.get(n),l){const d=a.scale.get(n);s.sizeScaled=o.widthScaled*d,s.sizeFixed=o.widthFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.offsetAngle=s===o.texts.primary?h4:g4,x4(i.text,s,o),i.background&&b4(i.background,s,o)}}function $E(e,t){pf(e.body,t,!0,!0),pf(e.outline,t,t.outline.enabled,!0),pf(e.halo,t,!!t.halo.color,!1),UE(e.texts.primary,t.texts.primary),UE(e.texts.secondary,t.texts.secondary)}function pf(e,t,n,r){e.body=n,e.head=n&&r&&!!t.shape.head,e.tail=n&&r&&!!t.shape.tail}function UE(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor}var Kv=512,Jv=128,GN=Math.round(Math.log2(Kv)),ex=Math.round(Math.log2(Jv)),k4=GN+ex,Wa=255,T4=32767,HN=65535,A0=15,qa=3,Fg=15,Dh=32,Ds=128,C0=8,k0=1/16,T0=Math.round(Math.sqrt(Fg+1)),L0=Ds*T0,Kn=16,go=1,pi=256,L4=128,N4=128,Rg=1.5,WN=1,vl=56,I4=16,P4=2*vl+I4,zh=6,qN=3,cr=41,Qp=5,Dg=5,XN=.9721,Sd=24,M4=1.4142;function Iu(e,t,n,r,i){const s=1-i;return s*s*s*e+3*i*s*s*t+3*i*i*s*n+i*i*i*r}function Xa(e,t,n,r){const i=1-r;return i*i*e+2*i*r*t+r*r*n}var YN=(e,t)=>2/(1+Math.exp(-Math.abs(e*t)));function ki(e,t,n,r,i,s){const o=s||{x:0,y:0},a=(e+n)/2,l=(t+r)/2,c=e-n,d=t-r,u=Math.sqrt(c*c+d*d);if(u===0)return o.x=a,o.y=l,o;const h=d/u,g=-c/u,p=-u*i/Qp;return o.x=a+h*p,o.y=l+g*p,o}function da(e,t,n,r,i,s){const o=s||{x1:0,y1:0,x2:0,y2:0},a=(r+r/Dg*n)*Dg,l=-i+ii,c=ii/2-i;return o.x1=e+Math.cos(l)*a,o.y1=t+Math.sin(l)*a,o.x2=e+Math.cos(c)*a,o.y2=t+Math.sin(c)*a,o}function VE(e,t,n,r,i,s){F4(e,t,n,r,i,s),GE(e,t.texts.primary,n.text,r,t),GE(e,t.texts.secondary,n.text.secondary,r,t)}function F4(e,t,n,r,i,s){const o=i.source,a=i.target,l=n.source.get(r),c=n.target.get(r),d=o.x.get(l),u=o.y.get(l),h=o.radius.get(l),g=o.color.get(l),p=+(o.scalingMethod.get(l)==="scaled"),m=a.x.get(c),_=a.y.get(c),y=a.radius.get(c),f=a.color.get(c),v=+(a.scalingMethod.get(c)==="scaled"),x=S4(n.color.get(r),g,f),w=n.width.get(r),b=n.scalingMethod.get(r)==="scaled"?1:0,A=n.stroke.width.get(r),S=n.stroke.scalingMethod.get(r)==="scaled"?1:0,k=p4[n.shape.style.get(r)],C=n.adjustAnchors.get(r);if(t.source=l,t.target=c,t.sourceX=d,t.sourceY=u,t.targetX=m,t.targetY=_,t.sourceRadiusScaled=h*p,t.sourceRadiusFixed=h*(1-p),t.targetRadiusScaled=y*v,t.targetRadiusFixed=y*(1-v),t.widthScaled=w*b,t.widthFixed=w*(1-b),t.curvature=n.curvature.get(r),t.isSelfLoop=l===c,t.color=x,t.opacity=n.opacity.get(r),t.minVisibleSize=n.minVisibleSize.get(r),t.shape.body=n.shape.body.get(r),t.shape.head=n.shape.head.get(r),t.shape.tail=n.shape.tail.get(r),t.shape.dashLength=k.dash,t.shape.gapLength=k.gap,t.shape.isBodyTriangle=t.shape.body==="triangle",t.stroke.color=Ai(n.stroke.color.get(r),x),t.stroke.widthScaled=A*S,t.stroke.widthFixed=A*(1-S),t.stroke.minVisibleSize=n.stroke.minVisibleSize.get(r),t.halo.color=n.halo.color.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1,C&&(t.shape.head||t.shape.tail||t.shape.body==="triangle")){const N=t,D=N.curvature,j=N.sourceX,U=N.sourceY,F=N.targetX,T=N.targetY;let q=1,V=1;if(D){if(!N.isSelfLoop){const J=ki(j,U,F,T,D/2);q=Pu(N,s,o,l,j,U,J.x,J.y),V=Pu(N,s,a,c,F,T,J.x,J.y)}}else q=Pu(N,s,o,l,j,U,F,T),V=Pu(N,s,a,c,F,T,j,U);t.sourceRadiusScaled*=q,t.sourceRadiusFixed*=q,t.targetRadiusScaled*=V,t.targetRadiusFixed*=V}}function GE(e,t,n,r,i){t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Ai(n.backgroundColor.get(r),i.color)}function Pu(e,t,n,r,i,s,o,a){const l=t.angle||0;let c,d=Math.atan2(a-s,o-i)-l,u=1,h=0;d<-ii?d+=Oc:d>ii&&(d-=Oc),d<-ii/2?(h=MN,c=n.badges.topLeft):d<0?(h=FN,c=n.badges.topRight):d<ii/2?(h=DN,c=n.badges.bottomRight):(h=RN,c=n.badges.bottomLeft),h+=l;const g=c.text.content&&c.text.content.get(r),p=c.image.url&&c.image.url.get(r);if(E4(g)||p){const m=c.positionScale.get(r),_=c.scale.get(r),y=BL(o,a,i,s,i+Math.cos(h)*m,s+Math.sin(h)*m,_);if(y){const f=y.x-i,v=y.y-s,x=Math.sqrt(f*f+v*v);u=Math.max(u,x)}}if(n.shape.get(r)==="square"){const m=Math.abs(Math.cos(d)),_=Math.abs(Math.sin(d)),y=1/Math.max(m,_);u=Math.max(u,y)}return u}function HE(){return{source:0,target:0,sourceX:0,sourceY:0,targetX:0,targetY:0,sourceRadiusScaled:0,sourceRadiusFixed:0,targetRadiusScaled:0,targetRadiusFixed:0,widthScaled:0,widthFixed:0,curvature:0,isSelfLoop:!1,color:"",opacity:0,minVisibleSize:0,shape:{body:"line",head:null,tail:null,dashLength:0,gapLength:0,isBodyTriangle:!1},stroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,color:""},outline:{enabled:!1,color:"",minVisibleSize:0},textHidden:!1,texts:{primary:WE(),secondary:WE()}}}function WE(){return{align:"left",hidden:!1,content:"",backgroundColor:"",font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",minVisibleSize:0,margin:0,padding:0,position:Jd,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,adjustAngle:!1,offsetAngle:0}}function R4(e){return e===null?e:void 0}function On(e){return typeof e=="boolean"||e===0||e===1?e:void 0}function Ho(e){return typeof e=="number"&&isFinite(e)?e:void 0}function Jt(e){return typeof e=="number"&&isFinite(e)&&e>=0?e:void 0}var ZN=-100,D4=400,QN=e=>typeof e=="number"&&isFinite(e)&&e>=ZN&&e<=D4?e:void 0;function ss(e){return e===null||typeof e=="string"||typeof e=="number"?e:void 0}function Hs(e){return e==="fixed"||e==="scaled"?e:void 0}function Ws(e){return nr(e)?e:void 0}function z4(e){return e===w4||e===Jd?e:void 0}function Qn(e){return e==="inherit"||nr(e)?e:void 0}function O4(e){return e==="source"||e==="target"||nr(e)?e:void 0}function ol(e){return e===null?null:typeof e=="string"?e.split(",").map(t=>{const n=t.trim(),r=n.indexOf(" ")!==-1,i=n[0];return r&&i!=='"'&&i!=="'"?`"${n}"`:n}).join(","):void 0}function al(e){return e==="none"?"normal":e==="normal"||e==="italic"||e==="bold"||e==="italic bold"||e==="bold italic"?e:void 0}function zg(e){return e==="left"||e==="center"?e:void 0}function B4(e){return e==="equilateral"?"pentagon":e==="circle"||e==="square"||e==="cross"||e==="diamond"||e==="pentagon"||e==="star"?e:void 0}function j4(e){return["line","tapered","arrow","dashed","dotted"].includes(e)?e:void 0}function $4(e){return e==="line"||e==="triangle"?e:void 0}function qE(e){return[null,"arrow","circle-hole-arrow","triangle-hole-arrow","short-arrow","sharp-arrow","circle","square"].includes(e)?e:void 0}function U4(e){return e==="plain"||e==="dashed"||e==="dotted"?e:void 0}function V4(e){return e==="top"||e==="bottom"||e==="left"||e==="right"||e==="center"?e:void 0}function G4(e){if(nr(e))return e;if(Array.isArray(e)){if(e.length<1)return;for(let t=0;t<e.length;++t)if(!nr(e[t]))return;return e}}function zt(e){return function(t){if(typeof t=="number")return isFinite(t)&&t>=0?t:void 0;if(typeof t!="string"||t.charAt(t.length-1)!=="%")return;const n=parseFloat(t);return isNaN(n)?void 0:e*n/100}}function tx(){return{edgeHalo:0,nodeHaloStroke:0,nodeHalo:0,edgeBody:0,edgeTextBackground:0,edgeText:0,nodeBody:0,nodeTextBackground:0,nodeText:0}}function Ad(e,t=tx()){const n=(e-ZN)*qv+Hv;return t.edgeHalo=s4,t.nodeHaloStroke=LN,t.nodeHalo=NN,t.edgeBody=n+IN,t.edgeTextBackground=n+o4,t.edgeText=n+a4,t.nodeBody=n+Wv,t.nodeTextBackground=n+l4,t.nodeText=n+c4,t}var H4=(e,t)=>{t.halo.body=t.halo.body||e.halo.body,t.halo.head=t.halo.head||e.halo.head,t.halo.tail=t.halo.tail||e.halo.tail,t.outline.body=t.outline.body||e.outline.body,t.outline.head=t.outline.head||e.outline.head,t.outline.tail=t.outline.tail||e.outline.tail,t.body.body=t.body.body||e.body.body,t.body.head=t.body.head||e.body.head,t.body.tail=t.body.tail||e.body.tail;const n=t.texts,r=e.texts;n.primary.text=n.primary.text||r.primary.text,n.primary.background=n.primary.background||r.primary.background,n.secondary.text=n.secondary.text||r.secondary.text,n.secondary.background=n.secondary.background||r.secondary.background},KN=e=>(t,n)=>{n.halo.body=t.halo.body[e],n.halo.head=t.halo.head[e],n.halo.tail=t.halo.tail[e],n.outline.body=t.outline.body[e],n.outline.head=t.outline.head[e],n.outline.tail=t.outline.tail[e],n.body.body=t.body.body[e],n.body.head=t.body.head[e],n.body.tail=t.body.tail[e],n.texts.primary.text=t.texts.primary.text[e],n.texts.primary.background=t.texts.primary.background[e],n.texts.secondary.text=t.texts.secondary.text[e],n.texts.secondary.background=t.texts.secondary.background[e]},W4=KN("start"),q4=KN("end"),X4=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,view:i,attributes:s,attributesPrev:o,nodeAttributes:a,nodeAttributesPrev:l}){this._fullComponents=Yl(),this._startComponents=Yl(),this._endComponents=Yl(),this._startFlags=Yl(),this._endFlags=Yl(),this._startInput=HE(),this._endInput=HE(),this._depthInfo=tx(),this._nullElt={id:-1,valid:!0},this._engine=e,this._view=i,this._helper={imageManager:t,fontManager:n,formatText:r},this._attributes=s,this._attributesPrev=o,this._nodeAttributes=a,this._nodeAttributesPrev=l,this._layers=XE(()=>e.createGroup()),this._blockIds=XE(()=>0)}drawEdge(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=-e,i=this._attributes,s=Ad(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.source.get(e),a=i.target.get(e),l=i.curvature.get(e),c=this._attributesPrev.curvature.get(e),d=i.animationDuration.get(e),u=i.animationStart.get(e),h=i.animationEasing.get(e),g=d>0,p=l!==0||g&&c!==0;this._prepareBlocks(g,s,r,p);const m=this._extremitiesAttributes={source:this._nodeAttributes,target:this._nodeAttributes};if(VE(n,this._endInput,i,e,m,this._view),$E(this._endFlags,this._endInput),g){const _=this._nodeAttributes.animationDuration.get(o)>0,y=this._nodeAttributes.animationDuration.get(a)>0;m.source=_?this._nodeAttributesPrev:this._nodeAttributes,m.target=y?this._nodeAttributesPrev:this._nodeAttributes,VE(n,this._startInput,this._attributesPrev,e,m,this._view),$E(this._startFlags,this._startInput),H4(this._endFlags,this._startFlags)}this._initComponents(this._fullComponents,this._endFlags,this._layers),q4(this._fullComponents,this._endComponents),BE(t,n,e,this._attributes,this._endComponents,this._endInput),g&&(W4(this._fullComponents,this._startComponents),BE(t,n,e,this._attributesPrev,this._startComponents,this._startInput),this._setBlocksAnimation(d,u,h)),this._setupHaloMasking(o,a),this._storeBlocks()}_setupHaloMasking(e,t){const n=this._nodeAttributes.halo,r=this._layers,i=n.color.get(e)&&n.hideNonAdjacentEdges.get(e),s=n.color.get(t)&&n.hideNonAdjacentEdges.get(t),o=!i&&!s?ON:sl;r.body.stencilUsage=r.text.stencilUsage=r.textBg.stencilUsage=o}_computeBlockIds(e){const t=e*Yp,n=this._blockIds;n.body=t+e4,n.halo=t+r4,n.text=t+t4,n.textBg=t+n4}_prepareBlocks(e,t,n,r){const i=this._layers;i.body.reset(r?Mg:xi,e,t.edgeBody,n),i.halo.reset(r?Mg:xi,e,t.edgeHalo,n),i.text.reset(Uo,e,t.edgeText,n),i.textBg.reset(xi,e,t.edgeTextBackground,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.halo,t.halo),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.halo),e.freeBlock(t.text),e.freeBlock(t.textBg)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._initEdgeComponents(e.halo,t.halo,n.halo),this._initEdgeComponents(e.outline,t.outline,n.body),this._initEdgeComponents(e.body,t.body,n.body),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initEdgeComponents(e,t,n){e.head=this._nextElement(t.head,n),e.tail=this._nextElement(t.tail,n),e.body=this._nextElement(t.body,n)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}};function XE(e){return{body:e(),halo:e(),text:e(),textBg:e()}}function Yl(){return{halo:{body:void 0,head:void 0,tail:void 0},outline:{body:void 0,head:void 0,tail:void 0},body:{body:void 0,head:void 0,tail:void 0},texts:{primary:{text:void 0,background:void 0},secondary:{text:void 0,background:void 0}}}}function Y4(e,t,n){JN(e,t,n),t.imageContent!==null?(e.pattern.type=so,e.pattern.attributes.image=t.imageContent,e.pattern.attributes.scaled=!0,e.pattern.attributes.duplicated=!1,e.patternScale=t.imageScale,e.patternMinVisibleSize=0,e.patternColor=null):(e.fillColor=null,e.strokeColor=null)}function Z4(e,t,n){JN(e,t,n),t.textContent&&(e.pattern.type=Go,e.pattern.attributes.text=t.textContent,e.pattern.attributes.font=t.textFont,e.pattern.attributes.style=t.textStyle,e.pattern.attributes.paddingLeft=t.scale*t.textPaddingLeft*2,e.pattern.attributes.paddingTop=t.scale*t.textPaddingTop*2,e.pattern.attributes.size=Qd,e.patternMinVisibleSize=0,e.patternColor=t.textColor,e.patternScale=t.textScale,e.isBadge=!0),!t.imageUrl&&t.textContent||(e.fillColor=null,e.strokeColor=null)}function JN(e,t,n){const r=n.diameterScaled*t.scale,i=n.diameterFixed*t.scale,s=n.diameterScaled*t.positionScale/2,o=n.diameterFixed*t.positionScale/2;e.pieceId=ci,e.shape="circle",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=r,e.rectWidthOrSourceRadiusFixed=i,e.rectHeightOrTargetRadiusScaled=r,e.rectHeightOrTargetRadiusFixed=i,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.strokeWidthScaled,e.strokeWidthFixed=t.strokeWidthFixed,e.offsetScaled=s,e.offsetFixed=o,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.color,e.strokeColor=t.strokeColor,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.angle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function Q4(e,t,n){Kp(e,t),e.fillColor=Array.isArray(t.color)?null:t.color,e.strokeColor=t.innerStroke.color,e.strokeMinVisibleSize=t.innerStroke.minVisibleSize,e.strokeWidthScaled=t.innerStroke.widthScaled,e.strokeWidthFixed=t.innerStroke.widthFixed,n&&(e.pattern.type=0)}function Kp(e,t){e.pieceId=ci,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=t.diameterScaled,e.rectWidthOrSourceRadiusFixed=t.diameterFixed,e.rectHeightOrTargetRadiusScaled=t.diameterScaled,e.rectHeightOrTargetRadiusFixed=t.diameterFixed,e.shape=t.shape,e.opacity=t.opacity,e.symbolicSize=t.diameterScaled,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=null,e.strokeColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function K4(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=ci,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.halo.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function J4(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=ci,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.halo.strokeWidthScaled,e.strokeWidthFixed=t.halo.strokeWidthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.halo.strokeColor,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function ej(e,t){Kp(e,t),e.pattern.type=Vo,e.pattern.attributes.text=t.icon.content,e.pattern.attributes.font=t.icon.font,e.pattern.attributes.style=t.icon.style,e.pattern.attributes.size=Qd,e.patternMinVisibleSize=t.icon.minVisibleSize,e.patternColor=t.icon.color,e.patternScale=t.icon.scale}function tj(e,t){const n=t.image.fit&&!t.image.tile;Kp(e,t),e.pattern.type=so,e.pattern.attributes.image=t.image.content,e.pattern.attributes.scaled=n,e.pattern.attributes.duplicated=t.image.tile,e.patternScale=n?t.image.scale:0,e.patternMinVisibleSize=t.image.minVisibleSize,e.patternColor=null}function nj(e,t){const n=t.diameterScaled+2*t.innerStroke.widthScaled,r=t.diameterFixed+2*t.innerStroke.widthFixed;e.pieceId=ci,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.outerStroke.widthScaled,e.strokeWidthFixed=t.outerStroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.outerStroke.color,e.patternColor=null,e.globalMinVisibleSize=t.outerStroke.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function rj(e,t){const n=t.diameterScaled*RE,r=t.diameterFixed*RE;let i=t.diameterScaled*DE,s=t.diameterFixed*DE+d4;t.outerStroke.color&&(i+=t.outerStroke.widthScaled/2,s+=t.outerStroke.widthFixed/2),e.pieceId=ci,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.outline.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.outline.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=1.5707963267948966,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function ij(e,t){Kp(e,t),Array.isArray(t.color)&&(e.pattern.type=Kd,e.pattern.attributes.colors=t.color.join(";"),e.patternScale=1,e.patternMinVisibleSize=0,e.patternColor=null)}function sj(e,t,n){eI(e,t,n),e.pattern.type=ho,e.pattern.attributes.text=t.content,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternMinVisibleSize=0,e.patternColor=t.color,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function oj(e,t,n){eI(e,t,n),e.fillColor=t.backgroundColor,e.pieceId=il,e.shape="square"}function aj(e,t,n){const r=Math.ceil(t.margin/2),i=n.diameterScaled/2,s=n.diameterFixed/2+r,o=f4[t.position],a=Math.cos(o),l=Math.sin(o),c=t.margin<12?1:t.margin<30?1-(t.margin-12)/18*.7:.25;e.pieceId=ci,e.shape="triangle",e.x1=n.x-a,e.y1=n.y-l,e.x2=n.x+a,e.y2=n.y+l,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=t.margin,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=t.margin*c,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.backgroundColor,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1}function eI(e,t,n){let r=0,i=0;if(t.isPositionCenter||(r+=n.diameterScaled/2,i+=n.diameterFixed/2+t.margin+t.padding),t.isPositionVertical){if(r+=t.heightScaled/2,i+=t.heightFixed/2,t===n.texts.secondary&&n.texts.primary.position==="bottom"){const o=n.texts.primary;r+=o.heightScaled,i+=o.heightFixed+o.margin+2*o.padding}}else t.isPositionHorizontal&&(r+=t.widthScaled/2,i+=t.widthFixed/2);const s=Qd;e.pieceId=ci,e.shape="square",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.pattern.attributes.size=s,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=1,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function YE(e,t,n,r,i,s){const o=i.badges,a=r.badges,l=s.badges;lj(e,t,n,r,i,s),ZE(e,t,n,r.text,i.texts.primary,s.texts.primary,s),ZE(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s),Mu(e,t,n,a.topLeft,o.topLeft,l.topLeft,s),Mu(e,t,n,a.topRight,o.topRight,l.topRight,s),Mu(e,t,n,a.bottomLeft,o.bottomLeft,l.bottomLeft,s),Mu(e,t,n,a.bottomRight,o.bottomRight,l.bottomRight,s)}function lj(e,t,n,r,i,s){if(i.halo){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),K4(i.halo,s),i.haloStroke&&(s.halo.strokeWidthScaled=0,s.halo.strokeWidthFixed=r.halo.strokeWidth.get(n),J4(i.haloStroke,s))}if(i.outline&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),rj(i.outline,s)),i.outerStroke&&(s.outerStroke.minVisibleSize=r.outerStroke.minVisibleSize.get(n),nj(i.outerStroke,s)),i.pieChart&&ij(i.pieChart,s),i.image&&(s.image.content=t.imageManager.getImage(s.image.url),s.image.fit=r.image.fit.get(n),s.image.tile=r.image.tile.get(n),s.image.scale=r.image.scale.get(n),s.image.minVisibleSize=r.image.minVisibleSize.get(n),tj(i.image,s)),i.icon&&(s.icon.font=t.fontManager.getFont(r.icon.font.get(n)),s.icon.style=r.icon.style.get(n),s.icon.color=r.icon.color.get(n),s.icon.scale=r.icon.scale.get(n),s.icon.minVisibleSize=r.icon.minVisibleSize.get(n),ej(i.icon,s)),i.body){const o=!i.pieChart&&!i.image&&!i.icon;Q4(i.body,s,o)}}function Mu(e,t,n,r,i,s,o){if(i.image||i.text){const a=r.stroke.width.get(n),l=+(r.stroke.scalingMethod.get(n)==="scaled");s.color=Ai(r.color.get(n),o.color,s.angle),s.strokeColor=r.stroke.color.get(n),s.strokeWidthScaled=a*l,s.strokeWidthFixed=a*(1-l),s.minVisibleSize=r.minVisibleSize.get(n),s.positionScale=r.positionScale.get(n),s.scale=r.scale.get(n)}if(i.image&&(s.imageContent=t.imageManager.getImage(s.imageUrl),s.imageScale=r.image.scale.get(n),Y4(i.image,s,o)),i.text){if(s.textFont=t.fontManager.getFont(r.text.font.get(n)),s.textStyle=r.text.style.get(n),s.textColor=Ai(r.text.color.get(n),o.color),s.textScale=r.text.scale.get(n),s.textPaddingTop=r.text.paddingTop.get(n),s.textPaddingLeft=r.text.paddingLeft.get(n),e.measureText(s.textContent,s.textFont,s.textStyle,s.textScale).width>1){let a=0,l=0;for(;l<s.textContent.length&&a<1;)a+=e.measureText(s.textContent[l],s.textFont,s.textStyle,s.textScale).width,l+=1;l!==s.textContent.length&&(s.textContent=s.textContent.substring(0,l-1)+"")}Z4(i.text,s,o)}}function ZE(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Ai(a.color.get(n),o.color),s.style=a.style.get(n),s.align=a.align.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=Qv(s.content,s.maxLineLength),l){const d=a.scale.get(n);s.sizeScaled=o.diameterScaled*d,s.sizeFixed=o.diameterFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.positionAngle=m4[s.position],s.isPositionCenter=s.position==="center",s.isPositionVertical=s.position==="top"||s.position==="bottom",s.isPositionHorizontal=s.position==="left"||s.position==="right",sj(i.text,s,o),i.background&&(oj(i.background,s,o),i.tip&&aj(i.tip,s,o))}}function QE(e,t){cj(e,t),KE(e.texts.primary,t.texts.primary),KE(e.texts.secondary,t.texts.secondary),Fu(e.badges.topLeft,t.badges.topLeft),Fu(e.badges.topRight,t.badges.topRight),Fu(e.badges.bottomLeft,t.badges.bottomLeft),Fu(e.badges.bottomRight,t.badges.bottomRight)}function cj(e,t){e.body=!0,e.icon=!!t.icon.content,e.image=!!t.image.url,e.pieChart=Array.isArray(t.color),e.outerStroke=!!t.outerStroke.color,e.outline=!!t.outline.enabled,e.halo=!!t.halo.color,e.haloStroke=e.halo&&!!t.halo.strokeColor}function KE(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor,e.tip=e.background&&t.tip&&t.position!=="center"}function Fu(e,t){e.text=!!t.textContent,e.image=!!t.imageUrl}function JE(e,t,n,r){dj(e,t,n,r),eS(e,t.texts.primary,n.text,r,t),eS(e,t.texts.secondary,n.text.secondary,r,t),Ru(e,t.badges.topLeft,n.badges.topLeft,r),Ru(e,t.badges.topRight,n.badges.topRight,r),Ru(e,t.badges.bottomLeft,n.badges.bottomLeft,r),Ru(e,t.badges.bottomRight,n.badges.bottomRight,r)}function dj(e,t,n,r){const i=+(n.scalingMethod.get(r)==="scaled"),s=2*n.radius.get(r),o=n.innerStroke.width.get(r),a=+(n.innerStroke.scalingMethod.get(r)==="scaled"),l=n.outerStroke.width.get(r),c=+(n.outerStroke.scalingMethod.get(r)==="scaled");t.x=n.x.get(r),t.y=n.y.get(r),t.shape=n.shape.get(r),t.color=n.color.get(r),t.opacity=n.opacity.get(r),t.diameterScaled=s*i,t.diameterFixed=s*(1-i),t.innerStroke.color=Ai(n.innerStroke.color.get(r),t.color),t.innerStroke.widthScaled=o*a,t.innerStroke.widthFixed=o*(1-a),t.innerStroke.minVisibleSize=n.innerStroke.minVisibleSize.get(r),t.outerStroke.color=Ai(n.outerStroke.color.get(r),t.color),t.outerStroke.widthScaled=l*c,t.outerStroke.widthFixed=l*(1-c),t.halo.color=n.halo.color.get(r),t.halo.strokeColor=n.halo.strokeColor.get(r),t.icon.content=e.formatText(n.icon.content.get(r)),t.image.url=n.image.url.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1}function eS(e,t,n,r,i){if(t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Ai(n.backgroundColor.get(r),i.color),t===i.texts.primary){const s=n;t.tip=s.tip.get(r),t.position=s.position.get(r)}else t.position="bottom"}function Ru(e,t,n,r){const i=n.text.content.get(r);t.textContent=e.formatText(i),t.imageUrl=n.image.url.get(r)}function tS(){return{x:0,y:0,shape:"",color:"",opacity:0,diameterScaled:0,diameterFixed:0,innerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},outerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},icon:{content:"",font:"",color:"",scale:0,size:0,style:"none",minVisibleSize:0},image:{url:"",content:null,scale:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,color:"",strokeColor:""},outline:{enabled:!1,color:"",minVisibleSize:0},badges:{topLeft:Du(MN),topRight:Du(FN),bottomLeft:Du(RN),bottomRight:Du(DN)},textHidden:!1,texts:{primary:nS(),secondary:nS()}}}function Du(e){return{angle:e,color:"",scale:0,positionScale:0,minVisibleSize:0,strokeColor:"",strokeWidthScaled:0,strokeWidthFixed:0,textContent:"",textFont:"",textColor:"",textScale:0,textStyle:"none",imageUrl:"",imageContent:null,imageScale:0,textPaddingLeft:0,textPaddingTop:0}}function nS(){return{hidden:!1,content:"",position:"",backgroundColor:"",tip:!1,font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",align:"left",minVisibleSize:0,margin:0,padding:0,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,isPositionCenter:!1,isPositionVertical:!1,isPositionHorizontal:!1}}var uj=(e,t)=>{t.haloStroke=t.haloStroke||e.haloStroke,t.halo=t.halo||e.halo,t.outline=t.outline||e.outline,t.outerStroke=t.outerStroke||e.outerStroke,t.body=t.body||e.body,t.pieChart=t.pieChart||e.pieChart,t.image=t.image||e.image,t.icon=t.icon||e.icon;const n=e.badges,r=t.badges;r.topLeft.text=r.topLeft.text||n.topLeft.text,r.topLeft.image=r.topLeft.image||n.topLeft.image,r.topRight.text=r.topRight.text||n.topRight.text,r.topRight.image=r.topRight.image||n.topRight.image,r.bottomLeft.text=r.bottomLeft.text||n.bottomLeft.text,r.bottomLeft.image=r.bottomLeft.image||n.bottomLeft.image,r.bottomRight.text=r.bottomRight.text||n.bottomRight.text,r.bottomRight.image=r.bottomRight.image||n.bottomRight.image;const i=e.texts,s=t.texts;s.primary.text=s.primary.text||i.primary.text,s.primary.background=s.primary.background||i.primary.background,s.primary.tip=s.primary.tip||i.primary.tip,s.secondary.text=s.secondary.text||i.secondary.text,s.secondary.background=s.secondary.background||i.secondary.background,s.secondary.tip=s.secondary.tip||i.secondary.tip},tI=e=>(t,n)=>{n.haloStroke=t.haloStroke[e],n.halo=t.halo[e],n.outline=t.outline[e],n.outerStroke=t.outerStroke[e],n.body=t.body[e],n.pieChart=t.pieChart[e],n.image=t.image[e],n.icon=t.icon[e];const r=t.badges,i=n.badges;i.topLeft.text=r.topLeft.text[e],i.topLeft.image=r.topLeft.image[e],i.topRight.text=r.topRight.text[e],i.topRight.image=r.topRight.image[e],i.bottomLeft.text=r.bottomLeft.text[e],i.bottomLeft.image=r.bottomLeft.image[e],i.bottomRight.text=r.bottomRight.text[e],i.bottomRight.image=r.bottomRight.image[e];const s=t.texts,o=n.texts;o.primary.text=s.primary.text[e],o.primary.background=s.primary.background[e],o.primary.tip=s.primary.tip[e],o.secondary.text=s.secondary.text[e],o.secondary.background=s.secondary.background[e],o.secondary.tip=s.secondary.tip[e]},hj=tI("start"),gj=tI("end"),pj=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,attributes:i,attributesPrev:s}){this._fullComponents=Zl(),this._startComponents=Zl(),this._endComponents=Zl(),this._startFlags=Zl(),this._endFlags=Zl(),this._startInput=tS(),this._endInput=tS(),this._depthInfo=tx(),this._nodePatternAssigned=!1,this._nullElt={id:-1,valid:!0},this._engine=e,this._attributes=i,this._attributesPrev=s,this._helper={imageManager:t,fontManager:n,formatText:r},this._layers=rS(()=>e.createGroup()),this._blockIds=rS(()=>0)}drawNode(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=e,i=this._attributes,s=Ad(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.animationDuration.get(e),a=o>0;if(this._prepareBlocks(a,s,r),JE(n,this._endInput,i,e),QE(this._endFlags,this._endInput),a&&(JE(n,this._startInput,this._attributesPrev,e),QE(this._startFlags,this._startInput),uj(this._endFlags,this._startFlags)),this._initComponents(this._fullComponents,this._endFlags,this._layers),gj(this._fullComponents,this._endComponents),YE(t,n,e,i,this._endComponents,this._endInput),a&&(hj(this._fullComponents,this._startComponents),YE(t,n,e,this._attributesPrev,this._startComponents,this._startInput)),a){const l=this._attributes.animationStart.get(e),c=this._attributes.animationEasing.get(e);this._setBlocksAnimation(o,l,c)}this._endFlags.halo&&this._attributes.halo.hideNonAdjacentEdges.get(e)&&(this._layers.halo.stencilUsage=this._layers.haloStroke.stencilUsage=zN),this._storeBlocks()}_computeBlockIds(e){const t=e*Yp,n=this._blockIds;n.body=t+YB,n.text=t+ZB,n.textBg=t+QB,n.halo=t+KB,n.haloStroke=t+JB}_prepareBlocks(e,t,n){const r=this._layers;r.body.reset(xi,e,t.nodeBody,n),r.text.reset(Uo,e,t.nodeText,n),r.textBg.reset(xi,e,t.nodeTextBackground,n),r.halo.reset(xi,e,t.nodeHalo,n),r.haloStroke.reset(xi,e,t.nodeHaloStroke,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg),e.storeGroup(n.halo,t.halo),e.storeGroup(n.haloStroke,t.haloStroke)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.text),e.freeBlock(t.textBg),e.freeBlock(t.halo),e.freeBlock(t.haloStroke)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.haloStroke.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._nodePatternAssigned=!1,this._initBaseComponents(e,t,n),this._initBadgeComponents(e.badges.topLeft,t.badges.topLeft,n),this._initBadgeComponents(e.badges.topRight,t.badges.topRight,n),this._initBadgeComponents(e.badges.bottomLeft,t.badges.bottomLeft,n),this._initBadgeComponents(e.badges.bottomRight,t.badges.bottomRight,n),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initBaseComponents(e,t,n){e.haloStroke=this._nextElement(t.haloStroke,n.haloStroke),e.halo=this._nextElement(t.halo,n.halo),e.outline=this._nextElement(t.outline,n.body),e.outerStroke=this._nextElement(t.outerStroke,n.body),e.body=this._nextElement(t.body,n.body),e.pieChart=this._getNodePatternElement(t.pieChart,n),e.image=this._getNodePatternElement(t.image,n),e.icon=this._getNodePatternElement(t.icon,n)}_initBadgeComponents(e,t,n){e.image=this._nextElement(t.image,n.body),e.text=this._nextElement(t.text,n.body)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.tip=this._nextElement(t.tip,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}_getNodePatternElement(e,t){return e?this._nodePatternAssigned?t.body.next():(this._nodePatternAssigned=!0,t.body.getCurrentElement()):this._nullElt}};function rS(e){return{body:e(),text:e(),textBg:e(),halo:e(),haloStroke:e()}}function Zl(){return{haloStroke:void 0,halo:void 0,outline:void 0,outerStroke:void 0,body:void 0,pieChart:void 0,image:void 0,icon:void 0,badges:{topLeft:{text:void 0,image:void 0},topRight:{text:void 0,image:void 0},bottomLeft:{text:void 0,image:void 0},bottomRight:{text:void 0,image:void 0}},texts:{primary:{text:void 0,background:void 0,tip:void 0},secondary:{text:void 0,background:void 0,tip:void 0}}}}function mj({graph:e,elements:t,engine:n,imageManager:r,fontManager:i,view:s,attributes:o,boundaries:a,formatText:l}){const{nodeAttributes:c,nodeAttributesPrev:d,edgeAttributes:u,edgeAttributesPrev:h}=fj(o),{nodes:g,edges:p}=t,{maxSize:m,maxMinVisibleSize:_}=a;if(!g.size&&!p.size)return;const y=(Math.max(e.getNodeMaxIndex(),e.getEdgeMaxIndex())+1)*Yp,f=n.setGlobalBoundaries({maxBlockId:Us(y),maxScaledSize:Us(8*m),maxMinVisibleSize:Us(_),maxSymbolicSize:Us(m),maxDashLength:3,maxGapLength:1,maxPatternScale:2,maxCoord:-1/0}),v=(f?e.getNodes("_all"):g)._indexes,x=(f?e.getEdges("_all"):p)._indexes;if(v.length){const w=new pj({engine:n,imageManager:r,fontManager:i,formatText:l,attributes:c,attributesPrev:d});for(let b=0;b<v.length;++b)w.drawNode(v[b])}if(x.length){const w=new X4({engine:n,imageManager:r,fontManager:i,formatText:l,view:s,attributes:u,attributesPrev:h,nodeAttributes:c,nodeAttributesPrev:d});for(let b=0;b<x.length;++b)w.drawEdge(x[b])}}function fj(e){const t=jr(e.nodes.current,{text:{secondary:{scaling:e.nodes.current.text.scaling,maxLineLength:e.nodes.current.text.maxLineLength}}});return{nodeAttributes:t,nodeAttributesPrev:jr(e.nodes.previous,{textHidden:t.textHidden,text:{secondary:{scaling:e.nodes.previous.text.scaling,maxLineLength:e.nodes.previous.text.maxLineLength}}}),edgeAttributes:jr(e.edges.current,{text:{secondary:{scaling:e.edges.current.text.scaling,maxLineLength:e.edges.current.text.maxLineLength,adjustAngle:e.edges.current.text.adjustAngle}}}),edgeAttributesPrev:jr(e.edges.previous,{source:e.edges.current.source,target:e.edges.current.target,textHidden:e.edges.current.textHidden,text:{secondary:{scaling:e.edges.previous.text.scaling,maxLineLength:e.edges.previous.text.maxLineLength,adjustAngle:e.edges.previous.text.adjustAngle}}})}}function nI(e,t,n,r,i,s,o,a=0,l=!1){const c=_n(n,r,i,s),d=(o/2*(l?_n(e,t,i,s)/c:1)+a)/c,u=(i-n)*d,h=(s-r)*d,g=n+h,p=r-u,m=e-g,_=t-p,y=n-h-g,f=r+u-p,v=i+h-g,x=s-u-p,w=m*y+_*f,b=m*v+_*x;return w>0&&w<y*y+f*f&&b>0&&b<v*v+x*x}function _j(e,t,n,r,i=!1){if(i&&(zu(e,n)||zu(e,r)||zu(t,n)||zu(t,r)))return!1;let s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y);const o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(o===0)return!1;const a=s/o;s=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y);const l=s/o;return!(a<=0||a>=1||l<=0||l>=1)}function zu(e,t){return e.x===t.x&&e.y===t.y}function xl(e,t,n,r){return Math.atan2(r-t,n-e)}function yj(e,t,n){const r=xl(e.x,e.y,t.x,t.y)-xl(n.x,n.y,t.x,t.y);return r<0?r+2*Math.PI:r}function vj(e,t,n,r,i,s,o,a){const l=(a-s)*(n-e)-(o-i)*(r-t);if(l===0)return null;let c=t-s;return c=((o-i)*c-(a-s)*(e-i))/l,{x:e+c*(n-e),y:t+c*(r-t)}}function gc(e,t,n,r,i,s,o,a){const l=e-n,c=t-r,d=i-o,u=s-a,h=l*u-d*c,g=(c*(e-i)-l*(t-s))/h;if(g<0||g>1)return null;const p=(d*(s-t)+u*(e-i))/h;return p>=0&&p<=1?{x:e-p*l,y:t-p*c}:null}function rI(e,t,n,r,i,s,o,a){let l;const c=[];return l=gc(e,t,n,r,i,s,i,a),l&&c.push(l),l=gc(e,t,n,r,i,a,o,a),l&&c.push(l),l=gc(e,t,n,r,o,a,o,s),l&&c.push(l),l=gc(e,t,n,r,o,s,i,s),l&&c.push(l),c}function Ya(e,t,n,r,i,s,o,a){const l=((o-i)*(t-s)-(a-s)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t)),c=((n-e)*(t-s)-(r-t)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t));return l>=0&&l<=1&&c>=0&&c<=1}function nx(e,t,n,r,i,s,o,a){return e>=i&&t>=s&&e<=o&&t<=a||n>=i&&r>=s&&n<=o&&r<=a||!!Ya(e,t,n,r,i,s,i,a)||!!Ya(e,t,n,r,o,s,o,a)||!!Ya(e,t,n,r,i,s,o,s)||!!Ya(e,t,n,r,i,a,o,a)}function iI(e,t,n){return Math.sqrt(rx(e.x,e.y,t.x,t.y,n.x,n.y))}function rx(e,t,n,r,i,s){const o=Mh(n,r,i,s);if(o===0)return Mh(e,t,n,r);let a=((e-n)*(i-n)+(t-r)*(s-r))/o;return a=Math.max(0,Math.min(1,a)),Mh(e,t,n+a*(i-n),r+a*(s-r))}function sI(e,t,n,r,i,s){const o=i-n,a=s-r;if(o===0&&a===0)return{x:n,y:r};const l=((e-n)*o+(t-r)*a)/(o*o+a*a);return l<0?{x:n,y:r}:l>1?{x:i,y:s}:{x:n+l*o,y:r+l*a}}function xj(e,t,n,r,i,s){const o=i-n,a=s-r,l=((e-n)*o+(t-r)*a)/(o*o+a*a);return{x:n+o*l,y:r+a*l}}function Cd(e,t,n){const r=n.length;let i=r-1,s=!1;for(let o=0;o<r;++o)(n[o].y<t&&n[i].y>=t||n[i].y<t&&n[o].y>=t)&&(n[o].x<=e||n[i].x<=e)&&(s=s!==n[o].x+(t-n[o].y)/(n[i].y-n[o].y)*(n[i].x-n[o].x)<e),i=o;return s}function Ou(e){const t=e.x*e.x+e.y*e.y;return{x:e.x/t,y:e.y/t}}function iS(e,t){let n=1/0,r=-1/0;for(let i=0,s=e.length;i<s;i++){const o=e[i],a=o.x*t.x+o.y*t.y;a<n&&(n=a),a>r&&(r=a)}return{x:n,y:r}}function bj(e,t){let n=e[1],r=e[0],i=Ou({x:n.x-r.x,y:n.y-r.y}),s=i.x;i.x=-i.y,i.y=s;const o=i;n=e[2],r=e[1],i=Ou({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const a=i;n=t[1],r=t[0],i=Ou({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const l=i;return n=t[2],r=t[1],i=Ou({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s,[o,a,l,i]}function oI(e,t){const n=bj(e,t);for(let r=0,i=n.length;r<i;r++){const s=n[r],o=iS(e,s),a=iS(t,s);if((o.x<=a.y&&o.y>=a.x?Math.min(o.y,a.y)-Math.max(o.x,a.x):0)===0)return!1}return!0}function ix(e){let t=0,n=0;const r=e.length;if(r===0)throw new Error("Compute centroid: at least one point is required");for(let i=0;i<r;++i){const s=e[i];t+=s.x,n+=s.y}return t/=r,n/=r,{x:t,y:n}}var wj=sx(4),Ej=sx(5),Sj=sx(10,.4),qs=1/3,Aj=[{x:-1,y:-qs},{x:0,y:-qs},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:0,y:qs},{x:-1,y:qs}],Cj=[{x:-1,y:-qs},{x:-.55,y:-qs},{x:-1,y:-1},{x:1,y:0},{x:-1,y:1},{x:-.55,y:qs},{x:-1,y:qs}],sS=[{x:-.6,y:-.3},{x:.1,y:0},{x:-.6,y:.3}],kj={circle:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>1-Math.sqrt(e*e+t*t),points:[{x:0,y:0,r:1}],isSimple:!0},square:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],isSimple:!0},line:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:0},{x:1,y:0}],isSimple:!0},triangle:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},arrow:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},"circle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>Math.min(Math.sqrt((e+.4)*(e+.4)+t*t)-.27,(1-e)/2-Math.abs(t)),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:[{x:-.4,y:0,r:.3}],isSimple:!0},"triangle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>{const n=Math.min((1-e)/2-Math.abs(t),1-Math.abs(e)),r=-aI(e,t,sS);return Math.min(n,r)},getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:sS,isSimple:!0},"short-arrow":Ql(Aj,!1),"sharp-arrow":Ql(Cj,!1),cross:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>{const n=Math.abs(e),r=Math.abs(t),i=.31-Math.min(n,r),s=1-Math.max(n,r);return Math.min(i,s)},points:[{x:-1,y:.31},{x:-1,y:-.31},{x:-.31,y:-.31},{x:-.31,y:-1},{x:.31,y:-1},{x:.31,y:-.31},{x:1,y:-.31},{x:1,y:.31},{x:.31,y:.31},{x:.31,y:1},{x:-.31,y:1},{x:-.31,y:.31}],isSimple:!1},diamond:Ql(wj),pentagon:Ql(Ej),star:Ql(Sj)},Tj=["circle","square","triangle","line"],Lj=["cross","diamond","pentagon","star"],Nj=["arrow","triangle-hole-arrow","circle-hole-arrow","short-arrow","sharp-arrow"];function oS(e,t){for(const s of Tj)mf(e,s);const n=t.nodes.current.shape.getValues(),r=t.edges.current.shape.head.getValues(),i=t.edges.current.shape.tail.getValues();for(const s of Lj)n.includes(s)&&mf(e,s);for(const s of Nj)s&&(r.includes(s)||i.includes(s))&&mf(e,s)}function mf(e,t){e.registerShape(t,kj[t])}function aI(e,t,n){let r=1/0;const i={x:e,y:t};for(let s=0;s<n.length;++s){const o=n[s],a=n[(s+1)%n.length];r=Math.min(r,iI(i,o,a))}return r*(Cd(e,t,n)?1:-1)}function sx(e,t=1){const n=-Math.PI/2+PN,r=[],i=2*Math.PI/e;let s=n;for(let o=0;o<e;++o){const a=o%2==1?t:1;r.push({x:Math.cos(s)*a,y:Math.sin(s)*a}),s+=i}return r}function Ql(e,t=!1){return{getDistanceFromStrokeVertically:()=>1,getDistanceFromStrokeHorizontally:(n,r)=>aI(n,r,e),points:e,isSimple:t}}var Ij=class extends Yd{constructor(e,t){super(),this.isDummy=!0,this.width=0,this.height=0}set src(e){e&&(this._src=e,setTimeout(()=>{this.onload&&this.onload.call(this),this.width=1,this.height=1,this.fire("load")},10))}get src(){return this._src}addEventListener(e,t){this.on(e,t)}};function Pj(e,t){return new(typeof Image<"u"?Image:Ij)(e,t)}var Mj=class{constructor(){this._images={},this._crossOrigin="anonymous",this._whenReady=[],this._onFetch=[],this._nbLoaded=0,this._nbToLoad=0}setImgCrossOrigin(e){this._crossOrigin=e}clear(){this._images={},this._nbLoaded=0,this._nbToLoad=0}getImage(e){let t=this._images[e];return t===void 0&&(this._nbToLoad+=1,t=Pj(),t.crossOrigin=this._crossOrigin,t.onload=()=>this._onImgLoad(e),t.onerror=()=>{this._onImgLoad(e),this._images[e]=null},t.src=e,this._images[e]=t),t}_onImgLoad(e){this._nbLoaded+=1,this._onFetch.forEach(t=>t(e)),this._nbLoaded===this._nbToLoad&&(this._whenReady.forEach(t=>t()),this._whenReady=[])}onFetch(e){this._onFetch.push(e)}whenReady(){return this._nbLoaded===this._nbToLoad?Promise.resolve():new Promise(e=>this._whenReady.push(e))}destroy(){this._whenReady=[],this._onFetch=[]}};function Jp(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(1-e)*(1-e)*t+2*(1-e)*e*s+e*e*r,a.y=(1-e)*(1-e)*n+2*(1-e)*e*o+e*e*i,a}function ox(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(2*e-2)*t+(2*r-4*s)*e+2*s,a.y=(2*e-2)*n+(2*i-4*o)*e+2*o,zL(a)}function lI(e,t,n,r,i,s,o,a={x:0,y:0}){return ox(e,t,n,r,i,s,n,a),Tg(a.x,a.y,0,0,Math.PI/2,a),a}function cI(e,t,n,r,i,s,o,a,l,c=0,d=!1){const u=n-2*o+i,h=r-2*a+s,g=-((n-e)*h-(r-t)*u)/((2*o-2*n)*h-(2*a-2*r)*u);if(g<0||g>1)return!1;let p=l/2;d&&(p*=1-g),p+=c;const m=Xa(n,o,i,g),_=Xa(r,a,s,g);return _n(m,_,e,t)<=p}function Fj(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=ki(r.x,r.y,i.x,i.y,n);return Jp(t,r.x,r.y,i.x,i.y,s.x,s.y)}function Rj(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=ki(r.x,r.y,i.x,i.y,n);return lI(t,r.x,r.y,i.x,i.y,s.x,s.y)}function Dj(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=ki(r.x,r.y,i.x,i.y,n);return ox(t,r.x,r.y,i.x,i.y,s.x,s.y)}function kd(e,t,n,r,i,s,o,a,l,c={x:0,y:0}){const d=(1-e)*(1-e)*(1-e),u=3*e*(1-e)*(1-e),h=3*e*e*(1-e),g=e*e*e;return c.x=d*t+u*s+h*a+g*r,c.y=d*n+u*o+h*l+g*i,c}function dI(e,t,n,r,i,s,o,a,l,c,d,u){const h=_n(n,r,o,a);if(Math.abs(e-n)>h||Math.abs(t-r)>h)return!1;let g=.5,p=_n(e,t,n,r)<_n(e,t,i,s)?-.01:.01,m=100;const _=kd(g,n,r,i,s,o,a,l,c);let y,f=_n(e,t,_.x,_.y);const v=d/2+u;for(;m-- >0&&g>=0&&g<=1&&f>v&&(p>.001||p<-.001);)y=f,kd(g,n,r,i,s,o,a,l,c,_),f=_n(e,t,_.x,_.y),f>y?(p=-p/2,g+=p):g+p<0||g+p>1?(p/=2,f=y):g+=p;return f<v}function ax(e,t,n,r,i,s,o=Ov()){const a=e+.6666666666666666*(n-e),l=t+2/3*(r-t);return em(e,t,a,l,a+1/3*(i-e),l+1/3*(s-t),i,s,o)}function em(e,t,n,r,i,s,o,a,l=Ov()){const{min:c,max:d,sqrt:u}=Math;let h,g,p,m,_;l.minX=c(e,o),l.maxX=d(e,o),l.minY=c(t,a),l.maxY=d(t,a);for(let y,f,v,x,w,b,A,S=0;S<2;++S)if(S===0?(g=e,p=n,m=i,_=o):(g=t,p=r,m=s,_=a),f=6*g-12*p+6*m,y=-3*g+9*p-9*m+3*_,v=3*p-3*g,f|=0,y|=0,v|=0,y!==0)w=f*f-4*v*y,w<0||(b=(-f+u(w))/(2*y),b>0&&b<1&&(h=ff(b,g,p,m,_),S===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))),A=(-f-u(w))/(2*y),A>0&&A<1&&(h=ff(A,g,p,m,_),S===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))));else{if(f===0)continue;x=-v/f,x>0&&x<1&&(h=ff(x,g,p,m,_),S===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h)))}return l}function ff(e,t,n,r,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*r+Math.pow(e,3)*i}function zj(e,t,n,r,i,s){const o=e-2*n+i,a=t-2*r+s,l=2*n-2*e,c=2*r-2*t,d=4*(o*o+a*a),u=4*(o*l+a*c),h=l*l+c*c,g=2*Math.sqrt(d+u+h),p=Math.sqrt(d),m=2*d*p,_=2*Math.sqrt(h),y=u/p;return(m*g+p*u*(g-_)+(4*h*d-u*u)*Math.log((2*p+y+g)/(y+_)))/(4*m)}var Oj={linear:[0,1,0,0],quadraticIn:[0,0,1,0],quadraticOut:[0,2,-1,0],quadraticInOut:[0,0,2,0,-1,4,-2,0],cubicIn:[0,0,0,1],cubicOut:[0,3,-3,1],cubicInOut:[0,0,0,4,-3,12,-12,4]},Bj=class{constructor(){this._linearEasing=[0,1,0,0,0,1,0,0],this._nameToPolygon={},this._polygonToName={},this.add(Oj)}add(e){Object.keys(e).forEach(t=>{const n=e[t].slice();n.length<8&&(n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3]);const r=r0(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]);this._nameToPolygon[t]=n,this._polygonToName[r]=t})}getCoefficients(e){return this._nameToPolygon[e]||this._linearEasing}getName(e,t,n,r,i,s,o,a){const l=r0(e,t,n,r,i,s,o,a);return this._polygonToName[l]||"linear"}},lx=new Bj,jj={left:{x:-1,y:0},right:{x:1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},center:{x:0,y:0}},$j=[{name:"topLeft",dx:-1,dy:-1},{name:"topRight",dx:1,dy:-1},{name:"bottomLeft",dx:-1,dy:1},{name:"bottomRight",dx:1,dy:1}],es={x:0,y:0};function Uj(e,t,n,r,i,s,o,a,l,c,d,u){s=s||o.getNodes()._indexes;const h=l.getZoom(),g=o.getObjectList(!0),p=a.getFlexArrays().nodes.current;let m=1/0,_=0,y=!1,f=-1/0;a.update();for(let v=0;v<s.length;++v){const x=s[v];if(p.excluded.get(x)||!p.detectable.get(x)||d.has(x))continue;const w=p.x.get(x),b=p.y.get(x),A=p.layer.get(x);if(A<f)continue;es.x=w,es.y=b;const S=l.graphToScreenCoordinates(es),k=S.x,C=S.y,N=p.shape.get(x),D=p.scalingMethod.get(x)==="scaled",j=p.radius.get(x)*(D?h:1),U=j+i,F=(e-k)/U,T=(t-C)/U;if(es.x=e,es.y=t,r&&uI(es,x,a,l,c)&&(y=!0),!y&&c.checkShapeHit(N,F,T)){const q=o.getAttribute(!0,"virtual").get(x)!==0;if(U>m&&q)continue;m=U}else if(!y&&n){const q=u(p.text.content.get(x)||null),V=p.textHidden.get(x),J=p.text.minVisibleSize.get(x);if(V||!q||(D?2*j:1/0)<J)continue;const oe=Qv(q,p.text.maxLineLength.get(x)),ie=p.innerStroke.width.get(x),pe=p.text.margin.get(x),Ce=p.text.padding.get(x),ce=p.text.size.get(x),ve=p.text.scale.get(x),De=p.text.scaling.get(x),qe=p.text.font.get(x),Xe=p.text.style.get(x),me=p.text.position.get(x),_e=c.measureText(oe,qe,Xe,1),nt=De?ve*j*2:ce,rt=_e.width*nt/2+Ce,mt=_e.height*nt/2+Ce,at=jj[me],Z=ie+pe+j,re=k+(Z+rt)*at.x,se=C+(Z+mt)*at.y;if(e<=re-rt||e>=re+rt||t<=se-mt||t>=se+mt)continue}_=x,f=A}return g.get(_)||null}var aS=Math.cos(Math.PI/4);function uI(e,t,n,r,i){const s=n.getFlexArrays().nodes.current,o=r.getZoom(),a=s.scalingMethod.get(t)==="scaled",l=s.radius.get(t)*(a?o:1),c=s.x.get(t),d=s.y.get(t);for(let u=0;u<4;u++){const{name:h,dx:g,dy:p}=$j[u],m=s.badges[h].stroke.width.get(t),_=s.badges[h].stroke.scalingMethod.get(t)==="scaled",y=s.badges[h].scale.get(t)*l+(_?o:1)*m,f=s.badges[h].minVisibleSize.get(t)/2,v=s.badges[h].positionScale.get(t);if(!s.badges[h].text.content.get(t)&&!s.badges[h].image.url.get(t)||y<f)continue;const x=r.graphToScreenCoordinates({x:c+s.radius.get(t)*v*g*aS,y:d+s.radius.get(t)*v*p*aS}),{x:w,y:b}=x,A=(e.x-w)/y,S=(e.y-b)/y;if(i.checkShapeHit("circle",A,S))return h}}function Vj(e,t,n,r,i,s,o,a,l){i=i||s.getEdges()._indexes;const c=s.getObjectList(!1),d=l.getFlexArrays(),u=d.edges.current,h=d.nodes.current,g=o.getZoom(),p=r/g;es.x=e,es.y=t;const m=o.screenToGraphCoordinates(es),_=m.x,y=m.y;let f=0;l.update();for(let v=0;v<i.length;++v){const x=i[v],w=u.source.get(x),b=u.target.get(x),A=u.excluded.get(x),S=u.detectable.get(x),k=a.has(w),C=a.has(b);if(A||!S||k||C)continue;const N=w===b,D=u.curvature.get(x),j=u.shape.body.get(x)==="triangle",U=u.scalingMethod.get(x)==="scaled",F=u.width.get(x)/(U?1:g),T=h.x.get(w),q=h.y.get(w),V=h.x.get(b),J=h.y.get(b);if(N){const oe=h.scalingMethod.get(w)==="scaled",ie=da(T,q,D,h.radius.get(w)/(oe?1:g),0);if(!dI(_,y,T,q,T,q,ie.x1,ie.y1,ie.x2,ie.y2,F,p))continue}else if(D!==0){const oe=ki(T,q,V,J,D);if(!cI(_,y,T,q,V,J,oe.x,oe.y,F,p,j))continue}else if(!nI(_,y,T,q,V,J,F,p,j))continue;f=x}return c.get(f)||null}function Gj(e){const t=e.getNodeAttribute("radius"),n=e.getEdgeAttribute("width"),r=e.getNodes(),i=e.getEdges();let s=0,o=0;for(let a=0;a<r._indexes.length;a++){const l=r._indexes[a],c=t.get(l);c>s&&(s=c)}for(let a=0;a<i._indexes.length;a++){const l=i._indexes[a],c=n.get(l);c>o&&(o=c)}return Math.max(2*s,o)}function Hj(e){return e===null?"none":e==="webgl"?"WebGL":e==="svg"?"SVG":e==="canvas"?"Canvas":e}function hI(e,t,n,r){const i=(e-t)/n,s=i*i,o=s*i,a=lx.getCoefficients(r),l=i<.5?0:4;return Vr(a[l]+a[l+1]*i+a[l+2]*s+a[l+3]*o,0,1)}function pc(e,t,n,r){if(e===t)return e;const[i,s,o,a]=nr(e),[l,c,d,u]=nr(t);return`rgba(${Math.round(255*Rt(i,l,n))},${Math.round(255*Rt(s,c,n))},${Math.round(255*Rt(o,d,n))},${Rt(a,u,r)})`}function Wj(e,t){const[n,r,i,s]=nr(e);return`rgba(${255*n},${255*r},${255*i},${s*t})`}var qj=class{constructor({elementSize:e,sideElementSize:t,nbSideElementsPerMainElement:n,id:r,depth:i,elementType:s,animated:o,stencilUsage:a}){this._nbCellsAllocated=0,this._nbCellsFreed=0,this._isFullyAllocated=!1,this._isFullyFreed=!1,this._mustUpdate=!0,this._capacity=Kv,this.version=0,this._id=r,this.depth=i,this.type=s,this.animated=o,this.stencilUsage=a,this.elementSize=e,this._nbSideElementsPerMainElement=n,this._totalSideElementsSize=n*t,this._byteCapacity=this._capacity*this.elementSize,this._byteArray=new Uint8Array(this._byteCapacity),this._dataView=new DataView(this._byteArray.buffer),this._sideByteCapacity=this._capacity*this._totalSideElementsSize,this._sideByteArray=new Uint8Array(this._sideByteCapacity),this._sideDataView=new DataView(this._sideByteArray.buffer)}update(){this._mustUpdate&&(this.version+=1,this._mustUpdate=!1,this._isFullyAllocated&&this._nbCellsFreed===this._nbCellsAllocated&&(this._isFullyFreed=!0))}allocate(e){let t=-1;return!this._isFullyAllocated&&this._nbCellsAllocated+e<=this._capacity?(t=this._nbCellsAllocated,this._nbCellsAllocated+=e,this._mustUpdate=!0):this._isFullyAllocated=!0,t}free(e,t){for(let n=0;n<t;n++){const r=(e+n)*this.elementSize;this._dataView.setUint16(r,0)}this._mustUpdate=!0,this._nbCellsFreed+=t}triggerUpdate(){this._mustUpdate=!0}isEmpty(){return this._nbCellsFreed===this._nbCellsAllocated}isFullyFreed(){return this._isFullyFreed}getId(){return this._id}getDataView(){return this._dataView}getByteArray(){return this._byteArray}getSize(){return this._nbCellsAllocated}getNbSideElementsPerMainElement(){return this._nbSideElementsPerMainElement}hasSideData(){return this._nbSideElementsPerMainElement>0}getSideDataView(){return this._sideDataView}getSideByteArray(){return this._sideByteArray}getTotalSideElementsSize(){return this._totalSideElementsSize}},lS=8,Xj=class{constructor(){this.version=0,this.version=0,this._blockInfo={buffer:null,offset:0,size:0,address:0},this._init_()}reset(){this._init_()}_init_(){this._buffersByDepth=new Array(100),this._buffersById=[],this._buffersByAscendingDepth=[],this._buffersByDescendingDepth=[],this._mustUpdate=!0}_fillBlockInfo(e,t,n,r){return this._blockInfo.buffer=e,this._blockInfo.offset=t,this._blockInfo.size=n,this._blockInfo.address=r,this._blockInfo}_createBuffer(e,t,n,r,i){const s=t?P4:vl,o=this._buffersById.length,a=new qj({elementSize:s,sideElementSize:zh,nbSideElementsPerMainElement:r,id:o,depth:n,elementType:e,animated:t,stencilUsage:i});return this._buffersById.push(a),a}getBlockInfo(e){return this._fillBlockInfo(this._buffersById[e>>k4],(e>>ex)%Kv,e%Jv,e)}allocateBlock(e,t,n,r,i,s,o){const a=Zj(s,lS);this._mustUpdate=!0;let l=null,c=-1;if(e){const u=this.getBlockInfo(e),h=u.buffer,g=u.offset,p=u.size,m=u.size===i,_=h.depth===r,y=h.type===t,f=h.animated===n,v=h.getNbSideElementsPerMainElement()===a,x=h.stencilUsage===o;m&&_&&y&&f&&v&&x?(h.triggerUpdate(),l=h,c=g):h.free(g,p)}if(c===-1){const u=+n,h=a/lS,g=this._buffersByDepth[r]||Array(2);this._buffersByDepth[r]=g;const p=g[u]||[];g[u]=p;const m=p[t]||Array(16);p[t]=m;const _=m[h]||Array(4);m[h]=_;const y=_[o]||[];_[o]=y;const f=y[y.length-1];f&&(l=f,c=f.allocate(i)),c===-1&&(l=this._createBuffer(t,n,r,a,o),c=l.allocate(i),y.push(l))}const d=Yj(l.getId(),c,i);return this._fillBlockInfo(l,c,i,d)}freeBlock(e){if(e){this._mustUpdate=!0;const t=this.getBlockInfo(e);t.buffer.free(t.offset,t.size)}return 0}_sortBuffersByDepth(){const e=[];for(let t=0;t<this._buffersByDepth.length;t++){const n=this._buffersByDepth[t];if(n)for(let r=0;r<n.length;r++){const i=n[r];if(i)for(let s=0;s<i.length;s++){const o=i[s];if(o)for(let a=0;a<o.length;a++){const l=o[a];if(l)for(let c=0;c<l.length;c++){const d=l[c];if(d)for(let u=0;u<d.length;u++){const h=d[u];h.update(),h.isFullyFreed()?(this._buffersById[h.getId()]=void 0,d.splice(u,1),u-=1):e.push(h)}}}}}}this._buffersByAscendingDepth=e,this._buffersByDescendingDepth=e.slice().reverse()}update(){this._mustUpdate&&(this._sortBuffersByDepth(),this.version+=1,this._mustUpdate=!1)}getBuffers(){return this._buffersById}getBuffersByAscendingDepth(){return this._buffersByAscendingDepth}getBuffersByDescendingDepth(){return this._buffersByDescendingDepth}};function Yj(e,t,n){return((e<<GN)+t<<ex)+n}function Zj(e,t){let n=0;for(;n<e;)n+=t;return n}function cS(){return{pieceId:0,shape:"circle",x1:0,y1:0,x2:0,y2:0,rectWidthOrSourceRadiusScaled:0,rectWidthOrSourceRadiusFixed:0,rectHeightOrTargetRadiusScaled:0,rectHeightOrTargetRadiusFixed:0,thicknessOrFontSizeScaled:0,thicknessOrFontSizeFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,offsetScaled:0,offsetFixed:0,pattern:{id:void 0,type:0,attributes:{}},opacity:1,fillColor:null,strokeColor:null,patternColor:null,globalMinVisibleSize:0,strokeMinVisibleSize:0,patternMinVisibleSize:0,offsetAngle:0,patternScale:0,symbolicSize:-1,curvature:0,dashLength:0,gapLength:0,hasHead:!1,hasTail:!1,isBodyTriangle:!1,isSelfLoop:!1,isText:!1,adjustTextAngle:!1,isBadge:!1,unusedFlag2:!1,unusedFlag3:!1}}function dS(e={}){return e.pieceId=0,e.shape="",e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=0,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=0,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern=e.pattern||{type:0,attributes:{}},e.pattern.type=0,e.opacity=1,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1,e.isSelfLoop=!1,e.isText=!1,e.adjustTextAngle=!1,e.isBadge=!1,e.unusedFlag2=!1,e.unusedFlag3=!1,e}function Qj(e={}){return e.duration=0,e.beginTime=-1,e.easing="linear",e}function cx(){return{valid:!1,id:void 0,end:cS(),start:cS(),animation:{duration:0,beginTime:-1,easing:"linear"}}}function gI(e,t,n,r){e.width=t*r,e.height=n*r,sa(e,`${t}px`,`${n}px`)}var Kj=class{constructor(){this._capacity=Jv,this._id=0,this.size=0,this.depth=0,this.animated=!1,this.stencilUsage=sl,this.type=xi,this._list=Array(this._capacity);for(let e=0;e<this._capacity;++e)this._list[e]=cx()}reset(e,t,n,r){return this.type=e,this.animated=t,this.depth=n,r!==void 0&&(this._id=r),this.stencilUsage=sl,this.size=0,this}next(){if(this.size>=this._capacity)throw new Error("internal error: block.next() was called on a full block");return this._list[this.size++]}nextAndReset(){const e=this.next();return e.end=dS(e.end),e.start=dS(e.start),e.animation=Qj(e.animation),e}forEach(e){this._list.forEach(e)}getElement(e){return this._list[e]}getCurrentElement(){return this._list[this.size-1]}getElements(){return this._list}getId(){return this._id}setGlobalAnimation(e,t,n){for(let r=0;r<this.size;++r){const i=this._list[r].animation;i.duration=e,i.beginTime=t,i.easing=n}}},Jj=class{constructor(){this._version=0,this._initialize()}reset(){this._initialize()}_initialize(){this._mustUpdate=!0,this.maxCoord=0,this.maxScaledSize=0,this.maxMinVisibleSize=0,this.maxSymbolicSize=0,this.maxDashLength=0,this.maxGapLength=0,this.maxPatternScale=0}set({maxCoord:e,maxScaledSize:t,maxMinVisibleSize:n,maxSymbolicSize:r,maxDashLength:i,maxGapLength:s,maxPatternScale:o}){const a=this.maxCoord<e||this.maxScaledSize<t||this.maxMinVisibleSize<n||this.maxSymbolicSize<r||this.maxDashLength<i||this.maxGapLength<s||this.maxPatternScale<o;return a&&(this.maxCoord=e,this.maxScaledSize=t,this.maxMinVisibleSize=n,this.maxSymbolicSize=r,this.maxDashLength=i,this.maxGapLength=s,this.maxPatternScale=o,this._mustUpdate=!0),a}update(){return this._mustUpdate&&(this._version+=1,this._mustUpdate=!1),this}getVersion(){return this._version}},e6=class{constructor(e,t,n,r,i){this._littleEndian=Dp(),this._maxScaledSize=0,this._maxMinVisibleSize=0,this._maxSymbolicSize=0,this._maxDashLength=0,this._maxGapLength=0,this._maxPatternScale=0,this._actualScaledSizeToBytes=T4,this._actualMinVisibleSizeToBytes=A0,this._actualSymbolicSizeToBytes=Wa,this._actualDashLengthToBytes=qa,this._actualGapLengthToBytes=qa,this._actualPatternScaleToBytes=Wa,this._genericObject=cx(),this._shapeManager=t,this._patternManager=e,this._textManager=n,this._bufferOffsetToId=r,this._colorParser=i}resizeBoundaries(e,t,n,r,i,s){this._maxScaledSize=e,this._maxMinVisibleSize=t,this._maxSymbolicSize=n,this._maxDashLength=r,this._maxGapLength=i,this._maxPatternScale=s,this._actualScaledSizeToBytes=HN/e,this._actualMinVisibleSizeToBytes=A0/t,this._actualSymbolicSizeToBytes=Wa/n,this._actualDashLengthToBytes=qa/r,this._actualGapLengthToBytes=qa/i,this._actualPatternScaleToBytes=Wa/s}storeGenericObject(e,t,n){const r=this._shapeManager.getIdFromName(n.shape),i=n.pieceId,s=this._dashLengthToBytes(n.dashLength),o=this._gapLengthToBytes(n.gapLength),a=+n.hasHead,l=+n.hasTail,c=+n.isBodyTriangle,d=+n.isSelfLoop,u=this._patternScaleToBytes(n.patternScale),h=this._offsetAngleToBytes(n.offsetAngle),g=+n.isText,p=+n.adjustTextAngle,m=+n.isBadge,_=+n.unusedFlag2,y=+n.unusedFlag3,f=this._opacityToBytes(n.opacity),v=this._minVisibleSizeToBytes(n.globalMinVisibleSize),x=this._minVisibleSizeToBytes(n.strokeMinVisibleSize),w=this._minVisibleSizeToBytes(n.patternMinVisibleSize),b=this._symbolicSizeToBytes(n.symbolicSize),A=this._curvatureToBytes(n.curvature),S=n.pattern.attributes.colors;S&&(n.pattern.attributes.colors=S.split(";").map(mt=>Bu(this._colorToBytes(mt.trim()))).join(";"));const k=this._patternManager.getIdFromDefinition(n.pattern),C=this._colorToBytes(n.fillColor),N=this._colorToBytes(n.strokeColor),D=this._colorToBytes(n.patternColor),{x1:j,y1:U,x2:F,y2:T}=n,q=this._scaledSizeToBytes(n.rectWidthOrSourceRadiusScaled),V=this._fixedSizeToBytes(n.rectWidthOrSourceRadiusFixed),J=this._scaledSizeToBytes(n.rectHeightOrTargetRadiusScaled),oe=this._fixedSizeToBytes(n.rectHeightOrTargetRadiusFixed),ie=this._scaledSizeToBytes(n.thicknessOrFontSizeScaled),pe=this._fixedSizeToBytes(n.thicknessOrFontSizeFixed),Ce=this._scaledSizeToBytes(n.strokeWidthScaled),ce=this._fixedSizeToBytes(n.strokeWidthFixed),ve=this._scaledSizeToBytes(n.offsetScaled),De=this._fixedSizeToBytes(n.offsetFixed),qe=this._fixedSizeToBytes(n.pattern.attributes.paddingTop||0),Xe=this._fixedSizeToBytes(n.pattern.attributes.paddingLeft||0),me=r+(i<<4)+(s<<8)+(o<<10)+(a<<12)+(l<<13)+(c<<14)+(d<<15),_e=u+(h<<8)+(g<<11)+(p<<12)+(m<<13)+(_<<14)+(y<<15),nt=f+(v<<4)+(x<<8)+(w<<12),rt=b+(A<<8);this._setUint16(e,t+0,me),this._setUint16(e,t+2,_e),this._setUint16(e,t+4,nt),this._setUint16(e,t+6,rt),this._setUint16(e,t+8,k),this._setUint16(e,t+10,C),this._setUint16(e,t+12,N),this._setUint16(e,t+14,D),this._setFloat32(e,t+16,j),this._setFloat32(e,t+20,U),this._setFloat32(e,t+24,F),this._setFloat32(e,t+28,T),this._setUint16(e,t+32,q),this._setUint16(e,t+34,V),this._setUint16(e,t+36,J),this._setUint16(e,t+38,oe),this._setUint16(e,t+40,ie),this._setUint16(e,t+42,pe),this._setUint16(e,t+44,Ce),this._setUint16(e,t+46,ce),this._setUint16(e,t+48,ve),this._setInt16(e,t+50,De),this._setInt16(e,t+52,qe),this._setInt16(e,t+54,Xe)}_setUint16(e,t,n){e.setUint16(t,n,this._littleEndian)}_setInt16(e,t,n){e.setUint16(t,this._signedToUnsignedInt16(n),this._littleEndian)}_setFloat32(e,t,n){e.setFloat32(t,n,this._littleEndian)}_colorToBytes(e){const t=this._colorParser(e);return Math.round(15*t[0])+(Math.round(15*t[1])<<4)+(Math.round(15*t[2])<<8)+(Math.round(15*t[3])<<12)}_scaledSizeToBytes(e){return Math.ceil(Math.min(e,this._maxScaledSize)*this._actualScaledSizeToBytes)}_fixedSizeToBytes(e){return e}_minVisibleSizeToBytes(e){return Math.round(Math.min(e,this._maxMinVisibleSize)*this._actualMinVisibleSizeToBytes)}_symbolicSizeToBytes(e){return Math.round(Math.min(e,this._maxSymbolicSize)*this._actualSymbolicSizeToBytes)}_dashLengthToBytes(e){return Math.round(Math.min(e,this._maxDashLength)*this._actualDashLengthToBytes)}_gapLengthToBytes(e){return Math.round(Math.min(e,this._maxGapLength)*this._actualGapLengthToBytes)}_patternScaleToBytes(e){return Math.round(Math.min(e,this._maxPatternScale)*this._actualPatternScaleToBytes)}_offsetAngleToBytes(e){return Math.round((e+Oc)%Oc*(8/Oc))}_opacityToBytes(e){return Math.round(15*Math.min(e,1))}_curvatureToBytes(e){return this._signedToUnsignedByte(e)}_signedToUnsignedByte(e){return Vr(e,-128,127)+128}_signedToUnsignedInt16(e){return Vr(e,-32768,32767)+32768}storeAnimationInformation(e,t,{beginTime:n,duration:r},i){this._setAnimationBeginTime(e,t,n),this._setAnimationDuration(e,t,r),this._setAnimationEasing(e,t,i)}_setAnimationBeginTime(e,t,n){this._setFloat32(e,t,n)}_setAnimationDuration(e,t,n){this._setFloat32(e,t+4,n)}_setAnimationEasing(e,t,n){this._setUint16(e,t+8,(n[0]+128<<8)+(n[4]+128)),this._setUint16(e,t+10,(n[1]+128<<8)+(n[5]+128)),this._setUint16(e,t+12,(n[2]+128<<8)+(n[6]+128)),this._setUint16(e,t+14,(n[3]+128<<8)+(n[7]+128))}extractGenericElement(e,t,n){const r=e.type,i=e.animated,s=e.getDataView(),o=t*e.elementSize,a=this._genericObject;if(a.valid=!1,s.getUint16(o)&&(a.valid=!0,this._extractGenericObject(a.end,s,o,n),i&&(this._extractGenericObject(a.start,s,o+vl,n),this._extractAnimationInformation(a.animation,s,o+2*vl)),a.id=this._bufferOffsetToId.get(e.getId(),t),r===Uo)){const l=e.getSideDataView(),c=t*e.getTotalSideElementsSize(),d=c+e.getTotalSideElementsSize();a.end.pattern=this._textManager.extractTextFromDataView(l,c,d)}return a}_extractGenericObject(e,t,n,{bytesToActualCoord:r,bytesToActualScaledSize:i,bytesToActualMinVisibleSize:s,bytesToActualPatternScale:o,bytesToActualSymbolicSize:a,bytesToActualDashLength:l,bytesToActualGapLength:c}){const d=t,u=n,h=this._littleEndian,g=d.getUint16(u,h),p=Qt(g,0,4),m=Qt(g,4,8),_=Qt(g,8,10),y=Qt(g,10,12),f=Qt(g,12,13),v=Qt(g,13,14),x=Qt(g,14,15),w=Qt(g,15,16),b=d.getUint16(u+2,h),A=Qt(b,0,8),S=Qt(b,8,11),k=Qt(b,11,12),C=Qt(b,12,13),N=Qt(b,13,14),D=Qt(b,14,15),j=Qt(b,15,16),U=d.getUint16(u+4,h),F=Qt(U,0,4),T=Qt(U,4,8),q=Qt(U,8,12),V=Qt(U,12,16),J=d.getUint16(u+6,h),oe=Qt(J,0,8),ie=Qt(J,8,16),pe=d.getUint16(u+8,h),Ce=d.getUint16(u+10,h),ce=d.getUint16(u+12,h),ve=d.getUint16(u+14,h),De=d.getFloat32(u+16,h),qe=d.getFloat32(u+20,h),Xe=d.getFloat32(u+24,h),me=d.getFloat32(u+28,h),_e=d.getUint16(u+32,h),nt=d.getUint16(u+34,h),rt=d.getUint16(u+36,h),mt=d.getUint16(u+38,h),at=d.getUint16(u+40,h),Z=d.getUint16(u+42,h),re=d.getUint16(u+44,h),se=d.getUint16(u+46,h),le=d.getUint16(u+48,h),ue=_f(d.getUint16(u+50,h)),ge=_f(d.getUint16(u+52,h)),Me=_f(d.getUint16(u+54,h));e.pieceId=m,e.shape=this._shapeManager.getNameFromId(p),e.x1=Yr(De,r),e.y1=Yr(qe,r),e.x2=Yr(Xe,r),e.y2=Yr(me,r),e.rectWidthOrSourceRadiusScaled=Yr(_e,i),e.rectWidthOrSourceRadiusFixed=nt,e.rectHeightOrTargetRadiusScaled=Yr(rt,i),e.rectHeightOrTargetRadiusFixed=mt,e.thicknessOrFontSizeScaled=Yr(at,i),e.thicknessOrFontSizeFixed=Z,e.strokeWidthScaled=Yr(re,i),e.strokeWidthFixed=se,e.offsetScaled=Yr(le,i),e.offsetFixed=ue,e.pattern=this._patternManager.getDefinitionFromId(pe),e.pattern.attributes.paddingTop=ge,e.pattern.attributes.paddingLeft=Me,e.opacity=F/15,e.fillColor=Bu(Ce),e.strokeColor=Bu(ce),e.patternColor=Bu(ve),e.globalMinVisibleSize=Yr(T,s),e.strokeMinVisibleSize=Yr(q,s),e.patternMinVisibleSize=Yr(V,s),e.offsetAngle=S*(2*Math.PI/8),e.patternScale=A*o,e.symbolicSize=oe*a,e.curvature=t6(ie),e.dashLength=_*l,e.gapLength=y*c,e.hasHead=!!f,e.hasTail=!!v,e.isBodyTriangle=!!x,e.isSelfLoop=!!w,e.isText=!!k,e.adjustTextAngle=!!C,e.isBadge=!!N,e.unusedFlag2=!!D,e.unusedFlag3=!!j}_extractAnimationInformation(e,t,n){const r=this._littleEndian,i=t.getFloat32(n,r),s=t.getFloat32(n+4,r),o=t.getUint16(n+8,r),a=t.getUint16(n+10,r),l=t.getUint16(n+12,r),c=t.getUint16(n+14,r),d=(o>>8)-128,u=(a>>8)-128,h=(l>>8)-128,g=(c>>8)-128,p=o%256-128,m=a%256-128,_=l%256-128,y=c%256-128;e.beginTime=i,e.duration=s,e.easing=lx.getName(d,u,h,g,p,m,_,y)}};function Qt(e,t,n){return e%(1<<n)>>t}function t6(e){return e-128}function _f(e){return e-32768}function Yr(e,t){return e*t}var uS=new Array(65535);function Bu(e){let t=uS[e];if(!t){const n=Qt(e,0,4)/15,r=Qt(e,4,8)/15,i=Qt(e,8,12)/15,s=Qt(e,12,16)/15;t=`rgba(${255*n|0}, ${255*r|0}, ${255*i|0}, ${s})`,n+r+i+s===0&&(t=null),uS[e]=t}return t}var n6={[so]:"image",[Kd]:"piechart",[Ro]:"text",[Vo]:"icon",[Go]:"badge"},r6=class{constructor(){this._pixelRatio=1,this._nextPatternId=1,this._version=0,this._init_()}reset(){this._init_()}_init_(){this._mustUpdate=!0,this._nextPatternId=1,this._patterns=[null],this._patternsByHash={},this._pixelRatio=1,this._nullPattern={id:-1,type:S0,attributes:{}}}_increaseNextId(){let e=this._nextPatternId++;for(e%256==255&&(e=this._nextPatternId++);this._patterns.length<=e;)this._patterns.push(void 0);return e}_createPattern({type:e,attributes:t}){const n={id:this._increaseNextId(),type:e,attributes:this._cloneAttributes(e,t)};return this._patterns[n.id]=n,this._mustUpdate=!0,n}_cloneAttributes(e,t){return e===so?{image:t.image,scaled:t.scaled,duplicated:t.duplicated}:e===Ro||e===Vo||e===Go?{font:t.font,size:t.size,style:t.style,text:t.text,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,align:t.align||"center",offset:t.offset||0}:e===Kd&&t.colors?{colors:t.colors,colorArray:t.colors.split(";").map(n=>n.trim())}:{}}getPatternList(){return this._patterns.filter(e=>e)}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}setPixelRatio(e){e!==this._pixelRatio&&(this._pixelRatio=e,this._mustUpdate=!0)}getPixelRatio(){return this._pixelRatio}notifyUpdate(){this._mustUpdate=!0}getIdFromDefinition(e){const{type:t,attributes:n}=e,r=t===Ro||t===Vo||t===Go;let i=0;return t&&t!==S0&&t!==ho&&(t!==so||n.image)&&(!r||n.text&&n.font)&&(i=this._addPattern(e),t===Ro&&n.style==="normal"&&(n.style="bold",this._addPattern(e))),i}_addPattern(e){const t=this._getPatternHash(e);let n=this._patternsByHash[t];return n||(this._nextPatternId>65500?io("maximum number of pattern exceeded"):(n=this._createPattern(e).id,this._patternsByHash[t]=n)),n}_getPatternHash({type:e,attributes:t}){const n=[n6[e]];return e===so?n.push(t.scaled?"scaled":"non-scaled",t.duplicated?"duplicated":"non-duplicated",t.image.src||t.image.toDataURL()):e===Ro?n.push(t.text,t.font,t.style,t.size,t.align||"center",t.offset||0):e===Vo||e===Go?n.push(t.text,t.font,t.style,t.size,t.paddingLeft,t.paddingTop):n.push(t.colors),n.join("+")}getDefinitionFromId(e){if(e&&this._patterns[e]){const t=this._patterns[e];if(t)return t}return this._nullPattern}getVersion(){return this._version}};function hS(e){return e.map(({x:t,y:n,r=0})=>({x:t,y:n,r}))}var i6=class{constructor(){this._version=0,this._mustUpdate=!0,this._byName={},this._byId=new Array(Fg+1)}register(e,{getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:r,hole:i,isSimple:s}){if(this._byName[e])return;let o=s?1:C0;const a=s?C0-1:Fg;for(;this._byId[o];)o+=1;if(o>a)throw new Error("max number of shape exceeded");const l={id:o,name:e,getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:hS(r.slice()),hole:i?hS(i.slice()):null,isSimple:!!s};return this._mustUpdate=!0,this._byId[o]=l,this._byName[e]=l,l}getIdFromName(e){return this._byName[e].id}getNameFromId(e){const t=this._byId[e];return t?t.name:""}getDefinitionFromName(e){return this._byName[e]}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}getVersion(){return this._version}getShapeList(){return this._byId.filter(e=>e)}},yf=Dp(),ju=10,s6=1<<17,o6=65536,a6=256,gS=128,l6=25,pI=1e3,N0=2,c6=class{constructor(e){this._patternManager=e,this._canvas=Vn(),this._ctx=this._canvas.getContext("2d",{willReadFrequently:!0}),this._processBidirectionalText=UN().processBidirectionalText,this._cornerRadius=0,this._version=0,this._textPattern={id:0,type:ho,attributes:{text:"",font:"",size:0,style:"normal",align:"center"},dimensions:{width:0,height:0}},this._textDimensions={width:0,height:0},this._lineWidthList=new Array(64),this._init()}_init(){this._mustClear=!1,this._clear()}reset(){this._init()}clear(){this._mustClear=!0}_measureChar(e,t,n){return lo(this._ctx,t,Sd,n),this._ctx.measureText(e).width/Sd}_getAtlas(e,t,n,r){const i=n===Qd?0:n,s=this._byFont[e]||(this._byFont[e]={none:void 0,bold:void 0,italic:void 0,normal:void 0}),o=s[r]||(s[r]={}),a=o[t]||(o[t]=new Array(50));return a[i]||(a[i]=new Array(256))}_getMeasurementAtlas(e,t){const n=this._widthAtlases[t];return n[e]||(n[e]=new Array(256))}measureText(e,t,n,r=1){if(!t)return this._textDimensions.width=0,this._textDimensions.height=0,this._textDimensions;const i=this._getMeasurementAtlas(t,n);let s=0,o=0,a=1;for(let l=0;l<e.length;++l){const c=e.charCodeAt(l);if(c===ju)o>s&&(s=o),o=0,a+=1;else{let d=i[c];d===void 0&&(d=this._measureChar(e[l],t,n),i[c]=d),o+=d}}return o>s&&(s=o),this._textDimensions.width=s*r,this._textDimensions.height=a*r,this._textDimensions}_getCharInfo(e,t,n,r,i,s){let o=e[t];if(!o){const a=String.fromCharCode(t);o={ratio:this._measureChar(a,n,r),patternId:0},o.patternId=this._patternManager.getIdFromDefinition({id:0,type:Ro,attributes:{text:a,font:n,style:r,size:i,align:s}}),e[t]=o}return o}storeTextInDataView(e,t,n,r){let i=t;if(r&&r.type===ho){const{font:s,style:o,size:a,align:l}=r.attributes,c=l==="center",d=this._getAtlas(s,o,a,l);let u=0,h=1,g=0,p=0;const m=this._lineWidthList,_=this._processBidirectionalText(r.attributes.text);for(let x=0;x<_.length;++x){const w=_.charCodeAt(x);w===ju?(g>u&&(u=g),m[p]=g,p++,g=0,h++):g+=this._getCharInfo(d,w,s,o,a,l).ratio}m[p]=g,g>u&&(u=g),p=0;let y=-(c?m[p]:u)/2,f=(1-h)/2,v=0;for(let x=0;x<_.length;++x){const w=_.charCodeAt(x),b=d[w];if(w===ju)p+=1,y=-(c?m[p]:u)/2,f+=x===0?.5:1,v=0;else{const A=b.ratio,S=b.patternId;y+=(A+v)/2,v=A;const k=(Vr(y*pI+o6,0,s6-1)<<8)+Vr(f*N0+gS,0,a6-1);e.setUint16(i,S,yf),e.setUint32(i+2,k,yf),i+=zh}}}this._fillWithZeros(e,i,n)}extractTextFromDataView(e,t,n){const r=e,i=yf,s=r.getUint16(t,i),o=this._textPattern,a=this._patternManager.getDefinitionFromId(s),{font:l,style:c,size:d,align:u}=a.attributes,h=this._getAtlas(l,c,d,u),g=[];let p=0,m=0,_=0,y=null;for(let v=t;v<n;v+=zh){const x=r.getUint16(v,i);if(!x)break;const w=(r.getUint8(v+2)-gS)/N0,b=this._patternManager.getDefinitionFromId(x);if(!b||!b.attributes||!b.attributes.text)break;const A=b.attributes.text.charCodeAt(0),S=h[A];y===null?y=w:w>y&&(p>m&&(m=p),p=0,_+=1,g.push(ju),y=w),g.push(A),S&&(p+=S.ratio)}p>m&&(m=p);const f=String.fromCharCode.apply(null,g);return o.attributes.style=c,o.attributes.font=l,o.attributes.size=d,o.attributes.align=u,o.attributes.text=this._processBidirectionalText(f),o.dimensions&&(o.dimensions.width=m,o.dimensions.height=_),o}_fillWithZeros(e,t,n){for(let r=t;r<n;r+=zh)e.setUint16(r,0)}_clear(){this._byFont={},this._widthAtlases={normal:{},bold:{},italic:{}}}update(){this._mustClear&&(this._clear(),this._mustClear=!1)}getVersion(){return this._version}getCornerRadius(){return this._cornerRadius}setCornerRadius(e){e!==this._cornerRadius&&(this._cornerRadius=e,this._version++)}},dx=class extends Yd{constructor({bufferList:e,patternManager:t,boundariesManager:n,shapeManager:r,textManager:i,memoryManager:s}){super(),this._firstFrame=!0,this._width=0,this._height=0,this._pixelRatio=0,this._viewX=0,this._viewY=0,this._viewZoom=0,this._viewAngle=0,this._viewAngleCos=0,this._viewAngleSin=0,this._currentTime=0,this._scales={bytesToActualCoord:0,bytesToActualScaledSize:0,bytesToActualMinVisibleSize:0,bytesToActualSymbolicSize:0,bytesToActualDashLength:0,bytesToActualGapLength:0,bytesToActualPatternScale:0},this._shapesVersion=0,this._patternsVersion=0,this._boundariesVersion=0,this._textsVersion=0,this._backgroundRgba=[1,1,1,0],this._renderBackground=!1,this._hideImages=!1,this._genericObject=cx(),this._littleEndian=Dp(),this._bufferList=e,this._shapeManager=r,this._patternManager=t,this._boundariesManager=n,this._textManager=i,this._memoryManager=s}static createInitData(){return null}static getName(){return null}static isAvailable(){return!0}getDomElement(){return null}_initCanvas(e){e.style.touchAction="none"}export(e){return Promise.resolve()}extractElement(e,t){return this._memoryManager.extractGenericElement(e,t,this._scales)}_compareDimensions(e,t,n){return(e!==this._width||t!==this._height||n!==this._pixelRatio)&&(this._width=e,this._height=t,this._pixelRatio=n,!0)}_compareView(e,t,n,r){return(e!==this._viewX||t!==this._viewY||n!==this._viewZoom||r!==this._viewAngle)&&(this._viewX=e,this._viewY=t,this._viewZoom=n,this._viewAngle=r,this._viewAngleCos=Math.cos(r),this._viewAngleSin=Math.sin(r),!0)}_compareCurrentTime(e){return e!==this._currentTime&&(this._currentTime=e,!0)}_compareBackgroundColor(e,t){return(e!==this._backgroundColor||t!==this._renderBackground)&&(this._renderBackground=t,this._backgroundColor=e,this._backgroundRgba=nr(this._backgroundColor),!0)}_compareShapes(){return this._shapesVersion!==this._shapeManager.getVersion()&&(this._shapesVersion=this._shapeManager.getVersion(),!0)}_comparePatterns(){return this._patternsVersion!==this._patternManager.getVersion()&&(this._patternsVersion=this._patternManager.getVersion(),!0)}_compareBoundaries(){return this._boundariesVersion!==this._boundariesManager.getVersion()&&(this._boundariesVersion=this._boundariesManager.getVersion(),!0)}_compareTexts(){return this._textsVersion!==this._textManager.getVersion()&&(this._textsVersion=this._textManager.getVersion(),!0)}_compareIsDisplayableBuffer(e){return this._isBufferDisplayable!==e&&(this._isBufferDisplayable=e,!0)}_compareHideImages(e){return this._hideImages!==e&&(this._hideImages=e,!0)}renderFrame({x:e,y:t,zoom:n,angle:r,width:i,height:s,pixelRatio:o,backgroundColor:a,currentTime:l,isBufferDisplayable:c,hideImages:d,renderBackground:u}){const h=this._compareShapes(),g=this._comparePatterns(),p=this._compareBoundaries(),m=this._compareTexts(),_=this._compareDimensions(i,s,o),y=this._compareView(e,t,n,r),f=this._compareCurrentTime(l),v=this._compareBackgroundColor(a,u),x=this._compareIsDisplayableBuffer(c),w=this._compareHideImages(d);if(p){const b=this._boundariesManager,A=this._scales;A.bytesToActualCoord=1,A.bytesToActualScaledSize=b.maxScaledSize/HN,A.bytesToActualMinVisibleSize=b.maxMinVisibleSize/A0,A.bytesToActualSymbolicSize=b.maxSymbolicSize/Wa,A.bytesToActualDashLength=b.maxDashLength/qa,A.bytesToActualGapLength=b.maxGapLength/qa,A.bytesToActualPatternScale=b.maxPatternScale/Wa}this._firstFrame&&this._beforeFirstFrame(),this._render({shapesChanged:h,patternsChanged:g,boundariesChanged:p,textsChanged:m,dimensionsChanged:_,viewChanged:y,currentTimeChanged:f,backgroundColorChanged:v,isBufferDisplayableChanged:x,isHideImagesChanged:w}),this._firstFrame&&(this._afterFirstFrame(),this._firstFrame=!1)}_render(e){}_beforeFirstFrame(){}_afterFirstFrame(){}destroy(){}ensureAnimationsReady(){}getImageData(){return null}setViewportClipping(e){}},$u=1/cr,mI=class extends dx{constructor(e){super(e),this._cachePoints=[],this._nextCachePoint=0,this._tmp={x1:0,y1:0,x2:0,y2:0},this._pointCopies=Array(128),this._clipViewport=!0}_resetCachePoints(){this._nextCachePoint=0}_point(e,t){let n=this._cachePoints[this._nextCachePoint++];return n||(n={x:0,y:0},this._cachePoints.push(n)),n.x=e,n.y=t,n}setViewportClipping(e){this._clipViewport=e}_displayBuffer(e){const t=e.getSize(),n=e.animated;for(let r=0;r<t;++r){const i=this.extractElement(e,r);i.valid&&this._displayElement(i,n)}}_mixAttributes(e,t,n){const r=hI(this._currentTime,n.beginTime,n.duration,n.easing);return e.dashLength=Rt(t.dashLength,e.dashLength,r),e.gapLength=Rt(t.gapLength,e.gapLength,r),e.offsetAngle=Rt(t.offsetAngle,e.offsetAngle,r),e.opacity=Rt(t.opacity,e.opacity,r),e.globalMinVisibleSize=Rt(t.globalMinVisibleSize,e.globalMinVisibleSize,r),e.strokeMinVisibleSize=Rt(t.strokeMinVisibleSize,e.strokeMinVisibleSize,r),e.patternMinVisibleSize=Rt(t.patternMinVisibleSize,e.patternMinVisibleSize,r),e.symbolicSize=Rt(t.symbolicSize,e.symbolicSize,r),e.curvature=Rt(t.curvature,e.curvature,r),e.fillColor=pc(t.fillColor,e.fillColor,r,r),e.strokeColor=pc(t.strokeColor,e.strokeColor,r,r),e.patternColor=pc(t.patternColor,e.patternColor,r,r),e.x1=Rt(t.x1,e.x1,r),e.y1=Rt(t.y1,e.y1,r),e.x2=Rt(t.x2,e.x2,r),e.y2=Rt(t.y2,e.y2,r),e.rectWidthOrSourceRadiusScaled=Rt(t.rectWidthOrSourceRadiusScaled,e.rectWidthOrSourceRadiusScaled,r),e.rectWidthOrSourceRadiusFixed=Rt(t.rectWidthOrSourceRadiusFixed,e.rectWidthOrSourceRadiusFixed,r),e.rectHeightOrTargetRadiusScaled=Rt(t.rectHeightOrTargetRadiusScaled,e.rectHeightOrTargetRadiusScaled,r),e.rectHeightOrTargetRadiusFixed=Rt(t.rectHeightOrTargetRadiusFixed,e.rectHeightOrTargetRadiusFixed,r),e.thicknessOrFontSizeScaled=Rt(t.thicknessOrFontSizeScaled,e.thicknessOrFontSizeScaled,r),e.thicknessOrFontSizeFixed=Rt(t.thicknessOrFontSizeFixed,e.thicknessOrFontSizeFixed,r),e.strokeWidthScaled=Rt(t.strokeWidthScaled,e.strokeWidthScaled,r),e.strokeWidthFixed=Rt(t.strokeWidthFixed,e.strokeWidthFixed,r),e.offsetScaled=Rt(t.offsetScaled,e.offsetScaled,r),e.offsetFixed=Rt(t.offsetFixed,e.offsetFixed,r),e}_computeRenderInfo(e){const t=this._viewZoom,n=this._point(e.x1,e.y1),r=this._point(e.x2,e.y2);return{shape:this._shapeManager.getDefinitionFromName(e.shape),pieceId:e.pieceId,dashLength:e.dashLength,gapLength:e.gapLength,hasHead:e.hasHead,hasTail:e.hasTail,isBodyTriangle:e.isBodyTriangle,isSelfLoop:e.isSelfLoop,patternScale:e.patternScale,offsetAngle:Cg(e.offsetAngle),isText:e.isText,adjustTextAngle:e.adjustTextAngle,isBadge:e.isBadge,unusedFlag2:e.unusedFlag2,unusedFlag3:e.unusedFlag3,opacity:e.opacity,globalMinVisibleSize:e.globalMinVisibleSize,strokeMinVisibleSize:e.strokeMinVisibleSize,patternMinVisibleSize:e.patternMinVisibleSize,symbolicSize:e.symbolicSize===0?1/0:e.symbolicSize*t,curvature:e.curvature,pattern:e.pattern,fillColor:e.fillColor,strokeColor:e.strokeColor,patternColor:e.patternColor,pos1OnGraph:n,pos2OnGraph:r,pos1:this._graphToScreenCoordinates(n),pos2:this._graphToScreenCoordinates(r),rectWidthOrSourceRadius:e.rectWidthOrSourceRadiusScaled*t+e.rectWidthOrSourceRadiusFixed,rectHeightOrTargetRadius:e.rectHeightOrTargetRadiusScaled*t+e.rectHeightOrTargetRadiusFixed,thicknessOrFontSize:e.thicknessOrFontSizeScaled*t+e.thicknessOrFontSizeFixed,strokeWidth:e.strokeWidthScaled*t+e.strokeWidthFixed,offset:e.offsetScaled*t+e.offsetFixed}}_applyBackgroundBlending(e){e.opacity!==1&&(e.fillColor=this._blendColor(e.fillColor,e.opacity),e.strokeColor=this._blendColor(e.strokeColor,e.opacity),e.textColor=this._blendColor(e.textColor,e.opacity))}_pointArray(e){let t=this._pointCopies[e];if(!t){t=new Array(e),this._pointCopies[e]=t;for(let n=0;n<e;++n)t[n]={x:0,y:0,r:0}}return t}_scalePoints(e,t,n,r){const i=e.shape.points.length,s=this._pointArray(i);for(let l=0;l<i;++l){const c=e.shape.points[l],d=s[l];d.x=t.x+c.x*n,d.y=t.y+c.y*r,d.r=c.r*n}const o=e.pos2OnGraph.x-e.pos1OnGraph.x,a=e.pos2OnGraph.y-e.pos1OnGraph.y;if(o!==0||a!==0){const l=Math.sqrt(o*o+a*a),c=o/l,d=a/l;for(const u of s){const h=u.x-t.x,g=u.y-t.y;u.x=t.x+c*h+d*g,u.y=t.y-d*h+c*g}}return s}_drawPoints(e,t=!1){e.length===1?this._drawCircle(e[0],e[0].r):this._drawPolygon(e,t)}_computeCenter(e){const t=Math.cos(e.offsetAngle),n=Math.sin(e.offsetAngle),r=(e.pos1.x+e.pos2.x)/2+t*e.offset,i=(e.pos1.y+e.pos2.y)/2+n*e.offset;return this._point(r,i)}_displayTextBox(e,t,n,r){const i=this._computeCenter(e),s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2;(t||r)&&this._drawRoundedRectangle(i,s,o,0,e.fillColor)}_displayNodeComponent(e,t,n,r){const i=this._computeCenter(e);if(e.pattern.type!==ho){const s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2,a=this._scalePoints(e,i,s,o);if((t||r)&&this._drawPoints(a,!0),t&&this._fill(e.fillColor),r){if(this._startClip(),e.pattern.type===Kd){let l=e.pattern.attributes.colorArray;e.opacity!==1&&(l=l.map(c=>this._blendColor(c,e.opacity))),this._displayPieChart(i,s,l)}else if(e.pattern.type===Vo||e.pattern.type===Go){const c=Math.round(e.rectHeightOrTargetRadius*e.patternScale),d=e.pattern.attributes.text,u=e.patternColor,h=e.pattern.attributes.font,g=e.pattern.attributes.style,p=e.pattern.attributes.align,m=e.rectWidthOrSourceRadius,_=e.pattern.attributes.paddingTop,y=e.pattern.attributes.paddingLeft;this._displayText(i,0,d,u,h,c,g,p,m,y,_,!0)}else if(e.pattern.type===so){const l=e.pattern.attributes.image;if(l.isDummy||l.width&&l.height){const c=e.pattern.attributes.duplicated,d=c?1:e.patternScale,u=e.rectWidthOrSourceRadius*d,h=e.rectHeightOrTargetRadius*d,g=e.pattern.attributes.scaled,p=e.opacity;this._displayImage(i,u,h,l,g,c,p)}}this._endClip()}if(n){const l=e.strokeWidth/2,c=this._scalePoints(e,i,s+l,o+l);this._drawPoints(c),this._stroke(e.strokeColor,e.strokeWidth)}}else if(r){const o=e.thicknessOrFontSize,a=e.pattern.attributes.text,l=e.patternColor,c=e.pattern.attributes.font,d=e.pattern.attributes.style,u=e.pattern.attributes.align,h=e.rectWidthOrSourceRadius;this._displayText(i,0,a,l,c,o,d,u,h,0,0,!1)}}_displayElement(e,t){if(!e.end||!e.end.shape||!e.end.pieceId||t&&(!e.start||!e.animation))return;this._resetCachePoints();const n=t?this._mixAttributes(e.end,e.start,e.animation):e.end,r=this._computeRenderInfo(n);if(r.symbolicSize<r.globalMinVisibleSize||r.opacity===0)return;this._applyBackgroundBlending(r);const i=!!(r.strokeColor&&r.strokeWidth>0&&r.symbolicSize>=r.strokeMinVisibleSize),s=r.pattern.type!==S0&&r.symbolicSize>=r.patternMinVisibleSize,o=!!r.fillColor;if(r.pieceId===ci)return this._displayNodeComponent(r,o,i,s);if(r.pieceId===il)return this._displayTextBox(r,o,i,s);const a=r.pos2.x-r.pos1.x,l=r.pos2.y-r.pos1.y,c=Math.sqrt(a*a+l*l);let d,u=null,h=null;if(r.isSelfLoop){const g=r.pieceId===Ha||r.pieceId===Ha+il?r.strokeWidth/2:r.rectWidthOrSourceRadius,{x1:p,y1:m,x2:_,y2:y}=this._getSelfLoopControlPoints(r.pos1,r.curvature,g);u=this._point(p,m),h=this._point(_,y),d=u6(r.pos1,u,h,r.pos2,1)}else r.curvature?(u=this._getQuadraticCurveControlPoint(r),d=d6(r.curvature,c,1)):d=c;if(r.pieceId===Ha||r.pieceId===Ha+il){const g=r.strokeWidth,p=this._getPointOnLine(r.pos1,u,h,r.pos2,.5),m=this._getTangentOnLine(r.pos1,u,h,r.pos2,.5);if(r.rectWidthOrSourceRadius>=d-g&&!r.isSelfLoop){if(!r.adjustTextAngle)return;m.x=1,m.y=0}let _=-Math.atan2(m.y,m.x);const y=Cg(r.offsetAngle-_);(!r.isSelfLoop&&y<0||r.isSelfLoop&&r.offsetAngle<0)&&(m.x*=-1,m.y*=-1),(_>Math.PI/2||_<-Math.PI/2)&&(_+=Math.PI);const f=this._getOrthogonal(m),v=p.x+f.x*r.offset,x=p.y+f.y*r.offset;if(r.fillColor){const w=r.rectWidthOrSourceRadius/2,b=r.rectHeightOrTargetRadius/2;this._drawRoundedRectangle(this._point(v,x),w,b,y+Math.PI/2,r.fillColor)}else{const w=this._point(v,x),b=_,A=r.thicknessOrFontSize,S=r.pattern.attributes.text,k=r.patternColor,C=r.pattern.attributes.font,N=r.pattern.attributes.style,D=r.pattern.attributes.align,j=r.rectWidthOrSourceRadius;this._displayText(w,b,S,k,C,A,N,D,j,0,0,!1)}}else{const g=r.pieceId===Yv,p=r.pieceId===Zv,m=Math.cos(r.offsetAngle),_=Math.sin(r.offsetAngle);r.pos1.x+=m*r.offset,r.pos1.y+=_*r.offset,r.pos2.x+=m*r.offset,r.pos2.y+=_*r.offset;const y=r.shape.name==="line",f=r.thicknessOrFontSize,v=r.rectWidthOrSourceRadius,x=r.rectHeightOrTargetRadius,w=+r.hasHead,b=+r.hasTail,A=w+b,S=h6(f),k=w*S,C=b*S,N=r.isSelfLoop?1/0:c-v-x,D=Math.min(N/A,S),j=b*(S+Math.max(v+D-C,0))+(1-b)*v,U=w*(S+Math.max(x+D-k,0))+(1-w)*x;if(g||p){const F=p?-1:1,T=(g?d-U:j)-F;let q=null,V=null;if(r.isSelfLoop&&u&&h){const J=this._getTFromLengthOnCubicCurve(r.pos1,u,h,r.pos2,T-r.strokeWidth/2*F);q=this._getPointOnCubicCurve(r.pos1,u,h,r.pos2,J),V=this._getTangentOnCubicCurve(r.pos1,u,h,r.pos2,J)}else if(r.curvature&&u){const J=this._getTFromLengthOnQuadraticCurve(r.pos1,u,r.pos2,T-r.strokeWidth/2*F);q=this._getPointOnQuadraticCurve(r.pos1,u,r.pos2,J),V=this._getTangentOnQuadraticCurve(r.pos1,u,r.pos2,J)}else{const J=T/d;q=this._mixPoints(r.pos1,r.pos2,J),V=this._point(a/c,l/c)}if(V.x*=F,V.y*=F,o){if(r.shape.hole){const oe=this._makeEdgeExtremityPoints(q,V,S,r.shape.hole);this._drawPoints(oe),this._startReverseClip()}const J=this._makeEdgeExtremityPoints(q,V,S,r.shape.points);this._drawPoints(J),this._fill(r.fillColor),r.shape.hole&&this._endReverseClip()}if(i){if(r.shape.hole){const ie=this._makeEdgeExtremityPoints(q,V,S,r.shape.hole);this._drawPoints(ie),this._stroke(r.strokeColor,r.strokeWidth)}const J=S+r.strokeWidth/2,oe=this._makeEdgeExtremityPoints(q,V,J,r.shape.points);this._drawPoints(oe),this._stroke(r.strokeColor,r.strokeWidth)}}else{if(d-j-U<=0)return;if(y){const F=g6(d,f,j,U,r.dashLength,r.gapLength);i&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.strokeColor,f+2*r.strokeWidth,F)),o&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.fillColor,f,F))}else{const F=j,T=d-U;if(i){const q=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,F,T,f+r.strokeWidth/2,r.strokeWidth/2);this._drawPoints(q),this._stroke(r.strokeColor,r.strokeWidth)}if(o){const q=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,F,T,f,0);this._drawPoints(q),this._fill(r.fillColor)}}}}}_makeTriangleEdgeBody(e,t,n,r,i,s,o,a){return t?n?this._makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a):this._makeCurveTriangleEdge(e,t,r,i,s,o,a):this._makeStraightTriangleEdge(e,r,i,s,o,a)}_makeCurveTriangleEdge(e,t,n,r,i,s,o){const a=2*cr+2,l=this._pointArray(a),c=this._getTFromLengthOnQuadraticCurve(e,t,n,r),d=(this._getTFromLengthOnQuadraticCurve(e,t,n,i)-c)/cr,u=(o-s)/cr/2;let h=s/2,g=c;for(let p=0;p<=cr;++p){const m=this._getPointOnQuadraticCurve(e,t,n,g),_=this._getTangentOnQuadraticCurve(e,t,n,g),y=this._getOrthogonal(_),f=y.x*h,v=y.y*h,x=l[p],w=l[a-1-p];x.x=m.x+f,x.y=m.y+v,w.x=m.x-f,w.y=m.y-v,g+=d,h+=u}return l}_makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a){const l=2*cr+2,c=this._pointArray(l),d=this._getTFromLengthOnCubicCurve(e,t,n,r,i),u=(this._getTFromLengthOnCubicCurve(e,t,n,r,s)-d)/cr,h=(a-o)/cr/2;let g=o/2,p=d;for(let m=0;m<=cr;++m){const _=this._getPointOnCubicCurve(e,t,n,r,p),y=this._getTangentOnCubicCurve(e,t,n,r,p),f=this._getOrthogonal(y),v=f.x*g,x=f.y*g,w=c[m],b=c[l-1-m];w.x=_.x+v,w.y=_.y+x,b.x=_.x-v,b.y=_.y-x,p+=u,g+=h}return c}_makeStraightTriangleEdge(e,t,n,r,i,s){const o=t.x-e.x,a=t.y-e.y,l=Math.sqrt(o*o+a*a),c=this._point(o/l,a/l),d=this._getOrthogonal(c),u=i/2,h=s/2,g=this._pointArray(4),p=g[0],m=g[1],_=g[2],y=g[3],f=e.x+c.x*n,v=e.y+c.y*n,x=e.x+c.x*r,w=e.y+c.y*r,b=d.x*u,A=d.y*u,S=d.x*h,k=d.y*h;return p.x=f+b,p.y=v+A,m.x=f-b,m.y=v-A,_.x=x-S,_.y=w-k,y.x=x+S,y.y=w+k,g}_makeEdgeExtremityPoints(e,t,n,r){const i=this._pointArray(r.length),s=n/2,o=e.x+t.x*s,a=e.y+t.y*s,l=t.x,c=t.y;for(let d=0;d<r.length;++d){const u=r[d],h=i[d],g=(l*u.x-c*u.y)*s,p=(c*u.x+l*u.y)*s;h.x=o+g,h.y=a+p,h.r=u.r*s}return i}_drawLine(e,t,n,r){t?n?this._drawCubicCurve(e,t,n,r):this._drawQuadraticCurve(e,t,r):this._drawStraightLine(e,r)}_getSelfLoopControlPoints(e,t,n){return da(e.x,e.y,t,n,this._viewAngle,this._tmp)}_getQuadraticCurveControlPoint(e){return ki(e.pos1.x,e.pos1.y,e.pos2.x,e.pos2.y,e.curvature,this._point(0,0))}_graphToScreenCoordinates(e){const t=this._width/2,n=this._height/2,r=(e.x-this._viewX)*this._viewZoom,i=(e.y-this._viewY)*this._viewZoom,s=this._viewAngleCos,o=this._viewAngleSin,a=s*r+o*i+t,l=-o*r+s*i+n;return this._point(a,l)}_blendColor(e,t){return e&&this._backgroundColor?pc(this._backgroundColor,e,t,1):e?Wj(e,t):null}_getTangentOnLine(e,t,n,r,i){return t?n?this._getTangentOnCubicCurve(e,t,n,r,i):this._getTangentOnQuadraticCurve(e,t,r,i):this._getTangentOnStraightLine(e,r)}_getTangentOnStraightLine(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return this._point(n/i,r/i)}_getTangentOnQuadraticCurve(e,t,n,r){const i=1-r,s=i*t.x+r*n.x-(i*e.x+r*t.x),o=i*t.y+r*n.y-(i*e.y+r*t.y),a=Math.sqrt(s*s+o*o);return this._point(s/a,o/a)}_getTangentOnCubicCurve(e,t,n,r,i){const s=1-i,o=s*s,a=i*i,l=o*(t.x-e.x)+2*s*i*(n.x-t.x)+a*(r.x-n.x),c=o*(t.y-e.y)+2*s*i*(n.y-t.y)+a*(r.y-n.y),d=Math.sqrt(l*l+c*c);return this._point(l/d,c/d)}_mixPoints(e,t,n){const r=Rt(e.x,t.x,n),i=Rt(e.y,t.y,n);return this._point(r,i)}_getOrthogonal(e){return this._point(-e.y,e.x)}_getPointOnLine(e,t,n,r,i){return t?n?this._getPointOnCubicCurve(e,t,n,r,i):this._getPointOnQuadraticCurve(e,t,r,i):this._mixPoints(e,r,i)}_getPointOnQuadraticCurve(e,t,n,r){const i=Xa(e.x,t.x,n.x,r),s=Xa(e.y,t.y,n.y,r);return this._point(i,s)}_getPointOnCubicCurve(e,t,n,r,i){const s=Iu(e.x,t.x,n.x,r.x,i),o=Iu(e.y,t.y,n.y,r.y,i);return this._point(s,o)}_getTFromLengthOnCubicCurve(e,t,n,r,i){let s=e.x,o=e.y,a=0,l=0;for(let c=0;c<cr;++c){a+=$u;const d=Iu(e.x,t.x,n.x,r.x,a),u=Iu(e.y,t.y,n.y,r.y,a),h=d-s,g=u-o,p=Math.sqrt(h*h+g*g),m=l+p;if(m>i)return a-$u*((m-i)/p);l=m,s=d,o=u}return 1}_getTFromLengthOnQuadraticCurve(e,t,n,r){let i=e.x,s=e.y,o=0,a=0;for(let l=0;l<cr;++l){o+=$u;const c=Xa(e.x,t.x,n.x,o),d=Xa(e.y,t.y,n.y,o),u=c-i,h=d-s,g=Math.sqrt(u*u+h*h),p=a+g;if(p>r)return o-$u*((p-r)/g);a=p,i=c,s=d}return 1}};function d6(e,t,n){const r=Math.abs(e)/Qp+PN,i=r*r,s=n-.5,o=s*s,a=1/(16*i),l=Math.sqrt(o+a),c=.5/r*Math.sqrt(i+.25);return Math.abs(2*r)*(s*l+.5*c+a*Math.log(Math.abs((s+l)/(-.5+c))))*t}function u6(e,t,n,r,i){const s=(e.x+t.x+n.x)/3,o=(e.y+t.y+n.y)/3,a=s-t.x,l=o-t.y,c=t.x-n.x,d=t.y-n.y,u=a*a+l*l,h=(c*c+d*d)/4,g=Math.sqrt(u-h);return 2*XN*g*3.14159265359*i}function h6(e){return e*qN}function g6(e,t,n,r,i,s){const o=[];if(n&&o.push(0,n),i&&s){const a=i*t,l=s*t,c=a+l,d=e-r-n-c;let u=0;for(;u<d;)o.push(a,l),u+=c;const h=e-r-n-u,g=Math.min(a,h),p=Math.max(h-g,0);o.push(g,p)}else o.push(e-r-n,0);return r&&o.push(0,r),o}var Za=0,Bc=1,jc=2,Ao=3,pS=4,ux=0,I0=1,p6={[Za]:{min:"NEAREST",mag:"NEAREST",mipmap:!1},[Bc]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[jc]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[Ao]:{min:"LINEAR_MIPMAP_LINEAR",mag:"LINEAR",mipmap:!0}},m6={[ux]:"ALPHA",[I0]:"RGBA"};function bl(e){return Math.ceil((e+2*go)/Kn)*Kn}function f6(e,t,n,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s],l=a.x,c=a.y,d=l+r,u=c+i;let h=d<n&&u<n;if(h){for(let g=l;g<d;++g)if(t[g+c*n]===1){h=!1;break}}if(h){for(let g=c;g<u;++g)if(t[l+g*n]===1){h=!1;break}}if(h){for(let g=l;g<d;++g)for(let p=c;p<u;++p)t[g+p*n]=1;return e.splice(s,1),e.push({x:l,y:u},{x:d,y:c}),a}}return null}function mS(e,t,n,r,i,s,o){const a=4*e,l=t>>1<<7,c=t%2<<7;o[a]=n/Kn,o[a+1]=r/Kn,o[a+2]=l+i/Kn,o[a+3]=c+s/Kn}function _6(e,t,n,r,i,s,o){r|=0,i|=0,s|=0,o|=0,t|=0;for(let a=0;a<s;++a)for(let l=0;l<o;++l){const c=4*(r+a+(i+l)*t),d=4*(a+l*s);e[c]=n[d],e[c+1]=n[d+1],e[c+2]=n[d+2],e[c+3]=n[d+3]}}function y6(e,t){let n=0,r=4;for(let s=0;s<e.length;++s){const{width:o,height:a}=e[s],l=bl(o),c=bl(a);n+=l*c,r=Math.max(r,Math.max(l,c))}const i=Us(Math.max(r,Math.sqrt(n)));return Math.min(i,t)}function fS(e,t){return Math.floor((t-e)/2)}function _S(e,t,n,r,i,s,o){const{min:a,mag:l,mipmap:c}=p6[s],d=e[m6[o]];if(o===ux){const u=new Uint8Array(i*i);for(let h=0;h<u.length;++h)u[h]=r[4*h+3];r=u}e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,d,i,i,0,d,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e[l]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e[a]),c&&e.generateMipmap(e.TEXTURE_2D)}function fI(e,t,n,r,i){const s=new Uint8Array(n*n*4),o=Math.ceil(n/Kn),a=new Uint8Array(o*o),l=[{x:0,y:0}];for(let c=0;c<t.length;++c){const d=t[c],u=d.id,h=bl(d.width)/Kn,g=bl(d.height)/Kn,p=f6(l,a,o,h,g);if(p){const m=d.width,_=d.height,y=d.pixels,f=h*Kn,v=g*Kn,x=p.x*Kn+fS(m,f),w=p.y*Kn+fS(_,v);_6(s,n,y,x,w,m,_),mS(u,e,x,w,f,v,i)}else{if(n<r)return fI(e,t,2*n,r,i);io(`exceeded max WebGL texture size of ${r}; some texts/icons/images won't be displayed`),mS(u,e,0,0,0,0,i)}}return{texture:s,size:n}}function v6(e,t,n,r){const{getDistanceFromStrokeVertically:i,getDistanceFromStrokeHorizontally:s}=e,o=t*(1-n)/2,a=(t-1)/2;for(let l=0;l<t;++l)for(let c=0;c<t;++c){const d=4*(c*t+l),u=(l-a)/o,h=(c-a)/o,g=Vr(i(u,h),-1,1),p=Vr(s(u,h),-1,1);x6(r,d,yS(g),yS(p))}}function yS(e){const t=(e+1)/2;return Math.floor(32768*t)}function x6(e,t,n,r){e[t]=n>>8,e[t+1]=n%256,e[t+2]=r>>8,e[t+3]=r%256}function _I(e,t){let n=-Math.PI/2;const r=2*Math.PI/e.length;for(const i of e){const s=n+r;t(i,n,s),n=s}}function yI(e,t,n,r,i){_I(t,(s,o,a)=>{e.beginPath(),e.moveTo(n,r),e.arc(n,r,i,o,a),e.fillStyle=s,e.fill()})}var b6=!Vn().__dummy,w6=class extends mI{constructor(e){super(e),this._canvas=Vn(),this._imgCanvas=Vn(),this._initCanvas(this._canvas),this._ctx=this._canvas.getContext("2d"),this._imgCtx=this._imgCanvas.getContext("2d")}static getName(){return"Canvas"}static isAvailable(){return b6}getDomElement(){return this._canvas}_render({dimensionsChanged:e}){e&&gI(this._canvas,this._width,this._height,this._pixelRatio);const t=this._ctx,n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;t.clearRect(0,0,n,r),this._backgroundColor&&this._renderBackground&&(t.fillStyle=this._backgroundColor,t.fillRect(0,0,n,r));const i=this._bufferList.getBuffersByAscendingDepth();for(let s=0;s<i.length;++s){const o=i[s];this._isBufferDisplayable(o)&&this._displayBuffer(o)}}_drawRoundedRectangle(e,t,n,r,i){const s=this._ctx,o=this._pixelRatio,a=e.x*o,l=e.y*o;t*=o,n*=o;const c=this._textManager.getCornerRadius(),d=Math.min(c*o,n);t+=d/2,s.save(),s.translate(a,l),s.rotate(r),s.beginPath(),s.arc(t-d,n-d,d,0,Math.PI/2),s.arc(-t+d,n-d,d,Math.PI/2,Math.PI),s.arc(-t+d,-n+d,d,Math.PI,3*Math.PI/2),s.arc(t-d,-n+d,d,3*Math.PI/2,0),i&&(s.fillStyle=i,s.fill()),s.restore()}_drawCircle(e,t){const n=this._ctx,r=this._pixelRatio,i=e.x*r,s=e.y*r,o=t*r;n.beginPath(),n.arc(i,s,o,0,2*Math.PI)}_drawPolygon(e){const t=this._ctx,n=this._pixelRatio;t.beginPath();const r=e[0];t.moveTo(r.x*n,r.y*n);for(let i=1;i<e.length;++i){const s=e[i];t.lineTo(s.x*n,s.y*n)}t.closePath()}_drawStraightLine(e,t){const n=this._ctx,r=this._pixelRatio;n.beginPath(),n.moveTo(e.x*r,e.y*r),n.lineTo(t.x*r,t.y*r)}_drawQuadraticCurve(e,t,n){const r=this._ctx,i=this._pixelRatio;r.beginPath(),r.moveTo(e.x*i,e.y*i),r.quadraticCurveTo(t.x*i,t.y*i,n.x*i,n.y*i)}_drawCubicCurve(e,t,n,r){const i=this._ctx,s=this._pixelRatio;i.beginPath(),i.moveTo(e.x*s,e.y*s),i.bezierCurveTo(t.x*s,t.y*s,n.x*s,n.y*s,r.x*s,r.y*s)}_fill(e){const t=this._ctx;t.fillStyle=e,t.fill()}_stroke(e,t,n=[]){if(t===0)return;const r=this._ctx,i=this._pixelRatio;r.setLineDash(n.map(s=>s*this._pixelRatio)),r.lineWidth=t*i,r.strokeStyle=e,r.stroke()}_startClip(){this._ctx.save(),this._ctx.clip()}_endClip(){this._ctx.restore()}_startReverseClip(){this._ctx.save(),this._ctx.rect(0,0,this._canvas.width,this._canvas.height),this._ctx.clip("evenodd")}_endReverseClip(){this._ctx.restore()}_displayText(e,t,n,r,i,s,o,a,l,c,d){const u=this._ctx,h=this._pixelRatio,g=e.x*h,p=e.y*h,m=s*h,_=a==="center"?0:-l/2;if(d=d*this._viewZoom*h,c=c*this._viewZoom*h,u.save(),u.translate(g,p+h),u.rotate(-t),u.textBaseline="middle",u.textAlign=a,lo(u,i,m,o),u.fillStyle=r,n.indexOf(`
`)!==-1){const y=n.split(`
`),f=y.length;let v=(1-f)/2*m;for(let x=0;x<f;++x)u.fillText(y[x],c+_,d+v),v+=m}else u.fillText(n,c+_,d);u.restore()}_displayImage(e,t,n,r,i,s,o){if(this._hideImages||"isDummy"in r)return;let a=r;o!==1&&(a=this._blendImageOnBackground(r,o));const l=this._ctx,c=this._pixelRatio,d=e.x*c,u=e.y*c,h=t*c,g=n*c,p=a.width*c,m=a.height*c;if(i)l.drawImage(a,d-h/2,u-g/2,h,g);else if(s){const _=d-h/2,y=u-g/2,f=d+h/2,v=u+g/2;let x=d-p/2,w=u-m/2;for(;x>_;)x-=p;for(;w>y;)w-=m;const b=w;for(;x<f;){for(;w<v;)l.drawImage(a,x,w,p,m),w+=m;x+=p,w=b}}else l.drawImage(a,d-p/2,u-m/2,p,m)}_displayPieChart(e,t,n){const r=this._ctx,i=this._pixelRatio,s=e.x*i,o=e.y*i,a=t*i*2,l=2*a;n.length===1&&(r.fillStyle=n[0],r.fillRect(s-a,o-a,l,l)),n.length>1&&yI(r,n,s,o,a)}_blendImageOnBackground(e,t){const n=this._backgroundRgba,r=`rgb(${Math.round(255*n[0])},${Math.round(255*n[1])},${Math.round(255*n[2])})`;return this._imgCanvas.width=e.width,this._imgCanvas.height=e.height,this._imgCtx.clearRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=1,this._imgCtx.fillStyle=r,this._imgCtx.fillRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=t,this._imgCtx.drawImage(e,0,0),this._imgCanvas}getImageData(){return this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height)}},vI=!1;try{vI=!!Dt("svg")}catch{}var Kl="none",E6={left:"start",center:"middle",right:"end"},ei="data-element-id",vS="data-text-component",S6="node-text",A6="edge-text",C6="badge-text";function Do(e){return Math.round(1e3*e)/1e3}function xS(e,t,n,r,i,s){const o=Dt("image");return o.setAttribute("width",Do(r)),o.setAttribute("height",Do(i)),o.setAttribute("x",Do(t)),o.setAttribute("y",Do(n)),o.setAttribute("href",e),s&&s.appendChild(o),o}function k6(e,t,n,r,i,s=1,o){const a=Dt("rect");return a.setAttribute("x",e),a.setAttribute("y",t),a.setAttribute("width",n),a.setAttribute("height",r),a.setAttribute("fill",i),a.setAttribute("fill-opacity",s),o&&o.appendChild(a),a}var T6=class extends mI{constructor(e){super(e),this._svg=Dt("svg"),this._defs=Dt("defs"),this._styles=Dt("g",{class:"styles"}),this._background=Dt("rect",{width:"100%",height:"100%",fill:"none",class:"ogma-svg-background"}),this._currentElementId="0",this._currentClipPathId=null,this._clipPathCounter=0,this._defs.appendChild(this._styles),this._svg.setAttribute("pointer-events","none"),this._svg.style.userSelect="none",this._svg.appendChild(this._defs),this._svg.appendChild(this._background),this._clear()}static getName(){return"SVG"}static isAvailable(){return vI}getDomElement(){return this._svg}_render({dimensionsChanged:e}){if(e&&Lv(this._svg,{width:this._width,height:this._height}),this._backgroundColor&&this._renderBackground){const n=ka(this._backgroundColor);this._background.setAttribute("fill",n.color),this._background.setAttribute("fill-opacity",n.opacity)}const t=this._bufferList.getBuffersByAscendingDepth();this._clear(),this._svg.removeChild(this._container);for(let n=0;n<t.length;++n){const r=t[n];this._isBufferDisplayable(r)&&this._displayBuffer(r)}this._svg.appendChild(this._container)}_clear(){this._container&&this._svg.removeChild(this._container),this._container=Dt("g"),this._svg.appendChild(this._container),this._clipPaths&&this._defs.removeChild(this._clipPaths),this._clipPaths=Dt("g"),this._defs.appendChild(this._clipPaths),this._clipPaths.setAttribute("class","clip-paths"),this._filters&&this._defs.removeChild(this._filters),this._filters=Dt("g"),this._defs.appendChild(this._filters)}_displayElement(e,t){this._currentElementId=e.id>=0?`n${e.id}`:"e"+-e.id,super._displayElement(e,t)}_addBackgroundBlendingFilter(e){const t=nr(this._backgroundColor),n=e,r=1-e,i=[n,0,0,0,t[0]*r,0,n,0,0,t[1]*r,0,0,n,0,t[2]*r,0,0,0,1,0].join(" "),s=`filter-${this._currentElementId}`,o=Dt("filter",{id:s}),a=Dt("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i});return o.appendChild(a),this._filters.appendChild(o),s}_drawRoundedRectangle(e,t,n,r,i){const s=e.x,o=e.y,a=Math.min(this._textManager.getCornerRadius(),n);t+=a/2;const l=Dt("path"),c=`M ${s+t-a} ${o+n}     A ${a} ${a} 0 0 0 ${s+t} ${o+n-a}     L ${s+t} ${o-n+a}     A ${a} ${a} 0 0 0 ${s+t-a} ${o-n}     L ${s-t+a} ${o-n}     A ${a} ${a} 0 0 0 ${s-t} ${o-n+a}     L ${s-t} ${o+n-a}     A ${a} ${a} 0 0 0 ${s-t+a} ${o+n}     L ${s+t-a} ${o+n}`;l.setAttribute("d",c),l.setAttribute("fill",Kl),l.setAttribute("transform",`rotate(${_0(r)} ${e.x} ${e.y})`),l.setAttribute(ei,this._currentElementId),this._container.appendChild(l),this._element=l,i&&this._fill(i)}_drawCircle(e,t){const{x:n,y:r}=e,i=`M ${n-t}, ${r} a ${t},${t} 0 1,0 ${2*t},0 a ${t},${t} 0 1,0 -${2*t},0`,s=Dt("path");s.setAttribute("d",i),s.setAttribute("fill",Kl),s.setAttribute(ei,this._currentElementId),this._container.appendChild(s),this._element=s}_drawPolygon(e,t){const n=Dt("path");let r="";for(let i=0;i<e.length;i++){const{x:s,y:o}=e[i];r+=`${i===0?"M":"L"}${s},${o} `}r+="Z",n.setAttribute("d",r),n.setAttribute(ei,this._currentElementId),n.setAttribute("fill",Kl),t&&n.setAttribute(vS,!0),this._container.appendChild(n),this._element=n}_drawStraightLine(e,t){const n=Dt("path"),r=`M ${e.x},${e.y} L${t.x},${t.y}`;n.setAttribute("d",r),n.setAttribute(ei,this._currentElementId),this._container.appendChild(n),this._element=n}_drawQuadraticCurve(e,t,n){const r=Dt("path"),i=`M ${e.x},${e.y} Q${t.x},${t.y} ${n.x},${n.y}`;r.setAttribute("d",i),r.setAttribute("fill",Kl),r.setAttribute(ei,this._currentElementId),this._container.appendChild(r),this._element=r}_drawCubicCurve(e,t,n,r){const i=Dt("path"),s=`M ${e.x},${e.y} C${t.x},${t.y} ${n.x},${n.y} ${r.x},${r.y}`;i.setAttribute("d",s),i.setAttribute("fill",Kl),i.setAttribute(ei,this._currentElementId),this._container.appendChild(i),this._element=i}_fill(e){const t=ka(e);this._element.setAttribute("fill",t.color),this._element.setAttribute("fill-opacity",t.opacity),this._currentClipPathId&&this._element.setAttribute("clip-path",`url(#${this._currentClipPathId})`)}_stroke(e,t,n=[]){if(t===0)return;const r=this._element;r.setAttribute("stroke-width",t);const i=ka(e);r.setAttribute("stroke",i.color),r.setAttribute("stroke-opacity",i.opacity),n.length>0&&r.setAttribute("stroke-dasharray",n.map(Do).toString())}_startClip(){const e=Dt("clipPath"),t=this._element.cloneNode(!1);this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endClip(){this._currentClipPathId=null}_startReverseClip(){const e=Dt("clipPath"),t=this._element.cloneNode(!1),n=t.getAttribute("d");t.setAttribute("clip-rule","evenodd"),t.setAttribute("d",`${n} M 0 0 L ${this._width} 0 L ${this._width} ${this._height} L 0 ${this._height}`),this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endReverseClip(){this._currentClipPathId=null}_displayText(e,t,n,r,i,s,o="normal",a,l,c,d,u){const h=Dt("g");h.setAttribute(ei,this._currentElementId),h.setAttribute(vS,!0);let g=this._currentElementId[0]==="n"?S6:A6;u&&(g+=" "+C6),h.setAttribute("class",g);const p=ka(r),m=p.opacity,_=ka(p.color),y=e.x+c*this._viewZoom,f=e.y+1+d*this._viewZoom,v=Do(y);h.setAttribute("font-family",i),h.setAttribute("font-size",s),o==="bold"?h.setAttribute("font-weight",o):h.setAttribute("font-style",o),h.setAttribute("fill",_.color),h.setAttribute("fill-opacity",m),t&&h.setAttribute("transform",`rotate(${_0(-t)} ${y}, ${f})`),h.setAttribute("text-anchor",E6[a]||"middle"),h.setAttribute("dominant-baseline","middle");const x=n.split(`
`),w=x.length,b=Do(f-(w+1)/2*s),A=a==="center"?0:-l/2;for(let S=0;S<w;S++){const k=Dt("text");k.appendChild(Iv(x[S])),k.setAttribute("x",v+A),k.setAttribute("y",b+(S+1)*s),h.appendChild(k)}this._currentClipPathId&&h.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(h)}_displayImage(e,t,n,r,i,s,o){const a=e.x,l=e.y;if(this._hideImages||!("isDummy"in r)&&(!r.width||!r.height))return;const c=t,d=n;let u,h=r.width,g=r.height;if(i&&(h=c,g=d),s){const p=a-c/2,m=l-d/2,_=a+c/2,y=l+d/2;let f=a-h/2,v=l-g/2;for(u=Dt("g"),u.setAttribute(ei,this._currentElementId);f>p;)f-=h;for(;v>m;)v-=g;const x=v;for(;f<_;){for(;v<y;)xS(r.src,f,v,h,g,u),v+=g;v=x,f+=h}}else u=xS(r.src,a-h/2,l-g/2,h,g),u.setAttribute(ei,this._currentElementId);if(this._currentClipPathId&&u.setAttribute("clip-path",`url(#${this._currentClipPathId})`),o!==1){const p=this._addBackgroundBlendingFilter(o);u.setAttribute("filter",`url(#${p})`)}this._container.appendChild(u)}_displayPieChart(e,t,n){const r=2*t,i=2*r,s=e.x,o=e.y;let a;const l=Dt("g");l.setAttribute(ei,this._currentElementId),n.length===1&&(a=k6(s-r,o-r,i,i,n[0],1,l)),n.length>1&&_I(n,(c,d,u)=>{const h=s+t*Math.cos(u),g=o+t*Math.sin(u),p=s+t*Math.cos(d),m=o+t*Math.sin(d),_=u-d<=Math.PI?0:1,y=`M ${h},${g} A ${t},${t} 0 ${_} 0 ${p},${m} L ${s},${o} L ${h},${g}`;a=Dt("path"),a.setAttribute("d",y),a.setAttribute("fill",c),a.setAttribute("stroke-width",0),l.appendChild(a)}),this._currentClipPathId&&l.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(l)}},L6=6,N6=class{constructor({gl:e,ext:t,staticProgram:n,animationProgram:r}){this._version=0,this._used=!1,this._dataBufferChanged=!1,this._gl=e,this._ext=t,this._staticProgram=n,this._animationProgram=r,this._glBuffer=this._gl.createBuffer()}setDataBuffer(e){this._dataBuffer!==e&&(this._program=e.animated?this._animationProgram:this._staticProgram,this._dataBuffer=e,this._dataBufferChanged=!0,e.hasSideData()&&!this._sideGlBuffer?this._sideGlBuffer=this._gl.createBuffer():!e.hasSideData()&&this._sideGlBuffer&&(this._gl.deleteBuffer(this._sideGlBuffer),delete this._sideGlBuffer))}markAsUnused(){return this._used=!1,this}getProgram(){return this._program}markAsUsed(){return this._used=!0,this}isUsed(){return this._used}draw(){const e=this._gl,t=this._dataBuffer.type,n=t===Uo,r=n?this._dataBuffer.getNbSideElementsPerMainElement():1,i=t===Mg?cr:1,s=this._dataBuffer.getSize(),o=this._dataBuffer.stencilUsage,a=this._dataBuffer.version,l=this._version!==a||this._dataBufferChanged;this._program.setupBaseAttributes({glBuffer:this._glBuffer,dataBuffer:l?this._dataBuffer.getByteArray():null,divisor:r}),this._program.setupTextAttributes({glBuffer:this._sideGlBuffer,dataBuffer:l&&n?this._dataBuffer.getSideByteArray():null,divisor:1}),this._program.setupStencil(o),l&&(this._version=a,this._dataBufferChanged=!1),this._ext.drawArraysInstancedANGLE(e.TRIANGLES,0,L6*i,s*r)}destroy(){this._gl.deleteBuffer(this._glBuffer),this._sideGlBuffer&&this._gl.deleteBuffer(this._sideGlBuffer)}},I6={byte:1,ubyte:1,short:2,ushort:2,ulong:4,float:4},P6={byte:"BYTE",ubyte:"UNSIGNED_BYTE",short:"SHORT",ushort:"UNSIGNED_SHORT",ulong:"UNSIGNED_LONG",float:"FLOAT"},bS=class{constructor({gl:e,ext:t,specialGlBuffers:n,metaData:r,programWrapper:i}){this._stencilUsage=sl,this._gl=e,this._ext=t,this._specialGlBuffers=n,this._metaData=an(r),this._programWrapper=i}_finishInit(){const e=this._gl,t=this._ext,n=this._programWrapper.getError();if(n)throw new Error(`WebGL compilation at step "${n.step}:
${n.message}"`);const r=this._programWrapper.getProgram();this._program=r,e.useProgram(r),this._metaData.attributes.forEach(o=>{o.location=e.getAttribLocation(this._program,o.name),o.byteSize=o.size*I6[o.type],o.glType=P6[o.type]}),this._specialAttributes=this._createSpecialAttributesFunctions();const i=[],s=[];for(const o of this._metaData.attributes)o.location!==-1&&(o.name.startsWith("a_text")?s.push(o):i.push(o));this._baseAttributes=vf(i,e,t),this._textAttributes=vf(s,e,t),this._setupUniforms=F6(this._metaData.uniforms,e,r)}_createSpecialAttributesFunctions(){return vf([{location:this._gl.getAttribLocation(this._program,this._metaData.vertexInfoAttribute),size:3,glType:"BYTE",byteSize:3,type:"byte",name:"special"}],this._gl,this._ext)}startPass(e){this._program||this._finishInit(),this._gl.useProgram(this._program),this._resetStencil(),this._setupUniforms(this._gl,e),this._specialAttributes.enable(this._gl),this._specialAttributes.setup(this._specialGlBuffers.vertexInfo,null,0)}_setupAttributes(e,{glBuffer:t,dataBuffer:n,divisor:r}){e.enabled&&!t?e.disable(this._gl):!e.enabled&&t&&e.enable(this._gl),t&&e.setup(t,n,r)}setupBaseAttributes(e){this._setupAttributes(this._baseAttributes,e)}setupTextAttributes(e){this._setupAttributes(this._textAttributes,e)}_resetStencil(){const e=this._gl;this._stencilUsage=sl,e.disable(e.STENCIL_TEST)}setupStencil(e){if(e!==this._stencilUsage){const t=this._gl;e!==sl?(t.enable(t.STENCIL_TEST),e===zN?(t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.stencilFunc(t.ALWAYS,1,1)):e===ON&&(t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(t.EQUAL,0,1))):t.disable(t.STENCIL_TEST),this._stencilUsage=e}}endPass(){const e=this._gl;this._specialAttributes.disable(e),this._baseAttributes.disable(e),this._textAttributes.disable(e)}};function M6(e,t,n){return(r,i,s)=>{let o=0,a=0;for(let l=0;l<e.length;l++)a+=e[l].byteSize;t.bindBuffer(t.ARRAY_BUFFER,r),i&&t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);for(let l=0;l<e.length;l++){const{location:c,size:d,glType:u,byteSize:h}=e[l];t.vertexAttribPointer(c,d,t[u],!1,a,o),o+=h,n.vertexAttribDivisorANGLE(c,s)}}}function F6(e,t,n){const r={};for(let i=0;i<e.length;++i){const{id:s,name:o}=e[i],a=t.getUniformLocation(n,o);a&&(r[s]=a)}return(i,s)=>{for(let o=0;o<e.length;++o){const{id:a,type:l}=e[o],c=r[a],d=s[a];if(c)switch(l){case"int":case"sampler2D":i.uniform1i(c,d);break;case"float":i.uniform1f(c,d);break;case"vec2":i.uniform2f(c,d[0],d[1]);break;case"vec3":i.uniform3f(c,d[0],d[1],d[2]);break;case"vec4":i.uniform4f(c,d[0],d[1],d[2],d[3])}}}}function R6(e){return t=>{for(let n=0;n<e.length;n++){const r=e[n].location;t.enableVertexAttribArray(r)}}}function D6(e){return t=>{for(let n=0;n<e.length;++n){const r=e[n].location;t.disableVertexAttribArray(r)}}}function vf(e,t,n){const r=R6(e),i=D6(e);return{enable(s){r(s),this.enabled=!0},disable(s){i(s),this.enabled=!1},setup:M6(e,t,n),enabled:!1}}var xf=`#define D3D9_FIX 0
precision highp float;
precision mediump int;
uniform vec3 u_backgroundColor;
uniform sampler2D u_patternNearestTexture;
uniform sampler2D u_patternLinearTexture;
uniform sampler2D u_patternLinearSdfTexture;
uniform sampler2D u_patternMipmapTexture;
uniform sampler2D u_shapeTexture;
varying vec4 a;
varying vec4 b;
varying vec4 c;
varying vec2 d;
varying vec2 e;
varying vec4 f;
varying float g;
#if D3D9_FIX
#else
varying float l;
varying vec2 m;
varying vec2 n;
varying vec2 o;
varying float p;
varying float q;
varying vec2 r;
varying vec2 s;
varying float t;
varying float u;
#endif
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SDF_GAMMA = 0.0;
const float EPSILON = 0.000000001;
const float SDF_BUFFER = (256.0 - 64.0) / 256.0; 
vec4 af(in vec4 ag, in vec4 ah) {
float ai = ah.a;
float aj = ag.a + EPSILON;
float ak = min(ai + aj, 1.0);
float r = ai / ak;
return vec4(mix(ag.rgb, ah.rgb, r), ak);
}
float al(in float am, in float an) {
float ao = (am * 256.0 + an) * 256.0;
float ap = ao / 32768.0;
return ap * 2.0 - 1.0;
}
bool aq(float ar, float as) {
return abs(ar - as) < EPSILON;
}
float at(float au) {
float bh = 2.;
vec2 bi = abs(c.rg) - c.ba - vec2(bh) + vec2(au);
float bj = min(max(bi.x, bi.y), 0.0) + length(max(bi, 0.0)) - au;
return smoothstep(0.1, .5, (1. - bj) / 10.);
}
void main() {
#if D3D9_FIX
#else
float br = o.x;
float bs = o.y;
float bt = r.x;
float bu = r.y;
#endif
vec4 bx = texture2D(u_shapeTexture, d);
float by = al(bx.b, bx.a) * s.x;
float bz = al(bx.r, bx.g) * s.y;
float ch = float(f.z > EPSILON);
float ci = float(f.w > EPSILON);
float cj = 1. - smoothstep(
0.01,
0.25760,
distance(f.xy * f.z - vec2(0.0586), d * f.z)
);
cj = cj * 2.5 - 1.5;
cj *= 0.5;
cj *= s.x;
float ck = at(g) ;
vec4 cl = a;
vec4 cm = b;
if (u > -EPSILON) {
vec2 cq = e;
float dd =
step(m.x, cq.x) *
step(cq.x, n.x) *
step(m.y, cq.y) *
step(cq.y, n.y);
float de = dd;
vec4 dh;
if (aq(u, FILTER_NEAREST)) {
dh = texture2D(u_patternNearestTexture, cq);
} else if (aq(u, FILTER_LINEAR)) { 
dh = texture2D(u_patternLinearTexture, cq);
} else if (aq(u, FILTER_LINEAR_SDF)) { 
dh = texture2D(u_patternLinearSdfTexture, cq);
dh.a = smoothstep(SDF_BUFFER - t, SDF_BUFFER + t, dh.a);
} else if (aq(u, FILTER_MIPMAP)) { 
dh = texture2D(u_patternMipmapTexture, cq);
}
dh.rgb += c.rgb;
dh.a *= de;
cl = af(cl, dh);
}
float dw = (1. - ch) * min(by, bz)
+ ch * cj;
dw = (1. - ci) * dw + ci * ck;
float ek = clamp(dw, 0.0, 1.0);
float en = clamp(dw - l, 0.0, 1.0);
float eo = ek - en;
eo = 1.0 - clamp(dw - l, 0.0, 1.0);
cl.a *= en;
cm.a *= eo * step(EPSILON, l);
vec4 ew = af(cl, cm);
float ex = ek;
ew.rgb = mix(u_backgroundColor, ew.rgb, br);
if (q > EPSILON) {
float fk = fract(bu) * q;
float fl = clamp(min(fk, bt - fk), 0.0, 1.0);
ex *= fl;
}
if (p < 0.0 || p > 1.0 || ex < EPSILON) {
discard;
}
ew.a *= ex;
ew.rgb *= ew.a;
gl_FragColor = ew;
}
`,bf=`#define D3D9_FIX 0
#define ANIMATED 0
precision highp float;
precision mediump int;
attribute /*ushort*/ vec4 a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_final_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_final_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*ushort*/ vec4 a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_prev_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*float*/ vec2 a_animationBeginTime_animationDuration; 
attribute /*ushort*/ vec4 a_animationEasing; 
attribute /*ushort*/ vec3 a_text_charId_charOffsetXY; 
attribute vec3 a_vertexInfo;
uniform float u_viewWidth;
uniform float u_viewHeight;
uniform float u_viewX;
uniform float u_viewY;
uniform float u_viewAngle;
uniform float u_viewZoom;
uniform float u_currentTime;
uniform float u_pixelRatio;
uniform sampler2D u_patternInfoTexture;
varying vec4 a;
varying vec4 b;
varying vec4 c;
varying vec2 d;
varying vec2 e;
varying float g;
#if D3D9_FIX
#else
varying float l;
varying vec2 m;
varying vec2 n;
varying vec2 o;
varying float p;
varying float q;
varying vec2 r;
varying vec2 s;
varying float t;
varying float u;
#endif
varying vec4 f;
const float EPSILON = 0.000001;
const float INFINITY = 10000000.0;
const float PI = 3.14159265359;
const float P2_17 = 131072.0;
const float P2_16 = 65536.0;
const float P2_14 = 32768.0;
const float P2_12 = 4096.0;
const float P2_8 = 256.0;
const float P2_7 = 128.0;
const float P2_6 = 64.0;
const float P2_5 = 32.0;
const float P2_4 = 16.0;
const float P2_3 = 8.0;
const float P2_2 = 4.0;
const float P2_1 = 2.0;
const float MAX_PROGRESS = 1.0;
uniform float BYTES_TO_COORD;
uniform float BYTES_TO_SCALED_SIZE;
uniform float BYTES_TO_MIN_VISIBLE_SIZE;
uniform float BYTES_TO_SYMBOLIC_SIZE;
uniform float BYTES_TO_CURVATURE;
uniform float BYTES_TO_DASH_LENGTH;
uniform float BYTES_TO_GAP_LENGTH;
uniform float BYTES_TO_PATTERN_SCALE;
uniform float PATTERN_POSITION_UNIT_SIZE;
uniform float PATTERN_INFO_TEXTURE_SIZE;
uniform float PATTERN_NEAREST_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_SDF_TEXTURE_SIZE;
uniform float PATTERN_MIPMAP_TEXTURE_SIZE;
uniform float ROUNDED_BOX_RADIUS;
const float BYTES_TO_OFFSET_ANGLE = 0.0;
const float BYTES_TO_COLOR = 0.0;
const float SDF_FONT_SIZE = 0.0;
const float SDF_GAMMA = 0.0;
const float CURVATURE_RATIO = 0.0;
const float PATTERN_PADDING = 0.0;
const float TEXT_WIDTH_MULTIPLIER = 0.0;
const float TEXT_HEIGHT_MULTIPLIER = 0.0;
const float SELF_LOOP_CURVATURE_RATIO = 0.0;
const float EDGE_ARROW_SIZE_RATIO = 0.0;
const float CURVE_SUBDIVISIONS = 0.0;
const float PIECE_NODE_COMPONENT = 0.0;
const float PIECE_TEXT_BOX = 0.0;
const float PIECE_EDGE_BODY = 0.0;
const float PIECE_EDGE_HEAD = 0.0;
const float PIECE_EDGE_TAIL = 0.0;
const float PIECE_EDGE_TEXT = 0.0;
const float MAX_TEXT_SIZE = 0.0;
const float BYTES_TO_TEXT_OFFSET_X = 0.0;
const float BYTES_TO_TEXT_OFFSET_Y = 0.0;
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SHAPE_TEXTURE_SIZE = 0.0;
const float SIMPLE_SHAPE_SAMPLING_SIZE = 0.0;
const float COMPLEX_SHAPE_SAMPLING_SIZE = 0.0;
const float SHAPE_SAMPLING_BUFFER_RATIO = 0.0;
const float MAX_SHAPES = 0.0;
const float FIRST_COMPLEX_SHAPE_ID = 0.0;
const float SELF_LOOP_TO_CIRCLE_APPROX = 0.0;
const float NB_SHAPES_BY_SIDE = SHAPE_TEXTURE_SIZE / COMPLEX_SHAPE_SAMPLING_SIZE;
const float SHAPE_FILL_PERCENT = 1.0 - SHAPE_SAMPLING_BUFFER_RATIO;
const float T_STEP_PER_CURVE_PIECE = 1.0 / CURVE_SUBDIVISIONS;
const float HEAD_TAIL_PX_ADJUST = 1.5;
const float SDF_SMOOTH_FACTOR = 2.0;
struct pv {
float pw;
float px;
float py;
float pz;
float qa;
float qb;
float qc;
float qd;
};
struct qe {
float qf;
float qg;
float qh;
float qi;
float qj;
float qk;
float ql;
};
struct qm {
float pw;
float px;
float py;
float pz;
float qa;
float qb;
float qc;
float qd;
float qf;
float qg;
float qh;
float qi;
float qj;
float qk;
float ql;
float dc;
float qn;
float qo;
float qp;
float qq;
float qr;
float qs;
vec4 cl;
vec4 cm;
vec4 dh;
float qt;
float qu;
float qv;
float qw;
float qx;
float qy;
float qz;
float ra;
float rb;
float rc;
float rd;
float re;
float rf;
float rg;
float rh;
float ri;
float rj;
float rk;
float rl;
};
struct rm {
float eu;
vec2 rn;
vec4 cl;
vec4 cm;
float dc;
float ro;
float rp;
float py;
float rq;
vec2 rr;
float rs;
vec2 cq;
vec2 rt;
vec2 ru;
float rv;
float rw;
vec4 dh;
vec2 bd;
float rx;
float or;
vec2 ry;
vec2 rz;
vec2 sa;
};
float sb(float nq, float sc, float sd) {
float se = mod(nq, pow(2.0, sd));
return floor(se / pow(2.0, sc));
}
pv sf(float nq) {
pv sg;
sg.pw = sb(nq, 0.0, 4.0);
sg.px = sb(nq, 4.0, 8.0);
sg.py = sb(nq, 8.0, 10.0);
sg.pz = sb(nq, 10.0, 12.0);
sg.qa = sb(nq, 12.0, 13.0);
sg.qb = sb(nq, 13.0, 14.0);
sg.qc = sb(nq, 14.0, 15.0);
sg.qd = sb(nq, 15.0, 16.0);
return sg;
}
qe sh(float nq) {
qe sg;
sg.qf = sb(nq, 0.0, 8.0);
sg.qg = sb(nq, 8.0, 11.0);
sg.qh = sb(nq, 11.0, 12.0);
sg.qi = sb(nq, 12.0, 13.0);
sg.qj = sb(nq, 13.0, 14.0);
sg.qk = sb(nq, 14.0, 15.0);
sg.ql = sb(nq, 15.0, 16.0);
return sg;
}
vec4 si(in float nq) {
return vec4(
sb(nq, 0.0, 4.0),
sb(nq, 4.0, 8.0),
sb(nq, 8.0, 12.0),
sb(nq, 12.0, 16.0)
);
}
vec2 sj(in float nq) {
return vec2(mod(nq, 256.0), floor(nq / 256.0));
}
vec2 sk(in float nq) {
float sl = floor(nq / P2_6);
float sm = nq - (sl * P2_6);
return vec2(sl, sm);
}
vec2 sn(in float nq) {
float so = floor(nq / P2_7);
float sp = nq - (so * P2_7);
return vec2(so, sp);
}
vec2 sq(in vec2 sr, in float ss) {
float st = cos(ss);
float su = sin(ss);
return vec2(st * sr.x + su * sr.y, -su * sr.x + st * sr.y);
}
vec4 sv(in vec4 sw) {
return floor(sw / 256.0) - 128.0;
}
vec4 sx(in vec4 sw) {
return mod(sw, 256.0) - 128.0;
}
float sy(float nq) {
return nq - 128.0;
}
vec2 sy(vec2 nq) {
return nq - 128.0;
}
vec2 sz(vec2 ta) {
return vec2(-ta.y, ta.x);
}
vec2 tb(vec2 tc, vec2 ih, vec2 td, float t) {
float te = 1.0 - t;
return (te * te * tc) + (2.0 * te * t * ih) + (t * t * td);
}
vec2 tf(vec2 tc, vec2 tg, vec2 th, vec2 td, float t) {
float te = 1.0 - t;
float ti = te * te;
float tj = ti * te;
float tk = t * t;
float tl = tk * t;
return (tj * tc) + (3.0 * ti * t * tg) + (3.0 * te * tk * th) + (tl * td);
}
vec2 tm(vec2 tc, vec2 ih, vec2 td, float t) {
float te = (1.0 - t);
vec2 sr = (te * ih + t * td) - (te * tc + t * ih);
return normalize(sr);
}
vec2 tn(vec2 tc, vec2 ih, vec2 td, float t) {
return sz(tm(tc, ih, td, t));
}
vec2 to(vec2 tc, vec2 tg, vec2 th, vec2 td, float t) {
float te = 1.0 - t;
float ti = te * te;
float tk = t * t;
vec2 sr = ti * (tg - tc) + 2.0 * te * t * (th - tg) + tk * (td - th);
return normalize(sr);
}
vec2 tp(vec2 tc, vec2 tg, vec2 th, vec2 td, float t) {
return sz(to(tc, tg, th, td, t));
}
float ua(float qr, float ub, float t) {
float y = abs(qr) / CURVATURE_RATIO + EPSILON;
float qw = y * y;
float te = t - 0.5;
float ti = te * te;
float uc = 1.0 / (16.0 * qw);
float ud = sqrt(ti + uc);
float ue = (0.5 / y) * sqrt(qw + 0.25);
float uf = (abs(2.0 * y)) * ((te * ud) + (0.5 * ue) + (uc * log(abs((te + ud) / (-0.5 + ue)))));
return uf * ub;
}
float ug(vec2 tc, vec2 uh, vec2 ui, vec2 td, float uj) {
vec2 bd = (tc + uh + ui) / 3.0;
vec2 uk = bd - uh;
vec2 ul = uh - ui;
float um = dot(uk, uk);
float un = dot(ul, ul) / 4.0;
float au = sqrt(um - un) * SELF_LOOP_TO_CIRCLE_APPROX * 1.55;
return 2.0 * PI * au * uj;
}
float uv(float nq) {
return nq - 32.0;
}
float uw(float nq) {
return nq - 512.0;
}
float ux(float nq) {
return nq - P2_14;
}
void uy() {
gl_Position = vec4(-10.0, -10.0, 1.0, 1.0);
}
vec4 uz(vec2 va) {
return vec4(((vec2(va.x, u_viewHeight - va.y) / vec2(u_viewWidth, u_viewHeight)) * 2.0 - 1.0), 0.5, 1.0);
}
float ve(float ar, float as) {
return step(ar - EPSILON, as) * step(as, ar + EPSILON);
}
bool aq(float ar, float as) {
return abs(ar - as) < EPSILON;
}
bool vf(float nq) {
return nq > 0.5;
}
vec2 vg(vec2 vh) {
return sq((vh - vec2(u_viewX, u_viewY)) * u_viewZoom, u_viewAngle) + vec2(u_viewWidth, u_viewHeight) / 2.0;
}
float vi(float or) {
return or * EDGE_ARROW_SIZE_RATIO;
}
float vj(float vk, float vl) {
return vk * BYTES_TO_SCALED_SIZE * u_viewZoom + vl;
}
float vr(float ro, float vp, float vq) {
float vs = vq - vp;
float a = 1.0 / vs;
float b = -vp / vs;
return ro * a + b;
}
struct vt {
vec2 vu;
vec2 vv;
};
vt vw(vec2 vx, float au, float qr) {
vt ns;
float vy = (au + au / SELF_LOOP_CURVATURE_RATIO * qr) * SELF_LOOP_CURVATURE_RATIO;
float vz = -u_viewAngle + PI;
float wa = -u_viewAngle + PI / 2.0;
ns.vu = vx + vec2(cos(vz), sin(vz)) * vy;
ns.vv = vx + vec2(cos(wa), sin(wa)) * vy;
return ns;
}
float we(vec2 wf, vec2 uh, vec2 ui, vec2 wg, float wh) {
vec2 wi = wf;
float t = 0.0;
float wj = 0.0;
float wk = ug(wf, uh, ui, wg, 1.0);
return wh / wk;
}
qm wl(
vec4 wm,
vec4 wn,
vec4 wo,
vec4 wp,
vec4 wq,
vec4 wr,
vec3 ws
) {
qm a;
pv bx = sf(wm.x);
qe wt = sh(wm.y);
vec4 wu = si(wm.z);
vec2 wv = sj(wm.w);
a.pw = bx.pw;
a.px = bx.px;
a.py = bx.py;
a.pz = bx.pz;
a.qa = bx.qa;
a.qb = bx.qb;
a.qc = bx.qc;
a.qd = bx.qd;
a.qf = wt.qf;
a.qg = wt.qg;
a.qh = wt.qh;
a.qi = wt.qi;
a.qj = wt.qj;
a.qk = wt.qk;
a.ql = wt.ql;
a.dc = wu.x;
a.qn = wu.y;
a.qo = wu.z;
a.qp = wu.w;
a.qq = wv.x;
a.qr = wv.y;
a.qs = wn.x;
a.cl = si(wn.y);
a.cm = si(wn.z);
a.dh = si(wn.w);
a.qt = wo.x;
a.qu = wo.y;
a.qv = wo.z;
a.qw = wo.w;
a.qx = wp.x;
a.qy = wp.y;
a.qz = wp.z;
a.ra = wp.w;
a.rb = wq.x;
a.rc = wq.y;
a.rd = wq.z;
a.re = wq.w;
a.rf = wr.x;
a.rg = ux(wr.y);
a.rk = ux(wr.z);
a.rl = ux(wr.w);
a.rh = ws.x;
float x = ws.y;
float y = mod(x, P2_8);
if (ws.z > 0.0) x += ws.z * P2_16;
a.ri = ((x - y) / P2_8) - P2_16;
a.rj = (y - P2_7) * BYTES_TO_TEXT_OFFSET_Y;
return a;
}
bool xy(const in qm a, out rm ns) {
float pw = a.pw;
float px = a.px;
float py = a.py * BYTES_TO_DASH_LENGTH;
float pz = a.pz * BYTES_TO_GAP_LENGTH;
float qa = a.qa;
float qb = a.qb;
float qc = a.qc;
float qd = a.qd;
float qf = a.qf * BYTES_TO_PATTERN_SCALE;
float qg = a.qg * BYTES_TO_OFFSET_ANGLE;
float qh = a.qh;
float qi = a.qi;
float qj = a.qj;
float qk = a.qk;
float ql = a.ql;
float dc = a.dc * BYTES_TO_COLOR;
float qn = a.qn * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qo = a.qo * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qp = a.qp * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qq = a.qq * BYTES_TO_SYMBOLIC_SIZE * u_viewZoom + step(a.qq, EPSILON) * INFINITY;
float qr = sy(a.qr);
float qs = a.qs;
vec4 cl = a.cl * BYTES_TO_COLOR;
vec4 cm = a.cm * BYTES_TO_COLOR;
vec4 dh = a.dh * BYTES_TO_COLOR;
vec2 xz = vec2(a.qt, a.qu) * BYTES_TO_COORD;
vec2 ya = vec2(a.qv, a.qw) * BYTES_TO_COORD;
vec2 wf = vg(xz);
vec2 wg = vg(ya);
float yb = vj(a.qx, a.qy);
float yc = vj(a.qz, a.ra);
float yd = vj(a.rb, a.rc);
float eu = vj(a.rd, a.re);
float xa = vj(a.rf, a.rg);
vec2 ye = a_vertexInfo.xy;
vec2 yf = vec2(0.0, 0.0);
float yg = yb;
float yh = yc;
float yi = yc * qf;
if (qh > EPSILON) {
if (a.rh < EPSILON) return false;
yi = yd;
qs = a.rh;
yb = yi * TEXT_WIDTH_MULTIPLIER * u_pixelRatio;
yc = yi * TEXT_HEIGHT_MULTIPLIER * u_pixelRatio;
}
bool zb = abs(qr) > EPSILON && ve(px, PIECE_EDGE_BODY) < EPSILON;
bool zc = zb && a_vertexInfo.z > EPSILON;
if (pw < EPSILON || px < EPSILON || qq < qn || zc) {
return false;
}
eu *= step(qo, qq);
float zp = 0.0;
float zq = 1.0;
float zm = 0.0;
float zo = 1.0;
float zr = 0.0;
float aab = 1.0;
float aad = 1.0;
float aao = 0.0;
float aap = 0.0;
vec2 bd;
vec2 ry;
vec2 rz;
vec2 sa;
float or;
float rx;
float abh = 0.0;
float abi = 1.0;
bool ci = ve(px, PIECE_TEXT_BOX) > EPSILON;
if (ve(px, PIECE_NODE_COMPONENT) > EPSILON || ci) {
bd = ceil((wf + wg) / 2.0);
if(length(ya - xz) > EPSILON){
ry = normalize(ya - xz) * vec2(1.,-1.);
}else{
ry = vec2(1.0, 0.0);
}
rz = sz(ry);
sa = rz;
or = yb;
rx = yc;
} else {
aad = 0.0;
float abz = distance(wf, wg);
vec2 aca = normalize(wg - wf);
vec2 acb = (wf + wg) / 2.0;
vec2 acc = sz(aca);
vec2 acd = acb + (acc * abz * -qr / CURVATURE_RATIO);
if (ve(px, PIECE_EDGE_TEXT) > 0.0
|| ve(px, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0
) {
ci = ve(px, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0;
float ace;
float acf = eu;
eu = 0.0;
if (qd > EPSILON) {
vt ih = vw(wf, acf / 2.0, qr);
bd = tf(wf, ih.vu, ih.vv, wg, 0.5);
ry = to(wf, ih.vu, ih.vv, wg, 0.5);
rz = sz(ry);
sa = rz;
ace = ug(wf, ih.vu, ih.vv, wg, 0.5);
} else if (abs(qr) > EPSILON) {
bd = tb(wf, acd, wg, 0.5);
ry = tm(wf, acd, wg, 0.5);
rz = sz(ry);
sa = rz;
ace = ua(qr, abz, 1.0);
} else {
bd = acb;
ry = aca;
rz = acc;
sa = acc;
ace = abz;
}
or = yb;
rx = yc;
if(yg > ace - acf && qd < EPSILON){
if(qi > EPSILON){
ry = vec2(1.0, 0.0);
rz = vec2(0.0, 1.0);
sa = vec2(0.0, 1.0);
} else {
ry = vec2(0,0);
rz = vec2(0.0, 0.0);
sa = vec2(0.0, 0.0);
}
} else {
float ss = -atan(ry.y, ry.x);
abh = ss;
qg -= ss;
if ((ss > PI / 2.0 || ss < -PI / 2.0)) {
qg += (1.0 - qd) * PI;
abi = -1.0;
ry *= -1.0;
rz *= -1.0;
sa *= -1.0;
}
}
} else {
float aah = yd;
float acn = yb;
float aco = yc;
float acp = qa + qb;
float acq = vi(aah);
float acr = qa * acq;
float acs = qb * acq;
float act = ve(px, PIECE_EDGE_HEAD);
float acu = ve(px, PIECE_EDGE_TAIL);
float acv = INFINITY * qd + abz - acn - aco;
float acw = min(acv / acp, acq);
float ade =
qb * (acq + max(acn + acw - acs, 0.0))
+ (1.0 - qb) * (acn);
float adf =
qa * (acq + max(aco + acw - acr, 0.0))
+ (1.0 - qa) * (aco);
if (act > EPSILON || acu > EPSILON) {
vec2 adi = act * wg + acu * wf;
float xa = act * adf + acu * ade + (HEAD_TAIL_PX_ADJUST - 0.5);
float adj = act * acr + acu * acs;
vec2 adk;
if (qd > EPSILON) {
vt ih = vw(wf, acn, qr);
float ace = ug(wf, ih.vu, ih.vv, wg, 1.0);
float wh = act * (ace - adf) + acu * ade;
float t = we(wf, ih.vu, ih.vv, wg, wh);
adk = tf(wf, ih.vu, ih.vv, wg, t);
} else {
float ace = ua(qr, abz, 1.0);
float t = (act * (ace - adf) + acu * ade) / ace;
adk = tb(wf, acd, wg, t);
}
ry = normalize(adi - adk);
rz = sz(ry);
sa = rz;
bd = adi - ry * (xa - adj / 2.0);
or = adj;
rx = adj;
py = 0.0;
pz = 0.0;
} else {
float ado;
float adp;
float adq;
if (abs(qr) < EPSILON) {
bd = acb;
ry = aca;
rz = acc;
sa = rz;
or = abz;
ado = abz;
adp = 0.0;
adq = abz;
} else {
float ads = a_vertexInfo.z;
float adt = ads * T_STEP_PER_CURVE_PIECE;
float tk = adt + T_STEP_PER_CURVE_PIECE;
if (qd < EPSILON) {
vec2 adu = tb(wf, acd, wg, adt);
vec2 adv = tb(wf, acd, wg, tk);
bd = (adu + adv) / 2.0;
ry = normalize(adv - adu);
rz = tn(wf, acd, wg, adt);
sa = tn(wf, acd, wg, tk);
or = distance(adu, adv);
ado = ua(qr, abz, 1.0);
adp = ua(qr, abz, adt);
adq = ua(qr, abz, tk);
} else {
vt ih = vw(wf, acn, qr);
vec2 uh = ih.vu;
vec2 ui = ih.vv;
vec2 adu = tf(wf, uh, ui, wg, adt);
vec2 adv = tf(wf, uh, ui, wg, tk);
bd = (adu + adv) / 2.0;
ry = normalize(adv - adu);
rz = tp(wf, uh, ui, wg, adt);
sa = tp(wf, uh, ui, wg, tk);
or = distance(adu, adv);
ado = ug(wf, uh, ui, wg, 1.0);
adp = ug(wf, uh, ui, wg, adt);
adq = ug(wf, uh, ui, wg, tk);
}
}
rx = yd;
zm = (ade - 1.0) / ado - 0.015 * qd;
zo = MAX_PROGRESS + 0.015 * qd
- (adf - HEAD_TAIL_PX_ADJUST) / ado;
zp = adp / ado;
zq = adq / ado;
zr = ado;
if (qc > 0.0 && acv > 5.0) {
float aea = (ado * rx) / (ado - ade);
float wk = ado;
float qt = ade;
float qv = ado - adf;
float a = -aea / wk;
float b = aea;
float qu = a * qt + b;
float qw = a * qv + b;
float aeb = qu / (qt - qv);
float bi = -aeb * qv;
rx = min(min(bi, acn), aco);;
aap = aeb * wk + bi + 1.0;
}
}
}
}
vec2 cq = vec2(0.0, 0.0);
vec2 rt = vec2(EPSILON, EPSILON);
vec2 ru = vec2(-EPSILON, -EPSILON);
float rv = -1.0;
float rw = 0.0;
bool aed = false;
vec2 aee = vec2(0,0);
vec2 aef = vec2(0,0);
vec2 aeg = vec2(0,0);
if (qs > EPSILON && qq > qp) {
float aej = floor(qs / PATTERN_INFO_TEXTURE_SIZE);
float aek = qs - (aej * PATTERN_INFO_TEXTURE_SIZE);
vec4 ael = texture2D(u_patternInfoTexture, vec2(aek, aej) / 255.0) * 255.0;
vec2 aem = sn(ael.z);
vec2 aen = sn(ael.w);
rv = aem.x * 2.0 + aen.x;
float aeo = 0.0;
if (aq(rv, FILTER_NEAREST)) { 
aeo = PATTERN_NEAREST_TEXTURE_SIZE;
} else if (aq(rv, FILTER_LINEAR)) { 
aeo = PATTERN_LINEAR_TEXTURE_SIZE;
} else if (aq(rv, FILTER_LINEAR_SDF)) { 
aeo = PATTERN_LINEAR_SDF_TEXTURE_SIZE;
aed = true;
} else if (aq(rv, FILTER_MIPMAP)) { 
aeo = PATTERN_MIPMAP_TEXTURE_SIZE;
}
float aer = 1.0 / aeo;
vec2 aes = (vec2(aem.y, aen.y) * PATTERN_POSITION_UNIT_SIZE) * aer / 2.0;
aef += (ael.xy * PATTERN_POSITION_UNIT_SIZE * aer) + aes;
aes -= PATTERN_PADDING * aer * 2.0;
vec2 aet = vec2(or / 2.0, rx / 2.0) * aer;
vec2 aeu = vec2(eu, eu) * aer;
float aew = 1.0 * u_pixelRatio;
float aex = SDF_SMOOTH_FACTOR;
if (qf > EPSILON) {
if (aed) { 
if (a.qj > EPSILON) {
aex = SDF_SMOOTH_FACTOR * u_pixelRatio / SDF_GAMMA;
aee = vec2(-a.rl,-a.rk);
}
rw = aex * SDF_GAMMA / yi / u_pixelRatio;
aew = SDF_FONT_SIZE / yi;
} else { 
aew = (aes.y / aet.y) / qf;
}
}
aeg = (aet + aeu) * aew;
aes += PATTERN_PADDING * aer;
rt = aef - aes;
ru = aef + aes;
}
if (qh > EPSILON) {
yf.y = (a.rj) * yi;
aab = 0.0;
aad = 0.0;
yf.x = a.ri * yi * BYTES_TO_TEXT_OFFSET_X;
yf += vec2(1.0, 1.0);
yf = sq(yf, abh);
yf *= abi;
}
vec2 afc = vec2(cos(qg), sin(qg)) * xa;
vec2 afd = bd + afc + yf;
float afe = eu * 2.0;
float aff = or + aad * (afe + 1.0);
float afg = rx + aab * (afe + 1.0);
vec2 afh = ry * aff / 2.0;
vec2 afi = rz * afg / 2.0;
vec2 afj = sa * afg / 2.0;
float afk = (zq - zp);
float afl = ye.x / 2.0 + 0.5;
float ro = zp + afk * afl;
float rs = aao + (aap - aao) * ro / 2.0;
float afm = step(pw, FIRST_COMPLEX_SHAPE_ID - EPSILON);
float afn = afm * SIMPLE_SHAPE_SAMPLING_SIZE + (1.0 - afm) * COMPLEX_SHAPE_SAMPLING_SIZE;
float afo = afn / COMPLEX_SHAPE_SAMPLING_SIZE;
float afp = afo * SHAPE_SAMPLING_BUFFER_RATIO / 2.0;
float afq = afo * (1.0 - SHAPE_SAMPLING_BUFFER_RATIO);
vec2 afx = vec2(
mod(pw, NB_SHAPES_BY_SIDE),
floor(pw / NB_SHAPES_BY_SIDE)
);
vec2 afy = afx + vec2(afp) +
vec2(zp * afq, 0.0);
vec2 agb = vec2(afk, 1.0) * afq;
vec2 rn = (afy + agb * (ye / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE;
vec2 rr = vec2(aff / afk, afg) / 2.0;
float agh = py * yd;
float agi = pz * yd;
float rp = agh + agi;
float rq = (ro * zr) / rp;
cq = aef
+ aeg
* (ye + aee / rr * u_viewZoom);
ns.rn = rn;
float ch = float(pw == 1.);
f = vec4(
(afy + agb * (vec2(0.5,0.5) / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE,
NB_SHAPES_BY_SIDE * (1. - qh) * ch,
float(ci)
);
ns.rr = rr;
ns.eu = eu;
ns.cl = cl;
ns.cm = cm;
ns.dc = dc;
ns.ro = vr(ro, zm, zo);
ns.rp = rp;
ns.py = agh;
ns.rq = rq;
ns.rs = rs;
ns.cq = cq;
ns.rt = rt;
ns.ru = ru;
ns.rv = rv;
ns.rw = rw;
ns.dh = dh;
ns.bd = afd;
ns.or = aff + ch;
ns.rx = afg + ch;
ns.ry = ry;
ns.rz = rz;
ns.sa = sa;
return true;
}
float ago(float agp, float agq, vec4 agr) {
float ags = clamp(((u_currentTime - agp) / agq), 0.0, 1.0);
float r = ags;
float agt = r * r;
float agu = agt * r;
vec4 agv = ags < 0.5 ? sv(agr) : sx(agr);
float agw = agv.x;
float agx = agv.y;
float agy = agv.z;
float agz = agv.w;
float aha = agw + agx * r + agy * agt + agz * agu;
return aha;
}
void main() {
qm a_final = wl(
a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_final_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_final_x1_y1_x2_y2,
a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
#if ANIMATED
float agp = a_animationBeginTime_animationDuration.x;
float agq = a_animationBeginTime_animationDuration.y;
vec4 agr = a_animationEasing;
float xx = ago(agp, agq, agr);
qm a_prev = wl(
a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_prev_x1_y1_x2_y2,
a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
const float ONE = 1.0;
a_final.pw = mix(a_prev.pw, a_final.pw, ONE);
a_final.py = mix(a_prev.py, a_final.py, xx);
a_final.pz = mix(a_prev.pz, a_final.pz, xx);
a_final.qa = mix(a_prev.qa, a_final.qa, ONE);
a_final.qb = mix(a_prev.qb, a_final.qb, ONE);
a_final.px = mix(a_prev.px, a_final.px, ONE);
a_final.qf = mix(a_prev.qf, a_final.qf, ONE);
a_final.qh = mix(a_prev.qh, a_final.qh, ONE);
a_final.qi = mix(a_prev.qi, a_final.qi, ONE);
a_final.qj = mix(a_prev.qj, a_final.qj, ONE);
a_final.qk = mix(a_prev.qk, a_final.qk, ONE);
a_final.qd = mix(a_prev.qd, a_final.qd, ONE);
a_final.qg = mix(a_prev.qg, a_final.qg, xx);
a_final.dc = mix(a_prev.dc, a_final.dc, xx);
a_final.qn = mix(a_prev.qn, a_final.qn, xx);
a_final.qo = mix(a_prev.qo, a_final.qo, xx);
a_final.qp = mix(a_prev.qp, a_final.qp, xx);
a_final.qq =mix(a_prev.qq, a_final.qq, xx);
a_final.qr = mix(a_prev.qr, a_final.qr, xx);
a_final.qs = mix(a_prev.qs, a_final.qs, ONE);
a_final.cl = mix(a_prev.cl, a_final.cl, xx);
a_final.cm = mix(a_prev.cm, a_final.cm, xx);
a_final.dh = mix(a_prev.dh, a_final.dh, xx);
a_final.qt = mix(a_prev.qt, a_final.qt, xx);
a_final.qu = mix(a_prev.qu, a_final.qu, xx);
a_final.qv = mix(a_prev.qv, a_final.qv, xx);
a_final.qw = mix(a_prev.qw, a_final.qw, xx);
a_final.qx = mix(a_prev.qx, a_final.qx, xx);
a_final.qy = mix(a_prev.qy, a_final.qy, xx);
a_final.qz = mix(a_prev.qz, a_final.qz, xx);
a_final.ra = mix(a_prev.ra, a_final.ra, xx);
a_final.rb = mix(a_prev.rb, a_final.rb, xx);
a_final.rc = mix(a_prev.rc, a_final.rc, xx);
a_final.rd = mix(a_prev.rd, a_final.rd, xx);
a_final.re = mix(a_prev.re, a_final.re, xx);
a_final.rf = mix(a_prev.rf, a_final.rf, xx);
a_final.rg = mix(a_prev.rg, a_final.rg, xx);
a_final.rh = mix(a_prev.rh, a_final.rh, ONE);
a_final.ri = mix(a_prev.ri, a_final.ri, ONE);
a_final.rj = mix(a_prev.rj, a_final.rj, ONE);
#endif
rm ns;
bool ahe = xy(a_final, ns);
if (!ahe) {
uy();
return;
}
vec2 ye = a_vertexInfo.xy;
a = ns.cl;
b = ns.cm;
c = ns.dh;
d = ns.rn;
e = ns.cq;
#if D3D9_FIX
#else
l = ns.eu;
m = ns.rt;
n = ns.ru;
o = vec2(ns.dc, ns.rs);
p = ns.ro;
q = ns.rp;
r = vec2(ns.py, ns.rq);
s = ns.rr;
t = ns.rw;
u = ns.rv;
#endif
float ahh = step(ye.x, 0.0);
float ahi = 1.0 - ahh;
g = min(ns.rx, ROUNDED_BOX_RADIUS * 2.) * u_pixelRatio;
vec2 va = ns.bd
+ ns.ry * (ns.or / 2.0) * ye.x
+ (ahh * ns.rz + ahi * ns.sa) * ns.rx / 2.0 * ye.y;
c = c * (1. - f.w)
+ vec4(
ye.x * ns.or,
ye.y * ns.rx,
ns.or,
ns.rx
) * u_pixelRatio * f.w;
gl_Position = uz(va);
}
`,$c=1e20,z6=class{constructor({fontSize:e=24,buffer:t=8,radius:n=6,cutoff:r=.25}={}){this._maxDimension=1,this._gridSize=1,this._fontSize=e,this._buffer=t,this._radius=n,this._cutoff=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Rg),this._canvas=Vn(),this._canvas.height=this._height,this._canvas.width=1;const i=this._canvas.getContext("2d",{willReadFrequently:!0});this._ctx=i,i.textBaseline="middle",i.textAlign="center",i.fillStyle="black"}setOptions({fontSize:e=24,buffer:t=8,cutoff:n=.25,radius:r=6}){this._fontSize=e,this._buffer=t,this._cutoff=n,this._radius=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Rg)}draw(e,t,n){lo(this._ctx,t,this._fontSize,n);const r=O6(this._ctx.measureText(e).width+2*this._buffer)-2*go,i=this._height,s=r*i,o=Math.max(r,i);this._canvas.width<r&&(this._canvas.width=r,lo(this._ctx,t,this._fontSize,n),this._ctx.textAlign="center",this._ctx.textBaseline="middle",this._ctx.fillStyle="black"),s>this._gridSize&&(this._gridOuter=new Float64Array(s),this._gridInner=new Float64Array(s),this._gridSize=s),o>this._maxDimension&&(this._f=new Float64Array(o),this._d=new Float64Array(o),this._z=new Float64Array(o+1),this._v=new Int16Array(o),this._maxDimension=o),this._ctx.clearRect(0,0,r,i),this._ctx.fillText(e,r/2,i/2);const a=this._ctx.getImageData(0,0,r,i),l=new Uint8ClampedArray(s);for(let c=0;c<s;c++){const d=a.data[4*c+3]/255;this._gridOuter[c]=d===1?0:d===0?$c:Math.pow(Math.max(0,.5-d),2),this._gridInner[c]=d===1?$c:d===0?0:Math.pow(Math.max(0,d-.5),2)}wS(this._gridOuter,r,i,this._f,this._d,this._v,this._z),wS(this._gridInner,r,i,this._f,this._d,this._v,this._z);for(let c=0;c<s;c++){const d=this._gridOuter[c]-this._gridInner[c];l[c]=Math.max(0,Math.min(255,Math.round(255-255*(d/this._radius+this._cutoff))))}return{height:i,width:r,distance:l}}};function wS(e,t,n,r,i,s,o){for(let a=0;a<t;a++){for(let l=0;l<n;l++)r[l]=e[l*t+a];ES(r,i,s,o,n);for(let l=0;l<n;l++)e[l*t+a]=i[l]}for(let a=0;a<n;a++){for(let l=0;l<t;l++)r[l]=e[a*t+l];ES(r,i,s,o,t);for(let l=0;l<t;l++)e[a*t+l]=Math.sqrt(i[l])}}function ES(e,t,n,r,i){n[0]=0,r[0]=-$c,r[1]=+$c;for(let s=1,o=0;s<i;s++){let a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);for(;a<=r[o];)o--,a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);o++,n[o]=s,r[o]=a,r[o+1]=+$c}for(let s=0,o=0;s<i;s++){for(;r[o+1]<s;)o++;t[s]=(s-n[o])*(s-n[o])+e[n[o]]}}function O6(e){return Math.ceil((e+2*go)/Kn)*Kn}var Uu=256,B6=.275,j6=.25,$6=6,U6=N4-2*go,V6=L4-2*go,SS={fontSize:Sd,cutoff:B6,radius:$6},G6={fontSize:Sd,cutoff:j6,radius:8},H6=class{constructor(e,t){this._patternIdToInfoTexture=new Uint8Array(Uu*Uu*4),this._glTextures=[],this._textureSizes=[],this._pixelRatio=1,this._gl=e,this._glUnit=t;const n=Vn(pi,pi),r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Pattern: could not get 2d context");this._imageCanvasContext=r,this._imageCanvas=n,this._canvasForDuplicatedImage,this._sdfGenerator=new z6(SS),this._maxTextureSize=Math.min(4096,e.getParameter(e.MAX_TEXTURE_SIZE))}refresh(e){this._pixelRatio=e.getPixelRatio();const t=this._gl,n=this._getPatternsByFilter(e.getPatternList());for(let s=0;s<n.length;++s){const o=s,a=n[s],l=y6(a,this._maxTextureSize),{texture:c,size:d}=fI(o,a,l,this._maxTextureSize,this._patternIdToInfoTexture),u=this._glTextures[o]||(this._glTextures[o]=t.createTexture()),h=o===Za?ux:I0;_S(t,u,this._glUnit+1+o,c,d,o,h),this._textureSizes[o]=d}const r=this._glTextureInfo||(this._glTextureInfo=t.createTexture()),i=this._patternIdToInfoTexture;_S(t,r,this._glUnit,i,Uu,Za,I0)}bindMetaDataTexture(){const e=this._gl;e.activeTexture(e.TEXTURE0+this._glUnit),e.bindTexture(e.TEXTURE_2D,this._glTextureInfo)}getInfoTextureUnit(){return this._glUnit}getNearestTextureUnit(){return this._glUnit+1+Za}getLinearTextureUnit(){return this._glUnit+1+Bc}getLinearSdfTextureUnit(){return this._glUnit+1+jc}getMipmapTextureUnit(){return this._glUnit+1+Ao}getInfoTextureSize(){return Uu}getNearestTextureSize(){return this._textureSizes[Za]}getLinearTextureSize(){return this._textureSizes[Bc]}getLinearSdfTextureSize(){return this._textureSizes[jc]}getMipmapTextureSize(){return this._textureSizes[Ao]}_getPatternsByFilter(e){const t=new Array(pS);for(let n=0;n<pS;++n)t[n]=[];for(let n=0;n<e.length;++n){const r=this._getPatternPixels(e[n]);t[r.filter].push(r)}return t}_getPatternPixels({id:e,type:t,attributes:n}){let r;const{text:i,font:s,style:o,image:a,scaled:l,duplicated:c,colorArray:d}=n;switch(t){case so:r=c?this._getDuplicatedImagePixels(a):l?this._getScaledImagePixels(a):this._getNonScaledImagePixels(a);break;case Ro:r=this._getSdfTextPixels(i,s,o);break;case Vo:r=this._getIconPixels(i,s,o);break;case Go:r=this._getBadgeIconPixels(i,s,o);break;case Kd:r=this._getPieChartPixels(d);break;default:throw new Error(`pattern type "${t}" does not exist`)}return r.id=e,r}_getScaledImagePixels(e){let t=e.width,n=e.height;if(t>0){const r=pi/Math.max(e.width,e.height);t*=r,n*=r}return t&&n&&(t=bl(t),n=bl(n)),t-=2*go,n-=2*go,this._getImagePixels(e,t,n)}_getNonScaledImagePixels(e){return this._getImagePixels(e,e.width,e.height)}_getDuplicatedImagePixels(e){if(e.width===0||e.height===0)return this._getImagePixels(e,0,0);this._canvasForDuplicatedImage||(this._canvasForDuplicatedImage=Vn(pi,pi));const t=this._canvasForDuplicatedImage,n=t.getContext("2d"),r=e.width,i=e.height;let s=(pi-r)/2,o=(pi-i)/2;for(;s>0;)s-=r;for(;o>0;)o-=i;for(let a=s;a<pi;a+=r)for(let l=o;l<pi;l+=i)n.drawImage(e,a,l);return this._getImagePixels(t,pi,pi)}_getImagePixels(e,t,n){let r;if(t===0||n===0)r=new Uint8Array(0);else{(this._imageCanvas.width<t||this._imageCanvas.height<n)&&(this._imageCanvas.width=t,this._imageCanvas.height=n);const i=this._imageCanvasContext;u0(this._imageCanvas,i,t,n);try{i.drawImage(e,0,0,t,n)}catch{}r=i.getImageData(0,0,t,n).data}return{width:t,height:n,pixels:r,filter:Ao}}_getPieChartPixels(e){const t=V6,n=this._imageCanvasContext,r=t/2,i=t/2;return u0(this._imageCanvas,n,t,t),n.save(),n.rect(0,0,t,t),n.clip(),yI(n,e,r,i,t),n.restore(),{width:t,height:t,pixels:n.getImageData(0,0,t,t).data,filter:Bc}}_getTextPixels(e,t,n,r,i,s){const o=this._imageCanvasContext,a=i*this._pixelRatio;lo(o,n,a,r);let l=Math.ceil(o.measureText(t).width);l===0&&(l=a);let c=0,d=0;e===Ao||(c=2*Math.ceil(a*Rg/2),d=2*Math.ceil(l*WN/2));const u=Math.ceil(l+d),h=Math.ceil(a+c),g=this._imageCanvas.height<h||this._imageCanvas.width<u;return this._imageCanvas.height<h&&(this._imageCanvas.height=h),this._imageCanvas.width<u&&(this._imageCanvas.width=u),g&&lo(o,n,a,r),o.clearRect(0,0,u,h),o.fillStyle="black",o.textBaseline="middle",o.textAlign="left",o.fillText(t,s+d/2,h/2),{width:u,height:h,pixels:o.getImageData(0,0,u,h).data,filter:e}}_getIconPixels(e,t,n){return this._getTextPixels(Ao,e,t,n,U6,0)}_getBadgeIconPixels(e,t,n){return this._sdfGenerator.setOptions(G6),this._getSdfPixels(e,t,n)}_getSdfTextPixels(e,t,n){return this._sdfGenerator.setOptions(SS),this._getSdfPixels(e,t,n)}_getSdfPixels(e,t,n){const{width:r,height:i,distance:s}=this._sdfGenerator.draw(e,t,n),o=new Uint8Array(r*i*4);for(let a=0;a<s.length;++a)o[4*a+3]=s[a];return{width:r,height:i,pixels:o,filter:jc}}},W6=class{constructor(e,t){this._gl=e,this._glTextureUnit=t,this._simpleShapePixels=new Uint8Array(Dh*Dh*4),this._complexShapePixels=new Uint8Array(Ds*Ds*4),this._shapesWritten=[]}refresh(e){const t=e.getShapeList();for(const n of t)if(!this._shapesWritten.includes(n.id)){const r=n.isSimple?Dh:Ds,i=n.isSimple?this._simpleShapePixels:this._complexShapePixels;v6(n,r,k0,i),this._loadShapeInGpu(n.id,r,i),this._shapesWritten.push(n.id)}}_loadShapeInGpu(e,t,n){const r=this._gl,i=L0,s=e%T0*Ds,o=Math.floor(e/T0)*Ds;if(this._texture)r.bindTexture(r.TEXTURE_2D,this._texture);else{const a=new Uint8Array(i*i*4);this._texture=r.createTexture(),r.activeTexture(r.TEXTURE0+this._glTextureUnit),r.bindTexture(r.TEXTURE_2D,this._texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i,i,0,r.RGBA,r.UNSIGNED_BYTE,a)}r.texSubImage2D(r.TEXTURE_2D,0,s,o,t,t,r.RGBA,r.UNSIGNED_BYTE,n)}getTextureSize(){return L0}getSamplingSize(){return Ds}getBufferRatio(){return k0}getTextureUnit(){return this._glTextureUnit}},AS=class{constructor(e,{vertex:t,fragment:n,constants:r,macros:i}){this._state=0,this._gl=e,this._vertexSource=t,this._fragmentSource=n,this._constants=an(r||{}),this._macros=an(i||{})}setConstant(e,t){this._constants[e]=t}setMacro(e,t){this._macros[e]=t}getState(){return this._state}getProgram(){return this._program}compile(){const e=this._gl,t=CS(this._vertexSource,this._macros,this._constants),n=CS(this._fragmentSource,this._macros,this._constants);this._program&&(e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader));const r=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER);if(!(r&&i&&s))throw new Error("Error instantiating WebGL program");this._program=r,this._vertexShader=i,this._fragmentShader=s,e.shaderSource(this._vertexShader,t),e.compileShader(this._vertexShader),e.attachShader(this._program,this._vertexShader),e.shaderSource(this._fragmentShader,n),e.compileShader(this._fragmentShader),e.attachShader(this._program,this._fragmentShader),e.linkProgram(this._program),this._state=1}getError(){const e=this._gl;return e.getShaderParameter(this._vertexShader,e.COMPILE_STATUS)?e.getShaderParameter(this._fragmentShader,e.COMPILE_STATUS)?e.getProgramParameter(this._program,e.LINK_STATUS)?(this._state=2,null):{step:"link",message:e.getProgramInfoLog(this._program)||""}:{step:"fragment",message:e.getShaderInfoLog(this._fragmentShader)||""}:{step:"vertex",message:e.getShaderInfoLog(this._vertexShader)||""}}};function CS(e,t,n){const r=Object.keys(t),i=Object.keys(n);for(let s=0;s<r.length;++s){const o=r[s],a=t[o];e=e.replace(`#define ${o} 0`,`#define ${o} ${a}`)}for(let s=0;s<i.length;++s){const o=i[s],a=n[o],l=a+(a%1==0?".0":"");e=e.replace(`const float ${o} = 0.0;`,`const float ${o} = ${l};`)}return e}function q6(){return typeof window<"u"&&!!window.FORCE_WEBGL}/** @preserve instance id */var kS=fL(),X6={stencil:!0,antialias:!1,alpha:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!q6()},Y6=0,Z6=1,Q6={NO_WEBGL:'Unable to create a WebGL context: `canvas.getContext("webgl")` and `canvas.getContext("experimental-webgl")` returned `null`',NO_ANGLE_INSTANCED_ARRAYS:'WebGL extension "ANGLE_instanced_arrays" unavailable: `gl.getExtension("ANGLE_instanced_arrays")` returned `null`'},xI=class extends Error{};function wf(e,t){if(!e&&t){const n=new xI(Q6[t]);throw n.code=t,n}}var bI=class extends dx{constructor(e){super(e),this._2dcanvas=Vn(),this._ctx=this._2dcanvas.getContext("2d"),this._bufferDrawers=[],this._mustResize=!1,this._error=null,this._onContextLost=a=>{a.preventDefault(),this._error=new xI("WebGL context lost"),this.fire("error",this._error)};const t=e.initData||bI.createInitData(),{canvas:n,gl:r,ext:i,staticProgramWrapper:s,animationProgramWrapper:o}=t;wf(r,"NO_WEBGL"),wf(i,"NO_ANGLE_INSTANCED_ARRAYS"),this._glCanvas=n,this._gl=r,this._ext=i,this._staticProgramWrapper=s,this._animationProgramWrapper=o,this._shapeTexture=new W6(this._gl,Y6),this._patternTexture=new H6(this._gl,Z6),this._initCanvas(this._glCanvas),this._computeShaderInfo(),this._initSpecialGlBuffers(),this._initGlPrograms(),this._initGl()}_initCanvas(e){super._initCanvas(e),e.addEventListener("webglcontextlost",this._onContextLost,!1)}static isAvailable(){return kS||wf(null,"NO_WEBGL"),kS}static createInitData(){const e=Vn(),t=Mv(e,X6,"webgl"),n=t&&typeof t.getExtension=="function"?t.getExtension("ANGLE_instanced_arrays"):null,r=e8(),i=new AS(t,{vertex:bf,fragment:xf,constants:r,macros:{ANIMATED:0}}),s=new AS(t,{vertex:bf,fragment:xf,constants:r,macros:{ANIMATED:1}});return t&&n&&(i.compile(),t.flush()),{canvas:e,gl:t,ext:n,staticProgramWrapper:i,animationProgramWrapper:s}}static getName(){return"WebGL"}_afterFirstFrame(){this._animationProgramWrapper.getState()===0&&this._animationProgramWrapper.compile()}ensureAnimationsReady(){const e=this._animationProgramWrapper.getState();e!==2&&(e===0&&this._animationProgramWrapper.compile(),this._animationProgramWrapper.getError())}getDomElement(){return this._glCanvas}_initGl(){const e=this._gl;e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}_computeShaderInfo(){this._shaderMetadata=K6(bf,xf)}_initGlPrograms(){this._staticProgram=new bS({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._staticProgramWrapper}),this._animationProgram=new bS({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._animationProgramWrapper})}_initSpecialGlBuffers(){const e=this._gl,t=e.createBuffer(),n=new Int8Array(18*cr);for(let r=0;r<cr;++r){const i=[-1,-1,r,1,-1,r,1,1,r,-1,-1,r,-1,1,r,1,1,r],s=r*i.length;for(let o=0;o<i.length;o++)n[o+s]=i[o]}e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this._specialGlBuffers={vertexInfo:t}}_computeUniforms(){return{viewWidth:this._width,viewHeight:this._height,viewX:this._viewX,viewY:this._viewY,viewZoom:this._viewZoom,viewAngle:this._viewAngle,currentTime:this._currentTime,pixelRatio:this._pixelRatio,backgroundColor:this._backgroundRgba,patternInfoTexture:this._patternTexture.getInfoTextureUnit(),patternNearestTexture:this._patternTexture.getNearestTextureUnit(),patternLinearTexture:this._patternTexture.getLinearTextureUnit(),patternLinearSdfTexture:this._patternTexture.getLinearSdfTextureUnit(),patternMipmapTexture:this._patternTexture.getMipmapTextureUnit(),shapeTexture:this._shapeTexture.getTextureUnit(),BYTES_TO_COORD:this._scales.bytesToActualCoord,BYTES_TO_SCALED_SIZE:this._scales.bytesToActualScaledSize,BYTES_TO_MIN_VISIBLE_SIZE:this._scales.bytesToActualMinVisibleSize,BYTES_TO_SYMBOLIC_SIZE:this._scales.bytesToActualSymbolicSize,BYTES_TO_DASH_LENGTH:this._scales.bytesToActualDashLength,BYTES_TO_GAP_LENGTH:this._scales.bytesToActualGapLength,BYTES_TO_PATTERN_SCALE:this._scales.bytesToActualPatternScale,PATTERN_INFO_TEXTURE_SIZE:this._patternTexture.getInfoTextureSize(),PATTERN_NEAREST_TEXTURE_SIZE:this._patternTexture.getNearestTextureSize(),PATTERN_LINEAR_TEXTURE_SIZE:this._patternTexture.getLinearTextureSize(),PATTERN_LINEAR_SDF_TEXTURE_SIZE:this._patternTexture.getLinearSdfTextureSize(),PATTERN_MIPMAP_TEXTURE_SIZE:this._patternTexture.getMipmapTextureSize(),PATTERN_POSITION_UNIT_SIZE:Kn,ROUNDED_BOX_RADIUS:this._textManager.getCornerRadius(),SHAPE_TEXTURE_SIZE:this._shapeTexture.getTextureSize(),SHAPE_SAMPLING_SIZE:this._shapeTexture.getSamplingSize(),SHAPE_SAMPLING_BUFFER_RATIO:this._shapeTexture.getBufferRatio(),NB_SHAPES_BY_SIDE:this._shapeTexture.getTextureSize()/this._shapeTexture.getSamplingSize(),SHAPE_DIMENSIONS:this._shapeTexture.getSamplingSize()/this._shapeTexture.getTextureSize(),SHAPE_ACTUAL_RATIO:1-this._shapeTexture.getBufferRatio()}}_render({shapesChanged:e,patternsChanged:t,dimensionsChanged:n,backgroundColorChanged:r}){const i=this._gl;if(this._error)throw this._error;if(e&&(this._shapeTexture.refresh(this._shapeManager),this._patternTexture.bindMetaDataTexture()),t&&this._patternTexture.refresh(this._patternManager),n&&(this._mustResize=!0),r){const[a,l,c,d]=this._renderBackground?this._backgroundRgba:[0,0,0,0];i.clearColor(a*d,l*d,c*d,d)}const s=this._computeUniforms(),o=this._getSortedBufferList();this._mustResize&&o.length&&(Sg(this._glCanvas,this._width,this._height,this._pixelRatio),i.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),this._mustResize=!1),i.clear(i.COLOR_BUFFER_BIT|i.STENCIL_BUFFER_BIT);for(let a=0;a<o.length;++a)this._displayBuffer(o[a],s);this._endFrame()}_displayBuffer(e,t){const n=e.getProgram();n!==this._currentProgram&&(this._currentProgram&&this._currentProgram.endPass(),this._currentProgram=n,this._currentProgram.startPass(t)),e.markAsUsed(),e.draw()}_getSortedBufferList(){const e=this._bufferList.getBuffersByAscendingDepth(),t=[];for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&r.markAsUnused()}for(let n=0;n<e.length;++n){const r=e[n],i=this._getBufferDrawer(r);i.markAsUsed(),!r.isEmpty()&&this._isBufferDisplayable(r)&&t.push(i)}for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&!r.isUsed()&&(r.destroy(),this._bufferDrawers[n]=void 0)}return t}_endFrame(){this._currentProgram&&(this._currentProgram.endPass(),this._currentProgram=null)}_getBufferDrawer(e){const t=e.getId();let n=this._bufferDrawers[t];if(!n){for(;this._bufferDrawers.length<=t;)this._bufferDrawers.push(void 0);n=new N6({gl:this._gl,ext:this._ext,staticProgram:this._staticProgram,animationProgram:this._animationProgram}),this._bufferDrawers[t]=n}return n.setDataBuffer(e),n}destroy(){this._glCanvas&&this._glCanvas.removeEventListener("webglcontextlost",this._onContextLost);const e=this._gl.getExtension("WEBGL_lose_context");e&&e.loseContext()}getImageData(){const e=this._glCanvas.width,t=this._glCanvas.height;return(this._2dcanvas.width<e||this._2dcanvas.height<t)&&(this._2dcanvas.width=e,this._2dcanvas.height=t),this._ctx.clearRect(0,0,e,t),this._ctx.drawImage(this._glCanvas,0,0),this._ctx.getImageData(0,0,e,t)}_getImageDataFlippedYAxis(){const e=this._gl,t=this._glCanvas.width,n=this._glCanvas.height,r=this._ctx.createImageData(t,n),i=new Uint8Array(r.data.buffer);return e.readPixels(0,0,t,n,e.RGBA,e.UNSIGNED_BYTE,i),r}};function K6(e,t){const n={vertexInfoAttribute:"a_vertexInfo",attributes:[],uniforms:[]};return TS(n,e),TS(n,t),n}var J6={float:1,vec2:2,vec3:3,vec4:4};function TS(e,t){const n=/(?:attribute\s+\/\*\s*(byte|ubyte|short|ushort|float)\s*\*\/\s*(float|vec2|vec3|vec4)\s+(\w+)\s*;)|(?:#if\s*(\w+))|(?:#endif)/g,r=/uniform\s+(float|vec2|vec3|vec4|sampler2D|int)\s+(\w+)\s*;/g,i=[];let s=n.exec(t);for(;s;){const o=s[0];o==="#endif"?i.pop():o.startsWith("#if")?i.push(s[4]):e.attributes.push({name:s[3],size:J6[s[2]],type:s[1],tags:i.slice(),location:null,byteSize:0,glType:null}),s=n.exec(t)}for(s=r.exec(t);s;){if(!e.uniforms.some(({id:o})=>o===s[1])){const o=s[1],a=s[2],l=a.replace("u_","");e.uniforms.push({id:l,name:a,type:o})}s=r.exec(t)}}function e8(){return{BYTES_TO_OFFSET_ANGLE:2*Math.PI/8,BYTES_TO_COLOR:1/15,SDF_FONT_SIZE:Sd,CURVATURE_RATIO:Qp,PATTERN_PADDING:go,TEXT_WIDTH_MULTIPLIER:WN,TEXT_HEIGHT_MULTIPLIER:Rg,SELF_LOOP_CURVATURE_RATIO:Dg,EDGE_ARROW_SIZE_RATIO:qN,CURVE_SUBDIVISIONS:cr,PIECE_NODE_COMPONENT:ci,PIECE_TEXT_BOX:il,PIECE_EDGE_BODY:Zp,PIECE_EDGE_HEAD:Yv,PIECE_EDGE_TAIL:Zv,PIECE_EDGE_TEXT:Ha,MAX_TEXT_SIZE:l6,BYTES_TO_TEXT_OFFSET_X:1/pI,BYTES_TO_TEXT_OFFSET_Y:1/N0,FILTER_NEAREST:Za,FILTER_LINEAR:Bc,FILTER_LINEAR_SDF:jc,FILTER_MIPMAP:Ao,SHAPE_TEXTURE_SIZE:L0,SIMPLE_SHAPE_SAMPLING_SIZE:Dh,COMPLEX_SHAPE_SAMPLING_SIZE:Ds,SHAPE_SAMPLING_BUFFER_RATIO:k0,MAX_SHAPES:Fg.toString(),FIRST_COMPLEX_SHAPE_ID:C0,SELF_LOOP_TO_CIRCLE_APPROX:XN,SDF_GAMMA:M4}}var t8={x:0,y:0,zoom:1,angle:0,width:80,height:60,pixelRatio:1,backgroundColor:null,currentTime:0,isBufferDisplayable:Bp,hideImages:!1,renderBackground:!1},Vu={webgl:bI,canvas:w6,svg:T6},LS=[0,0,0,0],Ef={webgl:null,svg:null,canvas:null},Uc=class extends Yd{constructor(e){super(),this._view=an(t8),this._domWrapper=ms?document.createElement("div"):Eg(),this._domElement=this._domWrapper.appendChild(ms?document.createElement("div"):Eg()),this._currentElementSize=0,this._currentBlockOffset=0,this._currentByteOffset=0,this._blockIdToAddress=new Uint32Array(0),this._renderersByType={},this._switchMainRenderer=!0,this._refreshTexts=!1,this._backgroundColor=null,this._initData=e||{},this._patternManager=new r6,this._shapeManager=new i6,this._boundariesManager=new Jj,this._textManager=new c6(this._patternManager),this._bufferOffsetToId=new AL,this._memoryManager=new e6(this._patternManager,this._shapeManager,this._textManager,this._bufferOffsetToId,t=>this.parseColor(t)||LS),this._bufferList=new Xj}static createInitData(){const e={};for(const t in Vu)e[t]=Vu[t].createInitData();return e}static cacheInitData(e){Ef=e}static getCachedInitData(){return Ef}static clearCachedInitData(){Ef={webgl:null,svg:null,canvas:null}}freeBlock(e){this._checkBlockId(e);const t=this._blockIdToAddress[e],n=this._bufferList.freeBlock(t);return this._blockIdToAddress[e]=n,n}_ensureDomElementsFitParent(){const e=this._domElement.parentNode;!e||e.offsetWidth===this._view.width&&e.offsetHeight===this._view.height||sa(e,`${this._view.width}px`,`${this._view.height}px`)}_ensureCorrectBackgroundColor(){const e=this._domElement.parentNode;this._backgroundColor!==this._view.backgroundColor&&e&&(e.style.backgroundColor=this._view.backgroundColor||"",this._backgroundColor=this._view.backgroundColor)}createGroup(){return new Kj}parseColor(e){return nr(e)}clear(){this._blockIdToAddress.fill(0),this._patternManager.reset(),this._boundariesManager.reset(),this._textManager.reset(),this._bufferList.reset(),this._bufferOffsetToId.reset()}notifyFontsReloaded(){this._patternManager.notifyUpdate(),this._textManager.clear(),this._refreshTexts=!0}notifyPatternUpdate(){this._patternManager.notifyUpdate()}getShapePoints(e){return this._shapeManager.getDefinitionFromName(e).points}checkShapeHit(e,t,n){const{getDistanceFromStrokeVertically:r,getDistanceFromStrokeHorizontally:i}=this._shapeManager.getDefinitionFromName(e);return Math.min(r(t,n),i(t,n))>=0}setGlobalBoundaries(e){const{maxBlockId:t=0,maxScaledSize:n,maxMinVisibleSize:r,maxSymbolicSize:i,maxDashLength:s,maxGapLength:o,maxPatternScale:a}=e;return t>this._blockIdToAddress.length&&this._resizeBlockArray(t),!!this._boundariesManager.set(e)&&(this._memoryManager.resizeBoundaries(n,r,i,s,o,a),!0)}_resizeBlockArray(e){const t=new Uint32Array(e);t.set(this._blockIdToAddress),this._blockIdToAddress=t}registerShape(e,t){this._shapeManager.register(e,t)}_bindBlock(e,t,n,r,i,s,o){this._checkBlockId(e);const a=this._blockIdToAddress[e],l=this._bufferList.allocateBlock(a,t,n,r,i,s,o);return this._blockIdToAddress[e]=l.address,this._currentDataView=l.buffer.getDataView(),this._currentElementSize=l.buffer.elementSize,this._currentBlockOffset=l.offset,this._currentByteOffset=this._currentBlockOffset*this._currentElementSize,this._currentSideDataView=l.buffer.getSideDataView(),this._currentSideElementSize=l.buffer.getTotalSideElementsSize(),this._currentSideByteOffset=this._currentBlockOffset*this._currentSideElementSize,l}_setItemIndex(e){const t=this._currentBlockOffset+e;this._currentByteOffset=t*this._currentElementSize,this._currentSideByteOffset=t*this._currentSideElementSize}_checkBlockId(e){e>=this._blockIdToAddress.length&&this._resizeBlockArray(Us(e+1))}_setTextCharacters(e){this._textManager.storeTextInDataView(this._currentSideDataView,this._currentSideByteOffset,this._currentSideByteOffset+this._currentSideElementSize,e)}_storeElement(e,t){this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset,e.end),t&&(this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset+vl,e.start),this._memoryManager.storeAnimationInformation(this._currentDataView,this._currentByteOffset+2*vl,e.animation,lx.getCoefficients(e.animation.easing)))}storeGroup(e,t){if(!t||t.size===0)return this.freeBlock(e);const n=t.type,r=t.depth,i=t.size,s=t.getElements(),o=t.animated,a=t.stencilUsage,l=t.getId();let c=0;if(n===Uo)for(let u=0;u<i;++u){const h=s[u],{start:g,end:p}=h;if(p.pattern.type===ho){const m=p.pattern.attributes.text;c=Math.max(c,m.length)}if(o&&g.pattern.type===ho){const m=g.pattern.attributes.text;c=Math.max(c,m.length)}}const d=this._bindBlock(e,n,o,r,i,c,a);for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._storeElement(h,o),this._bufferOffsetToId.set(d.buffer.getId(),d.offset+u,l)}if(n===Uo)for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._setTextCharacters(h.end.pattern)}return d.address}_refreshTextElements(){const e=this._bufferList.getBuffers();for(const t of e)if(t&&t.type===Uo){const n=t.getSideDataView(),r=t.getTotalSideElementsSize(),i=t.getSize();let s=0,o=r;for(let a=0;a<i;++a){const l=this._textManager.extractTextFromDataView(n,s,o);this._textManager.storeTextInDataView(n,s,o,l),s=o,o+=r}t.triggerUpdate()}}extractElement(e,t=0){if(!e)return null;const n=this._bufferList.getBlockInfo(e);return this._renderer.extractElement(n.buffer,n.offset+t)}getDomElement(){return this._domElement}getDomWrapper(){return this._domWrapper}measureText(e,t,n,r=1){return this._textManager.measureText(e,t,n,r)}setRenderType(e){this._renderType!==e&&(this._renderType=e,this._switchMainRenderer=!0)}_ensureMainRendererReady(){if(this._switchMainRenderer){this._renderType===null&&(this._renderType="canvas");const e=Vu[this._renderType];e&&e.isAvailable()||(this._renderType="canvas"),this._renderer=this._renderersByType[this._renderType],this._renderer||(this._renderer=this._instanciateRenderer(this._renderType),this._renderer.on("error",t=>this.fire("error",t)),this._renderersByType[this._renderType]=this._renderer),this._updateDomElement()}}_updateDomElement(){const e=this._renderer&&this._renderer.getDomElement(),t=this._domElement;for(;t&&t.firstChild;)t.removeChild(t.firstChild);e&&this._appendDomChild(e)}_appendDomChild(e){e.style.position="absolute",e.style.left="0",e.style.top="0",this._domElement.appendChild(e)}_instanciateRenderer(e){return new(e===null?dx:Vu[e])({initData:e===null?null:this._initData[e],bufferList:this._bufferList,shapeManager:this._shapeManager,patternManager:this._patternManager,boundariesManager:this._boundariesManager,textManager:this._textManager,memoryManager:this._memoryManager})}setView(e){this._view=we(we({},this._view),e)}getTextManager(){return this._textManager}_updateManagers(){this._patternManager.setPixelRatio(this._view.pixelRatio),this._shapeManager.update(),this._patternManager.update(),this._textManager.update(),this._boundariesManager.update(),this._bufferList.update(),this._refreshTexts&&(this._refreshTexts=!1,this._refreshTextElements())}_resizeCanvas(e){gI(e,this._view.width,this._view.height,this._view.pixelRatio)}render(){this._ensureMainRendererReady(),this._ensureDomElementsFitParent(),this._ensureCorrectBackgroundColor(),this._updateManagers(),this._renderer.renderFrame(this._view)}ensureAnimationsReady(){this._ensureMainRendererReady(),this._renderer.ensureAnimationsReady()}export(e,t,n){const r=this._instanciateRenderer(e),i=we(we({},this._view),t);return"setViewportClipping"in r&&r.setViewportClipping(!1),this._updateManagers(),r.renderFrame(i),r.export(n).then(()=>r.getDomElement())}getCurrentTime(){return er()}getImageData(){return this._renderer&&this._renderer.getImageData()}destroy(){for(const e of Object.keys(this._renderersByType)){const t=this._renderersByType[e];t&&t.destroy()}}transparentify(e){const t=this.parseColor(e)||LS;return`rgba(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])},0)`}initDebugRenderingLoop({triggerKey:e="r",start:t=!0}={}){let n=t;document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n)});const r=i=>{(n||i)&&(this.setView({currentTime:er()}),this.render()),window.requestAnimationFrame(()=>{r()})};window.requestAnimationFrame(()=>{document.body.appendChild(this.getDomElement()),r(!0)})}},n8=class{constructor(e,t){this._attributesManager=e,this._id=t}getDefinition(){return this._attributesManager.getAttributeLayerDefinition(this._id)}update(e){this._attributesManager.updateAttributeLayer(this._id,e)}destroy(){this._attributesManager.destroyAttributeLayer(this._id)}updateElements(e){this._attributesManager.updateElementsForAttributeLayer(this._id,e)}updateAll(){this._attributesManager.updateAllForAttributeLayer(this._id)}setAttributeValues(e,t,n){this._attributesManager.setAttributeLayerValues(this._id,e,t,n)}getUsedAttributeNames(e){return this._attributesManager.getUsedAttributeLayerAttributes(this._id,e)}getFlexArrays(){return this._attributesManager.getAttributeLayerFlexArrays(this._id)}},r8={name:"animationStart",storage:32,default:0},i8={name:"animationDuration",storage:16,default:0},s8={name:"animationEasing",storage:"resource",default:"linear"},o8={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentNodes:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},a8={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},extremities:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},parallelEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},l8={x:1,y:1,radius:1,"halo.hideNonAdjacentEdges":1},ur="Arial",po="black",Og="rgba(255,255,255,0)",wl=12,Td=3,hx=7,c8=!0,gx=10,d8=5,wI=.08,EI="rgba(255,255,255,0)",SI="normal",AI="center",CI=!1,kI=0,P0="red",TI="rgb(220, 220, 220)",LI="red",NI="rgb(220, 220, 220)",M0=1,II="scaled",PI="grey",MI=1,FI=0,RI=0,DI=!0,zI=0,OI=!0,BI="line",jI=null,$I=null,UI="plain",VI="inherit",F0=0,GI="fixed",HI=0,WI=null,R0=10,qI="fixed",XI=1e3,YI=800,ZI="rgba(0, 0, 0, 0.6)",QI="rgba(0, 0, 0, 0)",KI=10,JI=1,eP=2,tP="rgba(0, 0, 0, 0.36)",nP=0,u8=1,rP="normal",iP="center",sP=2,D0=2,oP=Jd,aP=4,lP=!0,cP=4,z0=2,O0=12,dP=2;function h8(e,t,n){let r,i,s,o;n==="line"?(r="line",i="plain",s=null,o=null):n==="arrow"?(r="line",i="plain",s="arrow",o=null):n==="tapered"?(r="triangle",i="plain",s=null,o=null):n==="dashed"?(r="line",i="dashed",s=null,o=null):n==="dotted"&&(r="line",i="dotted",s=null,o=null),e.shape.body.set(t,r),e.shape.style.set(t,i),e.shape.head.set(t,s),e.shape.tail.set(t,o)}var uP={width:{_flexArray:M0,_check:zt(M0)},scalingMethod:{_flexArray:II,_check:Hs},color:{_flexArray:PI,_check:O4},opacity:{_flexArray:MI,_check:Jt},minVisibleSize:{_flexArray:FI,_check:Jt},layer:{_flexArray:RI,_check:QN},detectable:{_flexArray:DI,_check:On},curvature:{_flexArray:zI,_check:Ho},adjustAnchors:{_flexArray:OI,_check:On},shape:{_check:j4,_set:h8,type:"shape.head",body:{_flexArray:BI,_check:$4},head:{_flexArray:jI,_check:qE},tail:{_flexArray:$I,_check:qE},style:{_flexArray:UI,_check:U4}},stroke:{color:{_flexArray:VI,_check:Qn},width:{_flexArray:F0,_check:zt(F0)},scalingMethod:{_flexArray:GI,_check:Hs},minVisibleSize:{_flexArray:HI,_check:Jt}},strokeWidth:"stroke.width",halo:{_alias:"halo.color",color:{_flexArray:WI,_check:Ws},width:{_flexArray:R0,_check:zt(R0)},scalingMethod:{_flexArray:qI,_check:Hs},size:"halo.width"},pulse:{enabled:{_flexArray:!1,_check:On},duration:{_flexArray:XI,_check:Jt},interval:{_flexArray:YI,_check:Jt},startColor:{_flexArray:ZI,_check:Qn},endColor:{_flexArray:QI,_check:Qn},width:{_flexArray:KI,_check:Jt},startRatio:{_flexArray:JI,_check:Jt},endRatio:{_flexArray:eP,_check:Jt}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:On},color:{_flexArray:tP,_check:Ws},minVisibleSize:{_flexArray:nP,_check:Jt}},text:{_alias:"text.content",content:{_flexArray:null,_check:ss},font:{_flexArray:ur,_check:ol},color:{_flexArray:po,_check:Ws},size:{_flexArray:wl,_check:zt(wl)},scale:{_flexArray:1,_check:Jt},style:{_flexArray:rP,_check:al},align:{_flexArray:iP,_check:zg},margin:{_flexArray:sP,_check:Ho},padding:{_flexArray:D0,_check:zt(D0)},backgroundColor:{_flexArray:Og,_check:Qn},minVisibleSize:{_flexArray:aP,_check:Jt},position:{_flexArray:oP,_check:z4},adjustAngle:{_flexArray:lP,_check:On},scaling:{_flexArray:CI,_check:On},maxLineLength:{_flexArray:kI,_check:Jt},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ss},font:{_flexArray:ur,_check:ol},color:{_flexArray:po,_check:Ws},size:{_flexArray:O0,_check:zt(O0)},scale:{_flexArray:wI,_check:Jt},style:{_flexArray:SI,_check:al},align:{_flexArray:AI,_check:zg},margin:{_flexArray:dP,_check:Ho},padding:{_flexArray:z0,_check:zt(z0)},backgroundColor:{_flexArray:EI,_check:Qn},minVisibleSize:{_flexArray:cP,_check:Jt}}}},hP="grey",gP="white",px=2,pP=null,mx=5,B0=0,mP="rgba(0, 0, 0, 0.36)",g8=1,p8="circle",j0=12,mc="white",Gu=12,fc="black",Qa=2,_c="black",fx=40,fP=null,_P=null,_x=1,yP="black",vP=1e3,xP=800,bP=1,wP=2,EP="rgba(0, 0, 0, 0.0)",SP="rgba(0, 0, 0, 0.6)",AP=50,m8=.1,zs=12,Hu=24,Ld=1,NS=Ld/2,IS=.45,PS=.7,f8=10,CP=f8/2,kP=5,_8=zt(kP),y8=zt(wl),v8=zt(gx),x8=zt(px),b8=zt(mx),w8=zt(hx),MS=zt(Td),E8=zt(CP),S8=zt(fx),A8=zt(_x);function Wu(e){return{_check:ss,_set:(t,n,r)=>{t.badges[e].text.content.set(n,r),r==null&&t.badges[e].image.url.set(n,r)},_get:(t,n)=>t.badges[e].text.content.get(n),color:{_flexArray:mc,_check:Qn},scale:{_flexArray:IS,_check:zt(IS)},positionScale:{_flexArray:1,_check:Jt},minVisibleSize:{_flexArray:zs,_check:zt(zs)},image:{_alias:`badges.${e}.image.url`,url:{_flexArray:null,_check:ss},scale:{_flexArray:Ld,_check:zt(Ld)}},stroke:{color:{_flexArray:fc,_check:Qn},width:{_flexArray:Qa,_check:zt(Qa)},scalingMethod:{_flexArray:"fixed",_check:Hs}},text:{_alias:`badges.${e}.text.content`,content:{_flexArray:null,_check:ss},color:{_flexArray:_c,_check:Qn},font:{_flexArray:ur,_check:ol},style:{_flexArray:"normal",_check:al},scale:{_flexArray:NS,_check:zt(NS)},paddingLeft:{_flexArray:0,_check:Ho},paddingTop:{_flexArray:0,_check:Ho}}}}var TP={x:{_flexArray:0,_check:Ho,_disableMemoryOptimization:!0},y:{_flexArray:0,_check:Ho,_disableMemoryOptimization:!0},radius:{_flexArray:kP,_check:_8},scalingMethod:{_flexArray:"scaled",_check:Hs},color:{_flexArray:hP,_check:G4},opacity:{_flexArray:1,_check:Jt},shape:{_flexArray:"circle",_check:B4},layer:{_flexArray:0,_check:QN},detectable:{_flexArray:!0,_check:On},draggable:{_flexArray:!0,_check:On},layoutable:{_flexArray:!0,_check:On},innerStroke:{_alias:"innerStroke.color",width:{_flexArray:px,_check:x8},scalingMethod:{_flexArray:"fixed",_check:Hs},color:{_flexArray:gP,_check:Qn},minVisibleSize:{_flexArray:j0,_check:zt(j0)}},outerStroke:{_alias:"outerStroke.color",width:{_flexArray:mx,_check:b8},scalingMethod:{_flexArray:"fixed",_check:Hs},color:{_flexArray:pP,_check:Qn},minVisibleSize:{_flexArray:B0,_check:zt(B0)}},badges:{_check:R4,_set(e,t,n){e.badges.topLeft.text.content.set(t,n),e.badges.topLeft.image.url.set(t,n),e.badges.topRight.text.content.set(t,n),e.badges.topRight.image.url.set(t,n),e.badges.bottomLeft.text.content.set(t,n),e.badges.bottomLeft.image.url.set(t,n),e.badges.bottomRight.text.content.set(t,n),e.badges.bottomRight.image.url.set(t,n)},topLeft:Wu("topLeft"),topRight:Wu("topRight"),bottomLeft:Wu("bottomLeft"),bottomRight:Wu("bottomRight")},halo:{_alias:"halo.color",color:{_flexArray:fP,_check:Ws},width:{_flexArray:fx,_check:S8},scalingMethod:{_flexArray:"fixed",_check:Hs},strokeColor:{_flexArray:_P,_check:Ws},strokeWidth:{_flexArray:_x,_check:A8},clustering:{_flexArray:!1,_check:On},hideNonAdjacentEdges:{_flexArray:!1,_check:On}},pulse:{enabled:{_flexArray:!1,_check:On},duration:{_flexArray:vP,_check:Jt},interval:{_flexArray:xP,_check:Jt},startColor:{_flexArray:SP,_check:Qn},endColor:{_flexArray:EP,_check:Qn},width:{_flexArray:AP,_check:Jt},startRatio:{_flexArray:bP,_check:Jt},endRatio:{_flexArray:wP,_check:Jt}},icon:{_alias:"icon.content",content:{_flexArray:null,_check:ss},font:{_flexArray:ur,_check:ol},color:{_flexArray:yP,_check:Ws},scale:{_flexArray:PS,_check:zt(PS)},style:{_flexArray:"normal",_check:al},minVisibleSize:{_flexArray:zs,_check:zt(zs)}},image:{_alias:"image.url",url:{_flexArray:null,_check:ss},scale:{_flexArray:Ld,_check:zt(Ld)},fit:{_flexArray:!0,_check:On},tile:{_flexArray:!1,_check:On},minVisibleSize:{_flexArray:zs,_check:zt(zs)}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:On},color:{_flexArray:mP,_check:Ws},minVisibleSize:{_flexArray:zs,_check:zt(zs)}},text:{_alias:"text.content",content:{_flexArray:null,_check:ss},font:{_flexArray:ur,_check:ol},color:{_flexArray:po,_check:Qn},size:{_flexArray:wl,_check:y8},scale:{_flexArray:m8,_check:Jt},style:{_flexArray:"normal",_check:al},align:{_flexArray:"center",_check:zg},margin:{_flexArray:hx,_check:w8},padding:{_flexArray:Td,_check:MS},backgroundColor:{_flexArray:null,_check:Qn},tip:{_flexArray:!0,_check:On},minVisibleSize:{_flexArray:Hu,_check:zt(Hu)},scaling:{_flexArray:!1,_check:On},position:{_flexArray:"bottom",_check:V4},maxLineLength:{_flexArray:0,_check:Jt},truncateLength:{_flexArray:0,_check:Jt},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ss},font:{_flexArray:ur,_check:ol},color:{_flexArray:po,_check:Qn},size:{_flexArray:gx,_check:v8},scale:{_flexArray:.08,_check:Jt},style:{_flexArray:"normal",_check:al},align:{_flexArray:"center",_check:zg},margin:{_flexArray:CP,_check:E8},padding:{_flexArray:Td,_check:MS},backgroundColor:{_flexArray:null,_check:Qn},minVisibleSize:{_flexArray:Hu,_check:zt(Hu)}}}};function Vc(e){return typeof e=="string"}var C8=e=>(t,n)=>t[e].get(n),k8=(e,t)=>(n,r)=>n[e][t].get(r),T8=(e,t,n)=>(r,i)=>r[e][t][n].get(i),L8=(e,t,n,r)=>(i,s)=>i[e][t][n][r].get(s),N8=e=>(t,n,r)=>t[e].set(n,r),I8=(e,t)=>(n,r,i)=>n[e][t].set(r,i),P8=(e,t,n)=>(r,i,s)=>r[e][t][n].set(i,s),M8=(e,t,n,r)=>(i,s,o)=>i[e][t][n][r].set(s,o),F8=[C8,k8,T8,L8],R8=[N8,I8,P8,M8];function FS(e,t){if(!e._check)throw new Error(`error somewhere for ${t}`);const n=t.split("."),r=n.length-1,i=F8[r].apply(null,n),s=R8[r].apply(null,n);return{check:e._check,set:s,get:i,nested:{}}}function Bg(e,t){const n=t?TP:uP,r=typeof e=="string"?[e]:ra(e,"",[]);let i=!1;const s=[];for(let o=0;o<r.length;o++){const a=r[o].split(".");let l=n[a[0]];for(let d=1;d<a.length;d++)l=l[a[d]];l.type&&(r[o]=l.type),l._alias&&(r[o]=l._alias),r[o]==="badges"&&(r[o]="badges.topLeft.text.content",i=!0);const c=a[a.length-1];c!=="topLeft"&&c!=="topRight"&&c!=="bottomLeft"&&c!=="bottomRight"||(r[o]=`badges.${c}.text.content`,s.push(`badges.${c}.image.url`)),r[o]==="strokeWidth"&&(r[o]="stroke.width")}return i&&(r.push("badges.topLeft.image.url"),r.push("badges.topRight.text.content"),r.push("badges.topRight.image.url"),r.push("badges.bottomLeft.text.content"),r.push("badges.bottomLeft.image.url"),r.push("badges.bottomRight.text.content"),r.push("badges.bottomRight.image.url")),r.push(...s),r}var qu=e=>(t,n)=>({url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)}),Xu=e=>(t,n)=>({color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)}),Yu=e=>(t,n)=>({content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}),Zu=e=>(t,n)=>({color:t.badges[e].color.get(n),scale:t.badges[e].scale.get(n),positionScale:t.badges[e].positionScale.get(n),minVisibleSize:t.badges[e].minVisibleSize.get(n),image:{url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)},stroke:{color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)},text:{content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}}),Ls={topLeft:Zu("topLeft"),topRight:Zu("topRight"),bottomLeft:Zu("bottomLeft"),bottomRight:Zu("bottomRight")},mi={stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),innerStroke:(e,t)=>({width:e.innerStroke.width.get(t),scalingMethod:e.innerStroke.scalingMethod.get(t),color:e.innerStroke.color.get(t),minVisibleSize:e.innerStroke.minVisibleSize.get(t)}),outerStroke:(e,t)=>({width:e.outerStroke.width.get(t),scalingMethod:e.outerStroke.scalingMethod.get(t),color:e.outerStroke.color.get(t),minVisibleSize:e.outerStroke.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t),strokeColor:e.halo.strokeColor.get(t),strokeWidth:e.halo.strokeWidth.get(t),clustering:e.halo.clustering.get(t),hideNonAdjacentEdges:e.halo.hideNonAdjacentEdges.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),backgroundColor:e.text.backgroundColor.get(t),tip:e.text.tip.get(t),minVisibleSize:e.text.minVisibleSize.get(t),scaling:e.text.scaling.get(t),position:e.text.position.get(t),maxLineLength:e.text.maxLineLength.get(t),truncateLength:e.text.truncateLength.get(t),secondary:mi["text.secondary"](e,t)}),image:(e,t)=>({url:e.image.url.get(t),scale:e.image.scale.get(t),fit:e.image.fit.get(t),tile:e.image.tile.get(t),minVisibleSize:e.image.minVisibleSize.get(t)}),icon:(e,t)=>({content:e.icon.content.get(t),font:e.icon.font.get(t),color:e.icon.color.get(t),scale:e.icon.scale.get(t),style:e.icon.style.get(t),minVisibleSize:e.icon.minVisibleSize.get(t)}),badges:(e,t)=>({topLeft:Ls.topLeft(e,t),topRight:Ls.topRight(e,t),bottomLeft:Ls.bottomLeft(e,t),bottomRight:Ls.bottomRight(e,t)}),"badges.topLeft":Ls.topLeft,"badges.topRight":Ls.topRight,"badges.bottomLeft":Ls.bottomLeft,"badges.bottomRight":Ls.bottomRight,"badges.topLeft.image":qu("topLeft"),"badges.topLeft.stroke":Xu("topLeft"),"badges.topLeft.text":Yu("topLeft"),"badges.topRight.image":qu("topRight"),"badges.topRight.stroke":Xu("topRight"),"badges.topRight.text":Yu("topRight"),"badges.bottomLeft.image":qu("bottomLeft"),"badges.bottomLeft.stroke":Xu("bottomLeft"),"badges.bottomLeft.text":Yu("bottomLeft"),"badges.bottomRight.image":qu("bottomRight"),"badges.bottomRight.stroke":Xu("bottomRight"),"badges.bottomRight.text":Yu("bottomRight"),all:(e,t)=>({x:e.x.get(t),y:e.y.get(t),radius:e.radius.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),shape:e.shape.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),draggable:e.draggable.get(t),layoutable:e.layoutable.get(t),innerStroke:mi.innerStroke(e,t),outerStroke:mi.outerStroke(e,t),badges:mi.badges(e,t),halo:mi.halo(e,t),pulse:mi.pulse(e,t),icon:mi.icon(e,t),image:mi.image(e,t),outline:mi.outline(e,t),text:mi.text(e,t)})},Ns={shape:(e,t)=>({body:e.shape.body.get(t),head:e.shape.head.get(t),tail:e.shape.tail.get(t),style:e.shape.style.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),position:e.text.position.get(t),backgroundColor:e.text.backgroundColor.get(t),minVisibleSize:e.text.minVisibleSize.get(t),adjustAngle:e.text.adjustAngle.get(t),scaling:e.text.scaling.get(t),maxLineLength:e.text.maxLineLength.get(t),secondary:Ns["text.secondary"](e,t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t)}),all:(e,t)=>({width:e.width.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),minVisibleSize:e.minVisibleSize.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),curvature:e.curvature.get(t),adjustAnchors:e.adjustAnchors.get(t),shape:Ns.shape(e,t),stroke:Ns.stroke(e,t),halo:Ns.halo(e,t),pulse:Ns.pulse(e,t),outline:Ns.outline(e,t),text:Ns.text(e,t)})};function yx(e,t,n,r=!0){if((t=t||e)._flexArray!==void 0)return FS(t,n);let i={check:Si,get:ft,set:ft,nested:{}};if(Vc(t)||t._alias){const s=Vc(t)?t:t._alias;i=FS(sn(e,s),s)}else{if(t._set?(i.set=t._set,i.check=t._check):(i.set=ft,i.check=ft),t._get)i.get=t._get;else{const s=r?mi:Ns;i.get=s[n||"all"]}i.nested={}}if(!Vc(t)){const s=Object.keys(t);for(const o of s){const a=t[o];o.startsWith("_")||(i.nested[o]=yx(e,a,n?n+"."+o:o,r))}}return i}var D8=yx(TP,void 0,void 0,!0),z8=yx(uP,void 0,void 0,!1),O8=[];function RS(e){let t=O8;return e.output===void 0?(typeof e.attributes=="function"&&(t="all"),yn(e.attributes)&&(t=ra(e.attributes))):e.output&&(t=e.output.attributes),vx(t,e.allAttributePaths)}function B8(e,t,n,r){if(r>n){for(const i of t.attributes)for(const s of e.attributes)if(s===i)return!0}for(const i of t.tags)for(const s of e.tags)if(i===s)return!0;return!1}function Pi(e,t,n,r,i,s){B8(n,r,i,s)&&e.push(t)}function j8(e){let t=e.dependencies;t===void 0?t=o8:yn(t)||(t={});const n=zp(e.attributes).some(o=>typeof o=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);let s=t.adjacentEdges;return!s&&t.adjacentNodes&&(s=!0),{self:ji(t.self,i,e.allAttributePaths),adjacentNodes:ji(t.adjacentNodes,i,e.allAttributePaths),adjacentEdges:ji(s,i,e.allAttributePaths),allNodes:ji(t.allNodes,i,e.allAttributePaths),allEdges:ji(t.allEdges,i,e.allAttributePaths)}}function $8(e){let t=e.dependencies;t===void 0?t=a8:yn(t)||(t={});const n=zp(e.attributes).some(s=>typeof s=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);return{self:ji(t.self,i,e.allAttributePaths),extremities:ji(t.extremities,i,e.allAttributePaths),parallelEdges:ji(t.parallelEdges,i,e.allAttributePaths),allNodes:ji(t.allNodes,i,e.allAttributePaths),allEdges:ji(t.allEdges,i,e.allAttributePaths)}}function ji(e,t,n){if(!t)return{attributes:[],tags:[]};if(e===!0)return{attributes:[],tags:[v0]};const r={attributes:vx((e=e||{}).attributes,n),tags:G8(e.tags)};return e.data&&r.tags.push(x0),e.selection&&r.tags.push(Kt),e.hover&&r.tags.push(zc),r}function U8(e){return Array.isArray(e)?e.join("."):e}function V8(e){return e.map(U8).filter(Vc)}function vx(e,t){if(e==="all")return t.slice();if(!Array.isArray(e))return[];const n=V8(e);return t?t.filter(r=>n.some(i=>r.startsWith(i))):n}function G8(e){return Array.isArray(e)?e.filter(Vc):[]}var xx={};Wd(xx,{cubicIn:()=>X8,cubicInOut:()=>Z8,cubicOut:()=>Y8,linear:()=>jg,quadraticIn:()=>H8,quadraticInOut:()=>q8,quadraticOut:()=>W8});var jg=e=>e,H8=e=>e*e,W8=e=>e*(2-e),q8=e=>(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1),X8=e=>e*e*e,Y8=e=>--e*e*e+1,Z8=e=>(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2),DS={storage:1,default:0},$g=class{constructor({graph:e,isNode:t,includeRemovedElements:n}){this._all=!1,this._isNode=t,this._graph=e,this._includeRemovedElements=n,this._eltList=t?this._graph.nodeList:this._graph.edgeList,this._flexArray=t?e.createNodeAttribute(DS,!1):e.createEdgeAttribute(DS,!1),this._all=!1,this._indexList=e.createIndexList(t)}_getAllIndexes(){const e=this._isNode?this._graph.getNodeMaxIndex():this._graph.getEdgeMaxIndex(),t=new Uint32Array(e);for(let n=1;n<=e;++n)t[n-1]=n;return t}addAll(){this._all=!0}add(e){if(!this._all)for(let t=0;t<e._indexes.length;t++){const n=e._indexes[t];this.addIndex(n)}}addIndex(e){this._flexArray.get(e)===0&&(this._flexArray.set(e,1),this._indexList.push(e))}isEmpty(){return!this._all&&this._indexList.isEmpty()}isFull(){return this._all}getListAndClear(){const e=this.getList();return this.clear(),e}getList(){let e;if(this._all&&!this._includeRemovedElements)e=this._isNode?this._graph.getNodes("all"):this._graph.getEdges("all");else{const t=this._all?this._getAllIndexes():this._indexList.slice();e=this._eltList(t)}return e}clear(){this._all=!1,this._indexList.isEmpty()||(this._indexList.reset(),this._flexArray.reset())}addSet(e){if(e._all)this.addAll();else{const t=e._indexList.getBuffer(),n=e._indexList.getLength();for(let r=0;r<n;++r)this.addIndex(t[r])}}};function LP(e,t=[],n=""){return e.constructor===kg?e.isInitialized()&&t.push(n):e.constructor===Object&&Object.keys(e).forEach(r=>{LP(e[r],t,n?n+"."+r:r)}),t}var zS=class{constructor(e,t,n){this._updatedAttributes=new Set,this._updatedAttributesTmp=new Set,this._allUsedAttributes=new Set,this._graph=e,this._eltName=t?"node":"edge",this._accessors=t?D8:z8,this._createFlexArrays=n;const r=this._createFlexArrays(e,{original:!0,useDefaultValues:!0});this._finalFlexArrays=r;const i=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._prevFlexArrays=i;const s=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._defaultFlexArrays=s,this._currentFlexArrays=this._defaultFlexArrays,this.setLastFlexArrays(this._defaultFlexArrays),this._elementsToRedraw=new $g({graph:e,isNode:t,includeRemovedElements:!0}),this._elementsUpdated=new $g({graph:e,isNode:t,includeRemovedElements:!1}),this._finalFlexArraysWrapped=we(vt(we({},this._finalFlexArrays),{excluded:e.getAttribute(t,"excluded"),textHidden:e.getAttribute(t,"textHidden"),animationStart:e.createAttribute(t,r8),animationDuration:e.createAttribute(t,i8),animationEasing:e.createAttribute(t,s8),id:this._graph.getAttribute(t,"id")}),!t&&{source:e.getEdgeAttribute("source"),target:e.getEdgeAttribute("target")})}clear(){this._elementsToRedraw.clear(),this._elementsUpdated.clear(),this._updatedAttributes.clear(),this._updatedAttributesTmp.clear()}getAttributeFlexArrays(){return this._finalFlexArraysWrapped}getPrevAttributeFlexArrays(){return this._prevFlexArrays}getAnimationInformation(e){const t=e._indexes,n=Array(t.length),r=this._finalFlexArraysWrapped;for(let i=0;i<t.length;i++){const s=t[i];n[i]={duration:r.animationDuration.get(s),start:r.animationStart.get(s),easing:r.animationEasing.get(s)}}return n}setDefaultAttributes(e){ra(e).forEach(t=>{const n=sn(this._currentFlexArrays,t),r=sn(this._prevFlexArrays,t),i=sn(this._defaultFlexArrays,t),s=sn(this._finalFlexArrays,t);if(!n)return;const o=sn(e,t);n.setDefaultValue(o),i.setDefaultValue(o),r.setDefaultValue(o),s.setDefaultValue(o)}),this.redrawAll()}startUpdate(){}prepareFlexArraysUpdate(e){this._currentFlexArrays=e.inputFlexArrays}setLastFlexArrays(e){this._lastFlexArrays=e}updateFlexArrays(e){const{attributes:t,selector:n,context:r,outputFlexArrays:i,toUpdate:s,formattedOutput:o}=e;this._elementsUpdated.addSet(s),this._elementsToRedraw.addSet(s);const a=s.getListAndClear();if(t&&a.size){const{valid:l,invalid:c}=mN(this._graph,a,n,r);for(const d of o.attributes){const u=sn(i,d);for(let h=0;h<c._indexes.length;h++){const g=c._indexes[h];u.set(g,void 0)}}this._assignAttributesToFlexArrays(this._accessors,i,l,t,r),this._addUpdatedAttributes(e)}}endUpdate(){const e=this._elementsUpdated.getList(),t=uc(this._updatedAttributesTmp);for(const n of t){const r=sn(this._lastFlexArrays,n),i=sn(this._finalFlexArrays,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];i.set(o,r.get(o))}}this._updatedAttributesTmp.clear(),this._currentFlexArrays=this._finalFlexArrays}setAttributeValues(e,t,n,r,i){const s=e.outputFlexArrays,o=this._accessors;this._assignAttributesToFlexArrays(o,s,t,n,null),this._addUpdatedAttributes(e,r),this._elementsUpdated.add(t),this._elementsToRedraw.add(t)}notifyLayerDestroyed(e){this._addUpdatedAttributes(e)}_addUpdatedAttributes(e,t){const{outputFlexArrays:n,formattedOutput:r}=e,i=Array.isArray(t)?vx(t):r.attributes;for(const s of i)sn(n,s).isInitialized()&&(this._updatedAttributes.add(s),this._updatedAttributesTmp.add(s),this._allUsedAttributes.add(s))}addUpdatedAttribute(e){this._updatedAttributes.add(e),this._updatedAttributesTmp.add(e),this._allUsedAttributes.add(e)}getUsedAttributeNames(e){return LP(e.outputFlexArrays)}redrawElements(e){this._elementsToRedraw.add(e)}redrawAll(){this._elementsToRedraw.addAll()}getAndResetElementsToRedraw(){return this._elementsToRedraw.getListAndClear()}getAndResetElementsUpdated(){return this._elementsUpdated.getListAndClear()}getAndResetAttributesUpdated(){const e=uc(this._updatedAttributes);return this._updatedAttributes.clear(),e}getUpdatedAttributes(){return this._updatedAttributes}getUpdatedElementsList(){return this._elementsUpdated.getList()}getUpdatedAttributesSet(){return new Set(this._updatedAttributes)}createFlexArrays(){return this._createFlexArrays(this._graph,{original:!1,useDefaultValues:!1})}getAttributeValues(e,t,n,r){const i=r?this._prevFlexArrays:this._currentFlexArrays;return n?this._getMultipleAttributeValues(e,t,i):this._getSingleAttributeValues(e,t,i)}_getAccessor(e=""){let t=this._accessors;const n=ta(e);for(const r of n)if(t=t.nested[r],!t)throw new Error(`${this._eltName} attribute "${n.join("")}" does not exist`);return t}_getSingleAttributeValues(e,t,n){const r=this._getAccessor(t),i=e._indexes,s=Array(i.length);for(let o=0;o<i.length;o++)s[o]=r.get(n,i[o]);return s}_getMultipleAttributeValues(e,t,n){if(!t||t==="all")return this._getSingleAttributeValues(e,"",n);const r=Array(e.size);for(let i=0;i<r.length;++i)r[i]={};for(let i=0;i<t.length;i++){const s=t[i],o=this._getSingleAttributeValues(e,s,n);for(let a=0;a<r.length;++a)Gi(r[a],s,o[a])}return r}setAnimationAttributes(e,{duration:t,startTime:n,easing:r}){const i=e._indexes,s=this._finalFlexArraysWrapped,o=s.animationDuration,a=s.animationStart,l=s.animationEasing,c=uc(this._allUsedAttributes);if(t){let d=!1;for(const u of c){if(u==="x"||u==="y"){d=!0;continue}const h=sn(this._finalFlexArrays,u),g=sn(this._prevFlexArrays,u);for(let p=0;p<i.length;p++){const m=i[p];g.set(m,h.get(m))}}if(d){const u=er(),h=this._finalFlexArrays.x,g=this._finalFlexArrays.y,p=this._prevFlexArrays.x,m=this._prevFlexArrays.y;for(let _=0;_<i.length;_++){const y=i[_],f=o.get(y);if(f){const v=a.get(y),x=l.get(y),w=(xx[x]||jg)(Math.min((u-v)/f,1)),b=h0(p.get(y),h.get(y),w),A=h0(m.get(y),g.get(y),w);p.set(y,b),m.set(y,A)}else p.set(y,h.get(y)),m.set(y,g.get(y))}}}o.fill(i,t),a.fill(i,n),l.fill(i,r)}resetAnimationAttributes(e){this._finalFlexArraysWrapped.animationDuration.fill(e._indexes,0)}getUsedAttributes(){return uc(this._allUsedAttributes)}getDefaultFlexArrays(){return this._defaultFlexArrays}_assignAttributesToFlexArrays(e,t,n,r,i,s=[]){if(typeof r=="function"){const o=s.join(".");for(let a=0;a<n.size;++a){const l=n.get(a);if(l){const c=r(l,i,o);this._assignSingleValueToFlexArray(t,l,e,c,s)}}}else if(yn(r)){const o=Object.keys(r);for(let a=0;a<o.length;++a){const l=o[a];s.push(l);const c=this._getNestedAccessor(e,l,s),d=r[l];this._assignAttributesToFlexArrays(c,t,n,d,i,s),s.pop()}}else if((Array.isArray(r)||ArrayBuffer.isView(r))&&s[0]!=="color")if(s.length===0)for(let o=0;o<n.size;++o)this._assignSingleValueToFlexArray(t,n.get(o),e,r[o],s);else for(let o=0;o<n.size;++o){const a=n._indexes[o],l=e.check(r[o]);e.set(t,a,l)}else{const o=e.check(r);for(let a=0;a<n.size;++a){const l=n.get(a);e.set(t,l._index,o)}}}_getNestedAccessor(e,t,n){const r=e.nested[t];if(!r)throw new Error(`${this._eltName} attribute "${n.join(".")}" does not exist`);return r}_assignSingleValueToFlexArray(e,t,n,r,i){if(yn(r)){const s=Object.keys(r);for(const o of s){i.push(o);const a=r[o],l=this._getNestedAccessor(n,o,i);this._assignSingleValueToFlexArray(e,t,l,a,i),i.pop()}}else{const s=n.check(r);n.set(e,t._index,s)}}};function Q8(e,{original:t,useDefaultValues:n}){const r="resource";return{width:e.createAttribute(!1,{storage:r,default:n?M0:void 0,name:"width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?II:void 0,name:"scalingMethod"},t),color:e.createAttribute(!1,{storage:r,default:n?PI:void 0,name:"color"},t),opacity:e.createAttribute(!1,{storage:r,default:n?MI:void 0,name:"opacity"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?FI:void 0,name:"minVisibleSize"},t),layer:e.createAttribute(!1,{storage:r,default:n?RI:void 0,name:"layer"},t),detectable:e.createAttribute(!1,{storage:r,default:n?DI:void 0,name:"detectable"},t),curvature:e.createAttribute(!1,{storage:r,default:n?zI:void 0,name:"curvature"},t),adjustAnchors:e.createAttribute(!1,{storage:r,default:n?OI:void 0,name:"adjustAnchors"},t),shape:{body:e.createAttribute(!1,{storage:r,default:n?BI:void 0,name:"shape.body"},t),head:e.createAttribute(!1,{storage:r,default:n?jI:void 0,name:"shape.head"},t),tail:e.createAttribute(!1,{storage:r,default:n?$I:void 0,name:"shape.tail"},t),style:e.createAttribute(!1,{storage:r,default:n?UI:void 0,name:"shape.style"},t)},stroke:{color:e.createAttribute(!1,{storage:r,default:n?VI:void 0,name:"stroke.color"},t),width:e.createAttribute(!1,{storage:r,default:n?F0:void 0,name:"stroke.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?GI:void 0,name:"stroke.scalingMethod"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?HI:void 0,name:"stroke.minVisibleSize"},t)},halo:{color:e.createAttribute(!1,{storage:r,default:n?WI:void 0,name:"halo.color"},t),width:e.createAttribute(!1,{storage:r,default:n?R0:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?qI:void 0,name:"halo.scalingMethod"},t)},pulse:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!1,{storage:r,default:n?XI:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!1,{storage:r,default:n?YI:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!1,{storage:r,default:n?ZI:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!1,{storage:r,default:n?QI:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!1,{storage:r,default:n?KI:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!1,{storage:r,default:n?JI:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!1,{storage:r,default:n?eP:void 0,name:"pulse.endRatio"},t)},outline:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!1,{storage:r,default:n?tP:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?nP:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!1,{storage:r,default:n?ur:void 0,name:"text.font"},t),color:e.createAttribute(!1,{storage:r,default:n?po:void 0,name:"text.color"},t),size:e.createAttribute(!1,{storage:r,default:n?wl:void 0,name:"text.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?u8:void 0,name:"text.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?rP:void 0,name:"text.style"},t),align:e.createAttribute(!1,{storage:r,default:n?iP:void 0,name:"text.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?sP:void 0,name:"text.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?D0:void 0,name:"text.padding"},t),position:e.createAttribute(!1,{storage:r,default:n?oP:void 0,name:"text.position"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?Og:void 0,name:"text.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?aP:void 0,name:"text.minVisibleSize"},t),adjustAngle:e.createAttribute(!1,{storage:r,default:n?lP:void 0,name:"text.adjustAngle"},t),scaling:e.createAttribute(!1,{storage:r,default:n?CI:void 0,name:"text.scaling"},t),maxLineLength:e.createAttribute(!1,{storage:r,default:n?kI:void 0,name:"text.maxLineLength"},t),secondary:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!1,{storage:r,default:n?ur:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!1,{storage:r,default:n?po:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!1,{storage:r,default:n?O0:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?wI:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?SI:void 0,name:"text.secondary.style"},t),align:e.createAttribute(!1,{storage:r,default:n?AI:void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?dP:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?z0:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?EI:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?cP:void 0,name:"text.secondary.minVisibleSize"},t)}}}}function K8(e,{original:t,useDefaultValues:n}){const r="resource";return{x:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"x"},t),y:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"y"},t),radius:e.createAttribute(!0,{storage:r,default:n?5:void 0,name:"radius"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"scaled":void 0,name:"scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?hP:void 0,name:"color"},t),opacity:e.createAttribute(!0,{storage:r,default:n?g8:void 0,name:"opacity"},t),shape:e.createAttribute(!0,{storage:r,default:n?p8:void 0,name:"shape"},t),layer:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"layer"},t),detectable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"detectable"},t),draggable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"draggable"},t),layoutable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"layoutable"},t),innerStroke:{width:e.createAttribute(!0,{storage:r,default:n?px:void 0,name:"innerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"innerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?gP:void 0,name:"innerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?j0:void 0,name:"innerStroke.minVisibleSize"},t)},outerStroke:{width:e.createAttribute(!0,{storage:r,default:n?mx:void 0,name:"outerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"outerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?pP:void 0,name:"outerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?B0:void 0,name:"outerStroke.minVisibleSize"},t)},badges:{topLeft:{color:e.createAttribute(!0,{storage:r,default:n?mc:void 0,name:"badges.topLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Gu:void 0,name:"badges.topLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?fc:void 0,name:"badges.topLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Qa:void 0,name:"badges.topLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topLeft.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"badges.topLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.top"},t)}},topRight:{color:e.createAttribute(!0,{storage:r,default:n?mc:void 0,name:"badges.topRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Gu:void 0,name:"badges.topRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?fc:void 0,name:"badges.topRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Qa:void 0,name:"badges.topRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topRight.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"badges.topRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topRight.text.scale"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.left"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.top"},t)}},bottomLeft:{color:e.createAttribute(!0,{storage:r,default:n?mc:void 0,name:"badges.bottomLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Gu:void 0,name:"badges.bottomLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?fc:void 0,name:"badges.bottomLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Qa:void 0,name:"badges.bottomLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomLeft.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"badges.bottomLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.top"},t)}},bottomRight:{color:e.createAttribute(!0,{storage:r,default:n?mc:void 0,name:"badges.bottomRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Gu:void 0,name:"badges.bottomRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?fc:void 0,name:"badges.bottomRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Qa:void 0,name:"badges.bottomRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomRight.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"badges.bottomRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomRight.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.top"},t)}}},halo:{color:e.createAttribute(!0,{storage:r,default:n?fP:void 0,name:"halo.color"},t),width:e.createAttribute(!0,{storage:r,default:n?fx:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"halo.scalingMethod"},t),strokeColor:e.createAttribute(!0,{storage:r,default:n?_P:void 0,name:"halo.strokeColor"},t),strokeWidth:e.createAttribute(!0,{storage:r,default:n?_x:void 0,name:"halo.strokeWidth"},t),clustering:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.clustering"},t),hideNonAdjacentEdges:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.hideNonAdjacentEdges"},t)},pulse:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!0,{storage:r,default:n?vP:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!0,{storage:r,default:n?xP:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!0,{storage:r,default:n?SP:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!0,{storage:r,default:n?EP:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!0,{storage:r,default:n?AP:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!0,{storage:r,default:n?bP:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!0,{storage:r,default:n?wP:void 0,name:"pulse.endRatio"},t)},icon:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"icon.content"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"icon.font"},t),color:e.createAttribute(!0,{storage:r,default:n?yP:void 0,name:"icon.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.7:void 0,name:"icon.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"icon.style"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"icon.minVisibleSize"},t)},image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"image.scale"},t),fit:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"image.fit"},t),tile:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"image.tile"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"image.minVisibleSize"},t)},outline:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!0,{storage:r,default:n?mP:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"text.font"},t),color:e.createAttribute(!0,{storage:r,default:n?po:void 0,name:"text.color"},t),size:e.createAttribute(!0,{storage:r,default:n?wl:void 0,name:"text.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.1:void 0,name:"text.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?hx:void 0,name:"text.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Td:void 0,name:"text.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Og:void 0,name:"text.backgroundColor"},t),tip:e.createAttribute(!0,{storage:r,default:n?c8:void 0,name:"text.tip"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.minVisibleSize"},t),scaling:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"text.scaling"},t),position:e.createAttribute(!0,{storage:r,default:n?"bottom":void 0,name:"text.position"},t),maxLineLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.maxLineLength"},t),truncateLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.truncateLength"},t),secondary:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!0,{storage:r,default:n?ur:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!0,{storage:r,default:n?po:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!0,{storage:r,default:n?gx:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.08:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.secondary.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?d8:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Td:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Og:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.secondary.minVisibleSize"},t)}}}}var J8=class{constructor(e){this.nodes=new zS(e,!0,K8),this.edges=new zS(e,!1,Q8)}setNodeDefaultAttributes(e){this.nodes.setDefaultAttributes(e)}setEdgeDefaultAttributes(e){this.edges.setDefaultAttributes(e)}getFlexArrays(){return{nodes:{current:this.nodes.getAttributeFlexArrays(),previous:this.nodes.getPrevAttributeFlexArrays()},edges:{current:this.edges.getAttributeFlexArrays(),previous:this.edges.getPrevAttributeFlexArrays()}}}redrawAll(){this.nodes.redrawAll(),this.edges.redrawAll()}clear(){this.nodes.clear(),this.edges.clear()}redrawElements(e){this._fetch(e).redrawElements(e)}getAnimationInformation(e){return this._fetch(e).getAnimationInformation(e)}redrawNodes(e){this.nodes.redrawElements(e)}getUsedAttributes(e,t){return this._fetch(t).getUsedAttributeNames(t.isNode?e.nodes:e.edges)}startUpdate(){this.nodes.startUpdate(),this.edges.startUpdate()}notifyDestroyed(e){this.nodes.notifyLayerDestroyed(e.nodes),this.edges.notifyLayerDestroyed(e.edges)}prepareUpdate(e){this.nodes.prepareFlexArraysUpdate(e.nodes),this.edges.prepareFlexArraysUpdate(e.edges)}onUpdate(e){this.nodes.updateFlexArrays(e.nodes),this.edges.updateFlexArrays(e.edges)}afterLayersUpdate(){this.nodes.endUpdate(),this.edges.endUpdate()}getAndResetElementsToRedraw(){return{nodes:this.nodes.getAndResetElementsToRedraw(),edges:this.edges.getAndResetElementsToRedraw()}}getAndResetElementsUpdated(){const e=this.nodes,t=this.edges;return{nodes:e.getAndResetElementsUpdated(),edges:t.getAndResetElementsUpdated(),nodeAttributesSet:e.getUpdatedAttributesSet(),nodeAttributes:e.getAndResetAttributesUpdated(),edgeAttributes:t.getAndResetAttributesUpdated()}}setAnimationAttributes({nodes:e,edges:t},n){this.nodes.setAnimationAttributes(e,n),this.edges.setAnimationAttributes(t,n)}resetAnimationAttributes({nodes:e,edges:t}){this.nodes.resetAnimationAttributes(e),this.edges.resetAnimationAttributes(t)}setLastOutput(e,t){this.nodes.setLastFlexArrays(e),this.edges.setLastFlexArrays(t)}getCurrentInput(){const e=an(this.nodes.getDefaultFlexArrays()),t=an(this.edges.getDefaultFlexArrays());return{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:ra(e),allEdgeAttributePaths:ra(t)}}initializeLayer(e,t,n){e.nodes.allAttributePaths=t,e.edges.allAttributePaths=n,e.nodes.formattedDependencies=j8(e.nodes),e.edges.formattedDependencies=$8(e.edges),e.nodes.formattedOutput={attributes:RS(e.nodes),tags:e.tag?[e.tag]:[]},e.edges.formattedOutput={attributes:RS(e.edges),tags:e.tag?[e.tag]:[]},e.nodes.redrawAdjacentEdges=e.nodes.formattedOutput.attributes.some(r=>l8[r]),e.initialized=!0}connectLayerInputOutput(e,t,n){const r=e.nodes.formattedOutput,i=e.edges.formattedOutput;for(const s of r.attributes){const o=sn(t,s),a=sn(e.nodes.outputFlexArrays,s);a.setFallback(o),Gi(t,s,a)}for(const s of i.attributes){const o=sn(n,s),a=sn(e.edges.outputFlexArrays,s);a.setFallback(o),Gi(n,s,a)}}setupLayerDependencies(e,t){if(e===t)return;const n=e.priority,r=t.priority,i=e.nodes.formattedOutput,s=e.edges.formattedOutput,o=t.nodes.formattedDependencies,a=t.edges.formattedDependencies;Pi(e.depsNodeSelf,t,i,o.self,n,r),Pi(e.depsNodeAdjacentNodes,t,i,o.adjacentNodes,n,r),Pi(e.depsNodeAdjacentEdges,t,s,a.extremities,n,r),Pi(e.depsNodeAllNodes,t,i,o.allNodes,n,r),Pi(e.depsNodeAllEdges,t,s,a.allNodes,n,r),Pi(e.depsEdgeSelf,t,s,a.self,n,r),Pi(e.depsEdgeExtremities,t,i,o.adjacentEdges,n,r),Pi(e.depsEdgeParallelEdges,t,s,a.parallelEdges,n,r),Pi(e.depsEdgeAllNodes,t,i,o.allEdges,n,r),Pi(e.depsEdgeAllEdges,t,s,a.allEdges,n,r)}createAttributeLayerData(e,t,n,{tag:r,onBeforeUpdate:i,standaloneSelectors:s}){const o=!!s;return{index:-1,id:t,name:e,tag:r||null,priority:0,depsNodeSelf:[],depsNodeAdjacentNodes:[],depsNodeAdjacentEdges:[],depsNodeAllNodes:[],depsNodeAllEdges:[],depsEdgeSelf:[],depsEdgeExtremities:[],depsEdgeParallelEdges:[],depsEdgeAllNodes:[],depsEdgeAllEdges:[],initialized:!1,onBeforeUpdate:i,nodes:{type:"node",name:e,standaloneSelector:o,toUpdate:new $g({graph:n,isNode:!0,includeRemovedElements:!1}),outputFlexArrays:this.nodes.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null},edges:{type:"edge",name:e,standaloneSelector:o,toUpdate:new $g({graph:n,isNode:!1,includeRemovedElements:!1}),outputFlexArrays:this.edges.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null}}}setAttributeValues(e,t,n,r,i){this._fetch(t).setAttributeValues(e,t,n,r,i)}getAttributeValues(e,t,n,r){return this._fetch(e).getAttributeValues(e,t,n,r)}_fetch(e){return e.isNode?this.nodes:this.edges}},e$=(e,t)=>new n8(e,t),t$=class{constructor(e,{graph:t,dom:n}){this._layerIdCounter=0,this._layers=[],this._destroyedLayers=[],this._layersNeedUpdate=!1,this._updateOngoing=!1,this._needUpdate=!1,this._ogma=e,this._graph=t,this._dom=n,this._emptySubgraph={nodes:e.nodeList(),edges:e.edgeList()},this._textHiddenSet=new Xd(this._graph,"textHidden"),this._layerController=new J8(this._graph)}_getLayerById(e){for(let t=0;t<this._layers.length;++t){const n=this._layers[t];if(n.id===e)return n.index=t,n}throw new Error("usage of a destroyed style rule or class")}setDefaultAttributes(e,t){this._layerController.setNodeDefaultAttributes(e),this._layerController.setEdgeDefaultAttributes(t)}getFlexArrays(){return this._layerController.getFlexArrays()}clear(){this._updateOngoing=!1,this._needUpdate=!1,this._destroyedLayers=[],this._layerController.clear(),this.updateAllForAllAttributeLayers()}redrawElements(e){e.size&&(this._layerController.redrawElements(e),this._dom.refresh())}redrawAll(){this._layerController.redrawAll(),this._dom.refresh()}_triggerUpdate(){this._needUpdate=!0,this._dom.refresh()}_reconstructAttributeLayersIfNecessary(){return!!this._layersNeedUpdate&&(this._reconstructAttributeLayers(),this._layersNeedUpdate=!1,this._dom.refresh(),!0)}getAnimationInformation(e){return this._layerController.getAnimationInformation(e)}update(){if(!this._needUpdate||this._updateOngoing||!this._ogma._token)return!1;this._reconstructAttributeLayersIfNecessary(),this._updateOngoing=!0,this._layerController.startUpdate();for(const e of this._destroyedLayers)e.initialized&&this._layerController.notifyDestroyed(e);for(const e of this._layers)this._layerController.prepareUpdate(e),typeof e.onBeforeUpdate=="function"&&e.onBeforeUpdate(e,this,this._layerController),this._layerController.onUpdate(e);return this._layerController.afterLayersUpdate(),this._updateOngoing=!1,this._needUpdate=!1,!0}setAttributeLayerValues(e,t,n,r){const i=this._getLayerById(e),s=t.isNode?i.nodes:i.edges;this._reconstructAttributeLayersIfNecessary(),this._layerController.setAttributeValues(s,t,n,r,i),this._updateElementsForAttributeLayers([i],t)}getAttributeLayerFlexArrays(e){const t=this._getLayerById(e);return{nodes:t.nodes.outputFlexArrays,edges:t.edges.outputFlexArrays}}getUsedAttributeLayerAttributes(e,t){const n=this._getLayerById(e);return this._layerController.getUsedAttributes(n,t)}getUpdatedElements(){return{elementsToRedraw:this._layerController.getAndResetElementsToRedraw(),elementsUpdated:this._layerController.getAndResetElementsUpdated()}}addAttributeLayer(e){const{name:t,layerFactory:n=e$}=e;if(!t)throw new Error("Attribute layer must have a name");if(t&&this._layers.find(i=>i.name===t))throw new Error(`attribute layer with name "${e.name}" already exists`);const r=this._layerController.createAttributeLayerData(t,++this._layerIdCounter,this._graph,e);return this._layers.push(r),this._updateLayer(r,e),n(this,this._layerIdCounter)}_reconstructAttributeLayers(){this._layers.sort((i,s)=>i.priority-s.priority);const{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:n,allEdgeAttributePaths:r}=this._layerController.getCurrentInput();for(const i of this._layers)this._layerController.initializeLayer(i,n,r);for(const i of this._layers){i.nodes.inputFlexArrays=an(e),i.edges.inputFlexArrays=an(t),i.depsNodeSelf=[],i.depsNodeAdjacentNodes=[],i.depsNodeAdjacentEdges=[],i.depsNodeAllNodes=[],i.depsNodeAllEdges=[],i.depsEdgeSelf=[],i.depsEdgeExtremities=[],i.depsEdgeParallelEdges=[],i.depsEdgeAllNodes=[],i.depsEdgeAllEdges=[],i.nodes.toUpdate.addAll(),i.edges.toUpdate.addAll(),this._layerController.connectLayerInputOutput(i,e,t);for(const s of this._layers)this._layerController.setupLayerDependencies(i,s)}this._layerController.setLastOutput(e,t);for(const i of this._layers)i.nodes.needAdjacentElements=i.nodes.redrawAdjacentEdges||i.depsNodeAdjacentNodes.length>0||i.depsNodeAdjacentEdges.length>0,i.edges.needAdjacentElements=i.depsEdgeExtremities.length>0||i.depsEdgeParallelEdges.length>0}_updateLayer(e,{priority:t,fullOverwrite:n,nodeAttributes:r,nodeSelector:i,nodeContext:s,nodeDependencies:o,nodeOutput:a,edgeAttributes:l,edgeSelector:c,edgeContext:d,edgeDependencies:u,edgeOutput:h}={}){r!==void 0&&(e.nodes.attributes=n?r:bg(e.nodes.attributes,r)),i!==void 0&&(e.nodes.selector=i),s!==void 0&&(e.nodes.context=s),o!==void 0&&(e.nodes.dependencies=o),a!==void 0&&(e.nodes.output=a),l!==void 0&&(e.edges.attributes=n?l:bg(e.edges.attributes,l)),c!==void 0&&(e.edges.selector=c),d!==void 0&&(e.edges.context=d),u!==void 0&&(e.edges.dependencies=u),h!==void 0&&(e.edges.output=h),t!==void 0&&(e.priority=t),this._triggerLayerUpdate()}_triggerLayerUpdate(){this._layersNeedUpdate=!0,this._triggerUpdate()}updateAllForAttributeLayer(e){const t=this._getLayerById(e);this._updateAllForAttributeLayer(t)}updateAllForAllAttributeLayers(){for(const e of this._layers)this._updateAllForAttributeLayer(e)}_updateAllForAttributeLayer(e,t=!0,n=!0){if(t&&!e.nodes.toUpdate.isFull()){e.nodes.toUpdate.addAll();for(const r of e.depsNodeSelf)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsNodeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}if(n&&!e.edges.toUpdate.isFull()){e.edges.toUpdate.addAll();for(const r of e.depsEdgeSelf)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeExtremities)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeParallelEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}this._triggerUpdate()}updateElementsForAttributeLayer(e,t){const n=this._getLayerById(e);this._updateElementsForAttributeLayers([n],t)}updateForAllAttributeLayers(e){this._updateElementsForAttributeLayers(this._layers,e)}_updateElementsForAttributeLayers(e,t){let n=this._emptySubgraph;if(t.isNode){for(const r of e)if(!r.nodes.toUpdate.isFull()){r.nodes.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.nodes.toUpdate.add(t);for(const i of r.depsNodeSelf)i.nodes.toUpdate.add(t);for(const i of r.depsNodeAdjacentNodes)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsNodeAdjacentEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsNodeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsNodeAllEdges)this._updateAllForAttributeLayer(i,!1,!0);r.nodes.redrawAdjacentEdges&&this._layerController.redrawElements(n.edges)}}else for(const r of e)if(!r.edges.toUpdate.isFull()){r.edges.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.edges.toUpdate.add(t);for(const i of r.depsEdgeSelf)i.edges.toUpdate.add(t);for(const i of r.depsEdgeExtremities)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsEdgeParallelEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsEdgeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsEdgeAllEdges)this._updateAllForAttributeLayer(i,!1,!0)}this._triggerUpdate()}destroyAttributeLayer(e){const t=this._getLayerById(e);this._destroyedLayers.push(t),this._layers.splice(t.index,1),this._triggerLayerUpdate()}updateAttributeLayer(e,t){const n=this._getLayerById(e);this._updateLayer(n,t)}getAttributeLayerDefinition(e){const t=this._getLayerById(e),{priority:n,nodes:r,edges:i}=t;return{priority:n,nodeAttributes:r.attributes,nodeSelector:r.selector,nodeContext:r.context,nodeDependencies:r.dependencies,nodeOutput:r.output,edgeAttributes:i.attributes,edgeSelector:i.selector,edgeContext:i.context,edgeDependencies:i.dependencies,edgeOutput:i.output}}getAttributeValues(e,t,n,r){return this.update(),this._layerController.getAttributeValues(e,t,n,r)}setAnimationAttributes(e,t){return this._layerController.setAnimationAttributes(e,t)}resetAnimationAttributes(e){return this._layerController.resetAnimationAttributes(e)}setTextHidden(e,t){const n=this._textHiddenSet.addOrRemoveElements(e,t);this.redrawElements(n)}resetTextHidden(){const{nodes:e,edges:t}=this._textHiddenSet.getElements();this._textHiddenSet.clear(),this._layerController.redrawElements(e),this._layerController.redrawElements(t)}getUsedNodeAttributes(){return this._layerController.nodes.getUsedAttributes()}getUsedEdgeAttributes(){return this._layerController.edges.getUsedAttributes()}interpolateAttributes(e){const t=er(),n=this._ogma.modules.graphics.getAttributesManager(),r=this._layerController,i=e.isNode?n.getUsedNodeAttributes():n.getUsedEdgeAttributes(),{animationDuration:s,animationEasing:o,animationStart:a}=r.getFlexArrays().nodes.current,l=s.getMultiple(e._indexes),c=o.getMultiple(e._indexes),d=a.getMultiple(e._indexes),u=[];for(let h=0;h<e.size;h++){const g={};i.forEach(p=>{const m=typeof p=="string"?p:p.join("."),_=sn(r.getFlexArrays().nodes.previous,p),y=sn(r.getFlexArrays().nodes.current,p);if(!y)return;const f=hI(t,d[h],l[h],c[h]);isNaN(f)?g[m]=y.get(e._indexes[h]):m.match(/color/gi)?g[m]=pc(_.get(e._indexes[h]),y.get(e._indexes[h]),f,f):g[m]=Rt(_.get(e._indexes[h]),y.get(e._indexes[h]),f)}),u.push(g)}return u}},n$=1e-12;function OS(e){return((e=Math.exp(e))+1/e)/2}function r$(e){return((e=Math.exp(e))-1/e)/2}function i$(e){return((e=Math.exp(2*e))-1)/(e+1)}var s$=function e(t,n,r){function i(s,o){var a,l,c=s[0],d=s[1],u=s[2],h=o[0],g=o[1],p=o[2],m=h-c,_=g-d,y=m*m+_*_;if(y<n$)l=Math.log(p/u)/t,a=function(A){return[c+A*m,d+A*_,u*Math.exp(t*A*l)]};else{var f=Math.sqrt(y),v=(p*p-u*u+r*y)/(2*u*n*f),x=(p*p-u*u-r*y)/(2*p*n*f),w=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(x*x+1)-x);l=(b-w)/t,a=function(A){var S=A*l,k=OS(w),C=u/(n*f)*(k*i$(t*S+w)-r$(w));return[c+C*m,d+C*_,u*k/OS(t*S+w)]}}return a.duration=1e3*l*t/Math.SQRT2,a}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o;return e(o,a,a*a)},i}(Math.SQRT2,2,4),o$=({graphWidth:e,graphHeight:t,viewWidth:n,viewHeight:r})=>.2*Math.min(n/e,r/t),a$=({smallestNodeSize:e,viewWidth:t,viewHeight:n})=>e===1/0?1/0:Math.min(t,n)/e*.5,$0=Math.SQRT2,U0=.15,l$=class extends st{constructor(e,t){super(e),this._zooming=!1,this.debug=!1,this._smoothZoom=(n,r,i)=>{const s=this._modules.settings,o=s.get("interactions.zoom.duration"),a=s.get("interactions.zoom.easing"),l=this._modules.camera.getZoom(),c={duration:o,easing:a};this._zooming||(this._zooming=!0,this._updateVisibility("zoom",!0));const d=s.get("interactions.zoom.speed")||U0;let u=YN(n,d);n<0&&u!==0&&(u=1/u);const h=l*u;this._modules.camera.setZoom(h,c,{x:r,y:i}).then(()=>{this._zooming&&(this._zooming=!1,this._updateVisibility("zoom",!1))})},this.debug=t}onMounted(){const e=this._modules.settings;e.register("interactions.zoom.enabled",!0),e.register("interactions.zoom.onDoubleClick",!1),e.register("interactions.zoom.duration",150),e.register("interactions.zoom.modifier",$0),e.register("interactions.zoom.speed",U0),e.register("interactions.zoom.easing","quadraticOut"),e.register("interactions.zoom.minValue",this.debug?null:o$),e.register("interactions.zoom.maxValue",this.debug?null:a$),e.register("interactions.zoom.hideNodes",!1),e.register("interactions.zoom.hideEdges",!1),e.register("interactions.zoom.hideNodeTexts",!1),e.register("interactions.zoom.hideEdgeTexts",!1),e.register("interactions.pan.enabled",!0),e.register("interactions.pan.hideNodes",!1),e.register("interactions.pan.hideEdges",!1),e.register("interactions.pan.hideNodeTexts",!1),e.register("interactions.pan.hideEdgeTexts",!1),e.register("interactions.rotation.enabled",!0),e.register("interactions.rotation.hideNodes",!1),e.register("interactions.rotation.hideEdges",!1),e.register("interactions.rotation.hideNodeTexts",!1),e.register("interactions.rotation.hideEdgeTexts",!1),e.register("interactions.gesture.enabled",!0),e.register("interactions.gesture.hideNodes",!1),e.register("interactions.gesture.hideEdges",!1),e.register("interactions.gesture.hideNodeTexts",!1),e.register("interactions.gesture.hideEdgeTexts",!1),this._setupInteractions()}_setupInteractions(){this._modules.interactions.onMouseWheel({priority:"zoom",check:()=>!!this._modules.settings.get("interactions.zoom.enabled"),handler:Rp(({x:e,y:t,delta:n})=>this._smoothZoom(n,e,t),50)}),this._modules.interactions.onDoubleClick({priority:"zoom",check:()=>{const e=this._modules.settings.get("interactions.zoom.enabled"),t=this._modules.settings.get("interactions.zoom.onDoubleClick");return!(!e||!t)},handler:({x:e,y:t})=>this._smoothZoom(1,e,t)}),this._modules.interactions.onDrag({priority:"panning",disableDetection:!0,check:({button:e})=>{const t=!!this._modules.settings.get("interactions.pan.enabled");return e==="left"&&t},onStart:()=>this._updateVisibility("pan",!0),onProgress:({dx:e,dy:t})=>this._modules.camera.move({x:-e,y:-t}),onStop:()=>this._updateVisibility("pan",!1)}),this._modules.interactions.onDrag({priority:"rotation",disableDetection:!0,check:({button:e,domEvent:t})=>(e==="right"||t&&t.buttons===2)&&!!this._modules.settings.get("interactions.rotation.enabled"),onStart:({x:e,y:t})=>{this._rotationStart={x:e,y:t},this._updateVisibility("rotation",!0)},onProgress:({x:e,y:t})=>this._rotate({x:e,y:t}),onStop:()=>this._updateVisibility("rotation",!1)}),this._modules.interactions.onGesture({priority:"gesture",disableDetection:!0,check:()=>!!this._modules.settings.get("interactions.gesture.enabled"),onStart:()=>this._updateVisibility("gesture",!0),onProgress:({dx:e,dy:t,rotation:n,scale:r,x:i,y:s})=>{this._modules.settings.get("interactions.rotation.enabled")&&this._modules.camera.rotate(-n),this._modules.camera.zoomIn({modifier:r},{x:i,y:s}),this._modules.camera.move({x:-e,y:-t})},onStop:()=>this._updateVisibility("gesture",!0)})}_rotate({x:e,y:t}){const{width:n,height:r}=this._modules.camera.getSize(),i=n/2,s=r/2,o=this._rotationStart.x-i,a=this._rotationStart.y-s,l=e-i,c=t-s,d=Math.atan2(a,o)-Math.atan2(c,l);this._rotationStart.x=e,this._rotationStart.y=t,this._modules.camera.rotate(d)}_updateVisibility(e,t){const n=!t,r=this._modules.settings,i=r.get(`interactions.${e}.hideNodes`),s=r.get(`interactions.${e}.hideEdges`),o=r.get(`interactions.${e}.hideNodeTexts`),a=r.get(`interactions.${e}.hideEdgeTexts`);i&&this._modules.graphics.setNodesVisibility(n),o&&this._modules.graphics.setNodeTextsVisibility(n),s&&this._modules.graphics.setEdgesVisibility(n),a&&this._modules.graphics.setEdgeTextsVisibility(n)}},BS=1e-8,jS=1e8,Sf={duration:0,startAfter:0,ignoreZoomLimits:!1,callback:ft,easing:"quadraticInOut"};function Qu(e){return Math.abs(e)<1e-9}var c$=80,NP=class extends st{constructor(){super(...arguments),this._minZoom=BS,this._maxZoom=jS,this._timeout=0}onMounted(){this._reset(),this._modules.settings.register("minZoom",BS,e=>{this._minZoom=e,this._zoom<e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.settings.register("maxZoom",jS,e=>{this._maxZoom=e,this._zoom>e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.events.on("setContainer",()=>{this._reset(),this._modules.events.fire("move")}).on("resize",()=>{this._reloadDimensions(),this._modules.events.fire("move")})}get x(){return this._x}get y(){return this._y}get zoom(){return this._zoom}get angle(){return this._angle}get width(){return this._dimensions.width}get height(){return this._dimensions.height}moveEnd(e){this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>this._modules.events.fire("viewChanged",{type:e}),c$)}getSize(){return{width:this._dimensions.width,height:this._dimensions.height}}getCenter(){return{x:this._x,y:this._y}}setCenter({x:e,y:t},n){const r=this._x,i=this._y,s=e-this._x,o=t-this._y;return Qu(s)&&Qu(o)?Promise.resolve():new Promise(a=>{this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const l=this._modules.animations.play(c=>{this._x=r+s*c,this._y=i+o*c,this._modules.events.fire("move").fire("pan")},vt(we(we({},Sf),n),{callback:()=>this.moveEnd("pan"),resolve:a}));l&&(this._moveAnimation=l)})}move({x:e,y:t},n){const r=$S({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle);return this.setCenter({x:this._x+r.x,y:this._y+r.y},n)}getZoom(){return this._zoom}setZoom(e,t,n={x:void 0,y:void 0}){const{x:r,y:i}=n;let s=Vr(e,this._minZoom,this._maxZoom);return t&&t.ignoreZoomLimits||(s=this._applyZoomLimits(s)),Qu(this._zoom-s)?Promise.resolve():new Promise(o=>{const a=vt(we(we({},Sf),t),{callback:()=>this.moveEnd("zoom"),resolve:o}),l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._zoom,u=l/d-l/s;if(r!==void 0&&i!==void 0){const g=(r-l)/d-(r-l)/s,p=(i-c)/d-(i-c)/s,m=this._cosAngle,_=this._sinAngle,y=m*g-_*p,f=_*g+m*p;this.setCenter({x:this._x+y,y:this._y+f},t)}this._zoomAnimation&&this._modules.animations.cancel(this._zoomAnimation),this._modules.dom.afterNextFrame().then(()=>{this._modules.events.fire("zoomStart",{duration:a.duration,easing:a.easing,startZoom:d,endZoom:s})});const h=this._modules.animations.play(g=>{this._zoom=l/(l/d-u*g),this._modules.events.fire("move").fire("zoom")},a);h&&(this._zoomAnimation=h)})}_applyZoomLimits(e){const t=this._modules.settings.get("interactions.zoom.minValue"),n=this._modules.settings.get("interactions.zoom.maxValue"),{minScaledSize:r,maxScaledSize:i,width:s,height:o,cx:a}=this._modules.locate.getGraphBoundingBox(),l=this._zoom,c=this.getSize();let d=e;if(!isNaN(a)){const u={smallestNodeSize:r,biggestNodeSize:i,graphWidth:s+i,graphHeight:o+i,viewWidth:c.width,viewHeight:c.height},h=t&&t(u),g=n&&n(u);US(h)&&d<h?d<l&&(d=Math.min(l,h)):US(g)&&d>g&&d>l&&(d=Math.max(l,g))}return d}zoomIn(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||$0:e.modifier,this.setZoom(this._zoom*n,e,t)}moveToBounds(e,t={}){const n=this._modules.locate.computeConfigForBounds(e,{ignoreZoomLimits:!0});return this.moveTo(n,t)}moveTo(e,t={}){const n=this.getZoom(),r=this.getCenter(),i=e.zoom||this._zoom;return t.duration===0?this.setView(e):new Promise(s=>{const o=Math.min(this.width,this.height),a=s$([r.x,r.y,o/n],[e.x,e.y,o/i]),l=a.duration,c=t.duration||l;this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const d=this._modules.animations.play(u=>{const[h,g,p]=a(u);this._x=h,this._y=g,this._zoom=o/p,this._modules.events.fire("move"),this._modules.events.fire("pan")},{duration:c,easing:t.easing,callback:()=>this.moveEnd("pan"),resolve:s});d&&(this._moveAnimation=d)})}zoomOut(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||$0:e.modifier,this.setZoom(this._zoom/n,e,t)}getAngle(){return this._angle}setAngle(e,t){const n=this._angle,r=e-n;return Qu(r)?Promise.resolve():new Promise(i=>{this._rotateAnimation&&this._modules.animations.cancel(this._rotateAnimation);const s=this._modules.animations.play(o=>{for(this._angle=n+r*o;this._angle>Math.PI;)this._angle-=2*Math.PI;for(;this._angle<-Math.PI;)this._angle+=2*Math.PI;this._sinAngle=Math.sin(this._angle),this._cosAngle=Math.cos(this._angle),this._modules.events.fire("move").fire("rotate")},vt(we(we({},Sf),t),{callback:()=>this.moveEnd("rotate"),resolve:i}));s&&(this._rotateAnimation=s)})}rotate(e,t){return this.setAngle(this._angle+e,t)}getScreenCenter(){return{x:this._dimensions.width/2,y:this._dimensions.height/2}}graphToScreenCoordinates({x:e,y:t},n={x:0,y:0}){const r=this._dimensions.width/2,i=this._dimensions.height/2;return Tg((e-this._x)*this._zoom+r,(t-this._y)*this._zoom+i,r,i,-this._angle,n)}screenToGraphCoordinates({x:e,y:t},n={x:0,y:0}){return Tg(this._x+(e-this._dimensions.width/2)/this._zoom,this._y+(t-this._dimensions.height/2)/this._zoom,this._x,this._y,this._angle,n)}projectBounds(e,t=e){const[n,r,i,s]=e,o=this._x,a=this._y,l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._sinAngle,u=this._cosAngle,h=1/this._zoom;let g=1/0,p=1/0,m=-1/0,_=-1/0;const y=[n,r,n,s,i,s,i,r];for(let f=0;f<y.length;f+=2){let v=y[f],x=y[f+1];v=o+(v-l)*h,x=a+(x-c)*h;const w=v-o,b=x-a;v=u*w-d*b+o,x=d*w+u*b+a,v<g&&(g=v),v>m&&(m=v),x<p&&(p=x),x>_&&(_=x)}return t[0]=g,t[1]=p,t[2]=m,t[3]=_,t}screenToGraphVector({x:e,y:t}){return $S({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle)}getView(){return{x:this._x,y:this._y,zoom:this._zoom,angle:this._angle,width:this._dimensions.width,height:this._dimensions.height}}setView(e,t){const{x:n,y:r,zoom:i,angle:s}=we({x:this._x,y:this._y,zoom:this._zoom,angle:this._angle},e);return Promise.all([this.setCenter({x:n,y:r},t),this.setZoom(i,t),this.setAngle(s,t)]).then(ft)}_reloadDimensions(){this._dimensions=this._modules.dom.getDimensions()}animationInProgress(){const e=this._moveAnimation,t=this._zoomAnimation,n=this._rotateAnimation;return!!(e&&!e.done||t&&!t.done||n&&!n.done)}getProjectedScreenBounds(e=0){const{width:t,height:n}=this._dimensions,r=Math.max(t,n)*e;return this.projectBounds([0-r,0-r,t+r,n+r])}_reset(){this._zoom=1,this._x=0,this._y=0,this._angle=0,this._sinAngle=0,this._cosAngle=1,this._dimensions=this._modules.dom.getDimensions()}clone(e){const t=new NP(this._ogma);return t._zoom=e.zoom||this._zoom,t._x=e.x||this._x,t._y=e.y||this._y,t._angle=e.angle||this._angle,t._dimensions={width:e.width||this._dimensions.width,height:e.height||this._dimensions.height},t}};function $S({x:e,y:t},n,r,i){return{x:i*(e/=n)-r*(t/=n),y:r*e+i*t}}function US(e){return typeof e=="number"&&isFinite(e)}function d$(e){const t=e.filter(n=>isFinite(n)&&n>0);return t.length?is(t):1}var u$="anonymous",h$="white",g$="default",p$={maxBlockId:1024,maxCoord:-1/0,maxScaledSize:16,maxPixelSize:255,maxMinVisibleSize:64,maxDashOffset:4,maxDashLength:3,maxGapLength:1,maxSymbolicSize:0,maxPatternScale:0},IP=Mp?"webgl":null,VS=5,m$=class extends st{constructor(){super(...arguments),this._debug=!1,this._initDone=!1,this._boundaries={maxSize:10,maxMinVisibleSize:64},this._visibility={nodes:0,edges:0,nodeTexts:0,edgeTexts:0},this._nextAnimationId=1,this._animations=[],this._rendererState={type:null,code:null,state:"ok",message:""},this._cursorStyle=[],this._fontsNewlyLoaded=[],this._nextGeIndex=1,this._availableGeIndexes=[],this._renderOnNewFrame=!0,this._isBufferDisplayable=e=>{const t=A4(e),n=VN(e),r=t?this._visibility.nodes:this._visibility.edges,i=t?this._visibility.nodeTexts:this._visibility.edgeTexts;return r===0&&(!n||i===0)},this._onNewFrame=()=>{this._processAnimations(),this._loadGraphInGraphicsEngine(),this._renderOnNewFrame&&this._render()},this._applyCursorStyle=()=>{const e=this._cursorStyle[this._cursorStyle.length-1]||this._modules.settings.get("cursor.default");Ag(this._domWrapper,e)},this._updateImageCrossOrigin=()=>{this._imageManager.setImgCrossOrigin(this._modules.settings.get("imgCrossOrigin")||null)}}onMounted(){this._debug=this._ogma.isDebug(),this._renderOnNewFrame=!0,this._formatText=UN().applyArabicShaping,this._attributesManager=new t$(this._ogma,this._modules),this._imageManager=new Mj,this._fontManager=new XB,this._engine=new Uc(Uc.getCachedInitData()),this._domWrapper=this._engine.getDomWrapper(),this._engine.on("error",this._onNewFrame),this._nodeAnimationMap=new Map,this._edgeAnimationMap=new Map,this._movingNodes=new Set,this._movingEdges=new Set,this._modules.events.register(["reloadFonts","rendererStateChange","beforeUpdateAttributes","updateAttributes","animate","move","pan","zoom","rotate","viewExportStart","viewExportEnd","afterImageExport","viewChanged","zoomStart"]),this._modules.settings.register("renderer",IP,e=>{this._updateRendererState({type:e,state:"requested",code:null,message:void 0}),this._engine.setRenderType(e),this._modules.dom.refresh()}),this._modules.settings.register("backgroundColor",h$,e=>{this._engine.parseColor(e)?this._modules.dom.refresh():(io(`Invalid background color "${e}" specified; will default to black.`),this._modules.settings.set("backgroundColor","black"))}),this._modules.settings.register("texts.hideUntilFontsLoaded",!0,e=>{this._fontManager.setHideUntilFontsLoaded(!!e)}),this._modules.settings.register("texts.cornerRadius",VS,e=>{this._engine.getTextManager().setCornerRadius(typeof e=="number"?e:VS),this._modules.dom.refresh()}),this._modules.settings.register("imgCrossOrigin",u$,this._updateImageCrossOrigin),this._modules.settings.register("cursor.default",g$,this._applyCursorStyle),this._modules.dom.setLayer("graphics",this._domWrapper),this._engine.setGlobalBoundaries(p$),this._modules.dom.beforeNextFrame().then(()=>{this._initDone=!0,this._fireRendererStateChangeEvent()}),this._imageManager.onFetch(()=>{this._engine.notifyPatternUpdate(),this._modules.dom.refresh()}),this._fontManager.onFontLoaded(e=>{this._fontsNewlyLoaded.push(e),this._engine.notifyPatternUpdate(),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}),this._modules.dom.addMediaListener("(min-resolution: 2dppx)",()=>this._modules.dom.refresh()),this._visibleAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${v0})`,tag:v0,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._dataAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${x0})`,tag:x0,nodeDependencies:void 0,edgeDependencies:void 0}),oS(this._engine,this._attributesManager.getFlexArrays()),this._modules.events.on("move",()=>this._modules.dom.refresh()).on("frame",this._onNewFrame).on("viewExportStart",()=>{this._renderOnNewFrame=!1}).on("viewExportEnd",()=>{this._renderOnNewFrame=!0}).on("clearGraph",()=>{this._nextGeIndex=1,this._availableGeIndexes=[],this._engine.clear(),this._attributesManager.clear(),this._modules.dom.refresh(),this._animations=[],this._nodeAnimationMap.clear(),this._edgeAnimationMap.clear()}).on("viewChanged",({type:e})=>{if(e==="rotate"){const t=this._modules.graph.getEdges().filter(n=>n.getAttribute("adjustAnchors"));this._attributesManager.redrawElements(t)}}).on("addNodes",e=>{this._attributesManager.updateForAllAttributeLayers(e.nodes)}).on("addEdges",e=>{this._attributesManager.updateForAllAttributeLayers(e.edges)}).on("excludedStateChange",e=>{this._visibleAttributeLayer.updateElements(e.elements)}).on("setData",e=>{this._dataAttributeLayer.updateElements(e.elements)}),Uc.clearCachedInitData(),this._modules.dom.addWindowEventListener("unload",()=>this.destroy())}onReady(e){e.renderer!==void 0&&this._ogma.setOptions({renderer:e.renderer}),e.imgCrossOrigin!==void 0&&this._ogma.setOptions({imgCrossOrigin:e.imgCrossOrigin})}getTransparentBackgroundColor(){const e=this._modules.settings.get("backgroundColor");return e?this._engine.transparentify(e):null}_render(){const e=this._modules.dom.getDimensions(),t=this._modules.camera.getView(),n=Lr(),r=er(),i=this._modules.settings.get("backgroundColor"),s=this._isBufferDisplayable;this._engine.setView({x:t.x,y:t.y,zoom:t.zoom,angle:t.angle,width:e.width,height:e.height,pixelRatio:n,currentTime:r,backgroundColor:i,isBufferDisplayable:s});try{this._engine.render(),this._rendererState.state==="requested"&&this._updateRendererState({state:"ok"})}catch(o){if(this._debug)throw o;const{message:a,code:l="OTHER"}=o,c=this._rendererState.type,d=Hj(c);let u=this._rendererState.state==="requested"?`Error while initializing the ${d} renderer`:`The ${d} renderer encountered an unexpected runtime error`,h=null;c==="webgl"&&(u+="; fallbacking on canvas renderer",h="canvas"),io(a||""),io(u),this._updateRendererState({state:"error",code:l,message:a}),this._modules.settings.set("renderer",h)}}_fireRendererStateChangeEvent(){const e=this._rendererState;this._modules.events.fire("rendererStateChange",{type:e.type,state:e.state,code:e.code,message:e.message})}_updateRendererState({type:e,state:t,code:n,message:r}){let i=!1;e!==void 0&&this._rendererState.type!==e&&(this._rendererState.type=e,i=!0),t!==void 0&&this._rendererState.state!==t&&(this._rendererState.state=t,i=!0),n!==void 0&&this._rendererState.code!==n&&(this._rendererState.code=n,i=!0),r!==void 0&&this._rendererState.message!==r&&(this._rendererState.message=r,i=!0),i&&this._initDone&&this._fireRendererStateChangeEvent()}getImageData(){return this._modules.dom.afterNextFrame().then(()=>this._engine.getImageData())}getNodeAttributes(){return this._attributesManager.getFlexArrays().nodes.current}getEdgeAttributes(){return this._attributesManager.getFlexArrays().edges.current}getGraphicsEngine(){return this._engine}getImageManager(){return this._imageManager}getFontManager(){return this._fontManager}allocateGraphicsEngineBlockId(){return this._availableGeIndexes.length?this._availableGeIndexes.pop():this._nextGeIndex++*Yp+i4}releaseGraphicsEngineBlockId(e){this._engine.freeBlock(e),this._availableGeIndexes.push(e),this._modules.dom.refresh()}addCursorStyle(e){e&&(this._cursorStyle.push(e),this._applyCursorStyle())}removeCursorStyle(e){if(!e)return;const t=this._cursorStyle.lastIndexOf(e);t!==-1&&(this._cursorStyle.splice(t,1),this._applyCursorStyle())}reloadFonts(){this._modules.events.fire("reloadFonts"),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}getDomElement(){return this._domWrapper}setTextHidden(e,t){this._attributesManager.setTextHidden(e,t)}resetTextHidden(){this._attributesManager.resetTextHidden(),this._modules.dom.refresh()}getAttributesManager(){return this._attributesManager}_checkFontsNewlyLoaded(){return!!this._fontsNewlyLoaded.length&&(this._fontsNewlyLoaded=[],!0)}_loadGraphInGraphicsEngine(){this._attributesManager.update(),this._checkFontsNewlyLoaded()&&this._attributesManager.redrawAll(),this._modules.events.fire("beforeUpdateAttributes");const{elementsToRedraw:e,elementsUpdated:t}=this._attributesManager.getUpdatedElements(),n=t.nodes.size>0||t.edges.size>0;(t.nodeAttributesSet.has("radius")||t.edgeAttributes.includes("width"))&&(this._boundaries.maxSize=Gj(this._modules.graph)),(t.nodeAttributesSet.has("shape")||t.edgeAttributes.includes("shape.head")||t.edgeAttributes.includes("shape.tail"))&&oS(this._engine,this._attributesManager.getFlexArrays()),mj({graph:this._modules.graph,elements:e,engine:this._engine,imageManager:this._imageManager,fontManager:this._fontManager,view:this._modules.camera.getView(),attributes:this._attributesManager.getFlexArrays(),boundaries:this._boundaries,formatText:this._formatText}),n&&this._modules.events.fire("updateAttributes",t)}_forceCompleteGraphRefresh(){this._attributesManager.redrawAll(),this._loadGraphInGraphicsEngine()}export(e,t,n,r){let i;return Promise.all([this._modules.graph.getNodes().addClass(Mo),this._modules.graph.getEdges().addClass(Mo)]).then(()=>this.resolveAtNextFrame()).then(()=>this._imageManager.whenReady()).then(()=>{n==="all"?(i=y$(this._modules.graph),this._forceCompleteGraphRefresh()):this._loadGraphInGraphicsEngine();const s=this._modules.camera.clone(we({},t));return this._modules.events.fire("viewExportStart",{preventOverlap:r.preventOverlap,camera:s,view:s.getView()}),this._ogma.view.afterNextFrame().then(()=>this._engine.export(e,t,r))}).then(s=>Promise.all([this._modules.graph.getNodes().removeClass(Mo),this._modules.graph.getEdges().removeClass(Mo)]).then(()=>s)).then(s=>(n==="all"&&(v$(i),this._forceCompleteGraphRefresh()),this._modules.events.fire("viewExportEnd"),s))}addAttributeLayer(e){return this._attributesManager.addAttributeLayer(e)}getAttributeValues(e,t,n,r){return this._attributesManager.getAttributeValues(e,t,n,r)}forceAttributesComputation(){this._attributesManager.update()}resolveAtNextFrame(e){return this._modules.dom.afterNextFrame().then(()=>e)}isMoving(e){return(e.isNode?this._movingNodes:this._movingEdges).has(e._index)}animate(e,t,n,r){const i=f$(r);return i.duration&&this._engine.ensureAnimationsReady(),this._animate(e,t,n,i)}isAnimating(){return this._animations.length>0}getAnimationInformation(e){return this._attributesManager.getAnimationInformation(e)}_toSubGraph(e){if(e instanceof xs||e instanceof Hi)return{nodes:e.toList(),edges:e.getAdjacentEdges()};if(e instanceof ca||e instanceof uo)return{nodes:this._modules.graph.nodeList(),edges:e.toList()};const t=e,n={nodes:t.nodes||this._modules.graph.nodeList(),edges:t.edges||this._modules.graph.edgeList()};return n.nodes.size&&(n.edges.size?n.edges=n.edges.concat(n.nodes.getAdjacentEdges()).dedupe():n.edges=n.nodes.getAdjacentEdges()),n}_animate(e,t,n,{duration:r,easing:i}){if((!this._animations.length||n)&&!r)return t(e),Promise.resolve(e);const s=this._toSubGraph(e),o=s.nodes,a=s.edges;if(o.size===0&&a.size===0)return t(e),Promise.resolve(e);if(o.size){if(n)for(let h=0;h<o._indexes.length;h++)this._movingNodes.add(o._indexes[h]);this._modules.events.fire("animate",{elements:o,duration:r,updatesPositions:n,easing:i})}if(a.size){if(n)for(let h=0;h<a._indexes.length;h++)this._movingEdges.add(a._indexes[h]);this._modules.events.fire("animate",{elements:a,duration:r,updatesPositions:n,easing:i})}const l={id:this._nextAnimationId++,startTime:er(),finished:!1,func:()=>t(e),duration:r,easing:i,nodes:o,edges:a,started:!1,updatesPositions:n,resolve:ft};let c=l;const d=new Set;if(c=this._getLongestAnimation(c,l.nodes,d),c=this._getLongestAnimation(c,l.edges,d),c.updatesPositions){for(let h=0;h<o._indexes.length;h++)this._nodeAnimationMap.set(o._indexes[h],c);for(let h=0;h<a._indexes.length;h++)this._edgeAnimationMap.set(a._indexes[h],c);l.duration=c.duration,l.startTime=c.startTime}if(l.duration===0&&c.id===l.id)return t(e),Promise.resolve(e);const u=new Promise(h=>l.resolve=()=>h(e));return this._animations.push(l),this._modules.dom.refresh(),r||this._processAnimations(),u}_removeFinishedAnimations(){this._animations=this._animations.filter(e=>!e.finished)}_getAnimationElements(e){return{nodes:e.nodes,edges:e.edges}}_resetAnimationAttributes({nodes:e,edges:t}){this._attributesManager.resetAnimationAttributes({nodes:e,edges:t});for(let n=0;n<e._indexes.length;n++)this._nodeAnimationMap.delete(e._indexes[n]),this._movingNodes.delete(e._indexes[n]);for(let n=0;n<t._indexes.length;n++)this._edgeAnimationMap.delete(t._indexes[n]),this._movingEdges.delete(e._indexes[n])}_getLongestAnimation(e,t,n){const r=t.isNode?this._nodeAnimationMap:this._edgeAnimationMap;for(let i=0;i<t._indexes.length;i++){const s=r.get(t._indexes[i]);s&&!n.has(s.id)&&(n.add(s.id),(e.updatesPositions||!s.updatesPositions)&&s.duration+s.startTime<e.duration+e.startTime||(e=s))}return e}_processAnimations(){if(!this._animations.length)return;const e=er(),t=[];this._attributesManager.update();for(const n of this._animations)n.started||(n.started=!0,t.push(n.func),this._attributesManager.setAnimationAttributes(this._getAnimationElements(n),n));for(const n of t)n();for(const n of this._animations)e>=n.startTime+n.duration&&(this._resetAnimationAttributes(this._getAnimationElements(n)),n.resolve(n.elements),n.finished=!0);this._removeFinishedAnimations(),this._animations.length&&this._modules.dom.refresh()}hideTexts(){this.setNodeTextsVisibility(!1),this.setEdgeTextsVisibility(!1)}showTexts(){this.setNodeTextsVisibility(!0),this.setEdgeTextsVisibility(!0)}setNodesVisibility(e){return this._updateVisibilityCounter("nodes",e)}setNodeTextsVisibility(e){return this._updateVisibilityCounter("nodeTexts",e)}setEdgesVisibility(e){return this._updateVisibilityCounter("edges",e)}setEdgeTextsVisibility(e){return this._updateVisibilityCounter("edgeTexts",e)}_updateVisibilityCounter(e,t){this._visibility[e]+=t?-1:1,this._modules.dom.refresh()}detectNode(e,t,n,r,i,s){return Uj(e,t,n,r,i,s,this._modules.graph,this._attributesManager,this._modules.camera,this._engine,this._movingNodes,this._formatText)}detectEdge(e,t,n,r,i){return Vj(e,t,n,r,i,this._modules.graph,this._modules.camera,this._movingNodes,this._attributesManager)}getVisibilityCounters(){return this._visibility}destroy(){this.getGraphicsEngine().destroy(),this.getImageManager().destroy(),this.getFontManager().destroy()}};function f$(e){return typeof e=="number"?e={duration:e}:typeof e=="object"&&e!==null||(e={duration:0}),{duration:_$(e.duration),easing:e.easing||"linear",chain:!!e.chain}}function _$(e){return typeof e!="number"||!isFinite(e)||e<0?0:e}function GS(e,t){const n=t?e.getNodeAttribute("excluded"):e.getEdgeAttribute("excluded"),r=(t?e.getNodes("all"):e.getEdges("all"))._indexes,i=n.getMultiple(r);return n.fill(r,0),{excludedList:n,indexes:r,values:i}}function HS({excludedList:e,indexes:t,values:n}){e.setMultiple(t,n)}function y$(e){return{nodes:GS(e,!0),edges:GS(e,!1)}}function v$({nodes:e,edges:t}){HS(e),HS(t)}var x$=250,b$=50,w$=class extends st{constructor(){super(...arguments),this._onAnyEvents=[],this._registeredEvents={},this.onIdle=Rp(()=>this.fire("idle"),b$)}onMounted(){this._registeredEvents={},this.register(["idle"]),this._ogma.onReady(()=>{this.on(["viewChanged","layoutEnd","addNodes","addEdges","removeNodes","removeEdges","animate","setMultipleAttributes","transformationRefresh"],()=>{this._modules.dom.clearTimeout(this._idleTimeout),this._idleTimeout=this._modules.dom.setTimeout(this.onIdle,x$)})})}isRegistered(e){return!!this._registeredEvents[e]}register(e,t=[]){e.forEach(n=>{if(this._registeredEvents[n])throw new Error(`event "${n}" already exists`);this._registeredEvents[n]=new E$(!1,n)})}onAnyEvent(e){this._onAnyEvents.push(e)}on(e,t){return Array.isArray(e)&&e.forEach(n=>this.on(n,t)),this._registeredEvents[e]?(this._registeredEvents[e].on(t),this):this}off(e){return Object.values(this._registeredEvents).forEach(t=>{t.off(e)}),this}fire(e,t=null){const n=this._getEvent(e);return this._onAnyEvents.forEach(r=>r(t,e)),n.trigger(t),this}once(e,t){const n=this,r=function(){t.apply(null,arguments),n.off(r)};return this.on(e,r)}_getEvent(e){if(!(e in this._registeredEvents))throw new Error(`Event ${e} does not exist`);return this._registeredEvents[e]}destroy(){Object.values(this._registeredEvents).forEach(e=>{e.destroy()})}},E$=class{constructor(e,t){this._subscribers=[],this._handlers=[],this._reverseOrder=e,this._name=t}trigger(e){for(const t of this._handlers)t(e,this._name);return this}on(e){if(typeof e!="function")throw new Error("handler is not a function");const t=this._reverseOrder?0:this._subscribers.length;return this._handlers.splice(t,0,e),this._subscribers.splice(t,0,e),this}off(e){let t;for(;(t=this._subscribers.indexOf(e))!==-1;)this._subscribers.splice(t,1),this._handlers.splice(t,1);return this}destroy(){this._subscribers=[],this._handlers=[]}},S$=class extends st{onMounted(){this._graphics=this._modules.graphics,this._modules.events.register(["setMultipleAttributes"]),this._modules.events.on(["addNodes","addEdges"],({nodes:e,edges:t,objects:n})=>{this._onAddElements(e||t,n)}),this._originalAttributesLayer=this._graphics.addAttributeLayer({name:"original-attributes",priority:sB,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._individualAttributesLayer=this._graphics.addAttributeLayer({name:"individual-attributes",priority:lB,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0})}_onAddElements(e,t){const n=t.map(r=>r.attributes);this._originalAttributesLayer.setAttributeValues(e,n)}getOriginalAttributes(){return this._originalAttributesLayer.getFlexArrays()}getIndividualAttributes(){return this._individualAttributesLayer.getFlexArrays()}setMultipleAttributes(e,t,n){const r=Array.isArray(t)?t.length&&t[0]?Bg(t[0],e.isNode):[]:Bg(t,e.isNode),i=r.includes("x")||r.includes("y");return this._modules.events.fire("setMultipleAttributes",{elements:e,values:t,updatedAttributes:r}),this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,t)},i,n)}setSingleAttribute(e,t,n,r){const i={};return Gi(i,t,n),this.setMultipleAttributes(e,i,r)}resetMultipleAttributes(e,t,n){const r=t||this._individualAttributesLayer.getUsedAttributeNames(e),i=r&&(r.includes("x")||r.includes("y")),s={};for(const o of r)Gi(s,o,void 0);return this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,s)},i,n)}getMultipleAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!1)}getSingleAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!1)}replaceOriginalAttributes(e,t,n=[]){const r={},i=this._originalAttributesLayer.getUsedAttributeNames(e).filter(s=>!n.includes(s));for(let s=0;s<i.length;++s)Gi(r,i[s],void 0);this._originalAttributesLayer.setAttributeValues(e,r),this._originalAttributesLayer.setAttributeValues(e,t)}getSinglePreviousAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!0)}getMultiplePreviousAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!0)}},A$=class extends st{constructor(){super(...arguments),this._currentValue={},this._onChange={},this._defaultValues={},this._keys=[]}onReady(e){e.renderer&&this.update({renderer:e.renderer}),e.options&&this.update(e.options)}register(e,t,n,r){return r===void 0&&(r=!0),this._keys.push(e),this._currentValue[e]=t,this._defaultValues[e]=t,this._onChange[e]=n||ft,n&&r&&n(t),this}update(e){e=fd(e);const t=this._keys,n={},r=this._currentValue;for(let s=0;s<t.length;++s){const o=t[s];if(o in e){let a=e[o];a===void 0&&(a=this._defaultValues[o]),n[o]=r[o],r[o]=a}}const i=Object.keys(n);for(let s=0;s<i.length;++s){const o=i[s],a=this._currentValue[o],l=n[o];a!==l&&this._onChange[o](a,l)}return i0(n)}get(e){return arguments.length===0?i0(this._currentValue):this._currentValue[e]}set(e,t){const n=this._currentValue[e],r=this._onChange[e];this._currentValue[e]=t,r&&r(t,n)}},C$=class{constructor(e,t){this._classes=e,this._name=t}getName(){return this._name}getIndex(){return this._classes.getIndex(this._name)}setIndex(e){return this._classes.setIndex(this._name,e)}update(e){return this._classes.update(this._name,e),this}getDefinition(){return this._classes.getDefinition(this._name)}getNodes(e){return this._classes.getElementsByClass(this._name,e).nodes}getEdges(e){return this._classes.getElementsByClass(this._name,e).edges}clearNodes(e){this.getNodes(e).removeClass(this._name)}clearEdges(e){this.getEdges(e).removeClass(this._name)}add(e){e.addClass(this._name)}remove(e){e.removeClass(this._name)}destroy(){const e=this._classes.getElementsByClass(this._name);return Promise.all([e.nodes.removeClass(this._name),e.edges.removeClass(this._name)]).then(()=>this._classes.removeClass(this._name))}},k$=1e3,T$=.5/k$,L$=class extends st{constructor(){super(...arguments),this._builtinClasses=[],this._userClasses=[],this._classesByName={},this._onExcludedStateChange=({elements:e,value:t})=>{if(t){const n=this._builtinClasses.map(r=>r.name);this._addOrRemoveClassesToElements(n,e,!1)}},this._onClearGraph=()=>{this._builtinClasses.concat(this._userClasses).forEach(e=>e.elementSet.clear())},this._onRemoveElements=({nodes:e,edges:t})=>{const n=e||t;this._builtinClasses.concat(this._userClasses).forEach(r=>r.elementSet.removeElements(n))}}onMounted(){this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on("clearGraph",this._onClearGraph).on("removeEdges",this._onRemoveElements).on("removeNodes",this._onRemoveElements)}_getClassList(e){return e?this._builtinClasses:this._userClasses}createClass({name:e,isBuiltin:t=!1,after:n,nodeAttributes:r,nodeDependencies:i,nodeOutput:s,edgeAttributes:o,edgeDependencies:a,edgeOutput:l}={}){if(typeof e!="string")throw new Error('the "name" argument should be a string');const c=this._getClassList(t),d=n?N$(c,n)+1:c.length;if(d===-1)throw new Error(`createClass: class specified as \`after\` parameter "${n}" does not exist`);if(t&&!e.startsWith("_"))throw new Error(`invalid builtin class name "${e}": builtin classes should start with '_'`);const u=new Xd(this._modules.graph),h=new C$(this,e),g={name:e,elementSet:u,attributeLayer:this._modules.graphics.addAttributeLayer({name:`class(${e})`,tag:e,standaloneSelectors:!0,nodeAttributes:r||void 0,edgeAttributes:o||void 0,nodeSelector:(p,m)=>m.hasElement(p),edgeSelector:(p,m)=>m.hasElement(p),nodeContext:u,edgeContext:u,nodeOutput:s,edgeOutput:l,nodeDependencies:i,edgeDependencies:a}),isBuiltin:t,wrapper:h};return c.splice(d,0,g),t&&c.sort((p,m)=>CE.indexOf(p.name)-CE.indexOf(m.name)),this._updatePriorities(t),this._classesByName[e]=g,this._modules.events.register([Ea(e,!0,!0),Ea(e,!0,!1),Ea(e,!1,!0),Ea(e,!1,!1)]),h}removeClass(e){const t=this._get(e),n=this._getClassList(t.isBuiltin),r=n.indexOf(t);if(r===-1)throw new Error(`class "${e}" does not exist`);return n.splice(r,1),t.attributeLayer.destroy(),delete this._classesByName[e],this._updatePriorities(t.isBuiltin),Promise.resolve(void 0)}_updatePriorities(e){const t=this._getClassList(e),n=cB+(e?.5:0);for(let r=0;r<t.length;++r){const i=t[r],s=n+T$*r;i.attributeLayer.update({priority:s})}}_get(e){const t=this._classesByName[e];if(!t)throw new Error(`class "${e}" does not exist`);return t}getIndex(e){const t=this._get(e);return this._getClassList(t.isBuiltin).indexOf(t)}setIndex(e,t){const n=this._get(e),r=this._getClassList(n.isBuiltin),i=r.indexOf(n),s=Vr(t,0,r.length-1);r.splice(i,1),r.splice(s,0,n),this._updatePriorities(n.isBuiltin)}update(e,{nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a}={}){this._get(e).attributeLayer.update({nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a})}getDefinition(e){const t=this._get(e),{nodeAttributes:n,nodeDependencies:r,nodeOutput:i,edgeAttributes:s,edgeDependencies:o,edgeOutput:a}=t.attributeLayer.getDefinition();return{nodeAttributes:n||void 0,edgeAttributes:s||void 0,nodeDependencies:r,edgeDependencies:o,nodeOutput:i,edgeOutput:a}}_addOrRemoveClassesToElements(e,t,n){const r=t.isNode;for(let i=0;i<e.length;++i){const s=e[i],{elementSet:o,attributeLayer:a}=this._get(s),l=o.addOrRemoveElements(t,n),c=Ea(s,r,n);l.size&&(a.updateElements(l),this._modules.events.fire(c,r?{nodes:l}:{edges:l}))}}_animatedAttributesUpdatePositions(e,t){for(let n=0;n<e.length;++n){const r=e[n],i=this.getDefinition(r);if(t.isNode&&i.nodeAttributes&&(i.nodeAttributes.x||i.nodeAttributes.y))return!0}return!1}_getAnimatedAtrributes(e,t){return e.reduce((n,r)=>{const i=this.getDefinition(r);return t.isNode&&i.nodeAttributes&&n.push(...Bg(i.nodeAttributes,!0)),!t.isNode&&i.edgeAttributes&&n.push(...Bg(i.edgeAttributes,!1)),n},[])}addClassesToElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!0)},i,n)}removeClassesFromElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!1)},i,n)}hasSingleElementClass(e,t){return this._get(e).elementSet.hasElement(t)}getElementsClassList(e,t={}){const{includeBuiltinClasses:n=!1}=t,r=new Array(e.size);for(let i=0;i<r.length;++i)r[i]=[];return this._addClassNamesToList(r,e,this._userClasses),n&&this._addClassNamesToList(r,e,this._builtinClasses),r}_addClassNamesToList(e,t,n){const r=t.toList();for(let i=0;i<n.length;++i){const{name:s,elementSet:o}=n[i];for(let a=0;a<r.size;++a){const l=r.get(a);o.hasElement(l)&&e[a].push(s)}}}getClassByName(e,t=!1){const n=this._classesByName[e]||null;if(t&&!n)throw new Error(`class "${e}" does not exist`);return n&&n.wrapper}getClassList(){return this._userClasses.map(e=>e.wrapper)}getElementsByClass(e,t="visible"){const{elementSet:n}=this._get(e),r=n.getElements();let i=r.nodes,s=r.edges;return t==="visible"?(i=i.filter(o=>o.isVisible()),s=s.filter(o=>o.isVisible())):t==="raw"&&(i=i.filter(o=>!o.isVirtual()),s=s.filter(o=>!o.isVirtual())),{nodes:i,edges:s}}_onClassEvent(e,t,n,r){const i=Ea(e,n,r);this._modules.events.on(i,t)}onNodeClassAdded(e,t){this._onClassEvent(e,t,!0,!0)}onNodeClassRemoved(e,t){this._onClassEvent(e,t,!0,!1)}onEdgeClassAdded(e,t){this._onClassEvent(e,t,!1,!0)}onEdgeClassRemoved(e,t){this._onClassEvent(e,t,!1,!1)}};function Ea(e,t,n){return`${t?"node":"edge"}Class${n?"Added":"Removed"}_${e}`}function N$(e,t){for(let n=0;n<e.length;++n)if(e[n].name===t)return n;return-1}var PP=()=>({x:0,y:0,x1:0,y1:0,x2:0,y2:0});function WS(e,t,n,{cells:r=!0,boxes:i=!0,query:s=!0}={}){const o=t.keys().map(l=>t.keyToBBox(Number(l))),a=t.getBoxes();if(r&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#707070",o.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.stroke()),i&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#ff7070",a.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.closePath(),e.stroke()),s&&n){const l=n;e.beginPath(),e.lineWidth=2,e.strokeStyle="#3030ff",e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),e.closePath(),e.stroke()}}function I$(e){const[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o]=e.getEdgeAttributes(["source","target","curvature"]),a=PP(),l=Ov();return c=>{if(c<0){c=-c;const d=i.get(c),u=s.get(c),h=o.get(c),g=t.get(d),p=n.get(d),m=t.get(u),_=n.get(u);d===u?(da(g,p,h,r.get(d),0,a),em(g,p,a.x1,a.y1,a.x2,a.y2,m,_,l)):h===0?(l.minX=Math.min(g,m),l.minY=Math.min(p,_),l.maxX=Math.max(g,m),l.maxY=Math.max(p,_)):(ki(g,p,m,_,h,a),ax(g,p,a.x,a.y,m,_,l))}else{const d=t.get(c),u=n.get(c),h=r.get(c);l.minX=d-h,l.minY=u-h,l.maxX=d+h,l.maxY=u+h}return[l.minX,l.minY,l.maxX,l.maxY]}}var P$=["x","y","radius"],M$=["width","curvature"],F$=.5,R$=class extends st{constructor(){super(...arguments),this._minCellSize=8,this._clear=()=>{this._index.clear(),this._elementsToUpdate.clear()},this._onGraphUpdate=e=>{if(e.nodes&&(!e.nodeAttributes||e.nodeAttributes.some(t=>P$.includes(t)))){const t=e.nodes.fastGetAdjacentElements().edges;this._elementsToUpdate.addElements(e.nodes),this._elementsToUpdate.addElements(t)}e.edges&&(e.edgeAttributes&&!e.edgeAttributes.some(t=>M$.includes(t))||this._elementsToUpdate.addElements(e.edges))}}onMounted(){this._index=new hO(this._getIntersector(),I$(this._modules.graph),this._minCellSize,1e6),this._elementsToUpdate=new Xd(this._modules.graph),this._removedNodes=this._modules.graph.getNodeAttribute("removed"),this._removedEdges=this._modules.graph.getEdgeAttribute("removed"),this._excludedNodes=this._modules.graph.getNodeAttribute("excluded"),this._excludedEdges=this._modules.graph.getEdgeAttribute("excluded"),this._queryResult={edges:[],nodes:[]},this._queryBounds=[0,0,0,0],this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges","updateAttributes"],this._onGraphUpdate).on("excludedStateChange",({elements:e})=>{this._elementsToUpdate.addElements(e)}).on("clearGraph",this._clear)}_getIntersector(){const e=this._modules.graph,[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o,a]=e.getEdgeAttributes(["source","target","width","curvature"]),l=PP();return(c,d,u,h,g)=>{if(c<0){c=-c;const p=i.get(c),m=s.get(c),_=a.get(c),y=o.get(c)/2,f=t.get(p),v=n.get(p),x=t.get(m),w=n.get(m);return p===m?(da(f,v,_,r.get(p),0,l),VL(f,v,l.x1,l.y1,l.x2,l.y2,x,w,d-y,u-y,h+y,g+y)):_===0?nx(f,v,x,w,d-y,u-y,h+y,g+y):(ki(f,v,x,w,_,l),UL(f,v,l.x,l.y,x,w,d-y,u-y,h+y,g+y))}return Uv(t.get(c),n.get(c),r.get(c),d,u,h,g)}}reindex(){this._modules.graphics.forceAttributesComputation(),this._index.clear(),this._elementsToUpdate.clear(),this._updateItems(this._modules.graph.getNodes("all")._indexes,this._modules.graph.getEdges("all")._indexes)}getSize(){return this._index.size}_updateIndex(){if(!this._elementsToUpdate.isEmpty()){const{nodes:e,edges:t}=this._elementsToUpdate.getElements();if(e._indexes.length/this._modules.graph.getNodes("all").size>F$)return void this.reindex();this._updateItems(e._indexes,t._indexes),this._elementsToUpdate.clear()}}_updateItems(e,t){const n=this._index,r=this._removedNodes,i=this._removedEdges,s=this._excludedNodes,o=this._excludedEdges,a=[],l=[];if(r&&s)for(let c=0;c<e.length;c++){const d=e[c];r.get(d)!==0||s.get(d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}if(i&&o)for(let c=0;c<t.length;c++){const d=-t[c];i.get(-d)!==0||o.get(-d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}for(const c of a)n.remove(c);for(const c of l)n.insert(c)}getNodesInScreenByDistance(e){const{x:t,y:n}=e.getPositionOnScreen();return this._modules.graph.getNodes().filter(r=>r.isInScreen()&&r!==e).sort((r,i)=>{const s=r.getPositionOnScreen(),o=i.getPositionOnScreen();return _n(s.x,s.y,t,n)-_n(o.x,o.y,t,n)})}getNearestNodesForNode(e,t=240,n){const{x:r,y:i}=e.getPosition();return this.getNearestNodes(r,i,t,n,e)}getNearestNodes(e,t,n,r,i){if(this._updateIndex(),r){const s=this._modules.camera.screenToGraphVector({x:n,y:n});n=_n(0,0,s.x,s.y)}return this._getNearestNodes(e,t,n,i)}_getNearestNodes(e,t,n,r){const i=[],s=n*n,o=r?r._index:0,a=this._modules.graph.getNodes()._indexes,[l,c]=this._modules.graph.getNodeAttributes(["x","y"]);for(let d=0,u=a.length;d<u;d++){const h=a[d];if(h===o)continue;const g=e-l.get(h),p=t-c.get(h);g*g+p*p<=s&&i.push(h)}return this._modules.graph.nodeList(new Uint32Array(i))}queryRaw(e,t,n,r){this._updateIndex();const i=this._queryBounds;i[0]=e,i[1]=t,i[2]=n,i[3]=r;const s=this._index.query(e,t,n,r),{nodes:o,edges:a}=this._queryResult;o.length=a.length=0;for(let l=0;l<s.length;l++){const c=s[l];c<0?a.push(-c):o.push(c)}return this._queryResult}queryRawProjected(e,t,n,r){const i=this._queryBounds;return i[0]=e,i[1]=t,i[2]=n,i[3]=r,this._modules.camera.projectBounds(i),this.queryRaw(i[0],i[1],i[2],i[3])}query(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRaw(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}queryProjected(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRawProjected(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}getNodesByBoundingBox(e,t,n,r,i){if(this._updateIndex(),i){let u;u=this._modules.camera.screenToGraphVector({x:e,y:t}),e=u.x,t=u.y,u=this._modules.camera.screenToGraphVector({x:n,y:r}),n=u.x,r=u.y}const s=this._modules.graph,o=s.getNodes()._indexes,a=[],l=s.getNodeAttribute("excluded"),[c,d]=s.getNodeAttributes(["x","y"]);for(let u=0,h=o.length;u<h;u++){const g=o[u];if(l&&l.get(g))continue;const p=c&&c.get(g),m=d&&d.get(g);p>=e&&p<=n&&m>=t&&m<=r&&a.push(g)}return s.nodeList(new Uint32Array(a))}toggleDebug(e){e?(this._layer=this._modules.layers.addCanvasLayer(t=>{WS(t,this._index,this._queryBounds)},{isStatic:!1,noClear:!1}),this._layer.moveToTop()):this._layer&&(this._layer.destroy(),this._layer=null)}renderDebug(e){if(!this._layer)return this.toggleDebug(!0);this._layer.refresh(t=>{WS(t,this._index,this._queryBounds,e)})}},MP={};function tm(e,t,n,r,i=0,s=Math.sin(i),o=Math.cos(i),a=[0,0,0,0]){const l=n/2,c=r/2,d=e+l,u=t+c;if(i===0)return a[0]=e,a[1]=t,a[2]=e+n,a[3]=t+r,a;let h,g,p,m,_,y,f,v;return p=-l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,_=f=h,y=v=g,p=-l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>v&&(v=g),p=l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>v&&(v=g),p=l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>v&&(v=g),a[0]=_,a[1]=y,a[2]=f,a[3]=v,a}function eu(e,t,n,r,i=0){const s=n/2,o=r/2,a=e+s,l=t+o;if(i===0)return[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}];const c=Math.sin(i),d=Math.cos(i);let u,h,g,p;g=-s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d;const m={x:u,y:h};g=-s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const _={x:u,y:h};g=s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const y={x:u,y:h};return g=s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d,[m,_,y,{x:u,y:h}]}function V0(e,t=0,n=1,r=DL.slice()){const i=n*Math.sin(t),s=n*Math.cos(t);return r[0]=e[0]+i,r[1]=e[1]+s,r[2]=e[2]+i,r[3]=e[3]+s,r}function D$(e,t){return OL(e,t)}function z$(e,t){return FP(e[0],e[1],e[2],e[3],t[0],t[1],t[2],t[3])}function O$(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function FP(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}Wd(MP,{angle:()=>yj,circleCircleIntersection:()=>jv,circleContainsCircle:()=>Yz,circleContainsPoint:()=>Xz,circleIntersectsBox:()=>Uv,circleLineIntersection:()=>BL,circleSortCompare:()=>$v,computeCentroid:()=>ix,cubicBezierAABB:()=>VL,defaultAABB:()=>DL,degreesToRadians:()=>qz,distToSegmentSquared:()=>rx,distance:()=>_n,distancePointSegment:()=>iI,extendBounds:()=>OL,getAABB:()=>tm,getBezierCurveBoundingBox:()=>em,getClosestPointOnLine:()=>xj,getClosestPointOnSegment:()=>sI,getNormalOnEdge:()=>Rj,getNormalOnQuadraticCurve:()=>lI,getOBBPoints:()=>eu,getPointOnBezierCurve:()=>kd,getPointOnEdge:()=>Fj,getPointOnQuadraticCurve:()=>Jp,getQuadraticBezierCurveLength:()=>zj,getQuadraticCurveBoundingBox:()=>ax,getQuadraticCurveControlPoint:()=>ki,getSelfLoopControlPoints:()=>da,getTangentOnEdge:()=>Dj,getTangentOnQuadraticCurve:()=>ox,intersects:()=>O$,isPointInLine:()=>nI,isPointInPolygon:()=>Cd,isPointOnBezierCurve:()=>dI,isPointOnQuadraticCurve:()=>cI,lineAABB:()=>nx,lineAngle:()=>xl,lineIntersection:()=>vj,lineLine:()=>Ya,move:()=>Wz,moveAABB:()=>V0,normalize:()=>zL,overlaps:()=>FP,overlapsAABB:()=>z$,padBounds:()=>D$,polygonsIntersect:()=>oI,quadBezierAABB:()=>UL,radiansToDegrees:()=>_0,rotate:()=>Tg,segmentIntersection:()=>gc,segmentRectangleIntersection:()=>rI,squaredDistance:()=>Mh,twoSegmentsIntersect:()=>_j});var Ku=40;function RP(e,t){const n=e.getAttribute("curvature"),r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen();if(r===i){const m=(n+r.getAttribute("radius"))*Dg*t,_=s.x,y=s.y,f=_-m,v=y,x=_,w=y+m;return[s,...[.2,.4,.6,.8].map(b=>kd(b,_,y,_,y,f,v,x,w)),s]}const o=i.getPositionOnScreen();if(n===0)return[s,o];const a=o.x-s.x,l=o.y-s.y,c=Math.sqrt(a*a+l*l),d=(s.x+o.x)/2,u=(s.y+o.y)/2,h=n*(c/Qp)*2,g=d+l/c*h,p=u+-a/c*h;return[s,...[.25,.5,.75].map(m=>Jp(m,s.x,s.y,o.x,o.y,g,p)),o]}function B$(e,t,n){const r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen(),o=i.getPositionOnScreen();if(Cd(s.x,s.y,t)||Cd(o.x,o.y,t))return!0;const a=RP(e,n);for(let l=0;l<a.length-1;++l){const c=a[l],d=a[l+1];for(let u=0;u<t.length-1;++u){const h=t[u],g=t[u+1];if(Ya(c.x,c.y,d.x,d.y,h.x,h.y,g.x,g.y))return!0}}return!1}function j$(e,t,n){const r=e.getPositionOnScreen(),i=Number(e.getAttribute("radius"))*n,s=r.x-i,o=r.y-i,a=r.x+i,l=r.y+i;return a>=t.minX&&s<=t.maxX&&l>=t.minY&&o<=t.maxY}function $$(e,t,n){const r=RP(e,n);for(let i=0;i<r.length-1;++i){const s=r[i],o=r[i+1];if(nx(s.x,s.y,o.x,o.y,t.minX,t.minY,t.maxX,t.maxY))return!0}return!1}function qS(e,t,n,r){typeof n=="number"&&(n={left:n,right:n,top:n,bottom:n});const i=n.left===void 0?Ku:n.left,s=n.right===void 0?Ku:n.right,o=n.top===void 0?Ku:n.top,a=n.bottom===void 0?Ku:n.bottom,l=i+s,c=o+a,d=e.width===0?e.maxFixedSize:e.width,u=e.height===0?e.maxFixedSize:e.height,h=d$([(t.width-l)/(d+e.maxScaledSize),(t.height-c)/(u+e.maxScaledSize),(t.width-l-e.maxFixedSize)/d,(t.height-c-e.maxFixedSize)/u,r/e.maxScaledSize||NaN]);return{x:e.cx+(s-i)/(2*h),y:e.cy+(a-o)/(2*h),zoom:h}}var U$="quadraticInOut",XS=200,V$=class extends st{constructor(){super(...arguments),this._isLocating=!1,this._cacheValid=!0,this._cachedGraphBoundingBox=new Cn,this._invalidCache=()=>{this._cacheValid=!1}}onMounted(){this._modules.events.on(["addNodes","removeNodes","addEdges","removeEdges","excludedStateChange","clearGraph","updateAttributes"],this._invalidCache)}onReady(){this.locateGraph({},!0)}locateGraph(e,t=!1){return this._onLocateStart(),t?this._locateGraph(e):this._modules.transformations.whenApplied().then(()=>this._locateGraph(e))}_locateGraph(e){return this._locateBoundingBox(this.getGraphBoundingBox(),e).then(()=>this._onLocated())}locateElements(e,t){return this._modules.transformations.whenApplied().then(()=>this._locateBoundingBox(this.getBoundingBox(e),t)).then(()=>this._onLocated())}locateRawGraph(e,t){return this._onLocateStart(),this._locateBoundingBox(this.getRawGraphBoundingBox(e),t).then(()=>this._onLocated())}_onLocateStart(){this._isLocating=!0}_onLocated(){this._isLocating=!1}isLocating(){return this._isLocating}getGraphBoundingBox(e=!1){return e?this.getBoundingBox(this._ogma.getNodes(),!0,e):(this._cacheValid||this._updateCache(),Object.assign({},this._cachedGraphBoundingBox))}forceInvalidCache(){this._invalidCache()}_updateCache(){this._cacheValid=!0,this._cachedGraphBoundingBox=this.getBoundingBox(this._modules.graph.getNodes())}getBoundingBox(e,t=!1,n=!1,r){let i;if(i=e.isNode?this._getNodesBoundingBox(e.toList(),t):this._getEdgesBoundingBox(e.toList(),r),n){const s=this._ogma.modules.labels.getTextsBoundingBox(e.isNode?e.toList():null,e.isNode?null:e.toList());i=i.extend(s)}return i}_getNodesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getNodeAttributes(),r=[],i=[],s=[],o=[];for(let a=0;a<e.size;++a){const l=e._indexes[a];if(n.excluded.get(l)===0){const c=n.x.get(l),d=n.y.get(l),u=n.radius.get(l),h=2*u;n.scalingMethod.get(l)==="scaled"?s.push(h):o.push(h),t?(r.push(c-u,c+u),i.push(d-u,d+u)):(r.push(c),i.push(d))}}return new Cn({xValues:r,yValues:i,scaledSizeValues:s,fixedSizeValues:o})}_getEdgesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getEdgeAttributes(),r=this._modules.graphics.getNodeAttributes(),i={x1:0,y1:0,x2:0,y2:0},s={x:0,y:0},o={minX:0,minY:0,maxX:0,maxY:0},a=[],l=[],c=[],d=[];for(let u=0;u<e.size;++u){const h=e._indexes[u],g=n.source.get(h),p=n.target.get(h),m=n.curvature.get(h),_=r.x.get(g),y=r.y.get(g),f=r.scalingMethod.get(g)==="scaled",v=2*r.radius.get(g),x=r.x.get(p),w=r.y.get(p),b=r.scalingMethod.get(p)==="scaled",A=2*r.radius.get(p);f?c.push(v):d.push(v),b?c.push(A):d.push(A),t||m===0?(a.push(_,x),l.push(y,w)):g===p?(da(_,y,m,v/2,0,i),em(_,y,i.x1,i.y1,i.x2,i.y2,x,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY)):(ki(_,y,x,w,m,s),ax(_,y,s.x,s.y,x,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY))}return new Cn({xValues:a,yValues:l,scaledSizeValues:c,fixedSizeValues:d})}getRawGraphBoundingBox(e){const t=e.nodes.length,n=new Array(t),r=new Array(t),i=new Array(t);for(let s=0;s<t;s++){const o=e.nodes[s].attributes||{};n[s]=o.x||0,r[s]=o.y||0,i[s]=o.radius||5}return new Cn({xValues:n,yValues:r,scaledSizeValues:i})}_locateBoundingBox(e,t={}){if(isNaN(e.cx))return Promise.resolve();const{padding:n={},easing:r=U$,duration:i=0,maxNodeSizeOnScreen:s=XS,ignoreZoomLimits:o=!1}=t,a=qS(e,this._modules.dom.getDimensions(),n,s),l=a.x,c=a.y,d=a.zoom,u=d/this._modules.camera.getZoom();return this._moveCamera(l,c,d,i,r,u,o)}_moveCamera(e,t,n,r,i,s,o){return s>1.01?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5})):s<.99?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o})):this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o})}computeConfigForBounds(e,t={}){const{padding:n={},maxNodeSizeOnScreen:r=XS}=t;return qS(e,this._modules.dom.getDimensions(),n,r)}layoutDataBoundingBox({x:e,y:t,indexes:n}){const r=this._modules.graphics.getNodeAttributes(),i=[],s=[],o=[],a=[];for(let l=0;l<n.length;++l){const c=n[l],d=e[l],u=t[l],h=2*r.radius.get(c),g=r.scalingMethod.get(c)==="scaled";i.push(d),s.push(u),g?o.push(h):a.push(h)}return new Cn({xValues:i,yValues:s,scaledSizeValues:o,fixedSizeValues:a})}isEdgeInPolygon(e,t){return B$(e,t,this._modules.camera.getZoom())}isElementInView(e,{margin:t=0}={}){const{width:n,height:r}=this._modules.camera.getSize(),i={minX:-t,minY:-t,maxX:n+t,maxY:r+t};return e.isNode?this.isNodeInRectangle(e,i):this.isEdgeInRectangle(e,i)}isNodeInRectangle(e,t){return j$(e,t,this._modules.camera.getZoom())}isNodeInPolygon(e,t){const n=e.getPositionOnScreen();return Cd(n.x,n.y,t)}isEdgeInRectangle(e,t){return $$(e,t,this._modules.camera.getZoom())}},G$=ea&&typeof navigator<"u"&&"msLaunchUri"in navigator&&ms&&!("documentMode"in document);function H$(e){return G$?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Lr():e.deltaY&&e.deltaMode===1?20*-e.deltaY:e.deltaY&&e.deltaMode===2?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var W$=6,q$=class extends st{constructor(){super(...arguments),this._px=0,this._py=0,this._pressX=0,this._pressY=0,this._left=!1,this._middle=!1,this._right=!1,this._clickCounter={left:0,middle:0,right:0},this._buttons={left:!1,middle:!1,right:!1},this._skipNextMove=!1,this._onMouseWheel=e=>{this._isEnabled()&&this._isWheelEnabled()&&(!this._disableWheelUntilMouseDown()||this._modules.dom.hasFocus())&&(e.preventDefault(),e.stopPropagation(),this._applyMouseWheelZoom(e))},this._onMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=t-this._px,i=n-this._py;r===0&&i===0||(this._skipNextMove?this._skipNextMove=!1:_n(t,n,this._pressX,this._pressY)>=W$&&(this._resetClickCounter(),this._modules.events.fire("mousemoveInternal",{x:t,y:n,dx:r,dy:i,domEvent:this._evt})))},this._onDocumentMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._bounds,i=t-this._px,s=n-this._py;(t<0||t>r.width||n<0||n>r.height)&&this._modules.events.fire("documentMouseMove",{x:t,y:n,dx:i,dy:s,domEvent:this._evt})},this._onMouseUp=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._evt;this._buttons[r]=!1,this._clickCounter[this._button]===1?this._modules.events.fire("clickInternal",{button:r,x:t,y:n,domEvent:i}):this._clickCounter[r]>1&&(this._modules.events.fire("doubleclickInternal",{button:r,x:t,y:n,domEvent:i}),this._resetClickCounter(r)),this._modules.events.fire("mouseupInternal",{button:r,x:t,y:n,domEvent:i})},this._onDocumentMouseup=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button;this._buttons[r]=!1;const i=this._modules.dom;this._modules.events.fire("documentMouseUp",{button:r,x:t,y:n,domEvent:this._evt}),i.removeDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.removeDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onMouseDown=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._modules.dom;this._skipNextMove=!0,this._pressX=t,this._pressY=n,this._lastMouseDownTarget=e.target,i.focus(),this._buttons[r]=!0,this._clickCounter[r]+=1;const s=r;this._dbclickTimer=i.setTimeout(()=>{this._resetClickCounter(s,0)},this._getDoubleClickTimer()),this._modules.events.fire("mousedownInternal",{button:r,x:t,y:n,domEvent:this._evt}),i.addDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.addDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onDrop=e=>{if(!this._isEnabled()||!this._setXY(e))return;e.preventDefault();const{x:t,y:n}=this._modules.camera.screenToGraphCoordinates(this._modules.position);this._modules.events.fire("drop",{domEvent:this._evt,x:t,y:n})}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("mouse.enabled",!0),this._modules.settings.register("mouse.wheelEnabled",!0),this._modules.settings.register("mouse.disableWheelUntilMouseDown",!1),this._modules.settings.register("mouse.doubleClickTimer",500),this._modules.events.register(["mousedownInternal","mouseupInternal","mousemoveInternal","mousewheelInternal","clickInternal","doubleclickInternal","mouseoverInternal","mouseoutInternal","documentMouseUp","documentMouseMove","drop"]),this._modules.dom.afterNextFrame().then(()=>this._initializeListeners())}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get left(){return this._left}get right(){return this._right}get middle(){return this._middle}_isEnabled(){return this._modules.settings.get("mouse.enabled")}_isWheelEnabled(){return this._modules.settings.get("mouse.wheelEnabled")}_disableWheelUntilMouseDown(){return this._modules.settings.get("mouse.disableWheelUntilMouseDown")}_getDoubleClickTimer(){return this._modules.settings.get("mouse.doubleClickTimer")}_resetClickCounter(e,t=0){e?this._clickCounter[e]=t:(this._clickCounter.left=t,this._clickCounter.middle=t,this._clickCounter.right=t),this._modules.dom.clearTimeout(this._dbclickTimer),this._lastMouseDownTarget=null}_setXY(e){const t=this._domElt.getBoundingClientRect();return this._bounds=t,!!t&&(this._evt=e,this._button=Pv[e.button],this._px=this._modules.position.x,this._py=this._modules.position.y,this._modules.position.x=e.clientX-t.left,this._modules.position.y=e.clientY-t.top,this._left=this._buttons.left,this._right=this._buttons.right,this._middle=this._buttons.middle,!0)}_applyMouseWheelZoom(e){this._setXY(e)&&this._modules.events.fire("mousewheelInternal",{delta:H$(e),x:this._modules.position.x,y:this._modules.position.y,domEvent:this._evt})}_initializeListeners(){const e=this._domElt,t=this._modules.dom;Fp&&this._modules.dom.addElementEventListener(document,"contextmenu",r=>{this._lastMouseDownTarget&&r.target!==this._lastMouseDownTarget&&r.preventDefault()}),t.addElementEventListener(e,"contextmenu",r=>{this._setXY(r),this._modules.dom.hasFocus()&&this._modules.settings.get("mouse.enabled")&&r.preventDefault()},!1);const n="onwheel"in e?"wheel":e.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";t.addElementEventListener(e,n,this._onMouseWheel),t.addElementEventListener(e,"mousemove",this._onMouseMove),t.addElementEventListener(e,"mouseleave",r=>{if(!this._isEnabled())return;this._modules.dom.blur();const i=e.getBoundingClientRect();r.clientX>=i.left+1&&r.clientX<=i.right-1&&r.clientY>=i.top+1&&r.clientY<=i.bottom-1||this._modules.events.fire("mouseout",{domEvent:this._evt})}),t.addElementEventListener(e,"mousedown",this._onMouseDown),t.addElementEventListener(e,"mouseup",this._onMouseUp),t.addElementEventListener(e,"dragover",r=>{r.preventDefault()}),t.addElementEventListener(e,"drop",this._onDrop)}},X$={doubleTapTimer:500,touchEventRate:15},Y$=class extends st{constructor(){super(...arguments),this._pressed=!1,this._addEvent=(e,t,n,r)=>{this._modules.dom.addElementEventListener(e,t,n,r)},this._addWinEvent=(e,t,n,r)=>{this._modules.dom.addDirectWindowEventListener(t,n,r)},this._removeWinEvent=(e,t,n)=>{this._modules.dom.removeDirectWindowEventListener(t,n)}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("touch.enabled",!0),this._modules.events.register(["touchDown","touchUp","touchTap","touchDoubleTap","touchMove","touchStartGesture","touchProgressGesture","touchEndGesture","documentTouchMove","documentTouchUp"]),this._modules.dom.afterNextFrame().then(()=>{this._initialize(this)})}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get pressed(){return this._pressed}_listen(e,t,n){if(tN){if(t==="touchstart")return WO(this._addEvent,e,n);if(t==="touchmove")return XO(this._addWinEvent,e,n);if(t==="touchend")return YO(this._addWinEvent,e,n);if(t==="touchcancel")return qO(this._addWinEvent,e,n)}return this._modules.dom.addElementEventListener(e,t,n)}_initialize(e){let t=0,n=0,r=0,i=0,s=!1,o="left",a=0,l=!1,c=!1,d=0,u=null,h=null;const g=()=>{this._modules.position.x=t,this._modules.position.y=n,this._pressed=s},p=(x,w)=>{const b=this._domElt.getBoundingClientRect();if(!b||x.touches==null)return null;const[A,S]=x.touches,k=A.clientX-b.left,C=A.clientY-b.top,N=S.clientX-b.left,D=S.clientY-b.top,j=(k+N)/2,U=(C+D)/2,F=j-t,T=U-n,q=_n(k,C,N,D),V=this._modules.settings.get("interactions.zoom.speed")||U0,J=YN(q,V),oe=xl(k,C,N,D),ie={dx:F,dy:T,rotation:oe-d,scale:J};return((pe,Ce,ce,ve)=>{d=Ce,t=ce,n=ve,g()})(0,oe,j,U),ie},m=x=>{if(x.touches&&x.touches.length===2&&c){const w=p(x);if(w){const{dx:b,dy:A,rotation:S,scale:k}=w;this._modules.events.fire("touchProgressGesture",{dx:b,dy:A,rotation:S,scale:k,x:t,y:n,domEvent:u,button:o})}}},_=x=>{if(o=Pv[x.button],!x.touches)return!1;if(x.touches.length!==1)return s=!1,x.touches.length>1&&this._modules.events.fire("touchUp",{x:t,y:n,domEvent:u,button:o}),!1;const w=this._domElt.getBoundingClientRect();return w&&(r=t,i=n,t=x.touches[0].clientX-w.left|0,n=x.touches[0].clientY-w.top|0,s=!0,u=x,g()),!0},y=()=>{a=0,this._modules.dom.clearTimeout(h)},f=x=>{if(x.preventDefault(),!x.touches)return;if(x.touches.length!==2&&c&&(c=!1,this._modules.events.fire("touchEndGesture",{domEvent:u})),_(x),x.touches.length===0){const b={x:t,y:n,domEvent:u,button:o};a===1&&this._modules.events.fire("touchTap",b),a>1&&(this._modules.events.fire("touchDoubleTap",b),y()),this._modules.events.fire("touchUp",b)}const w=fs().documentElement;wE(this._removeWinEvent,w,"touchmove",this._onMove),wE(this._removeWinEvent,w,"touchend",this._onEnd)},v=x=>{m(x),l?l=!1:(y(),_(x)&&this._modules.events.fire("touchMove",{x:t,y:n,dx:t-r,dy:n-i,domEvent:u,button:o}))};this._listen(this._domElt,"touchstart",x=>{if(!x.touches)return;x.touches.length!==2||c||p(x)&&(c=!0,this._modules.events.fire("touchStartGesture",{domEvent:u})),_(x)&&(this._modules.dom.focus(),this._modules.events.fire("touchDown",{x:t,y:n,domEvent:u,button:o}),a+=1,h=this._modules.dom.setTimeout(y,X$.doubleTapTimer),l=!0);const w=fs().documentElement;this._onMove=this._listen(w,"touchmove",v),this._onEnd=this._listen(w,"touchend",f)})}},YS=["x","y","radius"],Ju=-1e7,Z$=class extends st{constructor(){super(...arguments),this._visibleGroups=new Set,this._visualGroupsLayers=new Map,this._groupsToHide=[],this._paddingMap=new Map,this._shouldUpdateGroups=!1,this._onGroupingRun=({metaNodes:e,padding:t})=>{isNaN(+t)?e._indexes.forEach((n,r)=>this._paddingMap.set(n,t[r])):e._indexes.forEach(n=>this._paddingMap.set(n,t)),this._shouldUpdateGroups=!0},this._onRemoveNodes=({nodes:e})=>{e.forEach(t=>this.removeVisibleGroup(t))},this._onSetMultipleAttributes=({elements:e,values:t,options:n})=>{if(this._recursiveGuard||!this._visibleGroups.size)return;const r=e.toList().map((i,s)=>({group:i,translation:t.constructor===Array?{x:t[s]&&t[s].x||0,y:t[s]&&t[s].y||0}:{x:t.x||0,y:t.y||0},isGroup:i.isNode&&this._visibleGroups.has(i._index)})).filter(({isGroup:i})=>i);r.length&&(this._recursiveGuard=!0,r.forEach(({group:i,translation:s})=>this.animateChildren(i,n,s)),this._recursiveGuard=!1)},this._updateVisualGroups=(e,t,n)=>{const r=n.nodes.getUpdatedElementsList().filter(l=>l),i=e.nodes.outputFlexArrays,s=e.nodes.inputFlexArrays,o=this._visibleGroups;if(r.size===0||o.size===0&&!this._groupsToHide.length)return e.nodes.toUpdate.clear(),e.edges.toUpdate.clear(),i.radius.reset(),i.x.reset(),i.y.reset(),void(e.nodes.formattedOutput&&(e.nodes.formattedOutput.attributes=[]));const a=n.nodes.getUpdatedAttributes();for(;this._groupsToHide.length>0;){const l=this._groupsToHide.pop();i.radius.set(l,void 0),i.x.set(l,void 0),i.y.set(l,void 0)}if(a.has("x")||a.has("y")||a.has("radius")||this._shouldUpdateGroups){this._shouldUpdateGroups=!1;const l=this._getAllSubNodes(r);let c=this._getAllMetaNodes(r);const d=e.nodes.toUpdate,u=e.edges.toUpdate,h=this._subNodeOffsetX,g=this._subNodeOffsetY;e.nodes.formattedOutput&&e.nodes.output&&(e.nodes.formattedOutput.attributes=YS,e.nodes.output.attributes=YS);const p=new Set;r.forEach(m=>{const _=m._index;i.x.set(_,void 0),i.y.set(_,void 0),p.add(_)}),l.forEach(m=>{if(!s)return;const _=m.getMetaNode(),y=m._index;let f=s.x.get(y),v=s.y.get(y);if(_&&o.has(_._index)){const x=h.get(y),w=g.get(y),b=i.x.get(_._index),A=i.y.get(_._index),S=f-b,k=v-A;if(x===Ju||w===Ju)return h.set(y,S),g.set(y,k),void(c.includes(_)||(c=c.concat(_.toList())));d.addIndex(y),u.add(m.getAdjacentEdges()),p.has(y)||x===S&&w===k||(f=b+x,v=A+w,i.x.set(y,f),i.y.set(y,v)),h.set(y,f-b),g.set(y,v-A)}}),c.forEach(m=>{const _=m.getSubNodes();if(!_)return;const y=i.x.getMultiple(_._indexes),f=i.y.getMultiple(_._indexes),v=i.radius.getMultiple(_._indexes),x=Cn.fromValues(y,f,v),[w,b,A]=x.width===x.height&&x.width===x.maxScaledSize?[x.cx,x.cy,x.maxScaledSize]:Up(y,f,v),S=this._paddingMap.get(m._index)||0;_.forEach((k,C)=>{h.set(k._index,y[C]-w),g.set(k._index,f[C]-b)}),i.x.set(m._index,w),i.y.set(m._index,b),i.radius.set(m._index,A+S),d.addIndex(m._index),u.add(m.getAdjacentEdges())}),n.nodes.addUpdatedAttribute("radius"),n.nodes.addUpdatedAttribute("x"),n.nodes.addUpdatedAttribute("y"),n.nodes.redrawElements(c)}}}onMounted(){this._subNodesList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._subEdgesList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._metaNodeList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._metaEdgeList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._subNodeOffsetX=this._modules.graph.createNodeAttribute({storage:"float",default:Ju},!1),this._subNodeOffsetY=this._modules.graph.createNodeAttribute({storage:"float",default:Ju},!1),this._recursiveGuard=!1,this._modules.events.register(["groupingRun"]),this._modules.events.on("setMultipleAttributes",this._onSetMultipleAttributes).on("groupingRun",this._onGroupingRun).on("removeNodes",this._onRemoveNodes),this._groupAttributeLayer=this._modules.graphics.addAttributeLayer({name:`internal(${uB})`,priority:7,nodeSelector:e=>this._visibleGroups.has(e._index),edgeSelector:e=>e.isVirtual(),nodeAttributes:{layer:e=>this._visualGroupsLayers.get(e._index)},nodeOutput:{attributes:["layer"]},nodeDependencies:{self:{data:!1,attributes:["radius"],hover:!0},adjacentNodes:{attributes:"all"},adjacentEdges:{attributes:"all"}}}),this._topologyLayer=this._modules.graphics.addAttributeLayer({name:"internal(position-forcer)",priority:6.9,nodeDependencies:{self:{attributes:["x","y","radius"]},adjacentNodes:{attributes:"all"}},onBeforeUpdate:this._updateVisualGroups,nodeOutput:{attributes:["x","y","radius","layer"]}})}animateChildren(e,t,n){n.x===0&&n.y===0||e.getSubNodes().forEach(r=>{const i=this._subNodeOffsetX.get(r._index),s=this._subNodeOffsetY.get(r._index),o={x:n.x+i,y:n.y+s};r.setAttributes(o,t),r.getSubNodes()&&this.animateChildren(r,t,o)})}resetOffsets(){this._recursiveGuard=!0;const e=this._modules.graph.getNodes(),t=this._topologyLayer.getFlexArrays().nodes;e.setAttribute("x",t.x.getMultiple(e._indexes)),e.setAttribute("y",t.y.getMultiple(e._indexes)),t.x.reset(),t.y.reset(),this._recursiveGuard=!1}addVisibleGroup(e,t){this._visualGroupsLayers.set(e._index,t),this._visibleGroups.add(e._index)}getNodeDepth(e){return this._visualGroupsLayers.get(e._index)||0}removeVisibleGroup(e){const t=e._index;this._visibleGroups.delete(t)&&(this._groupsToHide.push(t),this._visualGroupsLayers.delete(t))}_getAllSubNodes(e){const t=Array.from(e._indexes),n=[],r=this._visibleGroups,i=this._subNodesList;for(;t.length!==0;){const s=t.pop();if(s!=null&&r.has(s)){const o=i.get(s),a=Array.from(o._indexes);n.push.apply(n,a),t.unshift.apply(t,a)}}return this._modules.graph.nodeList(new Uint32Array(n))}_getAllMetaNodes(e){const t=Array.from(e._indexes),n=this._visibleGroups,r=this._metaNodeList,i=[],s=new Set;for(;t.length!==0;){const o=t.pop();if(o!=null){const a=r.get(o);a!==null&&!s.has(a._index)&&n.has(a._index)&&(s.add(a._index),i.push(a._index),t.unshift(a._index))}}return this._modules.graph.nodeList(new Uint32Array(i))}isVisibleGroup(e){return this._visibleGroups.has(e._index)}getSubNodeOffset(e){return{x:this._subNodeOffsetX.get(e._index),y:this._subNodeOffsetY.get(e._index)}}_fetchSubEltsList(e){return e?this._subNodesList:this._subEdgesList}_fetchMetaEltList(e){return e?this._metaNodeList:this._metaEdgeList}setSubElements(e,t){this._fetchSubEltsList(e.isNode).setMultiple(e._indexes,t)}setMetaElement(e,t){this._fetchMetaEltList(e.isNode).setMultiple(e._indexes,t)}getSubElements(e){return this._fetchSubEltsList(e.isNode).getMultiple(e._indexes)}getMetaElement(e){return this._fetchMetaEltList(e.isNode).getMultiple(e._indexes)}},Q$=class extends st{constructor(){super(...arguments),this._list=[],this._idCounter=0,this._mustRefresh=!1,this._safeGuard=!1,this._preventFiringEvents=!1,this._afterCurrentUpdate=Promise.resolve(),this._destroyed=!1,this._update=()=>{let e=Promise.resolve();this._modules.captor.setDetectionEnabled(!1);const t=this._list.filter(({shouldDo:o})=>o),n=this._list.filter(({enabled:o,shouldUndo:a})=>o||a);let r,i,s=!1;if(n.length===1&&t.length===0&&ZS(n,t,t.length)){const o=n.pop();r=o?[o]:[],i=[],s=!0}else if(t.length===1&&n.length===0&&ZS(n,t,n.length)){r=[];const o=t.pop();i=o?[o]:[],s=!0}else r=n,i=t,s=!1;return e=e.then(()=>this._resolveTransformations(r,i,s)).then(()=>this._modules.captor.setDetectionEnabled(!0)).then(()=>{r.filter(({shouldUndo:o})=>o).forEach(o=>{o.shouldUndo=!1,o.enabled=!1}),i.forEach(o=>{o.shouldDo=!0,o.enabled=!0})}),e}}onMounted(){this._modules.classes.createClass({name:ln,isBuiltin:!0,nodeAttributes:{opacity:0,radius:0},edgeAttributes:{opacity:0}}),this._modules.classes.createClass({name:Rs,isBuiltin:!0,nodeAttributes:{opacity:0},edgeAttributes:{opacity:0}}),this._nodeTransformationIdList=this._modules.graph.createNodeAttribute({storage:16,default:0},!1),this._edgeTransformationIdList=this._modules.graph.createEdgeAttribute({storage:16,default:0},!1),this._modules.settings.register("transformations.updateOnDataChange",!0),this._modules.events.register(["transformationEnabled","transformationDisabled","transformationSetIndex","transformationDestroyed","transformationRefresh"]),this._modules.events.on("clearGraph",()=>{this._list.forEach(e=>e.resetContext())}),this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges"],({virtual:e})=>{e||this._afterCurrentUpdate.then(()=>this.refresh(!0))}).on("requestElementsToDelete",e=>{e.virtual||(e.elementsToRemove=this._getSubElements(e.elementsToRemove),e.elementsToRemove.size&&this._resolveTransformations(this._list,[],!1))}).on(["updateNodeData","updateEdgeData"],()=>{this._modules.settings.get("transformations.updateOnDataChange")&&!this._safeGuard&&this.refresh(!0)})}refresh(e=!1){return this._list.length===0?Promise.resolve():(this._mustRefresh||this._safeGuard||(this._preventFiringEvents=!0,this._mustRefresh=!0,this._safeGuard=!0,this._afterCurrentUpdate=this._afterCurrentUpdate.then(()=>this._update()).then(()=>(this._modules.dom.refresh(),this._modules.dom.afterNextFrame())).then(()=>(this._modules.dom.refresh(),this._mustRefresh=!1,this._safeGuard=!1,this._list.forEach(t=>{if(t.getError())return t.cleanup(),t.resetContext(),t.reject();t.resolve(),this._preventFiringEvents=!e,this._fireEvent("transformationRefresh",{target:t}),this._preventFiringEvents=!1}),Promise.resolve()))),this._afterCurrentUpdate)}getById(e){return this._list.find(t=>t.getId()===e)}_fireEvent(e,t){this._preventFiringEvents||this._destroyed||this._modules.events.fire(e,t)}_getSubElements(e){return e.reduce((t,n)=>{if(n===void 0)return t;const r=this._modules.grouping.getSubElements(n)[0];return r?t.concat(this._getSubElements(r)):t.concat(n)},e.slice(0,0))}_assignTransformationIds(e,t,n){t!==null&&this._nodeTransformationIdList.setMultiple(t._indexes,e),n!==null&&this._edgeTransformationIdList.setMultiple(n._indexes,e)}_resolveTransformations(e,t,n){if(n||(e.forEach(o=>o.setDuration(0)),t.forEach(o=>o.setDuration(0))),this._destroyed)return Promise.resolve();const r=this._modules.selection.getSelectedNodes().getId(),i=this._modules.selection.getSelectedEdges().getId();let s=Promise.resolve();return e.slice().reverse().forEach(o=>{o.getContext()!==null&&(s=s.then(()=>o.undo()))}),t.forEach(o=>{s=s.then(()=>o.run()).catch(a=>(o.setError(a),!0)).then(a=>{if(a===!0)return Promise.resolve();const l=a;return this._assignTransformationIds(o.getId(),l.virtualNodes,l.virtualEdges),o.setContext(l),Promise.resolve()})}),s=s.then(()=>{this._destroyed||(this._modules.graph.getNodes(r).setSelected(!0),this._modules.graph.getEdges(i).setSelected(!0))}),s}getList(){return this._list}clear(){const e=this._list.slice();return e.forEach(t=>{t.shouldUndo=!0,t.shouldDo=!1,t.setRemovalDuration(0)}),this.refresh().then(()=>(this._list=this._list.filter(t=>!e.includes(t)),Promise.resolve())).then(()=>Promise.all(e.slice().reverse().map(t=>t.cleanup()))).then(()=>{e.forEach(t=>{this._fireEvent("transformationDestroyed",{target:t})})})}_get(e,t=!0){const n=this._list.find(r=>r.getId()===e);if(!n){if(t)throw new Error("calling a method on a destroyed transformation");return null}return n}enable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldDo=!0,e.shouldUndo=e.enabled,e.setDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationEnabled",{target:e})})}disable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldUndo=!0,e.shouldDo=!1,e.setRemovalDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationDisabled",{target:e})})}remove(e,t){return this._afterCurrentUpdate.then(()=>(e.setRemovalDuration(t),e.shouldUndo=!0,e.shouldDo=!1,this.refresh().then(()=>{e.cleanup(),this._list.splice(e.getIndex(),1)}))).then(()=>{this._fireEvent("transformationDestroyed",{target:e})})}setIndex(e,t){if(!e)return this._afterCurrentUpdate;let n,r;return this._preventFiringEvents=!0,this._afterCurrentUpdate.then(()=>{const i=e.getIndex(),s=Math.min(i,t);return n=this._list.slice(s).filter(o=>o.isEnabled()),r=n.map(o=>[o.getDuration(),o.getRemovalDuration()]),n.forEach(o=>o.disable(0)),this.refresh()}).then(()=>(this._list.splice(e.getIndex(),1),this._list.splice(Vr(t,0,this._list.length),0,e),n.forEach((i,s)=>{i.enable(0)}),this.refresh())).then(()=>(n.forEach((i,s)=>{i.setDuration(r[s][0]),i.setRemovalDuration(r[s][1])}),this._afterCurrentUpdate)).then(()=>{this._preventFiringEvents=!1,this._fireEvent("transformationSetIndex",{target:e,index:t})})}setOptions(e,t){return e._setOptions(t),e.setDuration(t.duration),e.enabled===t.enabled&&e.enabled?this.refresh(!0):t.enabled?this.enable(e,t.duration):this.disable(e,t.duration)}getIndex(e){for(let t=0;t<this._list.length;t++)if(this._list[t]===e)return t;return-1}add(e){return this._list.push(e),e.initialize({ogma:this._ogma,id:++this._idCounter}),this.refresh().then(()=>e.isEnabled()?this._fireEvent("transformationEnabled",{target:e}):this._fireEvent("transformationDisabled",{target:e})),e}whenApplied(){return this._modules.dom.afterNextFrame().then(()=>this._afterCurrentUpdate)}isEnabled(e){const t=this._get(e);return t&&t.enabled||!1}_getElementTransformationId(e){return(e.isNode?this._nodeTransformationIdList:this._edgeTransformationIdList).get(e._index)}isElementVirtual(e){return this._modules.graph.getAttribute(e.isNode,"virtual").get(e._index)!==0}getElementTransformation(e){return this._get(this._getElementTransformationId(e),!1)}destroy(){this._destroyed=!0}};function ZS(e,t,n){for(let r=0;r<n;++r)if(!e[r]||!t[r]||e[r].getId()!==t[r].getId())return!1;return!0}var QS={layer:cN,outline:!0,outerStroke:{color:P0,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:TI,minVisibleSize:0}},K$={layer:cN,color:P0,text:{backgroundColor:TI,minVisibleSize:0},stroke:{color:P0,width:0}},J$=class extends st{onMounted(){this._modules.events.register(["nodesSelected","nodesUnselected","edgesSelected","edgesUnselected"]),this._selectionExtremityHighlightedClass=this._modules.classes.createClass({name:w0,isBuiltin:!0,nodeAttributes:QS}),this._selectedClass=this._modules.classes.createClass({name:Kt,isBuiltin:!0,nodeAttributes:QS,edgeAttributes:K$}),this._modules.events.on(`nodeClassAdded_${Kt}`,t=>{this._modules.events.fire("nodesSelected",t)}),this._modules.events.on(`edgeClassAdded_${Kt}`,t=>{this._modules.events.fire("edgesSelected",t)}),this._modules.events.on(`nodeClassRemoved_${Kt}`,t=>{this._modules.events.fire("nodesUnselected",t)}),this._modules.events.on(`edgeClassRemoved_${Kt}`,t=>{this._modules.events.fire("edgesUnselected",t)}),this._modules.settings.register("interactions.selection.enabled",!0),this._modules.settings.register("interactions.selection.multiSelectionKey","ctrl"),this._modules.interactions.onClick({priority:"selection",check:({button:t})=>{const n=!!this._modules.settings.get("interactions.selection.enabled");return t==="left"&&n},handler:({target:t})=>{if(t){const n=this._modules.settings.get("interactions.selection.multiSelectionKey"),r=n&&this._modules.keyboard.isPressed(n);t.isNode?this._selectedClass.clearEdges():this._selectedClass.clearNodes(),r?t.hasClass(Kt)?t.removeClass(Kt):t.addClass(Kt):((t.isNode?this._selectedClass.getNodes():this._selectedClass.getEdges()).filter(i=>i!==t).removeClass(Kt),t.hasClass(Kt)||t.addClass(Kt))}else this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}});const e=()=>{this._selectionExtremityHighlightedClass.clearNodes(),this._selectedClass.getEdges().getExtremities().addClass(w0)};this._modules.events.on("beforeRemoveEdges",({edges:t})=>t.setSelected(!1)).on("excludedStateChange",({elements:t,value:n})=>{n||t.setSelected(!1)}).on(`edgeClassAdded_${Kt}`,e).on(`edgeClassRemoved_${Kt}`,e)}setNodeAttributes(e,t){this._selectedClass.update({nodeAttributes:e,fullOverwrite:t}),this._selectionExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}setEdgeAttributes(e,t){this._selectedClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}_updateExtremityHighlightLayer(){const e=this._selectedClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._selectionExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}setActive(e,t){if($n(t)){const n=[],r=[];e.toList().forEach((i,s)=>{(t[s]?n:r).push(i.getId())}),n.length!==0&&this._modules.graph.getElements(e.isNode,n).addClass(Kt),r.length!==0&&this._modules.graph.getElements(e.isNode,r).removeClass(Kt)}else e.size&&e[t?"addClass":"removeClass"](Kt)}areActive(e){return e.hasClass(Kt)}getSelectedNodes(){return this._selectedClass.getNodes()}getSelectedEdges(){return this._selectedClass.getEdges()}getNonSelectedNodes(){return this._modules.graph.getNodes().filter(e=>!e.hasClass(Kt))}getNonSelectedEdges(){return this._modules.graph.getEdges().filter(e=>!e.hasClass(Kt))}clear(){this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}},eU=class extends st{onMounted(){this._delayedCalls=[],this._idIdle=()=>!this._modules.captor.isAnyButtonPressed()&&!this._modules.dom.isPlayingFrame(),this._modules.events.on(["mousedown","mouseup","beforeNewFrame","frame"],()=>{this._delayedCalls.forEach(e=>e.reset())})}_nextTimeIdle(e){const t=new tU(this._modules.dom,this._idIdle,e);return this._delayedCalls.push(t),t.whenDone().then(()=>{this._delayedCalls.splice(this._delayedCalls.indexOf(t),1)})}debounceIdle(e,t=0){let n=!1,r=[];const i=()=>{const s=r;n=!1,r=[],e(),s.forEach(o=>o())};return()=>new Promise(s=>{r.push(s),n||(n=!0,this._nextTimeIdle(t).then(i))})}},tU=class{constructor(e,t,n){this._timeout=null,this._done=!1,this._dom=e,this._promise=new Promise(r=>this._resolve=r),this._isIdle=t,this._delay=n,this._startTimeout()}_startTimeout(){this._timeout=this._dom.setTimeout(()=>{this._isIdle()?(this._done=!0,this._resolve()):this._startTimeout()},this._delay)}reset(){this._done||(this._dom.clearTimeout(this._timeout),this._startTimeout())}whenDone(){return this._promise}},eh=-2,nU={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:50,startRatio:1,endRatio:2,enabled:!1},rU={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:10,startRatio:1,endRatio:2,enabled:!1},iU=class extends st{constructor(){super(...arguments),this._nodePromiseMap=new Map,this._edgePromiseMap=new Map,this._onAttributeChange=({nodes:e,edges:t,nodeAttributes:n,edgeAttributes:r})=>{this._onElementsAttributeChange(e,n),this._onElementsAttributeChange(t,r,!1)},this._refreshPulses=()=>{const{nodes:e,edges:t}=this._hasPulses.getElements();if(e.size!==0||t.size!==0){const n=this._engine.getCurrentTime();this._refreshElementsPulses(e,n),this._refreshElementsPulses(t,n),this._modules.dom.refresh()}}}onMounted(){this._modules.events.on("updateAttributes",this._onAttributeChange).on("frame",this._refreshPulses).on("beforeRemoveEdges",({edges:e})=>{this._removePulses(e)}).on("beforeRemoveNodes",({nodes:e})=>{this._removePulses(e)}).on("excludedStateChange",({elements:e,value:t})=>{t&&(this._hasPulses.removeElements(e),this._removePulses(e))}).on("clearGraph",()=>this._hasPulses.clear()),this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._nodePulses=this._modules.graph.createNodeAttribute({storage:"any"},!1),this._edgePulses=this._modules.graph.createEdgeAttribute({storage:"any"},!1),this._nodeNbPulsesRemaining=this._modules.graph.createNodeAttribute({storage:"int16",default:-1},!1),this._edgeNbPulsesRemaining=this._modules.graph.createEdgeAttribute({storage:"int16",default:-1},!1),this._nodeFlexArrays=this._modules.graphics.getNodeAttributes(),this._edgeFlexArrays=this._modules.graphics.getEdgeAttributes(),this._edgeSourceList=this._modules.graph.getEdgeAttribute("source"),this._edgeTargetList=this._modules.graph.getEdgeAttribute("target"),this._hasPulses=new Xd(this._modules.graph)}_onElementsAttributeChange(e,t,n=!0){if(!t.includes("pulse.enabled"))return;const{valid:r,invalid:i}=mN(this._modules.graph,e,o=>o.getAttribute("pulse.enabled")&&o.isVisible());this._hasPulses.removeElements(i),this._hasPulses.addElements(r);const s=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let o=0;o<r.size;o++)s.get(r._indexes[o])>0||s.set(r._indexes[o],eh);this._removePulses(i)}_removePulses(e){const t=e.isNode?this._nodePulses:this._edgePulses,n=e.isNode?this._nodePromiseMap:this._edgePromiseMap;for(let r=0;r<e._indexes.length;r++){const i=e._indexes[r],s=t.get(i);if(s){for(let a=0;a<s.length;a++){const l=s[a];this._modules.graphics.releaseGraphicsEngineBlockId(l.blockId)}t.set(i,null);const o=n.get(i);o&&(o.resolve(),n.delete(i))}}}_refreshElementsPulses(e,t){const n=e.isNode,r=n?this._nodePulses:this._edgePulses,i=n?this._nodeFlexArrays.pulse.duration:this._edgeFlexArrays.pulse.duration,s=n?"_createNodePulseBlock":"_createEdgePulseBlock",o=n?this._nodeFlexArrays.pulse.interval:this._edgeFlexArrays.pulse.interval,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let l=0;l<e._indexes.length;l++){const c=e._indexes[l];let d=r.get(c);d||(d=[],r.set(c,d));for(let m=0;m<d.length;m++){const{startTime:_,duration:y,blockId:f}=d[m];t>=_+y&&(this._modules.graphics.releaseGraphicsEngineBlockId(f),d.splice(m--,1))}const u=d[d.length-1];if(u&&t<u.startTime+o.get(c))continue;const h=i.get(c),g=a.get(c);if(g<1&&g!==eh)continue;d.push({blockId:this[s](c,t,h),startTime:t,duration:h});const p=g===eh?eh:g-1;a.set(c,p)}}_createNodePulseBlock(e,t,n){const r=this._nodeFlexArrays,i=r.color.get(e),s=r.layer.get(e),o=r.x.get(e),a=r.y.get(e),l=r.radius.get(e),c=r.scalingMethod.get(e)==="scaled",d=r.pulse.startRatio.get(e),u=r.pulse.endRatio.get(e),h=r.pulse.width.get(e),g=2*l*d,p=2*l*u,m=Ad(s).nodeBody,_=r.pulse.startColor.get(e),y=r.pulse.endColor.get(e),f=this._modules.graphics.allocateGraphicsEngineBlockId(),v=this._group.reset(xi,!0,m),x=v.nextAndReset(),w=Ai(_,i),b=Ai(y,i);return x.end.shape="circle",x.end.pieceId=ci,x.end.x1=o,x.end.y1=a,x.end.x2=o,x.end.y2=a,x.end.rectWidthOrSourceRadiusScaled=c?p:0,x.end.rectHeightOrTargetRadiusScaled=c?p:0,x.end.rectWidthOrSourceRadiusFixed=c?0:p,x.end.rectHeightOrTargetRadiusFixed=c?0:p,x.end.strokeWidthFixed=h,x.end.strokeColor=b,x.start.shape="circle",x.start.pieceId=ci,x.start.x1=o,x.start.y1=a,x.start.x2=o,x.start.y2=a,x.start.rectWidthOrSourceRadiusScaled=c?g:0,x.start.rectHeightOrTargetRadiusScaled=c?g:0,x.start.rectWidthOrSourceRadiusFixed=c?0:g,x.start.rectHeightOrTargetRadiusFixed=c?0:g,x.start.strokeWidthFixed=h,x.start.strokeColor=w,x.animation.duration=n,x.animation.beginTime=t,this._engine.storeGroup(f,v),f}_createEdgePulseBlock(e,t,n){const r=this._edgeFlexArrays,i=this._nodeFlexArrays,s=r.pulse.startRatio.get(e),o=r.pulse.endRatio.get(e),a=r.pulse.startColor.get(e),l=r.pulse.endColor.get(e),c=Ad(r.layer.get(e)).edgeBody,d=this._edgeSourceList.get(e),u=this._edgeTargetList.get(e),h=r.curvature.get(e),g=h!==0,p=this._modules.graphics.allocateGraphicsEngineBlockId(),m=this._group.reset(g?Mg:xi,!0,c),_=m.nextAndReset(),y={isSelfLoop:d===u,curvature:h,sourceX:i.x.get(d),sourceY:i.y.get(d),targetX:i.x.get(u),targetY:i.y.get(u),sourceRadius:i.radius.get(d),targetRadius:i.radius.get(u),isSourceRadiusScaled:i.scalingMethod.get(d)==="scaled",isTargetRadiusScaled:i.scalingMethod.get(u)==="scaled",width:r.width.get(e),isWidthScaled:r.scalingMethod.get(e)==="scaled",strokeWidth:r.pulse.width.get(e)};return KS(_.start,y),KS(_.end,y),_.start.strokeColor=a,_.end.strokeColor=l,_.start.thicknessOrFontSizeScaled*=s,_.start.thicknessOrFontSizeFixed*=s,_.end.thicknessOrFontSizeScaled*=o,_.end.thicknessOrFontSizeFixed*=o,_.animation.duration=n,_.animation.beginTime=t,this._engine.storeGroup(p,m),p}pulse(e,t){const n=e.isNode,r=we(we(we({},n?nU:rU),n?this._nodePulseTheme:this._edgePulseTheme),t),i=r.number,s=r.interval,o=r.duration,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining,l=(i-1)*s+o;let c;r.enabled=!0,delete r.number,e.setAttributes({pulse:r}),a.setMultiple(e._indexes,i),this._modules.dom.setTimeout(()=>{e.isList?e.filter(Si).setAttribute("pulse.enabled",!1):e.setAttribute("pulse.enabled",!1),a.setMultiple(e._indexes,-1)},l);const d=new Promise(h=>{c=()=>h(e)}),u=e.isNode?this._nodePromiseMap:this._edgePromiseMap;return e.isList?e._indexes.forEach(h=>{this._setPromise(h,u,d,c)}):this._setPromise(e._index,u,d,c),d}_setPromise(e,t,n,r){t.has(e)&&t.get(e).resolve(),t.set(e,{promise:n,resolve:r})}setTheme(e,t){this._nodePulseTheme=e,this._edgePulseTheme=t}};function KS(e,{sourceX:t,sourceY:n,targetX:r,targetY:i,isSourceRadiusScaled:s,isTargetRadiusScaled:o,targetRadius:a,sourceRadius:l,isWidthScaled:c,width:d,strokeWidth:u,curvature:h,isSelfLoop:g}){e.pieceId=Zp,e.shape="line",e.x1=t,e.y1=n,e.x2=r,e.y2=i,e.rectWidthOrSourceRadiusScaled=s?l:0,e.rectWidthOrSourceRadiusFixed=s?0:l,e.rectHeightOrTargetRadiusScaled=o?a:0,e.rectHeightOrTargetRadiusFixed=o?0:a,e.thicknessOrFontSizeScaled=c?d:0,e.thicknessOrFontSizeFixed=c?0:d,e.strokeWidthFixed=u,e.curvature=h,e.isSelfLoop=g}var sU={duration:0,easing:"linear",callback:ft,resolve:ft,startAfter:0},oU=0,aU=class extends st{constructor(){super(...arguments),this._animationList=[],this._update=()=>{if(this._animationList.length===0)return;const e=er(),t=[];for(let n=0;n<this._animationList.length;++n){const r=this._animationList[n],i=(e-r.creationDate)/r.duration,s=r.startAfter;let o=r.easing(i);i>=1?(r.func(1),r.done=!0,r.resolve(void 0),this._animationList.splice(n,1),n-=1,t.push(r.callback)):o>=s&&(o=(o-s)*(1/(1-s)),r.func(o))}for(let n=0;n<t.length;n++)t[n](!1);this._modules.dom.refresh()}}onMounted(){this._modules.events.on("beforeNewFrame",this._update)}play(e,t){const{duration:n,easing:r,callback:i,startAfter:s,resolve:o}=qr(t,sU);if(n<=0)return e(1),i(),o(void 0),null;const a={func:e,easing:typeof r=="function"?r:xx[r],duration:n,callback:i,resolve:o,startAfter:s,creationDate:er(),done:!1,id:++oU};return this._animationList.push(a),this._modules.dom.refresh(),a}cancel(e){const t=this._animationList.indexOf(e);t!==-1&&(e.func(1),this._animationList.splice(t,1),e.done=!0,e.resolve(void 0))}},lU=(e,t,n,r)=>{const i=n._getMapPanePos(),s=e.getMapboxMap(),o=e.getCanvas(),a=e.getSize().round(),l=r.DomUtil.getPosition(e.getContainer()),c=l.x+i.x,d=l.y+i.y;return new Promise(u=>{function h(){t.drawImage(o,c,d,a.x,a.y),u()}if(s.loaded())return h();s.once("idle",h)})},cU=(e,t,n,r,i)=>{const s=n._getMapPanePos(),o=e.getContainer();if(!o)throw new Error(`Trying to access the container of ${e} but it does not exist.`);const a=r.DomUtil.getPosition(o);n.removeLayer(e),e.options.crossOrigin="anonymous";const l=[],c=[];return e.on("tileload",({tile:d})=>{const{x:u,y:h}=r.DomUtil.getPosition(d);l.push(d),c.push({x:u-a.x+s.x,y:h-a.y+s.y})}),n.addLayer(e),new Promise(d=>{e.once("load",()=>{const u=e.getTileSize();l.forEach((h,g)=>{const{x:p,y:m}=c[g];t.drawImage(h,p,m,u.x,u.y)}),d()})})},dU=(e,t,n,r,i,s)=>new Promise(o=>{const a=e.options.renderer;n.removeLayer(e),e.options.renderer=s,n.addLayer(e),s._updatePaths();const l=n._getMapPanePos(),c=s._container,d=r.DomUtil.getPosition(c);t.drawImage(s._container,d.x+l.x,d.y+l.y,c.width/i,c.height/i),n.removeLayer(e),e.options.renderer=a,n.addLayer(e),o()}),uU=(e,t,n,r,i)=>new Promise(s=>{const o=n.getPixelBounds().min,a=n.project(e.getLatLng(),n.getZoom()),l=/^data:/.test(e._icon.src),c=l?e._icon.src:DP(e._icon.src),d=new Image,u=e.options.icon;if(u){const h=u.options;let g=h.iconSize||[24,24];const p=a.subtract(o);let m=h.iconAnchor||[0,0];Array.isArray(g)||(g=[g.x,g.y]),Array.isArray(m)||(m=[m.x,m.y]);const _=Math.round(p.x-(g[0]-m[0])*i),y=Math.round(p.y-m[1]*i);d.crossOrigin="";const f=()=>{t.drawImage(d,_,y,g[0]*i,g[1]*i),s()};d.onload=f,d.src=c,l&&f()}}),hU=(e,t,n,r,i)=>new Promise(s=>{n.removeLayer(e),e.setUrl(DP(e.getUrl())),e.options.crossOrigin="anonymous",e.once("load",()=>{const o=e.getBounds(),a=n.latLngToContainerPoint(o.getNorthWest()),l=n.latLngToContainerPoint(o.getSouthEast()),c=l.x-a.x,d=l.y-a.y;t.drawImage(e._image,a.x,a.y,c,d),s()}),n.addLayer(e)});function DP(e){return e+(e.indexOf("?")===-1?"?":"&")+"noCache="+Date.now()}var gU={tileLayers:cU,imageOverlays:hU,vectorLayers:dU,markers:uU,vectorMap:lU};function pU(e,t){return e instanceof t.TileLayer?"tileLayers":e instanceof t.ImageOverlay?"imageOverlays":e instanceof t.Path?"vectorLayers":e instanceof t.Marker?"markers":"MapboxGL"in t&&e instanceof t.MapboxGL?"vectorMap":void 0}function mU(e,t,n,r,i,s){const o={vectorMap:[],tileLayers:[],vectorLayers:[],imageOverlays:[],markers:[]};return t.eachLayer(a=>{if(a!==e){const l=pU(a,r);if(l&&l in o){const c=gU[l];o[l].push(()=>c(a,n,t,r,i,s))}}}),o}function fU(e){e.TileLayer.prototype.getUrl=function(){return this._url},e.ImageOverlay.prototype.getUrl=function(){return this._url};const t="leaflet-zoom-animated";e.OgmaOverlay||(e.OgmaOverlay=e.Layer.extend({options:{pane:"overlayPane",padding:0,onUpdate:()=>{}},initialize:function(n){const{container:r}=n;e.Util.setOptions(this,n),this._container=r},setLocked:function(n){return this._locked=n,this},onAdd:function(n){this._map=n,this.getPane().appendChild(this._container),this._wgsOrigin=e.latLng([0,0]),this._wgsInitialShift=n.project(this._wgsOrigin,this._initialZoom),e.DomUtil.addClass(this._container,"leaflet-layer"),this._zoomAnimated&&(e.DomUtil.addClass(this._container,t),this._container.style.position="absolute",this._container.style.zIndex=9999),this._initialZoom=(this._map.getMaxZoom()+this._map.getMinZoom())/2,this._mapInitialZoom=this._map.getZoom(),this._updateBounds(),this._update({})},_updateBounds(){const n=this.options.padding,r=this._map.getSize(),i=this._map.containerPointToLayerPoint(r.multiplyBy(-n));this._bounds=new e.Bounds(i,i.add(r.multiplyBy(1+2*n))),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_update(n){this._updateBounds(),this._redraw(this._bounds.min,n),this._positionTimer=e.Util.requestAnimFrame(()=>{this._container&&e.DomUtil.setPosition(this._container,this._bounds.min)})},_redraw(n,r){this.options.onUpdate()},_updateTransform(n,r){if(this._locked)return;const i=this._map.getZoomScale(r,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,r),a=s.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(n,r));e.Browser.any3d?e.DomUtil.setTransform(this._container,a,i):e.DomUtil.setPosition(this._container,a)},_onZoom(n){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onMoveEnd(n){this._update(n)},_onAnimZoom({center:n,zoom:r}){this._updateTransform(n,r)},bringToFront(){e.DomUtil.toFront(this._container)},getEvents(){return{zoom:this._onZoom,moveend:this._onMoveEnd,zoomanim:this._onAnimZoom,layeradd:this.bringToFront,zoomend:this.options.onUpdate}},onRemove:function(){e.DomUtil.removeClass(this._container,t);const n=this._container;["transform","webkitTransform","OTransform","MozTransform","msTransform","zIndex","position"].forEach(r=>n.style[r]=null),e.Util.cancelAnimFrame(this._positionTimer),this._container=null}}))}function _U(e,t,n,r){const i=e.filter(b=>b.isVisible()),s=i.size===0,{mapX:o,mapY:a}=i.reduce((b,A)=>{const{latitude:S,longitude:k}=A.getGeoCoordinates(),{x:C,y:N}=r(S,k);return b.mapX.push(C),b.mapY.push(N),b},{mapX:[],mapY:[]}),l=i.getAttribute("x"),c=i.getAttribute("y"),d=i.getAttribute("radius").map(Number),u=new Cn({xValues:l,yValues:c,scaledSizeValues:d}),h=new Cn({xValues:o,yValues:a});s&&(u.cx=u.cy=0,u.width=u.height=0),isFinite(h.width)&&isFinite(h.height)||(h.cx=h.cy=0,h.width=h.height=0);let g=h.cx-u.cx,p=h.cy-u.cy;const m=s?1:Math.max(h.width,h.height)/Math.max(u.width,u.height),[_,y]=d.reduce((b,A)=>(b[0]=Math.min(b[0],A*m),b[1]=Math.max(b[1],A*m),b),[1/0,0]);h.pad(y),h.minScaledSize=_,h.maxScaledSize=y;const f=n.computeConfigForBounds(h),v=t.zoom/bB(f.zoom);g+=(u.cx-t.x)*v,p+=(u.cy-t.y)*v;const x=u.cx+g,w=u.cy+p;return{offsetChanges:{name:"graph-to-geo",nodeAttributes:{radius:b=>Number(b.getAttribute("radius"))*v,x:b=>(b.getAttribute("x")+g-x)*v+x,y:b=>(b.getAttribute("y")+p-w)*v+w},edgeAttributes:{width:b=>Number(b.getAttribute("width"))*v}},camera:we({zoom:t.zoom/v,x:(t.x+g-x)*v+x,y:(t.y+p-w)*v+w,angle:0},t.getSize())}}function yU(e,t,n,r){const i=e.getAttributes(["x","y","radius"]),s=e.getBoundingBox(),o=e.size===0,a=e.reduce((x,{_index:w},b)=>(x[w]=b,x),{});r();const l=e.getAttribute("x"),c=e.getAttribute("y"),d=e.getAttribute("radius").map(Number),u=new Cn({xValues:l,yValues:c,scaledSizeValues:d.map(x=>2*x)});o&&(s.reset(),u.reset());let h=u.cx-s.cx,g=u.cy-s.cy,p=0,m=0;const _=n.computeConfigForBounds(u),y=t.zoom/_.zoom;let f,v;return isNaN(s.cx)||isNaN(s.cy)?(s.cx=t.x,s.cy=t.y,f=_.x,v=_.y):(h+=(s.cx-t.x)*y,g+=(s.cy-t.y)*y,p=s.cx+h,m=s.cy+g,f=(t.x+h-p)*y+p,v=(t.y+g-m)*y+m),{offsetChanges:{name:"geo-to-graph",nodeAttributes:{x:x=>(i[a[x._index]].x+h-p)*y+p,y:x=>(i[a[x._index]].y+g-m)*y+m}},camera:we({zoom:_.zoom,x:f,y:v,angle:0},t.getSize())}}var zP={"top-left":"left","bottom-left":"left","top-right":"right","bottom-right":"right"},vU={"top-left":"top","bottom-left":"bottom","top-right":"top","bottom-right":"bottom"},JS={position:"bottom-right",horizontalMargin:0,verticalMargin:0,className:void 0},xU=class extends st{onMounted(){this._brand=null}set(e,t){let{position:n,horizontalMargin:r,verticalMargin:i,className:s}=we(we({},JS),t);zP[n]||(n=JS.position),this.remove();const o=document.createElement("div");return o.innerHTML=e,o.style.position="absolute",OP(o,n,r,i),o.style.padding="0px 0px 0px 0px",o.style.zIndex="10",s&&o.setAttribute("class",s),this._brand=o,this._modules.dom.setLayer("brand",this._brand),o}remove(){this._modules.dom.setLayer("brand",null),this._brand=null}};function OP(e,t,n,r){const i=n===void 0?"":n+"px",s=r===void 0?"":r+"px";e.style[zP[t]]=i,e.style[vU[t]]=s}var e2={},bU=class extends st{constructor(){super(...arguments),this._enabled=!1,this._settings=we({},Fo),this._edgesOriginalTextStyle={},this._nodesOriginalTextStyle={},this._nodeDraggingSetting=!1,this._transition=!1,this._attribution=null,this._updating=!1,this._updateRate=50,this._x=0,this._y=0,this._onCameraUpdate=()=>{if(this.L&&this._enabled&&this._map&&this._map._loaded){const e=this._x-this._modules.camera.x,t=this._y-this._modules.camera.y;if(e||t){this._updating||(this._updating=!0,this._layer.setLocked(!0),this._map._moveStart(!0,!1));const n=this._fromPointToLatLng(this._modules.camera.x,this._modules.camera.y),r=uf(this._modules.camera.zoom),i=this.L.latLng(n.latitude,n.longitude);this._map._move(i,r,{pinch:!0,round:!1}),clearTimeout(this._updateRequest),this._updateRequest=this._modules.dom.setTimeout(()=>{this._updating=!1,this._layer.setLocked(!1),this._map&&this._map._move(i,r,{pinch:!0})._moveEnd(!0)},this._updateRate)}}},this._onNodesDragStart=()=>{this._enabled&&(this._setMapDragging(!1),this._nodeDragOffsetX=this._nodeDragOffsetY=0)},this._onNodesDragged=({nodes:e,dx:t,dy:n})=>{if(this._enabled){const r=e.map(i=>{const{x:s,y:o}=i.getAttributes(["x","y"]);return this._fromPointToLatLng(s+t-this._nodeDragOffsetX,o+n-this._nodeDragOffsetY)});return this._nodeDragOffsetX=t,this._nodeDragOffsetY=n,e.setGeoCoordinates(r)}return Promise.resolve(this._modules.graph.nodeList())},this._onMapUpdate=()=>{if(!this._map)return Promise.resolve(void 0);const{lat:e,lng:t}=this._map.getCenter(),n=this._fromLatLngToPoint(e,t);this._x=n.x,this._y=n.y;const r=xB(this._map.getZoom());return this._modules.events.fire("beforeGeoCameraMove",{zoom:this._map.getZoom()}),this._modules.camera.setView({zoom:r,x:n.x,y:n.y},{ignoreZoomLimits:!0}).then(()=>this._adjustMinvisibleSizes())}}onMounted(){this._filters=this._modules.filters,this._modules.events.register(["geoEnabled","geoDisabled","geoLoaded","geoReady"]),NE()&&(this.L=li("L")||li("leaflet"),this.L&&fU(this.L)),this._modules.graph.createNodeAttribute({name:"geo.prevLat",storage:"float"},!0),this._modules.graph.createNodeAttribute({name:df,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Vs,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Gs,storage:"float"},!0),this._modules.events.register(["beforeGeoCameraMove"]),this._modules.events.on("addNodes",e=>this._refreshOrAddNodes(e.nodes,!0)).on("updateNodeData",e=>{this._onDataChange(e.changes)}).on("nodesDragProgress",this._onNodesDragged).on(["nodesDragStart","lassoEnabled"],this._onNodesDragStart).on(["nodesDragEnd","lassoDisabled"],()=>this._setMapDragging(!0)).on("move",this._onCameraUpdate).on("viewChanged",this._onCameraUpdate)}_onDataChange(e){const t=n0(this.latitudePath),n=n0(this.longitudePath),r=e.filter(({property:i})=>i&&typeof i!="string"?i.find(s=>t.startsWith(s)||n.startsWith(s)):i===null||t.startsWith(i)||n.startsWith(i));if(r.length){const i=MB(r);i!==null&&this._refreshOrAddNodes(i,!1)}}_refreshOrAddNodes(e,t){t&&this._updatePrevNodesCoordinates(e),this._updateNodesCoordinates(e),this._enabled&&(this._cacheOriginalTextStyles(e,null),this._filter._refresh())}_updatePrevNodesCoordinates(e){Nu(this._modules.graph,e,Vs,TE),Nu(this._modules.graph,e,Gs,df)}_restorePrevNodesCoordinates(e){Nu(this._modules.graph,e,TE,Vs),Nu(this._modules.graph,e,df,Gs)}_updateNodesCoordinates(e){NB(this._modules.graph,e,this._settings)}_createMapTileLayer(e,t){if(e&&!yn(e))return e;const n=e,r=n.wms?this.L.tileLayer.wms:this.L.tileLayer,i=wB(n,t)||"";return r(n.url,we({attribution:i},e))}_setupTileLayer(e,t,n){const r=this._createMapTileLayer(e,t);return r.once("load",()=>{this._modules.events.fire("geoLoaded")}),r.addTo(this._map),LE(r,n),r}_onSettingsChanged(e,t){const n=e.wrapCoordinates!==t.wrapCoordinates,r=e.latitudePath!==t.latitudePath||e.longitudePath!==t.longitudePath;if(n||r){let i=Promise.resolve();this._enabled&&this._filter&&(i=i.then(()=>this._filter.refresh())),i.then(()=>this._updateNodesCoordinates(this._modules.graph.getNodes("all")))}this._enabled&&(AB(e,t)&&this._map&&(this._map.removeLayer(this._tileLayer),this._tileLayer=this._setupTileLayer(t.tiles,t.attribution,t.opacity)),e.sizeRatio!==t.sizeRatio&&this._updateSizes(),e.maxZoomLevel!==t.maxZoomLevel&&this._modules.settings.update({minZoom:1,maxZoom:Math.pow(2,t.maxZoomLevel)}),e.disableNodeDragging!==t.disableNodeDragging&&this._setDragging(!t.disableNodeDragging),e.attributionOptions!==t.attributionOptions&&this._setAttributionOptions(t.attributionOptions,t.attribution),LE(this._tileLayer,t.opacity))}_setMapDragging(e){if(this._map){const t=e?"enable":"disable";this._map.dragging[t]()}}_fromLatLngToPoint(e,t){return this._map.options.crs.latLngToPoint(this.L.latLng(e,t),Pg)}_fromPointToLatLng(e,t){const{lat:n,lng:r}=this._map.options.crs.pointToLatLng(this.L.point({x:e,y:t}),Pg);return{latitude:n,longitude:r}}_updateSizes(){this._enabled&&this._projection&&this._projection.updateAll()}enable(e){return this.setEnabled(!0,e)}getMap(){return this._enabled?this._map:null}getOptions(){return this._enabled?vt(we({},this._settings),{tiles:yn(this._settings.tiles)?we({},this._settings.tiles):this._settings.tiles}):we({},Fo)}setOptions(e){if(!this._enabled||this._transition)return;EB(e,this.L);const t=this._settings;this._settings=vt(we(we(we({},Fo),t),e),{tiles:SB(Fo,e)}),this._onSettingsChanged(t,this._settings)}disable(e){return this.setEnabled(!1,e)}isEnabled(){return this._enabled}toggle(e={}){return this.setEnabled(!this._enabled,e)}getContainerCoords(e){return e.getGeoCoordinates().map(({latitude:t,longitude:n})=>this._map.latLngToContainerPoint([t,n]))}getContainerCoord(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return this._map.latLngToContainerPoint([t||0,n||0])}setEnabled(e,t){if(!NE())throw new Error("Ogma Geo cannot be used outside a browser");if(!this.L)throw new Error("You are trying to use Geo mode but Leaflet has not been found. Please follow our migration guide: https://bit.ly/2SYkF8A");if(this._transition||e===this._enabled)return Promise.resolve();const n=this._modules.settings;this._enabled||(this._prevSettings=n.get(),this._nodeDraggingSetting=!!n.get("interactions.drag.enabled")),this._enabled=e,this.setOptions(t),this._transition=!0;const r=this._settings;return e?this._show().then(()=>(this._registerTextStyle(this._modules.graph.getNodes(),this._modules.graph.getEdges()),this._setDragging(!r.disableNodeDragging),this._transition=!1,this._updating=!1,this._modules.events.fire("geoEnabled").fire("geoReady"),this._adjustMinvisibleSizes())):this._restoreTextStyle().then(()=>this._hide()).then(()=>{this._transition=!1,this._modules.events.fire("geoDisabled"),this._setDragging(this._nodeDraggingSetting,!0)}).then(()=>this._ogma.view.afterNextFrame())}destroy(){return this._enabled&&this._destroyMapSync(),Promise.resolve()}_cacheOriginalTextStyles(e,t){t&&(this._edgesOriginalTextStyle=PE(t,this._edgesOriginalTextStyle)),e&&(this._nodesOriginalTextStyle=FB(e,this._nodesOriginalTextStyle))}_registerTextStyle(e,t){this._cacheOriginalTextStyles(e,t);const{nodeAttributes:n,edgeAttributes:r}=this._modules.hover.getHoverClassDefinition();this._hoverEdgesOriginalTextStyle=r||null,this._hoverNodesOriginalTextStyle=n||null,this._modules.hover.updateEdgeAttributes({text:{size:i=>(this._edgesOriginalTextStyle[i.getId()]||e2)["text.size"]}}),this._modules.hover.updateNodeAttributes({text:{size:i=>(this._nodesOriginalTextStyle[i.getId()]||e2)["text.size"]}})}_restoreTextStyle(){return this._modules.hover.updateEdgeAttributes(this._hoverEdgesOriginalTextStyle,!0),this._modules.hover.updateNodeAttributes(this._hoverNodesOriginalTextStyle,!0),Promise.all([DB(this._modules.graph.getEdges(),this._edgesOriginalTextStyle)]).then(()=>(this._edgesOriginalTextStyle=PE(this._modules.graph.edgeList(),{}),this._nodesOriginalTextStyle={},this._edgesOriginalTextStyle={},Promise.resolve()))}_setDragging(e,t=!1){this._modules.settings.update({interactions:{drag:{enabled:e,applyResult:t}}})}_setAttributionOptions(e,t){if(this._map){if(this._attribution&&(this._attribution.remove(),this._attribution=null),this._attribution=this.L.control.attribution({prefix:!1}).addTo(this._map),yn(e)){this._attribution.setPrefix(""),e.position=e.position||"bottom-right";const n=e.position.replace("-","");this._attribution.setPosition(n);const r=this._attribution.getContainer();r&&(e.className&&this.L.DomUtil.addClass(r,e.className),OP(r,e.position||"bottom-right",e.horizontalMargin,e.verticalMargin))}t!=null&&this._attribution.addAttribution(t)}}_nodeIsVisible(e){return IB(e,this._settings,this._hasCustomProjection())}_updateSettingsForMap(){const e=this._modules.graphics.getGraphicsEngine().parseColor(this._settings.backgroundColor);e[3]=0,this._modules.settings.update({backgroundColor:NL(e),minZoom:1e-6,interactions:{rotation:{enabled:!1},drag:{enabled:!1},pan:{enabled:!1},zoom:{enabled:!1,onDoubleClick:!1}},mouse:{wheelEnabled:!1}})}getGraphPosition(e){const t=this.L.latLngBounds(TB(e));return{center:e.size>0?t.getCenter():this.L.latLng([0,0]),zoom:this._clampZoom(this._map.getBoundsZoom(t))}}_initMap(){this._updateSettingsForMap(),this._mapContainer=kB(this._modules.dom.getContainer());const e=vt(we({},vB),{minZoom:this._settings.minZoomLevel,maxZoom:this._settings.maxZoomLevel});this._hasCustomProjection()&&(e.crs=this._settings.crs,e.worldCopyJump=!1,e.maxBoundsViscosity=0),this._map=new this.L.Map(this._mapContainer,e),this._setAttributionOptions(this._settings.attributionOptions,this._settings.attribution),this._setupLayers()}_clampZoom(e){let t=this._tileLayer.options.maxZoom;return t===void 0&&(t=1/0),Math.min(e,t)}_show(){let e;return this._filter?e=this.filter.enable(0):(this._filter=this._filters.addNodeFilter({criteria:t=>this._nodeIsVisible(t)}),e=this._filter.whenApplied()),e.then(()=>{this._initMap();const t=this._map,n=this._modules.graph.getNodes(),r=this._modules.graph.getEdges(),{center:i,zoom:s}=this.getGraphPosition(n),{offset:o,newCameraView:a}=this._transformToGeo();return this._modules.camera.setView(a,{ignoreZoomLimits:!0}).then(()=>(this._updatePrevNodesCoordinates(n),t.setView(i,s,{animate:!1}),this._modules.graphics.animate({nodes:n,edges:r},()=>{this._projection=this._createFinalPositionLayer()},!0,this._settings.duration))).then(()=>o.destroy())})}updateProjection(){var e;(e=this._projection)==null||e.update()}_hasCustomProjection(){return this._settings.crs!=null}_setupLayers(){this._settings.tiles&&(this._tileLayer=this._setupTileLayer(this._settings.tiles,this._settings.attribution,this._settings.opacity)),this._layer=new this.L.OgmaOverlay({container:this._modules.graphics.getDomElement(),mapContainer:this._mapContainer,onUpdate:()=>this._onMapUpdate()}),this._layer.addTo(this._map)}_adjustMinvisibleSizes(){return Promise.all([RB(this._modules.graph.getEdges(),this._edgesOriginalTextStyle,this._map.getZoom())])}_hide(){if(!this._map)return Promise.resolve();this._modules.settings.update(this._prevSettings);const e=this._map;e.removeLayer(this._layer);const t=this._modules.dom.getContainer(),n=this._modules.graphics.getDomElement();t&&t.appendChild(n),e.getContainer().style.zIndex="0";const r=this._modules.graph.getNodes("all"),i=this._modules.graph.getEdges("all"),{offset:s,newCameraView:o}=this._transformToGraph();return this._modules.camera.setView(o||{}).then(()=>Promise.all([gL(e.getContainer(),1,0,this._settings.duration/2).then(()=>this._destroyMapSync()),this._modules.graphics.animate({nodes:r,edges:i},()=>s&&s.destroy(),!0,this._settings.duration)])).then(()=>(this._map=null,this._filter.disable(0)))}_destroyMapSync(){if(this._map){this._layer&&this._layer._map&&this._map.removeLayer(this._layer),this._map.remove(),this._map._animatingZoom=!1,this._map=null;const e=this._mapContainer.parentNode;e&&e.removeChild(this._mapContainer)}}_transformToGeo(){const e=this._modules.graph.getNodes(),{offsetChanges:t,camera:n}=_U(e,this._modules.camera,this._modules.locate,(r,i)=>this._fromLatLngToPoint(r,i));return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}_addGraphAttributesLayer(e){return this._modules.graphics.addAttributeLayer(we({priority:dB,nodeSelector:t=>t.isVisible(),edgeSelector:t=>t.isVisible()},e))}_transformToGraph(){const e=this._modules.graph.getNodes("all"),{offsetChanges:t,camera:n}=yU(e,this._modules.camera,this._modules.locate,()=>{this._projection&&(this._projection.destroy(),this._projection=null)});return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}getPointFromLatLng(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return t==null?e.getAttributes(["x","y"]):this._fromLatLngToPoint(t,n)}_createFinalPositionLayer(){return this._addGraphAttributesLayer({name:"graph-2-geo-animation",nodeAttributes:{scalingMethod:"fixed",radius:e=>Number(e.getAttribute("radius"))*this._settings.sizeRatio,x:e=>this.getPointFromLatLng(e).x,y:e=>this.getPointFromLatLng(e).y},edgeAttributes:{scalingMethod:"fixed",width:e=>Number(e.getAttribute("width"))*this._settings.sizeRatio}})}setCenter(e,t){return this._enabled?this.setView(e,t,uf(this._modules.camera.getZoom())):Promise.resolve()}setZoom(e){return this._enabled&&this._map?(e=this._clampZoom(e),this._map.setZoom(e),new Promise(t=>{const n=this._map;if(n.getZoom()===e)return t(void 0);n.once("moveend zoomend",t)}).then(this._onMapUpdate)):Promise.resolve()}zoomIn(){return this.setZoom(this.getZoom()+1)}zoomOut(){return this.setZoom(this.getZoom()-1)}setView(e,t,n){if(!this._enabled||!this._map)return Promise.resolve();const r=this._map;n=this._clampZoom(n);const i=this.L.latLng([e,t]);return r.setView(i,n,{animate:!1,reset:!0}),new Promise(s=>{if(r.getZoom()===n&&r.getCenter().equals(i))return s(void 0);r.once("moveend zoomend",s)}).then(this._onMapUpdate)}getView(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{zoom:this._map.getZoom(),latitude:e.lat,longitude:e.lng}}getCenter(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{latitude:e.lat,longitude:e.lng}}getZoom(){if(this._enabled&&this._map)return this._map.getZoom()}resetCoordinates(){if(!this._enabled||!this._projection)return;const e=this._modules.graph.getNodes();this._restorePrevNodesCoordinates(this._modules.graph.getNodes());const t=this._modules.graph.getNodeAttribute(Vs).getMultiple(e._indexes),n=this._modules.graph.getNodeAttribute(Gs).getMultiple(e._indexes);e.setData(this._settings.latitudePath,t),e.setData(this._settings.longitudePath,n),this._projection.update()}getUnprojectedCoordinates(e){this._projection&&this._projection.destroy();const t=e.getPosition();return this._projection=this._createFinalPositionLayer(),t}get latitudePath(){return this._settings.latitudePath}get longitudePath(){return this._settings.longitudePath}get filter(){return this._filter}exportBackground(e){if(!this._map)return Promise.reject("Map is not ready");const{pixelRatio:t,width:n,height:r,zoom:i,x:s,y:o}=e,a=n*t,l=r*t,c=Vn(a,l),d=c.getContext("2d"),u=this._map;if(!d)throw new Error(`Unable to get 2d context from  ${c}`);const h=this.getView(),g=we({zoom:Math.round(uf(i*t))},this._fromPointToLatLng(s,o)),p=new this.L.Canvas;u.addLayer(p);const{vectorMap:m,tileLayers:_,vectorLayers:y,imageOverlays:f,markers:v}=mU(this._layer,u,d,this.L,t,p),x=u.options.zoomSnap;return Promise.resolve().then(()=>(sa(this._mapContainer,a+"px",l+"px"),u.invalidateSize({animate:!1}),this.setView(g.latitude,g.longitude,g.zoom))).then(()=>qT([...m,..._,...f,...y,...v])).then(()=>{sa(this._mapContainer,"100%","100%"),u.invalidateSize({animate:!1}),u.options.zoomSnap=x,this.setView(h.latitude,h.longitude,h.zoom)}).then(()=>new Promise(w=>this.L.Util.requestAnimFrame(w))).then(()=>u.removeLayer(p)).then(()=>c)}},wU=class extends st{constructor(){super(...arguments),this._context={edgesAlwaysCurvy:!1,directedEdges:!1}}onMounted(){this._attributeLayer=this._addAttributeLayer(),this._modules.settings.register("edgesAlwaysCurvy",!1,e=>{this._context.edgesAlwaysCurvy=e,this._attributeLayer.updateAll()}),this._modules.settings.register("directedEdges",!1,e=>{this._context.directedEdges=e,this._attributeLayer.updateAll()})}computeCurvature(e,t="visible",n){const{edgesAlwaysCurvy:r,directedEdges:i}=this._context,s=e.getSource()===e.getTarget();if(!r&&e.hasParallelEdges()===!1&&!s)return 0;let o=e.getParallelEdges({filter:t});n&&(o=o.filter(c=>n(c)));const a=o.indexOf(e);if(a===-1)return 0;let l;if(s)l=(a+1)*Math.max(+e.getAttribute("width")||0,1);else{const c=e.getSource(),d=o.size;if(d===1&&!r)return 0;if(i){let u=0;for(let h=0;h<a;++h)o.get(h).getSource()===c&&(u+=1);l=u+1}else{const u=c!==o.get(0).getSource();l=d%2!=1||r?(1+(a/2|0))*(a%2==0?1:-1)*(u?-1:1):a===0?0:((a+1)/2|0)*(a%2==0?1:-1)*(u?-1:1)}}return l}_addAttributeLayer(){return this._modules.graphics.addAttributeLayer({name:"curvature",priority:oB,edgeDependencies:{parallelEdges:!0},edgeContext:this._context,edgeAttributes:{curvature:e=>this.computeCurvature(e)}})}},BP="worker_start",bx="worker_update",oa="worker_stop",jP=class extends Yd{constructor(e,t){super(),this._complete=!1,this._destroyed=!1,this._data=null,this._onStart=ft,this._onStop=ft,this._setIdle=ft,this._onPause=ft,this.timer={start:0,steps:0},this._modules=t,this.configure(e)}configure({configure:e=Si,update:t=ft,context:n=ft,stop:r=ft,isRunning:i=_d,onStart:s=ft,onStop:o=ft,onPause:a=ft,setIdle:l=ft}){this._configure=e,this._update=t,this._createContext=n,this._isRunning=i,this._stop=r,this._onStart=s,this._onStop=o,this._setIdle=l,this._onPause=a}setData(e){this._data=e}getData(){return this._data}start(e){return this._complete=!1,this._onStart(),this.fire(BP,{target:this}),this.send(this._configure(e,this._modules)),this}stop(e){return this._complete||(this._onStop(),this.send({type:oa}),this._complete=!0),this}pause(){this._onPause()}setIdle(e){this._setIdle(e)}isBusy(){return!this._complete}destroy(){this._destroyed||(this._destroyed=!0,this._modules&&(this.stop(),delete this._modules))}},$P=/^function\s*\(/,UP=/^\(|^\w+\s?=>/;function th(e){const t=e.toString();return t.indexOf("function")===0||UP.test(t)?t:`function ${t}`}var EU=class extends jP{constructor(e,t){super(e,t);const n=th(this._createContext),r=th(this._update),i=th(this._isRunning),s=th(this._stop),o=`
      ${SU(e.imports)}
      const __CONTEXT = (${n})();
      const __UPDATE_FUNC = ${r} ;
      const __IS_RUNNING_FUNC = ${i};
      const __STOP_FN = ${s};
      let result;

      self.addEventListener("message", function (evt) {
        if (evt.data && evt.data.type === '${oa}') {
          __STOP_FN(__CONTEXT);
          return self.postMessage({ result, isRunning: false });
        }
        result = __UPDATE_FUNC(evt.data, __CONTEXT);
        const isRunning = __IS_RUNNING_FUNC(__CONTEXT, evt.data);

        self.postMessage({ result, isRunning });
      });
    `;this._worker=LL(o),this._worker.addEventListener("message",a=>{t.dom.isDestroyed()||this.onWorkerMessage(a)})}onWorkerMessage(e){const t=e.data.isRunning,n=e.data.result,r={data:void 0};return this.fire(bx,{worker:this,workerMessage:n,modules:this._modules,data:r,isRunning:t}),t?this.send(r.data):(this.fire(oa,{worker:this,result:n,modules:this._modules}),this.stop(n))}destroy(){super.destroy(),this._worker.terminate()}send(e){return this._complete||this._worker.postMessage(TL(e)),this}};function SU(e={}){const t=Object.keys(e),n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=e[s];if(typeof o!="function")throw new Error(`Asynchronous worker: dependency "${s}" is not found`);{const a=AU(o);a?(n.push(t2(o,s)),a!==s&&n.push(`var ${s} = ${a};`)):n.push(`var ${s} = ${t2(o,s)};`)}}return n.join(`
`)}function t2(e,t){const n=e.toString();return $P.test(n)?`function ${e.name||t} ${n.substring(n.indexOf("("))}`:UP.test(n)?`const ${e.name||t} = ${n.toString()}`:n}function AU(e){const t=e.toString();return e.name?e.name:$P.test(t)?null:t.substring(9,t.indexOf("(")).trim()}var CU=class extends jP{constructor(e,t){super(e,t),this._context=this._createContext()}sync(e){if(e&&e.type===oa)return this._stop(this._context);const t=this._update(e,this._context),n=this._isRunning(this._context,e),r={data:void 0};return this.fire(bx,{worker:this,workerMessage:t,modules:this._modules,data:r,isRunning:n}),n?this.send(r.data):(this.fire(oa,{worker:this,result:t,modules:this._modules}),this.stop(t))}send(e){return this._complete||this._modules.dom.setTimeout(()=>this.sync(e),0),this}},kU=class extends st{constructor(){super(...arguments),this._pool={}}create(e,t){const n=t&&kL,r=this._modules,i=`${e.name||"worker"}-${n?"async":"sync"}`;let s=this._pool[i];s||(s=this._pool[i]=[]);let o=s.find(a=>!a.isBusy());return o?o.configure(e):(o=n?new EU(e,r):new CU(e,r),this._pool[i].push(o)),o.on(oa,()=>{o.clearEvents(),this._pool[i].length<2||(o.destroy(),this._pool[i]=this._pool[i].filter(a=>a!==o))}),o}start(e,t){return e.start(t)}run(e,t,n){const r=this.create(e,n);return this.start(r,t)}destroy(){for(const e in this._pool)this._pool[e].forEach(t=>t.destroy()),delete this._pool[e]}};function TU(e,t,n,r=e.getNodes()){if(!t)return n?e.nodeList():r.filter(i=>i.getMetaNode()===null);if(!(t instanceof xs)){if(Array.isArray(t)&&t.length>0)return e.getNodes(t);throw Error("[Layout]: 'nodes' must be a NodeList or an NodeId[]")}return t}function LU(e,t,n=e.getEdges()){if(!t)return n;if(!(t instanceof ca)){if(Array.isArray(t)&&t.length>0)return e.getEdges(t);throw Error("[Layout]: 'edges' must be a EdgeList or a valid EdgeId[]")}return t}function NU(e){if(!e.size)return;const t=new Set(e.getId());return e.getAdjacentEdges().filter(n=>n.getExtremities().getId().every(r=>t.has(r)))}function VP(e,t={},n=!0){n||(t.edges=void 0);const r=TU(e,t.nodes,t.edges),i=LU(e,t.edges,NU(r));return vt(we({},t),{nodes:r.concat(i.getExtremities()).dedupe(),edges:i})}var IU=16,nh={duration:500,skipTextDrawing:!0,useWebWorker:!0,locate:!1},PU=class extends st{constructor(){super(...arguments),this._running=[],this._textsHidden=!1,this.onInteractionStart=()=>{this.setWorkersIdle(!0)},this.onViewChanged=()=>{this.setWorkersIdle(!1)},this.onVisibilityChange=()=>{fs().hidden?this.setWorkersIdle(!0):this.setWorkersIdle(!1)},this._onWorkerUpdate=(e,t,n,r,i,s)=>{const{duration:o,onSync:a,onUpdate:l,dryRun:c,locate:d}=s;if(a&&this._modules.dom.setTimeout(()=>a(n,this._modules,r),o),i){const u=i(n,this._modules,r);this._modules.events.fire("layoutComputed",{type:"layoutComputed",name:t,positions:u}),l&&l(n,u,r);const h=this._assignNodePositions(u,o,c);r||(d&&u&&this._animateCamera(u,d,s.duration),h.then(()=>e.fire("taskComplete",u)))}else r||e.fire("taskComplete",n)},this._onWorkerComplete=(e,t,n,r,i,s,o)=>{for(let u=0;u<this._running.length;u++)if(this._running[u]===e){this._running.splice(u,1);break}r.onStop&&t&&r.onStop(i,t,this._modules);const a=this._modules.graph.nodeList(new Uint32Array(o.indexes)),l=i.dryRun&&t?n:this.collectNodesData(a),c=a.getId(),d={before:Af(o),current:Af(l)};this._modules.events.fire("layoutEnd",{type:"layoutEnd",name:r.name,positions:d,ids:c}),this._modules.dom.setTimeout(()=>{i.onEnd&&i.onEnd(t),i.skipTextDrawing&&this._textsHidden&&(this._modules.graphics.showTexts(),this._textsHidden=!1),s({name:r.name,positions:d,ids:c})})},this._onWorkerStart=(e,t,n)=>{t.skipTextDrawing&&!this._textsHidden&&(this._modules.graphics.hideTexts(),this._textsHidden=!0);const r=this._modules.graph.getNodes(t.nodes),i=this.collectNodesData(r),s=i.ids;n.setData(i),this._modules.events.fire("layoutStart",{type:"layoutStart",name:e.name,ids:s,worker:n})}}onMounted(){this._layouts={},this.timers=new Map,this._modules.events.register(["layoutStart","layoutEnd","layoutComputed"]),this._modules.events.on("clearGraph",()=>this.stop()).on(["dragStart","zoomStart"],this.onInteractionStart).on(["dragEnd","viewChanged"],this.onViewChanged),this._modules.dom.addDocumentEventListener("visibilitychange",this.onVisibilityChange)}setWorkersIdle(e){this._running.forEach(t=>t.setIdle(e))}register(e){if(this._layouts[e.name])throw new Error(`Layout ${e.name} already exists`);this._layouts[e.name]=e}getAvailableLayouts(){return Object.keys(this._layouts)}start(e,t={}){const n=this._layouts[e],r=VP(this._modules.graph,t,["radial","grid"].indexOf(e)===-1);return new Promise(i=>{if(!n)throw new Error(`layout ${e} does not exist`);r.duration=typeof r.duration=="number"?r.duration:nh.duration;const s=n.onSync;r.skipTextDrawing=r.skipTextDrawing===void 0?!!nh.skipTextDrawing:!!r.skipTextDrawing;let o=r.locate||nh.locate;o&&typeof o=="boolean"&&(o={}),r.locate=o;const a={name:e,update:n.update,isRunning:n.isRunning,configure:n.configure,context:n.context,imports:n.imports,stop:n.stop,setIdle:n.setIdle};this._modules.graphics.forceAttributesComputation();const l=r.useWebWorker===void 0?!!nh.useWebWorker:!!r.useWebWorker,c=this._modules.workers.create(a,l);c.on(BP,()=>{n.onStart&&n.onStart(t),this._onWorkerStart(n,r,c)}).on(bx,({workerMessage:d,isRunning:u})=>{const h=d.lastUpdate||-1/0,g=er();u&&(!r.continuous||g-h<IU)||(d.lastUpdate=g,this._onWorkerUpdate(c,e,d,u,s,r))}).on(oa,({result:d})=>{c.once("taskComplete",u=>{this._onWorkerComplete(c,d,u,n,r,i,c.getData())})}),this._modules.workers.start(c,r),this._running.push(c)})}_animateCamera(e,t,n){if(e.indexes.length===0)return Promise.resolve();const r=this._modules.locate.layoutDataBoundingBox(e),i=this._modules.locate.computeConfigForBounds(r,t);return this._modules.camera.setView(i,{duration:n,easing:t.easing,ignoreZoomLimits:!0})}stop(){for(;this._running.length!==0;){const e=this._running.pop();e.stop(),e.fire("taskComplete",null)}return Promise.resolve()}isRunning(){return this._running.length!==0}_assignNodePositions(e,t,n){if(!e||n){const l=e?new Uint32Array(e.indexes):void 0,c=this._modules.graph.nodeList(l);return Promise.resolve(c)}const{indexes:r,x:i,y:s}=e,o=this._modules.graph.nodeList(new Uint32Array(r)),a=Af(e);for(let l=0;l<a.length;l++)a[l]={x:i[l],y:s[l]};return o.setAttributes(a,t)}collectNodesData(e){const t=e._indexes,n=this._modules.graph.getNodeAttribute("x").getMultiple(t),r=this._modules.graph.getNodeAttribute("y").getMultiple(t);return{ids:e.getId(),indexes:t,x:n,y:r}}};function Af({x:e,y:t,indexes:n}){const r=n.length,i=new Array(r);for(let s=0;s<r;s++)i[s]={x:e[s],y:t[s]};return i}var MU=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n||[],this._filter=r,this._unwindArrays=i,this._onUpdateHandlers=[],this._triggerUpdate=s=>{for(let o=0;o<this._onUpdateHandlers.length;++o)this._onUpdateHandlers[o](s)},this._info=e.watchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}onUpdate(e){this._onUpdateHandlers.push(e)}getPropertyInfo(){return this._info}getPath(){return this._path.slice()}destroy(){this._module.unwatchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}},FU=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n,this._filter=r,this._unwindArrays=i,this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[]}get path(){return this._path}onPropertyAdded(e){return this._onAddHandlers.push(e),this}onPropertyRemoved(e){return this._onRemoveHandlers.push(e),this}onPropertyUpdated(e){return this._onUpdateHandlers.push(e),this}getPath(){return this._path.slice()}getProperties(){return this._propertyList.slice()}getPropertyInfo(e){const t=this._properties[e];return t?t.info:null}destroy(){$i(this._properties,({handler:t},n)=>{const r=this._path.concat([n]);this._module.unwatchPropertyInformation(this._isNode,r,t,this._filter,this._unwindArrays)}),this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[];const e=this._module._objectPropertyWatchers.indexOf(this);this._module._objectPropertyWatchers.splice(e,1)}updateSubPropertiesToWatch(e,t){if(e!==this._isNode)return;const n=t.getData(this._path);for(let r=0;r<n.length;r++){const i=n[r];if(na(i)){const s=Object.keys(i);for(let o=0;o<s.length;o++)this._addSubPropertyToWatch(s[o])}}}_addSubPropertyToWatch(e){if(!this._properties[e]){const t=this._path.concat([e]),n=()=>this._triggerPropertyUpdate(e),r=this._unwindArrays,i=this._isNode,s=this._filter,o=this._module.watchPropertyInformation(i,t,n,s,r);this._properties[e]={handler:n,info:o},this._triggerPropertyUpdate(e)}}_triggerPropertyUpdate(e){const{info:t}=this._properties[e],n=this._propertyList.indexOf(e),r=n!==-1,i=t.getType()!=="undefined";!r&&i?(this._propertyList.push(e),this._triggerHandlers("_onAddHandlers",e,t),this._triggerHandlers("_onUpdateHandlers",e,t)):r&&!i?(this._propertyList.splice(n,1),this._triggerHandlers("_onUpdateHandlers",e,t),this._triggerHandlers("_onRemoveHandlers",e,t)):r&&i&&this._triggerHandlers("_onUpdateHandlers",e,t)}_triggerHandlers(e,t,n){const r=this[e];for(let i=0,s=r.length;i<s;i++)r[i](t,n)}},RU=class{constructor(){}setWatcher(e){this._watcher=e}isNode(){return this._watcher.isNode}getPath(){return this._watcher.property.slice()}getBoundaries(){const e=this._watcher.boundaries;return e?{min:e.min,max:e.max}:null}getValues(){return this._watcher.values.keys()}getValueCount(e){return this._watcher.values.get(e)||0}getCount(){return this._watcher.total}getType(){return this._watcher.any>0?"any":this._watcher.numbers>0?"number":"undefined"}};function n2(e){return typeof e=="number"&&isNaN(e)}var r2=class{constructor(){this._keys=[],this._values=[]}set(e,t){const n=this._getIndex(e);return n===-1?(this._keys.push(e.slice()),this._values.push(t),!0):(this._values[n]=t,!1)}get(e){const t=this._getIndex(e);return t===-1?void 0:this._values[t]}has(e){return this._getIndex(e)!==-1}delete(e){const t=this._getIndex(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),!0)}keys(){return this._keys.map(e=>e.slice())}values(){return this._values.slice()}_getIndex(e){for(let t=0;t<this._keys.length;t++){const n=this._keys[t];if(n.length===e.length){let r=!0;for(let i=0;i<e.length;i++){const s=n[i],o=e[i];if(!(s===o||n2(s)&&n2(o))){r=!1;break}}if(r)return t}}return-1}get size(){return this._keys.length}},DU=class{constructor(){this._map=new Map,this._arrays=new r2}clear(){return this._arrays=new r2,this._map.clear()}delete(e){return $n(e)?this._arrays.delete(e):this._map.delete(e)}get(e){return $n(e)?this._arrays.get(e):this._map.get(e)}set(e,t){return $n(e)?this._arrays.set(e,t):this._map.set(e,t),this}keys(){return[...jp(this._map),...this._arrays.keys()]}values(){return[...co(this._map),...this._arrays.values()]}get size(){return this._map.size+this._arrays.size}};function nm(e){return typeof e=="number"&&isFinite(e)}var zU=class extends st{constructor(){super(...arguments),this._onExcludedStateChange=({elements:e,value:t})=>{const n=!t;for(let r=0,i=this._propertyWatchers.length;r<i;r++){const s=this._propertyWatchers[r];s.isNode===e.isNode&&s.filter==="visible"&&(n?yc(s,e.getData(s.property)):Oh(s,e.getData(s.property)),rh(s))}},this._onDataChange=({isNode:e,changes:t})=>{for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.property,s=r.filter==="all";if(r.isNode===e)for(let o=0;o<t.length;++o){const a=t[o],l=jU(a.property||[],i);if(l){const c=a.nodes||a.edges,d=[],u=[];if(c)for(let h=0;h<c.size;++h){const g=c.get(h);(s||g.isVisible())&&(d.push(sn(a.newValues[h],l)),u.push(sn(a.previousValues[h],l)))}d.length&&(yc(r,d),Oh(r,u),rh(r))}}}for(let n=0,r=this._objectPropertyWatchers.length;n<r;n++){const i=this._objectPropertyWatchers[n],s=i.path;for(let o=0;o<t.length;++o){const{property:a,nodes:l,edges:c}=t[o],d=l||c;if(d){const u=d.isNode;(!a||a.length<=s.length+1&&s.every((h,g)=>h===a[g]))&&i.updateSubPropertiesToWatch(u,d)}}}},this._onElementsAdded=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n];if(r.isNode===t.isNode){const i=t.getData(r.property);i.length&&(yc(r,i),rh(r))}}for(let n=0;n<this._objectPropertyWatchers.length;n++)this._objectPropertyWatchers[n].updateSubPropertiesToWatch(t.isNode,t)},this._onElementsRemoved=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.filter==="all";if(r.isNode===t.isNode&&i){const s=t.getData(r.property);s.length&&(Oh(r,s),rh(r))}}},this._onGraphClear=()=>{this._propertyWatchers.forEach(e=>{e.numbers=0,e.any=0,e.total=0,e.boundaries=null,e.values.clear()})}}onMounted(){this._propertyWatchers=[],this._objectPropertyWatchers=[],this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on(["updateNodeData","updateEdgeData"],this._onDataChange).on(["addNodes","addEdges"],this._onElementsAdded).on(["removeNodes","removeEdges"],this._onElementsRemoved).on("clearGraph",this._onGraphClear)}watchNodeObjectProperty(e){return this._watchObjectProperty(!0,ih(e))}watchEdgeObjectProperty(e){return this._watchObjectProperty(!1,ih(e))}watchNodeNonObjectProperty(e){return this._watchNonObjectProperty(!0,ih(e))}watchEdgeNonObjectProperty(e){return this._watchNonObjectProperty(!1,ih(e))}watchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i)||this._createWatcher(e,t,r,i);return n&&s.onChange.push(n),s.info}unwatchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i);if(!s)return;const o=s.onChange,a=o.indexOf(n);if(a!==-1&&(o.splice(a,1),o.length===0)){const l=this._propertyWatchers.indexOf(s);this._propertyWatchers.splice(l,1)}}_watchObjectProperty(e,t){const n=new FU(this,e,t);return this._objectPropertyWatchers.push(n),n.updateSubPropertiesToWatch(e,this._modules.graph[e?"getNodes":"getEdges"](t.filter)),n}_watchNonObjectProperty(e,t){return new MU(this,e,t)}_findWatcher(e,t,n,r){for(let i=0;i<this._propertyWatchers.length;++i){const s=this._propertyWatchers[i];if(s.isNode===e&&s.filter===n&&s.unwindArrays===r&&BU(s.property,t))return s}return null}_createWatcher(e,t,n,r){const i={isNode:e,property:t,numbers:0,any:0,total:0,values:new DU,boundaries:null,onChange:[],filter:n,unwindArrays:r,info:new RU};return i.info.setWatcher(i),yc(i,this._modules.graph[e?"getNodes":"getEdges"](n).getData(t)),this._propertyWatchers.push(i),i}};function i2(e){return e==null?[]:ta(e)}function OU(e){return e==="all"?"all":"visible"}function rh(e){for(let t=0;t<e.onChange.length;++t)e.onChange[t](e.info)}function BU(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function jU(e,t){if(e.length>t.length)return null;let n=0;for(;n<e.length;++n)if(e[n]!==t[n])return null;return t.slice(n)}function yc(e,t,n){const r=e.values,i=!n&&e.unwindArrays;for(let s=0;s<t.length;++s){const o=t[s];if(n||o===void 0||(e.total+=1),i&&Array.isArray(o))yc(e,o,!0);else{const a=r.get(o);a?r.set(o,a+1):(r.set(o,1),nm(o)?(e.boundaries?o<e.boundaries.min?e.boundaries.min=o:o>e.boundaries.max&&(e.boundaries.max=o):e.boundaries={min:o,max:o},e.numbers+=1):o!==void 0&&(e.any+=1))}}}function Oh(e,t,n){const r=e.values,i=!n&&e.unwindArrays,s=e.boundaries;let o=!1;for(let a=0;a<t.length;++a){const l=t[a];if(n||l===void 0||(e.total-=1),i&&Array.isArray(l))o=o||Oh(e,l,!0);else{const c=r.get(l);c>1?r.set(l,c-1):(r.delete(l),nm(l)?(e.numbers-=1,!s||s.min!==l&&s.max!==l||(o=!0)):l!==void 0&&(e.any-=1))}}return!n&&o&&(e.boundaries=$U(r.keys())),o}function $U(e){let t=null,n=null;for(let r=0;r<e.length;++r){const i=e[r];nm(i)&&((t==null||i<t)&&(t=i),(n==null||i>n)&&(n=i))}return t==null||n==null?null:{min:t,max:n}}function ih(e){return typeof e!="object"||e===null||Array.isArray(e)?{path:i2(e),filter:"visible",unwindArrays:!1}:{path:i2(e.path),filter:OU(e.filter||"visible"),unwindArrays:!!e.unwindArrays}}var UU=class extends st{onMounted(){this._modules.events.register(["virtualDown","virtualUp","virtualMove","virtualClick","virtualDoubleClick","virtualWheel"])}get x(){return this._modules.position.x||0}get y(){return this._modules.position.y||0}_later(){return this._modules.dom.afterNextFrame()}move({x:e,y:t}){if(e!==void 0&&t!==void 0){const n=e-this.x,r=t-this.y;this._modules.events.fire("virtualMove",{x:e,y:t,dx:n,dy:r})}return Promise.resolve()}down({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>{this._modules.events.fire("virtualDown",{x:this.x,y:this.y,button:n}),this._modules.events.fire("virtualMove",{x:this.x,y:this.y,dx:0,dy:0,button:n})})}up({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>{this._modules.events.fire("virtualUp",{x:e,y:t,button:n})})}click({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>{this._modules.events.fire("virtualClick",{x:e,y:t,button:n})})}rightClick({x:e,y:t,button:n="right"}={}){return this.move({x:e,y:t}).then(()=>{this._modules.events.fire("virtualClick",{x:e,y:t,button:n})})}doubleclick({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>{this._modules.events.fire("virtualDoubleClick",{x:e,y:t,button:n})})}drag(e,t){return this.down(e).then(()=>this.move(t)).then(()=>this.up(t))}wheel({x:e,y:t,delta:n}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualWheel",{x:e,y:t,delta:n}),this._later()))}};function Zr(e,t,n,r,i,s){const o=Lr(),a=s.graphToScreenCoordinates(e),l=s.graphToScreenCoordinates(t);i.beginPath(),i.moveTo(a.x*o,a.y*o),i.lineTo(l.x*o,l.y*o),i.strokeStyle=r,i.lineWidth=n,i.stroke()}function s2(e,t,n,r){let i,s,o,a=0,l=e.length-1;for(;a<l&&a>-1;)if(i=(a+l)/2|0,s=Math.abs(t[e[i]]-n),o=Math.abs(t[e[i+1]]-n),o<s)a=i+1;else if(o>s)l=i;else{const c=Math.abs(t[e[a]]-n),d=Math.abs(t[e[l]]-n);if(c<d)l=i;else{if(!(c>d))return l;a=i+1}}return r?l:e[l]}function o2(e,t,n,r,i,s,o){let a,l,c,d,u,h;for(let g=0,p=e.length;g<p;g++)for(let m=0;m<p;m++){if(g===m)continue;let _=e[g],y=e[m];m<g&&(d=y,y=_,_=d);const f=t[_],v=t[y],x=s.get(_),w=s.get(y);if(f+x<r-i&&v-w>r+i&&Math.abs(Math.abs(f+x-(r-i))-Math.abs(v-w-(r+i)))<=o)return a=_,l=n,c=y,h=f+x+Math.abs(v-w-(f+x))/2,u=[f+x,h-i,h+i,v-w],{a,b:l,c,current:n,target:h,points:u};if(f+x<r-i&&v+w<r-i&&Math.abs(Math.abs(f+x-(v-w))-Math.abs(Math.max(f+x,v+w)-(r-i)))<=o)return a=_,l=y,c=n,h=v+x+Math.abs(Math.abs(f+x-(v-w)))+i,u=[f+x,v-w,v+w,h-i],{a,b:l,c,current:n,target:h,points:u};if(f-x>r+i&&v-w>r+i&&Math.abs(Math.abs(f+x-(v-w))-Math.abs(Math.min(f-x,v-w)-(r+i)))<=o)return a=n,l=_,c=y,h=f-x-Math.abs(Math.abs(f+x-(v-w)))-i,u=[h+i,f-x,f+x,v-w],{a,b:l,c,current:n,target:h,points:u}}return null}var Cf={enabled:!1,tolerance:5,centerSnapDistance:240,sideSnapDistanceFactor:3,guidelineWidth:1,guidelineColor:"#ff0000",preferredDistance:{enabled:!0,ratio:1.13,tolerance:10,lineColor:"#00C3FF",lineWidth:1},neighbours:{enabled:!0,offset:5,tolerance:3,lineColor:"#00C3FF",lineWidth:1}},VU=class extends st{constructor(){super(...arguments),this._options=an(Cf),this._enabled=!1,this._ysnap=0,this._xsnap=0,this._node=null,this._nodes=null,this._r=0,this._vguideline={start:{x:0,y:0},end:{x:0,y:0}},this._hguideline={start:{x:0,y:0},end:{x:0,y:0}},this._gridResolution=0,this._onNodeDragStart=({nodes:e})=>{e.size===1&&(this._node=e.get(0),this._cacheViewportData(),this._r=Number(this._node.getAttribute("radius")))},this._onNodeDragEnd=()=>{this._node=null,this._layer.refresh()}}onMounted(){this._options=an(Cf),this._enabled=!1}enable(e){this._enabled||(this._options=qr(e,Cf),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{t.clearRect(0,0,t.canvas.width,t.canvas.height)},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._modules.events.on("nodesDragStart",this._onNodeDragStart).on("nodesDragEnd",this._onNodeDragEnd),this._modules.settings.update({"interactions.drag.onBeforeDrag":(t,n,r,i)=>this._onBeforeDrag(n,r,i)}))}disable(){this._enabled&&(this._modules.events.off(this._onNodeDragStart).off(this._onNodeDragEnd),this._layer.destroy(),this._modules.settings.update({"interactions.drag.onBeforeDrag":null}),this._enabled=!1)}enabled(){return this._enabled}_onBeforeDrag(e,t,n){if(this._node){const r=n[0];this._layer.refresh(i=>{this._scan(i,r)}),this._node.setAttributes(r)}}_cacheViewportData(){const e=this._modules.camera,t=e.screenToGraphCoordinates({x:0,y:0}),n=e.screenToGraphCoordinates({x:e.width,y:e.height});if(this._nodes=this._modules.spatial.getNodesByBoundingBox(t.x,t.y,n.x,n.y),this._node==null)return;const r=this._node._index,i=Array.from(this._nodes._indexes);i.splice(i.indexOf(r),1);const s=this._modules.graph.getNodeAttribute("radius"),o=this._modules.graph.getNodeAttribute("x"),a=this._modules.graph.getNodeAttribute("y"),l=o.buffer(),c=a.buffer(),d=lc(i.slice(),o),u=lc(i.slice(),a),h={},g={};this._gridResolution=Number(this._node.getAttribute("radius"));const p=this._gridResolution;for(let m=0,_=i.length;m<_;m++){const y=d[m],f=u[m],v=l[y]/p|0,x=c[f]/p|0;h[v]||(h[v]=[]),g[x]||(g[x]=[]),h[v].push(y),g[x].push(f)}this._nodesByX=d,this._nodesByY=u,this._xGrid=h,this._yGrid=g,this._xList=o,this._yList=a,this._X=l,this._Y=c,this._R=s}_scan(e,t){if(this._node==null)return;const n=this._node._index,r=t.x,i=t.y,s=this._r,o=this._options,a=this._xList,l=this._yList,c=this._R,d=this._X,u=this._Y,h=this._modules.camera.zoom,g=Math.min(s,this._options.tolerance/h),p=2*s*o.sideSnapDistanceFactor,m=o.guidelineWidth,_=o.guidelineColor;let y,f,v,x,w,b,A,S,k=n,C=n,N=null,D=!1,j=!1;if(k=s2(this._nodesByX,d,r),C=s2(this._nodesByY,u,i),Math.abs(d[k]-r)>o.centerSnapDistance&&(k=n),Math.abs(u[C]-i)>o.centerSnapDistance&&(C=n),this._xsnap=0,k!==n){y=this._vguideline.start,f=this._vguideline.end,S=k,v=d[S],x=u[S],N=c.get(S),A=Math.abs(r-v);const U=Math.abs(r-s-(v-N)),F=Math.abs(r+s-(v+N));if(A<Math.max(s,N)){x<i?(y.y=x-N,f.y=i+s):(y.y=x+N,f.y=i-s);const T=Math.min(U,A,F);T===A?(y.x=f.x=v,f.y=i,y.y=x,this._xsnap=1):Math.abs(i-x)<N+s+p&&(T===U?(y.x=f.x=v-N,this._xsnap=2):(y.x=f.x=v+N,this._xsnap=3)),T<g&&(D=!0)}this._xsnap!==0&&Zr(y,f,m,_,e,this._modules.camera)}if(this._ysnap=0,C!==n){y=this._hguideline.start,f=this._hguideline.end,S=C,v=d[S],x=u[S],N=c.get(S),A=Math.abs(i-x);const U=Math.abs(i-s-(x-N)),F=Math.abs(i+s-(x+N));if(A<Math.max(s,N)){v<r?(y.x=v-N,f.x=r+s):(y.x=v+N,f.x=r-s);const T=Math.min(U,A,F);T===A?(y.y=f.y=x,f.x=r,y.x=v,this._ysnap=1):Math.abs(r-v)<N+s+p&&(T===U?(y.y=f.y=x-N,this._ysnap=4):(y.y=f.y=x+N,this._ysnap=5)),T<g&&(j=!0)}this._ysnap!==0&&Zr(y,f,m,_,e,this._modules.camera)}if(N!=null&&o.preferredDistance.enabled){const U=o.preferredDistance.ratio,F=Math.min(o.preferredDistance.tolerance/h,s),T=Math.max(s,N);if(k===n||this._xsnap!==0&&D){if(C!==n&&(this._ysnap===0||!j)&&(S=C,v=d[S],x=u[S],N=c.get(S),b=Math.abs(i-x)-(s+N)*(1+U),b<=F&&b>=-F)){const q=i<x?-1:1;y=this._hguideline.start,f=this._hguideline.end,y.x=v-T,f.x=v+T,y.y=f.y=x,Zr(y,f,m,_,e,this._modules.camera),y.x=r-T,f.x=r+T,y.y=f.y=x+q*(1+U)*(s+N),Zr(y,f,m,_,e,this._modules.camera),this._ysnap=1,j=!0}}else if(S=k,v=d[S],x=u[S],N=c.get(S),w=Math.abs(r-v)-(s+N)*(1+U),w<=F&&w>=-F){const q=r<v?-1:1;y=this._vguideline.start,f=this._vguideline.end,y.x=f.x=v+q*(1+U)*(s+N),y.y=x-T,f.y=x+T,y.x=f.x=v,Zr(y,f,m,_,e,this._modules.camera),y.y=i-T,f.y=i+T,y.x=f.x=v+q*(1+U)*(s+N),Zr(y,f,m,_,e,this._modules.camera),this._xsnap=1,D=!0}}if(o.neighbours.enabled){const U=this._gridResolution,F=r/U|0,T=i/U|0,q=this._xGrid,V=this._yGrid,J=[],oe=[].concat(V[T-1]||J,V[T]||J,V[T+1]||J),ie=[].concat(q[F-1]||J,q[F]||J,q[F+1]||J);let pe;oe.length>1&&(lc(oe,a),pe=o2(oe,d,n,r,s,c,g),pe&&(this._drawNeighbourGuidelines(e,pe,t,!1),D=!1)),ie.length>1&&!pe&&(lc(ie,l),pe=o2(ie,u,n,i,s,c,g),pe&&(this._drawNeighbourGuidelines(e,pe,t,!0),j=!1))}(D||j)&&this._snap(t,!D,!j)}_drawNeighbourGuidelines(e,{a:t,b:n,c:r,points:i,target:s},o,a){const l={x:0,y:0},c={x:0,y:0},d=this._R,u=this._X,h=this._Y;let[g,p,m]=d.getMultiple([t,n,r]);const{offset:_,lineWidth:y,lineColor:f}=this._options.neighbours;let v,x;a?(o.y=s,g=-g,p=-p,m=-m,v=c.x=l.x=Math.min(u[t]+g,u[n]+p,u[r]+m)-_,x=u):(o.x=s,v=c.y=l.y=Math.max(h[t]+g,h[n]+p,h[r]+m)+_,x=h);const w=a?"y":"x",b=a?"x":"y";l[w]=i[0],c[w]=i[1],Zr(l,c,y,f,e,this._modules.camera),l[w]=i[2],c[w]=i[3],Zr(l,c,y,f,e,this._modules.camera),l[w]=i[0],l[b]=v-_/2,c[w]=i[0],l[b]=x[t]+g,Zr(l,c,y,f,e,this._modules.camera),l[w]=i[1],l[b]=v-_/2,c[w]=i[1],l[b]=x[n]+p,Zr(l,c,y,f,e,this._modules.camera),l[w]=i[2],l[b]=v-_/2,c[w]=i[2],l[b]=x[n]+p,Zr(l,c,y,f,e,this._modules.camera),l[w]=i[3],l[b]=v-_/2,c[w]=i[3],l[b]=x[r]+m,Zr(l,c,y,f,e,this._modules.camera)}_snap(e,t,n){const r=this._xsnap,i=this._ysnap;let s;t||r===0||(s=this._vguideline.end,e.x=r===2?s.x+this._r:r===3?s.x-this._r:s.x),n||i===0||(s=this._hguideline.end,e.y=i===4?s.y+this._r:i===5?s.y-this._r:s.y)}},GU=class{constructor(e,t,n){this._module=e,this._id=t,this._whenApplied=n.then(()=>this)}getId(){return this._id}whenApplied(){return this._whenApplied}refresh(){return this._module.refreshRule(this._id)}getIndex(){return this._module.getRuleIndex(this._id)}setIndex(e){return this._module.setRuleIndex(this._id,e)}update(e){return this._module.updateRule(this._id,e)}getDefinition(){return this._module.getRuleDefinition(this._id)}destroy(){return this._module.destroyRule(this._id)}},HU=1e3,WU=1/HU,qU=class extends st{constructor(){super(...arguments),this._idCounter=1,this._rules=[]}onMounted(){this._rules=[],this._modules.events.register(["addStyleRule","removeStyleRule","updateStyleRule","refreshStyleRule"])}_get(e){for(let t=0;t<this._rules.length;++t){const n=this._rules[t];if(n.id===e)return n.index=t,n}throw new Error("calling a method on a destroyed style rule")}_updatePriorities(){for(let e=0;e<this._rules.length;++e){const t=this._rules[e],n=aB+e*WU;t.attributeLayer.update({priority:n})}}addRule(e={}){const t=this._idCounter++,n=this._modules.graphics.addAttributeLayer(we({name:`rule(${t})`},a2(e))),r=this._modules.dom.afterNextFrame(),i=new GU(this,t,r),s={id:t,attributeLayer:n,wrapper:i};return this._rules.push(s),this._updatePriorities(),this._modules.events.fire("addStyleRule",{rule:s,options:e,id:s.id}),i}getRuleIndex(e){const t=this._get(e);return t.index==null?null:t.index}setRuleIndex(e,t){const n=this._get(e),r=Vr(t,0,this._rules.length-1);return this._rules.splice(n.index,1),this._rules.splice(r,0,n),this._updatePriorities(),this._modules.dom.afterNextFrame()}updateRule(e,t){const n=this._get(e),r=Object.assign({fullOverwrite:t.fullOverwrite},t);return n.attributeLayer.update(r),this._modules.events.fire("updateStyleRule",{rule:n,options:t}),this._modules.dom.afterNextFrame()}getRuleDefinition(e){return a2(this._get(e).attributeLayer.getDefinition())}destroyRule(e){const t=this._get(e);return this._modules.events.fire("removeStyleRule",{rule:t,id:t.id}),t.attributeLayer.destroy(),this._rules.splice(t.index,1),this._modules.dom.afterNextFrame()}refreshRule(e){const t=this._get(e);return t.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:t,id:e}),this._modules.dom.afterNextFrame()}refreshAllRules(){for(const e of this._rules)e.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:e,id:e.id});return this._modules.dom.afterNextFrame()}getRuleList(){return this._rules.map(e=>e.wrapper)}};function a2(e){return{nodeAttributes:e.nodeAttributes,edgeAttributes:e.edgeAttributes,nodeSelector:e.nodeSelector,edgeSelector:e.edgeSelector,nodeDependencies:e.nodeDependencies,edgeDependencies:e.edgeDependencies,nodeOutput:e.nodeOutput,edgeOutput:e.edgeOutput}}var G0,l2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e})=>e.setSelected(!0),bothExtremities:!1},GP=class extends st{constructor(){super(...arguments),this._enabled=!1,this._points=[],this._bbox=new Cn,this._onStart=({x:e,y:t})=>{this._bbox.reset(),this.savePoint(e,t,!1)},this._onStop=()=>{const{minX:e,minY:t,maxX:n,maxY:r}=this._bbox,{nodes:i,edges:s}=this._modules.spatial.queryProjected(e,t,n,r),o={},a=i.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable"),h=d&&u&&this._modules.locate.isNodeInPolygon(c,this._points);return o[c._index]=h,h});let l=s.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable");return d&&u&&this._modules.locate.isEdgeInPolygon(c,this._points)});this._options.bothExtremities&&(l=this.filterByExtremities(l,o)),this._layer.clear(),this._points=[],this.disable(),this._options.callback({nodes:a,edges:l})}}onMounted(){this._options=an(l2),this._cachedCursor="",this._modules.events.isRegistered("lassoEnabled")||this._modules.events.register(["lassoEnabled","lassoDisabled"]),this._interaction=this._modules.interactions.onDrag({priority:"lasso",check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this.savePoint(e,t,!0),onStop:this._onStop})}enable(e={}){var t;return this._enabled||(this._enabled=!0,this._modules.captor.setDetectionEnabled(!1),this._options=qr(e,l2),this._layer=this._modules.layers.addCanvasLayer(ft,{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._cachedCursor=((t=this._layer.element.parentElement)==null?void 0:t.style.cursor)||"",Ag(this._layer.element.parentElement,this._options.cursorStyle),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorPosition()),this._modules.events.fire("lassoEnabled")),this}disable(){return this._enabled?(this._enabled=!1,this._modules.captor.setDetectionEnabled(!0),Ag(this._layer.element.parentElement,this._cachedCursor),this._layer.destroy(),this._modules.events.fire("lassoDisabled"),this):this}enabled(){return this._enabled}savePoint(e,t,n){const r=Lr(),i=this._options,s=this._points;if(this._bbox.addPoint(e,t),s.push({x:e,y:t}),n){const o=s[0];this._layer.refresh(a=>{a.lineWidth=i.strokeWidth,a.lineJoin="bevel",a.strokeStyle=i.strokeColor,a.fillStyle=i.fillColor,a.beginPath(),a.moveTo(o.x*r,o.y*r);for(let l=1;l<s.length;++l){const c=s[l];a.lineTo(c.x*r,c.y*r)}a.stroke(),i.fillColor&&a.fill()})}}filterByExtremities(e,t){const n=this._modules.graph.getEdgeAttribute("source"),r=this._modules.graph.getEdgeAttribute("target");return e.filter(i=>{const s=i._index,o=n.get(s),a=r.get(s);return t[o]&&t[a]})}},c2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e,edges:t})=>{e.size?e.setSelected(!0):t.setSelected(!0)},bothExtremities:!1},XU=class extends GP{constructor(){super(...arguments),this._onStart=({x:e,y:t})=>{var n;this._rectangle.reset(),this._start={x:e,y:t},(n=this._layer)==null||n.refresh(r=>{r.fillStyle=this._options.fillColor,r.strokeStyle=this._options.strokeColor,r.lineWidth=this._options.strokeWidth})},this._onStop=()=>{var e;const t=this._modules.captor.getCursorPosition(),n=this._formatRectangle(t),{nodes:r,edges:i}=this._modules.spatial.queryProjected(n.minX,n.minY,n.maxX,n.maxY),s={},o=r.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable"),u=c&&d&&this._modules.locate.isNodeInRectangle(l,n);return s[l._index]=u,u});let a=i.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable");return c&&d&&this._modules.locate.isEdgeInRectangle(l,n)});this._options.bothExtremities&&(a=this.filterByExtremities(a,s)),(e=this._layer)==null||e.clear(),this.disable(),this._options.callback({nodes:o,edges:a})}}onMounted(){this._options=an(c2),this._enabled=!1,this._rectangle=new Cn,this._interaction=this._modules.interactions.onDrag({priority:"lasso",disableDetection:!0,check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this._refreshRectangle({x:e,y:t}),onStop:this._onStop})}enable(e){return super.enable(qr(e,c2))}_formatRectangle(e){const t=this._start.x,n=this._start.y,r=e.x,i=e.y,s=Math.abs(t-r),o=Math.abs(n-i),a=t<r?t:r,l=n<i?n:i;return this._rectangle.reset().addPoint(a,l).addPoint(a+s,l+o)}_refreshRectangle(e){var t;const{minX:n,minY:r,width:i,height:s}=this._formatRectangle(e),o=Lr();(t=this._layer)==null||t.refresh(a=>{a.strokeRect(n*o,r*o,i*o,s*o),this._options.fillColor&&a.fillRect(n*o,r*o,i*o,s*o)})}},Oi=6,HP=5,Gc=1,WP=0,qP=0,H0=-1;function XP(e,t,n,r){WP=e,G0=n,qP=t?1:0,H0=r}var d2=(e,t,n,r)=>i=>{const{rects:s,bboxes:o,intersects:a,indexToLayer:l,indexToRemoveNodeText:c,indexToRemoveEdgeText:d}=r;if(o[i*Oi+5]===WP&&o[i*Oi+4]===n)return!1;const u=i*HP,h=eu(s[u],s[u+1],s[u+2],s[u+3],s[u+4]);if(oI(G0,h)){if(r.realIntersection=!0,H0<=0&&a.push(G0,h),!(t||l[o[i*Oi+5]]<H0))return!0;e.remove(i),r.realIntersection=!1,o[i*Oi+4]===qP?c[o[i*Oi+5]]=!0:d[o[i*Oi+5]]=!0}return!1};function u2(e,t,n="#22ff00"){return W0([[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]]].map(r=>({x:r[0],y:r[1]})),t,n)}function W0(e,t,n="#ff0000"){t.strokeStyle=n,t.beginPath();for(let r=0,i=e.length;r<i;r++)r===0?t.moveTo(e[r].x,e[r].y):t.lineTo(e[r].x,e[r].y);t.closePath(),t.stroke()}function YU(e,t,n,r,i){for(let a=0,l=t.length;a<l;a+=Oi)u2(t.slice(a,a+4),e,"#aaaaaa");for(let a=0;a<n.length;a+=HP)W0(eu(n[a],n[a+1],n[a+2],n[a+3],n[a+4]),e,"green");const s=[i.root];let o=i.root;for(;o=s.pop();)o.leaf||s.push.apply(s,o.children),u2(i.getNodeBounds(o),e,"rgba(0,0,0,0.2)"),o=s.pop();r.forEach(a=>W0(a,e,"red"))}var Jl={x1:0,y1:0,x2:0,y2:0},kf={x:0,y:0},Sa={x:0,y:0},ZU=Math.PI/2,QU=0;function KU(e,t,n,r,i,s,o,a,l,c,d){const u=a.remove.nodes,h=a.remove.edges,g=a.redraw.edges,p=n.angle,m=n.zoom,_=i.x,y=i.y,f=i.radius,v=Math.PI,{source:x,target:w,scalingMethod:b}=r,A=r.width,S=r.curvature,k=r.layer,C=r.text.content,N=r.text.scaling,D=r.text.size,j=r.text.font,U=r.text.style,F=r.text.scale,T=r.text.maxLineLength,q=r.text.margin,V=r.text.minVisibleSize,J=r.text.padding,oe=r.animationDuration,ie=r.text.adjustAngle,pe=r.text.position;a.indexToLayer={},a.indexToQuadIndex={},a.indexToRemoveNodeText={},a.indexToRemoveEdgeText={},a.indexToRedrawEdgeText={},a.byLayer=[];const{byLayer:Ce,indexToLayer:ce,indexToQuadIndex:ve,indexToRedrawEdgeText:De,indexToRemoveNodeText:qe,indexToRemoveEdgeText:Xe}=a;for(let Z=0;Z<e.length;Z++){const re=e[Z],se=k.get(re)-uN;for(let le=1;le<=se;le++)(Ce[le]=Ce[le]||[]).push(re);ce[re]=se}if(l!==null){const Z=Ce.length;for(let re=ce[l]+1;re<=Z;re++)(Ce[re]=Ce[re]||[]).unshift(l);ce[l]=Z}const me=[0,0,0,0],_e=[0,0,0,0,0],{bboxes:nt,rects:rt}=a,mt=(Z,re=-1)=>{const se=oe.get(Z);let le=C?C.get(Z):"";if(le===null||le===""||se)return!1;const ue=x.get(Z),ge=w.get(Z);let Me=A.get(Z);const Pe=S.get(Z),ke=V.get(Z);if(Me*m<ke)return Xe[Z]=!0,!1;b.get(Z)==="fixed"&&(Me/=m);let lt=(_.get(ue)+_.get(ge))/2,it=(y.get(ue)+y.get(ge))/2;le=le?le.toString():"";const Nt=!N.get(Z),It=F.get(Z)*(Nt?1:m),Pt=j.get(Z),Gt=(Nt?D.get(Z):It*Me)*Gc,Ot=U.get(Z),ct=T.get(Z),Ct=pe.get(Z)===Jd;let Bt=+Ct*q.get(Z)+r.text.padding.get(Z);const Mt=_.get(ue),kt=y.get(ue),xt=_.get(ge),Vt=y.get(ge),nn=f.get(ue),sr=f.get(ge);let ht;const bt=ue===ge;if(bt)ht=v/4-p,da(Mt,kt,Pe,nn,0,Jl),kd(.5,Mt,kt,xt,Vt,Jl.x1,Jl.y1,Jl.x2,Jl.y2,Sa),lt=Sa.x,it=Sa.y,Bt/=-m;else{if(Mt===xt&&kt===Vt)return!1;ht=xl(Mt,kt,xt,Vt)-p,Pe!==0&&(ht=xl(Mt,kt,xt,Vt)-p,ki(Mt,kt,xt,Vt,Pe,kf),Jp(.5,Mt,kt,xt,Vt,kf.x,kf.y,Sa),lt=Sa.x,it=Sa.y)}const gt=Bt+QU,jt=$N(le,ct);if(!jt)return!1;const{lines:Ht,data:vn}=jt;let Fn=s(vn[0],Pt,Ot,Gt).width*Gc;for(let Ln=1;Ln<Ht;Ln++)Fn=Math.max(Fn,s(vn[Ln],Pt,Ot,Gt).width*Gc);const hn=Ht*Gt,Tn=Fn/m/2,vr=hn/m/2,Ti=Math.abs(Cg(ht))<ZU?1:-1;let $t=Ct?bt?hn/m+Me/2+Bt:Ti*(gt/m+Me/2+vr):0;if(!bt&&Pe===0&&ie.get(Z)){const Ln=J.get(Z);_n(Mt,kt,xt,Vt)*m-(nn+sr)*(d?1:m)<Fn+2*Ln+1&&($t*=Ti,ht=0)}if(_e[0]=lt-Tn,_e[1]=it-vr,_e[2]=lt+Tn,_e[3]=it+vr,_e[4]=ht+p,V0(_e,-(ht+p),-$t,_e),_e[2]=_e[2]-_e[0],_e[3]=_e[3]-_e[1],ht=v-ht-p,tm(lt-Tn,it-vr,2*Tn,2*vr,ht,void 0,void 0,me),V0(me,ht,$t,me),a.realIntersection=!1,XP(Z,!1,eu(_e[0],_e[1],_e[2],_e[3],_e[4]),re),t.traverse(me[0],me[1],me[2],me[3],c),a.realIntersection&&!o)return Xe[Z]=!0,!1;if(De[Z]=!0,qe[Z]=!1,re<=0){const Ln=nt.length/Oi;ve[Z]=Ln,nt.push(me[0],me[1],me[2],me[3],0,Z),t.insert(Ln,me[0],me[1],me[2],me[3]),rt.push(_e[0],_e[1],_e[2],_e[3],_e[4])}else t.insert(ve[Z],me[0],me[1],me[2],me[3])};for(const Z of e)mt(Z);let at=!0;for(let Z=0;Z<Ce.length;Z++){const re=Ce[Z];if(re)if(at)at=!1;else for(const se of re)mt(se,Z)}for(let Z=0;Z<e.length;Z++){const re=e[Z];qe[re]?u.push(re):De[re]&&g.push(re),Xe[re]&&h.push(re)}return a}var JU={left:-1,right:1,top:0,bottom:0,center:0},eV={left:0,right:0,top:-1,bottom:1,center:0},tV={left:-1,right:0,top:-.5,bottom:-.5,center:-.5},nV={left:-.5,right:-.5,top:-1,bottom:0,center:-.5},rV=(e,t,n)=>$N(t,n.get(e))||{lines:0,data:[" "],maxLength:1},iV=(e,t,n,r,i,s,o)=>{const{lines:a,data:l}=rV(e,t,r);let c=n(l[0],i,s,o).width;for(let d=1;d<a;d++)c=Math.max(c,n(l[d],i,s,o).width);return[c,a*o*Gc]},sV=(e,t,n)=>{const r=t.text.content,i=t.radius,s=t.text.scaling,o=t.text.position,a=t.text.padding,l=t.text.scale,c=t.text.size,d=t.text.style,u=t.text.font,h=t.text.maxLineLength,g=t.text.margin,p=r.get(e),m=i.get(e),_=!s.get(e),y=o.get(e),f=a.get(e),v=l.get(e),x=(_?c.get(e):v*m*2)*Gc,w=d.get(e),b=u.get(e),A=f+g.get(e),S=JU[y],k=eV[y],[C,N]=iV(e,`${p}`,n,h,b,w,x),D=C/2,j=N/2;return[tV[y]*C,nV[y]*N,S*A,k*A,S*m,k*m,C,N,D,j]};function oV(e,t,n,r,i,s,o,a,l){const c=o.remove.nodes,d=o.remove.edges,u=o.redraw.nodes,h=n.angle,g=n.zoom,p=n.sin,m=n.cos,_=r.x,y=r.y,f=r.radius,v=r.layer,x=r.scalingMethod,w=r.text.content,b=r.text.scaling,A=r.text.minVisibleSize,S=r.animationDuration,k=r.textHidden,C=r.excluded;o.indexToLayer={},o.indexToQuadIndex={},o.indexToRemoveNodeText={},o.indexToRemoveEdgeText={},o.indexToRedrawNodeText={},o.byLayer=[];const{indexToLayer:N,indexToRedrawNodeText:D,indexToRemoveNodeText:j,indexToRemoveEdgeText:U,indexToQuadIndex:F,byLayer:T}=o;for(let ce=0;ce<e.length;ce++){const ve=e[ce],De=v.get(ve)-uN;(T[De]=T[De]||[]).push(ve),N[ve]=De}if(a!==null){const ce=T.length;for(let ve=N[a]+1;ve<=ce;ve++)(T[ve]=T[ve]||[]).unshift(a);N[a]=ce}let q;const V=[0,0,0,0],J=[0,0,0,0,0],{bboxes:oe,rects:ie}=o,pe=(ce,ve=-1)=>{const De=S.get(ce);let qe=w.get(ce);if(qe===null||qe===""||De!==0)return!1;let Xe=f.get(ce);const me=A.get(ce);if(C.get(ce)===1)return j[ce]=!0,!1;if(2*Xe*g<me)return k.get(ce)===0&&(j[ce]=!0),!1;x.get(ce)==="fixed"&&(Xe/=g);const _e=_.get(ce),nt=y.get(ce);typeof qe=="number"&&(qe=qe.toString());let[rt,mt,at,Z,re,se,le,ue,ge,Me]=i(ce);const Pe=!b.get(ce),ke=Pe?g:1,lt=x.get(ce)==="fixed"?g:1;Pe?(at+=ge,Z+=Me,ge/=g,Me/=g,le/=g,ue/=g):(at+=ge*g,Z+=Me*g),rt=rt/ke+at/g+re/lt,mt=mt/ke+Z/g+se/lt,tm(_e-ge,nt-Me,le,ue,-h,p,-m,V),J[0]=_e-ge,J[1]=nt-Me,J[2]=le,J[3]=ue,J[4]=h;const it=m*rt-p*mt,Nt=p*rt+m*mt;if(V[0]+=it,V[1]+=Nt,V[2]+=it,V[3]+=Nt,J[0]+=it,J[1]+=Nt,o.realIntersection=!1,XP(ce,!0,eu(J[0],J[1],J[2],J[3],J[4]),ve),t.traverse(V[0],V[1],V[2],V[3],l),o.realIntersection&&!s)return j[ce]=!0,!1;D[ce]=!0,j[ce]=!1,ve<=0?(q=oe.length/Oi,F[ce]=q,oe.push(V[0],V[1],V[2],V[3],1,ce),t.insert(q,V[0],V[1],V[2],V[3]),ie.push(J[0],J[1],J[2],J[3],J[4])):t.insert(F[ce],V[0],V[1],V[2],V[3])};for(const ce of e)pe(ce);let Ce=!0;for(let ce=0;ce<T.length;ce++){const ve=T[ce];if(ve)if(Ce)Ce=!1;else for(const De of ve)pe(De,ce)}for(let ce=0;ce<e.length;ce++){const ve=e[ce];j[ve]?c.push(ve):D[ve]&&u.push(ve),U[ve]&&d.push(ve)}return o}var aV=1,lV="topDown",cV="bottomUp",dV=.15,uV=200,hV=80,gV=["x","y","radius","width","layer","text.content","text.minVisibleSize","text.size","text.scale","text.scaling","text.padding","text.margin","text.position","text.style"].reduce((e,t)=>(e.add(t),e),new Set),pV=class extends st{constructor(e,t){super(e),this._textBBoxes=[],this._rects=[],this._enabled=!1,this._geoEnabled=!1,this._intersects=[],this._textDisplacement={},this._textDisplacementUpdate={},this._output={remove:{nodes:[],edges:[]},redraw:{nodes:[],edges:[]},rects:this._rects,bboxes:this._textBBoxes,intersects:this._intersects,realIntersection:!1,indexToLayer:{},byLayer:[],indexToRedrawEdgeText:{},indexToRemoveEdgeText:{},indexToRedrawNodeText:{},indexToRemoveNodeText:{},indexToQuadIndex:{}},this._onZoomStart=Rp(({startZoom:n,endZoom:r})=>{this._enabled&&r<n&&this._updateLabels(this._modules.camera.clone({zoom:r}))},hV),this._onAttributesChanged=n=>{if([...n.edgeAttributes,...n.nodeAttributes].some(r=>gV.has(r))){const r=n.nodes._indexes;for(let i=0;i<r.length;i++)this._textDisplacementUpdate[r[i]]=!0;this._update()}},this._onItemsAdded=n=>{const r=n.nodes||n.edges;(this._enabled||this._forceEnabled)&&this._modules.settings.get("texts.preventOverlap")&&this._modules.graphics.setTextHidden(r,!0)},this._onToggle=n=>(n?this._update():this._reset(),this),this._update=()=>{(this._enabled||this._forceEnabled)&&this._updateDebounced()},this._toggleDebug=n=>{n?this._modules.layers.whenReady(()=>{this._layer=this._modules.layers.addCanvasLayer(r=>{r.lineWidth=1/this._modules.camera.getZoom(),YU(r,this._textBBoxes,this._rects,this._intersects,this._quadtree)},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._canvas=this._layer.element,this._ctx=this._canvas.getContext("2d"),this._update()}):this._canvas&&(this._layer.destroy(),this._canvas=this._ctx=null)},this._measureText=(n,r,i,s)=>this._engine.measureText(n,r,i,s),this._textDisplacement={},this._textDisplacementUpdate={},this._quadtree=new WL(n=>{const r=Oi,i=r*n;return this._textBBoxes.slice(i,i+r)},aV),t.forceEnableTextOverlapRemoval&&this.forceEnable()}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.events.register(["labelCollisionsRemoved"]),this.setRate(uV),this._modules.settings.register("texts.preventOverlap",!0,this._onToggle),this._modules.settings.register("texts.debug",!1,this._toggleDebug),this._modules.settings.register("texts.removalStrategy",lV);const e=this._output;this._nodeTraversal=d2(this._quadtree,!1,1,e),this._edgeTraversal=d2(this._quadtree,!1,0,e),this._modules.events.on(["addNodes","addEdges"],this._onItemsAdded).on("layoutEnd",()=>this._updateLabels()).on(["viewChanged","mouseover","mouseout"],this._update).on("updateAttributes",this._onAttributesChanged).on("setContainer",({element:t})=>{if(t)return this._enable();this._disable()}).on("zoomStart",this._onZoomStart).on("viewExportStart",({preventOverlap:t,camera:n})=>{t&&this.forceUpdate(n)}).on("viewExportEnd",()=>{this.forceUpdate()}).on("geoEnabled",()=>this._geoEnabled=!0).on("geoDisabled",()=>this._geoEnabled=!1)}getTextsBoundingBox(e,t){e||t?this._updateLabels(this._modules.camera,e?Array.from(e._indexes):[],t?Array.from(t._indexes):[]):this._updateLabels();const n=this._rects,r=new Cn;for(let i=0;i<n.length;i+=5){const s=n[i],o=n[i+1],a=n[i+2],l=n[i+3],c=n[i+4],[d,u,h,g]=tm(s,o,a,l,c);r.addPoint(d,u).addPoint(h,g)}return r}setRate(e){this._updateDebounced=this._modules.sync.debounceIdle(t=>this._updateLabels(t),e)}forceEnable(){this._forceEnabled=!0}update(){this._update()}forceUpdate(e=this._modules.camera){this._updateLabels(e)}_enable(){this._enabled=!0,this._update()}_disable(){this._textBBoxes=[],this._rects=[],this._intersects=[],this._enabled=!1}_onCameraMove(){this._update()}_updateLabels(e=this._modules.camera,t,n){if(!this._modules.settings.get("texts.preventOverlap"))return;const r=this._modules.graphics.getNodeAttributes(),i=this._modules.graphics.getEdgeAttributes();this._intersects=[],this._textBBoxes=[],this._rects=[];const s=e.getAngle(),o=e.getProjectedScreenBounds(dV),a=this._modules.settings.get("texts.removalStrategy")===cV,l={angle:s,zoom:e.zoom,screen:o,sin:Math.sin(s),cos:Math.cos(s)};this._resetOutput();const c=this._output;if(!t||!n){const p=this._modules.spatial.queryRaw(o[0],o[1],o[2],o[3]);t=p.nodes,n=p.edges}const d=this._quadtree.clear().cover(o[0],o[1],o[2],o[3]);if(t.length+n.length===0)return;const u=this._modules.captor.getPointedElement();let h=null,g=null;u!==null&&(u.isNode?h=u._index:g=u._index);for(const p of t)!this._textDisplacementUpdate[p]&&this._textDisplacement[p]||(this._textDisplacement[p]=sV(p,r,this._measureText),this._textDisplacementUpdate[p]=!1);oV(t,d,l,r,p=>this._textDisplacement[p],a,c,h,this._nodeTraversal),KU(n,d,l,i,r,this._measureText,a,c,g,this._edgeTraversal,this._geoEnabled),this._clearOverlaps(c),this._modules.settings.get("texts.debug")&&this._layer.refresh()}_clearOverlaps(e){const t=this._modules.graph.nodeList,n=this._modules.graph.edgeList,r=this._modules.graphics,i=t(new Uint32Array(e.remove.nodes)),s=n(new Uint32Array(e.remove.edges)),o=t(new Uint32Array(e.redraw.nodes)),a=n(new Uint32Array(e.redraw.edges));r.setTextHidden(i,!0),r.setTextHidden(s,!0),r.setTextHidden(o,!1),r.setTextHidden(a,!1),this._modules.events.fire("labelCollisionsRemoved",e)}_resetOutput(){const e=this._output;e.remove.nodes=[],e.remove.edges=[],e.redraw.nodes=[],e.redraw.edges=[],e.rects=this._rects,e.bboxes=this._textBBoxes,e.intersects=this._intersects,e.realIntersection=!1,e.indexToLayer={},e.byLayer=[],e.indexToRedrawEdgeText={},e.indexToRemoveEdgeText={},e.indexToRedrawNodeText={},e.indexToRemoveNodeText={},e.indexToQuadIndex={}}_reset(){this._modules.graphics.resetTextHidden(),this._textDisplacement={},this._textDisplacementUpdate={}}},mV=class extends st{constructor(){super(...arguments),this._onStartInteractionEvent=(e,t)=>{if(this._current)return;const n=this._interactionsByStartEvent[t];let r;for(const i of n)i.check(e)&&(!r||i.priority>=r.priority)&&(r=i);r&&this._startInteraction(r,e)},this._onProgressInteractionEvent=(e,t)=>{this._current&&this._current.progressEventName===t&&this._current.onProgress&&this._current.onProgress(e)},this._onStopInteractionEvent=(e,t)=>{this._current&&this._current.stopEventName===t&&this._stopCurrentInteraction(null)}}onMounted(){this._interactionsByStartEvent={},this._boundProgressEvents={},this._boundStopEvents={}}_startInteraction(e,t){e.onStart&&e.onStart(t),e.onStop&&(this._current=e,e.disableDetection&&this._modules.captor.setDetectionEnabled(!1))}_stopCurrentInteraction(e){this._current&&this._current.disableDetection&&this._modules.captor.setDetectionEnabled(!0),this._current&&this._current.onStop&&this._current.onStop(e),this._current=void 0}_forceStartInteraction(e,t){this._current&&this._stopCurrentInteraction(t),this._startInteraction(e,t)}_createWrapper(e){return{start:t=>this._forceStartInteraction(e,t)}}_addInteraction(e,t){const n=this._interactionsByStartEvent[e];return n?n.push(t):(this._interactionsByStartEvent[e]=[t],this._modules.events.on(e,this._onStartInteractionEvent)),this._createWrapper(t)}_createProgressiveInteraction(e,t,n,r){const i={priority:h2(r.priority),check:r.check||_d,onStart:r.onStart||ft,onProgress:r.onProgress||ft,onStop:r.onStop||ft,disableDetection:!!r.disableDetection,progressEventName:t,stopEventName:n};return this._boundProgressEvents[t]||(this._boundProgressEvents[t]=!0,this._modules.events.on(t,this._onProgressInteractionEvent)),this._boundStopEvents[n]||(this._boundStopEvents[n]=!0,this._modules.events.on(n,this._onStopInteractionEvent)),this._addInteraction(e,i)}_createNonProgressiveInteraction(e,t){return this._addInteraction(e,{priority:h2(t.priority),check:t.check||_d,onStart:t.handler||ft,onProgress:void 0,onStop:void 0,disableDetection:!1,progressEventName:void 0,stopEventName:void 0})}onDrag(e){return this._createProgressiveInteraction("dragStart","dragProgress","dragEnd",e)}onGesture(e){return this._createProgressiveInteraction("gestureStart","gestureProgress","gestureEnd",e)}onClick(e){return this._createNonProgressiveInteraction("click",e)}onDoubleClick(e){return this._createNonProgressiveInteraction("doubleclick",e)}onHover(e){return this._createNonProgressiveInteraction("mouseover",e)}onUnhover(e){return this._createNonProgressiveInteraction("mouseout",e)}onMouseWheel(e){return this._createNonProgressiveInteraction("mousewheel",e)}onMouseDown(e){return this._createNonProgressiveInteraction("mousedown",e)}onMouseUp(e){return this._createNonProgressiveInteraction("mouseup",e)}onMouseMove(e){return this._createNonProgressiveInteraction("mousemove",e)}};function h2(e){return typeof e=="string"?fB.indexOf(e):typeof e!="number"||isNaN(e)?0:e}var fV=["virtualUp","mouseupInternal","touchUp"],_V=["virtualDown","mousedownInternal","touchDown"],yV=["virtualMove","mousemoveInternal","touchMove"],vV=["virtualClick","clickInternal","touchTap"],xV=["virtualDoubleClick","doubleclickInternal","touchDoubleTap"],bV=["virtualWheel","mousewheelInternal"],wV=100,EV=class extends st{constructor(){super(...arguments),this._elt=null,this._hoveredElt=null,this._draggedElt=null,this._hover=!1,this._disabledCounter=0,this._accDx=0,this._accDy=0,this._prevX=0,this._prevY=0,this._buttons={left:{isPressed:!1,isDragging:!1},middle:{isPressed:!1,isDragging:!1},right:{isPressed:!1,isDragging:!1}},this._onGraphChanged=()=>{this._resetCurrent(this._modules.position.x,this._modules.position.y),this._onMove({x:this._modules.position.x,y:this._modules.position.y,source:null,domEvent:null})}}onMounted(){this._modules.events.register(["mousemove","mousedown","mouseup","click","doubleclick","mousewheel","mouseout","mouseover","dragStart","dragProgress","dragEnd","gestureStart","gestureProgress","gestureEnd"]),this._modules.settings.register("detect.nodes",!0).register("detect.edges",!0).register("detect.nodeTexts",!0).register("detect.nodeBadges",!0).register("detect.edgeTexts",!0).register("detect.nodeErrorMargin",5).register("detect.edgeErrorMargin",2).register("detect.enableSpatialIndex",!0).register("detect.spatialIndexMarginRatio",20),this._modules.events.on(["removeNodes","removeEdges","clearGraph"],this._onGraphChanged).on(yV,(e,t)=>{this._onMove(vt(we({},e),{source:wo(t)}))}).on(_V,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDown({domEvent:e,x:t,y:n,button:r,source:wo(i)})}).on(fV,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onUp({domEvent:e,x:t,y:n,button:r,source:wo(i)})}).on(vV,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onClick({domEvent:e,x:t,y:n,button:r,source:wo(i)})}).on(xV,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDoubleClick({domEvent:e,x:t,y:n,button:r,source:wo(i)})}).on(bV,({domEvent:e,x:t,y:n,delta:r})=>this._onWheel({domEvent:e,x:t,y:n,delta:r,source:"mouse"})).on("touchStartGesture",e=>this._modules.events.fire("gestureStart",e)).on("touchProgressGesture",e=>this._modules.events.fire("gestureProgress",e)).on("touchEndGesture",e=>this._modules.events.fire("gestureEnd",e)).on("documentMouseMove",({domEvent:e,x:t,y:n},r)=>{this._onDocumentMove({domEvent:e,x:t,y:n,source:wo(r)})}).on("documentMouseUp",({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDocumentUp({domEvent:e,x:t,y:n,source:wo(i),button:r})})}triggerUnhover(){this._hover=!1,this._hoveredElt=null}triggerDetection(){this._detectElement(this._modules.position.x,this._modules.position.y,!1,!1),this._elt&&(this._hoveredElt=this._elt,this._hover=!0)}getPointedElement(){return this._hoveredElt}getDraggedElement(){return this._draggedElt}isAnyButtonPressed(){return this._buttons.left.isPressed||this._buttons.right.isPressed||this._buttons.middle.isPressed}isAnyButtonDragging(){return this._buttons.left.isDragging||this._buttons.right.isDragging||this._buttons.middle.isDragging}isButtonPressed(e){return this._buttons[e].isPressed}isLeftPressed(){return this.isButtonPressed("left")}getCursorPosition(){return{x:this._modules.position.x,y:this._modules.position.y}}getCursorInformation(){return{x:this._modules.position.x,y:this._modules.position.y,target:this._hoveredElt}}setDetectionEnabled(e){this._disabledCounter=Math.max(0,this._disabledCounter+(e?-1:1))}_resetCurrent(e,t){for(const n in this._buttons){const r=this._buttons[n];r.isDragging&&this._modules.events.fire("dragEnd",{domEvent:null,x:e,y:t,button:n,target:this._draggedElt}),r.isPressed=!1,r.isDragging=!1}this._hover&&this._hoveredElt&&this._modules.events.fire("mouseout",{domEvent:null,x:e,y:t,target:this._hoveredElt}),this._hover=!1,this._hoveredElt=null,this._draggedElt=null}_onMove({domEvent:e,x:t,y:n,source:r}){let{dx:i,dy:s}=this._setPointerPosition(t,n);this._modules.events.fire("mousemove",{domEvent:e,x:t,y:n,dx:i,dy:s,source:r});for(const o in this._buttons){const a=this._buttons[o];if(a.isPressed)if(a.isDragging){const l=this._getStoredDXY();i+=l.dx,s+=l.dy,this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:i,dy:s,button:o,source:r,target:this._draggedElt})}else a.isDragging=!0,this._hoveredElt&&this._hover&&(this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt}),this._hover=!1),this._draggedElt||(this._draggedElt=this._hoveredElt),this._storeDXY(i,s),this._modules.events.fire("dragStart",{domEvent:e,x:t,y:n,button:o,source:r,target:this._draggedElt})}e&&!this._modules.graphics.getDomElement().contains(e.target)||this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&(this._hoveredElt&&this._hover&&(this._hover=!0,this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})),this._hoveredElt=this._elt,this._elt&&(this._hover=!0,this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})))}_onDocumentMove({domEvent:e,x:t,y:n,source:r}){for(const i in this._buttons){const{isDragging:s}=this._buttons[i];if(s){const{dx:o,dy:a}=this._setPointerPosition(t,n);this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:o,dy:a,button:i,source:r,target:this._draggedElt})}}}_onDocumentUp({domEvent:e,x:t,y:n,source:r,button:i}){if(i!=null&&this._buttons[i].isDragging){this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:i,source:r,target:this._draggedElt});const s=this._buttons[i];s.isDragging=!1,s.isPressed=!1,this.isAnyButtonDragging()||(this._draggedElt=null)}}_onDown({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&this._resetCurrent(t,n);const s=this._buttons[r];this._hoveredElt=this._elt,s.isPressed=!0,this._elt&&e&&(e.stopPropagation(),e.preventDefault()),this._modules.events.fire("mousedown",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onDoubleClick({domEvent:e,x:t,y:n,button:r,source:i}){r!=null&&(p2(e,"doubleclick")||this._modules.events.fire("doubleclick",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt}))}_onUp({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;const s=this._buttons[r];s.isPressed&&(s.isDragging&&(this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:r,source:i,target:this._draggedElt}),s.isDragging=!1,this.isAnyButtonDragging()||(this._draggedElt=null)),s.isPressed=!1,this._detectElement(t,n,!1,!1),this._modules.events.fire("mouseup",{domEvent:e,x:t,y:n,button:r,source:i,target:this._elt}),this.isAnyButtonPressed()||this._hover||i==="touch"||(this._hoveredElt=this._elt,this._hoveredElt&&(this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:i,target:this._hoveredElt}),this._hover=!0)))}_onClick({domEvent:e,x:t,y:n,button:r,source:i}){p2(e,"click")||this._modules.events.fire("click",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onWheel({domEvent:e,x:t,y:n,delta:r,source:i}){this._modules.position.x=t,this._modules.position.y=n,this._modules.events.fire("mousewheel",{domEvent:e,x:t,y:n,delta:r,source:i,target:this._hoveredElt})}_storeDXY(e,t){this._accDx=e,this._accDy=t}_getStoredDXY(){const e=this._accDx,t=this._accDy;return this._accDx=0,this._accDy=0,{dx:e,dy:t}}_setPointerPosition(e,t){const n=e-this._prevX,r=t-this._prevY;return this._modules.position.x=e,this._modules.position.y=t,this._prevX=e,this._prevY=t,this._accDx=0,this._accDy=0,{dx:n,dy:r}}_detectElement(e,t,n,r){this._elt=this.detectElementAt(e,t,n,r)}detectElementAt(e,t,n,r){if(this._disabledCounter!==0)return null;const i=this._modules.settings,s=i.get("detect.enableSpatialIndex"),o=i.get("detect.nodeErrorMargin")||0,a=i.get("detect.edgeErrorMargin")||0;let l=i.get("detect.nodes"),c=i.get("detect.edges");r&&(l=!0,c=!0);let d=null,u=[],h=[];if(!n&&s&&(l||c)){const m=i.get("detect.spatialIndexMarginRatio"),_=Math.max(o*m,a*m),y=this._modules.spatial.queryRawProjected(e-_,t-_,e+_,t+_);u=y.nodes,h=y.edges}let g=null,p=null;if(l&&(g=this._modules.graphics.detectNode(e,t,!!i.get("detect.nodeBadges"),!!i.get("detect.nodeTexts"),o,u)),c&&(h.length<wV||!g)&&(p=this._modules.graphics.detectEdge(e,t,!!i.get("detect.edgeTexts"),a,h)),g&&p){const m=this._modules.graphics.getAttributesManager().getFlexArrays();d=m.nodes.current.layer.get(g._index)>=m.edges.current.layer.get(p._index)?g:p}else g?d=g:p&&(d=p);return d}};function wo(e){return e.indexOf("touch")===0?"touch":"mouse"}var Tf=!1,g2={down:{trigger:"pointerdown",duplicate:"mousedown"},click:{trigger:"pointerdown",duplicate:"mouseup"},doubleclick:{trigger:"pointerdown",duplicate:"mouseup"}};function p2(e,t){if(e)return e.type===g2[t].trigger&&(Tf=!0),e.type===g2[t].duplicate&&Tf?(Tf=!1,!0):void 0}var SV=class extends st{constructor(){super(...arguments),this._dragged=null,this._start=[],this._end=[],this._shouldDrag=({target:e,button:t})=>{const n=t==="left",r=this._modules.settings.get("interactions.drag.enabled"),i=e!==null&&e.isNode&&e.getAttribute("draggable")===!0;return!!(n&&r&&i)},this._onDragStart=({x:e,y:t,target:n})=>{n&&(n.isSelected()?this._dragged=this._modules.selection.getSelectedNodes().filter(r=>r.getAttribute("draggable")):this._dragged=n.toList()),this._dragged&&(this._start=this._dragged.getPosition(),this._end=an(this._start),this._onBeforeDrag=this._modules.settings.get("interactions.drag.onBeforeDrag"),this._startDrag=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._dragged.addClass(Rh),this._modules.events.fire("nodesDragStart",{nodes:this._dragged}),this._modules.graphics.addCursorStyle(this._modules.settings.get("interactions.drag.cursor")))},this._onDrag=()=>{if(!this._dragged||!this._startDrag)return;const{x:e,y:t}=this._modules.captor.getCursorInformation(),n=this._dragged._indexes,r=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),i=r.x-this._startDrag.x,s=r.y-this._startDrag.y;for(let o=0;o<n.length;++o){const a=this._start[o],l=this._end[o];l.x=a.x+i,l.y=a.y+s}this._onBeforeDrag&&this._onBeforeDrag(this._dragged,e,t,this._end),this._modules.settings.get("interactions.drag.applyResult")&&this._modules.individualAttributes.setMultipleAttributes(this._dragged,this._end),this._modules.events.fire("nodesDragProgress",{nodes:this._dragged,dx:i,dy:s})},this._onDragEnd=()=>{this._dragged&&(this._dragged.removeClass(Rh),this._modules.graphics.removeCursorStyle(this._modules.settings.get("interactions.drag.cursor")),this._modules.events.fire("nodesDragEnd",{nodes:this._dragged,start:this._start,end:this._end}),this._dragged=null,this._start=[],this._end=[])}}onMounted(){this._modules.classes.createClass({name:Rh,isBuiltin:!0,nodeAttributes:{layer:pB}}),this._modules.events.register(["nodesDragStart","nodesDragProgress","nodesDragEnd"]),this._modules.settings.register("interactions.drag.enabled",!0).register("interactions.drag.cursor","move").register("interactions.drag.onBeforeDrag",void 0),this._modules.settings.register("interactions.drag.applyResult",!0),this._modules.interactions.onDrag({priority:"drag",disableDetection:!0,check:this._shouldDrag,onStart:this._onDragStart,onProgress:this._onDrag,onStop:this._onDragEnd})}},AV={color:"#00C3FF",radius:4,cursorOnHover:"grab",cursorOnDrag:"grabbing"},CV=class extends st{constructor(){super(...arguments),this._hoverHandle=!1,this._grabHandle=!1,this._x=0,this._y=0,this._enabled=!1,this._onMouseUp=()=>this._grabHandle=!1,this._onMouseDown=()=>{this._hoverHandle&&(this._grabHandle=!0)},this._onDragProgress=()=>{this._grabHandle&&this._refreshCanvas()},this._onDragStart=()=>{if(!this._movedEdges)return;this._nodesToHighlight=this._nodesToHighlight.filter(t=>t!==this._startNode&&!t.isVirtual()),this._movedEdges.setExcluded(!0);const e=this._options.cursorOnDrag;this._prevSettings=this._modules.settings.update({edgeHover:!1,cursor:{default:e,node:e,edge:e}})},this._onDragEnd=()=>{if(!this._movedEdges)return;this._restoreSettings();const e=this._getPointedNode();e&&this._movedEdges.forEach(t=>{t.getTarget()===this._startNode?t.setTarget(e):t.setSource(e)}),this._movedEdges.setExcluded(!1),this._movedEdges.setSelected(!0),this._movedEdges=null,this._refreshHandles()},this._refreshHandles=()=>{if(!this._enabled||this._movedEdges)return;const e=this._modules.selection.getSelectedEdges();this._nodesToHighlight=e.getExtremities().dedupe().filter(t=>!t.isVirtual()),this._rewirableClass.clearEdges(),this._rewirableClass.add(e),this._refreshCanvas()},this._shouldInteractionStart=({target:e})=>{if(!this._enabled||!e||!e.isNode||!this._hoverHandle||e.isVirtual())return!1;const t=e.getAdjacentEdges().filter(n=>n.isSelected());return!!t.size&&(this._movedEdges=t,this._edgeColors=this._movedEdges.getAttribute("color"),this._startNode=e,!0)},this._refreshCanvas=()=>{this._enabled&&this._layer.refresh()},this._checkForHover=()=>{if(!this._enabled||!this._nodesToHighlight)return;const e=this._options.radius,t=this._nodesToHighlight.getPosition(),n=this._modules.camera.screenToGraphCoordinates(this._modules.captor.getCursorPosition());for(let r=0;r<t.length;r++){const{x:i,y:s}=t[r];if(_n(i,s,n.x,n.y)<e)return void this._enableCursorOnHover()}this._disableCursorOnHover()}}onMounted(){this._rewirableClass=this._modules.classes.createClass({name:lN,isBuiltin:!0,edgeAttributes:{layer:mB}})}enable(e){this._enabled||(this._modules.events.on("move",this._checkForHover).on("mousemove",this._checkForHover).on("dragProgress",this._onDragProgress).on("nodesDragProgress",this._refreshCanvas).on("mousedown",this._onMouseDown).on("mouseup",this._onMouseUp).on("edgesSelected",this._refreshHandles).on("edgesUnselected",this._refreshHandles),this._interaction=this._modules.interactions.onDrag({priority:"rewiring",check:this._shouldInteractionStart,onStart:this._onDragStart,onProgress:({x:t,y:n})=>{this._x=t,this._y=n},onStop:this._onDragEnd}),this._options=we(we({},AV),e),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{if(!this._enabled||!this._nodesToHighlight)return;const n=this._modules.captor.getCursorPosition(),r=this._getPointedNode(),i=this._options.color,s=this._options.radius,o=2*s;if(this._displayMovedEdges(t),t.fillStyle=i,t.strokeStyle=i,this._nodesToHighlight.forEach(a=>{const{x:l,y:c}=a.getPosition();t.fillRect(l-s,c-s,o,o)}),this._movedEdges){const a=r?r.getPosition():n;t.fillRect(a.x-s,a.y-s,o,o)}},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._refreshHandles())}disable(){this._enabled&&(this._interaction&&this._interaction.stop&&this._interaction.stop(),this._interaction=void 0,this._modules.graphics.removeCursorStyle(this._options.cursorOnDrag),this._disableCursorOnHover(),this._restoreSettings(),this._layer.destroy(),this._rewirableClass.clearEdges(),this._enabled=!1,[this._checkForHover,this._onDragProgress,this._refreshCanvas,this._onMouseDown,this._onMouseUp,this._refreshHandles].forEach(e=>this._ogma.events.off(e)))}enabled(){return this._enabled}_restoreSettings(){this._prevSettings&&(this._modules.settings.update(this._prevSettings),this._prevSettings=void 0)}_disableCursorOnHover(){this._hoverHandle&&!this._grabHandle&&(this._hoverHandle=!1,this._modules.graphics.removeCursorStyle(this._options.cursorOnHover))}_enableCursorOnHover(){this._hoverHandle||(this._hoverHandle=!0,this._modules.graphics.addCursorStyle(this._options.cursorOnHover))}_displayMovedEdges(e){if(!this._movedEdges)return;const t=this._x,n=this._y,r=this._modules.camera.screenToGraphCoordinates({x:t,y:n});this._movedEdges.forEach((i,s)=>{const o=this._edgeColors[s],a=i.getSource(),l=i.getTarget(),c=this._getPointedNode(),d=l===this._startNode?a:l,u=Number(i.getAttribute("width")),h=d.getPosition(),g=c?c.getPosition():r;e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,g.y),e.strokeStyle=o,e.lineWidth=u,e.stroke()})}_getPointedNode(){const e=this._modules.captor.getPointedElement();return e&&e.isNode&&!e.isVirtual()?e:null}},m2={cursor:"nesw-resize",color:"#00C3FF",lineWidth:1,handleSize:6,detectionMargin:5,snappingRatio:1.25,nbNodesToSnapTo:5,previewColor:"rgba(0, 0, 0, 0.2)",sizeIndicatorColor:"black",sizeIndicatorOffset:5,sizeIndicatorWidth:3,sizeIndicatorThickness:1},kV=class extends st{constructor(){super(...arguments),this._enabled=!1,this._nodesToHighlight=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[],this._onSelectionChange=()=>{this._enabled&&(this._nodesToHighlight=this._modules.selection.getSelectedNodes(),this._displayHandles())},this._displayHandlesHandler=()=>this._displayHandles(),this._moveHandler=({x:e,y:t})=>{this._modules.dom.setTimeout(()=>this._detectBoundingBoxes(e,t))}}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.interactions.onDrag({priority:"resizing",disableDetection:!0,check:()=>!(!this._enabled||!this._pointedNode),onStart:({x:e,y:t})=>{this._x=e,this._y=t,this._nodeBeingResized=this._pointedNode},onProgress:({x:e,y:t})=>{this._x=e,this._y=t,this._displayHandles()},onStop:()=>{if(this._nodesToHighlight){const e=this._modules.camera.zoom,t=this._nodesToHighlight.getAttributes(["x","y","radius"]).map(({x:n,y:r,radius:i},s)=>{const o=this._additionalRadiuses[s]/e;return{radius:+i+o,x:n+o,y:r-o}});this._nodesToHighlight.setAttributes(t)}this._pointedNode=null,this._nodeBeingResized=null,this._displayHandles()}})}onReady(){this._modules.events.on(["nodesSelected","nodesUnselected"],this._onSelectionChange)}_enableCursor(){this._cursorEnabled||(this._modules.graphics.addCursorStyle(this._options.cursor),this._cursorEnabled=!0)}_disableCursor(){this._cursorEnabled&&(this._modules.graphics.removeCursorStyle(this._options.cursor),this._cursorEnabled=!1)}_detectBoundingBoxes(e,t){if(!this._enabled||this._nodeBeingResized||!this._nodesToHighlight)return;const n=this._options.handleSize/2,r=this._options.detectionMargin;return this._pointedNode=null,this._forEachNodeToHighlight((i,s,o)=>{const a=s.x+o-n-r,l=s.x+o+n+r,c=s.y-o-n-r,d=s.y-o+n+r;e>=a&&e<=l&&t>=c&&t<=d&&(this._pointedNode=i)}),this._pointedNode?this._enableCursor():this._disableCursor()}_forEachNodeToHighlight(e){this._nodesToHighlight&&this._nodesToHighlight.forEach(t=>{const n=t.getPositionOnScreen(),r=this._getTotalRadius(t);e(t,n,r)})}_displayHandles(){this._enabled&&this._nodesToHighlight&&this._layer.refresh()}_displayNodePreview(e,t,n,r,i,s){if(i*=1/this._modules.camera.getZoom(),e.beginPath(),s.length===1)e.arc(n,r,i,0,2*Math.PI);else for(let o=0;o<s.length;++o){const a=s[o],l=n+a.x*i,c=r+a.y*i;o===0?e.moveTo(l,c):e.lineTo(l,c)}e.fillStyle=this._options.previewColor,e.fill()}_getTotalRadius(e,t=!0){return Number(e.getAttribute("radius"))*(this._modules.camera.zoom*(t?1:0))+Number(e.getAttribute("innerStroke.width"))+Number(e.getAttribute("outerStroke.width"))+this._options.lineWidth/2}_snap(e,t,n){const r=this._modules.spatial.getNodesInScreenByDistance(t).filter(u=>!u.isSelected()).slice(0,this._options.nbNodesToSnapTo),i=this._getTotalRadius(t),s=i+n,o=this._options.snappingRatio,a=s/i,l=Math.round(EL(a,o));let c=i*Math.pow(o,l),d=null;if(r.forEach(u=>{const h=this._getTotalRadius(u);Math.abs(h-s)<=Math.abs(c-s)&&(c=h,d=u)}),d){e.save(),e.strokeStyle=this._options.sizeIndicatorColor,e.lineWidth=this._options.sizeIndicatorThickness/this._modules.camera.getZoom();const u=d.getAttribute("radius");this._displaySizeIndicator(e,t,c),r.filter(h=>h.getAttribute("radius")===u).forEach(h=>this._displaySizeIndicator(e,h)),e.restore()}return c-i}_displaySizeIndicator(e,t,n){n=n||void 0;const r=this._modules.camera.getZoom(),i=t.getPosition(),s=this._getTotalRadius(t),o=(n||s)/r,a=(n?n-s:0)/r,l=a+(-this._options.sizeIndicatorOffset-(n?Number(t.getAttribute("innerStroke.width"))+Number(t.getAttribute("outerStroke.width")):0))/r,c=i.x-o+l|0,d=i.y-o-a|0,u=i.y+o-a|0,h=this._options.sizeIndicatorWidth/r;e.beginPath(),e.moveTo(c-h,d),e.lineTo(c+h,d),e.moveTo(c,d),e.lineTo(c,u),e.moveTo(c-h,u),e.lineTo(c+h,u),e.stroke()}enable(e={}){this._enabled||(this._options=we(we({},m2),e),this._layer=this._modules.layers.addCanvasLayer(t=>{const n=Lr(),r=this._modules.camera.getZoom(),{color:i,lineWidth:s}=this._options;let o=this._options.handleSize,a=0;if(this._nodeBeingResized){const l=this._getTotalRadius(this._nodeBeingResized),c=this._nodeBeingResized.getPositionOnScreen();a=Math.max(this._x-(c.x+l),-(this._y-(c.y-l)))/2}this._additionalRadiuses=[],this._nodesToHighlight&&this._nodesToHighlight.forEach(l=>{const c=l.getPosition();let d=this._getTotalRadius(l),u=0;if(this._nodeBeingResized){u=a;const h=-d+Number(l.getAttribute("innerStroke.width"))+Number(l.getAttribute("outerStroke.width"))+s/2+1;u=u<h?h:this._snap(t,l,u),this._additionalRadiuses.push(u);const g=l.getAttribute("shape"),p=this._engine.getShapePoints(g),m=c.x+u/r,_=c.y-u/r,y=d+u;this._displayNodePreview(t,n,m,_,y,p)}t.strokeStyle=i,t.fillStyle=i,t.lineWidth=s/r,d/=r,u/=r,o/=r*n,t.strokeRect(c.x-d,c.y-d-2*u,2*(u+d),2*(u+d)),t.fillRect(c.x+d+2*u-o/2,c.y-d-2*u-o/2,o,o)})},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._modules.events.on(["mousemove","mousedown"],this._moveHandler),this._enabled=!0)}disable(){this._enabled&&(this._modules.events.off(this._displayHandlesHandler),this._modules.events.off(this._moveHandler),this._layer.destroy(),this._disableCursor(),this._reset())}_reset(){this._enabled=!1,this._nodesToHighlight=null,this._options=we({},m2),this._nodeBeingResized=null,this._pointedNode=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[]}enabled(){return this._enabled}},TV={strokeColor:"black",strokeWidth:5,dashed:!0,cursorStyle:"cell",createNodes:!0,condition:Bp,onNodeCreated:ft,onEdgeCreated:ft,createNode:Si,createEdge:Si,onComplete:ft},LV=class extends st{constructor(){super(...arguments),this._enabled=!1,this._blockId=0,this._cursorEnabled=!1}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._depth=Ad(0).edgeBody,this._modules.events.register(["connectNodes"]),this._interaction=this._modules.interactions.onDrag({priority:"connectNodes",check:({target:e,button:t="left"})=>this._enabled&&t==="left"&&e&&e.isNode&&!e.isVirtual(),onStart:({target:e})=>this._onStart(e),onProgress:({x:e,y:t})=>this._onMove(e,t),onStop:()=>this._onStop()}),this._modules.events.on("clearGraph",()=>this.disable())}_onStart(e){e&&(this._cursorEnabled=!0,this._startNode=e,this._startPos=e.getPosition(),this._modules.graphics.addCursorStyle(this._options.cursorStyle),this._blockId=this._modules.graphics.allocateGraphicsEngineBlockId())}_onMove(e,t){this._startNode!==null&&(this._endPos=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._drawLine())}_onStop(){if(this._startNode===null)return;const{condition:e,onNodeCreated:t,onEdgeCreated:n,createEdge:r,createNode:i,onComplete:s,createNodes:o}=this._options;let a=this._modules.captor.getPointedElement(),l=null,c=null;if(this._modules.graphics.releaseGraphicsEngineBlockId(this._blockId),!a&&o){const d=i({attributes:{x:this._endPos.x,y:this._endPos.y}});a=this._modules.graph.addNode(d),c=a,t&&t(c)}if(a&&!a.isVirtual()&&(c||!e||e(this._startNode,a))){const d=r({source:this._startNode.getId(),target:a.getId()});l=this._modules.graph.addEdge(d),n&&n(l)}s&&(this._modules.events.fire("connectNodes",{source:this._startNode,target:a,edge:l}),s(this._startNode,a,l||void 0)),this.disable()}_drawLine(){this._group.reset(xi,!1,this._depth);const e=this._group.nextAndReset().end;e.pieceId=Zp,e.shape="line",e.x1=this._startPos.x,e.y1=this._startPos.y,e.x2=this._endPos.x,e.y2=this._endPos.y,e.fillColor=this._options.strokeColor,e.thicknessOrFontSizeFixed=this._options.strokeWidth,this._options.dashed&&(e.dashLength=3,e.gapLength=1),this._engine.storeGroup(this._blockId,this._group),this._modules.dom.refresh()}enable(e={}){return this._enabled||(this._options=we(we({},TV),e),this._enabled=!0,this._cursorEnabled=!1,this._startNode=null,this._prevSettings=this._modules.settings.update({"cursor.node":this._options.cursorStyle,"detect.edges":!1}),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorInformation())),this}disable(){return this._enabled?(this._enabled=!1,this._modules.settings.update(this._prevSettings),this._cursorEnabled&&this._modules.graphics.removeCursorStyle(this._options.cursorStyle),this):this}enabled(){return this._enabled}},NV=["top","bottom","left","right","cssDefined"],IV=1e4,PV={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}},MV={position:"top",autoAdjust:!0,delay:100},FV={hover:{node:({target:e})=>e&&e.isNode,edge:({target:e})=>e&&!e.isNode},click:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}},doubleclick:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}}},RV=class extends st{constructor(){super(...arguments),this._x=0,this._y=0}onMounted(){this._handlers={},this._currentHandlerName=null,this._tooltip=null,this._isHover=!1,this._modules.events.register(["tooltipShow","tooltipHide"]),this._modules.events.on(["mouseup","dragStart"],()=>{this._isHover||this._hideTooltip(!1)}).on("mouseout",()=>{this._isHover&&this._hideTooltip(!1)}).on("clearGraph",()=>this._hideTooltip(!1)),this._modules.interactions.onHover(this._createInteraction("hover",!0)),this._modules.interactions.onClick(this._createInteraction("click")),this._modules.interactions.onDoubleClick(this._createInteraction("doubleclick"))}hide(){this._hideTooltip(!0)}isShown(){return!!this._tooltip}refresh(){this._refreshTooltip()}show(t,{position:n="top",autoAdjust:r=!0,className:i,x:s=0,y:o=0}={}){this._showTooltip(t,{position:n,autoAdjust:r,className:i},{x:s,y:o})}setHandler(t,n,r){const i=we(we({},MV),r);i.position&&NV.indexOf(i.position)===-1&&(i.position="top"),this._handlers[t]={handler:n,condition:sn(FV,t),settings:i}}_hideTooltip(t){if(this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null),t&&(this._currentHandlerName=null),this._tooltip){const n=this._tooltip;this._tooltip.parentNode&&this._tooltip.parentNode.removeChild(this._tooltip),this._tooltip=null,this._modules.events.fire("tooltipHide",{tooltip:n})}}_createInteraction(t,n=!1){return{priority:"tooltip",check:r=>{const i=f2(t,r),s=this._handlers[i];return(!n||!this._modules.connectNodes.enabled())&&(!(!s||!s.condition(r))||!(n||!this._currentHandlerName||this._isHover)&&this._tooltip!==null)},handler:r=>{const{target:i,x:s,y:o}=r;this._hideTooltip(!1),this._isHover=n,this._elt=i,this._x=s,this._y=o,this._currentHandlerName=f2(t,r),this._refreshTooltip()}}}_refreshTooltip(){if(!this._currentHandlerName)return void this._hideTooltip(!1);const t=this._handlers[this._currentHandlerName];if(!t)return;const{settings:n,handler:r}=t,i=this._elt;if(i){const o=i.isNode?"node":"edge";if(this._currentHandlerName.indexOf(o)===-1)return}const s=r(i);Promise.resolve(s).then(o=>{this._schedule(()=>this._showTooltip(o,n),n.delay)})}_schedule(t,n){this._timeout&&this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>{this._timeout=null,t()},n)}_showTooltip(t,n,r){this._hideTooltip(!1);const{position:i,className:s,autoAdjust:o}=n;let a=this._x,l=this._y,c=this._elt;const d=this._modules.dom.getDimensions();let u=0,h=0;if(r&&(a=r.x,l=r.y,c=null),typeof t=="string")this._tooltip=DV("div"),this._tooltip.innerHTML=t;else{if(!cL(t))throw new Error(`invalid tooltip ${t}, expected HTML string or HTML element`);this._tooltip=t}const g=this._tooltip;if(s&&this._tooltip.classList.add(s),i!=="cssDefined"&&(g.style.position="absolute"),g.style.zIndex=IV.toString(),this._modules.dom.appendElement(g),c&&c.isNode){const _=c,y=_.getPositionOnScreen(),f=Number(_.getAttribute("radius"))*(_.getAttribute("scalingMethod")==="fixed"?1:this._modules.camera.getZoom())+Number(_.getAttribute("innerStroke.width"))+Number(_.getAttribute("outerStroke.width"));a=y.x,l=y.y,u=f,h=f}const p=g.offsetWidth/2,m=g.offsetHeight/2;if(u+=p,h+=m,i&&i!=="cssDefined"){const _=PV[i];let y=_.x,f=_.y;if(o){const v=a+u*_.x,x=l+h*_.y;(v-p<0||v+p>=d.width)&&(i==="left"||i==="right"?y*=-1:y=v-p<0?(p-v+1)/u:(d.width-(v+p)-1)/u),(x-m<0||x+m>=d.height)&&(i==="top"||i==="bottom"?f*=-1:f=x-m<0?(m-x+1)/h:(d.height-(x+m)-1)/h)}g.style.left=a+u*y-p+"px",g.style.top=l+h*f-m+"px"}this._modules.events.fire("tooltipShow",{tooltip:g})}};function f2(e,{button:t,target:n}){return`${e}${t?`.${t}`:""}.${n!==null?n.isNode?"node":"edge":"background"}`}function DV(e){return ms?document.createElement(e):Eg()}var Hc={65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",46:"del",8:"backspace",32:"space",224:"cmd",91:"cmd",92:"cmd",93:"cmd",187:"+",189:"-"},_2=Object.keys(Hc).reduce((e,t)=>{const n=Hc[t];return e[n]||(e[n]=[]),e[n].push(t),e},{}),zV=class extends st{constructor(){super(...arguments),this._onBlur=()=>this.resetKeys(),this._onKeyUp=e=>{const t=e.keyCode||e.which;this._pressed[t]=!1,this._modules.events.fire("keyup",{domEvent:e,key:Hc[t],code:t})},this._onKeyDown=e=>{const t=e.keyCode||e.which,n=this._binds[t];if(!this._pressed[t]){if(this._pressed[t]=!0,n)for(const r of n)r.keys.every(i=>i.some(s=>this._pressed[s]))&&r.handler({domEvent:e});this._modules.events.fire("keydown",{domEvent:e,key:Hc[t],code:t})}}}onMounted(){this._modules.events.register(["keyup","keydown"]),this._binds=[],this._pressed=[],this._modules.dom.addWindowEventListener("keydown",this._onKeyDown).addWindowEventListener("keyup",this._onKeyUp).addWindowEventListener("visibilitychange",this._onBlur).addWindowEventListener("blur",this._onBlur,!1),this._idleTimeout=4e3,this._prevEventTimeStamp=er(),this._modules.events.onAnyEvent(()=>{const e=er();e-this._prevEventTimeStamp>this._idleTimeout&&this.resetKeys(),this._prevEventTimeStamp=e})}setIdleTimeout(e){if(!isFinite(e)||e<=1)throw new TypeError("Idle timeout must be a positive number > 1");this._idleTimeout=e}resetKeys(){for(let e=0;e<this._pressed.length;e++)this._pressed[e]&&(this._pressed[e]=!1,this._modules.events.fire("keyup",{key:Hc[e],code:e}))}onKeyPress(e,t){let n=[];if(typeof e=="number")n=[e];else if(typeof e=="string")n=e.split(" ");else{if(!Array.isArray(e))throw new TypeError(`${e} is not a number, string or array`);n=e}if(n.length===0)throw new Error("the array should contain at least one element");const r=n.map(o=>{if(typeof o=="number")return[o];if(typeof o=="string"){const a=_2[o];if(!a)throw new Error(`${o} is not a valid key identifier`);return a}throw new TypeError(`${o} is not a valid key identifier`)}),i=r.pop(),s={keys:r,handler:t};i&&i.forEach(o=>{this._binds[o]||(this._binds[o]=[]),this._binds[o].push(s)})}isPressed(e){if(typeof e=="number")return this._pressed[e];if(typeof e=="string"){const t=_2[e];if(t)return t.some(n=>this._pressed[n])}return!1}},OV=[{name:"color",isNode:!0},{name:"shape",isNode:!0},{name:"radius",isNode:!0},{name:"icon.content",isNode:!0},{name:"image.url",isNode:!0},{name:"image",isNode:!0},{name:"color",isNode:!1},{name:"shape",isNode:!1},{name:"width",isNode:!1}],bs=Math.PI,ws=2*Math.PI,YP=Math.cos(bs/2-ws/5),ZP=Math.cos(bs/2-ws/5*2),QP=Math.cos(bs/2-ws/5*3),KP=Math.cos(bs/2-ws/5*4),JP=Math.sin(-bs/2+ws/5),eM=Math.sin(-bs/2+ws/5*2),tM=Math.sin(-bs/2+ws/5*3),nM=Math.sin(-bs/2+ws/5*4),Ug=1.6,rM=3,BV=.9,sh=.31,Lf=1/3,jV=[8,3],$V=[3,3],oh={position:"bottom",widgetWidth:130,fontFamily:"Arial",fontSize:10,fontColor:"black",titleFontSize:12,titleFontColor:"black",titleMaxLength:20,titleTextAlign:"left",shapeColor:"grey",backgroundColor:"white",borderColor:"black",borderRadius:0,borderWidth:1,innerMargin:10,outerMargin:5,circleStrokeWidth:3,titleFunction:e=>e[e.length-1]},UV=["widgetWidth","fontSize","titleFontSize","borderRadius","borderWidth","innerMargin","outerMargin","circleStrokeWidth"];function iM(e){return Array.isArray(e)?e.reduce((t,n)=>t&&iM(n),!0):e==="undefined"||!isNaN(Number(e))}function sM(e){return Array.isArray(e)?e.reduce((t,n)=>Math.min(t,sM(n)),1/0):typeof(e=Number(e))=="number"?isNaN(e)?1/0:+e:1/0}function oM(e){return Array.isArray(e)?e.reduce((t,n)=>Math.max(t,oM(n)),-1/0):typeof(e=Number(e))=="number"?isNaN(e)?-1/0:+e:-1/0}function cs(e){const t=["K","M","B","T","P","E","Z","Y"];if(e>9999){let n=0;for(;n<t.length&&e>999;)e/=1e3,n++;return(y2(e,3)+t[n-1]).toString()}return y2(e,4).toString()}function y2(e,t=3){const n=t===4?10:1;return e<10?Math.round(100*e*n)/(100*n):e<100?Math.round(10*e*n)/(10*n):e<1e3?Math.round(e*n)/n:Math.round(e)}function aM(e){return e.innerMargin+(e.titleFontSize+e.fontSize)*Ug}var VV=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.title<=t.title?-1:1,GV=(e,t)=>e.height-t.height,HV=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:t.height-e.height,WV=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.content[0].title<=t.content[0].title?-1:1;function qV(e,t,n){const r=t.getContext("2d"),{x:i,y:s,height:o,isNode:a,styleProperty:l,title:c,mapping:d,iconFont:u,iconFontStyle:h}=n;ZV(r,e,i,s,o),QV(r,e,c,i,s);const g=e.fontSize*Ug,p=e.fontSize/2*Ug*BV,m=e.fontSize*rM,_=e.fontSize,y=YV(e,a);let f=s+aM(e);const v=i+e.innerMargin+y/2,x=i+2*e.innerMargin+y,w=Rc(d),b=iM(w),A=e.fontColor,S=e.shapeColor,k=Object.keys(d);if(b&&(k.sort((C,N)=>is(d[N])-is(d[C])),l==="radius"||l==="width")){const C=sM(w),N=oM(w);return(a?hG:gG)(e,r,i,f,C,(C+N)/2,N,S)}k.forEach(C=>{const N=d[C];l==="color"&&(a?lM(r,v,f,p,C):JV(r,v,f,m,_,C)),l==="shape"&&(a?oG(r,v,f,p,C,S):dG(r,v,f,m,_,C,S)),l==="icon.content"&&eG(r,v,f,C,u,p,A,h),l!=="image"&&l!=="image.url"||tG(r,v,f,p,C),KV(r,e,x,f,N,b),f+=g})}function XV(e,t,n,r,i,s){e.beginPath(),e.arc(t,n,r,0,ws),e.strokeStyle=i,e.lineWidth=s,e.stroke()}function tu(e,t,n,r,i="left",s="normal"){e.textAlign=i,e.textBaseline="middle",e.fillStyle=r,e.font=`${s} ${n}px "${t}"`}function YV(e,t){const n=t?1:rM;return e.fontSize*n}function ZV(e,t,n,r,i){return uG(e,n,r,t.widgetWidth,i,t.borderRadius,t.backgroundColor,t.borderColor,t.borderWidth)}function QV(e,t,n,r,i){tu(e,t.fontFamily,t.titleFontSize,t.titleFontColor,t.titleTextAlign);const s=t.titleTextAlign==="center",o=t.widgetWidth-2*t.innerMargin,a=e.measureText(n).width,l=r+(s?t.widgetWidth/2:t.innerMargin),c=i+t.titleFontSize/2+t.innerMargin;if(a>o){const d=o/a,u=(n.length*d|0)-2;n=n.substr(0,u)+""}e.fillText(n,l,c)}function KV(e,t,n,r,i,s){let o=i.join();if(s)if(i.length===1)o=cs(i[0]);else{const a=is(i),l=Ga(i);o=`${cs(a)} - ${cs(l)}`}tu(e,t.fontFamily,t.fontSize,t.fontColor),e.fillText(o,n,r)}function lM(e,t,n,r,i){e.beginPath(),e.arc(t,n,r,0,2*bs),e.fillStyle=i,e.fill()}function JV(e,t,n,r,i,s){e.fillStyle=s,e.fillRect(t-r/2,n-i/2,r,i)}function eG(e,t,n,r,i,s,o,a){tu(e,i,2*s,o,"center",a),e.fillText(r,t,n)}function tG(e,t,n,r,i){if(typeof Image>"u")return;e._imgStore||(e._imgStore={});let s=e._imgStore[i];if(s)return e.drawImage(s,t-r,n-r,2*r,2*r);s=new Image,s.src=i,s.onload=()=>{e.drawImage(s,t-r,n-r,2*r,2*r)},e._imgStore[i]=s}function nG(e,t,n,r){e.fillRect(t-r,n-r*sh,2*r,2*r*sh),e.fillRect(t-r*sh,n-r,2*r*sh,2*r)}function rG(e,t,n,r){return e.beginPath(),e.moveTo(t-r,n),e.lineTo(t,n-r),e.lineTo(t+r,n),e.lineTo(t,n+r),e.fill()}function iG(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+YP*r,n+JP*r),e.lineTo(t+ZP*r,n+eM*r),e.lineTo(t+QP*r,n+tM*r),e.lineTo(t+KP*r,n+nM*r),e.fill()}function sG(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+ZP*r,n+eM*r),e.lineTo(t+KP*r,n+nM*r),e.lineTo(t+YP*r,n+JP*r),e.lineTo(t+QP*r,n+tM*r),e.fill()}function oG(e,t,n,r,i,s){switch(e.fillStyle=s,i){case"square":return e.fillRect(t-r,n-r,2*r,2*r);case"circle":return lM(e,t,n,r,s);case"cross":return nG(e,t,n,r);case"diamond":return rG(e,t,n,r);case"equilateral":return iG(e,t,n,r);case"star":return sG(e,t,n,r)}}function aG(e,t,n,r,i){e.fillRect(t-r/2,n-i/4,r*(1-Lf),i/2),e.beginPath(),e.moveTo(t+r*(1-Lf-.5),n-i/2),e.lineTo(t+r*(1-Lf-.5),n+i/2),e.lineTo(t+r/2,n),e.fill()}function lG(e,t,n,r,i,s,o){e.beginPath(),e.moveTo(t-r/2,n),e.lineTo(t+r/2,n),e.strokeStyle=s,e.lineWidth=i/2,e.setLineDash(o==="dashed"?jV:$V),e.stroke()}function cG(e,t,n,r,i){e.beginPath(),e.moveTo(t-r/2,n-i/2),e.lineTo(t-r/2,n+i/2),e.lineTo(t+r/2,n),e.fill()}function dG(e,t,n,r,i,s,o){return e.fillStyle=o,s==="line"&&e.fillRect(t-r/2,n-i/4,r,i/2),s==="arrow"?aG(e,t,n,r,i):s==="dashed"||s==="dotted"?lG(e,t,n,r,i,o,s):s==="tapered"?cG(e,t,n,r,i):void 0}function uG(e,t,n,r,i,s,o,a,l){e.setLineDash([]),e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),e.fillStyle=o,e.fill(),e.strokeStyle=a,e.lineWidth=l,e.stroke()}function hG(e,t,n,r,i,s,o,a){const l=.7*e.fontSize,c=3*l,d=(l+c)/2,u=n+e.innerMargin+c,h=u+c+e.innerMargin,g=r+2*c-.5*e.innerMargin,p=e.circleStrokeWidth;for(const m of[l,d,c])XV(t,u,g-m,m,a,p);tu(t,e.fontFamily,e.fontSize,e.fontColor,"left"),t.fillText(cs(i),h,g+l-2*l),t.fillText(cs(s),h,g+l-2*d),t.fillText(cs(o),h,g+l-2*c)}function gG(e,t,n,r,i,s,o,a){const l=(e.widgetWidth-2*e.innerMargin)/3,c=e.fontSize,d=r-e.innerMargin/2,u=d+2*c,h=n+e.innerMargin;t.fillStyle=a,t.fillRect(h,d-c/2,l+1,c),t.fillRect(h+l,d-c/3,l+1,c/1.5),t.fillRect(h+2*l,d-c/6,l,c/3),tu(t,e.fontFamily,e.fontSize,e.fontColor,"center"),t.fillText(cs(o),h+.5*l,u),t.fillText(cs(s),h+1.5*l,u),t.fillText(cs(i),h+2.5*l,u)}function pG(e,t,n,r){const i=r.outerMargin+aM(r),s=r.fontSize*Ug,o=i-.8*r.innerMargin;return t==="radius"||t==="width"?o+s*(n?3:2):o+Object.keys(e).length*s}function mG(e,t,n){const r={width:t.width,height:t.height};let i=!1;return!!(r.width&&r.height&&n)&&(i=e.position==="top"||e.position==="bottom"?vG(r,e,n,e.position==="bottom"):fG(r,e,n,e.position==="left"),i&&n.forEach(s=>qV(e,t,s)),i)}function fG(e,t,n,r){const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height;let a=t.outerMargin,l=r?t.outerMargin:e.width-i,c=1;n=n.slice().sort(VV);for(let d=0;d<n.length;++d){const u=n[d];if(a+u.height>o){if(a===t.outerMargin)return!1;a=t.outerMargin,c+=1,r?l+=i:l-=i}u.x=l,u.y=a,a+=u.height}return c<=s}function _G(e,t,n){let r=null;for(let i=0;i<t.length;++i){const s=t[i];s.isNode!==e.isNode&&t.length!==1||!(r===null||s.height<t[r].height)||(r=i)}if(r!=null){const i=t[r];i.content.push(e),i.height+=e.height+n.outerMargin}}function yG(e){let t=0;for(let n=1;n<e.length;++n)e[n].height>e[t].height&&(t=n);return t}function vG(e,t,n,r){n=n.slice();const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height-t.outerMargin,a=new Array(Math.min(s,n.length)),l=n.length;let c=0,d=0,u=0,h=0;for(let v=0;v<l;++v){const x=n[v];x.isNode?(c+=1,d+=x.height):(u+=1,h+=x.height)}const g=d+h,p=d/g,m=h/g;let _=Math.round(p*s);const y=Math.round(m*s);if(_>c?_=c:y>u&&(_=s-u),s===0)return!1;for(let v=0;v<a.length;v++)a[v]={content:[],height:0,isNode:v<_};for(let v=0;v<l;++v){const x=yG(n);_G(n[x],a,t),n.splice(x,1)}a.every(({content:v})=>v.length===1)?a.sort(WV):a.sort(HV);let f=t.outerMargin;for(let v=0;v<a.length;++v){const x=a[v];if(x.height>o)return!1;x.content.sort(GV);let w=0;for(let b=0;b<x.content.length;++b){const A=x.content[b];A.x=f,A.y=r?e.height-w-A.height-t.outerMargin:w+t.outerMargin,w+=A.height+t.outerMargin}f+=i}return!0}var xG=class extends st{constructor(){super(...arguments),this._enabled=!1,this._mustRefresh=!1,this._promises=[]}onMounted(){this._modules.events.on("frame",()=>{this._enabled&&this._mustRefresh&&this._layer.refresh()}).on(["resize","reloadFonts"],()=>{this._mustRefresh=!0})}enable(e={}){const t=this._settings;return this._settings=we(we({},oh),e),this._mustRefresh=!this._enabled||!this._sameOptions(t,this._settings),this._enabled?Promise.resolve():(this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(n=>{this._drawOnCanvas(this._settings,n.canvas,Lr());const r=this._promises;this._promises=[],r.forEach(i=>i()),this._mustRefresh=!1},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this.refresh())}_afterNextUpdate(){return new Promise(e=>this._promises.push(e))}_formatSettings(e,t){const n=we(we({},oh),e);return UV.forEach(r=>n[r]*=t),n}disable(){return this._enabled&&(this._enabled=!1,this._layer.destroy()),Promise.resolve()}enabled(){return this._enabled}refresh(){return this._mustRefresh=!0,this._modules.dom.refresh(),this._afterNextUpdate()}destroy(){this._enabled=!1,this._mustRefresh=!1,this._settings=we({},oh),this._promises=[]}getOptions(){return this._enabled?we({},this._settings):we({},oh)}getCurrentOptions(){return this._settings}_sameOptions(e,t){return e===t||Object.keys(e).reduce((n,r)=>n&&e[r]===t[r],!0)}_drawOnCanvas(e,t,n){const r=this._formatSettings(e,n);mG(r,t,this._computeWidgetList(r))}exportOnCanvas(e,t,n){return this._drawOnCanvas(t,e,n)}export(e={}){const{width:t,height:n}=we(we({},this._modules.camera.getSize()),e),r=Lr(),i=Vn(t*r,n*r);return this._drawOnCanvas(e,i,r),Promise.resolve().then(()=>i)}_computeWidgetList(e){const t=[];return OV.forEach(({name:n,isNode:r})=>{const i=this._computeWidget(e,n,r);i&&t.push(i)}),t}_computeWidget(e,t,n){const r=this._computePropertyMapping(e,t,n);if(r){if(t!=="icon.content")return r;const i=this._getRulesForAttribute(n,"icon.font"),s=this._getRulesForAttribute(n,"icon.style");let o=null,a=null;if(i.length||(o="Arial",a="normal"),typeof i[0]=="string"&&(o=i[0],a=s[0]),o&&a)return r.iconFont=o,r.iconFontStyle=a,r}return null}_computePropertyMapping(e,t,n){const[r]=this._getRulesForAttribute(n,t),i=r&&r.mapping,s=i&&i.getValues(n);if(i&&s){const o=i.getField(),a={};return $i(s,(l,c)=>{l!==void 0&&c!=="undefined"&&(a[l]=a[l]||[],a[l].push(c))}),Object.keys(a).length===0?null:{isNode:n,title:e.titleFunction(o,t),styleProperty:t,dataProperty:o,mapping:a,height:pG(a,t,n,e)}}return null}_getRulesForAttribute(e,t){return this._modules.styleRules.getRuleList().map(n=>{const r=n.getDefinition();return sn(e?r.nodeAttributes:r.edgeAttributes,t)}).filter(Si).sort((n,r)=>n.mapping&&r.mapping?0:n.mapping?-1:1)}},v2={layer:dN,outerStroke:{color:LI,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:NI,minVisibleSize:0}},bG={layer:dN,color:LI,text:{backgroundColor:NI,minVisibleSize:0}},x2={duration:150,easing:"quadradicOut"},wG=class extends st{constructor(){super(...arguments),this._delay=16,this._manualTriggerDetection=!1,this._hovered=null,this._hoveredTextHidden=!1,this._onAnimate=({updatesPositions:e})=>{e&&this._hovered&&this._modules.graphics.isMoving(this._hovered)&&(this._manualTriggerDetection=!0,this._resetHover())},this._onBeforeNewFrame=()=>{if(this._manualTriggerDetection){this._manualTriggerDetection=!1,this._modules.captor.triggerDetection();const e=this._modules.captor.getPointedElement();e&&this._hover(e)}},this._onClear=()=>{this._hovered=null,this._timeout&&this._modules.dom.clearTimeout(this._timeout)},this._resetHover=()=>{this._hovered&&(this._unhover(this._hovered),this._modules.captor.triggerUnhover()),this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}}_setAnimationOptions(e){this._animationOptions={duration:(e==null?void 0:e.duration)!==void 0?e.duration:x2.duration,easing:(e==null?void 0:e.easing)!==void 0?e.easing:x2.easing},e==null||delete e.duration,e==null||delete e.easing}setRate(e){return this._delay=e,this}replaceNullColor(e,t){e&&sn(e,t)===null&&Gi(e,t,this._modules.settings.get("backgroundColor"))}updateNodeAttributes(e,t){this._setAnimationOptions(e),this.replaceNullColor(e,"text.backgroundColor"),this._hoverClass.update({nodeAttributes:e,fullOverwrite:t}),this._hoverExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}updateEdgeAttributes(e,t){this.replaceNullColor(e,"text.backgroundColor"),this.replaceNullColor(e,"text.secondary.backgroundColor"),this._setAnimationOptions(e),this._hoverClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}getHoverClassDefinition(){return this._hoverClass.getDefinition()}onMounted(){this._registerSettings(),this._setAnimationOptions(null),this._hoverExtremityHighlightedClass=this._modules.classes.createClass({name:b0,isBuiltin:!0,nodeAttributes:v2}),this._hoverClass=this._modules.classes.createClass({name:zc,isBuiltin:!0,nodeAttributes:v2,edgeAttributes:bG}),this._modules.events.on("mouseover",({target:e})=>e&&this._hover(e)).on("mouseout",({target:e})=>e&&this._unhover(e)).on("animate",this._onAnimate).on("beforeNewFrame",this._onBeforeNewFrame).on("mouseout",this._resetHover).on("clearGraph",this._onClear)}_registerSettings(){this._modules.settings.register("cursor.node","pointer",(e,t)=>{this._hovered&&this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("cursor.edge","pointer",(e,t)=>{this._hovered&&!this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("nodeHover",!0,e=>{!e&&this._hovered&&this._hovered.isNode&&this._unhover(this._hovered)}),this._modules.settings.register("edgeHover",!0,e=>{e||!this._hovered||this._hovered.isNode||this._unhover(this._hovered)})}_updateExtremityHighlightLayer(){const e=this._hoverClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._hoverExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}_removeTimeout(){this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}_hover(e){const t=e.isNode?"nodeHover":"edgeHover";this._modules.settings.get(t)&&e&&(this._removeTimeout(),this._timeout=this._modules.dom.setTimeout(()=>{this._setElementHighlight(!0,e),this._timeout=null},this._delay))}_unhover(e){this._removeTimeout(),this._hovered===e&&(this._setElementHighlight(!1,e),this._hoverExtremityHighlightedClass.clearNodes(),this._hovered=null)}_setElementHighlight(e,t){const n=this._modules.settings.get(t.isNode?"cursor.node":"cursor.edge");if(e?(this._modules.graphics.addCursorStyle(n),t.addClass(zc,this._animationOptions),this._hovered=t):(this._modules.graphics.removeCursorStyle(n),t.removeClass(zc,this._animationOptions)),t.isNode){const r=this._modules.graph.getAttribute(t.isNode,"textHidden"),i=t._index;e&&(this._hoveredTextHidden=r.get(i)!==0);const s=!e&&this._hoveredTextHidden;r.set(i,s)}else this._hoverExtremityHighlightedClass.clearNodes(),e&&t.getExtremities().addClass(b0,this._animationOptions)}},EG=class extends st{constructor(){super(...arguments),this.x=0,this.y=0}},SG=class{constructor(e,t){this._nodeMapping={valid:!1,values:{}},this._edgeMapping={valid:!1,values:{}},this._computeMapping=t,this._field=e,this._assignedRules=[]}getValue(e,t){const n=e.isNode,r=n?this._nodeMapping:this._edgeMapping;r.valid||(r.values=this._computeMapping(n),r.valid=!0);const i=e.getData(this._field);return Array.isArray(i)?t==="color"?i.map(s=>r.values[s]):r.values[i[0]]:r.values[i]}markAsInvalid(){this._nodeMapping.valid=!1,this._edgeMapping.valid=!1}getValues(e){return e?this._nodeMapping.values:this._edgeMapping.values}getField(){return this._field}isAssignedTo(e){return this._assignedRules.find(t=>t===e)}getAssignedRules(){return this._assignedRules.slice()}assignTo(e){this.isAssignedTo(e)||this._assignedRules.push(e)}unAssignTo(e){this._assignedRules=this._assignedRules.filter(t=>t!==e)}};function cM(e,t,n){const r=(t?e.getNodes():e.getEdges()).getData(n),i={};return r.forEach(s=>{if(!Array.isArray(s))return i[s]=1;s.forEach(o=>i[o]=1)}),"undefined"in i&&delete i[void 0],Object.keys(i).sort()}function AG(e,t,n,r){const{values:i={},fallback:s}=n,o=cM(e,r,t),a={};let l=0;for(let c=0;c<o.length;++c){const d=o[c];d in i?a[d]=i[d]:(a[d]=s[l],l=(l+1)%s.length)}return a}function CG(e,{nbSlices:t,minValue:n,maxValue:r}){if(Array.isArray(e))return e.slice();const{min:i=n,max:s=r}=e,o=(s-i)/t,a=[];for(let l=1;l<t;++l)a.push(i+o*l);return a}function kG(e,t){if(Array.isArray(e))return e;const{min:n,max:r}=e,i=t.length+1,s=(r-n)/t.length,o=[];for(let a=0;a<i;a++)o.push(n+a*s);return o}function TG(e,t,n,r){const{fallback:i,stops:s={},values:o,reverse:a}=n,l=cM(e,r,t);let c=1/0,d=-1/0;for(let p=0;p<l.length;p++){const m=+l[p];nm(m)&&(c=Math.min(c,m),d=Math.max(d,m),l[p]=m)}const u={};if(!isFinite(c)){for(let p=0;p<l.length;p++)u[l[p]]=i;return u}const h=CG(s,{nbSlices:Array.isArray(o)?o.length:o.nbSlices,minValue:c,maxValue:d}),g=kG(o,h);a&&g.reverse();for(let p=0;p<l.length;++p){const m=l[p];if(isFinite(m)){let _=0;for(;_<h.length&&h[_]<=m;)_+=1;u[m]=g[_]}else u[m]=i}return u}var LG=class extends st{constructor(){super(...arguments),this._mappingList=[]}onMounted(){this._modules.events.on(["addStyleRule","updateStyleRule"],({rule:e,options:t})=>{const n=t.nodeAttributes&&typeof t.nodeAttributes!="function"?t.nodeAttributes:{},r=t.edgeAttributes&&typeof t.edgeAttributes!="function"?t.edgeAttributes:{};[...Rc(n),...Rc(r)].forEach(i=>{i&&this._recursiveGetMapping(i).forEach(s=>s.assignTo(e.id))})}).on("removeStyleRule",({rule:e})=>{this._mappingList.forEach(t=>t.unAssignTo(e.id))}).on(["addNodes","addEdges","updateNodeData","updateEdgeData","removeNodes","beforeRemoveEdges","excludedStateChange","clearGraph"],()=>{this._mappingList.forEach(e=>{const t=e.getAssignedRules();e.markAsInvalid(),t.forEach(n=>this._modules.styleRules.refreshRule(n))}),this._modules.legend.refresh()})}_recursiveGetMapping(e,t=[]){if(!e)return t;if(e.mapping)return t.push(e.mapping),t;if(typeof e!="object")return t;const n=Rc(e).map(r=>this._recursiveGetMapping(r));return t.concat(...n)}createMapping({field:e,values:t={},fallback:n}={field:""}){if(e=ta(e),Array.isArray(n)?n.length===0&&(n=[void 0]):n=[n],!na(t))throw new Error('"mapping" should be an object');return this._createMappingFunction(AG,e,{values:t,fallback:n})}createSlices({field:e,fallback:t,stops:n={},values:r,reverse:i=!1}={field:"",values:[]}){if(e=ta(e),Array.isArray(r)||r.nbSlices||(r.nbSlices=7),Array.isArray(n)&&Array.isArray(r)&&n.length!==r.length-1)throw new Error("there should be exactly one more value that stops");return this._createMappingFunction(TG,e,{fallback:t,stops:n,values:r,reverse:i})}_createMappingFunction(e,t,n){const r=new SG(t,s=>e(this._modules.graph,t,n,s));this._mappingList.push(r);const i=(s,o,a)=>r.getValue(s,a);return i.mapping=r,i}createTemplate(e){if(typeof e!="string")throw new TypeError('"template" should be a string');const t=[];let n=0,r=!1;for(;!r;){let i=-1;const s=e.indexOf("{{",n);s!==-1&&(i=e.indexOf("}}",s+2)),i!==-1?(t.push(e.substring(n,s)),t.push(e.substring(s+2,i)),n=i+2):(t.push(e.slice(n)),r=!0)}return function(i){let s=t[0];for(let o=1;o<t.length;o+=2)s+=i.getData(t[o]),s+=t[o+1];return s}}},ua=class{constructor({duration:e,enabled:t}){this._duration=e||0,this._removalDuration=e||0,this.enabled=!1,this.shouldUndo=!1,this.destroyed=!1,this.shouldDo=t!==!1,this.shouldAnimate=this.shouldDo,this._error=null,this._whenApplied=new Promise((n,r)=>{this._resolveFunction=n,this._rejectFunction=r})}getDuration(){return this._duration}getAnimationDuration(e=!0){return this.shouldAnimate?e?this._duration:this._removalDuration:0}setDuration(e){e!==void 0&&(this._duration=e)}getRemovalDuration(){return this._removalDuration}setRemovalDuration(e){e!==void 0&&(this._removalDuration=e)}getContext(){return this._context}setContext(e){this._context=e}getError(){return this._error}setError(e){this._error=e}getOgma(){return this._ogma}resolve(){this._resolveFunction(this)}reject(){const e=this._error;return this._error=null,this._rejectFunction(e)}getName(){throw new Error("type not set")}getId(){return this._id}whenApplied(){return this._whenApplied}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}initialize({id:e,ogma:t}){this._id=e,this._ogma=t,this.resetContext()}enable(e){return this._ogma.modules.transformations.enable(this,e||0)}disable(e){return this._ogma.modules.transformations.disable(this,e||0)}toggle(e){return this.enabled?this.disable(e):this.enable(e)}getIndex(){return this._ogma.modules.transformations.getIndex(this)}setIndex(e){return this._ogma.modules.transformations.setIndex(this,e).then(()=>this)}setOptions(e){return this._ogma.modules.transformations.setOptions(this,we({duration:this._duration,enabled:this.enabled},e)).then(()=>this)}_setOptions(e){this._duration=e.duration===void 0?this._duration:e.duration}destroy(e){return this.destroyed=!0,this._ogma.modules.transformations.remove(this,e||0)}refresh(){return this._ogma.view.afterNextFrame().then(()=>this._refresh())}_refresh(){return this._ogma.modules.transformations.refresh(!0)}resetContext(){this._context={virtualNodes:this._ogma.nodeList(),virtualEdges:this._ogma.edgeList()}}run(){throw new Error("run function not implemented")}cleanup(){throw new Error("cleanup function not implemented")}undo(){throw new Error("undo function not implemented")}onClearGraph(){this.resetContext()}},dM=class extends ua{constructor(e){super(e),this._getNodesToFilter=e.getNodesToFilter,this._getEdgesToFilter=e.getEdgesToFilter}run(){const e=this._ogma,t=this.getAnimationDuration(),n=this._getNodesToFilter(e),r=this._getEdgesToFilter(e,n);return Promise.all([n.addClass(Rs,t),r.addClass(Rs,t)]).then(()=>(n.setExcluded(!0),r.setExcluded(!0),vt(we({},this._context),{nodes:n,edges:r})))}undo(){const e=this.getAnimationDuration(),{nodes:t,edges:n}=this._context;return t.setExcluded(!1),n.setExcluded(!1),t.addClass(Rs),n.addClass(Rs),Promise.all([t.removeClass(Rs,e),n.removeClass(Rs,e)])}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{nodes:this._ogma.nodeList(),edges:this._ogma.edgeList()})}cleanup(){return Promise.resolve()}get context(){return this._context}},NG=class extends dM{constructor(e){super(vt(we({},e),{getNodesToFilter:t=>t.createNodeList(),getEdgesToFilter:t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}))}getName(){return"edge-filter"}_setOptions(e){super._setOptions(e),this._getEdgesToFilter=t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}},IG=class extends dM{constructor(e){const t=e.criteria;super(vt(we({},e),{getNodesToFilter:n=>n.getNodes().filter(r=>!t||!t(r)),getEdgesToFilter:(n,r)=>r.getAdjacentEdges()}))}getName(){return"node-filter"}_setOptions(e){super._setOptions(e);const t=e.criteria;this._getNodesToFilter=n=>n.getNodes().filter(r=>!t||!t(r))}},PG=class extends st{addNodeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new IG(e))}addEdgeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new NG(e))}},b2=e=>e.stopPropagation(),MG=(e,t)=>{t.style.position="absolute",t.style.left="0",t.style.top="0",e.appendChild(t)},FG=e=>t=>{for(;e.firstChild;)e.removeChild(e.firstChild);for(let n=0;n<t.length;++n)MG(e,t[n])},RG=(e,t)=>{const n=document.createElement("img");return new Promise(r=>{n.addEventListener("load",()=>{t.drawImage(n,0,0,t.canvas.width,t.canvas.height),r(t)});const i=`data:image/svg+xml;base64,${btoa(new XMLSerializer().serializeToString(e))}`;n.src=i})},DG=class extends st{constructor(){super(...arguments),this._elements=[],this._layers=[],this.readyCallbacks=[],this.render=(e,t,n,r)=>{const i=r&&r.pixelRatio?r.pixelRatio:Lr(),{zoom:s,x:o,y:a,width:l,height:c}=r||this._modules.camera.getView();if(s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=i*s;n.noClear||e.clearRect(0,0,l*i,c*i),n.isStatic||(e.save(),e.translate(l*i/2,c*i/2),e.rotate(r?-(r.angle||0):-this._modules.camera.getAngle()),e.translate(-o*d,-a*d),e.scale(d,d)),t(e),n.isStatic||e.restore()},this.createCanvas=(e,t)=>{const{width:n,height:r}=this._modules.camera.getSize(),i=t.canvas||Vn(n,r),s=t.ctx||i.getContext("2d"),o=(d=e)=>{s&&this.render(s,d,t)},a=()=>{const{width:d,height:u}=this._modules.camera.getSize(),h=Lr();i.width=d*h,i.height=u*h,i.style.width=`${d}px`,i.style.height=`${u}px`,o()};let l,c;if(t.isStatic)this._modules.dom.addDirectWindowEventListener("resize",a),l=()=>{this._modules.dom.removeDirectWindowEventListener("resize",a)};else{let d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom(),h=!1;const g=0;let p;const m=500,_=()=>{h||(o(),h=!0,d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom())},y=()=>{h||_();const{x,y:w}=this._modules.camera.getCenter(),b=x-d.x,A=w-d.y,S=-b*u,k=-A*u,C=this._modules.camera.getZoom()/u,N=-this._modules.camera.getAngle();i.style.transform=`
          scale(${C})
          rotate(${-N}rad)
          translateX(${S}px)
          translateY(${k}px)
          rotate(${N}rad)
        `.replace(/\n/g,"")};c=()=>!h||(o(),h=!1,i.style.transform="scale(1) translateX(0px) translateY(0px)",!1);const f=x=>{p&&clearTimeout(p),_()},v=x=>{Date.now()<g&&p&&clearTimeout(p),p=setTimeout(c,x.duration+m),_()};this._modules.events.on("dragStart",f).on("zoomStart",v).on("dragEnd",c).on(["viewChanged","zoom","rotate","move","animate"],y),this._modules.dom.addDirectWindowEventListener("resize",c),this._modules.dom.addDirectWindowEventListener("resize",a),this._modules.events.on("resize",a),l=()=>{this._modules.events.off(a).off(f).off(v).off(c).off(y),this._modules.dom.removeDirectWindowEventListener("resize",c),this._modules.dom.removeDirectWindowEventListener("resize",a)}}return i.style.touchAction="none",i.style.pointerEvents="none",a(),{element:i,removeListeners:l,refresh:d=>{c&&!c()||o(d)},clear:()=>s==null?void 0:s.clearRect(0,0,i.width,i.height)}},this.createSVG=e=>{const{element:t}=e;t.style["pointer-events"]="none";const n=()=>{e.draw(e.element)},r=i=>{let{zoom:s,x:o,y:a,width:l,height:c}=i||this._modules.camera.getView();if(l=Math.floor(l),c=Math.floor(c),s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=l/2/s,u=c/2/s,h=Math.cos(-this._modules.camera.getAngle()),g=Math.sin(-this._modules.camera.getAngle()),p=h*o-g*a-d,m=g*o+h*a-u,_=l/s,y=c/s;t.style.width=`${l}px`,t.style.height=`${c}px`,t.setAttribute("width",`${l}`),t.setAttribute("height",`${c}`),t.setAttribute("viewBox",`${p} ${m} ${_} ${y}`)};return this._modules.events.on(["viewChanged","zoom","rotate","move","animate","afterImageExport"],()=>r()),t.addEventListener("mousemove",b2),r(),n(),{element:t,removeListeners:()=>{this._modules.events.off(r)},updateTransformation:r,refresh:n}},this._createOverlay=e=>{const t=()=>{const{element:i,position:s}=e,{zoom:o,x:a,y:l,width:c,height:d}=this._modules.camera.getView();if(o===void 0||a===void 0||l===void 0||c===void 0||d===void 0)return null;const u=o,h=c/2,g=d/2,p=-this._modules.camera.getAngle(),m=(s.x-a)*u,_=(s.y-l)*u;i.style.transformOrigin="top left",i.style.transform=`translate(${h}px, ${g}px) rotate(${p}rad) translate(${m}px, ${_}px) ${e.scaled?`scale(${u}, ${u})`:""}`};this._modules.events.on(["viewChanged","zoom","rotate","move","animate","afterImageExport"],t);const{element:n,size:r}=e;return r&&(n.style.width=`${r.width}`,n.style.height=`${r.height}`),n.addEventListener("mousemove",b2),t(),{element:n,removeListeners:()=>{this._modules.events.off(t)},updateTransformation:t}},this.addLayer=(e,t="layer",n=this._elements.length)=>{const r=typeof e=="string"?l0(e):e;this._elements.push(r);const i={element:r};return i.type=t,i.getLevel=()=>this._elements.indexOf(r),i.moveTo=s=>(this._elements.splice(s,0,this._elements.splice(i.getLevel(),1)[0]),this._updateDom(this._elements),i),i.moveUp=()=>i.moveTo(i.getLevel()+1),i.moveDown=()=>i.moveTo(i.getLevel()-1),i.moveToTop=()=>i.moveTo(this._elements.length-1),i.moveToBottom=()=>i.moveTo(0),i.destroy=()=>this._removeLayer(i),i.hide=()=>(i.element&&(i.element.style.visibility="hidden"),i),i.show=()=>(i.element&&(i.element.style.visibility="visible"),i),i.isHidden=()=>i.element.style.visibility==="hidden",i.setOpacity=s=>(i.element&&(i.element.style.opacity=s.toString()),i),i.getOpacity=()=>parseFloat(i.element.style.opacity||"1"),i.setPosition=s=>{if(i.element){const o=i.element.style;o.left=`${s.x}px`,o.top=`${s.y}px`}return i},i.setSize=s=>{if(i.element&&s){const{width:o,height:a}=s,l=i.element.style;l.width=`${o}px`,l.height=`${a}px`}return i},i.moveTo(n),this._layers.push(i),i},this.addCanvasLayer=(e,t={isStatic:!1,noClear:!1},n=this._elements.length)=>{const r=this.createCanvas(e,t),{element:i,removeListeners:s,refresh:o,clear:a}=r,l=this.addLayer(i,"canvas",n);return i.classList.add("ogma-canvas-layer"),l.destroy=()=>this._removeLayer(l,s),l.refresh=o,l.clear=a,l.draw=e,l.options=t,l},this.addOverlay=(e,t=this._elements.length)=>{typeof e.element=="string"&&(e.element=l0(e.element)),e.scaled=e.scaled===void 0||e.scaled;const n=this._createOverlay(e),{element:r,removeListeners:i,updateTransformation:s}=n,o=this.addLayer(r,"overlay",t);return o._onViewChange=s,o._onDestroy=i,o.destroy=()=>this._removeLayer(o,i),o.setPosition=a=>(e.position=a,s(),o),e.size&&o.setSize(e.size),o},this.addSVGLayer=(e,t=this._elements.length)=>{const n=this.createSVG(e),{element:r,refresh:i,removeListeners:s,updateTransformation:o}=n,a=this.addLayer(r,"svg",t);return a._onViewChange=o,a._onDestroy=s,a.destroy=()=>this._removeLayer(a,s),a.refresh=i,a}}canvasToImage(e,t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");this.render(r,e.draw,vt(we({},e.options),{noClear:!0}),vt(we({},t),{pixelRatio:1}));const i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttribute("href",n.toDataURL("image/png")),i.setAttribute("width",n.width),i.setAttribute("height",n.height),i}exportPNG(e,t,n){const r=e.getContext("2d");let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?(this.render(r,s.draw,vt(we({},s.options),{noClear:!0}),n),Promise.resolve()):(s._onViewChange&&s._onViewChange(n),RG(s.element,r)))}),i}exportSVG(e,t,n,r){let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?Promise.resolve(this.canvasToImage(s,n)):(s._onViewChange&&s._onViewChange(n),s.element.cloneNode(!0))).then(o=>r?e.insertBefore(o,e.querySelector(".ogma-nodes").parentNode||e.firstChild):e.appendChild(o))}),i}export(e){const t=this._layers.sort((i,s)=>i.getLevel()-s.getLevel()).filter(i=>i.type==="canvas"||i.type==="svg"),n=this.ogmaLayer?this.ogmaLayer.getLevel():0,r=e.below?t.filter(i=>i.getLevel()<n):t.filter(i=>i.getLevel()>n);return e.canvas?this.exportPNG(e.canvas,r,e.view):this.exportSVG(e.svg,r,e.view,e.below)}onMounted(){const e=this._modules.graphics.getDomElement();this._updateDom=FG(e);const t=e.firstChild;t&&(this.ogmaLayer=this.addLayer(t)),this.runCallbacks()}runCallbacks(){this.ogmaLayer&&(this.readyCallbacks.forEach(e=>e()),this.readyCallbacks=[])}whenReady(e){this.readyCallbacks.push(e),this.ogmaLayer&&this.runCallbacks()}_removeLayer(e,t){return e.element&&e.element.parentNode&&(this._elements.splice(e.getLevel(),1),t&&t(),e.element=null,this._updateDom(this._elements)),this._layers=this._layers.filter(n=>n!==e),e}destroy(){this._elements=[]}},zG=class extends st{onMounted(){const e=this._modules.graph;this._nodeList=e.getNodeAttribute("object"),this._edgeList=e.getEdgeAttribute("object"),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target"),this._excludedList=e.getEdgeAttribute("excluded"),this._virtualList=e.getEdgeAttribute("virtual")}shortestPath(e={source:void 0,target:void 0}){const{source:t,target:n,directed:r=!1,edges:i=this._ogma.getEdges(),nodes:s=this._ogma.getNodes(),edgeCostFunction:o=()=>1,heuristicFunction:a=()=>0}=e,l=i.reduce((m,_)=>(m[_._index]=!0,m),{}),c=s.reduce((m,_)=>(m[_._index]=!0,m),{}),d=this._modules.graph.getNode(t),u=this._modules.graph.getNode(n);if(!d)throw new Error("the source is not a node");if(!u)throw new Error("the target is not a node");const h=d._index,g=u._index;c[h]=!0,c[g]=!0;let p=null;if(h===g)p={nodes:d.toList(),edges:this._modules.graph.edgeList()};else{const m=this._modules.graph.getNodeMaxIndex()+1,_=new Int32Array(m),y=new Float32Array(m),f=new Float32Array(m),v=new Set,x=new FL(f);for(y.fill(1/0),f.fill(1/0),_.fill(-1),x.add(h),y[h]=0,f[h]=a(d,u);!x.isEmpty();){const w=x.removeMin();if(w===g){p=this._constructPath(_,h,g);break}v.add(w);const b=this._modules.graph.getAdjacentDirections(w);if(b)for(let A=0;A<b.length;++A){const S=b[A],k=this._modules.graph.getEdgeIndexesInDirection(S);let C=-1,N=0,D=-1;for(let j=0;j<k.length;++j){const U=k[j],F=this._sourceList.get(U),T=this._targetList.get(U);if(F===T||!c[F]||!c[T]||r&&w!==F||!l[U])continue;const q=o(this._edgeList.get(U));(C===-1||q<N)&&(C=U,N=q,D=F===w?T:F)}if(D!==-1||v.has(D)){const j=y[w]+N;if(!x.has(D)||j<y[D]){const U=this._nodeList.get(w);_[D]=C,y[D]=j,f[D]=j+a(U,u),x.add(D)}}}}}return Promise.resolve(p)}_constructPath(e,t,n){const r=[n],i=[];let s=n;for(;s!==t;){const o=e[s],a=this._sourceList.get(o),l=this._targetList.get(o);s=s===a?l:a,r.push(s),i.push(o)}return r.reverse(),i.reverse(),{nodes:this._modules.graph.nodeList(new Uint32Array(r)),edges:this._modules.graph.edgeList(new Uint32Array(i))}}detectCycle(e,t){const n=t.getSource(),r=t.getTarget(),i=ZL(e._indexes,n._indexes,r._indexes);return i?this._modules.graph.nodeList(new Uint32Array(i)).dedupe():this._modules.graph.nodeList()}getAllSimpleCycles(e,t){const n=t.getSource(),r=t.getTarget();return new KL(e._indexes,n._indexes,r._indexes).getCycles().map(i=>this._modules.graph.nodeList(new Uint32Array(i)))}minimumSpanningTree(e,t,n){const r=this._modules.graph;e=r.getNodes(e),t=r.getEdges(t);const i=new Set;e.forEach(l=>i.add(l._index));const s=r.getConnectedComponents(e,{filter:l=>i.has(l),internalIndexes:!0}),o={};s.forEach((l,c)=>l.forEach(d=>o[d]=c));const a=[];return t.forEach(l=>{const c=o[l.getSource()._index];c!==void 0&&(a[c]===void 0&&(a[c]=[]),a[c].push(l._index))}),s.map((l,c)=>{const d=JL(l,a[c]||[],u=>r.edge(u).getSource()._index,u=>r.edge(u).getTarget()._index,n?u=>n(r.edge(u)):void 0);return{nodes:r.nodeList(new Uint32Array(l)),edges:r.edgeList(new Uint32Array(d))}})}bfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.unshift(d)})}}}dfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.push(d)})}}}betweenness({nodes:e,edges:t,directed:n,normalized:r}){const i=this._ogma.getNodes().subtract(e),s=this._ogma.getEdges().subtract(t).concat(i.fastGetAdjacentElements().edges).dedupe();return eN({adjacency:e.map(o=>{const a=this._ogma.edgeList(this._ogma.modules.graph.topology.getAdjacentElements(!1,o.toList()._indexes,{direction:n?"out":"both"})).subtract(s).dedupe();return{id:o._index,adj:a.map(l=>l.getSource()._index===o._index?l.getTarget()._index:l.getSource()._index)}}),directed:n,normalized:r})}},w2=(e,t)=>{if(!e)throw new Error("Traversal options are required");if(typeof e.onNode!="function")throw new Error("onNode callback is required");if(e.root=t.getNode(e.root),!e.root)throw new Error(`Root node '${e.root}' does not exist`);return e},ah=()=>({nodes:void 0,edges:void 0}),OG=class extends Yt{constructor(){super(...arguments),this.shortestPath=e=>this._ogma.modules.algorithms.shortestPath(e),this.hasCycle=e=>{const{nodes:t,edges:n}=e||ah();return this.detectCycle({nodes:t,edges:n})!==null},this.getAllSimpleCycles=e=>{let{nodes:t,edges:n}=e||ah();return t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0})),this._ogma.modules.algorithms.getAllSimpleCycles(t,n)},this.detectCycle=e=>{let{nodes:t,edges:n}=e||ah();t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0}));const r=this._ogma.modules.algorithms.detectCycle(t,n);return r.size?r:null},this.minimumSpanningTree=e=>{const{nodes:t,edges:n,edgeCostFunction:r}=e||vt(we({},ah()),{edgeCostFunction:void 0});return this._ogma.modules.algorithms.minimumSpanningTree(t,n,r)},this.dfs=e=>this._ogma.modules.algorithms.dfs(w2(e,this._ogma.modules.graph)),this.bfs=e=>this._ogma.modules.algorithms.bfs(w2(e,this._ogma.modules.graph)),this.betweenness=(e={})=>(e={nodes:e.nodes||this._ogma.getNodes(),edges:e.edges||this._ogma.getEdges(),directed:e.directed!==void 0&&e.directed,normalized:e.normalized===void 0||e.normalized},this._ogma.modules.algorithms.betweenness(e)),this.getMinimumEnclosingCircle=e=>{if(!e||e.size===0)throw new Error("getMinimumEnclosingCircle: no nodes provided");const t=e.getAttribute("x"),n=e.getAttribute("y"),r=e.getAttribute("radius"),[i,s,o]=Up(t,n,r);return{x:i,y:s,radius:o}},this.circlePack=({nodes:e,margin:t=0,origin:n={x:0,y:0},duration:r=0,easing:i="linear",sort:s})=>{if(!e||e.size===0)throw new Error("circlePack: no nodes provided");let o=e.map((l,c)=>({index:c,radius:+l.getAttribute("radius")+t,id:l.getId()}));if(s)if(s==="asc")o=o.sort((l,c)=>c.radius-l.radius);else if(s==="desc")o=o.sort((l,c)=>l.radius-c.radius);else{if(typeof s!="function")throw new Error("circlePack: invalid sort option");o=o.sort((l,c)=>s(e.get(l.index),e.get(c.index)))}if(n&&(!isFinite(n.x)||!isFinite(n.y)))throw new Error("circlePack: invalid origin");const a=jL(o,n.x,n.y).reduce((l,{index:c,x:d,y:u})=>(l[c]={x:d,y:u},l),new Array(e.size));return e.setAttributes(a,{duration:r,easing:i})}}},BG=class{getHoveredElement(){return this.modules.captor.getPointedElement()}getPointerInformation(){return this.modules.captor.getCursorInformation()}},jG=class extends Yt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.geo.enable(e),this.disable=e=>this._ogma.modules.geo.disable(e),this.setOptions=e=>this._ogma.modules.geo.setOptions(e),this.getOptions=()=>this._ogma.modules.geo.getOptions(),this.getMap=()=>this._ogma.modules.geo.getMap(),this.enabled=()=>this._ogma.modules.geo.isEnabled(),this.getCenter=()=>this._ogma.modules.geo.getCenter(),this.getView=()=>this._ogma.modules.geo.getView(),this.getZoom=()=>this._ogma.modules.geo.getZoom(),this.setZoom=e=>this._ogma.modules.geo.setZoom(e),this.setView=(e,t,n)=>this._ogma.modules.geo.setView(e,t,n),this.setCenter=(e,t)=>this._ogma.modules.geo.setCenter(e,t),this.toggle=e=>this._ogma.modules.geo.toggle(e),this.resetCoordinates=()=>this._ogma.modules.geo.resetCoordinates(),this.getUnprojectedCoordinates=e=>this._ogma.modules.geo.getUnprojectedCoordinates(this._ogma.getNodes(e))}},$G=class extends Yt{constructor(){super(...arguments),this.isKeyPressed=e=>this._ogma.modules.keyboard.isPressed(e),this.resetKeys=()=>{this._ogma.modules.keyboard.resetKeys()}}},UG=class extends Yt{addLayer(e,t){return this._ogma.modules.layers.addLayer(e,"layer",t)}addCanvasLayer(e,t,n){return this._ogma.modules.layers.addCanvasLayer(e,t,n)}addOverlay(e,t){if(!e.position)throw new Error("options.position argument is required");return this._ogma.modules.layers.addOverlay(e,t)}addSVGLayer(e,t){return e.element||(e.element=document.createElementNS("http://www.w3.org/2000/svg","svg")),e.draw||(e.draw=()=>{}),this._ogma.modules.layers.addSVGLayer(e,t)}},E2={name:"concentric",configure:function(e,{graph:t,data:n}){if(e.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');const r=vt(we({},e),{centralNode:function(x,w){return w instanceof Hi?w:x.getNode(w)}(t,e.centralNode)}),{centralNode:i,nodes:s}=r,o=t.getNode(i);if(o===void 0)throw new Error('concentric layout: "centralNode" parameter is not valid');const a=o._index,{x:l,y:c}=o.getPosition(),d=s.getAttribute("layoutable"),u=t.getNodes(s)._indexes,h=Array.from(u.filter((v,x)=>d[x]));h.indexOf(a)===-1&&h.push(a);const g=t.getNodeAttribute("radius").getMultiple(u),p=function(x,w,b,A){if(w)return w==="random"?"random":w==="radius"?A.slice():w==="degree"?b.getDegree():x.getProperty(b,w)}(n,r.sortBy,s,g),m=h.reduce((v,x,w)=>(v[x]=w,v),{}),_=h.map((v,x)=>x),y=new Set(e.edges.getExtremities()._indexes),f=h.map(v=>t.topology.getAdjacentElements(!0,new Uint32Array([v])).filter(x=>y.has(x)).map(x=>m[x]));return{sourceNodeIndex:h.indexOf(a),centerX:typeof r.centerX=="number"?r.centerX:l,centerY:typeof r.centerY=="number"?r.centerY:c,list:h,indexes:_,size:h.length,totalSize:h.length,attributes:{adjacentNodes:f,size:g},sortAttr:p,clockwise:r.clockwise===void 0||r.clockwise,circleHopRatio:r.circleHopRatio||5,allowOverlap:!!r.allowOverlap}},context:function(){return{dijkstra:function(e,t,n,r,i){const s=Math.pow(2,31)-1,o=new Int32Array(r),a=new Int32Array(r),l=new Int8Array(r);o.fill(s),a.fill(-1);for(let d=0;d<r;++d){const u=t[d];u!==void 0&&(o[u]=s,a[u]=-1)}o[i]=0;let c=0;for(;c!==-1;){let d=s;c=-1;for(let u=0;u<n;++u){const h=t[u],g=o[h];!l[h]&&g<d&&(d=g,c=h,l[h]=1)}if(c>-1){const u=e[c],h=d+1;u.forEach(g=>{const p=o[g];h<p&&(o[g]=h,a[g]=c)})}}return o},determinePropertyType:function(e,t,n){return t.some(r=>e[r]!=="number")?"string":"number"}}},update:function(e,t){const{attributes:n,indexes:r,size:i}=e,{sourceNodeIndex:s,centerX:o,centerY:a,sortAttr:l}=e,c=n.adjacentNodes,d=n.size,u=new Array(e.totalSize),h=new Array(e.totalSize),g=t.dijkstra(c,r,e.size,e.totalSize,s);let p=0;const m={};for(let b=0;b<i;b++){const A=d[r[b]];A>p&&(p=A)}const _=p*e.circleHopRatio;let y=0,f=0;const v=Math.PI/9;for(let b=0;b<i;b++){const A=r[b],S=g[A];let k=m[S];k||(k=[],m[S]=k),k.push(A)}const x=function(A,S,k){if(A==="random")return function(){return Math.random()-.5};if(A)return k.determinePropertyType(A,S,S.length)==="number"?function(C,N){return A[C]-A[N]}:function(C,N){return A[C]<A[N]?-1:1}}(l,r,t),w=l==="random"||l;return Object.keys(m).sort((b,A)=>parseInt(b)-parseInt(A)).forEach((b,A)=>{const S=m[b],k=S.length;let C=0,N=f;const D=2*Math.PI/k;if(A!==0&&!e.allowOverlap){const j=2*Math.PI*y;let U=0;C+=S.reduce((F,T)=>F+d[T],0),U=2*C*Math.SQRT2,U>j&&(y+=U/(2*Math.PI)-y)}w&&(S.sort(x),e.clockwise||S.reverse());for(let j=0;j<k;j++){const U=S[j];u[U]=Math.cos(N)*y+o,h[U]=Math.sin(N)*y+a;const F=d[U];N+=D*(e.allowOverlap?1:F/C*k)}y+=_,f+=v}),{x:u,y:h,indexes:e.list}},isRunning:function(){return!1},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}}},VG=e=>(e.modules.layouts.register(E2),t=>e.modules.layouts.start(E2.name,t)),GG=Object.defineProperty,Qe=(e,t)=>GG(e,"name",{value:t,configurable:!0}),HG=Qe((e,t)=>e.map(n=>t*n),"Z"),WG=Qe((e,t)=>e.map(t),"g"),qG=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),XG=Qe(()=>({[WebGL2RenderingContext.FLOAT]:"uniform1f",[WebGL2RenderingContext.FLOAT_VEC2]:"uniform2fv",[WebGL2RenderingContext.FLOAT_VEC3]:"uniform3fv",[WebGL2RenderingContext.FLOAT_VEC4]:"uniform4fv",[WebGL2RenderingContext.INT]:"uniform1i",[WebGL2RenderingContext.INT_VEC2]:"uniform2iv",[WebGL2RenderingContext.INT_VEC3]:"uniform3iv",[WebGL2RenderingContext.INT_VEC4]:"uniform4iv",[WebGL2RenderingContext.UNSIGNED_INT]:"uniform1ui",[WebGL2RenderingContext.UNSIGNED_INT_VEC2]:"uniform2uiv",[WebGL2RenderingContext.UNSIGNED_INT_VEC3]:"uniform2uiv",[WebGL2RenderingContext.UNSIGNED_INT_VEC4]:"uniform2uiv",[WebGL2RenderingContext.FLOAT_MAT2]:"uniformMatrix2fv",[WebGL2RenderingContext.FLOAT_MAT3]:"uniformMatrix3fv",[WebGL2RenderingContext.FLOAT_MAT4]:"uniformMatrix4fv",[WebGL2RenderingContext.SAMPLER_2D]:"uniform1i",[WebGL2RenderingContext.INT_SAMPLER_2D]:"uniform1i",[WebGL2RenderingContext.UNSIGNED_INT_SAMPLER_2D]:"uniform1i",[WebGL2RenderingContext.SAMPLER_CUBE]:"uniform1i"}),"te"),zo=new Map,Nf=new Map,YG=Qe((e,t,n,r)=>{zo.has(e)||zo.set(e,zo.size);const i=`${zo.get(e)}:${t}:${n}`;return Nf.has(i)||Nf.set(i,r()),Nf.get(i)},"re"),If=new Map,ZG=Qe((e,t)=>(zo.has(e)||zo.set(e,zo.size),If.has(e)||If.set(e,t()),If.get(e)),"oe"),QG=Qe(e=>{const t=e.createBuffer();if(!t)throw new Error("Could not create buffer");return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,qG,e.STATIC_DRAW),t},"ne"),ha=Qe((e,t)=>ZG(e,()=>{const n=e.getAttribLocation(t,"position");return e.enableVertexAttribArray(n),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),n}),"w"),S2=Qe((e,t,n)=>{const r=e.createShader(t);if(r===null)throw new Error("Cannot create WebGL shader.");return e.shaderSource(r,n),e.compileShader(r),r},"X"),ga=Qe((e,t,n)=>YG(e,t,n,()=>{const r=e.createProgram();if(r===null)throw new Error("Cannot create WebGL program.");if(e.attachShader(r,S2(e,e.VERTEX_SHADER,t)),e.attachShader(r,S2(e,e.FRAGMENT_SHADER,n)),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)){const i=e.getProgramInfoLog(r);throw e.deleteProgram(r),new Error(`Could not link WebGL program: 
${i}`)}return r}),"R"),qi=Qe((e,{size:t,data:n,type:r,internalFormat:i=e.RGBA32F,format:s=e.RGBA})=>{const o=e.createTexture();if(!o)throw new Error("Cannot create WebGL texture.");const[a,l]=WG(t,c=>Math.max(1,c));return n instanceof Float32Array&&n.byteLength===0?n=new Float32Array(a*l*4):n instanceof Uint32Array&&n.byteLength===0&&(n=new Uint32Array(a*l*4)),e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,i,a,l,0,s,r,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),{size:t,data:n,type:r,format:s,handle:o}},"F"),Wi=Qe((e,t)=>{const n=e.createFramebuffer();if(!n)throw new Error("Cannot create WebGL frame buffer.");e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE)switch(r){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw new Error("Framebuffer: Attachment is NOT complete.");case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw new Error("Framebuffer: No valid attachment.");case e.FRAMEBUFFER_UNSUPPORTED:throw new Error("Framebuffer: Attachment types are not supported.");default:throw new Error(`Framebuffer: Unknown reason (status: ${r}).`)}return n},"l"),El=Qe((e,t)=>()=>([e,t]=[t,e],e),"A"),pa=Qe((e,t,n)=>{e.useProgram(t);const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){const o=e.getActiveUniform(t,s);if(!o)throw new Error(`Cannot get GL active uniform ${s}.`);const{name:a,size:l,type:c}=o,d=e.getUniformLocation(t,a);if(!d)throw new Error(`Cannot get GL uniform location ${a}.`);r[a]={size:l,data:n[a],type:c,location:d}}return r},"M");function xo(e,t,n={}){let r=0;const i=XG();return Object.entries(t).forEach(([s,{location:o,type:a,data:l}])=>{let c=n[s]!==void 0?n[s]:l;(a===e.SAMPLER_2D||a===e.INT_SAMPLER_2D||a===e.UNSIGNED_INT_SAMPLER_2D)&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,c),c=r,r++),e[i[a]](o,c)})}Qe(xo,"b");var rm=Qe(e=>Math.ceil(Math.sqrt(e)),"D"),uM=Qe(e=>Math.ceil(Math.sqrt(2*e)),"Y"),KG=Qe((e,t,n,r)=>{const i=rm(t),s=new Float32Array(4*i**2);for(let o=0;o<t;o++){const a=4*o;s[a]=n[o],s[a+1]=r[o]}return qi(e,{size:[i,i],data:s,type:e.FLOAT,format:e.RGBA,internalFormat:e.RGBA32F})},"ue"),JG=Qe((e,t,n,r)=>{const i=rm(t),s=uM(n),o=new Uint32Array(3*i**2);let a=0;for(let l=0;l<t;l++){const c=3*l,d=a,u=Math.floor(d/s),h=d%s;o[c]=h,o[c+1]=u,o[c+2]=r[l],a+=r[l]}return qi(e,{size:[i,i],data:o,type:e.UNSIGNED_INT,format:e.RGB_INTEGER,internalFormat:e.RGB32UI})},"ie"),e7=Qe((e,t,n,r,i)=>{const s=rm(t),o=uM(n),a=new Uint32Array(2*o**2),l=Array.from({length:t},()=>[]);r.forEach((d,u)=>{l[d].push(i[u]),l[i[u]].push(d)});let c=0;for(let d=0;d<t;d++)for(const u of l[d]){const h=Math.floor(u/s),g=u%s;a[c]=g,a[c+1]=h,c+=2}return qi(e,{size:[o,o],data:a,type:e.UNSIGNED_INT,format:e.RG_INTEGER,internalFormat:e.RG32UI})},"ae"),t7=Qe((e,t,n,r=new Float32Array(t),i=new Uint8Array(t))=>{const s=rm(t),o=new Float32Array(4*s**2);for(let a=0;a<t;a++){const l=4*a;o[l]=n[a],o[l+1]=r[a],o[l+2]=i[a],o[l+3]=0}return qi(e,{size:[s,s],data:o,type:e.FLOAT,format:e.RGBA,internalFormat:e.RGBA32F})},"ce"),A2=Qe(e=>{const t=new Map,n={nodes:[],edges:[]};return e.nodes.forEach((r,i)=>{t.has(r.id)&&console.warn(`Duplicated ID ${r.id}@${i}`),n.nodes.push(vt(we({},r),{id:i})),t.set(r.id,i)}),e.edges.forEach(r=>{const i=t.get(r.source),s=t.get(r.target);return i===void 0||s===void 0?console.warn(`Missing source ${r.source}`):void n.edges.push({source:Math.min(i,s),target:Math.max(i,s)})}),n.edges.sort((r,i)=>r.source-i.source||r.target-i.target),n},"De"),C2=Qe(({nodes:e,edges:t},[n,r]=[0,0])=>{const i=Math.PI*(3-Math.sqrt(5)),s=e.map(a=>(a.x=(a.x||0)-n,a.y=(a.y||0)-r,a)).map(a=>({n:a,key:a.pinned?0:1+1e6*a.y+a.x})).sort((a,l)=>a.key-l.key);let o=0;return s.forEach(({n:a,key:l},c)=>{if(l*c==0||l!==s[c-1].key)return o=c;const d=Math.sqrt(c-o);a.x=s[o].n.x+d*Math.cos(i*(c-o)),a.y=s[o].n.y+d*Math.sin(i*(c-o))}),{nodes:e,edges:t}},"Be"),k2=Qe((e,t)=>{const{nodes:n,edges:r}=t,i=n.length,s=r.length,o=new Uint32Array(s),a=new Uint32Array(s),l=new Uint32Array(i);for(let p=0;p<s;p++){const{source:m,target:_}=r[p];o[p]=m,a[p]=_,l[m]++,l[_]++}const c=new Float32Array(n.map(({x:p})=>p||0)),d=new Float32Array(n.map(({y:p})=>p||0)),u=new Float32Array(n.map(({r:p})=>isNaN(p)?1:p)),h=new Float32Array(n.map((p,m)=>l[m]+1)),g=new Uint8Array(n.map(({pinned:p})=>p?1:0));return{N:i,E:s,bodyTexture:KG(e,i,c,d),nodeTexture:JG(e,i,s,l),topologyTexture:e7(e,i,s,o,a),propertyTexture:t7(e,i,h,u,g)}},"Oe"),T2=Qe((e,t)=>{e.deleteTexture(t.bodyTexture.handle),e.deleteTexture(t.nodeTexture.handle),e.deleteTexture(t.topologyTexture.handle),e.deleteTexture(t.propertyTexture.handle)},"We"),ma=`#version 300 es

in vec2 position;

void main() {
  gl_Position = vec4(position, 0.0f, 1.0f);
}`,n7=`#version 300 es
precision highp float;uniform int u_0;uniform lowp sampler2D u_1,u_2;uniform int u_3,u_4;out vec4 outColor;void main(){ivec2 o=ivec2(gl_FragCoord.xy);if((o&65535<<u_3)!=o)return;if(outColor=vec4(1e9,1e9,-1e9,-1e9),u_3>0)for(int e;e<4;e++){ivec2 i=o+(ivec2(e&1,e>>1)<<u_3-1);vec4 t=texelFetch(u_2,i,0);outColor=vec4(min(outColor.xy,t.xy),max(outColor.zw,t.zw));}else if(textureSize(u_1,0).x*o.y+o.x<u_0)outColor.xy=outColor.zw=texelFetch(u_1,o,0).xy;if(u_3==u_4){vec2 o=outColor.zw-outColor.xy;o=vec2(max(o.x,o.y),max(o.x,o.y)),outColor=vec4(outColor.xy-vec2(1),o+vec2(2));}}`,r7=Qe(e=>1<<Math.ceil(Math.log2(Math.sqrt(e))),"fe"),L2=Qe((e,t,n)=>{const r=r7(t),i=new Float32Array(4*r**2);return n&&n.forEach((s,o)=>i[o]=s),qi(e,{size:[r,r],data:i,type:e.FLOAT,format:e.RGBA,internalFormat:e.RGBA32F})},"j"),i7=Qe(e=>Math.ceil(Math.log2(Math.sqrt(e)))+1,"_e"),s7=Qe((e,t,n)=>{const r=ga(e,ma,n7);ha(e,r);const i=L2(e,t),s=L2(e,t),o=El(i,s),a=Wi(e,s.handle),l=Wi(e,i.handle),c=El(a,l),d=pa(e,r,{u_0:t,u_1:n().handle,u_2:i.handle,u_3:0,u_4:0});let u=i;return{step:(h=i7(t))=>{e.viewport(0,0,i.size[0],i.size[1]),e.useProgram(r);for(let g=0;g<h;g++){e.bindFramebuffer(e.FRAMEBUFFER,c());const p=o();u=p===i?s:i,xo(e,d,{u_2:p.handle,u_1:n().handle,u_4:h-1,u_3:g}),e.drawArrays(e.TRIANGLES,0,6)}},texture:()=>u,destroy:()=>{e.deleteFramebuffer(a),e.deleteFramebuffer(l),e.deleteTexture(s.handle),e.deleteTexture(i.handle)}}},"xe"),o7=`#version 300 es
precision lowp float;vec2 r(vec2 r,vec2 e){return vec2(r.x*e.x-r.y*e.y,r.x*e.y+r.y*e.x);}vec2 r(vec2 r){return r.y=-r.y,r;}vec2 r(vec2 u[8],vec2 i,vec2 o){vec2 t,c=i-o,e=vec2(1,0);for(int i;i<8;++i)t+=r(u[i],e),e=r(e,c);return t;}vec2 r(vec2 e,vec4 r){return(e-r.xy)/r.zw;}uniform float u_c,u_d,u_e,u_f,u_g,u_h,u_9,u_a,u_b;uniform int u_0;uniform lowp sampler2D u_1;uniform lowp usampler2D u_i,u_j;uniform lowp sampler2D u_k;uniform int u_5,u_l;uniform lowp sampler2D u_2;uniform lowp usampler2D u_m,u_n;uniform lowp sampler2D u_o;out vec4 outColor;void main(){uint a=uint(textureSize(u_1,0).x);int d=textureSize(u_j,0).x;ivec2 o=ivec2(gl_FragCoord.xy);if(int(a)*o.y+o.x>=u_0)return;vec3 u=texelFetch(u_k,o,0).xyz;if(u.z>0.)return;vec4 x=texelFetch(u_1,o,0);vec2 i=x.xy,e=x.zw;ivec4 t=ivec4(texelFetch(u_i,o,0));float c=float(t.z)+1.;vec4 v=texelFetch(u_2,ivec2(0),0);uint y=uint(textureSize(u_m,0).x);float p=float(1<<u_l-1);ivec2 m=ivec2(u_5,1),n=ivec2(p*r(i,v));vec2 g=(vec2(n)+.5)/p;ivec2 s=n-ivec2(1);for(int r;r<9;++r){ivec2 t=s+ivec2(r%3,r/3);if(t>>u_l-1!=ivec2(0))continue;uvec2 o=texelFetch(u_n,t,0).xy;for(uint r=o.x;r<o.y;r++){uint n=texelFetch(u_m,ivec2(r%y,r/y),0).x;ivec2 l=ivec2(n%a,n/a);vec2 t=texelFetch(u_1,l,0).xy-i;float v=dot(t,t)+1e-4;if(u_g>0.&&u_9<.5){float i=texelFetch(u_k,l,0).y,r=max(u.y+i+u_h,.01);if(v<r*r){float u=sqrt(v);e-=(r-u)*u_g*i/r*t/u;}}float x=float(texelFetch(u_i,l,0).z)+1.;e-=u_9*u_c*x*c*t/v/u.x;}}vec2 f[8];for(int r;r<8;r++)f[r]=r<u_5?texelFetch(u_o,m*n+ivec2(r,0),0).xy:vec2(0);vec2 F=r(r(f,g,r(i,v))/v.z);e-=u_9*u_c*F*c/u.x;ivec2 l;for(int a;a<t.z;a++){l=ivec2(texelFetch(u_j,t.xy,0).xy);vec2 r=texelFetch(u_1,l,0).xy-i;r*=1.-(u_f+u.y+texelFetch(u_k,l,0).y)/(length(r)+1e-4);float o=float(texelFetch(u_i,l,0).z)+1.,v=u_9*u_e*c*o/(min(c,o)*(o+c));if(e+=v*r/u.x,t.x+=1,t.x>=d)t.x=0,t.y+=1;}e=u_a*(e-u_9*u_d*i);float h=dot(e,e);if(h>u_b)e*=sqrt(u_b/h);outColor=vec4(i+e,e);}`,a7=Qe((e,t,n,r,i,{handle:s},{handle:o},{N:a,bodyTexture:l,nodeTexture:c,topologyTexture:d,propertyTexture:u},{charge:h,gravity:g,inertia:p,edgeStrength:m,edgeLength:_,elasticity:y,margin:f,maxDisplacement:v})=>{const x=ga(e,ma,o7);ha(e,x);const w=qi(e,{type:e.FLOAT,size:l.size,data:new Float32Array(l.data.buffer.slice(0)),format:e.RGBA,internalFormat:e.RGBA32F}),b=El(l,w),A=Wi(e,w.handle),S=Wi(e,l.handle),k=El(A,S),C=pa(e,x,{u_9:1,u_a:p,u_b:v**2,u_c:h,u_d:g,u_e:m,u_f:_,u_g:y,u_h:f,u_0:a,u_1:l.handle,u_i:c.handle,u_j:d.handle,u_k:u.handle,u_5:n,u_l:t,u_2:r().handle,u_m:i().handle,u_n:s,u_o:o});let N=l;return{step:D=>{e.viewport(0,0,l.size[0],l.size[1]),e.useProgram(x),e.bindFramebuffer(e.FRAMEBUFFER,k());const j=b();N=j===l?w:l,xo(e,C,{u_9:D,u_1:j.handle,u_2:r().handle,u_m:i().handle}),e.drawArrays(e.TRIANGLES,0,6)},texture:()=>N,destroy:()=>{e.deleteFramebuffer(A),e.deleteFramebuffer(S),e.deleteTexture(w.handle)}}},"me"),l7=Qe((e,t)=>HG([t,1],1<<e),"ve"),hM=Qe((e,t,n,r)=>{const i=l7(t,n),s=new Float32Array(2*i[0]*i[1]);return r&&r.forEach((o,a)=>s[a]=o),qi(e,{size:i,data:s,type:e.FLOAT,format:e.RG,internalFormat:e.RG32F})},"H"),c7=`#version 300 es
precision lowp float;vec2 v(vec2 v,vec2 t){return vec2(v.x*t.x-v.y*t.y,v.x*t.y+v.y*t.x);}vec2 t(vec2 t,vec2 v){return vec2(dot(t,v),t.y*v.x-t.x*v.y)/dot(v,v);}vec2 v(vec2 v){return t(vec2(1,0),v);}const float f[64]=float[64](1.,1.,1.,1.,1.,1.,1.,1.,1.,2.,3.,4.,5.,6.,7.,8.,1.,3.,6.,10.,15.,21.,28.,36.,1.,4.,10.,20.,35.,56.,84.,120.,1.,5.,15.,35.,70.,126.,210.,330.,1.,6.,21.,56.,126.,252.,462.,792.,1.,7.,28.,84.,210.,462.,924.,1716.,1.,8.,36.,120.,330.,792.,1716.,3432.);uniform int u_5,u_6;uniform lowp sampler2D u_7,u_8;out vec2 outColor;void main(){float i=float(1<<u_6);ivec2 l=ivec2(u_5,1),c=ivec2(gl_FragCoord.xy)/l;vec2 d=(vec2(c)+.5)/i;uint o=uint(gl_FragCoord.x)%uint(u_5);if(u_6>2){ivec2 y=c>>1;vec2 e=(vec2(c&65534)+1.)/i-d,t=vec2(1,0);for(uint c;c<uint(u_5-int(o));++c)outColor+=f[c+(o<<3)]*v(texelFetch(u_7,l*y+ivec2(c+o,0),0).xy,t),t=v(t,e);}ivec2 y=(c&65534)-2;for(int r;r<36;r++){ivec2 u=y+ivec2(r%6,r/6);vec2 x=vec2(u-c);if(dot(x,x)<=2.||u>>u_6!=ivec2(0))continue;vec2 n=(vec2(u)+.5)/i-d,e=vec2(1,0);for(uint t;t<o;++t)e=v(e,-n);vec2 m=v(n),a;for(uint c;c<uint(u_5);++c){if(dot(e,e)<1e-20)break;a+=f[c+(o<<3)]*t(texelFetch(u_8,l*u+ivec2(c,0),0).xy,e),e=v(e,n);}outColor+=v(a,m);}}`,d7=Qe((e,t,n,r)=>{const i=ga(e,ma,c7);ha(e,i);const s=Array.from({length:t},(l,c)=>hM(e,c,n)),o=s.map(({handle:l})=>Wi(e,l)),a=pa(e,i,{u_5:n,u_6:t-1,u_7:s[0].handle,u_8:r(0).handle});return{step:()=>{e.useProgram(i);for(let l=2;l<t;l++){const{handle:c}=s[l-1],d=r(l);e.viewport(0,0,d.size[0],d.size[1]),e.bindFramebuffer(e.FRAMEBUFFER,o[l]),xo(e,a,{u_6:l,u_7:c,u_8:d.handle}),e.drawArrays(e.TRIANGLES,0,6)}},texture:l=>s[l],destroy:()=>{o.forEach(l=>e.deleteFramebuffer(l)),s.forEach(({handle:l})=>e.deleteTexture(l))}}},"pe"),u7=`#version 300 es
precision lowp float;vec2 e(vec2 e,vec2 u){return vec2(e.x*u.x-e.y*u.y,e.x*u.y+e.y*u.x);}vec2 x(vec2 u,vec2 e){return vec2(dot(u,e),u.y*e.x-u.x*e.y)/dot(e,e);}const vec2 u[8]=vec2[8](vec2(1,0),vec2(-1,0),vec2(2,0),vec2(-6,0),vec2(24,0),vec2(-120,0),vec2(720,0),vec2(-5040,0));const float n[16]=float[16](1.,1.,2.,6.,24.,120.,720.,5040.,40320.,362880.,3628800.,39916800.,479001600.,6.227021e9,8.717829e1,1.3076744e12);vec2 e(vec2 u,vec4 e){return(u-e.xy)/e.zw;}uniform int u_5,u_l,u_6;uniform lowp sampler2D u_p,u_2;uniform lowp usampler2D u_m;uniform lowp sampler2D u_k,u_1;uniform lowp usampler2D u_n;out vec2 outColor;void main(){float i=float(1<<u_6);ivec2 o=ivec2(u_5,1),t=ivec2(gl_FragCoord.xy)/o;vec2 l=(vec2(t)+.5)/i;uint c=uint(gl_FragCoord.x)%uint(u_5);if(u_6==u_l-1){uint u=uint(textureSize(u_1,0).x),x=uint(textureSize(u_m,0).x);vec4 i=texelFetch(u_2,ivec2(0),0);uvec2 n=texelFetch(u_n,t,0).xy;for(uint t=n.x;t<n.y;t++){uint v=texelFetch(u_m,ivec2(t%x,t/x),0).x;ivec2 r=ivec2(v%u,v/u);vec2 d=l-e(texelFetch(u_1,r,0).xy,i),o=vec2(1,0);for(uint u;u<c;++u)o=e(o,d);outColor+=e(vec2(texelFetch(u_k,r,0).x,0),o);}}else for(int v;v<4;++v){ivec2 d=2*t+ivec2(v&1,v>>1);vec2 f=(vec2(d)+.5)/i/2.-l,r=vec2(1,0),y;for(uint t;t<=c;++t)y+=x(e(texelFetch(u_p,o*d+ivec2(c-t,0),0).xy,r),u[c-t]*n[t]),r=e(r,f);outColor+=e(y,u[c]);}}`,h7=Qe((e,t,n,r,i,{handle:s},o,{handle:a})=>{const l=ga(e,ma,u7);ha(e,l);const c=Array.from({length:t},(h,g)=>hM(e,g,n)),d=c.map(({handle:h})=>Wi(e,h)),u=pa(e,l,{u_5:n,u_l:t,u_6:t-1,u_p:c[0].handle,u_2:r().handle,u_m:i().handle,u_k:s,u_1:o().handle,u_n:a});return{step:()=>{e.useProgram(l);for(let h=t-1;h>=2;h--){const{handle:g}=c[(h+1)%t],p=c[h];e.viewport(0,0,p.size[0],p.size[1]),e.bindFramebuffer(e.FRAMEBUFFER,d[h]),xo(e,u,{u_2:r().handle,u_m:i().handle,u_1:o().handle,u_6:h,u_p:g}),e.drawArrays(e.TRIANGLES,0,6)}},texture:h=>c[h],destroy:()=>{d.forEach(h=>e.deleteFramebuffer(h)),c.forEach(({handle:h})=>e.deleteTexture(h))}}},"Fe"),g7=`#version 300 es
uint u(uint u){return u&=65535u,u=(u|u<<8)&16711935u,u=(u|u<<4)&252645135u,u=(u|u<<2)&858993459u,u=(u|u<<1)&1431655765u,u;}uint u(uvec2 n){return u(n.y)<<1|u(n.x);}uniform uint u_0;uniform lowp usampler2D u_q,u_m;out uvec2 outColor;uint u(uint o,uint e,uint i){uint u,n=u_0;for(;u<n;){uint t=u+n>>1,r=texelFetch(u_m,ivec2(t%i,t/i),0).x;texelFetch(u_q,ivec2(r%e,r/e),0).x<o?u=t+1u:n=t;}return u;}void main(){uint n=uint(textureSize(u_q,0).x),e=uint(textureSize(u_m,0).x),i=u(uvec2(gl_FragCoord.xy));outColor=uvec2(u(i,n,e),u(i+1u,n,e));}`,p7=Qe(e=>1<<e-1,"Ee"),m7=Qe((e,t,n)=>{const r=p7(t),i=new Uint32Array(2*r**2);return n&&n.forEach((s,o)=>i[o]=s),qi(e,{size:[r,r],data:i,type:e.UNSIGNED_INT,format:e.RG_INTEGER,internalFormat:e.RG32UI})},"Te"),f7=Qe((e,t,n,{handle:r},i)=>{const s=ga(e,ma,g7);ha(e,s);const o=m7(e,n),a=Wi(e,o.handle),l=pa(e,s,{u_0:t,u_q:r,u_m:i()});return{step:()=>{e.viewport(0,0,o.size[0],o.size[1]),e.useProgram(s),e.bindFramebuffer(e.FRAMEBUFFER,a),xo(e,l,{u_m:i().handle}),e.drawArrays(e.TRIANGLES,0,6)},texture:()=>o,destroy:()=>{e.deleteFramebuffer(a),e.deleteTexture(o.handle)}}},"Ae"),_7=`#version 300 es
precision lowp float;uint u(uint u){return u&=65535u,u=(u|u<<8)&16711935u,u=(u|u<<4)&252645135u,u=(u|u<<2)&858993459u,u=(u|u<<1)&1431655765u,u;}uint u(uvec2 e){return u(e.y)<<1|u(e.x);}vec2 u(vec2 e,vec4 u){return(e-u.xy)/u.zw;}uniform int u_0,u_l;uniform lowp sampler2D u_2,u_1;out uint outColor;void main(){ivec2 e=ivec2(gl_FragCoord.xy);if(textureSize(u_1,0).x*e.y+e.x>=u_0)return;vec4 t=texelFetch(u_2,ivec2(0),0);vec2 o=u(texelFetch(u_1,e,0).xy,t);outColor=u(uvec2(float(1<<u_l-1)*o));}`,y7=Qe(e=>Math.ceil(Math.sqrt(e)),"Re"),v7=Qe((e,t,n)=>{const r=y7(t),i=new Uint32Array(r**2).fill(4294967295);return n&&n.forEach((s,o)=>i[o]=s),qi(e,{size:[r,r],data:i,type:e.UNSIGNED_INT,format:e.RED_INTEGER,internalFormat:e.R32UI})},"Me"),x7=Qe((e,t,n,r,i)=>{const s=ga(e,ma,_7);ha(e,s);const o=v7(e,t),a=Wi(e,o.handle),l=pa(e,s,{u_0:t,u_l:n,u_2:r().handle,u_1:i().handle});return{step:()=>{e.viewport(0,0,o.size[0],o.size[1]),e.useProgram(s),e.bindFramebuffer(e.FRAMEBUFFER,a),xo(e,l,{u_2:r().handle,u_1:i().handle}),e.drawArrays(e.TRIANGLES,0,6)},texture:()=>o,destroy:()=>{e.deleteFramebuffer(a),e.deleteTexture(o.handle)}}},"be"),b7=`#version 300 es
precision highp int;uniform uint u_r,u_s;uniform highp usampler2D u_u,u_t;out uint outColor;uint u(uint u,uint e,bool o,uint t){uint i=u<4294967295u?texelFetch(u_u,ivec2(u%t,u/t),0).x:u,n=e<4294967295u?texelFetch(u_u,ivec2(e%t,e/t),0).x:e;if(o)return i<n?u:e;return i>n?u:e;}void main(){uint e=uint(textureSize(u_t,0).x),s=uint(textureSize(u_u,0).x);uvec2 t=uvec2(gl_FragCoord.xy);uint c=texelFetch(u_t,ivec2(t),0).x,i=uint(t.x+e*t.y),o=i^1u<<u_r-u_s,x=texelFetch(u_t,ivec2(o%e,o/e),0).x;bool n=(i>>u_r-u_s&1u)==0u;(i>>u_r&2u)==2u&&(n=!n),outColor=u(c,x,n,s);}`,w7=Qe(e=>Math.ceil(Math.sqrt(1<<Math.ceil(Math.log2(e)))),"Ge"),N2=Qe((e,t)=>{const n=w7(t.length),r=new Uint32Array(n**2).fill(4294967295);return t&&t.forEach((i,s)=>r[s]=i),qi(e,{size:[n,n],data:r,type:e.UNSIGNED_INT,format:e.RED_INTEGER,internalFormat:e.R32UI})},"V"),E7=Qe(e=>Math.max(0,Math.ceil(Math.log2(e))),"Le"),S7=Qe(e=>e*(e+1)/2,"Ie"),A7=Qe((e,t,n)=>{const r=ga(e,ma,b7);ha(e,r);const i=Array.from({length:t},(_,y)=>y),s=N2(e,i),o=N2(e,i),a=El(s,o),l=Wi(e,o.handle),c=Wi(e,s.handle),d=El(l,c),u=pa(e,r,{u_r:0,u_s:0,u_t:s.handle,u_u:n.handle}),h=E7(t);let g=0,p=0,m=s;return{step:(_=S7(h))=>{e.useProgram(r),e.viewport(0,0,s.size[0],s.size[1]);for(let y=0;y<_;y++){e.bindFramebuffer(e.FRAMEBUFFER,d());const f=a();m=f===s?o:s,xo(e,u,{u_r:g,u_s:p,u_t:f.handle}),e.drawArrays(e.TRIANGLES,0,6),p=(p+1)%(g+1),p===0&&(g=(g+1)%h)}},texture:()=>m,destroy:()=>{e.deleteFramebuffer(l),e.deleteFramebuffer(c),e.deleteTexture(o.handle),e.deleteTexture(s.handle)}}},"Ue"),C7=Qe(e=>{let t;return()=>t||e().finally(()=>t=void 0)},"Ne"),k7=Qe((e,t)=>Math.max(.1,1-(e/Math.max(1,t-20))**7.39),"K"),T7=Qe((e,t=25,n=24e3)=>{const r=(n-t)/(t-1);return Math.ceil(t*r*4/(r+e))},"J"),I2={charge:10,edgeStrength:.5,edgeLength:30,elasticity:.9,margin:1,gravity:.002,inertia:.9,maxDisplacement:1e3,steps:300},L7=Qe((e,t,n)=>{let[r,i]=[0,0];const s=QG(e),o=Qe(()=>{e.bindBuffer(e.ARRAY_BUFFER,s),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,0);for(let l=0;l<t;l++,r++)if(!n(r))return!0},"i"),a=Qe(l=>{o()?l(r):i=requestAnimationFrame(()=>a(l))},"a");return{start:C7(()=>new Promise(l=>(r=0)||a(l))),step:o,stop:()=>cancelAnimationFrame(i)}},"Q"),Pf=Qe((e,t,n)=>{var r,i;let{bodyTexture:s}=t;const{N:o,propertyTexture:a}=t,{steps:l,batch:c}=n,d=(r=n.order)!=null?r:4;if(d<2||d>8)throw new Error("Order must be between 2 and 8");const u=Math.max(1,(i=n.depth)!=null?i:Math.ceil(Math.log2(o)/2)),{step:h,texture:g,destroy:p}=s7(e,o,()=>s),{step:m,texture:_,destroy:y}=x7(e,o,u,g,()=>s),{step:f,texture:v,destroy:x}=A7(e,o,_()),{step:w,texture:b,destroy:A}=f7(e,o,u,_(),v),{step:S,texture:k,destroy:C}=h7(e,u,d,g,v,a,()=>s,b()),{step:N,texture:D,destroy:j}=d7(e,u,d,k),{step:U,texture:F,destroy:T}=a7(e,u,d,g,v,b(),D(u-1),t,n);return vt(we({},L7(e,c??T7(o),q=>(s=F(),h(),m(),f(),w(),S(),N(),U(k7(q,l)),q<l))),{destroy:()=>{p(),y(),x(),A(),C(),j(),T()}})},"qe"),P2=0,gM=typeof window>"u",N7=typeof performance<"u"&&performance.now?performance:Date,I7=gM?e=>{const t=N7.now(),n=Math.max(0,16-(t-P2)),r=setTimeout(()=>e(t+n),n);return P2=t+n,r}:window.requestAnimationFrame,P7=gM?e=>clearTimeout(e):window.cancelAnimationFrame;function pM(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.x=t[r],i.y=n[r]}}Qe(pM,"defaultUpdate");var M7=Qe(()=>{},"noop"),Mf={movementRatio:7e-8,surfaceRatio:.0025},q0=class{constructor(e={}){this.onUpdate=Qe(t=>{},"onUpdate"),this.update=pM,this.nextTick=I7,this.cancelTick=P7,this.onEnd=M7,this.charge=10,this.maxIterations=200,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=void 0,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=200,this.scaling=1,this.defaultRadius=1,this.autoStop=Mf,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in e?e.autoStop&&(typeof e.autoStop=="boolean"?e.autoStop=Mf:e.autoStop=we(we({},e.autoStop),Mf)):e.steps;for(const t in e)e[t]===void 0&&t!=="order"&&t!=="depth"||(this[t]=e[t])}};Qe(q0,"Settings");var M2=class{constructor(e){this.promise=new Promise(e)}then(e){return this.promise.then(e)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};function Bh(e,t,n={}){var r;let i,s;t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_color_buffer_float")||(r=t.getExtension("WEBGL_lose_context"))==null||r.loseContext();let o=new q0(we(we({},I2),n));const a=e.nodes.length,l=n.cx||e.nodes.reduce((m,_)=>m+(_.x||0),0)/a,c=n.cy||e.nodes.reduce((m,_)=>m+(_.y||0),0)/a,d=[l,c],u=Qe(m=>{if(!i)throw new Error("No graph has been set");const{size:_}=i.bodyTexture;if(_[0]*_[1]<=1)return{X:[0],Y:[0]};const y=new Float32Array(4*_[0]*_[1]);t.readPixels(0,0,_[0],_[1],t.RGBA,t.FLOAT,y),m&&(h(),g());const f=y.filter((x,w)=>w%4==0).map(x=>x+l),v=y.filter((x,w)=>w%4==1).map(x=>x+c);return{X:f,Y:v}},"readLayoutData"),h=Qe(()=>{s&&(s.stop(),s.destroy(),s=void 0)},"simulationCleanup"),g=Qe(()=>{i&&(T2(t,i),i=void 0)},"graphLayoutCleanup"),p={setOptions:(m={})=>(o=new q0(we(we({},I2),m)),i&&(h(),s=Pf(t,i,o)),p),setGraph:(m={nodes:[],edges:[]})=>(i&&T2(t,i),i=k2(t,C2(A2(m),d)),o&&(h(),s=Pf(t,i,o)),p),start:()=>{if(!s)throw new Error("No graph has been set");return s.start().finally(()=>{var m;return(m=n.onEnd)==null?void 0:m.call(n,1)}),p},stop:()=>(s&&s.stop(),p),step:()=>{if(!s)throw new Error("No graph has been set");return s.step(),p},data:m=>u(m),iterations:()=>1};return i=k2(t,C2(A2(e),d)),s=Pf(t,i,o),p}/**
* @preserve
* @linkurious/force-layout@0.7.0
* Ogma general-purpose force-directed layout
*/function F2(){var e=(()=>{var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,s=(P,O)=>t(P,"name",{value:O,configurable:!0}),o={};((P,O)=>{for(var M in O)t(P,M,{get:O[M],enumerable:!0})})(o,{IntegratorType:()=>Ln,default:()=>ut});var a=class{constructor(P){let O=l();this.c=1,this.s0=O(" "),this.s1=O(" "),this.s2=O(" "),this.s0-=O(String(P)),this.s0<0&&(this.s0+=1),this.s1-=O(String(P)),this.s1<0&&(this.s1+=1),this.s2-=O(P),this.s2<0&&(this.s2+=1),O=null}next(){return()=>{const P=2091639*this.s0+23283064365386963e-26*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=P-(this.c=0|P)}}nextDouble(){const P=this.next();return()=>P()+11102230246251565e-32*(2097152*P()|0)}nextInt32(){const P=this.next();return()=>4294967296*P()|0}};function l(){let P=4022871197;return O=>{O=O.toString();for(let M=0;M<O.length;M++){P+=O.charCodeAt(M);let z=.02519603282416938*P;P=z>>>0,z-=P,z*=P,P=z>>>0,z-=P,P+=4294967296*z}return 23283064365386963e-26*(P>>>0)}}function c(P){return new a(P.toString()).next()}s(a,"Alea"),s(l,"Mash"),s(c,"impl");var d=c(42);function u(P){d=c(P)}function h(){return 1e-6*(d()-.5)}function g(P,O,{sources:M,targets:z,X:H,Y:Q,R:W,fx:ee,fy:K,degrees:G,weights:X},{edgeStrength:te,edgeLength:de}){for(let fe=0;fe<O.length;fe++){const ne=O[fe],he=M[ne],Ee=z[ne],Le=1,Se=G[he]+Le,be=G[Ee]+Le,Ne=te*X[ne];let xe=H[Ee]+ee[Ee]-H[he]-ee[he]||h(),Ae=Q[Ee]+K[Ee]-Q[he]-K[he]||h();const Ye=xe*xe+Ae*Ae,Ke=Math.sqrt(Ye),tt=de+W[he]+W[Ee];if(Ke<=tt)continue;const Je=tt-Ke,wt=1/Math.min(Se,be),Tt=Math.min(1,P*Ne*(Je*Je/Ye)*wt);xe*=Tt,Ae*=Tt;const Ft=be/(be+Se);ee[he]+=xe*Ft,K[he]+=Ae*Ft,ee[Ee]-=xe*(1-Ft),K[Ee]-=Ae*(1-Ft)}}s(u,"setSeed"),s(h,"randomize"),s(g,"attraction");var p=s((P,{edgeIds:O,sources:M,targets:z,degrees:H,weights:Q})=>{for(let W=0;W<P.length;W++){const{source:ee,target:K,weight:G=1}=P[W];M[W]=ee,z[W]=K,Q[W]=G,H[ee]++,H[K]++,O[W]=W,Q[W]=G===void 0?1:G}},"initialize");function m(P,O,{X:M,Y:z,fx:H,fy:Q},{gravity:W,cx:ee,cy:K}){const G=O.length;for(let X=0;X<G;X++){const te=O[X],de=ee-M[te]||h(),fe=K-z[te]||h(),ne=W*P;H[te]+=de*ne,Q[te]+=fe*ne}}g.initialize=p,s(m,"center");var _=s((P,O,M)=>{const{X:z,Y:H}=O;let Q=M.cx,W=M.cy;const ee=P.length;if(Q===void 0||W===void 0){Q=W=0;for(let K=0;K<ee;K++)Q+=z[K],W+=H[K];Q/=ee,W/=ee}M.cx=Q,M.cy=W},"initialize");m.initialize=_;var y=class{constructor(P,O,M,z){this.left=null,this.right=null,this.data=null,this.code=P,this.data=O,this.left=M,this.right=z}};function f(P,O,M,z,H){const Q=new y(null,null,null,null),W=[Q],ee=[z,H];for(;W.length!==0;){const K=ee.pop(),G=ee.pop(),X=W.pop();if(K-G==0)X.code=M[G],X.data=P[O[G]];else{const te=w(O,M,G,K);X.code=te,G<=te&&(X.left=new y(null,null,null,null),W.push(X.left),ee.push(G,te)),K>te&&(X.right=new y(null,null,null,null),W.push(X.right),ee.push(te+1,K))}}return Q}function v(P,O,M,z,H,Q){const W=new y(null,null,null,null),ee=[W],K=[z,H];for(;ee.length!==0;){const G=K.pop(),X=K.pop(),te=ee.pop();if(G-X<Q){const de=new Array(G-X+1);for(let fe=X,ne=0;fe<=G;fe++,ne++)de[ne]=P[O[fe]];te.code=M[X],te.data=de}else{const de=w(O,M,X,G);te.code=de,X<=de&&(te.left=new y(null,null,null,null),ee.push(te.left),K.push(X,de)),G>de&&(te.right=new y(null,null,null,null),ee.push(te.right),K.push(de+1,G))}}return W}s(y,"Node"),s(f,"buildIterative"),s(v,"buildIterativeBuckets");var x=Math.clz32||s(function(O){let M=-2147483648;for(let z=0;z<31;z+=1){if(M&O)return z;M>>>=1}return 32},"clz");function w(P,O,M,z){const H=O[P[M]],Q=O[P[z]];if(H===Q)return M;const W=x(H^Q);let ee,K,G,X=M,te=z-M;do te=te+1>>1,ee=X+te,ee<z&&(K=O[P[ee]],G=x(H^K),G>W&&(X=ee));while(te>1);return X}function b(P,O){let M=P^O,z=65535^M,H=65535^(P|O),Q=P&(65535^O),W=M|z>>1,ee=M>>1^M,K=H>>1^z&Q>>1^H,G=M&H>>1^Q>>1^Q;M=W,z=ee,H=K,Q=G,W=M&M>>2^z&z>>2,ee=M&z>>2^z&(M^z)>>2,K^=M&H>>2^z&Q>>2,G^=z&H>>2^(M^z)&Q>>2,M=W,z=ee,H=K,Q=G,W=M&M>>4^z&z>>4,ee=M&z>>4^z&(M^z)>>4,K^=M&H>>4^z&Q>>4,G^=z&H>>4^(M^z)&Q>>4,M=W,z=ee,H=K,Q=G,K^=M&H>>8^z&Q>>8,G^=z&H>>8^(M^z)&Q>>8,M=K^K>>1,z=G^G>>1;let X=P^O,te=z|65535^(X|M);return X=16711935&(X|X<<8),X=252645135&(X|X<<4),X=858993459&(X|X<<2),X=1431655765&(X|X<<1),te=16711935&(te|te<<8),te=252645135&(te|te<<4),te=858993459&(te|te<<2),te=1431655765&(te|te<<1),(te<<1|X)>>>0}s(w,"findSplit"),s(b,"hilbert");var A=[0,1],S=[0,2];for(let P=4;P<65535;P<<=2)for(let O=0,M=A.length;O<M;O++)A.push(A[O]|P),S.push((A[O]|P)<<1);function k(P,O){return(S[255&O]|A[255&P])+65536*(S[O>>8&255]|A[P>>8&255])+4294967296*(S[O>>16&255]|A[P>>16&255])}s(k,"morton");var C=new Uint32Array(1024);function N(P,O){const M=new Uint32Array(O.length);for(let H=0;H<1024;H++)C[H]=0;const z=255;for(let H=0;H<O.length;H++){const Q=O[H];C[Q&z]++,C[256+(Q>>8&z)]++,C[512+(Q>>16&z)]++,C[768+(Q>>24&z)]++}for(let H=0;H<4;H++){let Q=0,W=0;const ee=256*H;for(let K=0;K<256;K++)Q=C[K+ee],C[K+ee]=W,W+=Q}for(let H=0;H<O.length;H++){const Q=O[H];M[C[Q&z]++]=H}for(let H=0;H<O.length;H++){const Q=M[H],W=O[Q];P[C[256+(W>>8&z)]++]=Q}for(let H=0;H<O.length;H++){const Q=P[H],W=O[Q];M[C[512+(W>>16&z)]++]=Q}for(let H=0;H<O.length;H++){const Q=M[H],W=O[Q];P[C[768+(W>>24&z)]++]=Q}}s(N,"radixSort");var D=class{constructor(P,{getX:O,getY:M,bucketSize:z=0,sfc:H=1}={}){this.bucketSize=0,this._root=null;const Q=P.length,W=new Uint32Array(Q);let ee=1/0,K=1/0,G=-1/0,X=-1/0;this._x=O,this._y=M;const te=H===1?b:k;this._project=te;const de=new Uint32Array(Q);for(let he=0;he<Q;he++){const Ee=P[he],Le=O(Ee),Se=M(Ee);Le<ee&&(ee=Le),Se<K&&(K=Se),Le>G&&(G=Le),Se>X&&(X=Se),de[he]=he}this._minX=ee,this._minY=K,this._maxX=G,this._maxY=X;const fe=65535/Math.max(G-ee,1),ne=65535/Math.max(X-K,1);this._hw=fe,this._hh=ne;for(let he=0;he<Q;he++){const Ee=P[he];W[he]=te(fe*(O(Ee)-ee),ne*(M(Ee)-K))}N(de,W),this._root=z===0?f(P,de,W,0,Q-1):v(P,de,W,0,Q-1,z),this.bucketSize=z}get root(){return this._root}inOrder(P,O){let M=this._root;const z=[];let H=!1;for(;!H;)if(M)z.push(M),M=M.left;else if(z.length!==0){if(M=z.pop(),P.call(O,M))break;M=M.right}else H=!0;return this}preOrder(P,O){const M=[this._root];for(;M.length!==0;){const z=M.pop();P.call(O,z)||(z.right&&M.push(z.right),z.left&&M.push(z.left))}return this}postOrder(P,O){const M=[];let z,H=this._root;do{for(;H;)H.right&&M.push(H.right),M.push(H),H=H.left;H=M.pop(),z=M.length-1,H.right&&M[z]===H.right?(M[z]=H,H=H.right):(P.call(O,H),H=null)}while(M.length!==0);return this}map(P,O){const M=[];return this.inOrder(z=>{M.push(P.call(O,z))}),M}height(){return j(this._root)}toString(P=O=>O.code.toString()){const O=[];return U(this._root,"",!0,M=>O.push(M),P),O.join("")}size(){let P=0;return this.preOrder(()=>{P++}),P}destroy(){return this._root=null,this}};function j(P){return P?1+Math.max(j(P.left),j(P.right)):0}function U(P,O,M,z,H){if(P){z(O+(M?"^-- ":"|-- ")+H(P)+`
`);const Q=O+(M?"    ":"|   ");P.left&&U(P.left,Q,!1,z,H),P.right&&U(P.right,Q,!0,z,H)}}function F(P){for(let O=P.length-1;O>=0;O--){let M=Math.floor(Math.random()*(O+1));M=Math.max(Math.min(M,O),0);const z=P[O];P[O]=P[M],P[M]=z}return P}s(D,"BVH"),s(j,"treeHeight"),s(U,"row"),s(F,"shuffle");var T,q,V,J,oe,ie,pe,Ce,ce,ve=s(P=>P.x,"getX"),De=s(P=>P.y,"getY"),qe=s(P=>P.r,"getR");function Xe(P,O=ve,M=De,z=qe){const H=F(P.slice()),Q=H.length;let W,ee=[],K=0;for(;K<Q;){const G=H[K];W&&nt(W,O(G),M(G),z(G))?K++:(ee=me(ee,G,O,M,z),W=mt(ee,O,M,z),K=0)}return W}function me(P,O,M,z,H){const Q=M(O),W=z(O),ee=H(O),K={x:Q,y:W,r:ee};if(rt(K,P,M,z,H))return[O];for(let G=0;G<P.length;++G){const X=P[G],te=M(X),de=z(X),fe=H(X);if(!_e(K,te,de,fe)&&rt(Z(te,de,fe,Q,W,ee),P,M,z,H))return[P[G],O]}for(let G=0;G<P.length-1;G++)for(let X=G+1;X<P.length;X++){const te=P[G],de=P[X],fe=M(te),ne=z(te),he=H(te),Ee=M(de),Le=z(de),Se=H(de);if(!_e(Z(fe,ne,he,Ee,Le,Se),Q,W,ee)&&!_e(Z(fe,ne,he,Q,W,ee),Ee,Le,Se)&&!_e(Z(Ee,Le,Se,Q,W,ee),fe,ne,he)&&rt(re(fe,ne,he,Ee,Le,Se,Q,W,ee),P,M,z,H))return[P[G],P[X],O]}throw new Error}function _e(P,O,M,z){const H=P.r-z,Q=O-P.x,W=M-P.y;return H>=0&&H*H>Q*Q+W*W}function nt(P,O,M,z){const H=P.r-z+1e-6,Q=O-P.x,W=M-P.y;return H>0&&H*H>Q*Q+W*W}function rt(P,O,M,z,H){for(let Q=0;Q<O.length;++Q){const W=O[Q];if(!nt(P,M(W),z(W),H(W)))return!1}return!0}function mt(P,O,M,z){return P.length===1?at(O(P[0]),M(P[0]),z(P[0])):P.length===2?Z(O(P[0]),M(P[0]),z(P[0]),O(P[1]),M(P[1]),z(P[1])):re(O(P[0]),M(P[0]),z(P[0]),O(P[1]),M(P[1]),z(P[1]),O(P[2]),M(P[2]),z(P[2]))}function at(P,O,M){return{x:P,y:O,r:M}}function Z(P,O,M,z,H,Q){const W=z-P,ee=H-O,K=Q-M,G=Math.sqrt(W*W+ee*ee);return{x:(P+z+W/G*K)/2,y:(O+H+ee/G*K)/2,r:(G+M+Q)/2}}function re(P,O,M,z,H,Q,W,ee,K){const G=P-z,X=P-W,te=O-H,de=O-ee,fe=Q-M,ne=K-M,he=P*P+O*O-M*M,Ee=he-z*z-H*H+Q*Q,Le=he-W*W-ee*ee+K*K,Se=X*te-G*de,be=(te*Le-de*Ee)/(2*Se)-P,Ne=(de*fe-te*ne)/Se,xe=(X*Ee-G*Le)/(2*Se)-O,Ae=(G*ne-X*fe)/Se,Ye=Ne*Ne+Ae*Ae-1,Ke=2*(M+be*Ne+xe*Ae),tt=be*be+xe*xe-M*M,Je=-(Ye?(Ke+Math.sqrt(Ke*Ke-4*Ye*tt))/(2*Ye):tt/Ke);return{x:P+be+Ne*Je,y:O+xe+Ae*Je,r:Je}}function se(P,O,M,{X:z,Y:H,R:Q,fx:W,fy:ee,bucketSize:K},{elasticity:G}){if(G===0)return M;M||(M=new D(O,{getX:T,getY:q,bucketSize:K})).postOrder(J);for(let X=0;X<O.length;X++)ie=O[X],pe=z[ie]+W[ie],Ce=H[ie]+ee[ie],ce=Q[ie],M.preOrder(oe);return M}s(Xe,"med"),s(me,"extend"),s(_e,"contains"),s(nt,"containsWeak"),s(rt,"containsWeakAll"),s(mt,"enclose"),s(at,"from1"),s(Z,"from2"),s(re,"from3"),s(se,"collisionForce");var le,ue,ge,Me,Pe,ke,lt,it,Nt,It=s(({X:P,Y:O,R:M,bucketSize:z})=>H=>{let Q,W,ee,K;const G=H.data;if(G!==null)if(z!==0){const X=Xe(G,T,q,V);Q=X.x,W=X.y,ee=X.r}else{const X=G;Q=P[X],W=O[X],ee=M[X]}else if(H.left&&H.right){const X=H.left.cx,te=H.left.cy,de=H.right.cx,fe=H.right.cy,ne=H.left.r,he=H.right.r,Ee=de-X,Le=fe-te,Se=he-ne,be=Math.sqrt(Ee*Ee+Le*Le);Q=(X+de+Ee/be*Se)/2,W=(te+fe+Le/be*Se)/2,ee=(be+ne+he)/2}else K=H.left||H.right,K&&(Q=K.cx,W=K.cy,ee=K.r);H.cx=Q,H.cy=W,H.r=ee},"getMeasureBodies"),Pt=s(({X:P,Y:O,R:M,fx:z,fy:H,bucketSize:Q},{elasticity:W,margin:ee})=>K=>{const G=K.data;if(G===null){const X=K.cx-pe,te=K.cy-Ce,de=K.r+ce;return X*X+te*te>de*de}if(Q!==0){const X=G;for(let te=0;te<X.length;te++){const de=X[te];if(de>ie){const fe=M[de];let ne=pe-P[de]-z[de],he=Ce-O[de]-H[de];const Ee=ce+fe+ee;let Le=ne*ne+he*he;if(Le<Ee*Ee){ne===0&&(ne=h(),Le+=ne*ne),he===0&&(he=h(),Le+=he*he);const Se=Math.sqrt(Le),be=(Ee-Se)*W/Se,Ne=fe/Ee;z[ie]+=ne*be*Ne,H[ie]+=he*be*Ne,z[de]-=ne*be*(1-Ne),H[de]-=he*be*(1-Ne)}}}}else{const X=K.data;if(X>ie){const te=M[X];let de=pe-P[X],fe=Ce-O[X];const ne=ce+te+ee;let he=de*de+fe*fe;if(he<ne*ne){de===0&&(de=h(),he+=de*de),fe===0&&(fe=h(),he+=fe*fe);const Ee=Math.sqrt(he),Le=(ne-Ee)*W/Ee,Se=te/ne;z[ie]+=de*Le*Se,H[ie]+=fe*Le*Se,z[X]-=de*Le*(1-Se),H[X]-=fe*Le*(1-Se)}}}},"getApplyForce"),Gt=s((P,O,M)=>{const{X:z,Y:H,R:Q}=O;T=s(W=>z[W],"getX"),q=s(W=>H[W],"getY"),V=s(W=>Q[W],"getR"),J=It(O),oe=Pt(O,M)},"initialize");function Ot(P,O,{masses:M,X:z,Y:H,fx:Q,fy:W},{charge:ee}){const K=O.length;let G,X,te,de,fe,ne,he,Ee,Le;for(let Se=0;Se<K;Se++){G=O[Se];for(let be=Se+1;be<K;be++)if(Se!==be){if(X=O[be],G===X)continue;te=z[G]-z[X]||h(),de=H[G]-H[X]||h(),fe=te*te+de*de,fe<1&&(fe=Math.sqrt(1*fe)),ne=ee*M[X],he=P*ne/fe,Ee=ee*M[G],Le=P*Ee/fe,Q[G]+=te*he,W[G]+=de*he,Q[X]-=te*Le,W[X]-=de*Le}}}se.initialize=Gt,s(Ot,"repulsion"),Ot.initialize=()=>{};var ct=0;function Ct(P,O,M,{X:z,Y:H,R:Q,bucketSize:W}){ct=P,M===null&&(M=new D(O,{getX:ge,getY:Me,bucketSize:W})).postOrder(le);const ee=O.length;for(let K=0;K<ee;K++)ke=O[K],lt=z[ke],it=H[ke],Nt=Q[ke],M.preOrder(ue);return M}s(Ct,"repulsion");var Bt=s(({fx:P,fy:O,X:M,Y:z,R:H,masses:Q,bucketSize:W},{charge:ee,theta:K})=>G=>{let X=0,te=0,de=lt-G.cx||h(),fe=it-G.cy||h(),ne=de*de+fe*fe,he=Nt+G.r;const Ee=G.data;if(Ee!==null){if(Ee===ke)return!1;if(W!==0){const Le=Ee;for(let Se=0;Se<Le.length;Se++){const be=Le[Se];be!==ke&&(de=lt-M[be]||h(),fe=it-z[be]||h(),ne=de*de+fe*fe,he=Nt+H[be],ne<1&&(ne=Math.sqrt(1*ne)),X=ee*Q[be],te=ct*X/ne,P[ke]+=de*te,O[ke]+=fe*te)}}else ne<1&&(ne=Math.sqrt(1*ne)),X=ee*G.mass,te=ct*X/ne,P[ke]+=de*te,O[ke]+=fe*te}else{const Le=he/K;if(ne>Le*Le)return ne<1&&(ne=Math.sqrt(1*ne)),X=ee*G.mass,te=ct*X/ne,P[ke]+=de*te,O[ke]+=fe*te,!0}},"getApplyForce"),Mt=s(({X:P,Y:O,R:M,masses:z,bucketSize:H})=>Q=>{let W,ee,K=0,G=0,X=0,te=0;const de=Q.data;if(de!==null)if(H!==0){const fe=de,ne=Xe(fe,ge,Me,Pe);K=ne.x,G=ne.y,X=ne.r;for(let he=0;he<fe.length;he++)te+=z[fe[he]]}else ee=de,K=P[ee],G=O[ee],X=M[ee],te=z[ee];else if(Q.left&&Q.right){const fe=Q.left.cx,ne=Q.left.cy,he=Q.right.cx,Ee=Q.right.cy,Le=Q.left.r,Se=Q.right.r,be=he-fe,Ne=Ee-ne,xe=Se-Le,Ae=Math.sqrt(be*be+Ne*Ne);K=(fe+he+be/Ae*xe)/2,G=(ne+Ee+Ne/Ae*xe)/2,X=(Ae+Le+Se)/2,te=Q.left.mass+Q.right.mass}else W=Q.left||Q.right,K=W.cx,G=W.cy,X=W.r,te=W.mass;Q.cx=K,Q.cy=G,Q.r=X,Q.mass=te},"getAccumulateBodies"),kt=s((P,O,M)=>{const z=P.length,{X:H,Y:Q,R:W,degrees:ee,pinned:K,masses:G,nodeIds:X}=O,{scaling:te,defaultRadius:de,bucketSize:fe}=M;O.bucketSize=fe===void 0?Math.floor(Math.log(z)):fe;let ne=1/0,he=1/0,Ee=-1/0,Le=-1/0;const Se=Math.PI*(3-Math.sqrt(5));let be=0;for(let Ne=0;Ne<P.length;Ne++){const xe=P[Ne];let{x:Ae,y:Ye,r:Ke}=xe;const{mass:tt}=xe;if(isNaN(Ae)||isNaN(Ye)){const Je=5*Math.sqrt(Ne),wt=Ne*Se;Ae=Je*Math.cos(wt),Ye=Je*Math.sin(wt)}Ke=Ke||de,H[Ne]=Ae,Q[Ne]=Ye,W[Ne]=Ke,K[Ne]=xe.pinned?1:0,G[Ne]=tt===void 0?(1+ee[Ne])*te:tt,X[Ne]=Ne,Ke>be&&(be=Ke),Ae<ne&&(ne=Ae),Ye<he&&(he=Ye),Ae>Ee&&(Ee=Ae),Ye>Le&&(Le=Ye)}if(P.length>1&&(Ee-ne<2*be||Le-he<2*be)){const Ne=(ne+Ee)/2,xe=(he+Le)/2;for(let Ae=0;Ae<z;Ae++)if(!K[Ae]){const Ye=5*Math.sqrt(Ae),Ke=Ae*Se,tt=Ne+Ye*Math.cos(Ke),Je=xe+Ye*Math.sin(Ke);H[Ae]=tt,Q[Ae]=Je,tt<ne&&(ne=tt),Je<he&&(he=Je),tt>Ee&&(Ee=tt),Je>Le&&(Le=Je)}}ge=s(Ne=>H[Ne],"getX"),Me=s(Ne=>Q[Ne],"getY"),Pe=s(Ne=>W[Ne],"getR"),le=Mt(O),ue=Bt(O,M)},"initialize");function xt(P,O,{X:M,Y:z,fx:H,fy:Q,vx:W,vy:ee,masses:K,pinned:G},X){let te=0,de=0;const fe=P.length,ne=1/8;for(let he=0;he<fe;he++){const Ee=P[he],Le=K[Ee],Se=H[Ee]/Le,be=Q[Ee]/Le;W[Ee]+=Se*ne,ee[Ee]+=be*ne;const Ne=.2*W[Ee]*ne+.5*Se*ne*ne,xe=.2*ee[Ee]*ne+.5*be*ne*ne;H[Ee]=Q[Ee]=0,G[Ee]||(M[Ee]+=Ne,z[Ee]+=xe,te+=Math.abs(Ne)*Le,de+=Math.abs(xe)*Le)}return(te*te+de*de)/fe}function Vt(P,O,{X:M,Y:z,fx:H,fy:Q,vx:W,vy:ee,pinned:K,masses:G},X){const te=P.length;let de=0;for(let fe=0;fe<te;fe++){const ne=P[fe],he=G[ne],Ee=H[ne]/he,Le=Q[ne]/he,Se=W[ne]+1*Ee,be=ee[ne]+1*Le;let Ne=1*Se,xe=1*be;Ne>1e4&&(Ne=.1),xe>1e4&&(xe=.1),W[ne]=O*(Se+W[ne])/2,ee[ne]=O*(be+ee[ne])/2,H[ne]=Q[ne]=0,K[ne]||(M[ne]+=Ne,z[ne]+=xe),de+=.5*(Ne*Ne+xe*xe)}return de}function nn(P,O,{X:M,Y:z,fx:H,fy:Q,pinned:W,layer:ee,layers:K,surfaces:G,movements:X},{maxDisplacement:te}){X.fill(0);let de=0;const fe=P.length;let ne=1/0,he=1/0,Ee=-1/0,Le=-1/0;const Se=te*te;for(let xe=0;xe<fe;xe++){const Ae=P[xe],Ye=H[Ae]*=O,Ke=Q[Ae]*=O,tt=ee[Ae];let Je=Ye,wt=Ke;const Tt=M[Ae],Ft=z[Ae];if(Je*Je+wt*wt>Se){const Nn=Math.sqrt(Je*Je+wt*wt)/te;wt/=Nn,Je/=Nn}W[Ae]||(M[Ae]+=Je,z[Ae]+=wt);const rn=Math.sqrt(Je*Je+wt*wt);W[Ae]||(Tt<ne&&(ne=Tt),Ft<he&&(he=Ft),Tt>ne&&(Ee=Tt),Ft>he&&(Le=Ft),X[tt-1]+=rn),de+=tt*rn}const be=Math.max(Ee-ne,0),Ne=Math.max(Le-he,0);for(let xe=0;xe<K.length;xe++){const Ae=K[xe],Ye=Ae.length;let Ke=1/0,tt=1/0,Je=-1/0,wt=-1/0,Tt=0;for(let In=0;In<Ye;In++){const Xr=Ae[In];if(W[Xr])continue;const gn=M[Xr],br=z[Xr];gn<Ke&&(Ke=gn),br<tt&&(tt=br),gn>Je&&(Je=gn),br>wt&&(wt=br),Tt++}const Ft=Je-Ke,rn=wt-tt,Nn=Math.max(1,Math.sqrt(Ft**2+rn**2));G[xe]=Nn;const xr=Tt===0?0:X[xe]/Tt,Dn=be*Ne||1;X[xe]=xr>Tt?xr/Dn:0}return de}function sr(P,O,M){ht(P,O,M),bt(M)}function ht(P,O,{sources:M,targets:z,degrees:H,nodeIds:Q,edgeIds:W}){const ee={};for(let K=0;K<P.length;K++)ee[K]=Q[K]=K;for(let K=0;K<O.length;K++){const{source:G,target:X}=O[K],te=ee[G],de=ee[X];W[K]=K,M[K]=te,z[K]=de,H[te]++,H[de]++}}function bt({nodeIds:P,edgeIds:O,sources:M,targets:z,degrees:H,layer:Q,layers:W,component:ee,components:K,cluster:G,parent:X}){let te=0,de=1;const fe=new Uint32Array(P.length);for(let be=0;be<P.length;be++)fe[be]=H[be];const ne=new Array(P.length);for(let be=0;be<O.length;be++){const Ne=O[be],xe=M[Ne],Ae=z[Ne];ne[xe]=ne[xe]||[],ne[Ae]=ne[Ae]||[],ne[xe].push(Ae),ne[Ae].push(xe)}const he=new Uint8Array(P.length),Ee=new Uint8Array(P.length);X.fill(-1);let Le=0;for(let be=0;be<P.length;be++)if(he[be]===0){const Ne=[be];for(;Ne.length!==0;){const xe=Ne.pop();if(he[xe]===0&&ne[xe]!==void 0){const Ae=ne[xe];for(let Ye=0;Ye<Ae.length;Ye++)Ne.push(Ae[Ye])}he[xe]=1,ee[xe]=Le}Le++}const Se=new Array(P.length);for(let be=0;be<P.length;be++)Q[be]=0,Se[be]=be;for(;Se.length!==0;){const be=[],Ne=[];for(let xe=0;xe<Se.length;xe++)fe[Se[xe]]<=te&&(be.push(xe),Ne.push(Se[xe]));for(let xe=0;xe<Ne.length;xe++){const Ae=Ne[xe];Ee[Ae]=te,Q[Ae]=de;const Ye=ne[Ae];if(Ye)for(let Ke=0;Ke<Ye.length;Ke++)fe[Ye[Ke]]--}for(let xe=0;xe<Ne.length;xe++){const Ae=Ne[xe],Ye=ne[Ae];if(Ye)for(let Ke=0;Ke<Ye.length;Ke++){const tt=Ye[Ke],Je=Q[tt];if(Je===void 0||Je>de){X[Ae]=tt;break}}}be.reverse();for(let xe=0;xe<be.length;xe++)Se.splice(be[xe],1);if(de+=1,Se.length>0){let xe=1/0;for(let Ae=0;Ae<Se.length;Ae++){const Ye=fe[Se[Ae]];Ye<xe&&(xe=Ye)}xe>=te+1&&(te=xe,de=1)}}he.fill(0);for(let be=0;be<P.length;be++){const Ne=P[be],xe=Q[Ne];if(X[Ne]===-1||Q[X[Ne]]===xe){const Ae=[Ne];for(he.fill(0);Ae.length!==0;){const Ye=Ae.pop();if(he[Ye])continue;if(Q[Ye]>xe){X[Ne]=Ye;break}const Ke=ne[Ye];if(he[Ye]=1,Ke)for(let tt=0;tt<Ke.length;tt++)Ae.push(Ke[tt])}}}for(let be=0;be<P.length;be++){const Ne=P[be],xe=ee[Ne];K[xe]=K[xe]||[],K[xe].push(Ne);const Ae=Q[Ne]-1;W[Ae]=W[Ae]||[],W[Ae].push(Ne),G[Ne]=X[Ne]}}Ct.initialize=kt,s(xt,"euler"),s(Vt,"leapfrog"),s(nn,"velocityVerlet"),s(sr,"default"),s(ht,"initTopology"),s(bt,"decomposition");var gt=class{constructor(P,O=!0){this.bucketSize=0;const M=P.nodes.length,z=P.edges.length;u(M+z),this.X=new Array(M),this.Y=new Array(M),this.R=new Array(M),this.fx=new Float32Array(M),this.fy=new Float32Array(M),this.vx=new Float32Array(M),this.vy=new Float32Array(M),this.pinned=new Uint8Array(M),this.masses=new Float32Array(M),this.weights=new Float32Array(z),this.lengths=new Float32Array(z),this.sources=new Uint32Array(z),this.targets=new Uint32Array(z),this.degrees=new Uint32Array(M),this.layer=new Uint32Array(M),this.parent=new Int32Array(M),this.cluster=new Int32Array(M),this.component=new Uint32Array(M),this.components=[],this.layers=[],this.nodeIds=new Array(M),this.edgeIds=new Array(z),O&&sr(P.nodes,P.edges,this),this.movements=new Array(this.layers.length).fill(0),this.surfaces=new Array(this.layers.length).fill(0),this.movementsPrev=new Array(this.layers.length).fill(0),this.surfacesPrev=new Array(this.layers.length).fill(0)}};function jt(P,O){return P<O?P*O+Math.pow(O-P-1,2)/4:P*O+Math.pow(P-O-1,2)/4}function Ht(P,O){return(P+O)*(P+O+1)/2+O}function vn({edgeIds:P,sources:O,targets:M,pinned:z,degrees:H,X:Q,Y:W,R:ee},K=0,G=.5){const X={},te={};for(const de of P){const fe=O[de],ne=M[de];fe!==ne&&(X[fe]=X[fe]||{},X[ne]=X[ne]||{},X[fe][ne]=!0,X[ne][fe]=!0)}Object.keys(X).forEach(de=>{const fe=Number(de),ne=Object.keys(X[Number(fe)]);if(ne.length===2){const[he,Ee]=ne,Le=jt(Number(he),Number(Ee));Le in te||(te[Le]=[Number(Ee),Number(he)]),z[fe]||te[Le].push(fe)}}),Object.keys(te).forEach(de=>{const[fe,ne,...he]=te[Number(de)];if(he.length<3)return;const Ee=Q[fe],Le=W[fe],Se=Q[ne],be=W[ne],Ne=H[fe],xe=.25+.5*Ne/(Ne+H[ne]);let Ae=Ee+(Se-Ee)*xe,Ye=Le+(be-Le)*xe,Ke=-(be-Le),tt=Se-Ee;const Je=Math.sqrt(Math.pow(Ee-Se,2)+Math.pow(Le-be,2));Ke=-2*Ke/Je,tt=-2*tt/Je;const wt=Math.acos(Ke/Math.sqrt(Ke*Ke+tt*tt));K>0&&(wt<K||wt>Math.PI-K&&wt<=Math.PI?(Ke=2*Math.cos(Math.PI-K),tt=2*Math.sin(Math.PI-K)):(wt>2*Math.PI-K||wt>=Math.PI&&wt<Math.PI+K)&&(Ke=2*Math.cos(K),tt=2*Math.sin(K)));let Tt=0,Ft=1;he.sort((In,Xr)=>ee[Xr]-ee[In]);let rn=0,Nn=0;const xr=Math.max(ee[he[0]],ee[he[1]])/2;he.length%2==1&&(Tt=1,Ae-=Ke*xr,Ye-=tt*xr);const Dn=1+G;for(let In=0;In<he.length;In++){const Xr=(Tt+In)%2,gn=he[In],br=In>=2?ee[gn]:xr,Nr=(Xr?rn:Nn)+br;Q[gn]=Ae+Ke*Ft*Nr,W[gn]=Ye+tt*Ft*Nr,Xr?rn+=br*Dn:Nn+=br*Dn,Ft=-Ft}})}function Fn(P){let O=0,M=0;for(const W of P)O+=W.w*W.h,M=Math.max(M,W.w);P.sort((W,ee)=>ee.h-W.h);const z=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(O/.95)),M),h:1/0}];let H=0,Q=0;for(const W of P)for(let ee=z.length-1;ee>=0;ee--){const K=z[ee];if(!(W.w>K.w||W.h>K.h)){if(W.x=K.x,W.y=K.y,Q=Math.max(Q,W.y+W.h),H=Math.max(H,W.x+W.w),W.w===K.w&&W.h===K.h){const G=z.pop();ee<z.length&&(z[ee]=G)}else W.h===K.h?(K.x+=W.w,K.w-=W.w):W.w===K.w?(K.y+=W.h,K.h-=W.h):(z.push({x:K.x+W.w,y:K.y,w:K.w-W.w,h:W.h}),K.y+=W.h,K.h-=W.h);break}}}function hn(P,O=1){return Fn(P.map(M=>(M.w+=M.maxr+O,M.h+=M.maxr+O,M)).sort((M,z)=>M.w*M.h-z.w*z.h))}s(gt,"LayoutData"),s(jt,"unorderedPair"),s(Ht,"orderedPair"),s(vn,"alignSiblings"),s(Fn,"potpack"),s(hn,"boxpack");var Tn=class{constructor(){this.ids=[],this.xmin=1/0,this.ymin=1/0,this.xmax=-1/0,this.ymax=-1/0,this.x=0,this.y=0,this.w=0,this.h=0,this.cx=0,this.cy=0,this.radius=0,this.mx=0,this.my=0,this.m=0,this.maxr=0}add(P,O,M,z){this.ids.push(P),O-z<this.xmin&&(this.xmin=O-z),M-z<this.ymin&&(this.ymin=M-z),O+z>this.xmax&&(this.xmax=O+z),M+z>this.ymax&&(this.ymax=M+z),z>this.maxr&&(this.maxr=z),this.mx+=z*O,this.my+=z*M,this.m+=z}measure(P=0){return this.w=this.xmax-this.xmin+2*P,this.h=this.ymax-this.ymin+2*P,this.cx=this.mx/this.m,this.cy=this.my/this.m,this.x=this.xmin,this.y=this.ymin,this.radius=Math.sqrt(this.w*this.w+this.h*this.h)/2,this}};function vr(P,O=20,M,z,H){for(const ne of P){const{x:he,y:Ee,r:Le}=Xe(ne.ids,Se=>M[Se],Se=>z[Se],Se=>H[Se]);ne.cx=he,ne.cy=Ee,ne.radius=Le+O}const Q=P.slice().sort((ne,he)=>ne.radius-he.radius),W=Q.map(ne=>({x:ne.cx,y:ne.cy,r:ne.radius})),ee=Q.pop();let K=3*Math.PI/2,G=ee.radius;const X=2*Math.PI,{cx:te,cy:de}=ee,fe=[ee];for(;Q.length!==0;){const ne=Q[Q.length-1],he=G+ne.radius,Ee=te+Math.cos(K)*he,Le=de+Math.sin(K)*he;fe.some(Se=>{const be=Se.cx-Ee,Ne=Se.cy-Le;return Math.sqrt(be*be+Ne*Ne)<Se.radius+ne.radius})?G+=1:(ne.x=Ee-ne.w/2,ne.y=Le-ne.h/2,ne.cx=Ee,ne.cy=Le,W[Q.length-1].x=Ee,W[Q.length-1].y=Le,fe.push(Q.pop()),K+=(2*ne.radius+1)/he*1%X)}}function Ti(P,O,M,z){let H=0;const Q=[];for(const W of z){const ee=new Tn;for(const K of W)ee.add(K,P[K],O[K],M[K]);Q.push(ee.measure()),W.length>Q[H].ids.length&&(H=Q.length-1)}return{boxes:Q,biggest:H}}function $t(P,O,{X:M,Y:z,R:H,components:Q,pinned:W,degrees:ee,sources:K,targets:G,edgeIds:X},{update:te,onUpdate:de,placement:fe,placementOffset:ne,alignSiblings:he,siblingsMinAngle:Ee,siblingsOffset:Le}){if(he&&(vn({X:M,Y:z,R:H,degrees:ee,pinned:W,sources:K,targets:G,edgeIds:X},Ee,Le),te(P,M,z)),fe){const{boxes:Se,biggest:be}=Ti(M,z,H,Q);if(fe==="spiral")vr(Se,ne,M,z,H);else{if(fe!=="box")return;hn(Se,ne)}const Ne=Se[be].xmin-Se[be].x,xe=Se[be].ymin-Se[be].y;for(const Ae of Se){const{xmin:Ye,ymin:Ke,x:tt,y:Je,ids:wt}=Ae,Tt=Ye-tt-Ne,Ft=Ke-Je-xe;for(const rn of wt)M[rn]-=Tt,z[rn]-=Ft}te(P,M,z),de()}}s(Tn,"Component"),s(vr,"spiralpack"),s(Ti,"groupAndMeasure"),s($t,"postprocessing");var Ln=(P=>(P[P.verlet=0]="verlet",P[P.euler=1]="euler",P))(Ln||{}),Rn=0,R=typeof window>"u",B=typeof performance<"u"&&performance.now?performance:Date,Y=R?P=>{const O=B.now(),M=Math.max(0,16-(O-Rn)),z=setTimeout(()=>P(O+M),M);return Rn=O+M,z}:window.requestAnimationFrame,$=R?P=>clearTimeout(P):window.cancelAnimationFrame;function ae(P,O,M){for(let z=0;z<P.length;z++){const H=P[z];H.x=O[z],H.y=M[z]}}s(ae,"defaultUpdate");var Te=s(()=>{},"noop"),He={movementRatio:7e-8,surfaceRatio:.0025},Oe=class{constructor(P={}){this.onUpdate=s(O=>{},"onUpdate"),this.update=ae,this.nextTick=Y,this.cancelTick=$,this.onEnd=Te,this.charge=10,this.maxIterations=200,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=void 0,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=200,this.scaling=1,this.defaultRadius=1,this.autoStop=He,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in P?P.autoStop&&(typeof P.autoStop=="boolean"?P.autoStop=He:P.autoStop=we(we({},P.autoStop),He)):P.steps;for(const O in P)P[O]===void 0&&O!=="order"&&O!=="depth"||(this[O]=P[O])}};function je(P,O,{X:M,Y:z,R:H,degrees:Q,nodeIds:W,edgeIds:ee,layers:K,layer:G,cluster:X,masses:te,weights:de,sources:fe,targets:ne},{cx:he,cy:Ee,nextTick:Le,cancelTick:Se,update:be,onUpdate:Ne,batch:xe,maxIterations:Ae,steps:Ye,minMovement:Ke},tt,Je){const wt=K.slice();xe=xe??1;let Tt,Ft=0;function rn(){Se(Tt),be(P,M,z),Ne(),Je(Ft)}s(rn,"stop");const Nn={};for(let Wn=0;Wn<O.length;Wn++)Nn[Number(O[Wn].id)||Wn]=Wn;const xr=new Map;for(let Wn=0;Wn<ee.length;Wn++){const Li=ee[Wn];xr.set(Ht(fe[Li],ne[Li]),Li)}for(let Wn=0;Wn<K.length;Wn++){const Li=K[Wn],Es=Wn;for(let hi=0;hi<Li.length;hi++){const En=Li[hi],xn=X[En];xn!==-1&&(te[xn]+=te[En])}for(let hi=0;hi<O.length;hi++){const En=O[hi],xn=Number(En.id)||hi,Ni=En.source,bo=En.target,ru=de[Nn[xn]];if(G[Ni]===Es&&G[bo]===Es){const z1=X[Ni],O1=X[bo];if(z1!==O1){const B1=xr.get(Ht(z1,O1));B1!==void 0&&(de[B1]+=ru)}}}}W.length=0,ee.length=0,Ae=1/0;let Dn=1;const In=1-Math.pow(.1,1/Ye/2),Xr=(Dn-.1)/Ye;let gn,br,Nr=.5;function Am(){Dn+=(0-Dn)*In;const Wn=tt(Dn,W,ee);let Li=Dn<=Nr||Wn<Ke;if(Ft===0||Li){const Es=wt.pop();if(Es){gn&&(br=gn.reduce((En,xn)=>Math.max(En,he-M[xn],Ee-z[xn]),0)),W.push.apply(W,Es);for(let En=0;En<Es.length;En++){const xn=Es[En],Ni=X[xn];if(Ni!==-1){const bo=Q[xn]>1?2:1,ru=H[Ni]+H[xn];te[Ni]-=te[xn],M[xn]=M[Ni]+bo*ru*(2*d()-1),z[xn]=z[Ni]+bo*ru*(2*d()-1)}else gn&&(M[xn]=he+2*br*(1-2*d()),z[xn]=Ee+2*br*(1-2*d()))}gn=Es;const hi=W.reduce((En,xn)=>(En[xn]=!0,En),{});ee.length=0;for(let En=0;En<O.length;En++){const{source:xn,target:Ni,id:bo}=O[En];hi[xn]&&hi[Ni]&&ee.push(Nn[Number(bo)])}Li=!1,wt.length===0?(Dn=.2,Nr=.1):(Dn=.1+2*Xr,Nr=.1)}}Ft%xe==0&&(be(P,M,z),Ne()),++Ft>=Ae||Li?rn():Tt=Le(Am)}return s(Am,"simulationStep"),{done:!1,start(){return Tt=setTimeout(Am),this},stop(){return rn(),this},get iterations(){return Ft}}}s(Oe,"Settings"),s(je,"multiLevel");var et=class{constructor(P){this.promise=new Promise(P)}then(P){return this.promise.then(P)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};function pt(P,O,{X:M,Y:z,nodeIds:H,edgeIds:Q,layers:W,movements:ee,movementsPrev:K,surfaces:G,surfacesPrev:X},te,de,fe){var ne;const{nextTick:he,cancelTick:Ee,steps:Le,minMovement:Se,update:be,onUpdate:Ne,autoStop:xe}=te,Ae=(ne=te.batch)!=null?ne:1;let Ye=0,Ke=1,tt,Je=1-Math.pow(.05,1/Le),wt=!1;const Tt=s(()=>{wt=!0,Ee(tt),Ne(),fe(Ye)},"stop");let Ft=!1;const rn=s(()=>{Ke+=(.001-Ke)*Je;const Nn=de(Ke,H,Q),xr=W.length;let Dn=!1,In=!1;if(xe){Dn=In=!0;const{movementRatio:gn,surfaceRatio:br}=xe;for(let Nr=0;Nr<xr;Nr++)Dn&&Math.abs(1-G[Nr]/X[Nr])>br&&(Dn=!1),In&&Math.abs(ee[Nr]-K[Nr])>gn&&(In=!1)}Dn&&In&&!Ft&&(Je=1-Math.pow(.001,1/Math.max(10,Ye)),Ft=!0);const Xr=wt||Ke<.05||Nn!==0&&Nn<=Se;if(Ye%Ae==0&&(be(P,M,z),Ne()),++Ye>=Le||Xr)return Tt();for(let gn=0;gn<xr;gn++)K[gn]=ee[gn],X[gn]=G[gn];tt=he(rn)},"simulationStep");return{done:!1,start(){return tt=setTimeout(rn),this},stop(){return Tt(),this},get iterations(){return Ye}}}s(et,"SimulationPromise"),s(pt,"singleLevel");var yt,dt={euler:xt,verlet:nn,leapfrog:Vt};function ut(P,O={}){let M,z;const H=s((de={nodes:[],edges:[]})=>(M=de.nodes,z=de.edges,u(Ht(M.length,z.length)),new gt(de,!0)),"setGraph"),Q=s((de={})=>new Oe(de),"setOptions");let W=H(P),ee=Q(O);p(z,W),kt(M,W,ee),Gt(M,W,ee),_(M,W,ee);const K=dt[ee.integrator]||nn;let G=null;const X=s((de,fe,ne)=>(G&&(G.destroy(),G=null),fe.length<=1?0:(ee.barnesHutOptimization?G=Ct(de,fe,G,W):Ot(de,fe,W,ee),g(de,ne,W,ee),G&&ee.elasticity!==0&&se(0,fe,G,W,ee),m(de,fe,W,ee),K(fe,ee.inertia,W,ee))),"step");let te;return{setOptions:(de={})=>(ee=Q(de),this),setGraph:({nodes:de,edges:fe})=>(W=H(P),p(fe,W),kt(de,W,ee),Gt(de,W,ee),_(de,W,ee),this),start(){return te=(ee.multilevel?je:pt)(M,z,W,ee,X,de=>{te.done||$t(M,0,W,ee),ee.onEnd(de),te.done=!0}).start(),this},iterations:()=>te.iterations,data:()=>W,stop(){return te&&te.stop(),this},step(de=1){return X(de,W.nodeIds,W.edgeIds),ee.update(M,W.X,W.Y),this}}}return s(ut,"force"),ut.run=(P,O)=>{let M;const z=new et(H=>{O.onEnd=H,M=ut(P,O).start()});return z.simulation=M,z.stop=()=>(M.stop(),z),z},yt=o,((P,O,M,z)=>{if(O&&typeof O=="object"||typeof O=="function")for(let H of r(O))i.call(P,H)||H===M||t(P,H,{get:()=>O[H],enumerable:!(z=n(O,H))||z.enumerable});return P})(t({},"__esModule",{value:!0}),yt)})();return e.default.apply(this,arguments)}Qe(M2,"SimulationPromise"),Qe(Bh,"gpuLayout"),Bh.run=(e,t,n)=>{let r;const i=new M2(s=>{n.onEnd=s,r=Bh(e,t,n).start()});return i.simulation=r,i.stop=()=>(r.stop(),i),i};var F7=2,R7=1.25,R2={name:"force",imports:{force:F2},configure(e,{graph:t,events:n}){const r=e.nodes._indexes,i=t.getNodeAttribute("x").getMultiple(r),s=t.getNodeAttribute("y").getMultiple(r),o=t.getNodeAttribute("radius").getMultiple(r),a=t.getNodeAttribute("layoutable").getMultiple(r),l=e.edges,c=[],d=[],u={};e.edgeStrength===void 0&&(e.edgeStrength=.5),e.gpu&&(e.edgeStrength/=F7),e.gravity==null&&(e.gravity=.01),e.siblingsOffset==null&&(e.siblingsOffset=0),e.theta==null&&(e.theta=.62),e.autoStop=!!e.autoStop,e.alignSiblings=!!e.alignSiblings;const h=e.radiusRatio||R7;for(let p=0;p<e.nodes._indexes.length;p++){const m=e.nodes._indexes[p];u[m]=p,c.push({id:p,x:i[p],y:s[p],r:o[p]*h,pinned:!a[p]})}l.forEach(p=>{const m=u[p.getSource()._index],_=u[p.getTarget()._index];m!==_&&m!==void 0&&_!==void 0&&d.push({source:m,target:_})});const g=Op(we({},e));return delete g.nodes,delete g.edges,{graph:{nodes:c,edges:d},options:g,indexes:e.nodes._indexes,done:!1,x:i,y:s,chunkPeriod:250}},update:function(e,t){if(!t.simulation&&e){let n;t.done=!1,t.graph=e.graph,t.options=e.options,t.indexes=e.indexes;let r=!1;if(e.options.gpu){const l=yL("webgl2",{},()=>{io("GPU layout: WebGL context not available. Falling back on CPU."),t.simulation=void 0,t.options.gpu=!1,t.cleanUp&&t.cleanUp(),this._update(e,t)});l&&(n=l.context,t.cleanUp=l.cleanUp),r=!!n}let i=Date.now();r||(e.options.nextTick=l=>Date.now()-i<=t.chunkPeriod?l():(i=Date.now(),setTimeout(l,0))),e.options.update=(l,c,d)=>{t.x=c,t.y=d},e.options.onEnd=()=>{if(r&&n){const{X:l,Y:c}=t.simulation.data(!0);t.x=l,t.y=c}t.done=!0,t.simulation=void 0,t.cleanUp&&t.cleanUp()},e.options.bucketSize=0;const s=r&&n?Bh(e.graph,n,e.options).start():F2(e.graph,e.options).start();t.simulation=s;const{X:o,Y:a}=r&&n?{X:new Float32Array(e.graph.nodes.length),Y:new Float32Array(e.graph.nodes.length)}:s.data();t.x=o,t.y=a}return{graph:t.graph,indexes:t.indexes,x:t.x,y:t.y}},context:function(){return{done:!1,graph:{nodes:[],edges:[]},x:null,y:null,indexes:null,chunkPeriod:250}},stop:function(e){e.done=!0,e.simulation&&(e.simulation.stop(),delete e.simulation)},isRunning:function(e){return!e.done||(e.done=!1,!1)},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}}};function D7(e,t,n,r,i){return{x:e+i*(n-e),y:t+i*(r-t)}}var z7=10;function O7(e,t,n){let r,i,s=1/0;for(let o=0,a=t.length;o<a;o++){const l=t[o],c=t[(o+1)%a],d=rx(e[0],e[1],l[0],l[1],c[0],c[1]);d<s&&(s=d,r=l,i=c)}return B7(e[0],e[1],r[0],r[1],i[0],i[1],n)}function B7(e,t,n,r,i,s,o){const a=sI(e,t,n,r,i,s);let l=-(r-s),c=n-i;const d=Math.sqrt(l*l+c*c);return l/=d,c/=d,[a.x-o*l,a.y-o*c]}function j7(e,t,n,r){for(let i=0;i<e.length;i++){const[s,o]=e[i],a=Math.abs(s-t),l=Math.abs(o-n);if(a+l<=r||!(a>r||l>r)&&a*a+l*l<=r*r)return!0}return!1}function $7(e,t,n){const r=rI(n.cx,n.cy,e,t,n.minX,n.minY,n.maxX,n.maxY);let i,s=1/0,o={x:n.maxX,y:t};for(const a of r)i=_n(e,t,a.x,a.y),i<s&&(s=i,o=a);return o}function U7(e){const t=e.bottomLeft(),n=e.topRight();return[[t.x,t.y],[t.x,n.y],[n.x,n.y],[n.x,t.y]]}function V7(e,t,n,r){const i=[],s=[],o=[];return e.forEach((a,l)=>{r[l]&&(i.push(a),s.push(t[l]),o.push(n[l]))}),{ids:i,subgraphPositions:s,radii:o}}function G7(e,t,n){const{duration:r=0,margin:i=5,referenceNodes:s,nodes:o}=t,{ids:a,subgraphPositions:l,radii:c}=V7(o.getId(),n,o.getAttribute("radius"),o.getAttribute("layoutable")),d=e.getNodes(a);let u=s;!u||u instanceof xs||(u=e.getNodes(u));const h=u||d.inverse(),g=h.getPosition().map(S=>[S.x,S.y]),p=d.getBoundingBox(),m=h.getBoundingBox();m.pad(m.maxScaledSize);const _={layoutName:"incremental",ids:d.getId(),positions:{before:l,current:l}};if(!d.size)return Promise.resolve(_);const y=Up(l.map(S=>S.x),l.map(S=>S.y),c),[f,v]=y,x=y[2]+m.maxScaledSize+i;let w,b=0,A=0;if(j7(g,f,v,x))if(h.size<=3){if(Uv(f,v,y[2],m.minX,m.minY,m.maxX,m.maxY)){const S=$7(f,v,m);w=_n(m.cx,m.cy,S.x,S.y);const k=D7(m.cx,m.cy,S.x,S.y,(w+x)/w);b=k.x-f,A=k.y-v}}else{const S=Cv.from(g,j=>j[0],j=>j[1]),k=md(S.triangles,g),C=g.length>3?md(S.hull,g):U7(m),N=RL(h.getPosition(),z7,x,k,C);let D=O7([f,v],C,x);if(N.length>0){let j=Math.pow(f-D[0],2)+Math.pow(v-D[1],2);for(const U of N)b=f-U[0],A=v-U[1],w=b*b+A*A,w<j&&(j=w,D=U.slice(0,2));b=D[0]-f,A=D[1]-v}else b=D[0]-p.cx,A=D[1]-p.cy}if(b||A){const S=l.map(k=>(k.x+=b,k.y+=A,k));if(t.locate){typeof t.locate=="boolean"&&(t.locate={});const k=e.modules.locate.layoutDataBoundingBox({x:[...g.map(N=>N[0]),...S.map(N=>N.x)],y:[...g.map(N=>N[1]),...S.map(N=>N.y)],indexes:e.getNodes()._indexes}),C=e.modules.locate.computeConfigForBounds(k,t.locate);e.modules.camera.setView(C,{duration:r,easing:t.locate.easing,ignoreZoomLimits:!0})}return _.positions.current=S,d.setAttributes(S,r).then(()=>_)}return d.setAttributes(l,r).then(()=>_)}function H7(e,t,n){const r=an(t);return r.duration=0,r.dryRun=!0,r.locate=!1,delete r.incremental,n(r).then(i=>G7(e,t,i.positions.current))}function W7(e,t,n){const{nodes:r,duration:i,centralNode:s}=t,o=r,a=o.reduce((c,d)=>(c[d._index]=!0,c),{}),l=e.getNodes();if(t.focusOnGroupShape)return n({nodes:o,duration:0}).then(()=>{const c=o.concat(s),d=c.getAttribute("layoutable");return c.setAttributes({layoutable:!1}),n({nodes:e.getNodes(),duration:i}).then(()=>c.setAttributes(d))});{const c=an(t);return delete c.centralNode,c.incremental=!1,c.nodes=l,c.nodeMass=(d,u)=>(u+1)*(a[d._index]?1:2),n(c)}}function mM(e,t,n){const r=VP(t.modules.graph,e);if(typeof r.incremental!="boolean"&&"margin"in r.incremental&&!isFinite(r.incremental.margin))throw new Error("Incremental layout: margin has to be a positive number");const i=an(r);return typeof r.incremental!="boolean"&&(i.margin=r.incremental.margin,i.referenceNodes=r.incremental.referenceNodes),i.centralNode&&!i.centralNode.getAttribute("layoutable")?W7(t,i,n):H7(t,i,n)}var q7=e=>(e.modules.layouts.register(R2),(t={})=>{if(t.incremental)return mM(t,e,e.layouts.force);if(t.edgeStrength!==void 0&&(!isFinite(t.edgeStrength)||t.edgeStrength<0))throw new Error("force layout: edgeStrength must be a positive number");if(t.steps!==void 0&&(!isFinite(t.steps)||t.steps<=0))throw new Error("force layout: 'steps' must be a positive integer");if(t.edgeLength!==void 0&&(!isFinite(t.edgeLength)||t.edgeLength<=0))throw new Error("force layout: 'edgeLength' must be positive");if(t.gravity!==void 0&&(!isFinite(t.gravity)||t.gravity<0||t.gravity>=1))throw new Error("force layout: 'gravity' must be between 0 and 1");if(t.charge!==void 0&&!isFinite(t.charge))throw new Error("force layout: 'charge' must be a number");if(t.radiusRatio!==void 0&&(!isFinite(t.radiusRatio)||t.radiusRatio<0))throw new Error("force layout: 'radiusRatio' must be a positive number");if(t.theta!==void 0&&(!isFinite(t.theta)||t.theta<0||t.theta>1))throw new Error("force layout: 'theta' must be between 0 and 1");if(!(t.cx===void 0&&t.cy===void 0||typeof t.cx=="number"&&typeof t.cy=="number"))throw new Error("force layout: both 'cx' and 'cy' must be numbers");if(t.siblingsOffset!==void 0&&!isFinite(t.siblingsOffset))throw new Error("force layout: 'siblingsOffset' must be a number");return t.gpu=!!t.gpu,t.gpu&&(t.useWebWorker=!1),e.modules.layouts.start(R2.name,t)}),D2={name:"forceLink",configure:function(e,{graph:t,camera:n,graphics:r}){const i=e.nodes._indexes,s=e.edges._indexes,o={},a={},l=i.length,c=s.length;let d;var u=t.getObjectList(!0),h=t.getObjectList(!1);(e.nodes||e.edges)&&(delete(e=an(e)).nodes,delete e.edges);const g=t.getNodeAttribute("innerStroke.width").getMultiple(i),p=t.getNodeAttribute("outerStroke.width").getMultiple(i),m=t.degrees(i),_=t.getNodeAttribute("x").getMultiple(i),y=t.getNodeAttribute("y").getMultiple(i),f=t.getNodeAttribute("radius").getMultiple(i),v=t.nodeList(i).getAttribute("layoutable"),x=typeof e.nodeMass=="function"?e.nodeMass:function(F,T,q){return T+1};delete e.nodeMass;const w=typeof e.edgeWeight=="function"?e.edgeWeight:function(F){return 1};delete e.edgeWeight,isFinite(e.scalingRatio)||delete e.scalingRatio;const b=i.reduce((F,T,q)=>(v[q]||(F[T]=!0),F),{});let A=0,S=0,k=0;const C=n.getZoom();for(d=0;d<i.length;++d){const F=i[d],T=_[d],q=y[d],V=f[d]+(g[d]+p[d])/C;o[F]={id:F,x:T,y:q,degree:m[d],size:V,pinned:!!b[F],mass:x(u.get(F),m[d],d)},k=Math.max(V,k)}if(l>1)for(d=0;d<l;d++){const F=o[i[d]];A+=F.x,S+=F.y}A/=l,S/=l;const N={x:A,y:S},D=t.edgeList(s),j=D.getSource()._indexes,U=D.getTarget()._indexes;for(d=0;d<c;d++){const F=s[d],T=j[d],q=U[d];o[T]&&o[q]&&(a[F]={source:T,target:q},a[F].weight=w(h.get(F)))}return{nodes:o,edges:a,maxSize:k,config:Op(e),barycentre:N}},context:function(){return{chunkPeriod:250}},update:function(e,t){let n;!t.W&&e?(n={ppn:10,ppe:3,ppr:9,MAX_SUBDIVISION_RETRIES:3,maxForce:10,iterations:0,converged:!1,settings:{linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:100,strongGravityMode:!0,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5,startingIterations:10,iterationsPerRender:10,maxIterations:1e3,avgDistanceThreshold:.01,autoStop:!0,alignNodeSiblings:!0,nodeSiblingsScale:5,nodeSiblingsAngleMin:0}},t.W=n,function(F,T){const q=function(J,oe){let ie,pe,Ce,ce=J.nodes,ve=J.edges,De=J.maxSize,qe=Object.keys(J.nodes),Xe=Object.keys(J.edges),me=qe.length*n.ppn,_e=Xe.length*n.ppe,nt={};const rt=Math.pow(10,Math.log(Math.max(De,1))-6),mt=rt/2,at=Math.random,Z=oe.randomizeFactor||1;let re;re=oe.randomize==="locally"?ue=>ue+at()*Z:oe.randomize==="globally"?ue=>at()*Z:ue=>ue+at()*rt-mt;const se=new Float32Array(me),le=new Float32Array(_e);for(ie=pe=0,Ce=qe.length;ie<Ce;ie++){const ue=qe[ie],ge=ce[ue];let Me=ge.x,Pe=ge.y;ge.pinned||(Me=re(Me),Pe=re(Pe)),nt[ue]=pe,se[pe]=Me,se[pe+1]=Pe,se[pe+2]=0,se[pe+3]=0,se[pe+4]=0,se[pe+5]=0,se[pe+6]=ge.mass,se[pe+7]=1,se[pe+8]=ge.size,se[pe+9]=ge.pinned||0,pe+=n.ppn}for(ie=pe=0,Ce=Xe.length;ie<Ce;ie++){const ue=ve[Xe[ie]];le[pe]=nt[ue.source],le[pe+1]=nt[ue.target],le[pe+2]=ue.weight||0,pe+=n.ppe}return{nodes:se,edges:le}}(F,T);t.NodeMatrix=q.nodes,t.EdgeMatrix=q.edges,n.nodesLength=t.NodeMatrix.length,n.edgesLength=t.EdgeMatrix.length}(e,e.config),n.settings=function(F,T){for(const q in F)T[q]=F[q];return T}(e.config,n.settings),t.nodes=e.nodes,t.edges=e.edges,t.barycentre=e.barycentre):n=t.W;let r,i=t.NodeMatrix,s=t.EdgeMatrix;const o=0,a=1,l=2,c=3,d=4,u=5,h=6,g=7,p=8,m=9,_=0,y=1,f=2,v=0,x=1,w=2,b=3,A=4,S=5,k=6,C=7,N=8;function D(){let U,F,T,q,V,J,oe,ie,pe,Ce,ce,ve,De,qe,Xe,me,_e;for(T=0;T<n.nodesLength;T+=n.ppn)i[T+d]=i[T+l],i[T+u]=i[T+c],i[T+l]=0,i[T+c]=0;if(n.settings.outboundAttractionDistribution){for(pe=0,T=0;T<n.nodesLength;T+=n.ppn)pe+=i[T+h];pe/=n.nodesLength}if(n.settings.barnesHutOptimize){let re,se,le,ue,ge=1/0,Me=-1/0,Pe=1/0,ke=-1/0;for(r=[],T=0;T<n.nodesLength;T+=n.ppn)ge=Math.min(ge,i[T+o]),Me=Math.max(Me,i[T+o]),Pe=Math.min(Pe,i[T+a]),ke=Math.max(ke,i[T+a]);const lt=Me-ge,it=ke-Pe;for(lt>it?(Pe-=(lt-it)/2,ke=Pe+lt):(ge-=(it-lt)/2,Me=ge+it),r[0+v]=-1,r[0+x]=(ge+Me)/2,r[0+w]=(Pe+ke)/2,r[0+b]=Math.max(Me-ge,ke-Pe),r[0+A]=-1,r[0+S]=-1,r[0+k]=0,r[0+C]=0,r[0+N]=0,U=1,T=0;T<n.nodesLength;T+=n.ppn)for(F=0,le=n.MAX_SUBDIVISION_RETRIES;;){if(!(r[F+S]>=0)){if(r[F+v]<0){r[F+v]=T;break}if(r[F+S]=U*n.ppr,oe=r[F+b]/2,ie=r[F+S],r[ie+v]=-1,r[ie+x]=r[F+x]-oe,r[ie+w]=r[F+w]-oe,r[ie+b]=oe,r[ie+A]=ie+n.ppr,r[ie+S]=-1,r[ie+k]=0,r[ie+C]=0,r[ie+N]=0,ie+=n.ppr,r[ie+v]=-1,r[ie+x]=r[F+x]-oe,r[ie+w]=r[F+w]+oe,r[ie+b]=oe,r[ie+A]=ie+n.ppr,r[ie+S]=-1,r[ie+k]=0,r[ie+C]=0,r[ie+N]=0,ie+=n.ppr,r[ie+v]=-1,r[ie+x]=r[F+x]+oe,r[ie+w]=r[F+w]-oe,r[ie+b]=oe,r[ie+A]=ie+n.ppr,r[ie+S]=-1,r[ie+k]=0,r[ie+C]=0,r[ie+N]=0,ie+=n.ppr,r[ie+v]=-1,r[ie+x]=r[F+x]+oe,r[ie+w]=r[F+w]+oe,r[ie+b]=oe,r[ie+A]=r[F+A],r[ie+S]=-1,r[ie+k]=0,r[ie+C]=0,r[ie+N]=0,U+=4,ue=F+v,re=i[r[ue]+o]<r[F+x]?i[r[ue]+a]<r[F+w]?r[F+S]:r[F+S]+n.ppr:i[r[ue]+a]<r[F+w]?r[F+S]+2*n.ppr:r[F+S]+3*n.ppr,r[F+k]=i[r[ue]+h],r[F+C]=i[r[ue]+o],r[F+N]=i[r[ue]+a],r[re+v]=r[F+v],r[F+v]=-1,se=i[T+o]<r[F+x]?i[T+a]<r[F+w]?r[F+S]:r[F+S]+n.ppr:i[T+a]<r[F+w]?r[F+S]+2*n.ppr:r[F+S]+3*n.ppr,re===se){if(le--){F=re;continue}le=n.MAX_SUBDIVISION_RETRIES;break}r[se+v]=T;break}re=i[T+o]<r[F+x]?i[T+a]<r[F+w]?r[F+S]:r[F+S]+n.ppr:i[T+a]<r[F+w]?r[F+S]+2*n.ppr:r[F+S]+3*n.ppr,r[F+C]=(r[F+C]*r[F+k]+i[T+o]*i[T+h])/(r[F+k]+i[T+h]),r[F+N]=(r[F+N]*r[F+k]+i[T+a]*i[T+h])/(r[F+k]+i[T+h]),r[F+k]+=i[T+h],F=re}}if(n.settings.barnesHutOptimize)for(Ce=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)for(F=0;;)if(r[F+S]>=0){if(me=Math.sqrt((i[T+o]-r[F+C])*(i[T+o]-r[F+C])+(i[T+a]-r[F+N])*(i[T+a]-r[F+N])),2*r[F+b]/me<n.settings.barnesHutTheta){if(ce=i[T+o]-r[F+C],ve=i[T+a]-r[F+N],n.settings.adjustSizes?me>0?(_e=Ce*i[T+h]*r[F+k]/me/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e):me<0&&(_e=-Ce*i[T+h]*r[F+k]/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e):me>0&&(_e=Ce*i[T+h]*r[F+k]/me/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e),r[F+A]<0)break;F=r[F+A];continue}F=r[F+S]}else{if(r[F+v]>=0&&r[F+v]!==T&&(ce=i[T+o]-i[r[F+0]+o],ve=i[T+a]-i[r[F+0]+a],me=Math.sqrt(ce*ce+ve*ve),n.settings.adjustSizes?me>0?(_e=Ce*i[T+h]*i[r[F+0]+h]/me/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e):me<0&&(_e=-Ce*i[T+h]*i[r[F+0]+h]/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e):me>0&&(_e=Ce*i[T+h]*i[r[F+0]+h]/me/me,i[T+l]+=ce*_e,i[T+c]+=ve*_e)),r[F+A]<0)break;F=r[F+A]}else for(Ce=n.settings.scalingRatio,q=0;q<n.nodesLength;q+=n.ppn)for(V=0;V<q;V+=n.ppn)ce=i[q+o]-i[V+o],ve=i[q+a]-i[V+a],n.settings.adjustSizes?(me=Math.sqrt(ce*ce+ve*ve)-i[q+p]-i[V+p],me>0?(_e=Ce*i[q+h]*i[V+h]/me/me,i[q+l]+=ce*_e,i[q+c]+=ve*_e,i[V+l]+=ce*_e,i[V+c]+=ve*_e):me<0&&(_e=100*Ce*i[q+h]*i[V+h],i[q+l]+=ce*_e,i[q+c]+=ve*_e,i[V+l]-=ce*_e,i[V+c]-=ve*_e)):(me=Math.sqrt(ce*ce+ve*ve),me>0&&(_e=Ce*i[q+h]*i[V+h]/me/me,i[q+l]+=ce*_e,i[q+c]+=ve*_e,i[V+l]-=ce*_e,i[V+c]-=ve*_e));for(ie=n.settings.gravity/n.settings.scalingRatio,Ce=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)_e=0,ce=i[T+o],ve=i[T+a],me=Math.sqrt(ce*ce+ve*ve),n.settings.strongGravityMode?me>0&&(_e=Ce*i[T+h]*ie):me>0&&(_e=Ce*i[T+h]*ie/me),i[T+l]-=ce*_e,i[T+c]-=ve*_e;for(Ce=1*(n.settings.outboundAttractionDistribution?pe:1),J=0;J<n.edgesLength;J+=n.ppe)q=s[J+_],V=s[J+y],oe=s[J+f],Xe=Math.pow(oe,n.settings.edgeWeightInfluence),ce=i[q+o]-i[V+o],ve=i[q+a]-i[V+a],n.settings.adjustSizes?(me=Math.sqrt(ce*ce+ve*ve)-i[q+p]-i[V+p],n.settings.linLogMode?n.settings.outboundAttractionDistribution?me>0&&(_e=-Ce*Xe*Math.log(1+me)/me/i[q+h]):me>0&&(_e=-Ce*Xe*Math.log(1+me)/me):n.settings.outboundAttractionDistribution?me>0&&(_e=-Ce*Xe/i[q+h]):me>0&&(_e=-Ce*Xe)):(me=Math.sqrt(ce*ce+ve*ve),n.settings.linLogMode?n.settings.outboundAttractionDistribution?me>0&&(_e=-Ce*Xe*Math.log(1+me)/me/i[q+h]):me>0&&(_e=-Ce*Xe*Math.log(1+me)/me):n.settings.outboundAttractionDistribution?(me=1,_e=-Ce*Xe/i[q+h]):(me=1,_e=-Ce*Xe)),me>0&&(i[q+l]+=ce*_e,i[q+c]+=ve*_e,i[V+l]-=ce*_e,i[V+c]-=ve*_e);let nt,rt,mt,at,Z=0;if(n.settings.adjustSizes)for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(nt=Math.sqrt(i[T+l]*i[T+l]+i[T+c]*i[T+c]),nt>n.maxForce&&(i[T+l]=i[T+l]*n.maxForce/nt,i[T+c]=i[T+c]*n.maxForce/nt),rt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),mt=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,at=.1*Math.log(1+mt)/(1+Math.sqrt(rt)),De=i[T+o],qe=i[T+a],i[T+o]=i[T+o]+i[T+l]*(at/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(at/n.settings.slowDown),ce=i[T+o],ve=i[T+a],me=Math.sqrt((ce-De)*(ce-De)+(ve-qe)*(ve-qe)),Z+=me);else for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(rt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),mt=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,at=i[T+g]*Math.log(1+mt)/(1+Math.sqrt(rt)),i[T+g]=Math.min(1,Math.sqrt(at*(i[T+l]*i[T+l]+i[T+c]*i[T+c])/(1+Math.sqrt(rt)))),De=i[T+o],qe=i[T+a],i[T+o]=i[T+o]+i[T+l]*(at/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(at/n.settings.slowDown),ce=i[T+o],ve=i[T+a],me=Math.sqrt((ce-De)*(ce-De)+(ve-qe)*(ve-qe)),Z+=me);if(n.iterations++,n.settings.autoStop&&(n.converged=n.iterations>n.settings.maxIterations||Z/n.nodesLength<n.settings.avgDistanceThreshold,n.converged&&n.settings.alignNodeSiblings)){let re,se,le={},ue={};for(J=0;J<n.edgesLength;J+=n.ppe)q=s[J+_],V=s[J+y],q!==V&&(le[q]=le[q]||{},le[V]=le[V]||{},le[q][V]=!0,le[V][q]=!0);Object.keys(le).forEach(xt=>{var Vt=~~xt;se=Object.keys(le[Vt]),se.length==2&&(re=se[0]+";"+se[1],re in ue||(re=se[1]+";"+se[0],ue[re]||(ue[re]=[~~se[1],~~se[0]])),ue[re].push(Vt))});let ge,Me,Pe,ke,lt,it,Nt,It,Pt,Gt,Ot,ct,Ct,Bt,Mt,kt=n.settings.nodeSiblingsAngleMin;Object.keys(ue).forEach(xt=>{if(Me=ue[xt].shift(),Pe=ue[xt].shift(),ge=ue[xt].filter(ht=>!i[ht+m]),ge.length==1)return;if(it=i[Me+o],Nt=i[Me+a],It=i[Pe+o],Pt=i[Pe+a],ke=Object.keys(le[Me]).length,lt=Object.keys(le[Pe]).length,Gt=function(bt,gt,jt,Ht,vn){return(vn-Ht)*(bt-gt)/(jt-gt)+Ht}(ke/(ke+lt),0,1,1/4,3/4),ct=function(bt,gt,jt,Ht,vn){return{x:bt+(jt-bt)*vn,y:gt+(Ht-gt)*vn}}(it,Nt,It,Pt,Gt),Ct=function(bt,gt,jt,Ht){return{xi:-(Ht-gt),yi:jt-bt,xiPrime:Ht-gt,yiPrime:-(jt-bt)}}(it,Nt,It,Pt),Ot=function(bt,gt,jt,Ht){const vn=jt-bt,Fn=Ht-gt;return Math.sqrt(vn*vn+Fn*Fn)}(it,Nt,It,Pt),Bt=function(bt,gt){return{x:(bt.xiPrime-bt.xi)/gt,y:(bt.yiPrime-bt.yi)/gt}}(Ct,Ot),Mt=function(bt){return Math.acos(bt.x/Math.sqrt(bt.x*bt.x+bt.y*bt.y))}(Bt),2*kt>Math.PI)throw new Error("ForceLink.Worker - Invalid parameter: angleMin must be smaller than 2 PI.");kt>0&&(Mt<kt||Mt>Math.PI-kt&&Mt<=Math.PI?Bt={x:2*Math.cos(Math.PI-kt),y:2*Math.sin(Math.PI-kt)}:(Mt>2*Math.PI-kt||Mt>=Math.PI&&Mt<Math.PI+kt)&&(Bt={x:2*Math.cos(kt),y:2*Math.sin(kt)}));let Vt=0,nn=1,sr=1;ge.length%2==1&&(sr=0,Vt=1);for(let ht=0;ht<ge.length;ht++)i[ge[ht]+o]=ct.x+nn*Bt.x*sr*(Vt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),i[ge[ht]+a]=ct.y+nn*Bt.y*sr*(Vt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),nn=-nn,sr+=(ht+Vt)%2})}}function j(U){const F=Object.keys(U),T={};for(let q=0;q<i.length;q+=n.ppn){const V=F[q/n.ppn];T[V]={id:V,x:i[q+o],y:i[q+a],pinned:i[q+m]}}return T}return function(){if(n.settings.autoStop){const F=Date.now();for(;!(n.converged||Date.now()-F>=t.chunkPeriod);)D()}else{const F=n.iterations===0?n.settings.startingIterations:n.iterations+n.settings.iterationsPerRender;for(;n.iterations!==F;)D()}return{nodes:j(t.nodes),barycentre:t.barycentre}}()},isRunning:function(e){return!e.W.settings.autoStop||!e.W.converged||(e.W=void 0,!1)},stop:function(e){e.W&&(e.W.converged=!0)},onSync:function({nodes:e,barycentre:t},{graph:n}){const r=Object.keys(e),i=r.length;let s,o,a,l,c,d,u,h,g=0,p=0;const m=new Array(i),_=new Array(i),y=new Array(i),f=new Array(i),[v,x]=n.getAttributes(!0,["x","y"]);for(s=0;s<i;s++)o=r[s],a=e[o],h=parseInt(o),m[s]=h,f[s]=a.pinned,a.pinned?(l=v.get(h),c=x.get(h)):(l=a.x,c=a.y),_[s]=l,y[s]=c,g+=l,p+=c;for(d=g/i-t.x,u=p/i-t.y,s=0;s<i;s++)f[s]||(_[s]-=d,y[s]-=u);return{indexes:m,x:_,y}}},X7=e=>(e.modules.layouts.register(D2),(t={})=>t.incremental?mM(t,e,e.layouts.forceLink):e.modules.layouts.start(D2.name,t)),z2={name:"grid",configure:function(e,{graph:t,camera:n}){function r(b){return b===void 0||typeof b=="number"&&isFinite(b)&&b>0}const i=e.sortBy,s=e,o=s.nodes,a=Array.from(o._indexes),l=a.length,{rows:c,cols:d,rowDistance:u,colDistance:h}=function(A,S,k,C,N){if(!r(S))throw new TypeError('"rows" should be a positive integer');if(!r(k))throw new TypeError('"cols" should be a positive integer');if(!r(C))throw new TypeError('"rowDistance" should be a positive number');if(!r(N))throw new TypeError('"colDistance" should be a positive number');if(S)return{rows:S,cols:Math.ceil(A/S),rowDistance:C,colDistance:N};if(k)return{cols:k,rows:Math.ceil(A/k),rowDistance:C,colDistance:N};const D=Math.ceil(Math.sqrt(A));return{cols:D,rows:Math.ceil(A/D),rowDistance:C,colDistance:N}}(l,s.rows,s.cols,s.colDistance,s.rowDistance),g=function(A,S,k,C,N){return typeof A!="string"?C.map((D,j)=>j):A==="radius"?S.getAttribute(!0,"radius").getMultiple(C):A==="degree"?k.getDegree():A==="random"?C.map(()=>Math.random()):k.getData(A).map(D=>D||N)}(i,t,o,a,e.sortFallbackValue),p=o.getAttribute("layoutable"),m=a.reduce((b,A,S)=>(p[S]&&b.push({id:A,attr:g[S]}),b),[]),_=o.getBoundingBox(),y=.65*Math.max(_.maxScaledSize,_.maxFixedSize/n.getZoom());let f=_.minX+y,v=_.maxX-y,x=_.minY+y,w=_.maxY-y;return _.width<y*d*2&&(f=_.cx-y*d+y,v=_.cx+y*d-y),_.height<y*c*2&&(x=_.cy-y*c+y,w=_.cy+y*c-y),{sort:!!i,nodes:m,reverse:!!s.reverse,cols:d,rows:c,minX:f,maxX:v,minY:x,maxY:w,rowDistance:u,colDistance:h}},update:function({sort:e,nodes:t,maxX:n,minX:r,maxY:i,minY:s,reverse:o,rows:a,cols:l,rowDistance:c,colDistance:d}){e&&t.sort((y,f)=>{const v=y.attr,x=f.attr;return v<x?-1:v>x?1:0}),o&&t.reverse();let u=(n-r)/(l-1),h=(i-s)/(a-1);const g=r,p=s;isFinite(u)||(u=0),isFinite(h)||(h=0),c!==void 0&&isFinite(c)&&(u=c),d!==void 0&&isFinite(d)&&(h=d);let m=0,_=0;return t.forEach(y=>{y.x=g+m*u,y.y=p+_*h,m+=1,m===l&&(_+=1,m=0)}),t},onSync:function(e){return{indexes:e.map(({id:t})=>t),x:e.map(({x:t})=>t),y:e.map(({y:t})=>t)}}},Y7=e=>(e.modules.layouts.register(z2),(t={})=>e.modules.layouts.start(z2.name,t)),wx={id:"__SENTINEL__",layer:-1,sink:!1,fixed:!1,siblingIndex:-1,parentIds:[],children:[],radius:0,ref:null},vc=e=>e.data===wx||!1,X0=e=>!vc(e),Z7=[],Q7=(e,t)=>({id:e,layer:t,data:wx,children:Z7,ref:void 0,x:0,y:0}),K7=(e,t)=>({id:e,layer:-1,data:t,children:[],x:0,y:0}),O2=class{constructor(e,t,n){this.data=e,this.prev=t,this.next=n}toString(){return this.data}},fM=e=>e.reduce((t,n)=>(t[n]=!0,t),{});function J7(e,t){const n=[e],r=fM(n),i=[e];for(;n.length;){const s=n.shift();for(const o of t[s])r[o]||(r[o]=!0,i.push(o),n.push(o))}return i}function Ex(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[r]=t[r]||[],t[n].push(r),t[r].push(n),t),{})}function eH(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[n].push(r),t),{})}function tH(e,t,n){const r=n||Ex(t||[]);return e.filter(({id:i})=>!(i in r))}function nH(e,t){const n=fM(t);return e.filter(r=>!(r in n))}function Qr(e,t){e.forEach((n,r)=>{n.forEach((i,s,o)=>{t(i,s,o,r)})})}var B2=e=>{let t=Math.floor(e.length/2);return(e=[...e].sort((n,r)=>n-r)).length%2!=0?e[t]:(e[t-1]+e[t])/2};function rH(e,t,n){const r=Ex(t);let i=Object.keys(r);const s=[];for(;i.length;){const o=J7(i[0],r);s.push(o),i=nH(i,o)}return n.skipSingletons?s:s.concat(tH(e,t,r).map(({id:o})=>[o]))}function iH(e,t,n){const r=t.reduce((o,a)=>(o[a.source]=o[a.source]||[],o[a.source].push(a),o),{}),{result:i}=e.reduce(function o(a,l){const{visited:c,stack:d,result:u}=a;if(c[l.id])return a;c[l.id]=d[l.id]=1;const h=r[l.id]||[];for(const g of h)d[g.target]?u.push(g):o(a,n[g.target]);return delete d[l.id],a},{visited:{},stack:{},result:[]}),s=i.reduce((o,{source:a,target:l})=>(o[a]=o[a]||{},o[a][l]=1,o),{});return t.map(o=>{const{source:a,target:l,id:c}=o;return s[a]&&s[a][l]?{id:c,source:l,target:a}:o})}function sH(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort((o,a)=>a.h-o.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,s=0;for(const o of e)for(let a=r.length-1;a>=0;a--){const l=r[a];if(!(o.w>l.w||o.h>l.h)){if(o.x=l.x,o.y=l.y,s=Math.max(s,o.y+o.h),i=Math.max(i,o.x+o.w),o.w===l.w&&o.h===l.h){const c=r.pop();a<r.length&&(r[a]=c)}else o.h===l.h?(l.x+=o.w,l.w-=o.w):o.w===l.w?(l.y+=o.h,l.h-=o.h):(r.push({x:l.x+o.w,y:l.y,w:l.w-o.w,h:o.h}),l.y+=o.h,l.h-=o.h);break}}return{w:i,h:s,fill:t/(i*s)||0}}var oH={down:()=>{},up:e=>e.y=-e.y,left:e=>{const t=e.x;e.x=-e.y,e.y=t},right:e=>{const t=e.x;e.x=e.y,e.y=-t}},Ff=(e,t)=>isFinite(e)&&e>0?e:t;function aH(e){return{nodesSeparation:Ff(e.nodesSeparation,0),componentsSeparation:Ff(e.componentsSeparation,25),layerSeparation:Ff(e.layerSeparation,50)}}function lH(e,{componentsSeparation:t,layerSeparation:n,packing:r}){const i=n/2,s=[];for(const o of e){const a=o.nodes;if(o.isFake&&o.w!==void 0&&o.h!==void 0){s.push({w:o.w,h:o.h,x:void 0,y:void 0,dag:o});continue}if(o.nodes.length===1){const g=2*a[0].data.radius;s.push({w:g+t,h:g+i,x:void 0,y:void 0,dag:o});continue}const l=a.reduce((g,{x:p,data:m})=>Math.min(g,p-m.radius||1),1/0),c=a.reduce((g,{x:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),d=a.reduce((g,{y:p,data:m})=>Math.min(g,p-m.radius||1),1/0),u=a.reduce((g,{y:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),h=(c+l)/2;a.forEach(g=>{g.x-=h}),s.push({w:Math.abs(c-l)+t,h:Math.abs(u-d)+i,minX:l,x:void 0,y:void 0,dag:o})}if(r!=="singleline")sH(s);else{let o=0;for(const a of s)a.x=o,a.y=0,o+=a.w}return s}function cH(e,t={}){const{componentsSeparation:n,layerSeparation:r}=aH(t);t.direction===void 0&&(t.direction="down");const i=lH(e,{layerSeparation:r,componentsSeparation:n,packing:t.packing});for(const s of i){const{x:o=0,y:a=0,w:l,dag:c}=s;for(const d of c.nodes)d.x+=o+l/2,d.y+=a,oH[t.direction](d)}}var dH=e=>e.reduce((t,{radius:n})=>Math.max(t,2*n),0);function uH(e,t){return we({nodes:e.map(n=>vt(we({},n),{data:n})),isFake:!0},t)}function hH(e,t,n){const r=Ex(t||[]),i=e.filter(({id:g})=>!(g in r)).sort((g,p)=>p.radius-g.radius),s=Math.sqrt(i.length);let o=Math.floor(s),a=Math.ceil(s);o*a<i.length&&(o<a?o++:a++);const l=Math.max(1,dH(i)),c=Math.max(n.nodesGridSeparation||0,1),d=l*a+c*(a-1),u=l*o+c*Math.max(o-1,0),h=uH(i,{w:d,h:u});return h.nodes.forEach((g,p)=>{const m=p%a,_=Math.floor(p/a);g.x=d*m/a,g.y=u*_/o}),h}function gH(e){if(!e||!e.length)throw Error("Cannot stratify empty data");for(const i of e){if(!i)throw Error('Node data is "null"');if(i.id==null)throw Error('Node id contains a "null" value')}const t=e.map(i=>K7(i.id,i)),n=t.reduce((i,s)=>{if(i[s.id])throw Error(`The connected component contains id duplicates: ${s.id}`);return i[s.id]=s,i},{}),r=[];for(const i of t){for(const s of i.data.parentIds){const o=n[s];if(!o)throw Error(`The node ${i.id} has a missing parent id ${s}`);o.children.push(i)}i.data.parentIds.length||r.push(i)}return{isFake:!1,nodes:pH(r)}}function pH(e){const t={},n=[];for(;e.length;){const r=e.pop();t[r.id]||(n.push(r),t[r.id]=!0,e.push(...r.children))}return n}function mH(e){if(e.sort((r,i)=>r-i),e.length===0)return 0;const t=Math.floor(e.length/2),n=Math.floor(e.length/2);return(e[t]+e[n])/2}function Y0(e,t,n){const r={};return t.forEach((i,s)=>r[i.id]=s),e.map(i=>(n[i.id]||[]).map(s=>r[s]).sort()).reduce((i,s,o,a)=>{const l=s.length?s[s.length-1]:-1;for(let c=o+1;c<a.length;c++)i+=a[c].filter(d=>d<l).length;return i},0)}function fH(e,t,n,r,i){const s={};for(let o=0;o<e.length;o++)s[e[o].id]=mH((t[e[o].id]||[]).map(a=>n[a]))||0;i?e.sort((o,a)=>{const l=s[o.id]-s[a.id],c=r[o.id]===r[a.id],d=o.data.siblingIndex,u=a.data.siblingIndex;return c&&d>-1&&u>-1?d-u:l===0?n[a.id]-n[o.id]:l}):e.sort((o,a)=>{const l=s[o.id]-s[a.id];return l===0?n[a.id]-n[o.id]:l})}function j2({layers:e,topDown:t,topDownAdj:n,bottomUpAdj:r,idToIndex:i,crossings:s,sortSiblings:o}){const a=t?n:r;for(let l=t?0:e.length-1;t?l<e.length:l>=0;t?l++:l--){fH(e[l],a[l]||{},i,r[l],o);const c=l>0?Y0(e[l-1],e[l],n[l-1]):0,d=l<e.length-1?Y0(e[l],e[l+1],n[l]):0;d+c<(s[l]||0)+(s[l-1]||0)?(s[l]=d,l>0&&(s[l-1]=c),e[l].forEach((u,h)=>i[u.id]=h)):e[l].sort((u,h)=>i[u.id]-i[h.id])}}var _H=(e,t,n)=>{if(!n&&!t)return;const r={},i=e.map(()=>({})),s=e.map(()=>({}));e.forEach((c,d)=>{c.forEach((u,h)=>{r[u.id]=n?u.data.siblingIndex:h,u.children.forEach(g=>{const p=g.layer;p>d?(i[d][u.id]=i[d][u.id]||[],i[d][u.id].push(g.id),s[p][g.id]=s[p][g.id]||[],s[p][g.id].push(u.id)):(i[p][g.id]=i[p][g.id]||[],i[p][g.id].push(u.id),s[d][u.id]=s[d][u.id]||[],s[d][u.id].push(g.id))})})}),r[-1]=-1,n&&e.forEach(c=>c.sort((d,u)=>r[d.id]-r[u.id]));const o=e.slice(1).map((c,d)=>Y0(e[d],c,i[d])),a=Math.max(...e.map(c=>c.length)),l=[[50,100],[100,10],[1e3,1],[5e3,0]].find(([c])=>a<c)[1];for(let c=0;c<l;c++)j2({layers:e,topDown:!0,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n}),j2({layers:e,topDown:!1,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n})};function yH(e){const t=e.nodes.reduce((n,r)=>r.data.fixed&&(n===null||n.layer>r.layer)?r:n,null);return t&&e.nodes.forEach(n=>n.ref=t.id),e}function vH(e){const t={},n={},r={};e.nodes.forEach(o=>{r[o.id]=o});const i=o=>{if(t[o.id])return n[o.id];t[o.id]=!0;let a=1/0;for(const l of o.children)a=Math.min(a,i(r[l.id])-1);return a===1/0&&(a=0),n[o.id]=a,a};e.nodes.forEach(o=>{o.data.parentIds.length===0&&i(o)});let s=1/0;e.nodes.forEach(o=>{s=Math.min(s,n[o.id])}),e.nodes.forEach(o=>{n[o.id]-=s,o.layer=n[o.id]})}function xH(e){e.nodes.forEach(t=>{t.layer=t.data.layer!=null?t.data.layer:t.layer})}function bH(e){if(e.nodes.every(t=>t.layer)){let t=e.nodes.reduce((n,r)=>Math.min(n,r.layer),1/0);e.nodes.forEach(n=>n.layer-=t)}}function wH(e){const t={};e.nodes.forEach(s=>{t[s.id]=[...t[s.id]||[],...s.children],s.children.forEach(o=>{t[o.id]=[...t[o.id]||[],s]})});const n=[];e.nodes.forEach(s=>{s.layer===0&&n.push(s)});const r={},i={};for(e.nodes.forEach(s=>{s.layer!==-1&&(i[s.id]=s.layer)});n.length;){const s=n.shift().id;for(const o of t[s])if(!r[o.id]){if(i[o.id]===void 0){const a=i[s]+1;i[o.id]=a,o.layer=a}r[o.id]=!0,n.push(o)}}}function EH(e){if(e.nodes.some(t=>t.data.sink)){const t=e.nodes.reduce((n,r)=>Math.max(n,r.layer),-1/0);e.nodes.forEach(n=>{n.data.sink&&(n.layer=t+1)})}}function SH(e){const t=[];e.nodes.forEach(r=>t[r.layer]=0);const n=Array.from(t).reduce((r,i,s)=>{if(s===0)return r.push(0),r;const o=r[s-1];return i!==void 0?(r.push(o),r):(r.push(o-1),r)},[]);e.nodes.forEach(r=>r.layer+=n[r.layer])}function AH(e){if(e.nodes.some(t=>"layer"in t.data&&t.data.layer<0))throw new Error("Some nodes have negative layering information");return e.nodes.some(t=>t.data&&!isNaN(t.data.layer)&&t.data.layer!==null)||vH(e),xH(e),wH(e),EH(e),bH(e),SH(e),e.nodes.forEach(t=>{const{below:n,above:r}=t.children.reduce((i,s)=>(t.layer>s.layer?i.above.push(s):i.below.push(s),i),{above:[],below:[]});r.forEach(i=>i.children.push(t)),t.children=n}),yH(e)}var CH=class{constructor(){this.byId={},this.byIndex={},this.length=0}append(e,t){let n;return this.head?(n=new O2(e,this.tail),this.tail=this.tail.next=n):(n=new O2(e),this.tail=this.head=n),this.byId[t]=n,this.byIndex[this.length++]=n,n}find(e){let t=this.head;do{if(t.data===e)return t;t=t.next}while(t)}forEach(e){let t=this.head,n=0;do e(t,n),n++;while(t=t.next)}},Kr=-1,pn=1e-5,Rf=[],kH=class{constructor(e,t,n){this.edges=[],this.nodeMap={},this.nodeIndexTopDown={},this.nodeToLayer={},this.longEdges={},this.virt={},this.height={},this.breadth={},this.first=[],this.totalW={},this.mDist={},this.X={},this.block={},this.nodeList=new CH,this.nodeDistance=t,this.layerDistance=n,this.layers=e;const{breadth:r,virt:i,height:s,nodeToLayer:o,nodeIndexTopDown:a,nodeMap:l,longEdges:c,edges:d}=this;let u=0;Qr(this.layers,(m,_,y,f)=>{if(a[m.id]=u++,l[m.id]=m,o[m.id]=f,this.nodeList.append(m,m.id),m.children.forEach(x=>{const w=vc(x)||vc(m);d.push({source:m.id,target:x.id,virtual:w,id:d.length})}),c[m.id])return;const v=[m.id];if(c[m.id]=v,!X0(m))for(let x=0;x<m.children.length;x++){const w=m.children[x];if(X0(w))continue;let b=w;for(;vc(b);)v.push(b.id),c[b.id]=v,b=b.children[0]}});const h=this.adjacencyList=eH(d);this.N=e.reduce((m,_)=>m+_.length,0),this.Y=new Float32Array(e.length),this.first=e.map(m=>m[0]),e.forEach((m,_)=>s[_]=0),Qr(this.layers,(m,_,y,f)=>{const v=h[m.id]?h[m.id].length:0;i[m.id]=vc(m)&&v===1,this.nodeToLayer[m.id]=f,i[m.id]?r[m.id]=0:(r[m.id]=2*m.data.radius,s[f]=Math.max(s[f]||0,2*m.data.radius))});const g={},p={};d.forEach(m=>{const _=m.source,y=m.target;g[y]=g[y]||[],g[y].push(_),p[_]=p[_]||[],p[_].push(y)}),Object.values(g).forEach(m=>{m.sort((_,y)=>this.nodeIndexTopDown[_]-this.nodeIndexTopDown[y])}),Object.values(p).forEach(m=>{m.sort((_,y)=>this.nodeIndexTopDown[_]-this.nodeIndexTopDown[y])}),this.neighbours={prev:g,next:p}}computeMinNodeDistances(){const{layers:e,totalW:t}=this;Qr(e,n=>{t[n.id]=0}),Qr(e,n=>t[n.data.id]=0),this.layers.forEach(n=>{t[n[0].id]=0,n.slice(1).forEach((r,i)=>{const s=n[i],o=r.id;t[o]=t[s.id]+s.data.radius+r.data.radius+this.nodeDistance})})}decrossVirtualEdges(){this.layers.forEach(e=>{let t=-1;e.forEach(n=>{if(!this.virt[n.id])return;const r=this.neighbours.next[n.id][0];if(this.virt[r])if(t!==-1&&t>this.nodeIndexTopDown[r]){const i=this.longEdges[n.id];let s=0;for(s=0;s<i.length&&i[s]!==r;s++);const o=i.slice(s);o.forEach(l=>this.longEdges[l]=o);const a=i.slice(0,s);a.forEach(l=>this.longEdges[l]=a)}else t=this.nodeIndexTopDown[r]})})}placeLongEdges(){const{X:e,layers:t}=this;Qr(t,n=>e[n.id]=0);for(let n=1;n>=-1;n-=2){const r={};let i=0;const s={};Qr(t,c=>s[c.id]=0),s[wx.id]=0;const o=n;t.forEach(c=>{let d=o===1?c[0]:c[c.length-1];s[d.id]||(this.longEdges[d.id].forEach(g=>{s[g]=i}),i++);let u=o===1?0:c.length-1,h=u+o;for(;h>=0&&h<c.length;)d=c[h],s[d.id]||this.longEdges[d.id].forEach(g=>{s[g]=s[c[u].id]}),u=h,h+=o});const a={};t.forEach(c=>{for(let d=o===1?0:c.length-1;o===1?d<c.length:d>=0;d+=o){const u=c[d],h=s[u.id];a[h]=a[h]||[],a[h].push(u.id)}});const l={};this.nodeList.forEach(c=>l[c.data.id]=0);for(let c=0;c<i;c++){const d={done:!1,dist:0},u=a[c];for(const h of u)this.sortLongEdges(h,n,l,d,s,r);if(!d.done){const h=this.layers[this.nodeToLayer[a[c][0]]],g=[];h.forEach(p=>{for(const m of this.neighbours.prev[p.id]||Rf){const _=Math.abs(l[m]-l[p.id]);g.push(_)}}),g.length!==0&&(d.dist=B2(g))}for(const h of u)l[h]-=n*d.dist}Qr(t,c=>e[c.id]+=l[c.id]/2)}}sortLongEdges(e,t,n,r,i,s){if(s[e])return!1;let o=!1,a=0;const{nodeToLayer:l,totalW:c}=this,d=this.longEdges[e];d.forEach(u=>s[u]=!0),d.forEach(u=>{const h=this.nodeList.byIndex[this.nodeIndexTopDown[u]-t];if(!h)return;const g=h.data.id,p=u,m=l[g]===l[p],_=i[g]===i[p];!m||!_||(this.sortLongEdges(g,t,n,r,i,s),(!o||t*(a-n[g])<t*(c[p]-c[g]))&&(o=!0,a=n[g]+c[p]-c[g]))}),d.forEach(u=>{n[u]=a;const h=this.nodeList.byId[u],g=t===1?h.next:h.prev;if(!g)return;const p=g.data.id,m=u,_=l[p]===l[m],y=i[p]!==i[m],f=t*(c[p]-c[m]-n[p]+n[m]);_&&y&&(!r.done||f>r.dist)&&(r.dist=f,r.done=!0)})}placeNonVirtualNodes(){const e={};Qr(this.layers,l=>e[l.id]=-1);const{X:t,totalW:n,virt:r,nodeIndexTopDown:i,mDist:s,nodeList:o}=this,a={};Qr(this.layers,(l,c,d,u)=>{if(!r[l.id])return void(a[l.id]=!1);let h=this.nodeList.byId[l.id].next;for(;h&&this.nodeToLayer[h.data.id]===u&&!r[h.data.id];)h=h.next;a[l.id]=this.nodeToLayer[h.data.id]===u&&t[h.data.id]-t[l.id]<n[h.data.id]-n[l.id]+pn}),Qr(this.layers,({id:l})=>{a[l]&&e[l]===-1&&this.longEdges[l].forEach(c=>{c!==l&&(e[c]=i[c]<i[l]?1:0)})}),Qr(this.layers,({id:l})=>s[l]=n[l]);for(let l=0;l<2;l++)for(let c=l?this.layers.length-1:0;c>=0&&c<this.layers.length;l?c--:c++){let d=Kr;const u=this.layers[c];if(u.forEach(({id:h},g,p)=>{if(r[h]){if(d===Kr){this.placeSequence(Kr,h,p[0].id,o.byId[h].prev.data.id,l);for(let m=0;m<g;m++){const _=p[m].id;s[_]=s[h]-t[h]+t[_]}}else if(e[d]!==1-l){a[d]||this.placeSequence(d,h,o.byId[d].next.data.id,o.byId[h].prev.data.id,l);const m=l===1?this.neighbours.prev:this.neighbours.next,_=m[d][0],y=m[h][0];if(r[_]&&r[y])for(let f=i[_]+1;f<i[y];f++)e[o.byIndex[f].data.id]=l}d=h}}),d===Kr)this.placeSequence(Kr,Kr,u[0].id,u[u.length-1].id,l),u.forEach(({id:h})=>s[h]=t[h]);else{this.placeSequence(d,Kr,o.byId[d].next.data.id,u[u.length-1].id,l);for(let h=u.length-1;h>=0;h--){const g=u[h].id;if(g===d)break;s[g]=s[d]-t[d]+t[g]}}}}placeSequence(e,t,n,r,i,s=0){const o=this.nodeIndexTopDown[n],a=this.nodeIndexTopDown[r],{X:l,nodeIndexTopDown:c,mDist:d}=this;if(o===a)l[n]=this.placeNode(n,e,t,l[n],i);else if(o<a){const u=Math.floor((c[n]+c[r])/2),h=this.nodeList.byIndex[u],g=h.next.data.id,p=d[g]-d[h.data.id];this.placeSequence(e,t,n,h.data.id,i,s+1),this.placeSequence(e,t,g,r,i,s+1),this.combineSequences(e,t,n,r,g,h.data.id,i,p)}}calculateBends(e,t,n,r,i,s,o,a){let l=0;const c=[],{X:d,mDist:u,neighbours:h}=this,g=this.nodeIndexTopDown[n],p=this.nodeIndexTopDown[r];for(let m=this.nodeList.byId[s],_=this.nodeIndexTopDown[m.data.id];_>=g&&_<=p&&m;m=e===-1?m.prev:m.next,_=m&&this.nodeIndexTopDown[m.data.id]){const y=m.data.id,f=(t===0?h.prev[y]:h.next[y])||Rf;let v=0;for(const w of f)if(e*(d[w]-d[y])<pn)v++;else{v--;const b=d[w]+u[s]-u[y];e*(d[s]-b)>-pn?l++:(a===Kr||e*(b-d[a]+u[a]-u[s])<pn)&&e*(b-d[i])<o-pn&&c.push({value:2,key:b})}const x=d[y]+u[s]-u[y];e*(d[s]-x)>-pn?l+=v:(a===Kr||e*(x-d[a]+u[a]-u[s])<pn)&&e*(x-d[i])<o-pn&&c.push({value:v,key:x})}return a!==Kr&&c.push({value:this.edges.length,key:d[a]-u[a]+u[s]}),c.sort(({key:m},{key:_})=>m-_),{res:l,bends:c.reduce((m,_,y)=>{if(y<c.length-1){const f=c[y+1];Math.abs(_.key-f.key)>pn?_.value>0&&m.push(_):_.value+=f.value}else _.value>0&&m.push(_);return m},[])}}combineSequences(e,t,n,r,i,s,o,a){const{X:l,mDist:c,nodeIndexTopDown:d}=this;let{res:u,bends:h}=this.calculateBends(-1,o,n,r,i,s,a,e),{res:g,bends:p}=this.calculateBends(1,o,n,r,s,i,a,t);for(h.length>0&&h.reverse();l[i]-l[s]<a-pn;){let y=0,f=0;if(u<g){const v=h.length;if(v>0){const x=h.pop();y=x.value,l[s]=x.key}(v===0||l[i]-l[s]>a+pn)&&(l[s]=l[i]-a)}else if(u>g){const v=p.length;if(v>0){const x=p.pop();f=x.value,l[i]=x.key}(v===0||l[i]-l[s]>a+pn)&&(l[i]=l[s]+a)}else{let v=(a-l[i]+l[s])/2;const x=h.length===0?v+1:l[s]-h[h.length-1].key,w=p.length===0?v+1:p[p.length-1].key-l[i];x<v+pn&&x<w+pn&&(y=h.pop().value),w<v+pn&&w<x+pn&&(f=p.pop().value),v=Math.min(v,x,w),l[s]-=v,l[i]+=v}u+=y,g+=f}let m,_=this.nodeList.byId[s].prev;for(;_&&d[m=_.data.id]>=d[n]&&l[s]-l[m]<c[s]-c[m];)l[m]=l[s]-c[s]+c[m],_=_.prev;for(_=this.nodeList.byId[i].next;_&&d[m=_.data.id]<=d[r]&&l[i]-l[m]>c[i]-c[m];)l[m]=l[i]-c[i]+c[m],_=_.next}placeNode(e,t,n,r,i){const{X:s,neighbours:o,mDist:a}=this,l=((i===0?o.prev:o.next)[e]||Rf).map(c=>s[c]);return l.length===0?s[e]:(r=B2(l),t!==Kr&&(r=Math.max(r,s[t]+a[e]-a[t])),n!==Kr&&(r=Math.min(r,s[n]+a[e]-a[n])),r)}moveLongEdge(e,t,n){const{X:r,virt:i,totalW:s,nodeList:o}=this,{id:a}=e.data;if(n[a]||!i[a])return;const l=this.longEdges[a];if(!l)return;l.forEach(m=>n[m]=!0);const c=l[0],d=l[l.length-1],u=[];t<0?u.push(r[c]<r[d]?r[c]:r[d],r[c]<r[d]?r[d]:r[c]):t>0?u.push(r[c]<r[d]?r[d]:r[c],r[c]<r[d]?r[c]:r[d]):u.push(r[c],r[d]);let h,g=u[0],p=!1;for(;!p&&u.length!==0;)h=u.pop(),p=!0,l.forEach(m=>{const _=this.layers[this.nodeToLayer[m]];if(m!==_[0].id){const y=o.byId[m].prev.data;h-r[y.data.id]<s[m]-s[y.data.id]&&this.moveLongEdge(y,-1,n),p=p&&h-r[y.data.id]>=s[m]-s[y.data.id]-pn}if(m!==_[_.length-1].id){const y=o.byId[m].next.data;h-r[y.data.id]>s[m]-s[y.data.id]&&this.moveLongEdge(y,1,n),p=p&&h-r[y.data.id]<=s[m]-s[y.data.id]+pn}});p||(h=g,l.forEach(m=>{const _=this.layers[this.nodeToLayer[m]];if(m!==_[0].id){const y=o.byId[m].prev.data;h=Math.max(h,r[y.data.id]+s[m]-s[y.data.id])}if(m!==_[_.length-1].id){const y=o.byId[m].next.data;h=Math.min(h,r[y.data.id]+s[m]-s[y.data.id])}})),l.forEach(m=>r[m]=h)}moveLongEdges(){const e={};this.layers.forEach(t=>{const n=Math.floor(t.length/2);for(let r=n;r<t.length;r++)this.moveLongEdge(t[r],0,e);for(let r=n-1;r>=0;r--)this.moveLongEdge(t[r],0,e)})}computeY(){const{Y:e,layers:t,height:n}=this;e[0]=0,t.slice(1).forEach((r,i)=>{e[i+1]=e[i]+n[i+1]+this.layerDistance})}straightenLongEdge(e,t){const{nodeList:n,longEdges:r,neighbours:i,X:s,Y:o,nodeToLayer:a,totalW:l}=this,c=r[e.id];if(t[e.id]||!i.prev[e.id]||i.prev[e.id].length!==1||!i.next[e.id]||i.next[e.id].length!==1||!(c&&c.length<2))return;t[e.id]=!0;const d=i.prev[e.id][0],u=i.next[e.id][0];if(a[u]===a[d])return;let h=s[d]+(s[u]-s[d])*(o[a[e.id]]-o[a[d]])/(o[a[u]]-o[a[d]]);if(e!==this.first[a[e.id]]){const p=n.byId[e.id].prev.data;if(h-s[p.id]<l[e.id]-l[p.id]-pn&&this.straightenLongEdge(p,t),h-s[p.id]<l[e.id]-l[p.id]-pn)return}const g=this.layers[a[e.id]];if(e!==g[g.length-1]){const p=n.byId[e.id].next.data;if(s[p.id]-h<l[p.id]-l[e.id]-pn&&this.straightenLongEdge(p,t),s[p.id]-h<l[p.id]-l[e.id]-pn)return}s[e.id]=h}straightenEdges(){const e={};this.layers.forEach(t=>{const n=Math.floor(t.length/2);for(let r=n;r<t.length;r++)this.straightenLongEdge(t[r],e);for(let r=n-1;r>=0;r--)this.straightenLongEdge(t[r],e)})}run(){this.computeMinNodeDistances(),this.decrossVirtualEdges(),this.placeLongEdges(),this.placeNonVirtualNodes(),this.moveLongEdges(),this.computeY(),this.straightenEdges(),Qr(this.layers,(e,t,n,r)=>{e.x=this.X[e.id],e.y=this.Y[r]})}},TH=(e,t=20,n=50)=>new kH(e,t,n).run(),LH=(e,{nodeDistance:t,layerDistance:n,nodeLookup:r,customSort:i,sortSiblings:s,shouldDecross:o=!0})=>{AH(e);const a=NH(e);return e.nodes.length>1?(_H(a,o,s),i&&a.forEach(l=>{l.sort((c,d)=>i(r[c.id],r[d.id]))}),TH(a,t,n)):(e.nodes[0].x=0,e.nodes[0].y=0),IH(e),e};function NH(e){return e.nodes.reduce((t,n)=>(t[n.layer]=t[n.layer]||[],t[n.layer].push(n),n.children=n.children.map(r=>{if(r.layer===n.layer+1)return r;let i=r;for(let s=r.layer-1;s>n.layer;s--){const o=Q7(`${n.id}->${r.id}@${s}`,s);o.children=[i],t[s]=t[s]||[],t[s].push(o),i=o}return i}),t),[])}function IH(e){e.nodes.forEach(t=>{t.data&&(t.children=t.children.filter(X0))})}var Df=({id:e,layer:t,sink:n,siblingIndex:r,radius:i,layoutable:s})=>({id:e,layer:t!==void 0?t:void 0,sink:n,siblingIndex:r||0,radius:i||0,fixed:s===!1,parentIds:[],children:[],ref:null});function PH(e){const t={x:0,y:0};let n=0;for(const r of e)for(const i of r.nodes)t.x+=i.x||0,t.y+=i.y||0,n++;return t.x/=n,t.y/=n,t}function MH(e){const t={x:0,y:0};let n=0;for(const r in e)t.x+=e[r].x||0,t.y+=e[r].y||0,n++;return t.x/=n,t.y/=n,t}function FH(e,t,n){const r=PH(n),i=e.x-r.x,s=e.y-r.y;for(const o of n)for(const a of o.nodes){const l=t[a.id];!l||a.data&&a.data.fixed||(l.x=a.x+i,l.y=a.y+s)}}var RH=(e,t={})=>{const n=(e.edges||[]).filter(({source:l,target:c})=>l!==c),r={},i=new Map;for(const l of e.nodes)r[l.id]=l;const s=iH(e.nodes,n,r).filter(l=>{const c=i.get(l.source);if(!c){const d=new Map;return d.set(l.target,!0),i.set(l.source,d),!0}return!c.get(l.target)&&(c.set(l.target,!0),!0)}),o=rH(e.nodes,s,{skipSingletons:t.packing==="grid"}),a=s.reduce((l,c)=>(l[c.source]||(l[c.source]=Df(r[c.source])),l[c.target]||(l[c.target]=Df(r[c.target])),l[c.target].children.push(c.source),l[c.target].parentIds.push(c.source),l),{});return{components:o.map(l=>l.map(c=>a[c]||Df(r[c]))),lookup:r}};function DH(e,t,n){const r=[];for(const i of e){const s=gH(i);r.push(s),LH(s,{nodeDistance:n.nodesSeparation,layerDistance:n.layerSeparation,shouldDecross:n.shouldDecross,customSort:n.customSort,sortSiblings:!!n.sortSiblings,nodeLookup:t})}return r}var $2=(e,t={})=>{if(!e||!e.nodes)return e;const n=vt(we({direction:"down",packing:"fit",nodesGridSeparation:1},t),{shouldDecross:t.shouldDecross!==!1}),{components:r,lookup:i}=RH(e,n),s=MH(i),o=DH(r,i,n);if(n.packing==="grid"){const a=hH(e.nodes,e.edges,n);o.push(a)}return cH(o,n),FH(s,i,o),e},zf={direction:"TB",nodeDistance:5,levelDistance:50,componentDistance:50,gapWidth:1,arrangeComponents:"fit",gridDistance:50,layer:"layer",siblingIndex:""},Z0={name:"hierarchical",imports:{sequential:$2},configure:function(e,{graph:t,data:n}){function r(f,v,x=f.getNodes()){return v?v instanceof xs?v:f.getNodes(v):x}const i=vt(we(we({},zf),e),{nodeList:e.nodes});i.direction=e.direction||zf.direction,i.layerSeparation=i.levelDistance,i.nodesSeparation=i.nodeDistance,i.componentsSeparation=i.componentDistance,i.gapDistance=i.gapWidth,i.packing=i.arrangeComponents;const s=we({},i),o=i.edges,a=i.nodeList;if(["TB","BT","LR","RL"].indexOf(i.direction)===-1)throw new Error('direction should be one of the "TB", "BT", "LR", "RL"');if(["fit","grid","singleLine"].indexOf(i.packing)===-1)throw new Error('arrangeComponents should be one of the "fit", "grid", "singleLine"');i.nodesGridSeparation=e.gridDistance||zf.gridDistance;const l=a.getId(),c=a.getAttribute("layoutable").reduce((f,v,x)=>(f[l[x]]=v,f),{}),d=a.getAttributes(["x","y"]).reduce((f,v,x)=>(f[l[x]]=v,f),{}),u=a.getAttribute("radius");if(typeof s.layer!="string")throw new Error("'layer' should be the valid data field name");if(s.siblingIndex===void 0&&(s.siblingIndex=""),typeof s.siblingIndex!="string")throw new Error("'siblingIndex' should be the valid data field name");const h=r(t,i.roots,t.nodeList()),g=n.getProperty(i.nodeList,s.layer),p=s.siblingIndex.length?n.getProperty(i.nodeList,s.siblingIndex):[],m=h.map(f=>{let v=-1;return i.nodeList.forEach((x,w)=>{x===f&&(v=w)}),v});for(const f of m)g[f]=0;const _=r(t,i.sinks,t.nodeList()).toArray().reduce((f,v)=>(f[v.getId()]=!0,f),{}),y=l.map(f=>_[f]);return{nodes:l,edges:o.map(f=>({id:f.getId(),source:f.getSource().getId(),target:f.getTarget().getId()})),options:Op(i),layoutable:c,radiuses:u,siblingIndexes:p,layers:g,sinks:y,coords:d}},context:ft,update:function({nodes:e,edges:t,options:n,layoutable:r,radiuses:i,layers:s,siblingIndexes:o,sinks:a,coords:l}){const c=t.filter(({source:h,target:g})=>h in r&&g in r),d={nodes:e.map((h,g)=>({id:h,radius:i[g],layer:s[g],siblingIndex:o[g],sink:a[g],layoutable:r[h],x:l[h].x,y:l[h].y})),edges:c},{nodes:u}=$2(d,{packing:{fit:"fit",singleLine:"singleline",grid:"grid"}[n.arrangeComponents],direction:{TB:"down",BT:"up",RL:"left",LR:"right"}[n.direction],layerSeparation:n.layerSeparation,nodesSeparation:n.nodesSeparation,sortSiblings:o.length>0,componentsSeparation:n.componentsSeparation,nodesGridSeparation:n.nodesGridSeparation,evenDistribution:n.evenDistribution});return{positions:u}},isRunning:function(){return!1},onSync:function({positions:e},{graph:t}){return{indexes:e.map(({id:n})=>(t.getNode(n)||{_index:-1})._index),x:e.map(({x:n})=>n),y:e.map(({y:n})=>n)}}},zH=e=>(e.modules.layouts.register(Z0),(t={})=>(t.useWebWorker=!1,e.modules.layouts.start(Z0.name,t))),Q0=(e,t)=>e-t,U2={name:"radial",imports:{minHeap:Ev,bellmanFord:Sv,dijkstra:Av,johnson:e0,distance:_n,circleCircleIntersection:jv,circleSortCompare:$v,weightedStress:$T,distanceStress:UT,constrainedStress:K_,stressMinimizationStep:J_,removeRadialOverlap:y0,linear:jg,calculateRadii:cE},configure(e,{graph:t}){let n=e.nodes;const r=n.size;function i(b,A){return b!=null&&isFinite(b)?b:A}if(e.centralNode===void 0)throw new Error('radial layout: missing parameter "centralNode"');const s=t.getNode(e.centralNode);if(s===void 0)throw new Error('radial layout: parameter "centralNode" is not valid');e.radiusRatio=i(e.radiusRatio,Math.SQRT2),e.radiusDelta=i(e.radiusDelta,0),e.nodeGap=i(e.nodeGap,10),e.repulsion=r*i(e.repulsion,1);const o=s.getPosition(),a=i(e.centerX,o.x),l=i(e.centerY,o.y),c=s._index;n.includes(s)||(n=n.concat(s.toList()));let d=n._indexes;const u=n.getAttribute("layoutable");d=d.filter((b,A)=>u[A]||b===c),d.sort(Q0);const h=d.length,g=OH(d,t.getConnectedComponents(n,{internalIndexes:!0}),c),p=t.degrees(d),m=new Float32Array(t.getNodeAttribute("x").getMultiple(d)),_=new Float32Array(t.getNodeAttribute("y").getMultiple(d)),y=t.getNodeAttribute("radius").getMultiple(d),f=t.getEdges()._indexes,v=t.getEdgeAttribute("source").getMultiple(f),x=t.getEdgeAttribute("target").getMultiple(f),w=t.getAdjacencyList({internalIndexes:!0,weight:1,indexes:d});return{centerIndex:c,centerIndexPos:0,cx:a,cy:l,D:null,indexes:d,components:g,normIndexes:null,radii:null,rings:null,x:m,y:_,degree:p,size:h,attributes:{size:y,adjacency:w,weights:x.map(()=>1),sources:v,targets:x},sortAttr:null,allowOverlap:!!e.allowOverlap,nodeGap:e.nodeGap,radiusRatio:e.radiusRatio,radiusDelta:e.radiusDelta,repulsion:e.repulsion,randomize:!("randomize"in e)||!!e.randomize,renderSteps:!!e.renderSteps,epsilon:i(e.epsilon,.001),maxSteps:i(e.maxIterations,100),iterationsPerRender:i(e.iterationsPerRender,20),step:-1,stress:Number.POSITIVE_INFINITY,prevStress:0,converged:!1,overlapRemoved:!1,done:!1}},context:()=>({data:null,gridPlacement(e,t,n=8){const r=e.length,i=new Float32Array(r),s=new Float32Array(r);let o=0;for(let h=0,g=e.length;h<g;h++){const p=t[e[h]];p>o&&(o=p)}const a=o*n,l=Math.ceil(Math.sqrt(r)),c=Math.ceil(r/l),d=-Math.floor((c-1)*a/2),u=-Math.floor((l-1)*a/2);for(let h=0;h<l;h++)for(let g=0;g<c;g++)i[h*c+g]=d+g*a,s[h*c+g]=u+h*a;return{x:i,y:s}},connectComponents(e,t,n,r,i,s){let o;function a(l,c){const d=new Uint32Array(l.length+1);return d.set(l),d[l.length]=c,d}for(let l=1;l<e.length;l++){const c=e[l];let d=0,u=0;c.forEach((p,m)=>{const _=i.get(p);_!=null&&_>d&&(u=m,d=_)}),o=c[u];const h=t[s.get(o)];h.weights=h.weights||[],h.nodes=a(h.nodes,n),h.weights.push(r);const g=t[s.get(n)];g.weights=g.weights||[],g.nodes=a(g.nodes,o),g.weights.push(r)}},correctSubgraphsDistances(e,t,n,r,i){const s=Array.prototype.reduce.call(e[n],(a,l,c)=>(c!==n&&l<r&&l>a&&(a=l),a),0),o=r-s-1;for(let a=1;a<t.length;a++){const l=t[a];for(let c=0,d=l.length;c<d;c++){const u=i.get(l[c]);u!=null&&(e[n][u]-=o,e[u][n]-=o)}}},initialize(e,t){e.data=t,t.step=0;const n=new Map,r=new Map;t.normIndexes=t.indexes.reduce((c,d,u)=>(c[u]=u,n.set(d,u),r.set(d,t.degree[u]),e.data&&d===t.centerIndex&&(e.data.centerIndexPos=u),c),new Uint32Array(t.indexes.length));const i=t.centerIndexPos,s=t.components[0].length;e.connectComponents(t.components,t.attributes.adjacency,t.centerIndex,s,r,n);const o=e0({sources:t.attributes.sources,targets:t.attributes.targets,weights:t.attributes.weights,indexes:t.indexes,adjacency:t.attributes.adjacency,undirected:!0});e.correctSubgraphsDistances(o,t.components,i,s,n),t.D=o;const a=o[i],l={};for(let c=0,d=t.normIndexes.length;c<d;c++)if(c!==i){const u=a[c];l[u]=l[u]||[],l[u].push(t.normIndexes[c])}t.rings=l,t.radii=cE(i,t.rings,t.attributes.size,t.nodeGap,t.radiusRatio,t.radiusDelta)},removeOverlaps(e,t){if(!e.data)return;const n=e.data.centerIndexPos,r=t.attributes.size,{rings:i,radii:s}=t,o=t.x[n],a=t.y[n];for(const l in i){const c=i[l];for(let d=0;d<c.length;d++){const u=c[d],h=s[l];let g=t.x[u]-o,p=t.y[u]-a;g+p===0&&(g=Math.sin(u)*Math.random()*.001,p=Math.cos(u)*Math.random()*.001);const m=Math.sqrt(g*g+p*p);if(m-h<0){const _=h/m;t.x[u]=o+g*_,t.y[u]=a+p*_}}}for(const l in i){const c=i[l],d=_n(o,a,t.x[c[0]],t.y[c[0]]);y0({X:t.x,Y:t.y,sizes:r,indexes:c,center:[o,a],R:d,gap:t.nodeGap,inPlace:!0})}}}),update(e,t){e||(e=t.data);const n=e.indexes,r=e.centerIndex;let i;e.x=e.x||new Float32Array(e.size),e.y=e.y||new Float32Array(e.size),e.step===-1&&t.initialize(t,e);const s=e.repulsion,o=a=>e.radii&&e.radii[a]||1;if(e.step===0&&e.randomize&&(i=t.gridPlacement(e.indexes,e.attributes.size),e.x=i.x,e.y=i.y),!e.converged){const a=e.maxSteps,l=e.iterationsPerRender;let c=e.step;const d=Math.min(c+l,a),{D:u,x:h,y:g,size:p,centerIndexPos:m,normIndexes:_}=e;for(;c<=d&&!e.converged;){const y=jg(Math.min(c,a)/a);e.step=c++,i=J_(u,h,g,p,m,s,y,_,o),e.x=i.x,e.y=i.y,e.prevStress=e.stress,e.stress=K_(u,h,g,p,m,s,y,_),e.converged=e.converged||Math.abs(e.stress-e.prevStress)<=e.epsilon}}if(e.converged)if(e.overlapRemoved||e.allowOverlap){e.done=!0;const a=e.rings||{};e.rings=Object.keys(a).reduce((l,c)=>(l[c]=a[c].map(d=>n[d]),l),{})}else t.removeOverlaps(t,e,r),e.overlapRemoved=!0;return e},isRunning:({data:e})=>!(!e||e.converged&&(e.allowOverlap||e.done))||(e&&(e.step=-1),!1),onSync(e){if(e.renderSteps||e.done)return V2(e)},onEnd:e=>V2(e)};function V2(e){const t=e.x,n=e.y,r=e.indexes.length,i=t[e.centerIndexPos]-e.cx,s=n[e.centerIndexPos]-e.cy;for(let o=0;o<r;o++)t[o]-=i,n[o]-=s;return{indexes:e.indexes,x:t,y:n}}function OH(e,t,n){const r=e.slice().sort(Q0),i=[];for(let s=0,o=t.length;s<o;s++){const a=[],l=t[s];let c=!1;for(let d=0,u=l.length;d<u;d++){const h=l[d];HT(r,h)!==-1&&(h===n&&(c=!0),a.push(h))}a.length!==0&&i[c?"unshift":"push"](a.sort(Q0))}return i}var BH=e=>(e.modules.layouts.register(U2),t=>{if(t.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');if(t.maxIterations=t.maxIterations&&isFinite(t.maxIterations)?Math.floor(t.maxIterations):100,t.maxIterations<1)throw new RangeError("maxIterations must be a positive integer");if(t.iterationsPerRender=t.iterationsPerRender&&isFinite(t.iterationsPerRender)?Math.floor(t.iterationsPerRender):20,t.iterationsPerRender<1)throw new RangeError("iterationsPerRender must be a positive integer");if(t.epsilon=t.epsilon&&isFinite(t.epsilon)?t.epsilon:.001,t.epsilon<=0)throw new RangeError("epsilon has to be a positive number");return e.modules.layouts.start(U2.name,t)}),G2=vt(we({},Z0),{name:"sequential"}),jH=e=>(e.modules.layouts.register(G2),(t={})=>{t.useWebWorker=!1;const n=vt(we({},t),{evenDistribution:!0});return e.modules.layouts.start(G2.name,n)}),$H=class extends Yt{constructor(){super(...arguments),this.watchNodeObjectProperty=e=>this._ogma.modules.watcher.watchNodeObjectProperty(e),this.watchEdgeObjectProperty=e=>this._ogma.modules.watcher.watchEdgeObjectProperty(e),this.watchNodeNonObjectProperty=e=>this._ogma.modules.watcher.watchNodeNonObjectProperty(e),this.watchEdgeNonObjectProperty=e=>this._ogma.modules.watcher.watchEdgeNonObjectProperty(e)}},UH=class extends Yt{constructor(){super(...arguments),this.set=(e,t)=>this._ogma.modules.brand.set(e,t),this.remove=()=>{this._ogma.modules.brand.remove()}}},VH=class extends Yt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.connectNodes.enable(e),this),this.disable=()=>(this._ogma.modules.connectNodes.disable(),this),this.enabled=()=>this._ogma.modules.connectNodes.enabled()}},GH=class extends Yt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.lasso.enable(e),this),this.disable=()=>(this._ogma.modules.lasso.disable(),this),this.enabled=()=>this._ogma.modules.lasso.enabled()}},HH=class extends Yt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.legend.enable(e),this.disable=()=>this._ogma.modules.legend.disable(),this.enabled=()=>this._ogma.modules.legend.enabled(),this.getOptions=()=>this._ogma.modules.legend.getOptions(),this.export=e=>this._ogma.modules.legend.export(e)}},WH=class extends Yt{constructor(){super(...arguments),this.enable=(e={})=>{this._ogma.modules.rectangleSelect.enable(e)},this.disable=()=>{this._ogma.modules.rectangleSelect.disable()},this.enabled=()=>this._ogma.modules.rectangleSelect.enabled()}},qH=class extends Yt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.resizing.enable(e)},this.disable=()=>{this._ogma.modules.resizing.disable()},this.enabled=()=>this._ogma.modules.resizing.enabled()}},XH=class extends Yt{constructor(){super(...arguments),this.enable=(e={})=>{this._ogma.modules.rewiring.enable(e)},this.disable=()=>{this._ogma.modules.rewiring.disable()},this.enabled=()=>this._ogma.modules.rewiring.enabled()}},YH=class extends Yt{constructor(){super(...arguments),this.enable=(e={})=>{this._ogma.modules.snapping.enable(e)},this.disable=()=>{this._ogma.modules.snapping.disable()},this.enabled=()=>this._ogma.modules.snapping.enabled()}},ZH=class extends Yt{constructor(){super(...arguments),this.setZoom=(e,t)=>this._ogma.modules.camera.setZoom(e,t),this.zoomIn=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomIn():this._ogma.modules.camera.zoomIn(e),this.zoomOut=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomOut():this._ogma.modules.camera.zoomOut(e),this.getZoom=()=>this._ogma.modules.camera.getZoom(),this.setCenter=(e,t)=>this._ogma.modules.camera.setCenter(e,t),this.move=(e,t)=>this._ogma.modules.camera.move(e,t),this.moveToBounds=(e,t)=>{if(!(e&&e instanceof Cn)){if(!$n(e)||e.length!==4)throw new Error("ogma.view.zoomToBounds requires a BoundingBox as a parameter");{const[n,r,i,s]=e;e=Cn.from({minX:n,minY:r,maxX:i,maxY:s})}}return this._ogma.modules.camera.moveToBounds(e,t)},this.moveTo=(e,t)=>this._ogma.modules.camera.moveTo(e,t),this.getCenter=()=>this._ogma.modules.camera.getCenter(),this.setAngle=(e,t)=>this._ogma.modules.camera.setAngle(e,t),this.rotate=(e,t)=>this._ogma.modules.camera.rotate(e,t),this.getAngle=()=>this._ogma.modules.camera.getAngle(),this.set=(e,t)=>this._ogma.modules.camera.setView(e,t),this.get=()=>this._ogma.modules.camera.getView(),this.graphToScreenCoordinates=e=>this._ogma.modules.camera.graphToScreenCoordinates(e),this.screenToGraphCoordinates=e=>this._ogma.modules.camera.screenToGraphCoordinates(e),this.getImageData=()=>this._ogma.modules.graphics.getImageData(),this.getElementAt=e=>this._ogma.modules.captor.detectElementAt(e.x,e.y,!1,!0),this.getElementsInView=()=>{const{width:e,height:t}=this.get(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return this._ogma.modules.spatial.query(n.x,n.y,r.x,r.y)},this.getBounds=()=>{const{width:e,height:t}=this.getSize(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return{cx:(n.x+r.x)/2,cy:(n.y+r.y)/2,width:r.x-n.x,height:r.y-n.y,minX:n.x,minY:n.y,maxX:r.x,maxY:r.y}},this.getElementsInside=(e,t,n,r,i=!0)=>{const{spatial:s,camera:o}=this._ogma.modules;if(i){const a=o.graphToScreenCoordinates({x:e,y:t}),l=o.graphToScreenCoordinates({x:n,y:r});return s.queryProjected(a.x,a.y,l.x,l.y)}return s.queryProjected(e,t,n,r)},this.beforeNextFrame=()=>this._ogma.modules.dom.beforeNextFrame(),this.afterNextFrame=()=>this._ogma.modules.dom.afterNextFrame(),this.setFullScreen=e=>this._ogma.modules.dom.setFullScreen(e),this.isFullScreen=()=>this._ogma.modules.dom.isFullScreen(),this.forceResize=()=>this._ogma.modules.dom.forceResize(),this.getSize=()=>this._ogma.modules.dom.getDimensions(),this.setSize=e=>{if(!e||isNaN(e.width)||isNaN(e.height))throw new Error("Size must follow the format { width: number, height: number }");if(e.width<0)throw new Error("width must be positive");if(e.height<0)throw new Error("height must be positive");return this._ogma.modules.dom.setDimensions(e),Promise.resolve()},this.locateGraph=e=>this._ogma.modules.locate.locateGraph(e),this.locateRawGraph=(e,t)=>this._ogma.modules.locate.locateRawGraph(e,t),this.getGraphBoundingBox=({withTexts:e=!1}={})=>this._ogma.modules.locate.getGraphBoundingBox(e),this.animationInProgress=()=>this._ogma.modules.locate.isLocating()||this._ogma.modules.camera.animationInProgress(),this.getTextBoundingBox=e=>{if(!e)throw new Error("ogma.view.getTextBoundingBox: item must be a Node or an Edge");const t=e.getAttribute("text");return t==null||t===""?null:e.isNode?this._ogma.modules.labels.getTextsBoundingBox(e.toList()):this._ogma.modules.labels.getTextsBoundingBox(void 0,e.toList())},this.getNodeBadgeAt=(e,t)=>{if(!e)throw new Error("ogma.view.getNodeBadgeAt: node is not defined");return uI(t,e._index,this._ogma.modules.graphics.getAttributesManager(),this._ogma.modules.camera,this._ogma.modules.graphics.getGraphicsEngine())}}};function Sl(e,t,n){if(e!=null){if(Array.isArray(e))return e[0];if(t&&n){if(e==="source")return Sl(n.color.get(t.getSource()._index));if(e==="target")return Sl(n.color.get(t.getTarget()._index))}return e}}function K0(e){return e==null?null:typeof e=="string"||typeof e=="number"?`${e}`:e&&K0(e.content)}function QH(e){if(e!=null)return typeof e=="string"?e:e.style||"line"}var KH=["color","radius","shape","text.content","x","y"],JH=["color","width","shape.body","text.content"];function e9(e){return e!=="all"?{nodes:["x","y"],edges:[]}:{nodes:KH,edges:JH}}function t9(e,{nodes:t,edges:n}){const r=e.getOriginalAttributes();return{nodes:t.reduce((i,s)=>(i[s.getId()]={x:r.nodes.x.get(s._index),y:r.nodes.y.get(s._index),color:Sl(r.nodes.color.get(s._index)),radius:r.nodes.radius.get(s._index),shape:r.nodes.shape.get(s._index),text:{content:r.nodes.text.content.get(s._index)}},i),{}),edges:n.reduce((i,s)=>(i[s.getId()]={color:Sl(r.edges.color.get(s._index)),width:r.edges.width.get(s._index),shape:{type:r.edges.shape.body.get(s._index)},text:{content:r.edges.text&&r.edges.text.content&&r.edges.text.content.get(s._index)}},i),{})}}function n9(e){return{nodes:e.nodes.map(({id:t,attributes:n={},data:r})=>{const{color:i,radius:s,shape:o,text:a,x:l,y:c}=n;return{id:t,x:l,y:c,color:Sl(i),size:s,shape:o,text:K0(a),data:r}}),edges:e.edges.map(({id:t,source:n,target:r,attributes:i={},data:s})=>{const{color:o,width:a,text:l,shape:c}=i;return{id:t,source:n,target:r,color:Sl(o),size:a,shape:QH(c),text:K0(l),data:s}})}}function H2(e){return e instanceof Hi?e.getId():e}function W2(e){return e instanceof uo?e.getId():e}function q2(e){return e instanceof xs?e.getId():e instanceof Hi?[e.getId()]:$n(e)?e.map(H2):[H2(e)]}function X2(e){return e instanceof ca?e.getId():e instanceof uo?[e.getId()]:$n(e)?e.map(W2):[W2(e)]}var Sx="visible";function r9(e,t){return e?q2(e):typeof t=="object"?q2(t.nodes):t||Sx}function i9(e,t){return e?X2(e):typeof t=="object"?X2(t.edges):t||Sx}function _M(e,t,n,r){const i=r9(t,r),s=i9(n,r);return{nodes:e.getNodes(i),edges:e.getEdges(s)}}function yM(e,{nodeAttributes:t,edgeAttributes:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const l=_M(e,r,i,s);return{nodes:l.nodes.toJSON({attributes:t,data:o}),edges:l.edges.toJSON({attributes:n,data:a})}}function im(e,t,{styles:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const{nodes:l,edges:c}=e9(n),d=yM(e,{nodeAttributes:l,edgeAttributes:c,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a});if(n==="original"){const u=t9(t,_M(e,r,i,s));for(const h of d.nodes)h.id!=null&&(h.attributes=u[h.id]);for(const h of d.edges)h.id!=null&&(h.attributes=u[h.id])}return n==="all"&&d.edges.forEach(({source:u,target:h,attributes:g})=>{if(g){const p=e.getNode(u);if(g.color==="source"&&p){const _=p.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}const m=e.getNode(h);if(g.color==="target"&&m){const _=m.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}}}),n9(d)}function s9(e,t){for(let n=0;n<t.length;++n){if(e==null)return;e=e[t[n]]}return e}function o9(e,t,n){for(let r=0;r<t.length-1;++r){const i=t[r];let s=e[i];s===void 0&&(s={},e[i]=s),e=s}e[t[t.length-1]]=n}function a9(e){const t=we({},e[0]);for(const n of e)for(const r of Object.keys(n))r in t||(t[r]=void 0);return Object.keys(t)}function Y2(e,t){return e==null||Array.isArray(e)&&!e.length?t:e}function l9(e){return typeof e=="string"}function c9(e,t,n,r,i){const s=t==="edges",o={};return e.forEach((a,l)=>{const c=i.get(l),d=xg(Y2(n(c),t));if(!d.every(l9))throw Error(`The tab ${t} function returned an invalid value.`);const u=xg(r(a.data,d));d.forEach((h,g)=>{const p=Y2(u[g],{}),m=$p(we(we({internal___id:a.id},s?{internal___source:a.source,internal___target:a.target}:{}),p)).reduce((_,{path:y,value:f})=>(_[y.join(".")]=f,_),{});o[h]=o[h]||[],o[h].push(m)})}),o}function d9(e){if(!e.length)return[];const t=a9(e),n=[t];for(const r of e)n.push(t.map(i=>r[i]));return n[0]=n[0].map(r=>r.replace("internal___","")),n}function u9(e,t,n){const r=new CL;let i=t?1:3;const s=[];for(let a=0;a<e.length;++a){const l=e[a],c=new Array(i);let d=l.data;if(n){const h={};n.forEach(g=>{const p=ta(g),m=s9(d,p);o9(h,p,m)}),d=h}const u=$p(d);c[0]=l.id,t||(c[1]=l.source,c[2]=l.target);for(let h=0;h<u.length;++h){const{path:g,value:p}=u[h];g.length&&(r.has(g)?c[r.get(g)]=p:(r.set(g,i),c[i]=p,i++))}s.push(c)}const o=[];return o.push("id"),t||(o.push("source"),o.push("target")),r.keys().forEach(a=>o.push(a[a.length-1])),s.unshift(o),s.forEach(a=>a.length=i),s}var h9=/[=+\-@|%]/,g9=e=>e.length>0&&h9.test(e[0])?`'${e=e.replace("|","|")}`:e;function vM(e){return e===void 0?"":e instanceof Date?e.toISOString():g9(""+e)}var p9={what:void 0,dataProperties:void 0,separator:",",textSeparator:'"',download:!0,filename:"graph.csv",filter:"visible",nodes:void 0,edges:void 0,nodeData:Si,edgeData:Si,styles:"none"};function m9(e,t){const{what:n,dataProperties:r,nodes:i,edges:s,separator:o,textSeparator:a,download:l,nodeData:c,edgeData:d,filename:u,filter:h}=qr(typeof t=="string"?{what:t}:t,p9),g=im(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:i,edges:s,filter:h,nodeData:c,edgeData:d});try{const p=f9(g,{what:n,separator:o,textSeparator:a,dataProperties:r});return l&&vo(p,u,"text"),Promise.resolve(p)}catch(p){return Promise.reject(p)}}function f9(e,{what:t,separator:n,textSeparator:r,dataProperties:i}){const s=new RegExp(r,"g");if(r&&r!=='"'&&r!=="'")throw new TypeError(`Invalid argument :"textSeparator" is not single-quote or double-quote, was ${r}`);if(t!=="nodes"&&t!=="edges")throw new TypeError('missing argument: "what": should have value "nodes" or "edges"');const o=t==="nodes";return u9(o?e.nodes:e.edges,o,i).map(a=>a.map(l=>function(d){return r+vM(d).replace(s,`${r}${r}`).replace(/\n/g,"\\n").replace(/\r/g,"")+r}(l))).map(a=>a.join(n)).join(`
`)}var Aa=e=>Math.round(255*e);function Z2(e,t){if(t==="integer"&&typeof e=="number"){if(e%1!=0)return"float"}else if(typeof e!="number")return typeof e=="boolean"?"boolean":"string";return t}var J0=e=>typeof e=="object"&&e!==null&&e.constructor===Object;function ey(e,t={}){return $i(e,(n,r)=>{J0(n)?ey(n,t):t[r]=n}),t}var _9={creator:void 0,description:void 0,styles:"all",download:!0,filename:"graph.gexf",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function y9(e,t={}){const{styles:n,nodes:r,edges:i,download:s,filename:o,creator:a,description:l,filter:c,nodeData:d,edgeData:u}=qr(t,_9),h=v9(im(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{creator:a,description:l});return s&&vo(h,o,"text"),Promise.resolve(h)}function v9(e,t){const n=PL(),r={},i={};let s,o=0,a=0;const l=n.createElement("gexf");l.setAttribute("xmlns","http://www.gexf.net/1.2draft"),l.setAttribute("xmlns:viz","http://www.gexf.net/1.2draft/viz"),l.setAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),l.setAttribute("xsi:schemaLocation","http://www.gexf.net/1.2draft http://www.gexf.net/1.2draft/gexf.xsd"),l.setAttribute("version","1.2");const c=n.createElement("meta");if(c.setAttribute("lastmodifieddate",JT()),t.creator){const m=n.createElement("creator");s=n.createTextNode(""+t.creator),m.appendChild(s),c.appendChild(m)}if(t.description){const m=n.createElement("description");s=n.createTextNode(""+t.description),m.appendChild(s),c.appendChild(m)}const d=n.createElement("graph");d.setAttribute("mode","static");const u=n.createElement("nodes");e.nodes.forEach(m=>{const _=n.createElement("node");if(_.setAttribute("id",String(m.id)),m.text&&_.setAttribute("label",Va(m.text)),J0(m.data)){const f=ey(m.data),v=n.createElement("attvalues");Object.keys(f).forEach(x=>{x in r||(r[x]={id:o,type:"integer"},o++);const w=f[x];r[x].type=Z2(w,r[x].type);const b=n.createElement("attvalue");b.setAttribute("for",r[x].id),b.setAttribute("value",Va(w)),v.appendChild(b)}),_.appendChild(v)}if(m.color){const f=nr(m.color);if(f){const v=n.createElement("viz:color");v.setAttribute("r",Aa(f[0])),v.setAttribute("g",Aa(f[1])),v.setAttribute("b",Aa(f[2])),v.setAttribute("a",f[3]),_.appendChild(v)}}const y=n.createElement("viz:position");if(y.setAttribute("x",m.x),y.setAttribute("y",-m.y),_.appendChild(y),m.size){const f=n.createElement("viz:size");f.setAttribute("value",m.size),_.appendChild(f)}u.appendChild(_)});const h=n.createElement("attributes");h.setAttribute("class","node"),Object.keys(r).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",r[m].id),_.setAttribute("title",m),_.setAttribute("type",r[m].type),h.appendChild(_)});const g=n.createElement("edges");e.edges.forEach(m=>{const _=n.createElement("edge");if(_.setAttribute("id",m.id.toString()),_.setAttribute("source",m.source),_.setAttribute("target",m.target),m.size&&_.setAttribute("weight",m.size),m.text&&_.setAttribute("label",Va(m.text)),J0(m.data)){const y=ey(m.data),f=n.createElement("attvalues");Object.keys(y).forEach(v=>{v in i||(i[v]={id:a,type:"integer"},a++);const x=y[v];i[v].type=Z2(x,i[v].type);const w=n.createElement("attvalue");w.setAttribute("for",i[v].id),w.setAttribute("value",Va(x)),f.appendChild(w)}),_.appendChild(f)}if(m.color){const y=nr(m.color);if(y){const f=n.createElement("viz:color");f.setAttribute("r",Aa(y[0])),f.setAttribute("g",Aa(y[1])),f.setAttribute("b",Aa(y[2])),f.setAttribute("a",y[3]),_.appendChild(f)}}if(m.size){const y=n.createElement("viz:size");y.setAttribute("value",m.size),_.appendChild(y)}g.appendChild(_)});const p=n.createElement("attributes");return p.setAttribute("class","edge"),Object.keys(i).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",i[m].id),_.setAttribute("title",m),_.setAttribute("type",i[m].type),p.appendChild(_)}),d.appendChild(h),d.appendChild(p),d.appendChild(u),d.appendChild(g),l.appendChild(c),l.appendChild(d),n.appendChild(l),`<?xml version="1.0" encoding="UTF-8"?>${n.serialize()}`}var x9={graphId:"G",directedEdges:!0,styles:"all",download:!0,filename:"graph.graphml",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function b9(e,t){const{styles:n,nodes:r,edges:i,download:s,filename:o,graphId:a,directedEdges:l,filter:c,nodeData:d,edgeData:u}=qr(t,x9),h=w9(im(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{graphId:a,directedEdges:l,noStyles:n==="none"});return s&&vo(h,o,"text"),Promise.resolve(h)}function w9(e,t){const n=ML();function r(h,g,p,m,_){p=p||{};const y=n.createElement(g);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;const v=p[f];v!==void 0&&y.setAttribute(f,v)}return(m!==void 0||_)&&(Object.prototype.toString.call(m)==="[object Object]"&&(m=JSON.stringify(m)),y.appendChild(n.createTextNode(m))),h.appendChild(y),y}const i=["id","source","target"],s=["size","x","y","shape","text","color"],o={size:{for:"all",type:"double"},x:{for:"node",type:"double"},y:{for:"node",type:"double"},shape:{for:"all",type:"string"},color:{for:"all",type:"string"},r:{for:"all",type:"int"},g:{for:"all",type:"int"},b:{for:"all",type:"int"},a:{for:"all",type:"double"},text:{for:"all",type:"string"}};t.noStyles&&(delete o.color,delete o.r,delete o.g,delete o.b,delete o.a,delete o.shape,s.pop());const a=[],l=[];function c(h,g){const p={id:h.id};s.forEach(m=>{let _=h[m];m==="y"&&_&&(_=-parseFloat(_)),_!==void 0&&(p[(g==="edge"?"edge_":"")+m]=_,m==="color"&&function(f,v){const x=nr(v);x&&(f.r=x[0],f.g=x[1],f.b=x[2])}(p,_))}),$i(h.data||{},(m,_)=>{s.indexOf(_)===-1&&i.indexOf(_)===-1&&(o[_]?o[_].for!==g&&(o[_].for="all"):o[_]={for:g,type:"string"},p[_]=m)}),g==="edge"?(p.source=h.source,p.target=h.target,l.push(p)):a.push(p)}e.nodes.forEach(h=>c(h,"node")),e.edges.forEach(h=>c(h,"edge"));const d=r(n,"graphml",{xmlns:"http://graphml.graphdrawing.org/xmlns","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd","xmlns:y":"http://www.yworks.com/xml/graphml","xmlns:java":"http://www.yworks.com/xml/yfiles-common/1.0/java","xmlns:sys":"http://www.yworks.com/xml/yfiles-common/markup/primitives/2.0","xmlns:x":"http://ww.yworks.com/xml/yfiles-common/markup/2.0"});$i(o,(h,g)=>{h.for!=="node"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"node",id:g}),h.for!=="edge"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"edge",id:"edge_"+g})}),r(d,"key",{id:"nodegraphics",for:"node","yfiles.type":"nodegraphics","attr.type":"string"}),r(d,"key",{id:"edgegraphics",for:"edge","yfiles.type":"edgegraphics","attr.type":"string"});const u=r(d,"graph",{edgedefault:t.directedEdges||t.directedEdges===void 0?"directed":"undirected",id:t.graphId?t.graphId:"G","parse.nodes":e.nodes.length,"parse.edges":e.edges.length,"parse.order":"nodesfirst"});return a.forEach(h=>{const g=r(u,"node",{id:h.id});(function(m,_){const y=r(m,"data",{key:"nodegraphics"}),f=r(y,"y:ShapeNode");r(f,"y:Geometry",{x:_.x,y:_.y,width:_.size,height:_.size}),t.noStyles||r(f,"y:Fill",{color:m0(_.color),transparent:!1}),r(f,"y:NodeLabel",null,_.text||""),r(f,"y:Shape",{type:_.shape})})(g,h),$i(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),l.forEach(h=>{const g=r(u,"edge",{id:h.id,source:h.source,target:h.target});(function(m,_){const y=r(m,"data",{key:"edgegraphics"}),f=r(y,"y:PolyLineEdge");r(f,"y:LineStyle",{type:_.edge_type,color:t.noStyles?void 0:m0(_.edge_color),width:_.edge_size}),r(f,"y:EdgeLabel",null,_.edge_label)})(g,h),$i(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),`<?xml version="1.0" encoding="UTF-8"?>
${zv(n)}`}var E9={nodeAttributes:["x","y","color","radius","shape","text"],edgeAttributes:["color","width","text"],nodeData:Si,edgeData:Si,filter:"visible",pretty:!1,download:!0,filename:"graph.json",anonymize:!1};function S9(e,t={}){t.anonymize&&(t={nodeAttributes:"all",edgeAttributes:"all",nodeData:yd,edgeData:yd,filter:t.filter||"all",download:t.download,pretty:t.pretty,filename:t.filename});const{nodeAttributes:n,edgeAttributes:r,nodeData:i,edgeData:s,filter:o,pretty:a,download:l,filename:c}=qr(t,E9),d=yM(e.modules.graph,{nodeAttributes:n,edgeAttributes:r,filter:o,nodeData:i,edgeData:s}),u=a?JSON.stringify(d,null," "):JSON.stringify(d);return l&&vo(u,c,"text"),Promise.resolve(d)}function A9(e,t){return e.getBoundingBox().computeForZoom(t).extend(Cn.fromValues(e.getAttribute("x"),e.getAttribute("y"),e.map(n=>n.getAttribute("radius")+n.getAttribute("innerStroke.width")+n.getAttribute("outerStroke.width"))))}function C9(e,t,n){const r=t.view.graphToScreenCoordinates(n.bottomLeft()),i=t.view.graphToScreenCoordinates(n.topRight()),s=Math.abs(i.x-r.x),o=Math.abs(i.y-r.y),a=Math.min(e.width/s,e.height/o);e.width=s*a,e.height=o*a}function xM(e,t={}){const n=e.view.get(),r=typeof t.margin=="number"?t.margin:0,i={pixelRatio:t.pixelRatio||Lr(),angle:0,backgroundColor:null,zoom:0,x:0,y:0,width:0,height:0,hideImages:!1,renderBackground:!0,isBufferDisplayable:_d};if(t.width&&t.height?(i.width=t.width,i.height=t.height):(i.width=n.width,i.height=n.height),t.clip)i.zoom=n.zoom,i.x=n.x,i.y=n.y;else{const s=A9(e.getNodes(t.filter),n.zoom);if(t.texts){const o=e.modules.labels.getTextsBoundingBox();o.isValid()&&s.extend(o)}t.width!=null&&isFinite(t.width)&&t.height!=null&&isFinite(t.height)||C9(i,e,s),i.width=Math.max(i.width,2*r),i.height=Math.max(i.height,2*r),i.x=s.cx,i.y=s.cy,i.zoom=Math.min((i.width-2*r)/s.width,(i.height-2*r)/s.height)}return e.modules.geo.isEnabled()?i.backgroundColor=null:t.background!==void 0&&(i.backgroundColor=t.background),i}function ty(e,t,n,r,i=!1){const s=vt(we({},n),{hideImages:i,angle:n.angle||0,currentTime:er(),isBufferDisplayable:l=>t.texts||!VN(l)}),o={};if(t.badges===!1){const l={text:null,image:null};o.badges={topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}}const a=e.styles.getClass(Mo);return a&&a.update({nodeAttributes:o}),e.modules.graphics.export(r,s,t.filter||Sx,t)}var lh=e=>({download:!0,filter:"visible",filename:`graph.${e}`,clip:!1,margin:10,width:void 0,height:void 0,background:null,badges:!0,legend:void 0,texts:!0,preventOverlap:!0,images:!0,textWatermark:{content:"",fontFamily:"Arial",fontSize:48,fontStyle:void 0,fontColor:"red",repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageWatermark:{url:void 0,width:void 0,height:void 0,repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageCrossOrigin:void 0,layers:!0,pixelRatio:void 0}),k9={png:lh("png"),jpg:lh("jpg"),tiff:lh("tiff"),gif:lh("gif")};function T9(e){const{canvas:t,parameters:n}=e;return n.textWatermark.content&&Q2(t,n.textWatermark,D9,z9),n.imageWatermark.url?aL(n.imageWatermark.url).then(r=>(r&&(n.imageWatermark.content=r,Q2(t,n.imageWatermark,B9,O9)),e)):e}function L9(e){const{ogma:t,canvas:n,parameters:r}=e,i=t.modules.legend;let s=null;return r.legend===void 0&&(s=!!i.enabled()&&i.getCurrentOptions()),r.legend===!0&&(s={}),s&&i.exportOnCanvas(n,s,e.parameters.pixelRatio),e}function N9(e){const{canvas:t,parameters:n,view:r}=e;if(!r.renderBackground)return e;r.renderBackground=!1;const i=t.getContext("2d");return i.fillStyle=n.background,i.fillRect(0,0,t.width,t.height),e}function I9(e){const{ogma:t,view:n}=e;return t.modules.geo.isEnabled()?t.modules.geo.exportBackground(n).then(r=>{const i=n.width*n.pixelRatio,s=n.height*n.pixelRatio,o=Vn(i,s),a=o.getContext("2d");return a.drawImage(r,(i-r.width)/2,(s-r.height)/2),a.drawImage(e.canvas,0,0),e.canvas=o,e}):e}function P9(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,canvas:r,below:!0}).then(()=>e):e}function M9(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,below:!1,canvas:r}).then(()=>e):e}function F9(e){const{ogma:t,parameters:n,canvas:r,view:i}=e,s=r.getContext("2d");return ty(t,n,i,"canvas",!n.images).then(o=>{try{const a=o.getContext("2d");if(!a)throw new Error("Failed to render graph");return a.getImageData(0,0,1,1),s.drawImage(o,0,0,r.width,r.height),e}catch(a){return io(a),ty(t,n,i,"canvas",!0).then(l=>(s.drawImage(l,0,0,r.width,r.height),e))}})}function R9({canvas:e,parameters:t,type:n}){const r=e.toDataURL("image/"+n);return t.download&&vo(r,t.filename,"dataURL"),r}function ch(e,t,n){const r=qr(t,k9[n]);r.background===null&&(r.background=e.modules.graphics.getTransparentBackgroundColor());const i=xM(e,r);r.pixelRatio=i.pixelRatio;const s=Vn(i.width*i.pixelRatio,i.height*i.pixelRatio),o={ogma:e,parameters:r,canvas:s,view:i,type:n};return Promise.resolve().then(()=>o).then(N9).then(I9).then(P9).then(F9).then(M9).then(T9).then(L9).then(R9).then(a=>(e.modules.events.fire("afterImageExport"),a))}function D9(e,t,n,r){e.textAlign="center",e.textBaseline="middle",e.fillText(t,n,r)}function z9(e,t,n){return{width:e.measureText(t).width,height:n}}function O9(e,t,n,r,i){return{width:r===void 0?t.width:r,height:i===void 0?t.height:i}}function B9(e,t,n,r,i,s){e.drawImage(t,n-i/2,r-s/2,i,s)}function Q2(e,t,n,r){if(!t)return;if(typeof t!="object")t={content:t};else if(!t.content)return;const{fontFamily:i,fontSize:s,fontStyle:o,fontColor:a,repeat:l,alpha:c,space:d,content:u}=t;let h=t.angle;const g=e.getContext("2d"),p=e.width,m=e.height,_=t.x===void 0?p/2:t.x,y=t.y===void 0?m/2:t.y,f=t.height,v=t.width;h=h/180*Math.PI,lo(g,i,s,o),g.fillStyle=a,g.globalAlpha=c;const x=r(g,u,s,v,f);if(l){const w=x.width+d,b=x.height+d,A=Math.sqrt(p*p+m*m);g.save(),g.translate(0,0),g.rotate(h);for(let S=0;S<A;S+=w)for(let k=0;k<A;k+=b)n(g,u,S,k,x.width,x.height),k!==0&&n(g,u,S,-k,x.width,x.height);g.restore()}else g.save(),g.translate(_,y),g.rotate(h),n(g,u,0,0,x.width,x.height),g.restore()}var j9={download:!0,filename:"graph.svg",width:void 0,height:void 0,background:null,texts:!0,preventOverlap:!0,groupSemantically:!0,images:!0,badges:!0,embedFonts:!1,layers:!0,clip:!1,margin:10,prefix:"ogma"};function $9(e,t){const n=qr(t,j9),{background:r,filename:i,download:s,layers:o}=n,a=e.modules.graphics;r===null&&(n.background=a.getTransparentBackgroundColor());const l=xM(e,n);return ty(e,n,l,"svg",!n.images).then(c=>(c.removeAttribute("pointer-events"),c.setAttribute("version","1.1"),c.setAttributeNS(a0,"xmlns",Nv),c.setAttributeNS(a0,"xmlns:xlink",oL),c)).then(c=>n.groupSemantically?V9(e,c,n):c).then(c=>H9(c,n)).then(c=>U9(e,l,c)).then(c=>K2(e,l,c,o,!0)).then(c=>K2(e,l,c,o,!1)).then(c=>(e.modules.events.fire("afterImageExport"),c)).then(c=>{const d=`<?xml version="1.0" encoding="utf-8"?>${zv(c)}`;return s&&vo(d,i,"text/xml"),d})}function U9(e,t,n){return e.modules.geo.isEnabled()?e.modules.geo.exportBackground(vt(we({},t),{pixelRatio:1})).then(r=>{const i=Dt("image",{width:r.width,height:r.height,x:0,y:0,href:r.toDataURL()});return n.insertBefore(i,n.children[0]),n}):Promise.resolve(n)}function K2(e,t,n,r,i=!1){return r?e.modules.layers.export({view:t,svg:n,below:i}).then(()=>n):Promise.resolve(n)}function V9(e,t,n){const r=t.childNodes[2],i=r.childNodes,s={},o=n.prefix;for(let g=0;g<i.length;g++){const p=i[g],m=p.getAttribute(ei);m!=null&&(s[m]=s[m]||[],s[m].push(p))}const a=Object.keys(s),l=e.modules.graph,c=l.getNodeAttribute("id"),d=l.getEdgeAttribute("id"),u=Dt("g",{class:`${o}-edges`}),h=Dt("g",{class:`${o}-nodes`});for(let g=0;g<a.length;g++){const p=a[g],m=p.charAt(0)==="n",_=parseInt(p.substring(1)),y=s[p],f=Va((m?c:d).get(_).toString()),v=Dt("g");v.setAttribute(`data-${m?"node":"edge"}-id`,f),v.setAttribute("class",`${o}-${m?"node":"edge"}`);for(let x=0;x<y.length;x++){const w=y[x];v.appendChild(w),w.removeAttribute(ei)}(m?h:u).appendChild(v)}return r.appendChild(u),r.appendChild(h),t}function G9(e){const t=[].concat(Array.prototype.slice.call(e.getElementsByTagName("text")||[])),n=[],r={};for(let i=0;i<t.length;i++){const s=t[i].parentNode.getAttribute("font-family");if(typeof s=="string"){const o=s.split(",");for(let a=0;a<o.length;a++){const l=o[a].replace(/['"]/g,"");l===""||r[l]||(r[l]=!0,n.push(l))}}}return{list:n,map:r}}function H9(e,t){const n=G9(e).map;return vL().then(r=>r.filter(i=>n[i.name])).then(r=>xL(r,!!t.embedFonts)).then(r=>{if(r.length!==0){const i=Dt("style");for(let s=0;s<r.length;s++)i.appendChild(Iv(r[s]));e.childNodes[0].appendChild(i)}return e})}var W9={what:void 0,dataProperties:void 0,filter:"visible",nodes:void 0,edges:void 0,download:!0,filename:"graph.xlsx",tab:void 0,nodeData:void 0,edgeData:void 0};function q9(e,t={}){typeof t=="string"&&(t={what:t});const{what:n,nodes:r,edges:i,tab:s={nodes:()=>"nodes",edges:()=>"edges"},download:o,filename:a,dataProperties:l,filter:c,nodeData:d,edgeData:u}=qr(t,W9);s.nodes||(s.nodes=()=>"nodes"),s.edges||(s.edges=()=>"edges");const h=im(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:r,edges:i,filter:c,nodeData:p=>p,edgeData:p=>p}),g=X9(h,{what:n,tabFunctions:s,tabContentFunctions:{nodes:d||(p=>s0(fd(p||{}),l)),edges:u||(p=>s0(fd(p||{}),l))}},{nodes:e.modules.graph.getNodes(h.nodes.map(({id:p})=>p)),edges:e.modules.graph.getEdges(h.edges.map(({id:p})=>p))});return o&&vo(g,a,"blob"),Promise.resolve(g)}function X9(e,{what:t,tabFunctions:n,tabContentFunctions:r},i){const s=li("XLSX")||li("xlsx",{throwOnError:!0});if(!s)throw Error('The xlsx exports requires the "xlsx" peer dependency to be associated');const o=new Z9;if(t){if(t!=="nodes"&&t!=="edges")throw new TypeError(`Invalid argument: "what" is not "nodes" or "edges", was ${t}`);t==="nodes"&&(e.edges=[]),t==="edges"&&(e.nodes=[])}const a={};for(const l of["nodes","edges"]){const c=c9(e[l],l,n[l],r[l],i[l]);for(const d of Object.keys(c))a[d]=[...a[d]||[],...c[d]]}for(const l of Object.keys(a))o.SheetNames.push(l),o.Sheets[l]=Y9(s,d9(a[l]));return o.SheetNames.length===0&&(o.SheetNames=["nodes","edges"],o.Sheets.nodes={},o.Sheets.edges={}),vd([Q9(s.write(o,{bookType:"xlsx",bookSST:!1,type:"binary"}))])}function Y9(e,t){const n={},r={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(let i=0;i!==t.length;++i){const s=t[i];for(let o=0;o!==s.length;++o){const a=s[o];r.s.r>i&&(r.s.r=i),r.s.c>o&&(r.s.c=o),r.e.r<i&&(r.e.r=i),r.e.c<o&&(r.e.c=o);const l={v:vM(a)};n[e.utils.encode_cell({c:o,r:i})]=l}}return r.s.c<1e7&&(n["!ref"]=e.utils.encode_range(r)),n}var Z9=class{constructor(){this.SheetNames=[],this.Sheets={}}};function Q9(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r!==e.length;++r)n[r]=255&e.charCodeAt(r);return t}var K9=class{getNodesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getNodes(t)}getEdgesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getEdges(t)}},ny={};Wd(ny,{gexf:()=>bM,gexfFromUrl:()=>Ax,graphml:()=>AM,graphmlFromUrl:()=>CM,janus:()=>wM,json:()=>EM,jsonFromUrl:()=>Cx,mtx:()=>J9,mtxFromUrl:()=>eW,neo4j:()=>SM});var Xi=wv(jT()),bM=e=>Promise.resolve(Xi.gexf(e)),Ax=e=>Nl(e).then(t=>Xi.gexf(t)),wM=e=>Promise.resolve(Xi.janus(e)),EM=(e,t)=>Promise.resolve(Xi.json(e,t)),Cx=(e,t)=>Nl(e).then(n=>Xi.json(n,t)),SM=e=>Promise.resolve(Xi.neo4j(e)),AM=e=>Promise.resolve(Xi.graphml(e)),CM=e=>Nl(e).then(t=>Xi.graphml(t)),J9=e=>Promise.resolve(Xi.mtx(e)),eW=e=>Nl(e).then(t=>Xi.mtx(t)),tW=class extends Yt{constructor(){super(...arguments),this.wait=e=>new Promise(t=>setTimeout(t,e)),this.initRandomGraph=e=>this._ogma.generate.random(e).then(this._ogma.setGraph).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.initGrid=e=>{const t=Math.ceil(Math.sqrt(e));return this._ogma.generate.grid({rows:t,columns:t}).then(n=>this._ogma.setGraph(n)).then(()=>this._ogma.view.locateGraph())},this.initLine=e=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:e?{x:0,y:50}:{x:50,y:0}}],edges:[{id:0,source:1,target:0}]}),this._ogma.view.locateGraph()),this.initSingleNode=()=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}}],edges:[]}),this._ogma.view.locateGraph()),this.initContinuousRenderLoop=({triggerKey:e="r",start:t=!0}={})=>{let n=t;const r=()=>{n&&this._ogma.modules.dom.beforeNextFrame().then(r)};document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n,r())}),r()},this.appendToBody=()=>{const e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",document.body.appendChild(e),this._ogma.setContainer(e)},this.loadFile=e=>(e.endsWith(".gexf")?Ax(e):Cx(e)).then(t=>this._ogma.setGraph(t)).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.enableLasso=e=>{this._ogma.events.on("dragStart",()=>{this._ogma.keyboard.isKeyPressed("ctrl")&&this._ogma.tools.lasso.enable(e)})},this.randomizeGraph=({minX:e=0,minY:t=0,maxX:n=500,maxY:r=500}={})=>this._ogma.getNodes().setAttributes(this._ogma.getNodes().map(()=>({x:e+Math.random()*(n-e),y:t+Math.random()*(r-t)})))}},nW=class{setContainer(e){this.modules.dom.setContainer(e)}getContainer(){return this.modules.dom.getContainer()}},rW=class extends Yt{constructor(){super(...arguments),this.once=(e,t)=>(this._ogma.modules.events.once(e,t),this),this.removeListener=e=>{this._ogma.modules.events.off(e)},this.onNodesAdded=e=>(this._ogma.events.on("addNodes",e),this._ogma),this.onBeforeNodesRemoved=e=>(this._ogma.events.on("beforeRemoveNodes",e),this._ogma),this.onNodesRemoved=e=>(this._ogma.events.on("removeNodes",e),this._ogma),this.onEdgesAdded=e=>(this._ogma.events.on("addEdges",e),this._ogma),this.onBeforeEdgesRemoved=e=>(this._ogma.events.on("beforeRemoveEdges",e),this._ogma),this.onEdgesRemoved=e=>(this._ogma.events.on("removeEdges",e),this._ogma),this.onGraphCleared=e=>(this._ogma.events.on("clearGraph",e),this._ogma),this.onNodesClassAdded=(e,t)=>(this._ogma.modules.classes.onNodeClassAdded(e,t),this._ogma),this.onNodesClassRemoved=(e,t)=>(this._ogma.modules.classes.onNodeClassRemoved(e,t),this._ogma),this.onEdgesClassAdded=(e,t)=>(this._ogma.modules.classes.onEdgeClassAdded(e,t),this._ogma),this.onEdgesClassRemoved=(e,t)=>(this._ogma.modules.classes.onEdgeClassRemoved(e,t),this._ogma),this.onNodeDragStart=e=>(this._ogma.events.on("nodesDragStart",e),this._ogma),this.onNodeDragProgress=e=>(this._ogma.events.on("nodesDragProgress",e),this._ogma),this.onNodeDragEnd=e=>(this._ogma.events.on("nodesDragEnd",e),this._ogma),this.onDrop=e=>(this._ogma.events.on("drop",e),this._ogma),this.onNodesSelected=e=>this.onNodesClassAdded(Kt,e),this.onNodesUnselected=e=>this.onNodesClassRemoved(Kt,e),this.onEdgesSelected=e=>this.onEdgesClassAdded(Kt,e),this.onEdgesUnselected=e=>this.onEdgesClassRemoved(Kt,e),this.onNodeDataChange=e=>(this._ogma.events.on("updateNodeData",e),this._ogma),this.onEdgeDataChange=e=>(this._ogma.events.on("updateEdgeData",e),this._ogma),this.onAnimate=e=>(this._ogma.events.on("animate",e),this._ogma),this.onMouseMove=e=>(this._ogma.events.on("mousemove",e),this._ogma),this.onMouseButtonDown=e=>(this._ogma.events.on("mousedown",e),this._ogma),this.onMouseButtonUp=e=>(this._ogma.events.on("mouseup",e),this._ogma),this.onClick=e=>(this._ogma.events.on("click",e),this._ogma),this.onDoubleClick=e=>(this._ogma.events.on("doubleclick",e),this._ogma),this.onMouseWheel=e=>(this._ogma.events.on("mousewheel",e),this._ogma),this.onHover=e=>(this._ogma.events.on("mouseover",e),this._ogma),this.onUnhover=e=>(this._ogma.events.on("mouseout",e),this._ogma),this.onDragStart=e=>(this._ogma.events.on("dragStart",e),this._ogma),this.onDragProgress=e=>(this._ogma.events.on("dragProgress",e),this._ogma),this.onDragEnd=e=>(this._ogma.events.on("dragEnd",e),this._ogma),this.onGestureStart=e=>(this._ogma.events.on("gestureStart",e),this._ogma),this.onGestureProgress=e=>(this._ogma.events.on("gestureProgress",e),this._ogma),this.onGestureEnd=e=>(this._ogma.events.on("gestureEnd",e),this._ogma),this.onRendererStateChange=e=>(this._ogma.events.on("rendererStateChange",e),this._ogma),this.onZoomProgress=e=>(this._ogma.events.on("zoom",e),this._ogma),this.onViewChanged=e=>(this._ogma.events.on("viewChanged",e),this._ogma),this.onNodesConnected=e=>(this._ogma.events.on("connectNodes",e),this._ogma),this.onGeoModeEnabled=e=>(this._ogma.events.on("geoEnabled",e),this._ogma),this.onGeoModeDisabled=e=>(this._ogma.events.on("geoDisabled",e),this._ogma),this.onGeoModeLoaded=e=>(this._ogma.events.on("geoLoaded",e),this._ogma),this.onLayoutStart=e=>(this._ogma.events.on("layoutStart",e),this._ogma),this.onLayoutComplete=e=>(this._ogma.events.on("layoutEnd",e),this._ogma),this.onLayoutComputed=e=>(this._ogma.events.on("layoutComputed",e),this._ogma),this.onTooltipShown=e=>(this._ogma.events.on("tooltipShow",e),this._ogma),this.onTooltipHidden=e=>(this._ogma.events.on("tooltipHide",e),this._ogma),this.onTransformationEnabled=e=>(this._ogma.events.on("transformationEnabled",e),this._ogma),this.onTransformationDisabled=e=>(this._ogma.events.on("transformationDisabled",e),this._ogma),this.onTransformationSetIndex=e=>(this._ogma.events.on("transformationSetIndex",e),this._ogma),this.onTransformationDestroyed=e=>(this._ogma.modules.events.on("transformationDestroyed",e),this._ogma),this.onTransformationRefreshed=e=>(this._ogma.events.on("transformationRefresh",e),this._ogma)}on(e,t){return this._ogma.modules.events.on(e,t),this}off(e){return this._ogma.modules.events.off(e),this}onKeyPress(e,t){return this._ogma.modules.keyboard.onKeyPress(e,t),this._ogma}},iW=class extends Yt{constructor(e){super(e),this.csv=t=>m9(this._ogma,t),this.xlsx=t=>(t&&t.dataProperties&&void 0,q9(this._ogma,t)),this.gexf=t=>y9(this._ogma,t),this.graphml=(t={})=>b9(this._ogma,t),this.json=(t={})=>S9(this._ogma,t),this.svg=(t={})=>$9(this._ogma,t),this.png=(t={})=>ch(this._ogma,t,"png"),this.jpg=(t={})=>ch(this._ogma,t,"jpg"),this.tiff=(t={})=>ch(this._ogma,t,"tiff"),this.gif=(t={})=>ch(this._ogma,t,"gif"),e.styles.createClass({name:Mo,isBuiltin:!0})}},Zn=wv(X5()),sW=class extends Yt{constructor(){super(...arguments),this.balancedTree=e=>Promise.resolve(Zn.balancedTree.generate(Zn.balancedTree.configure(e))),this.barabasiAlbert=e=>Promise.resolve(Zn.barabasiAlbert.generate(Zn.barabasiAlbert.configure(e))),this.erdosRenyi=e=>Promise.resolve(Zn.erdosRenyi.generate(Zn.erdosRenyi.configure(e))),this.flower=e=>Promise.resolve(Zn.flower.generate(Zn.flower.configure(e))),this.grid=e=>Promise.resolve(Zn.grid.generate(Zn.grid.configure(e))),this.path=e=>Promise.resolve(Zn.path.generate(Zn.path.configure(e))),this.random=e=>Promise.resolve(Zn.random.generate(Zn.random.configure(e))),this.randomTree=e=>Promise.resolve(Zn.randomTree.generate(Zn.randomTree.configure(e)))}},oW=class{reloadFonts(){this.modules.graphics.reloadFonts()}},aW=class extends Yt{constructor(){super(...arguments),this.gexf=e=>bM(e),this.gexfFromUrl=e=>Ax(e),this.janus=e=>wM(e),this.json=(e,t)=>EM(e,t),this.jsonFromUrl=(e,t)=>Cx(e,t),this.neo4j=e=>SM(e),this.graphml=e=>AM(e),this.graphmlFromUrl=e=>CM(e)}},lW=class extends Yt{constructor(e){super(e),this.stop=()=>this._ogma.modules.layouts.stop(),this.concentric=VG(e),this.radial=BH(e),this.force=q7(e),this.forceLink=X7(e),this.hierarchical=zH(e),this.sequential=jH(e),this.grid=Y7(e)}},cW=class extends Yt{constructor(){super(...arguments),this.move=e=>this._ogma.modules.virtualMouse.move(e),this.down=e=>this._ogma.modules.virtualMouse.down(e),this.up=e=>this._ogma.modules.virtualMouse.up(e),this.click=e=>this._ogma.modules.virtualMouse.click(e),this.rightClick=e=>this._ogma.modules.virtualMouse.rightClick(e),this.doubleclick=e=>this._ogma.modules.virtualMouse.doubleclick(e),this.drag=(e,t)=>this._ogma.modules.virtualMouse.drag(e,t),this.wheel=e=>this._ogma.modules.virtualMouse.wheel(e)}},dW=class extends Yt{constructor(){super(...arguments),this.map=e=>this._ogma.modules.rules.createMapping(e),this.slices=e=>this._ogma.modules.rules.createSlices(e),this.template=e=>this._ogma.modules.rules.createTemplate(e)}},uW=class{clearSelection(){return this.modules.selection.clear()}getSelectedNodes(){return this.modules.selection.getSelectedNodes()}getNonSelectedNodes(){return this.modules.selection.getNonSelectedNodes()}getSelectedEdges(){return this.modules.selection.getSelectedEdges()}getNonSelectedEdges(){return this.modules.selection.getNonSelectedEdges()}},hW=class{setOptions(e){return this.modules.settings.update(e)}getOptions(){return this.modules.settings.get()}},gW=class extends Yt{constructor(){super(...arguments),this.setNodesVisibility=e=>this._ogma.modules.graphics.setNodesVisibility(e),this.setEdgesVisibility=e=>this._ogma.modules.graphics.setEdgesVisibility(e),this.setNodeTextsVisibility=e=>this._ogma.modules.graphics.setNodeTextsVisibility(e),this.setEdgeTextsVisibility=e=>this._ogma.modules.graphics.setEdgeTextsVisibility(e),this.addRule=(e={})=>this._ogma.modules.styleRules.addRule(e),this.getRuleList=()=>this._ogma.modules.styleRules.getRuleList(),this.addNodeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({nodeAttributes:n,nodeSelector:r})},this.addEdgeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({edgeAttributes:n,edgeSelector:r})},this.getNodeRules=()=>this.getRuleList().filter(e=>e.getDefinition().edgeAttributes===void 0),this.getEdgeRules=()=>this.getRuleList().filter(e=>e.getDefinition().nodeAttributes===void 0),this.createClass=e=>this._ogma.modules.classes.createClass(e),this.getClass=e=>this._ogma.modules.classes.getClassByName(e),this.getClassList=()=>this._ogma.modules.classes.getClassList(),this.setHoveredNodeAttributes=(e,t)=>{this._ogma.modules.hover.updateNodeAttributes(e,t)},this.setHoveredEdgeAttributes=(e,t)=>{this._ogma.modules.hover.updateEdgeAttributes(e,t)},this.setSelectedNodeAttributes=(e,t)=>this._ogma.modules.selection.setNodeAttributes(e,!!t),this.setSelectedEdgeAttributes=(e,t)=>this._ogma.modules.selection.setEdgeAttributes(e,!!t),this.setTheme=({nodeAttributes:e,edgeAttributes:t,selectedNodeAttributes:n,selectedEdgeAttributes:r,hoveredNodeAttributes:i,hoveredEdgeAttributes:s})=>{this._ogma.modules.pulses.setTheme(e&&e.pulse||{},t&&t.pulse||{}),this._ogma.modules.graphics.getAttributesManager().setDefaultAttributes(e||{},t||{}),this.setSelectedNodeAttributes(n||{}),this.setSelectedEdgeAttributes(r||{}),this.setHoveredNodeAttributes(i||{}),this.setHoveredEdgeAttributes(s||{})}}},pW=class extends Yt{constructor(){super(...arguments),this.onNodeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.node",e,t)},this.onNodeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.node",e,t)},this.onNodeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.node",e,t)},this.onNodeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.node",e,t)},this.onEdgeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.edge",e,t)},this.onEdgeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.edge",e,t)},this.onEdgeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.edge",e,t)},this.onEdgeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.edge",e,t)},this.onBackgroundClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.background",e,t)},this.onBackgroundRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.background",e,t)},this.onBackgroundDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.background",e,t)},this.refresh=()=>this._ogma.modules.tooltip.refresh(),this.isShown=()=>this._ogma.modules.tooltip.isShown(),this.hide=()=>{this._ogma.modules.tooltip.hide()},this.show=(e,t)=>this._ogma.modules.tooltip.show(e,t)}},mW=class extends Yt{constructor(e){super(e),this.lasso=new GH(e),this.connectNodes=new VH(e),this.legend=new HH(e),this.rectangleSelect=new WH(e),this.resize=new qH(e),this.rewire=new XH(e),this.snapping=new YH(e),this.tooltip=new pW(e),this.brand=new UH(e)}};function fW(e,t,n){const r=e.getEdge(t.id||"");return!r||r.getTransformation()===n}var Vg=e=>!0,Nd=e=>"";function Id(e,t,n){return{}}var kM=class extends ua{constructor(e){super(e),this._checkEdgeDataUpdate=!0,this._checkNodeDataUpdate=!0,this._nodeSelector=e.nodeSelector||Vg,this._nodeGroupIdFunction=e.nodeGroupIdFunction||Nd,this._nodeGenerator=e.nodeGenerator||Id,this._edgeSelector=e.edgeSelector||Vg,this._edgeGroupIdFunction=e.edgeGroupIdFunction||Nd,this._edgeGenerator=e.edgeGenerator||Id,this._edgeSource=e.edgeSource,this._edgeTarget=e.edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._groupEdges=e.groupEdges}_computeNodeGroupId(e){if(this._nodeGroupIdFunction)return this._nodeSelector(e)?this._nodeGroupIdFunction(e):void 0}_computeEdgeGroupId(e){if(this._edgeGroupIdFunction)return this._edgeSelector(e)?this._edgeGroupIdFunction(e):void 0}_addMetaNodes(){const e=this._id,t=this._ogma,n=t.getNodes().reduce((a,l)=>l.getTransformation()===this?a.concat(l.getSubNodes()):a.concat(l.toList()),this._ogma.nodeList()),r=new Map;for(let a=0;a<n.size;++a){const l=n.get(a),c=this._computeNodeGroupId(l);if(c!==void 0){let d=r.get(c);d||(d={id:c,nodes:[]},r.set(c,d)),d.nodes.push(l)}}const i=co(r),s=[];i.map(({nodes:a})=>t.getNodes(a));const o=[];for(let a=0;a<i.length;++a){const l=i[a],c=l.id,d=t.getNodes(l.nodes),u=this._nodeGenerator(d,c,this);u!==null&&(s.push(d),u.id===void 0&&(u.id=Gg(c,e)),u.position=ix(d.getPosition()),o.push(u))}return t.addNodes(o.map(a=>({id:a.id,attributes:a.position})),{virtual:!0}).then(()=>{const a=t.getNodes(o.map(c=>c.id));a.replaceOriginalAttributes(o.map(c=>c.attributes),["x","y","radius"]);const l=a.getData();for(let c=0;c<l.length;c++){const d=l[c],u=o[c];l[c]=jr(jr(d,u.data),this._context.nodeDataUpdates.get(a._indexes[c]))}return this._checkNodeDataUpdate=!1,a.setData(null,l),a.setVisible(!0),this._ogma.modules.grouping.setSubElements(a,s),s.forEach((c,d)=>{this._ogma.modules.grouping.setMetaElement(c,a.get(d))}),a})}_addMetaEdges(){const e=this._id,t=this._ogma,n=t.getEdges(),r=new Map,i=this._ogma.modules.graphics.getAttributesManager().getUsedEdgeAttributes().filter(l=>l!=="curvature");for(let l=0;l<n.size;++l){const c=n.get(l),d=this._computeEdgeGroupId(c);if(d!==void 0){const u=this._edgeSource(c),h=this._edgeTarget(c),g=this._groupEdges?yW(d,u.getId(),h.getId(),this._separateEdgesByDirection):String(c.getId());let p=r.get(g);p||(p={id:g,source:u,target:h,edges:[]},r.set(g,p)),p.edges.push(c)}}const s=co(r),o=[],a=[];for(let l=0;l<s.length;++l){const c=s[l],d=c.id,u=t.getEdges(c.edges),h=this._groupEdges?this._edgeGenerator(u,d,this):vW(u,i);if(h!==null){if(o.push(u),h.id!=null&&!fW(t,h,this))throw Error(`The id ${h.id} returned by the edgeGenerator function is not a unique id.`);h.id===void 0&&(h.id=Gg(d,e)),h.source=c.source.getId(),h.target=c.target.getId(),a.push(h)}}return t.addEdges(_W(a),{virtual:!0}).then(()=>{const l=t.getEdges(a.map(d=>d.id));l.setAttributes(a.map(d=>d.attributes));const c=l.getData();for(let d=0;d<c.length;d++){const u=a[d],h=c[d];c[d]=jr(h,u.data)}return this._checkEdgeDataUpdate=!1,l.setData(null,c),l.setVisible(!1),this._ogma.modules.grouping.setSubElements(l,o),o.forEach((d,u)=>{this._ogma.modules.grouping.setMetaElement(d,l.get(u))}),l})}_removeMetaEdge(e){e.forEach(t=>{const n=t.getSubEdges();if(!n)return;const r=t.getMetaEdge()||null;this._ogma.modules.grouping.setMetaElement(n,r),r&&this._ogma.modules.grouping.setSubElements(r.toList(),[n.concat((r.getSubEdges()||this._ogma.edgeList()).filter(i=>i!==t))]),n.filter(i=>i.getTarget().isVisible()&&i.getSource().isVisible()).setVisible(!0)})}_removeMetaNode(e){e.forEach(t=>{const n=t.getSubNodes();n&&(this._ogma.modules.grouping.setMetaElement(n,null),n.setVisible(!0))})}_checkChanges(e,t){const n=t?this._context.nodeDataUpdates:this._context.edgeDataUpdates;for(let r=0;r<e.length;r++){const i=t?e[r].nodes.filter(s=>s.getTransformation()===this):e[r].edges.filter(s=>s.getTransformation()===this);if(i.size)for(let s=0;s<i._indexes.length;s++){let o=n.get(i._indexes[s])||{};const a=e[r].property,l=e[r].newValues[s];a?Gi(o,a,l):o=l,n.set(i._indexes[s],o)}}}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._nodeGroupIdFunction=e.nodeGroupIdFunction||this._nodeGroupIdFunction,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._edgeGroupIdFunction=e.edgeGroupIdFunction||this._edgeGroupIdFunction,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._edgeSource=e.edgeSource||this._edgeSource,this._edgeTarget=e.edgeTarget||this._edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection!==void 0?!!e.separateEdgesByDirection:this._separateEdgesByDirection,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._groupEdges=e.groupEdges!==void 0?!!e.groupEdges:this._groupEdges}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{nodeDataUpdates:new Map,edgeDataUpdates:new Map})}initialize(e){super.initialize(e),this._ogma.events.on("updateNodeData",({changes:t})=>{this._checkNodeDataUpdate?this._checkChanges(t,!0):this._checkNodeDataUpdate=!0}),this._ogma.events.on("updateEdgeData",({changes:t})=>{this._checkEdgeDataUpdate?this._checkChanges(t,!1):this._checkEdgeDataUpdate=!0})}};function _W(e){return e.map(({id:t,source:n,target:r})=>({id:t,source:n,target:r}))}function yW(e,t,n,r){let i=t,s=n;return!r&&i.toString()>s.toString()&&(i=n,s=t),`${e}[${i}-${s}]`}function vW(e,t){const n=e.get(0);return{data:n.getData(),attributes:n.getAttributes(t)}}function Gg(e,t){return`gen_grp_${t}_${e}`}var xW=()=>"",J2=()=>({}),bW=class extends ua{constructor(e){super(e),this._groupSelfLoopEdges=!1,this._isCleaningUp=!1,this._isRunning=!1,this._onPreAddGraph=ft,this._onBeforeAdd=t=>{if(this._isCleaningUp||!this.enabled)return;const{isNode:n,objects:r}=t;wW(t.objects,n?this._groupNodes(r):this._groupEdges(r)),this._shouldSetVirtual=!0},this._onAfterAdd=t=>{this._shouldSetVirtual&&(this._shouldSetVirtual=!1,this._setVirtual(t.nodes||t.edges,!!t.nodes))},this._onRequestElementsToDelete=t=>{if(t.virtual)return;const n=t.elementsToRemove.isNode,r=n?this._ogma.getNodes:this._ogma.getEdges,i=n?this._context.metaNodesSet:this._context.metaEdgesSet,s=n?this._context.nodeGroups:this._context.edgeGroups,o=n?this._ogma.removeNodes:this._ogma.removeEdges,a=t.elementsToRemove.size,l=r(Array.from(i)),c=t.elementsToRemove.slice();if(t.elementsToRemove=t.elementsToRemove.subtract(l),t.elementsToRemove.size===a)return;const d=c.subtract(t.elementsToRemove);if(d.forEach(u=>{s.delete(u.getId())}),n){const u=d.getAdjacentEdges().filter(h=>h.isVirtual());this._ogma.removeEdges(u)}o(d,{virtual:!0})},this._nodeToGroupId=e.groupIdFunction||xW,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||J2,this._edgeGenerator=e.edgeGenerator||J2,this._shouldSetVirtual=!1,this._selector=e.selector,this.shouldDo=e.enabled===void 0||!!e.enabled}initialize(e){super.initialize(e),this._ogma.events.on("preAddElements",this._onBeforeAdd).on("requestElementsToDelete",this._onRequestElementsToDelete).on("preAddGraph",this._onPreAddGraph).on(["postAddGraph","addNodes","addEdges"],this._onAfterAdd),this.shouldDo&&(this.enable(),this.shouldDo=!1)}enable(){return this.enabled?Promise.resolve():(this.enabled=!0,this.shouldDo=!0,this.shouldUndo=!1,this._isRunning=!0,this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>(this.resolve(),this._isRunning=!1,Promise.resolve())))}disable(){return this.enabled?(this.enabled=!1,this.shouldDo=!1,this.shouldUndo=!1,this.cleanup().then(()=>{Promise.resolve()})):Promise.resolve()}run(){return this.enabled||!this.shouldDo?Promise.resolve(this._context):this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>Promise.resolve(this._context))}undo(){return Promise.resolve(this._context)}getName(){return"node-clustering"}cleanup(){if(this._isRunning)return Promise.resolve();this._isCleaningUp=!0;const e=this._ogma.getNodes(Array.from(this._context.metaNodesSet)),t=this._ogma.getEdges(Array.from(this._context.metaEdgesSet)),n=this._getSubNodes(),r=this._getSubEdges();return this.resetContext(),this._ogma.removeNodes(e,{virtual:!0}).then(()=>this._ogma.removeEdges(t,{virtual:!0})).then(()=>this._ogma.addNodes(n)).then(()=>this._ogma.addEdges(r)).then(()=>{this._isCleaningUp=!1,Promise.resolve()})}resetContext(){this._isRunning||(super.resetContext(),this._context=vt(we({},this._context),{nodeGroups:new Map,edgeGroups:new Map,metaNodesSet:new Set,metaEdgesSet:new Set,nodeToGroupId:new Map}))}getSubNodes(e){const t=this._context.nodeGroups.get(e.getId());return t?t.nodes:[]}getSubEdges(e){const t=this._context.edgeGroups.get(e.getId());return t?t.edges:[]}_getSubNodes(){return Array.from(this._context.nodeGroups.values()).reduce((e,{nodes:t})=>(e.push(...t),e),[])}_getSubEdges(){return Array.from(this._context.edgeGroups.values()).reduce((e,{edges:t})=>(e.push(...t),e),[])}_setVirtual(e,t){if(!e)return;const n=t?this._context.metaNodesSet:this._context.metaEdgesSet,r=e.filter(i=>n.has(i.getId()));this._ogma.modules.graph.storage.fetch(t).getFlexArray("virtual").setMultiple(r._indexes,1),t?this._context.virtualNodes=this._context.virtualNodes.concat(r):this._context.virtualEdges=this._context.virtualEdges.concat(r)}setContext(e){}_computeEdgeGroupId(e,t){return e>t?`${t}:${e}`:`${e}:${t}`}_groupEdges(e){const t=this._id,n=new Map,r=this._context.nodeToGroupId;this._context.edgeGroups.forEach(a=>{a.newEdges=[],n.set(a.id,a)});const i=[];for(let a=0;a<e.length;++a){const l=e[a];let c=this._context.nodeToGroupId.get(l.source),d=this._context.nodeToGroupId.get(l.target);if(!c&&!d){i.push(l);continue}c=c||l.source,d=d||l.target;const u=this._computeEdgeGroupId(c,d);if(u!==void 0){const h=r.get(l.source)||l.source,g=r.get(l.target)||l.target;let p=n.get(u);p||(p={id:u,source:h,target:g,edges:[],newEdges:[]},n.set(u,p)),p.edges.push(l),p.newEdges.push(l)}}const s=co(n),o=s.map(({edges:a})=>a);for(let a=0;a<s.length;++a){const l=s[a];if(!l.newEdges.length)continue;const c=l.id,d=o[a],u=this._edgeGenerator(d,c,this);u.id===void 0&&(u.id=Gg(c,t)),u.source=l.source,u.target=l.target,l.metaEdge=u,this._context.metaEdgesSet.add(u.id),this._context.edgeGroups.get(u.id)||this._context.edgeGroups.set(u.id,l),(this._groupSelfLoopEdges||u.source!==u.target)&&i.push(u)}return this._ogma.view.afterNextFrame().then(()=>{this._context.edgeGroups.forEach(({newEdges:a,metaEdge:l})=>{if(!(a.length&&l&&l.id&&l.attributes))return;const c=this._ogma.getEdge(l.id);c==null||c.setAttributes(l.attributes)})}),i}_groupNodes(e){const t=this._id,n=new Map;this._context.nodeGroups.forEach(l=>{l.newNodes=[],n.set(l.id,l)});const r=[];for(let l=0;l<e.length;l++){const c=e[l];if(this._selector&&!this._selector(c)){r.push(c);continue}c.id=aN(c.id);const d=this._nodeToGroupId(c);if(d!==void 0){let u=n.get(d);u||(u={id:d,nodes:[],newNodes:[]},n.set(d,u)),u.nodes.push(c),u.newNodes.push(c)}else this._context.nodeToGroupId.set(c.id,c.id)}const i=co(n),s=i.map(({nodes:l})=>l),o=i.map(({newNodes:l})=>l),a=[];for(let l=0;l<i.length;++l){if(!i[l].newNodes.length)continue;const c=i[l].id,d=s[l],u=this._nodeGenerator(d,c,this);i[l].metaNode=u,u.id===void 0&&(u.id=Gg(c,t));for(const h of o[l])this._context.nodeToGroupId.set(h.id,u.id);this._context.metaNodesSet.add(u.id),this._context.nodeGroups.get(u.id)||this._context.nodeGroups.set(u.id,i[l]),a.push(u)}return a.push(...r),this._ogma.view.afterNextFrame().then(()=>{this._context.nodeGroups.forEach(({newNodes:l,metaNode:c})=>{if(!(l.length&&c&&c.id&&c.attributes))return;const d=this._ogma.getNode(c.id);d==null||d.setAttributes(c.attributes)})}),a}_setOptions(e){this._nodeToGroupId=e.groupIdFunction||this._nodeToGroupId,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._selector=e.selector||this._selector}};function wW(e,t){const n=t.length;return e.length=n,e.splice(0,n,...t),e}var EW=e=>({addNodeClustering:(t={})=>e.modules.transformations.add(new bW(t))}),SW=e=>({addNodeFilter:t=>e.modules.filters.addNodeFilter(t),addEdgeFilter:t=>e.modules.filters.addEdgeFilter(t),getNodeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="node-filter"),getEdgeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="edge-filter")}),AW=class extends kM{constructor({selector:e=Vg,duration:t,enabled:n,groupIdFunction:r=Nd,generator:i=Id,separateEdgesByDirection:s=!1}={}){super({nodeSelector:null,nodeGroupIdFunction:null,nodeGenerator:null,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}getName(){return"edge-grouping"}get context(){return this._context}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{metaEdges:this._ogma.edgeList(),subEdges:this._ogma.edgeList(),invalidMetaEdges:this._ogma.edgeList(),invalidSubEdges:this._ogma.edgeList()})}run(){let e,t;const n=this.getAnimationDuration();return this._addMetaEdges().then(r=>{e=r,t=e.getSubEdges().reduce((o,a)=>o.concat(a),this._ogma.createEdgeList());const i=this._context.invalidSubEdges.subtract(t),s=t.reduce((o,a)=>(o[a.getId()]=!0,o),{});return Promise.all([...e.map((o,a)=>{const l=o.getParallelEdges({filter:"visible"}),c=l.filter(d=>!s[d.getId()]).reduce((d,u)=>(d[u.getId()]=!0,d),{});return c[o.getId()]=!0,l.setAttribute("curvature",l.map(d=>this._ogma.modules.curvatureManager.computeCurvature(s[d.getId()]?o:d,"all",u=>c[u.getId()])),n)}),i.setAttribute("curvature",this._getCurvatures(i),n)])}).then(()=>(t.setVisible(!1),e.setVisible(!0),vt(we({},this._context),{metaEdges:e,subEdges:t,virtualEdges:e,invalidMetaEdges:this._context.metaEdges.subtract(e),invalidSubEdges:t})))}undo(){const{metaEdges:e,subEdges:t}=this._context,n=this.getAnimationDuration(!1);return this._removeMetaEdge(e),e.setVisible(!1),t.filter(r=>r.getSource().isVisible()&&r.getTarget().isVisible()).setVisible(!0),e.setVisible(!1),this._context.invalidSubEdges=this._context.subEdges,t.setAttribute("curvature",this._getCurvatures(t),n)}_getCurvatures(e){return e.map(t=>this._ogma.modules.curvatureManager.computeCurvature(t,"visible",n=>!0))}cleanup(){const{virtualEdges:e,invalidMetaEdges:t}=this._context;return this._ogma.removeEdges(e.concat(t),{virtual:!0}).then(()=>(this._context.metaEdges=this._ogma.edgeList(),this._context.virtualEdges=this._ogma.edgeList(),this._context.invalidMetaEdges=this._ogma.edgeList(),this._context.invalidSubEdges=this._ogma.edgeList(),Promise.resolve()))}_setOptions({selector:e,duration:t,enabled:n,groupIdFunction:r,generator:i,separateEdgesByDirection:s}){super._setOptions({nodeSelector:void 0,nodeGroupIdFunction:void 0,nodeGenerator:void 0,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}};function ry(e,t,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;TM(e,t,o,r,i,s%2),ry(e,t,n,r,o-1,s+1),ry(e,t,n,o+1,i,s+1)}function TM(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,d=n-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1);TM(e,t,n,Math.max(r,Math.floor(n-d*h/c+g)),Math.min(i,Math.floor(n+(c-d)*h/c+g)),s)}const o=t[2*n+s];let a=r,l=i;for(ec(e,t,r,n),t[2*i+s]>o&&ec(e,t,r,i);a<l;){for(ec(e,t,a,l),a++,l--;t[2*a+s]<o;)a++;for(;t[2*l+s]>o;)l--}t[2*r+s]===o?ec(e,t,r,l):(l++,ec(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function ec(e,t,n,r){Of(e,n,r),Of(t,2*n,2*r),Of(t,2*n+1,2*r+1)}function Of(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function CW(e,t,n,r,i,s,o){const a=[0,e.length-1,0],l=[];let c,d;for(;a.length;){const u=a.pop(),h=a.pop(),g=a.pop();if(h-g<=o){for(let _=g;_<=h;_++)c=t[2*_],d=t[2*_+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[_]);continue}const p=Math.floor((g+h)/2);c=t[2*p],d=t[2*p+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[p]);const m=(u+1)%2;(u===0?n<=c:r<=d)&&(a.push(g),a.push(p-1),a.push(m)),(u===0?i>=c:s>=d)&&(a.push(p+1),a.push(h),a.push(m))}return l}function kW(e,t,n,r,i,s){const o=[0,e.length-1,0],a=[],l=i*i;for(;o.length;){const c=o.pop(),d=o.pop(),u=o.pop();if(d-u<=s){for(let _=u;_<=d;_++)eA(t[2*_],t[2*_+1],n,r)<=l&&a.push(e[_]);continue}const h=Math.floor((u+d)/2),g=t[2*h],p=t[2*h+1];eA(g,p,n,r)<=l&&a.push(e[h]);const m=(c+1)%2;(c===0?n-i<=g:r-i<=p)&&(o.push(u),o.push(h-1),o.push(m)),(c===0?n+i>=g:r+i>=p)&&(o.push(h+1),o.push(d),o.push(m))}return a}function eA(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}var TW=e=>e[0],LW=e=>e[1],NW=class{constructor(e,t=TW,n=LW,r=64,i=Float64Array){this.nodeSize=r,this.points=e;const s=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(e.length),a=this.coords=new i(2*e.length);for(let l=0;l<e.length;l++)o[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);ry(o,a,r,0,o.length-1,0)}range(e,t,n,r){return CW(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return kW(this.ids,this.coords,e,t,n,this.nodeSize)}};function IW(e){return e&&e.then==="function"?e:Promise.resolve(e)}var LM=class extends kM{constructor({duration:e,enabled:t,padding:n=0,selector:r=Vg,groupIdFunction:i=Nd,edgeGroupIdFunction:s=Nd,nodeGenerator:o=Id,edgeGenerator:a=Id,separateEdgesByDirection:l=!1,groupSelfLoopEdges:c=!1,groupEdges:d=!0,restorePositions:u=!0,showContents:h=!1,onCreated:g}={}){super({nodeSelector:r,nodeGroupIdFunction:i,edgeGroupIdFunction:s,nodeGenerator:o,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGenerator:a,edgeSource:p=>dh(p.getSource()),edgeTarget:p=>dh(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._metaNodesIds=new Set,this._padding=n,this._showContents=typeof h!="function"?()=>h:h,this._restorePositions=u,this._onCreated=g||((p,m,_,y)=>{})}getName(){return"node-grouping"}get context(){return this._context}get padding(){return this._padding}set padding(e){this._padding=e,this._refresh()}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{metaNodes:this._ogma.nodeList(),metaEdges:this._ogma.edgeList(),subNodes:this._ogma.nodeList(),collapsedSubNodes:this._ogma.nodeList(),subEdges:this._ogma.edgeList(),subnodesVisibility:[],offsets:[]})}run(){let e,t;const n=this._ogma,r=this.getAnimationDuration();let i=n.createNodeList(),s=n.createNodeList(),o=n.createEdgeList();const a=[],l=this._ogma.modules.grouping,c=[],d=new Set,u=new Set;let h=[];return this._addMetaNodes().then(g=>(e=g,h=e.reduce((p,m)=>{const _=m.getSubNodes();return p.concat(_?_.isVisible():[])},[]),e.setVisible(!1),this._addMetaEdges())).then(g=>(t=g,e.forEach(p=>{const m=p.getSubNodes(),_=p.getPosition(),y=this._showContents(p);if(!m||m.map(f=>!f.isVisible()).every(f=>f))p.setVisible(!1);else if(m){if(y){d.add(p._index);const f=m.getAdjacentEdges({bothExtremities:!0});m.setVisible(!0),f.forEach(v=>u.add(v._index))}else{d.delete(p._index),l.removeVisibleGroup(p),a.push(...m.getPosition().map(v=>(v.x=v.x-_.x,v.y=v.y-_.y,v))),i=i.concat(m);const f=m.toArray();for(;f.length!==0;){const v=f.pop(),x=v.getSubNodes();x&&l.isVisibleGroup(v)&&(x.setVisible(!1),x.getAdjacentEdges({bothExtremities:!0}).setVisible(!1),f.push.apply(f,x.toArray()))}}s=s.concat(m)}}),o=t.getSubEdges().reduce((p,m)=>{const _=m.filter(y=>{if(u.has(y._index))return!1;const f=y.getSource().getMetaNode(),v=y.getTarget().getMetaNode();return!(f&&v&&l.isVisibleGroup(f)&&l.isVisibleGroup(v)&&f===v)});return p.concat(_)},n.createEdgeList()),i.setAttributes(i.getPosition().map((p,m)=>{const _=a[m];return p.x-=_.x,p.y-=_.y,p}),r))).then(()=>{i.setVisible(!1),o.setVisible(!1),e.setVisible(!0),this._ogma.modules.events.fire("groupingRun",{metaNodes:e,padding:isNaN(+this._padding)?e.map(g=>(0,this._padding)(g)||0):this._padding}),t.filter(g=>this._groupSelfLoopEdges||g.getSource()!==g.getTarget()).setVisible(!0)}).then(()=>{const g=new Set;e.forEach(p=>{const m=d.has(p._index),_=p.getSubNodes();if(_){const y=_.getAdjacentEdges({filter:"all",bothExtremities:!0});if(m){const f=_.reduce((v,x)=>{const w=l.getNodeDepth(x);return g.add(x._index),w<v?w:v},0);y.forEach(v=>u.add(v._index)),l.addVisibleGroup(p,gB+f),this._metaNodesIds.has(p.getId())||(this._metaNodesIds.add(p.getId()),c.push(IW(this._onCreated(p,m,_,y)).then(n.view.afterNextFrame)))}}}),t.forEach(p=>{const m=Math.min(l.getNodeDepth(p.getSource()),l.getNodeDepth(p.getTarget()));p.setAttribute("layer",m)}),o=o.filter(p=>!u.has(p._index)),i=i.filter(p=>!g.has(p._index)),n.removeNodes(this.context.metaNodes.subtract(e),{virtual:!0}),n.removeEdges(this.context.metaEdges.subtract(t),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update()}).then(()=>Promise.all(c)).then(()=>({metaNodes:e,metaEdges:t,subnodesVisibility:h,collapsedSubNodes:i,virtualNodes:e,virtualEdges:t,subNodes:s,nodeDataUpdates:this._context.nodeDataUpdates,edgeDataUpdates:this._context.edgeDataUpdates,subEdges:o,offsets:a}))}undo(){const{metaNodes:e,metaEdges:t,subnodesVisibility:n,subNodes:r,offsets:i,collapsedSubNodes:s,subEdges:o}=this._context,a=this.getAnimationDuration(),l=this._ogma.modules.grouping,c=this._ogma.getNodes(s.getMetaNode()).getPosition(),d=c.map((u,h)=>PW(u,i[h]));return r.forEach((u,h)=>u.setVisible(n[h])),o.setVisible(!0),l.setMetaElement(r,null),l.setMetaElement(o,null),e.setVisible(!1),t.setVisible(!1),s.setAttributes(c).then(()=>this._restorePositions?s.setAttributes(d,a):Promise.resolve(s))}cleanup(){const e=this._ogma,t=this._context,{metaNodes:n,metaEdges:r}=t;return Promise.all([()=>this._ogma.modules.grouping.resetOffsets(),e.removeEdges(r,{virtual:!0}),e.removeNodes(n,{virtual:!0})]).then(()=>Promise.resolve())}_setOptions({duration:e,enabled:t,padding:n,selector:r,groupIdFunction:i,nodeGenerator:s,edgeGroupIdFunction:o,edgeGenerator:a,separateEdgesByDirection:l,groupSelfLoopEdges:c,groupEdges:d,restorePositions:u,showContents:h,onCreated:g}={}){super._setOptions({nodeSelector:r,nodeGroupIdFunction:i,nodeGenerator:s,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGroupIdFunction:o,edgeGenerator:a,edgeSource:p=>dh(p.getSource()),edgeTarget:p=>dh(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._padding=n!==void 0?n:this.padding,this._showContents=h!==void 0?typeof h!="function"?()=>h:h:this._showContents,this._restorePositions=u===void 0?this._restorePositions:u,this._onCreated=g||this._onCreated}};function dh(e){return e.getMetaNode()||e}function PW(e,t){return{x:e.x+t.x,y:e.y+t.y}}var MW=e=>e/360+.5,FW=e=>{const t=Math.sin(e*Math.PI/180);return(e=.5-.25*Math.log((1+t)/(1-t))/Math.PI)<0?0:e>1?1:e},RW=256,DW=class extends LM{constructor(e){super(vt(we({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=jr(i.data,s):i.data=s,i}})),this._zoomLevels=e.zoomLevels?e.zoomLevels:[0,22],this._groupingRadius=e.radius===void 0?60:e.radius,this._generateIdFunction=e.groupIdFunction||(()=>""),this._shouldEnable=e.enabled,this._shouldRefreshClusters=!0}initialize(e){super.initialize(e);const t=this._ogma;this._ogma.modules.events.on("beforeGeoCameraMove",({zoom:n})=>{this.enabled&&t.geo.enabled()&&this.getClosestZoomLevel(n).zoom!==this._currentClusters.zoom&&(this._shouldRefreshClusters=!1,this._refresh())}),t.events.on("geoDisabled",()=>{this.isEnabled()&&this.disable(0).then(()=>{this._shouldEnable=!0})}),t.events.on("geoEnabled",()=>{this._shouldEnable&&this.enable(0)})}getPosition(e){return{x:e.getData(this._ogma.modules.geo.latitudePath),y:e.getData(this._ogma.modules.geo.longitudePath)}}getMercatorPosition(e){return{x:MW(e.getData(this._ogma.modules.geo.longitudePath)),y:FW(e.getData(this._ogma.modules.geo.latitudePath))}}getNodeId(e){var t;return((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.id)||""}enable(e){return this._ogma&&!this._ogma.modules.geo.isEnabled()?(this._shouldEnable=!0,Promise.resolve()):super.enable(e)}disable(e){return this._shouldEnable=!1,super.disable(e)}getCoords(e){var t;const n=((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.center)||{x:0,y:0},r={};return this.setToPropertyPath(r,this._ogma.modules.geo.latitudePath,n.x),this.setToPropertyPath(r,this._ogma.modules.geo.longitudePath,n.y),r}setToPropertyPath(e,t,n){if(typeof t=="string")return this.setToPropertyPath(e,t.split("."),n);{let r=e;t.forEach((i,s)=>{s===t.length-1?r[i]=n:r[i]||(r[i]={}),r=r[i]})}}nodeToElement(e){return{nodeId:e._index,generatedId:this._generateIdFunction(e),nodes:this._ogma.nodeList(new Uint32Array([e._index])),radius:e.getAttribute("radius"),center:this.getPosition(e),mercatorCenter:this.getMercatorPosition(e),zoom:1/0}}getCluster(e){const t=e.reduce((i,s)=>({x:i.x+s.center.x/e.length,y:i.y+s.center.y/e.length}),{x:0,y:0}),n=e.reduce((i,s)=>({x:i.x+s.mercatorCenter.x/e.length,y:i.y+s.mercatorCenter.y/e.length}),{x:0,y:0}),r=e.reduce((i,s)=>{const o=t.x-s.center.x,a=t.y-s.center.y,l=s.radius+Math.sqrt(o*o+a*a);return Math.max(l,i)},0);return{nodes:this._ogma.nodeList(new Uint32Array(e.map(({nodeId:i})=>i))),generatedId:e[0].generatedId,center:t,mercatorCenter:n,radius:r}}onePassCluster(e){const t=e.map(s=>this.nodeToElement(s)),[n,r]=this._zoomLevels,i=[];for(let s=r;Math.abs(s-n)>.01;s-=1*(r-n)/19){const o=[],a=new NW(t,({mercatorCenter:l})=>l.x,({mercatorCenter:l})=>l.y,16,Float32Array);t.forEach(l=>{if(l.zoom<=s)return;const c=this._groupingRadius/(RW*Math.pow(2,l.zoom-1));let d=a.within(l.mercatorCenter.x,l.mercatorCenter.y,c).map(u=>t[u]).filter(u=>u.zoom>s&&u&&u.generatedId===l.generatedId);d.length||(d=[l]),d.forEach(u=>u.zoom=s),o.push(vt(we({},this.getCluster(d)),{zoom:s,id:`${s.toFixed(2)}-${o.length}`}))}),i.push({zoom:s,clusters:o})}return i.map(({zoom:s,clusters:o})=>{const a=new Map;return o.forEach(l=>{l.nodes.forEach(({_index:c})=>a.set(c,l))}),{zoom:s,idToCluster:a}})}getClosestZoomLevel(e){return this._clustersByZoom.reduce((t,n)=>Math.abs(e-n.zoom)<Math.abs(e-t.zoom)?n:t)}run(){var e;this._shouldRefreshClusters&&(this._clustersByZoom=this.onePassCluster(this._ogma.getNodes().filter(n=>this._nodeSelector(n))));const t=((e=this._ogma.geo.getMap())==null?void 0:e.getZoom())||0;return this._currentClusters=this.getClosestZoomLevel(t),this.whenApplied().then(()=>{this._ogma.view.afterNextFrame().then(()=>{this._ogma.modules.geo.updateProjection()})}),this._shouldRefreshClusters=!0,super.run()}_setOptions(e){super._setOptions(vt(we({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=jr(i.data,s):i.data=s,i},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`}})),this._groupingRadius=e.radius===void 0?this._groupingRadius:e.radius,this._generateIdFunction=e.groupIdFunction||this._generateIdFunction,this._shouldRefreshClusters=!0,this._shouldEnable=e.enabled,this._ogma.modules.geo.filter._refresh(),this._refresh()}},zW=e=>({addNodeGrouping:(t={})=>{const n=new LM(t);return e.modules.transformations.add(n)},addEdgeGrouping:(t={})=>e.modules.transformations.add(new AW(t)),addGeoClustering:t=>{if(e.modules.transformations.getList().find(n=>n.getName()==="geo-clustering"))throw new Error("Trying to add more than one geo clustering. Please refer to the documentation about this issue.");return e.modules.transformations.add(new DW(t))}});function OW(e){return e!=null}function tA(e,t){return{source:e.getId(),target:t.getId()}}var BW=class extends ua{constructor(e){super(e);const{selector:t=Bp,neighborIdFunction:n=yd,nodeGenerator:r=()=>({}),edgeGenerator:i=tA}=e;this._generateIds=s=>t&&t(s)&&n(s)||null,this._nodeGenerator=r,this._edgeGenerator=i||tA}getName(){return"neighbor-generation"}run(){const e=this._id,t=this._ogma,n=this.getAnimationDuration(),r=t.getNodes(),i=new Map;for(let u=0;u<r.size;++u){const h=r.get(u),g=(jW(this._generateIds(h))||[]).filter(OW);if(g)for(let p=0;p<g.length;++p){const m=g[p];let _=i.get(m);_||(_=[],i.set(m,_)),_.push(h)}}const s=new Array(i.size),o=[],a=jp(i),l=co(i).map(u=>t.getNodes(u));for(let u=0;u<s.length;++u){const h=a[u],g=l[u],p=this._nodeGenerator(h,g);p.id=`_gen_${e}_${h}`;const m=ix(g.getPosition());p.attributes=p.attributes||{},p.attributes.x=m.x,p.attributes.y=m.y,s[u]=p}let c,d;return t.addNodes(s.map(u=>({id:u.id,attributes:u.attributes})),{virtual:!0}).then(()=>{c=t.getNodes(s.map(u=>u.id)),c.replaceOriginalAttributes(s.map(u=>u.attributes),["x","y"]),c.setData(null,s.map(u=>u.data));for(let u=0;u<c.size;++u){const h=c.get(u),g=l[u];for(let p=0;p<g.size;++p){const m=g.get(p),_=this._edgeGenerator(m,h);_.source||_.target||(_.source=m.getId(),_.target=h.getId()),_.id||(_.id=`${_.source}-${_.target}`),o.push(_)}}return t.addEdges(o,{virtual:!0})}).then(()=>(d=t.getEdges(o.map(u=>u.id)),c.setVisible(!0),d.setVisible(!0),c.addClass(ln),d.addClass(ln),t.removeNodes(this._context.virtualNodes.subtract(c),{virtual:!0}),t.removeEdges(this._context.virtualEdges.subtract(d),{virtual:!0}),Promise.all([c.removeClass(ln,n),d.removeClass(ln,n)]))).then(()=>({virtualNodes:c,virtualEdges:d}))}undo(){const{virtualNodes:e,virtualEdges:t}=this._context;if(!t||!e)return Promise.resolve(this._context);const n=this.getAnimationDuration();return Promise.all([e.addClass(ln,n),t.addClass(ln,n)]).then(()=>{e.setVisible(!1),t.setVisible(!1)})}cleanup(){const{virtualEdges:e,virtualNodes:t}=this._context;if(e&&t){const n=t.filter(i=>!i.isVisible()),r=e.filter(i=>!i.isVisible());this._ogma.removeNodes(n,{virtual:!0}),this._ogma.removeEdges(r,{virtual:!0})}return Promise.resolve()}_setOptions(e){const{selector:t,neighborIdFunction:n,nodeGenerator:r,edgeGenerator:i}=e;this._generateIds=t?s=>t&&t(s)&&n(s)||null:this._generateIds,this._nodeGenerator=r||this._nodeGenerator,this._edgeGenerator=i||this._edgeGenerator,super._setOptions(e)}};function jW(e){return Array.isArray(e)?e:e?[e]:null}var $W=class extends ua{constructor(e){super(e),this._selector=e.selector||_d,this._dataFunction=e.dataFunction||ft}run(){const e=this.getAnimationDuration(),t=this._ogma,n=t.getNodes().filter(this._selector?this._selector:d=>!0),r=[],i=new Map;for(let d=0;d<n.size;++d){const u=n.get(d),h=u.getAdjacentEdges(),g=this._dataFunction(u);for(let p=0;p<h.size;++p){const m=h.get(p),_=m.getSource(),y=m.getTarget();if(_!==y&&g!==void 0){const f=_===u?y:_;let v=i.get(f);v||(v=[],i.set(f,v)),v.push(g)}r.push(m)}}const s=t.getEdges(r),o=t.getNodes(jp(i)),a=co(i),l=o.getData(),c=new Array(o.size);for(let d=0;d<c.length;++d){const u=a[d];let h=l[d];for(let g=0;g<u.length;++g)h=jr(h,u[g]);c[d]=h}return Promise.all([n.addClass(ln,e),s.addClass(ln,e)]).then(()=>(n.setVisible(!1),s.setVisible(!1),o.setData(c),vt(we({},this._context),{hiddenNodes:n,hiddenEdges:s,nodesWithDataChange:o,oldDataList:l})))}getName(){return"neighbor-merging"}get context(){return this._context}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList(),nodesWithDataChange:this._ogma.nodeList(),oldDataList:[]})}undo(){const{hiddenNodes:e,hiddenEdges:t,nodesWithDataChange:n,oldDataList:r}=this._context;e.setVisible(!0),t.setVisible(!0),e.addClass(ln),t.addClass(ln);const i=this.getAnimationDuration();return Promise.all([e.removeClass(ln,i),t.removeClass(ln,i)]).then(()=>{n.setData(r)})}cleanup(){return Promise.resolve()}_setOptions(e){this._selector=e.selector||this._selector,this._dataFunction=e.dataFunction||this._dataFunction,super._setOptions(e)}},UW=e=>({addNeighborGeneration:t=>e.modules.transformations.add(new BW(t)),addNeighborMerging:t=>e.modules.transformations.add(new $W(t))});function VW(e,t){return e.size===t.size&&e.filter(n=>t.includes(n)).size>0}var GW=class extends ua{constructor(e){super(e),this._selector=e.selector||(t=>!1),this._edgeGenerator=e.edgeGenerator||(()=>({}))}getName(){return"node-collapsing"}get context(){return this._context}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList()})}run(){const e=this._ogma,t=this.getAnimationDuration(),n=e.getNodes().filter(this._selector),r=n.getAdjacentEdges(),i=[],s=n.map(o=>o.getAdjacentNodes().filter(a=>!this._selector(a)));for(let o=0;o<n.size;o++)for(let a=o;a<n.size;a++){const l=n.get(o),c=n.get(a);if(this._ogma.modules.graph.getEdgesBetweenTwoNodes(l,c).size>0&&(s[o].size||s[a].size)&&!VW(s[o],s[a]))throw Error(`addNodeCollapsing: invalid connected nodes [${l.getId()}] and [${c.getId()}] to be collapsed. The addNodeCollapsing function supports only disconnected nodes.`)}for(let o=0;o<n.size;++o){const a=n.get(o),l=s[o];for(let c=0;c<l.size-1;++c){const d=l.get(c),u=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,d);if(d!==a)for(let h=c+1;h<l.size;++h){const g=l.get(h),p=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,g),m=this._edgeGenerator(a,d,g,u,p);if(m){const _=xg(m);for(let y=0;y<_.length;++y)i.push(HW(e,_[y],y,a,d,g,u,p))}}}}return e.addEdges(i,{virtual:!0}).then(()=>this._ogma.getEdges(i.map(o=>o.id)).addClass(ln)).then(o=>Promise.all([o.removeClass(ln,t),n.addClass(ln,t),r.addClass(ln,t)])).then(([o])=>(n.setVisible(!1),r.setVisible(!1),o.setVisible(!0),e.removeEdges(this.context.virtualEdges.subtract(o),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update(),vt(we({},this._context),{virtualEdges:o,hiddenNodes:n,hiddenEdges:r})))}undo(){const{hiddenNodes:e,hiddenEdges:t}=this._context,n=this._ogma,r=this.getAnimationDuration(),i=this._context.virtualEdges||n.createEdgeList();return e.setVisible(!0),t.setVisible(!0),Promise.all([e.addClass(ln),t.addClass(ln)]).then(()=>Promise.all([i.addClass(ln,r),e.removeClass(ln,r),t.removeClass(ln,r)])).then(()=>{i.setVisible(!1)})}cleanup(){const e=this._context.virtualEdges||this._ogma.createEdgeList();return this._ogma.removeEdges(e,{virtual:!0})}_setOptions(e){this._selector=e.selector||this._selector,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,super._setOptions(e)}};function HW(e,t,n,r,i,s,o,a){let l,c;if(t.source!==void 0&&(l=e.getNode(t.source),l!==i&&l!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid source [${t.source}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(t.target!==void 0&&(c=e.getNode(t.target),c!==i&&c!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid target [${t.target}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(l&&c&&l===c)throw new Error(`addNodeCollapsing: edge generator produced RawEdge with same source and target [${l.getId()}]`);if(l&&!c)c=l===i?s:i;else if(c&&!l)l=c===i?s:i;else if(!l&&!c){let d=!0;for(let u=0;u<o.size;++u)o.get(u).getSource()===i&&(d=!1);for(let u=0;u<a.size;++u)a.get(u).getTarget()===s&&(d=!1);d?(l=s,c=i):(l=i,c=s)}return l&&c?vt(we({},t),{id:`_gen_${r.getId()}_${l.getId()}_${c.getId()}_${n}`,source:l.getId(),target:c.getId()}):{}}var WW=e=>({addNodeCollapsing:(t={})=>e.modules.transformations.add(new GW(t))}),qW=class extends ua{constructor(e){super(e),this._nodeSelector=e.nodeSelector||(t=>!0),this._edgeSelector=e.edgeSelector||(t=>!0),this._nodeDataFunction=e.nodeDataFunction||null,this._edgeDataFunction=e.edgeDataFunction||null}getName(){return"virtual-properties"}get context(){return this._context}resetContext(){super.resetContext(),this._context=vt(we({},this._context),{nodes:this._ogma.nodeList(),oldNodesData:[],edges:this._ogma.edgeList(),oldEdgesData:[]})}run(){const e=this._ogma,t=this._context;return this._nodeDataFunction&&(t.nodes=e.getNodes().filter(this._nodeSelector),t.oldNodesData=nA(t.nodes,this._nodeDataFunction)),this._edgeDataFunction&&(t.edges=e.getEdges().filter(this._edgeSelector),t.oldEdgesData=nA(t.edges,this._edgeDataFunction)),Promise.resolve(t)}undo(){const{nodes:e,oldNodesData:t,edges:n,oldEdgesData:r}=this._context;return e&&e.setData(t),n&&n.setData(r),Promise.resolve()}cleanup(){return Promise.resolve()}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._nodeDataFunction=e.nodeDataFunction||this._nodeDataFunction,this._edgeDataFunction=e.edgeDataFunction||this._edgeDataFunction,super._setOptions(e)}};function nA(e,t){const n=[];for(let r=0;r<e.size;++r){const i=e.get(r),s=i.getData(),o=t(i),a=jr(s,o);n.push(s),i.setData(a)}return n}var XW=e=>({addVirtualProperties:t=>e.modules.transformations.add(new qW(t))}),YW=class extends Yt{constructor(e){super(e),this.getList=()=>this._ogma.modules.transformations.getList(),this.clear=()=>this._ogma.modules.transformations.clear(),this.getById=g=>this._ogma.modules.transformations.getById(g),this.afterNextUpdate=()=>this._ogma.modules.transformations.whenApplied();const{addNodeGrouping:t,addEdgeGrouping:n,addGeoClustering:r}=zW(e);this.addNodeGrouping=t,this.addEdgeGrouping=n,this.addGeoClustering=r;const{addNodeClustering:i}=EW(e);this.addNodeClustering=i;const{addNodeFilter:s,addEdgeFilter:o,getNodeFilters:a,getEdgeFilters:l}=SW(e);this.addNodeFilter=s,this.addEdgeFilter=o,this.getNodeFilters=a,this.getEdgeFilters=l;const{addNeighborGeneration:c,addNeighborMerging:d}=UW(e);this.addNeighborGeneration=c,this.addNeighborMerging=d;const{addNodeCollapsing:u}=WW(e);this.addNodeCollapsing=u;const{addVirtualProperties:h}=XW(e);this.addVirtualProperties=h}},ZW=class{constructor(e,t){this._ogma=e,IP==="webgl"&&Uc.cacheInitData(Uc.createInitData()),this.settings=new A$(e),this.events=new w$(e),this.dom=new KO(e),this.animations=new aU(e),this.camera=new NP(e),this.graph=new UB(e),this.data=new tB(e),this.graphics=new m$(e),this.layers=new DG(e),this.individualAttributes=new S$(e),this.algorithms=new zG(e),this.position=new EG(e),this.touch=new Y$(e),this.mouse=new q$(e),this.virtualMouse=new UU(e),this.spatial=new R$(e),this.captor=new EV(e),this.interactions=new mV(e),this.classes=new L$(e),this.cameraInteractions=new l$(e,!!t.debug),this.hover=new wG(e),this.keyboard=new zV(e),this.selection=new J$(e),this.styleRules=new qU(e),this.legend=new xG(e),this.sync=new eU(e),this.rules=new LG(e),this.transformations=new Q$(e),this.filters=new PG(e),this.locate=new V$(e),this.drag=new SV(e),this.grouping=new Z$(e),this.pulses=new iU(e),this.curvatureManager=new wU(e),this.workers=new kU(e),this.layouts=new PU(e),this.watcher=new zU(e),this.rectangleSelect=new XU(e),this.labels=new pV(e,t),this.brand=new xU(e),this.lasso=new GP(e),this.rewiring=new CV(e),this.resizing=new kV(e),this.snapping=new VU(e),this.connectNodes=new LV(e),this.tooltip=new RV(e),this.geo=new bU(e),Object.keys(this).forEach(n=>{const r=this[n];r instanceof st&&(r._setModules(this),r.onMounted())}),e.onReady(()=>{Object.keys(this).forEach(n=>{const r=this[n];r instanceof st&&r.onReady(t)})})}destroy(){Object.keys(this).forEach(e=>{const t=this[e];t instanceof st&&t.destroy(this._ogma)})}},QW=1,KW=[K9,BG,nW,$B,oW,uW,hW],iy={version:"5.0.6",commit:"b7ae0e7b6",buildTime:"Fri Apr 12 2024 17:01:18 GMT+0000 (Coordinated Universal Time)"},sy=class{constructor(e={}){this.node=t=>new Hi(t,this),this.edge=t=>new uo(t,this),this.nodeList=t=>new xs(t||new Uint32Array(0),this),this.edgeList=t=>new ca(t||new Uint32Array(0),this),this._onReady=[],this.build=iy,this._init(e)}_init(e){this._initParameters=e,this._debug=!!e.debug,this._token=QW++,this.modules=new ZW(this,e),this.styles=new gW(this),this.algorithms=new OG(this),this.export=new iW(this),this.keyboard=new $G(this),this.generate=new sW(this),this.layouts=new lW(this),this.parse=new aW(this),this.transformations=new YW(this),this.tools=new mW(this),this.view=new ZH(this),this.mouse=new cW(this),this.events=new rW(this),this.schema=new $H(this),this.rules=new dW(this),this.geo=new jG(this),this.layers=new UG(this),this.debug=new tW(this),this._onReady.forEach(t=>t(this)),this.safelyBindToInstance(),this.modules.events.register(["destroy"]),this.build={version:"5.0.6",commit:"b7ae0e7b6",buildTime:"Fri Apr 12 2024 17:01:18 GMT+0000 (Coordinated Universal Time)"}}safelyBindToInstance(){for(const e of Object.getOwnPropertyNames(sy.prototype))typeof sy.prototype[e]=="function"&&(this[e]=this[e].bind(this))}onReady(e){this._onReady.push(e)}_destroy(){if(!this._token)throw new Error('"destroy" called twice on the same instance of Ogma');this._onReady=[],this.modules.destroy(),this.modules=null}destroy(){this.modules.events.fire("destroy",{}),this._destroy()}isDestroyed(){return!this.modules}reset(){const e=this._initParameters;this._destroy(),this._init(e)}isDebug(){return this._debug}},Jr=sy;Jr.libraries=ZT,Jr.geometry=MP,Jr.parse=ny,Jr.build=iy,Jr.algorithms=Q_,Jr.utils=t0,Jr.algorithms=Q_,Jr.utils=t0,Jr.parse=ny,Jr.build=iy,wz(Jr,KW);var JW=Jr,NM=wv(jT()),eq=JW;NM.Neo4JEdgeData;NM.Neo4JNodeData;var Il={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM=L;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wr=Object.prototype.hasOwnProperty,tq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rA={},iA={};function PM(e){return wr.call(iA,e)?!0:wr.call(rA,e)?!1:tq.test(e)?iA[e]=!0:(rA[e]=!0,!1)}function _r(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gn[e]=new _r(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gn[t]=new _r(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gn[e]=new _r(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gn[e]=new _r(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gn[e]=new _r(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gn[e]=new _r(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gn[e]=new _r(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gn[e]=new _r(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gn[e]=new _r(e,5,!1,e.toLowerCase(),null,!1,!1)});var kx=/[\-:]([a-z])/g;function Tx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kx,Tx);Gn[t]=new _r(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kx,Tx);Gn[t]=new _r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kx,Tx);Gn[t]=new _r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gn[e]=new _r(e,1,!1,e.toLowerCase(),null,!1,!1)});Gn.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gn[e]=new _r(e,1,!1,e.toLowerCase(),null,!0,!0)});var jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nq=["Webkit","ms","Moz","O"];Object.keys(jh).forEach(function(e){nq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jh[t]=jh[e]})});var rq=/["'&<>]/;function gr(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=rq.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var iq=/([A-Z])/g,sq=/^ms-/,oy=Array.isArray;function Zi(e,t){return{insertionMode:e,selectedValue:t}}function oq(e,t,n){switch(t){case"select":return Zi(1,n.value!=null?n.value:n.defaultValue);case"svg":return Zi(2,null);case"math":return Zi(3,null);case"foreignObject":return Zi(1,null);case"table":return Zi(4,null);case"thead":case"tbody":case"tfoot":return Zi(5,null);case"colgroup":return Zi(7,null);case"tr":return Zi(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Zi(1,null):e}var sA=new Map;function MM(e,t,n){if(typeof n!="object")throw Error(_t(62));t=!0;for(var r in n)if(wr.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=gr(r);i=gr((""+i).trim())}else{s=r;var o=sA.get(s);o!==void 0||(o=gr(s.replace(iq,"-$1").toLowerCase().replace(sq,"-ms-")),sA.set(s,o)),s=o,i=typeof i=="number"?i===0||wr.call(jh,r)?""+i:i+"px":gr((""+i).trim())}t?(t=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}t||e.push('"')}function Ir(e,t,n,r){switch(n){case"style":MM(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Gn.hasOwnProperty(n)?Gn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',gr(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',gr(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',gr(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',gr(r),'"')}}else if(PM(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',gr(r),'"')}}}function $h(e,t,n){if(t!=null){if(n!=null)throw Error(_t(60));if(typeof t!="object"||!("__html"in t))throw Error(_t(61));t=t.__html,t!=null&&e.push(""+t)}}function aq(e){var t="";return IM.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Bf(e,t,n,r){e.push(Mi(n));var i=n=null,s;for(s in t)if(wr.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Ir(e,r,s,o)}}return e.push(">"),$h(e,i,n),typeof n=="string"?(e.push(gr(n)),null):n}var lq=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,oA=new Map;function Mi(e){var t=oA.get(e);if(t===void 0){if(!lq.test(e))throw Error(_t(65,e));t="<"+e,oA.set(e,t)}return t}function cq(e,t,n,r,i){switch(t){case"select":e.push(Mi("select"));var s=null,o=null;for(d in n)if(wr.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Ir(e,r,d,a)}}return e.push(">"),$h(e,o,s),s;case"option":o=i.selectedValue,e.push(Mi("option"));var l=a=null,c=null,d=null;for(s in n)if(wr.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Ir(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:aq(a),oy(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(' selected=""');break}}else""+o===n&&e.push(' selected=""');else c&&e.push(' selected=""');return e.push(">"),$h(e,d,a),a;case"textarea":e.push(Mi("textarea")),d=o=s=null;for(a in n)if(wr.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(_t(91));default:Ir(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(">"),d!=null){if(s!=null)throw Error(_t(92));if(oy(d)&&1<d.length)throw Error(_t(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s!==null&&e.push(gr(""+s)),null;case"input":e.push(Mi("input")),l=d=a=s=null;for(o in n)if(wr.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Ir(e,r,o,c)}return d!==null?Ir(e,r,"checked",d):l!==null&&Ir(e,r,"checked",l),s!==null?Ir(e,r,"value",s):a!==null&&Ir(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Mi("menuitem"));for(var h in n)if(wr.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(_t(400));default:Ir(e,r,h,s)}return e.push(">"),null;case"title":e.push(Mi("title")),s=null;for(u in n)if(wr.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(_t(434));default:Ir(e,r,u,o)}return e.push(">"),s;case"listing":case"pre":e.push(Mi(t)),o=s=null;for(l in n)if(wr.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Ir(e,r,l,a)}if(e.push(">"),o!=null){if(s!=null)throw Error(_t(60));if(typeof o!="object"||!("__html"in o))throw Error(_t(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Mi(t));for(var g in n)if(wr.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,t));default:Ir(e,r,g,s)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Bf(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),Bf(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Bf(e,n,t,r);e.push(Mi(t)),o=s=null;for(c in n)if(wr.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":MM(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:PM(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",c,'="',gr(a),'"')}return e.push(">"),$h(e,o,s),s}}function aA(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(_t(395));return e.push(n),e.push('"></template>')}function dq(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(_t(397))}}function uq(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(_t(397))}}var hq=/[<\u2028\u2029]/g;function jf(e){return JSON.stringify(e).replace(hq,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function gq(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function lA(e,t,n,r){return n.generateStaticMarkup?(e.push(gr(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(gr(t)),e=!0),e)}var Wc=Object.assign,pq=Symbol.for("react.element"),FM=Symbol.for("react.portal"),RM=Symbol.for("react.fragment"),DM=Symbol.for("react.strict_mode"),zM=Symbol.for("react.profiler"),OM=Symbol.for("react.provider"),BM=Symbol.for("react.context"),jM=Symbol.for("react.forward_ref"),$M=Symbol.for("react.suspense"),UM=Symbol.for("react.suspense_list"),VM=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),mq=Symbol.for("react.scope"),fq=Symbol.for("react.debug_trace_mode"),_q=Symbol.for("react.legacy_hidden"),yq=Symbol.for("react.default_value"),cA=Symbol.iterator;function ay(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case RM:return"Fragment";case FM:return"Portal";case zM:return"Profiler";case DM:return"StrictMode";case $M:return"Suspense";case UM:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BM:return(e.displayName||"Context")+".Consumer";case OM:return(e._context.displayName||"Context")+".Provider";case jM:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case VM:return t=e.displayName||null,t!==null?t:ay(e.type)||"Memo";case Lx:t=e._payload,e=e._init;try{return ay(e(t))}catch{}}return null}var GM={};function dA(e,t){if(e=e.contextTypes,!e)return GM;var n={},r;for(r in e)n[r]=t[r];return n}var Oo=null;function sm(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(_t(401))}else{if(n===null)throw Error(_t(401));sm(e,n)}t.context._currentValue2=t.value}}function HM(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&HM(e)}function WM(e){var t=e.parent;t!==null&&WM(t),e.context._currentValue2=e.value}function qM(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(_t(402));e.depth===t.depth?sm(e,t):qM(e,t)}function XM(e,t){var n=t.parent;if(n===null)throw Error(_t(402));e.depth===n.depth?sm(e,n):XM(e,n),t.context._currentValue2=t.value}function Hg(e){var t=Oo;t!==e&&(t===null?WM(e):e===null?HM(t):t.depth===e.depth?sm(t,e):t.depth>e.depth?qM(t,e):XM(t,e),Oo=e)}var uA={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function hA(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=uA,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Wc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&uA.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=Wc({},s,a)):Wc(s,a))}e.state=s}else s.queue=null}var vq={id:1,overflow:""};function ly(e,t,n){var r=e.id;e=e.overflow;var i=32-Uh(r)-1;r&=~(1<<i),n+=1;var s=32-Uh(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Uh(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var Uh=Math.clz32?Math.clz32:wq,xq=Math.log,bq=Math.LN2;function wq(e){return e>>>=0,e===0?32:31-(xq(e)/bq|0)|0}function Eq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sq=typeof Object.is=="function"?Object.is:Eq,_s=null,Nx=null,Vh=null,Wt=null,xc=!1,Wg=!1,Pd=0,Xs=null,om=0;function Co(){if(_s===null)throw Error(_t(321));return _s}function gA(){if(0<om)throw Error(_t(312));return{memoizedState:null,queue:null,next:null}}function Ix(){return Wt===null?Vh===null?(xc=!1,Vh=Wt=gA()):(xc=!0,Wt=Vh):Wt.next===null?(xc=!1,Wt=Wt.next=gA()):(xc=!0,Wt=Wt.next),Wt}function Px(){Nx=_s=null,Wg=!1,Vh=null,om=0,Wt=Xs=null}function YM(e,t){return typeof t=="function"?t(e):t}function pA(e,t,n){if(_s=Co(),Wt=Ix(),xc){var r=Wt.queue;if(t=r.dispatch,Xs!==null&&(n=Xs.get(r),n!==void 0)){Xs.delete(r),r=Wt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Wt.memoizedState=r,[r,t]}return[Wt.memoizedState,t]}return e=e===YM?typeof t=="function"?t():t:n!==void 0?n(t):t,Wt.memoizedState=e,e=Wt.queue={last:null,dispatch:null},e=e.dispatch=Aq.bind(null,_s,e),[Wt.memoizedState,e]}function mA(e,t){if(_s=Co(),Wt=Ix(),t=t===void 0?null:t,Wt!==null){var n=Wt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!Sq(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Wt.memoizedState=[e,t],e}function Aq(e,t,n){if(25<=om)throw Error(_t(301));if(e===_s)if(Wg=!0,e={action:n,next:null},Xs===null&&(Xs=new Map),n=Xs.get(t),n===void 0)Xs.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function Cq(){throw Error(_t(394))}function uh(){}var fA={readContext:function(e){return e._currentValue2},useContext:function(e){return Co(),e._currentValue2},useMemo:mA,useReducer:pA,useRef:function(e){_s=Co(),Wt=Ix();var t=Wt.memoizedState;return t===null?(e={current:e},Wt.memoizedState=e):t},useState:function(e){return pA(YM,e)},useInsertionEffect:uh,useLayoutEffect:function(){},useCallback:function(e,t){return mA(function(){return e},t)},useImperativeHandle:uh,useEffect:uh,useDebugValue:uh,useDeferredValue:function(e){return Co(),e},useTransition:function(){return Co(),[!1,Cq]},useId:function(){var e=Nx.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Uh(e)-1)).toString(32)+t;var n=Gh;if(n===null)throw Error(_t(404));return t=Pd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Co(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(_t(407));return n()}},Gh=null,$f=IM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function kq(e){return console.error(e),null}function bc(){}function Tq(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?kq:i,onAllReady:s===void 0?bc:s,onShellReady:o===void 0?bc:o,onShellError:a===void 0?bc:a,onFatalError:l===void 0?bc:l},n=qg(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Mx(t,e,null,n,d,GM,null,vq),c.push(e),t}function Mx(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&KM(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function qg(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function Md(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Xg(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function _A(e,t,n,r,i){for(_s={},Nx=t,Pd=0,e=n(r,i);Wg;)Wg=!1,Pd=0,om+=1,Wt=null,e=n(r,i);return Px(),e}function yA(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(_t(108,ay(r)||"Unknown",a));r=Wc({},o,n)}t.legacyContext=r,Rr(e,t,i),t.legacyContext=o}else Rr(e,t,i)}function vA(e,t){if(e&&e.defaultProps){t=Wc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function cy(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=dA(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue2:i),hA(s,n,r,i),yA(e,t,s,n)}else{s=dA(n,t.legacyContext),i=_A(e,t,n,r,s);var o=Pd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)hA(i,n,r,s),yA(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=ly(r,1,0);try{Rr(e,t,i)}finally{t.treeContext=r}}else Rr(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=cq(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=oq(o,n,r),dy(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case _q:case fq:case DM:case zM:case RM:Rr(e,t,r.children);return;case UM:Rr(e,t,r.children);return;case mq:throw Error(_t(343));case $M:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=qg(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=qg(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(dy(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,Yg(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=Md(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Mx(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jM:if(r=_A(e,t,n.render,r,i),Pd!==0){n=t.treeContext,t.treeContext=ly(n,1,0);try{Rr(e,t,r)}finally{t.treeContext=n}}else Rr(e,t,r);return;case VM:n=n.type,r=vA(n,r),cy(e,t,n,r,i);return;case OM:if(i=r.children,n=n._context,r=r.value,s=n._currentValue2,n._currentValue2=r,o=Oo,Oo=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Rr(e,t,i),e=Oo,e===null)throw Error(_t(403));r=e.parentValue,e.context._currentValue2=r===yq?e.context._defaultValue:r,e=Oo=e.parent,t.context=e;return;case BM:r=r.children,r=r(n._currentValue2),Rr(e,t,r);return;case Lx:i=n._init,n=i(n._payload),r=vA(n,r),cy(e,t,n,r,void 0);return}throw Error(_t(130,n==null?n:typeof n,""))}}function Rr(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case pq:cy(e,t,n.type,n.props,n.ref);return;case FM:throw Error(_t(257));case Lx:var r=n._init;n=r(n._payload),Rr(e,t,n);return}if(oy(n)){xA(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=cA&&n[cA]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);xA(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=lA(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=lA(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function xA(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=ly(s,r,i);try{dy(e,t,n[i])}finally{t.treeContext=s}}}function dy(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Rr(e,t,n)}catch(l){if(Px(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=qg(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=Mx(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,Hg(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,Hg(s),l}}function Lq(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,QM(this,t,e)}function ZM(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(_t(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return ZM(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Yg(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Yg(e,n)}else e.completedSegments.push(t)}function QM(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(_t(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=bc,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Yg(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Lq,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Yg(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function KM(e){if(e.status!==2){var t=Oo,n=$f.current;$f.current=fA;var r=Gh;Gh=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){Hg(o.context);try{Rr(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,QM(a,o.blockedBoundary,l)}catch(p){if(Px(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Md(a,u);if(d===null?Xg(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&Fx(e,e.destination)}catch(p){Md(e,p),Xg(e,p)}finally{Gh=r,$f.current=n,n===fA&&Hg(t)}}}function hh(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)t.push(r[s]);i=am(e,t,i)}for(;s<r.length-1;s++)t.push(r[s]);return s<r.length&&(i=t.push(r[s])),i;default:throw Error(_t(390))}}function am(e,t,n){var r=n.boundary;if(r===null)return hh(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=gr(r),t.push(r),t.push('"')),t.push("></template>")),hh(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,aA(t,e.responseState,r),hh(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),aA(t,e.responseState,r.id),hh(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(_t(391));return am(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function bA(e,t,n){return dq(t,e.responseState,n.formatContext,n.id),am(e,t,n),uq(t,n.formatContext)}function wA(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)JM(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(_t(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function JM(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(_t(392));return bA(e,t,r)}return bA(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function Fx(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){am(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(_t(395));if(r.push(l),r.push('"'),c||d||u){r.push(",");var h=jf(c||"");r.push(h)}if(d||u){r.push(",");var g=jf(d||"");r.push(g)}if(u){r.push(",");var p=jf(u);r.push(p)}if(!r.push(")<\/script>")){e.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var m=e.completedBoundaries;for(s=0;s<m.length;s++)if(!wA(e,t,m[s])){e.destination=null,s++,m.splice(0,s);return}m.splice(0,s);var _=e.partialBoundaries;for(s=0;s<_.length;s++){var y=_[s];e:{i=e,o=t;var f=y.completedSegments;for(a=0;a<f.length;a++)if(!JM(i,o,y,f[a])){a++,f.splice(0,a);var v=!1;break e}f.splice(0,a),v=!0}if(!v){e.destination=null,s++,_.splice(0,s);return}}_.splice(0,s);var x=e.completedBoundaries;for(s=0;s<x.length;s++)if(!wA(e,t,x[s])){e.destination=null,s++,x.splice(0,s);return}x.splice(0,s)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function Nq(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return ZM(r,e,t)}),n.clear(),e.destination!==null&&Fx(e,e.destination)}catch(r){Md(e,r),Xg(e,r)}}function Iq(){}function eF(e,t,n,r){var i=!1,s=null,o="",a={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,s=c}},l=!1;if(e=Tq(e,gq(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Iq,void 0,function(){l=!0},void 0,void 0),KM(e),Nq(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{Fx(e,a)}catch(c){Md(e,c),Xg(e,c)}}if(i)throw s;if(!l)throw Error(_t(426));return o}Il.renderToNodeStream=function(){throw Error(_t(207))};Il.renderToStaticMarkup=function(e,t){return eF(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Il.renderToStaticNodeStream=function(){throw Error(_t(208))};Il.renderToString=function(e,t){return eF(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Il.version="18.2.0";var Rx={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF=L;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dr=null,zr=0;function Ze(e,t){if(t.length!==0)if(512<t.length)0<zr&&(e.enqueue(new Uint8Array(Dr.buffer,0,zr)),Dr=new Uint8Array(512),zr=0),e.enqueue(t);else{var n=Dr.length-zr;n<t.length&&(n===0?e.enqueue(Dr):(Dr.set(t.subarray(0,n),zr),e.enqueue(Dr),t=t.subarray(n)),Dr=new Uint8Array(512),zr=0),Dr.set(t,zr),zr+=t.length}}function en(e,t){return Ze(e,t),!0}function EA(e){Dr&&0<zr&&(e.enqueue(new Uint8Array(Dr.buffer,0,zr)),Dr=null,zr=0)}var nF=new TextEncoder;function St(e){return nF.encode(e)}function Ue(e){return nF.encode(e)}function rF(e,t){typeof e.error=="function"?e.error(t):e.close()}var Er=Object.prototype.hasOwnProperty,Pq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SA={},AA={};function iF(e){return Er.call(AA,e)?!0:Er.call(SA,e)?!1:Pq.test(e)?AA[e]=!0:(SA[e]=!0,!1)}function yr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Hn[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Hn[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Hn[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Hn[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Hn[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Hn[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Hn[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Hn[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Hn[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dx=/[\-:]([a-z])/g;function zx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dx,zx);Hn[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dx,zx);Hn[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dx,zx);Hn[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Hn[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Hn[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mq=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(e){Mq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hh[t]=Hh[e]})});var Fq=/["'&<>]/;function Bn(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=Fq.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var Rq=/([A-Z])/g,Dq=/^ms-/,uy=Array.isArray,zq=Ue("<script>"),Oq=Ue("<\/script>"),Bq=Ue('<script src="'),jq=Ue('<script type="module" src="'),CA=Ue('" async=""><\/script>'),$q=/(<\/|<)(s)(cript)/gi;function Uq(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function Vq(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?zq:Ue('<script nonce="'+Bn(t)+'">');var s=[];if(n!==void 0&&s.push(t,St((""+n).replace($q,Uq)),Oq),r!==void 0)for(n=0;n<r.length;n++)s.push(Bq,St(Bn(r[n])),CA);if(i!==void 0)for(r=0;r<i.length;r++)s.push(jq,St(Bn(i[r])),CA);return{bootstrapChunks:s,startInlineScript:t,placeholderPrefix:Ue(e+"P:"),segmentPrefix:Ue(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Fi(e,t){return{insertionMode:e,selectedValue:t}}function Gq(e){return Fi(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function Hq(e,t,n){switch(t){case"select":return Fi(1,n.value!=null?n.value:n.defaultValue);case"svg":return Fi(2,null);case"math":return Fi(3,null);case"foreignObject":return Fi(1,null);case"table":return Fi(4,null);case"thead":case"tbody":case"tfoot":return Fi(5,null);case"colgroup":return Fi(7,null);case"tr":return Fi(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Fi(1,null):e}var Ox=Ue("<!-- -->");function kA(e,t,n,r){return t===""?r:(r&&e.push(Ox),e.push(St(Bn(t))),!0)}var TA=new Map,Wq=Ue(' style="'),LA=Ue(":"),qq=Ue(";");function sF(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(Er.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=St(Bn(r));i=St(Bn((""+i).trim()))}else{s=r;var o=TA.get(s);o!==void 0||(o=Ue(Bn(s.replace(Rq,"-$1").toLowerCase().replace(Dq,"-ms-"))),TA.set(s,o)),s=o,i=typeof i=="number"?i===0||Er.call(Hh,r)?St(""+i):St(i+"px"):St(Bn((""+i).trim()))}t?(t=!1,e.push(Wq,s,LA,i)):e.push(qq,s,LA,i)}}t||e.push(ko)}var Is=Ue(" "),La=Ue('="'),ko=Ue('"'),NA=Ue('=""');function Pr(e,t,n,r){switch(n){case"style":sF(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Hn.hasOwnProperty(n)?Hn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=St(t.attributeName),t.type){case 3:r&&e.push(Is,n,NA);break;case 4:r===!0?e.push(Is,n,NA):r!==!1&&e.push(Is,n,La,St(Bn(r)),ko);break;case 5:isNaN(r)||e.push(Is,n,La,St(Bn(r)),ko);break;case 6:!isNaN(r)&&1<=r&&e.push(Is,n,La,St(Bn(r)),ko);break;default:t.sanitizeURL&&(r=""+r),e.push(Is,n,La,St(Bn(r)),ko)}}else if(iF(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Is,St(n),La,St(Bn(r)),ko)}}}var Ps=Ue(">"),IA=Ue("/>");function Wh(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(St(""+t))}}function Xq(e){var t="";return tF.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var Uf=Ue(' selected=""');function Vf(e,t,n,r){e.push(Ri(n));var i=n=null,s;for(s in t)if(Er.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Pr(e,r,s,o)}}return e.push(Ps),Wh(e,i,n),typeof n=="string"?(e.push(St(Bn(n))),null):n}var Gf=Ue(`
`),Yq=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,PA=new Map;function Ri(e){var t=PA.get(e);if(t===void 0){if(!Yq.test(e))throw Error(Et(65,e));t=Ue("<"+e),PA.set(e,t)}return t}var Zq=Ue("<!DOCTYPE html>");function Qq(e,t,n,r,i){switch(t){case"select":e.push(Ri("select"));var s=null,o=null;for(d in n)if(Er.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Pr(e,r,d,a)}}return e.push(Ps),Wh(e,o,s),s;case"option":o=i.selectedValue,e.push(Ri("option"));var l=a=null,c=null,d=null;for(s in n)if(Er.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Pr(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:Xq(a),uy(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(Uf);break}}else""+o===n&&e.push(Uf);else c&&e.push(Uf);return e.push(Ps),Wh(e,d,a),a;case"textarea":e.push(Ri("textarea")),d=o=s=null;for(a in n)if(Er.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:Pr(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(Ps),d!=null){if(s!=null)throw Error(Et(92));if(uy(d)&&1<d.length)throw Error(Et(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(Gf),s!==null&&e.push(St(Bn(""+s))),null;case"input":e.push(Ri("input")),l=d=a=s=null;for(o in n)if(Er.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Pr(e,r,o,c)}return d!==null?Pr(e,r,"checked",d):l!==null&&Pr(e,r,"checked",l),s!==null?Pr(e,r,"value",s):a!==null&&Pr(e,r,"value",a),e.push(IA),null;case"menuitem":e.push(Ri("menuitem"));for(var h in n)if(Er.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:Pr(e,r,h,s)}return e.push(Ps),null;case"title":e.push(Ri("title")),s=null;for(u in n)if(Er.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:Pr(e,r,u,o)}return e.push(Ps),s;case"listing":case"pre":e.push(Ri(t)),o=s=null;for(l in n)if(Er.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Pr(e,r,l,a)}if(e.push(Ps),o!=null){if(s!=null)throw Error(Et(60));if(typeof o!="object"||!("__html"in o))throw Error(Et(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(Gf,St(n)):e.push(St(""+n)))}return typeof s=="string"&&s[0]===`
`&&e.push(Gf),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Ri(t));for(var g in n)if(Er.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:Pr(e,r,g,s)}return e.push(IA),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Vf(e,n,t,r);case"html":return i.insertionMode===0&&e.push(Zq),Vf(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Vf(e,n,t,r);e.push(Ri(t)),o=s=null;for(c in n)if(Er.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":sF(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:iF(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Is,St(c),La,St(Bn(a)),ko)}return e.push(Ps),Wh(e,o,s),s}}var Kq=Ue("</"),Jq=Ue(">"),eX=Ue('<template id="'),tX=Ue('"></template>'),nX=Ue("<!--$-->"),rX=Ue('<!--$?--><template id="'),iX=Ue('"></template>'),sX=Ue("<!--$!-->"),oX=Ue("<!--/$-->"),aX=Ue("<template"),lX=Ue('"'),cX=Ue(' data-dgst="');Ue(' data-msg="');Ue(' data-stck="');var dX=Ue("></template>");function MA(e,t,n){if(Ze(e,rX),n===null)throw Error(Et(395));return Ze(e,n),en(e,iX)}var uX=Ue('<div hidden id="'),hX=Ue('">'),gX=Ue("</div>"),pX=Ue('<svg aria-hidden="true" style="display:none" id="'),mX=Ue('">'),fX=Ue("</svg>"),_X=Ue('<math aria-hidden="true" style="display:none" id="'),yX=Ue('">'),vX=Ue("</math>"),xX=Ue('<table hidden id="'),bX=Ue('">'),wX=Ue("</table>"),EX=Ue('<table hidden><tbody id="'),SX=Ue('">'),AX=Ue("</tbody></table>"),CX=Ue('<table hidden><tr id="'),kX=Ue('">'),TX=Ue("</tr></table>"),LX=Ue('<table hidden><colgroup id="'),NX=Ue('">'),IX=Ue("</colgroup></table>");function PX(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ze(e,uX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,hX);case 2:return Ze(e,pX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,mX);case 3:return Ze(e,_X),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,yX);case 4:return Ze(e,xX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,bX);case 5:return Ze(e,EX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,SX);case 6:return Ze(e,CX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,kX);case 7:return Ze(e,LX),Ze(e,t.segmentPrefix),Ze(e,St(r.toString(16))),en(e,NX);default:throw Error(Et(397))}}function MX(e,t){switch(t.insertionMode){case 0:case 1:return en(e,gX);case 2:return en(e,fX);case 3:return en(e,vX);case 4:return en(e,wX);case 5:return en(e,AX);case 6:return en(e,TX);case 7:return en(e,IX);default:throw Error(Et(397))}}var FX=Ue('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),RX=Ue('$RS("'),DX=Ue('","'),zX=Ue('")<\/script>'),OX=Ue('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),BX=Ue('$RC("'),jX=Ue('","'),$X=Ue('")<\/script>'),UX=Ue('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),VX=Ue('$RX("'),GX=Ue('"'),HX=Ue(")<\/script>"),Hf=Ue(","),WX=/[<\u2028\u2029]/g;function Wf(e){return JSON.stringify(e).replace(WX,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var qc=Object.assign,qX=Symbol.for("react.element"),oF=Symbol.for("react.portal"),aF=Symbol.for("react.fragment"),lF=Symbol.for("react.strict_mode"),cF=Symbol.for("react.profiler"),dF=Symbol.for("react.provider"),uF=Symbol.for("react.context"),hF=Symbol.for("react.forward_ref"),gF=Symbol.for("react.suspense"),pF=Symbol.for("react.suspense_list"),mF=Symbol.for("react.memo"),Bx=Symbol.for("react.lazy"),XX=Symbol.for("react.scope"),YX=Symbol.for("react.debug_trace_mode"),ZX=Symbol.for("react.legacy_hidden"),QX=Symbol.for("react.default_value"),FA=Symbol.iterator;function hy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case aF:return"Fragment";case oF:return"Portal";case cF:return"Profiler";case lF:return"StrictMode";case gF:return"Suspense";case pF:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uF:return(e.displayName||"Context")+".Consumer";case dF:return(e._context.displayName||"Context")+".Provider";case hF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mF:return t=e.displayName||null,t!==null?t:hy(e.type)||"Memo";case Bx:t=e._payload,e=e._init;try{return hy(e(t))}catch{}}return null}var fF={};function RA(e,t){if(e=e.contextTypes,!e)return fF;var n={},r;for(r in e)n[r]=t[r];return n}var Bo=null;function lm(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));lm(e,n)}t.context._currentValue=t.value}}function _F(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&_F(e)}function yF(e){var t=e.parent;t!==null&&yF(t),e.context._currentValue=e.value}function vF(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?lm(e,t):vF(e,t)}function xF(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?lm(e,n):xF(e,n),t.context._currentValue=t.value}function Zg(e){var t=Bo;t!==e&&(t===null?yF(e):e===null?_F(t):t.depth===e.depth?lm(t,e):t.depth>e.depth?vF(t,e):xF(t,e),Bo=e)}var DA={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function zA(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=DA,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:qc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&DA.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=qc({},s,a)):qc(s,a))}e.state=s}else s.queue=null}var KX={id:1,overflow:""};function gy(e,t,n){var r=e.id;e=e.overflow;var i=32-qh(r)-1;r&=~(1<<i),n+=1;var s=32-qh(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-qh(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var qh=Math.clz32?Math.clz32:tY,JX=Math.log,eY=Math.LN2;function tY(e){return e>>>=0,e===0?32:31-(JX(e)/eY|0)|0}function nY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rY=typeof Object.is=="function"?Object.is:nY,ys=null,jx=null,Xh=null,qt=null,wc=!1,Qg=!1,Fd=0,Ys=null,cm=0;function To(){if(ys===null)throw Error(Et(321));return ys}function OA(){if(0<cm)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function $x(){return qt===null?Xh===null?(wc=!1,Xh=qt=OA()):(wc=!0,qt=Xh):qt.next===null?(wc=!1,qt=qt.next=OA()):(wc=!0,qt=qt.next),qt}function Ux(){jx=ys=null,Qg=!1,Xh=null,cm=0,qt=Ys=null}function bF(e,t){return typeof t=="function"?t(e):t}function BA(e,t,n){if(ys=To(),qt=$x(),wc){var r=qt.queue;if(t=r.dispatch,Ys!==null&&(n=Ys.get(r),n!==void 0)){Ys.delete(r),r=qt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return qt.memoizedState=r,[r,t]}return[qt.memoizedState,t]}return e=e===bF?typeof t=="function"?t():t:n!==void 0?n(t):t,qt.memoizedState=e,e=qt.queue={last:null,dispatch:null},e=e.dispatch=iY.bind(null,ys,e),[qt.memoizedState,e]}function jA(e,t){if(ys=To(),qt=$x(),t=t===void 0?null:t,qt!==null){var n=qt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!rY(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),qt.memoizedState=[e,t],e}function iY(e,t,n){if(25<=cm)throw Error(Et(301));if(e===ys)if(Qg=!0,e={action:n,next:null},Ys===null&&(Ys=new Map),n=Ys.get(t),n===void 0)Ys.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function sY(){throw Error(Et(394))}function gh(){}var $A={readContext:function(e){return e._currentValue},useContext:function(e){return To(),e._currentValue},useMemo:jA,useReducer:BA,useRef:function(e){ys=To(),qt=$x();var t=qt.memoizedState;return t===null?(e={current:e},qt.memoizedState=e):t},useState:function(e){return BA(bF,e)},useInsertionEffect:gh,useLayoutEffect:function(){},useCallback:function(e,t){return jA(function(){return e},t)},useImperativeHandle:gh,useEffect:gh,useDebugValue:gh,useDeferredValue:function(e){return To(),e},useTransition:function(){return To(),[!1,sY]},useId:function(){var e=jx.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-qh(e)-1)).toString(32)+t;var n=Yh;if(n===null)throw Error(Et(404));return t=Fd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return To(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},Yh=null,qf=tF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function oY(e){return console.error(e),null}function Ec(){}function aY(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?oY:i,onAllReady:s===void 0?Ec:s,onShellReady:o===void 0?Ec:o,onShellError:a===void 0?Ec:a,onFatalError:l===void 0?Ec:l},n=Kg(t,0,null,n,!1,!1),n.parentFlushed=!0,e=Vx(t,e,null,n,d,fF,null,KX),c.push(e),t}function Vx(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&SF(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function Kg(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function Rd(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Jg(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,rF(e.destination,t)):(e.status=1,e.fatalError=t)}function UA(e,t,n,r,i){for(ys={},jx=t,Fd=0,e=n(r,i);Qg;)Qg=!1,Fd=0,cm+=1,qt=null,e=n(r,i);return Ux(),e}function VA(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Et(108,hy(r)||"Unknown",a));r=qc({},o,n)}t.legacyContext=r,Or(e,t,i),t.legacyContext=o}else Or(e,t,i)}function GA(e,t){if(e&&e.defaultProps){t=qc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function py(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=RA(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue:i),zA(s,n,r,i),VA(e,t,s,n)}else{s=RA(n,t.legacyContext),i=UA(e,t,n,r,s);var o=Fd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)zA(i,n,r,s),VA(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=gy(r,1,0);try{Or(e,t,i)}finally{t.treeContext=r}}else Or(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=Qq(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=Hq(o,n,r),my(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(Kq,St(n),Jq)}i.lastPushedText=!1}else{switch(n){case ZX:case YX:case lF:case cF:case aF:Or(e,t,r.children);return;case pF:Or(e,t,r.children);return;case XX:throw Error(Et(343));case gF:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=Kg(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=Kg(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(my(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(Ox),c.status=1,ep(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=Rd(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=Vx(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case hF:if(r=UA(e,t,n.render,r,i),Fd!==0){n=t.treeContext,t.treeContext=gy(n,1,0);try{Or(e,t,r)}finally{t.treeContext=n}}else Or(e,t,r);return;case mF:n=n.type,r=GA(n,r),py(e,t,n,r,i);return;case dF:if(i=r.children,n=n._context,r=r.value,s=n._currentValue,n._currentValue=r,o=Bo,Bo=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Or(e,t,i),e=Bo,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue=r===QX?e.context._defaultValue:r,e=Bo=e.parent,t.context=e;return;case uF:r=r.children,r=r(n._currentValue),Or(e,t,r);return;case Bx:i=n._init,n=i(n._payload),r=GA(n,r),py(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Or(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case qX:py(e,t,n.type,n.props,n.ref);return;case oF:throw Error(Et(257));case Bx:var r=n._init;n=r(n._payload),Or(e,t,n);return}if(uy(n)){HA(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=FA&&n[FA]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);HA(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=kA(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=kA(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function HA(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=gy(s,r,i);try{my(e,t,n[i])}finally{t.treeContext=s}}}function my(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Or(e,t,n)}catch(l){if(Ux(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=Kg(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=Vx(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,Zg(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,Zg(s),l}}function lY(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,EF(this,t,e)}function wF(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return wF(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function ep(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&ep(e,n)}else e.completedSegments.push(t)}function EF(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ec,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&ep(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(lY,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(ep(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function SF(e){if(e.status!==2){var t=Bo,n=qf.current;qf.current=$A;var r=Yh;Yh=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){Zg(o.context);try{Or(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(Ox),o.abortSet.delete(o),l.status=1,EF(a,o.blockedBoundary,l)}catch(p){if(Ux(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Rd(a,u);if(d===null?Jg(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&Gx(e,e.destination)}catch(p){Rd(e,p),Jg(e,p)}finally{Yh=r,qf.current=n,n===$A&&Zg(t)}}}function ph(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ze(t,eX),Ze(t,e.placeholderPrefix),e=St(r.toString(16)),Ze(t,e),en(t,tX);case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)Ze(t,r[s]);i=dm(e,t,i)}for(;s<r.length-1;s++)Ze(t,r[s]);return s<r.length&&(i=en(t,r[s])),i;default:throw Error(Et(390))}}function dm(e,t,n){var r=n.boundary;if(r===null)return ph(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,en(t,sX),Ze(t,aX),r&&(Ze(t,cX),Ze(t,St(Bn(r))),Ze(t,lX)),en(t,dX),ph(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;i=Ue(i.boundaryPrefix+s.toString(16)),r=r.id=i,MA(t,e.responseState,r),ph(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),MA(t,e.responseState,r.id),ph(e,t,n);else{if(en(t,nX),n=r.completedSegments,n.length!==1)throw Error(Et(391));dm(e,t,n[0])}return en(t,oX)}function WA(e,t,n){return PX(t,e.responseState,n.formatContext,n.id),dm(e,t,n),MX(t,n.formatContext)}function qA(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)AF(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ze(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ze(t,BX):(e.sentCompleteBoundaryFunction=!0,Ze(t,OX)),r===null)throw Error(Et(395));return n=St(n.toString(16)),Ze(t,r),Ze(t,jX),Ze(t,e.segmentPrefix),Ze(t,n),en(t,$X)}function AF(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return WA(e,t,r)}return WA(e,t,r),e=e.responseState,Ze(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ze(t,RX):(e.sentCompleteSegmentFunction=!0,Ze(t,FX)),Ze(t,e.segmentPrefix),i=St(i.toString(16)),Ze(t,i),Ze(t,DX),Ze(t,e.placeholderPrefix),Ze(t,i),en(t,zX)}function Gx(e,t){Dr=new Uint8Array(512),zr=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){dm(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ze(t,r[n]);n<r.length&&en(t,r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(Ze(r,a.startInlineScript),a.sentClientRenderFunction?Ze(r,VX):(a.sentClientRenderFunction=!0,Ze(r,UX)),l===null)throw Error(Et(395));Ze(r,l),Ze(r,GX),(c||d||u)&&(Ze(r,Hf),Ze(r,St(Wf(c||"")))),(d||u)&&(Ze(r,Hf),Ze(r,St(Wf(d||"")))),u&&(Ze(r,Hf),Ze(r,St(Wf(u)))),en(r,HX)}i.splice(0,s);var h=e.completedBoundaries;for(s=0;s<h.length;s++)qA(e,t,h[s]);h.splice(0,s),EA(t),Dr=new Uint8Array(512),zr=0;var g=e.partialBoundaries;for(s=0;s<g.length;s++){var p=g[s];e:{i=e,o=t;var m=p.completedSegments;for(a=0;a<m.length;a++)if(!AF(i,o,p,m[a])){a++,m.splice(0,a);var _=!1;break e}m.splice(0,a),_=!0}if(!_){e.destination=null,s++,g.splice(0,s);return}}g.splice(0,s);var y=e.completedBoundaries;for(s=0;s<y.length;s++)qA(e,t,y[s]);y.splice(0,s)}finally{EA(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function XA(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return wF(r,e,t)}),n.clear(),e.destination!==null&&Gx(e,e.destination)}catch(r){Rd(e,r),Jg(e,r)}}Rx.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,s,o=new Promise(function(d,u){s=d,i=u}),a=aY(e,Vq(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),Gq(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var d=new ReadableStream({type:"bytes",pull:function(u){if(a.status===1)a.status=2,rF(u,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=u;try{Gx(a,u)}catch(h){Rd(a,h),Jg(a,h)}}},cancel:function(){XA(a)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,c=function(){XA(a,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}SF(a)})};Rx.version="18.2.0";var Pl,CF;Pl=Il,CF=Rx;Pl.version;var fy=Pl.renderToString;Pl.renderToStaticMarkup;Pl.renderToNodeStream;Pl.renderToStaticNodeStream;CF.renderToReadableStream;const kF=L.createContext(void 0),rr=()=>{const e=L.useContext(kF);if(!e)throw new Error("useOgma must be used within an OgmaProvider");return e};var TF={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function cY(){if(YA)return tc;YA=1;var e=E,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,u={},h=null,g=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(u[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:g,props:u,_owner:i.current}}return tc.Fragment=n,tc.jsx=o,tc.jsxs=o,tc}(function(e){e.exports=cY()})(TF);const ZA=TF.exports.jsx,QA={},dY=({options:e=QA,children:t,graph:n,onReady:r},i)=>{const[s,o]=L.useState(!1),[a,l]=L.useState(),[c,d]=L.useState(null),[u,h]=L.useState(),[g,p]=L.useState(QA);return L.useImperativeHandle(i,()=>a,[a]),L.useEffect(()=>{if(c){const m=new eq({container:c,graph:n,options:e});l(m),o(!0),r&&r(m)}},[l,c]),L.useLayoutEffect(()=>{const m=()=>a==null?void 0:a.view.forceResize();return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),L.useEffect(()=>{a&&(n&&a&&n!==u&&(h(n),a.setGraph(n)),e&&g!==e&&(p(e),a.setOptions(e)))},[n,e]),ZA(kF.Provider,{value:a,children:ZA("div",{style:{width:"100%",height:"100%"},ref:m=>d(m),children:s&&t})})},uY=L.forwardRef(dY),hY=({selector:e,attributes:t},n)=>{const r=rr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addNodeRule(e,t):r.styles.addNodeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(hY);const gY=({selector:e,attributes:t},n)=>{const r=rr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addEdgeRule(e,t):r.styles.addEdgeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(gY);function fa(e,t,n){t===e.isEnabled()&&(t?e.disable(n):e.enable(n))}function _a(e,t,n){const r=({target:l})=>{l===t&&e.onEnabled&&e.onEnabled(t)},i=({target:l})=>{l===t&&e.onDisabled&&e.onDisabled(t)},s=({target:l})=>{l===t&&e.onUpdated&&e.onUpdated(t)},o=({target:l,index:c})=>{l===t&&e.onSetIndex&&e.onSetIndex(t,c)},a=({target:l})=>{l===t&&(e.onDestroyed&&e.onDestroyed(t),n.events.off(r).off(i).off(s).off(o).off(a))};return n.events.on("transformationEnabled",r).on("transformationDisabled",i).on("transformationDestroyed",a).on("transformationSetIndex",o).on("transformationRefresh",s),()=>{n.events.off(r).off(i).off(s).off(o).off(a)}}function pY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeGrouping({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.groupIdFunction,e.groupSelfLoopEdges,e.edgeGenerator,e.nodeGenerator,e.groupEdges,e.padding,e.selector,e.showContents,e.separateEdgesByDirection]),null}L.forwardRef(pY);function mY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeGrouping({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.selector,e.generator,e.groupIdFunction,e.separateEdgesByDirection]),null}L.forwardRef(mY);function fY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeCollapsing({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.selector]),null}L.forwardRef(fY);function _Y(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborMerging({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.dataFunction,e.selector]),null}L.forwardRef(_Y);function yY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborGeneration({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.nodeGenerator,e.neighborIdFunction,e.selector]),null}L.forwardRef(yY);function vY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeFilter({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(vY);function xY(e,t){const n=rr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeFilter({...e,enabled:!e.disabled});return _a(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&fa(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(xY);function _y(e,t,n,r){return typeof n=="string"?n:fy(typeof n=="function"?n(e,t):r)}function Al(e,t){return typeof e=="function"?e(t):e}const tp=(e,t)=>`${e} ${e}--${t}`;function KA(e="&times;",t){if(e){const n=typeof e=="string"?e:fy(e);return`<div class=${t}>${n}</div>`}return""}function bY(e,t,n,r){const{width:i,height:s}=r.view.getSize(),{x:o,y:a}=r.view.graphToScreenCoordinates(e);let l=t;const{width:c,height:d}=n;return t==="left"&&o-c<0?l="right":t==="right"&&o+c>i?l="left":t==="bottom"&&a+d>s?l="top":t==="top"&&a-d<0&&(l="bottom"),l==="right"||l==="left"?a+d/2>s?l="top":a-d/2<0&&(l="bottom"):o+c/2>i?l="left":o-c/2<0&&(l="right"),l}function wY(){}const Xf={x:-9999,y:-9999},EY="ogma-popup--content",SY="ogma-popup--close",AY="ogma-popup--body",CY="ogma-popup",kY=({content:e,position:t,children:n,isOpen:r=!0,closeButton:i,onClose:s=wY,placement:o="top",popupClass:a=CY,closeButtonClass:l=SY,contentClass:c=EY,popupBodyClass:d=AY,size:u,closeOnEsc:h=!0},g)=>{const p=rr(),[m,_]=L.useState(null);return L.useImperativeHandle(g,()=>m,[m]),L.useEffect(()=>{const y=Al(t,p)||Xf,f=_y(p,y,e,n),v=p.layers.addOverlay({position:y||Xf,element:`<div class="${tp(a,o)}"/>
          <div class="${d}">
            ${KA(i,l)}
            <div class="${c} ">${f}</div>
          </div>
        </div>`,size:u||{width:"auto",height:"auto"},scaled:!1}),x=b=>{const A=v.element.querySelector(`.${l}`);b.target&&A.contains(b.target)&&(b.stopPropagation(),b.preventDefault(),s())},w=({code:b})=>{b===27&&s()};return h&&p.events.on("keyup",w),v.element.addEventListener("click",x),_(v),r||v.hide(),()=>{m&&(m.element.removeEventListener("click",x),p.events.off(w),m.destroy(),_(null))}},[]),L.useEffect(()=>{if(m){const y=Al(t,p)||Xf,f=_y(p,y,e),{element:v}=m;v.className=tp(a,o),v.querySelector(`.${d}`).innerHTML=`
      ${KA(i,l)}
      <div class="${c} ">${f}</div>`,m.setPosition(y),r?m.show():m.hide()}},[e,t,r,o]),!m||!n?null:yo.createPortal(n,m.element.querySelector(`.${d}`))};L.forwardRef(kY);const TY=({tooltipClass:e="ogma-tooltip",placement:t="right",position:n,size:r={width:"auto",height:"auto"},children:i,content:s,visible:o=!0},a)=>{const l=rr(),[c,d]=L.useState(),[u,h]=L.useState(),[g,p]=L.useState(""),[m,_]=L.useState(),y=L.useRef();return L.useImperativeHandle(a,()=>c,[c]),L.useEffect(()=>{const f=`<div class="${tp(e,t)}"><div class="${e}--content" /></div>`,v=Al(n,l);h(v);const x=l.layers.addOverlay({position:v||{x:-9999,y:-9999},element:f,scaled:!1,size:r});return d(x),()=>{x.destroy()}},[]),L.useEffect(()=>{const f=_y(l,u,s,i);if(c){f!==g&&(c.element.firstElementChild.innerHTML=f,p(f),_({width:c.element.offsetWidth,height:c.element.offsetHeight}));const v=Al(n,l);u!==v&&h(v),o?c.show():c.hide()}return y.current=requestAnimationFrame(()=>{c&&u&&m&&(c.element.className=tp(e,bY(u,t,m,l)),c.setPosition(u))}),()=>cancelAnimationFrame(y.current)},[i,s,n,o]),null};L.forwardRef(TY);const LY=({noClear:e=!1,isStatic:t=!1,render:n,index:r,visible:i},s)=>{const o=rr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=o.layers.addCanvasLayer(n,{isStatic:t,noClear:e},r);return l(c),()=>{c&&(c.destroy(),l(null))}},[]),L.useEffect(()=>{a&&(r!==void 0&&isFinite(r)&&a.moveTo(r),i===a.isHidden()&&i?a.show():a.hide())},[a,r,i]),null};L.forwardRef(LY);const Yf={x:-9999,y:-9999};L.forwardRef(({position:e,children:t,className:n="",size:r,scaled:i},s)=>{const o=rr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=Al(e,o)||Yf,d=document.createElement("div");d.className=n;const u=o.layers.addOverlay({position:c||Yf,element:d,size:r||{width:"auto",height:"auto"},scaled:i});return l(u),()=>{a&&(a.destroy(),l(null))}},[]),L.useEffect(()=>{if(a){const c=Al(e,o)||Yf;n&&(a.element.className=n),a.setPosition(c)}},[e,n]),a?yo.createPortal(t,a.element):null});const NY=L.forwardRef(({children:e,className:t="",index:n},r)=>{const i=rr(),[s,o]=L.useState(null);return L.useImperativeHandle(r,()=>s,[s]),L.useEffect(()=>{const a=document.createElement("div");a.className=t;const l=i.layers.addLayer(a,n);return o(l),()=>{s&&(s.destroy(),o(null))}},[]),L.useEffect(()=>{s&&(s.element.className=t)},[t]),s?yo.createPortal(e,s.element):null});var IY=Object.defineProperty,PY=(e,t,n)=>t in e?IY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t,n)=>(PY(e,typeof t!="symbol"?t+"":t,n),n),MY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var LF={exports:{}};(function(e){(function(t,n){e.exports=n()})("Vector",function(){var t=function(){var n=Math.PI*2,r=180/Math.PI,i=Math.PI/180;function s(c){return Math.round(c*1e8)/1e8}function o(c,d){var u=d.x-c.x,h=d.y-c.y;return Math.sqrt(u*u+h*h)}function a(c,d,u){var h=d.y-c.y,g=d.x-c.x,p=Math.atan2(h,g);if(u)for(;p<0;)p+=n;return p}function l(c,d){this.x=c!==void 0?c:0,this.y=d!==void 0?d:0}return l.fromRadians=function(c){var d=Math.cos(c),u=Math.sin(c);return new l(d,u)},l.fromDegrees=function(c){var d=c*(Math.PI/180);return l.fromRadians(d)},l.fromString=function(c){var d=c.split(",");return new l(parseFloat(d[0]),parseFloat(d[1]))},l.fromArray=function(c){return new l(c[0],c[1])},l.prototype={version:"2.0.1",clone:function(){return new l(this.x,this.y)},equals:function(c){return this.prototype===c.prototype&&this.x===c.x&&this.y===c.y},copy:function(c){return this.x=c.x,this.y=c.y,this},copyX:function(c){return this.x=c.x,this},copyY:function(c){return this.y=c.y,this},toDict:function(){return{x:this.x,y:this.y}},toArray:function(){return[this.x,this.y]},set:function(c,d){return c!==void 0&&(this.x=c),d!==void 0&&(this.y=d),this},flipXY:function(){return new l(this.y,this.x)},flipXYSelf:function(){return this.y=[this.x,this.x=this.y][0],this},invert:function(){return this.mulScalar(-1)},invertSelf:function(){return this.mulScalarSelf(-1),this},distanceFrom:function(c){return o(this,c)},radiansTo:function(c){return a(this,c,!0)},degreesTo:function(c){return a(this,c,!0)*r},toRadians:function(c){return a(l.zero,this,!0)},toDegrees:function(c){return this.toRadians()*r},rotateDegreesSelf:function(c){return this.rotateRadiansSelf(c*i)},rotateDegrees:function(c){return this.clone().rotateDegreesSelf(c)},rotateRadiansSelf:function(c){var d=Math.cos(c),u=Math.sin(c),h=this.x*d-this.y*u,g=this.x*u+this.y*d;return this.x=s(h),this.y=s(g),this},rotateRadians:function(c){return this.clone().rotateRadiansSelf(c)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalizeSelf:function(){var c=Math.sqrt(this.x*this.x+this.y*this.y);return c===0?this:(this.x/=c,this.y/=c,this)},normalize:function(){return this.clone().normalizeSelf()},addSelf:function(c){return typeof c=="number"?this.addScalarSelf(c):(this.x+=c.x,this.y+=c.y,this)},subSelf:function(c){return typeof c=="number"?this.subScalarSelf(c):(this.x-=c.x,this.y-=c.y,this)},divSelf:function(c){return typeof c=="number"?this.divScalarSelf(c):(this.x/=c.x,this.y/=c.y,this)},mulSelf:function(c){return typeof c=="number"?this.mulScalarSelf(c):(this.x*=c.x,this.y*=c.y,this)},addScalarSelf:function(c){return this.x+=c,this.y+=c,this},subScalarSelf:function(c){return this.x-=c,this.y-=c,this},divScalarSelf:function(c){return this.x/=c,this.y/=c,this},mulScalarSelf:function(c){return this.x*=c,this.y*=c,this},add:function(c){return this.clone().addSelf(c)},sub:function(c){return this.clone().subSelf(c)},mul:function(c){return this.clone().mulSelf(c)},div:function(c){return this.clone().divSelf(c)},addScalar:function(c){return this.clone().addScalarSelf(c)},subScalar:function(c){return this.clone().subScalarSelf(c)},mulScalar:function(c){return this.clone().mulScalarSelf(c)},divScalar:function(c){return this.clone().divScalarSelf(c)},clampSelf:function(c,d){return this.x<c.x&&(this.x=c.x),this.y<c.y&&(this.y=c.y),this.x>d.x&&(this.x=d.x),this.y>d.y&&(this.y=d.y),this},clamp:function(c,d){return this.clone().clampSelf(c,d)},applySelf:function(c){return this.x=c(this.x),this.y=c(this.y),this},apply:function(c){return this.clone().applySelf(c)},absSelf:function(){return this.applySelf(Math.abs)},abs:function(){return this.clone().absSelf()},roundSelf:function(){return this.applySelf(Math.round)},round:function(){return this.clone().roundSelf()},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},repairSelf:function(c,d){return(typeof this.x!="number"||isNaN(this.x+1))&&(this.x=c||0),(typeof this.y!="number"||isNaN(this.y+1))&&(this.y=d||0),this},repair:function(c,d){return this.clone().repairSelf(c,d)},toString:function(){return this.x+","+this.y},format:function(c){return c=c||"%x,%y",c=c.replace(new RegExp("%x","g"),this.x),c=c.replace(new RegExp("%y","g"),this.y),c}},l}();return t.zero=new t(0,0),t.one=new t(1,1),t.up=new t(0,-1),t.down=new t(0,1),t.left=new t(-1,0),t.right=new t(1,0),t.upLeft=new t(-1,-1),t.downLeft=new t(-1,1),t.upRight=new t(1,-1),t.downRight=new t(1,1),t.prototype.magnitude=t.prototype.length,Object.freeze&&(Object.freeze(t.zero),Object.freeze(t.one),Object.freeze(t.up),Object.freeze(t.down),Object.freeze(t.left),Object.freeze(t.right),Object.freeze(t.upLeft),Object.freeze(t.downLeft),Object.freeze(t.upRight),Object.freeze(t.downRight)),t})})(LF);var FY=LF.exports;const An=Hx(FY);let um=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Dd={strokeType:"plain",strokeColor:"black",strokeWidth:1,head:"none",tail:"none"},JA={id:0,type:"Feature",properties:{type:"arrow",style:{...Dd}},geometry:{type:"LineString",coordinates:[[0,0],[100,100]]}},NF=(e=0,t=0,n=0,r=0,i={...Dd})=>({id:um(),type:"Feature",properties:{type:"arrow",style:{...Dd,...i}},geometry:{type:"LineString",coordinates:[[e,t],[n,r]]}}),RY="http://www.w3.org/2000/svg";function Xc(e){return document.createElementNS(RY,e)}function IF(e){return e.geometry.bbox||DY(e),e.geometry.bbox}function os(e){const t=IF(e);return{width:t[2]-t[0],height:t[3]-t[1]}}function ts(e){const t=IF(e);return{x:t[0],y:t[1]}}function DY(e){const[t,n]=e.geometry.coordinates[0][0],[r,i]=e.geometry.coordinates[0][2];e.geometry.bbox=[t,n,r,i]}function zY(e,t,n,r,i){e.geometry.bbox=[t,n,t+r,n+i],e.geometry.coordinates=[[[t,n],[t+r,n],[t+r,n+i],[t,n+i],[t,n]]]}function Yc(e){const[t,n]=e.geometry.coordinates[0];return{x:t,y:n}}function mh(e,t){const[n,r]=e.geometry.coordinates[t==="start"?0:1];return{x:n,y:r}}function np(e){const[t,n]=e.geometry.coordinates[1];return{x:t,y:n}}function PF(e,t,n){e.geometry.coordinates[0]=[t,n]}function MF(e,t,n){e.geometry.coordinates[1]=[t,n]}function rp(e){return{start:Yc(e),end:np(e)}}function Ca(e,t,n,r){t==="start"?PF(e,n,r):MF(e,n,r)}const FF=e=>parseInt(e.getAttribute("data-handle-id")||"-1");function fh(e,t,n){const r=Math.atan2(e.y-t.y,e.x-t.x);return{x:t.x+n*Math.cos(r),y:t.y+n*Math.sin(r)}}function yy(e,t){if(!t)return{x:e.clientX,y:e.clientY};const n=t.getBoundingClientRect();return{x:e.clientX-n.left-t.clientLeft,y:e.clientY-n.top-t.clientTop}}function RF(e,t=5,n=30){var r;const{start:i,end:s}=rp(e),o=new An(i.x,i.y),a=new An(s.x,s.y).sub(o),l=e.properties.style&&e.properties.style.strokeWidth?(r=e.properties.style)==null?void 0:r.strokeWidth:0;return Math.min(n,Math.max(3*l,a.length()*.1,t))}function eC(e,t,n,r){const i=t.clone().normalize().invert().mul(r);if(!n||n==="none")return"";const s=e.clone().add(i.rotateRadians(Math.PI/8)),o=e.clone().add(i.rotateRadians(-Math.PI/8)),a=`${e.x} ${e.y}`;return`M ${s.x} ${s.y} L ${a} ${o.x} ${o.y} ${n==="arrow"?"":`${s.x} ${s.y}`}`}function OY(e,t,n,r,i){const{start:s,end:o}=rp(e),{tail:a,head:l,strokeColor:c,strokeWidth:d}=e.properties.style||n,u=new An(s.x,s.y),h=new An(o.x,o.y),g=h.clone().sub(u),p=RF(e,r,i),m=Xc("path");m.setAttribute("data-annotation",`${e.id}`),m.setAttribute("data-annotation-type","arrow");const _=l==="arrow-plain"||a==="arrow";m.setAttribute("stroke",c||"none"),m.setAttribute("stroke-width",`${d}`),m.setAttribute("fill",_?c||"":"none"),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round");const y=eC(u,g.clone().invert(),a,p),f=eC(h,g,l,p),v=y+`M ${u.x} ${u.y} ${h.x} ${h.y}`+f;m.setAttribute("d",v),t.appendChild(m)}const bn=-1,ip="dragging",sp="dragstart",Cl="dragend",vy="select",xy="unselect",BY="hover",jY="unhover",by="remove",wy="add",$Y="cancelDrawing",Ey="update",UY="link";var DF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,u||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var u=0,h=d.length,g=new Array(h);u<h;u++)g[u]=d[u].fn;return g},a.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,u,h,g){var p=n?n+l:l;if(!this._events[p])return!1;var m=this._events[p],_=arguments.length,y,f;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),_){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,u),!0;case 5:return m.fn.call(m.context,c,d,u,h),!0;case 6:return m.fn.call(m.context,c,d,u,h,g),!0}for(f=1,y=new Array(_-1);f<_;f++)y[f-1]=arguments[f];m.fn.apply(m.context,y)}else{var v=m.length,x;for(f=0;f<v;f++)switch(m[f].once&&this.removeListener(l,m[f].fn,void 0,!0),_){case 1:m[f].fn.call(m[f].context);break;case 2:m[f].fn.call(m[f].context,c);break;case 3:m[f].fn.call(m[f].context,c,d);break;case 4:m[f].fn.call(m[f].context,c,d,u);break;default:if(!y)for(x=1,y=new Array(_-1);x<_;x++)y[x-1]=arguments[x];m[f].fn.apply(m[f].context,y)}}return!0},a.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,u){var h=n?n+l:l;if(!this._events[h])return this;if(!c)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===c&&(!u||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var p=0,m=[],_=g.length;p<_;p++)(g[p].fn!==c||u&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(DF);var VY=DF.exports;const zF=Hx(VY);class OF extends zF{constructor(t,n){super(),Be(this,"ogma"),Be(this,"elements"),Be(this,"layer"),Be(this,"editor"),Be(this,"selectedId",bn),Be(this,"hoveredId",bn),Be(this,"ogmaOptions"),Be(this,"shouldDetect"),Be(this,"isDragging"),Be(this,"showeditorOnHover"),Be(this,"maxHandleScale",1.5),Be(this,"_onKeyUp",r=>{r.code===27&&this.selectedId!==bn?this.unselect():(r.code===46||r.code===8)&&this.selectedId!==bn&&this._canRemove()&&this.remove(this.selectedId)}),Be(this,"_onClickMouseMove",r=>{if(!r.domEvent||this.isDragging||!this.shouldDetect||r.domEvent.type!=="mousemove"&&r.domEvent.target&&r.domEvent.target.tagName==="a")return;const i=this.ogma.view.screenToGraphCoordinates(r),s=this.shouldDetect||!this.shouldDetect&&+this.selectedId>-1?this.detect(i,0):void 0;r.domEvent.type==="mousemove"?s?this.hover(s.id):this.hoveredId!==bn&&this.unhover():s?this.select(s.id):this.selectedId!==bn&&this.unselect()}),this.ogma=t,this.elements=[],this.shouldDetect=!0,this.isDragging=!1,this.showeditorOnHover=!0,this.ogmaOptions=t.getOptions(),t.events.on(["click","mousemove"],this._onClickMouseMove).on("keyup",this._onKeyUp).on("frame",()=>{this.refreshEditor(),this.refreshDrawing()}),this.layer=t.layers.addSVGLayer({draw:r=>this.draw(r)}),this.layer.moveToTop(),this.editor=t.layers.addLayer(n),this.editor.hide()}_canRemove(){return!0}add(t){const n=this.getDefaultOptions(),r=Object.assign(t,{id:t.id===void 0?um():t.id,type:t.type,properties:{...n.properties,...t.properties||{},style:{...n.properties.style,...t.properties.style||{}}},geometry:{...n.geometry,...t.geometry}});return this.elements.push(r),this.layer.refresh(),this.emit(wy,r),r}updateStyle(t,n){this.updateAnnotation(t,{properties:{style:n}})}updateGeometry(t,n){this.updateAnnotation(t,{geometry:n})}update(t,n){const r=this.getById(t);this.updateAnnotation(r,n)}updateAnnotation(t,n){if(!t)return;const r=t.id;Object.keys(n).forEach(i=>{if(i!=="id")if(i==="properties"){const s=n.properties||{style:{}};t.properties={...t.properties||{},...s||{},style:{...t.properties.style||{},...s.style||{}}}}else i==="geometry"?t.geometry={...t.geometry,...n.geometry}:t[i]=n[i]}),r===this.selectedId&&this.refreshEditor(),this.layer.refresh()}getById(t){const n=Number(t);for(let r=0;r<this.elements.length;r++){const i=this.elements[r];if(!(i.id!==t&&i.id!==n))return i}}select(t){const n=this.getById(t);n&&(this.editor.show(),this.selectedId=t,this.refreshEditor(),this.layer.refresh(),this.emit(vy,n))}hover(t){const n=this.getById(t);n&&(this.showeditorOnHover&&this.editor.show(),this.hoveredId=t,this.refreshEditor(),this.layer.refresh(),this.emit(BY,n))}getSelectedFeature(){return this.selectedId===bn?null:this.getById(this.selectedId)}unselect(){const t=this.getById(this.selectedId);return t&&this.emit(xy,t),this.selectedId=bn,this.hoveredId===bn&&this.editor.hide(),this.layer.refresh(),this}unhover(){const t=this.getById(this.hoveredId);return this.emit(jY,t),this.hoveredId=bn,this.selectedId===bn&&this.editor.hide(),this.layer.refresh(),this}remove(t){const n=this.getById(t);t===this.hoveredId&&this.unhover(),t===this.selectedId&&this.unselect(),this.elements=this.elements.filter(r=>r.id!==t),n&&this.emit(by,n),this.layer.refresh()}disableDragging(){this.ogma.setOptions({interactions:{drag:{enabled:!1},pan:{enabled:!1}},detect:{nodes:!1,edges:!1,nodeTexts:!1,edgeTexts:!1}})}restoreDragging(){this.ogma.setOptions(this.ogmaOptions)}enableDetection(){this.shouldDetect=!0}disableDetection(){this.shouldDetect=!1}refreshLayer(){this.layer.refresh()}refreshDrawing(){}getElements(){return[...this.elements]}destroy(){this.ogma.events.off(this._onClickMouseMove).off(this._onKeyUp),this.layer.destroy()}}const tC="handle-line",nC="handle-start",rC="handle-end";class GY extends OF{constructor(t,n={}){super(t,`
    <div class="arrow-handle">
      <div id="${tC}" data-handle-id="0" class="handle line"></div>
      <div id="${nC}" data-handle-id="1" class="handle"></div>
      <div id="${rC}" data-handle-id="2" class="handle"></div>
    </div>
  `),Be(this,"draggedHandle",bn),Be(this,"start",{x:0,y:0}),Be(this,"end",{x:0,y:0}),Be(this,"arrow",{...JA}),Be(this,"startX",0),Be(this,"startY",0),Be(this,"minArrowHeight",0),Be(this,"maxArrowHeight",0),Be(this,"handles",[]),Be(this,"onHandleMouseDown",r=>{const i=this.getById(this.selectedId)||this.getById(this.hoveredId);if(!i)return;const{x:s,y:o}=yy(r,this.ogma.getContainer());this.startDragging(i,s,o),this.draggedHandle=FF(r.target)}),Be(this,"onMouseUp",()=>{this.draggedHandle!==-1&&(this.restoreDragging(),this.isDragging=!1,this.draggedHandle=bn,this.emit(Cl,this.arrow))}),Be(this,"onMouseMove",r=>{if(!this.isDragging||this.draggedHandle===bn)return;const i=this.handles[this.draggedHandle],s=this.ogma.view.getAngle(),{x:o,y:a}=new An(r.clientX-this.startX,r.clientY-this.startY).divScalar(this.ogma.view.getZoom()).rotateRadians(s),l=i.id===tC,c=i.id===nC,d=i.id===rC;(l||c)&&PF(this.arrow,this.start.x+o,this.start.y+a),(l||d)&&MF(this.arrow,this.end.x+o,this.end.y+a),this.emit(ip,this.arrow,l?"line":c?"start":"end"),this.refreshEditor(),this.layer.refresh()}),this.minArrowHeight=n.minArrowHeight||0,this.maxArrowHeight=n.maxArrowHeight||1e6,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".arrow-handle>.handle")),this.handles.forEach(r=>r.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp)}startDrawing(t,n,r=NF(t,n,t,n,Dd)){var i;this.disableDragging(),this.add(r),this.hoveredId=r.id;const s=this.ogma.view.graphToScreenCoordinates({x:t,y:n}),o=((i=this.ogma.getContainer())==null?void 0:i.getBoundingClientRect())||{left:0,top:0};this.startDragging(this.getById(r.id),s.x+(o==null?void 0:o.left),s.y+o.top),this.draggedHandle=2}cancelDrawing(){this.isDragging&&(this.remove(this.arrow.id),this.emit(Cl,this.arrow),this.restoreDragging(),this.isDragging=!1,this.draggedHandle=bn)}startDragging(t,n,r){this.selectedId!==t.id&&this.select(this.hoveredId),this.arrow=t,this.startX=n,this.startY=r,this.start=Yc(this.arrow),this.end=np(this.arrow),this.disableDragging(),this.emit(sp,this.arrow),this.isDragging=!0}detect(t,n=0){return this.elements.find(r=>{const{start:i,end:s}=rp(r),o=new An(t.x,t.y).sub(new An((i.x+s.x)/2,(i.y+s.y)/2)),a=new An(s.x,s.y).sub(new An(i.x,i.y)),l=a.length(),c=a.normalize(),d=RF(r);return Math.abs(c.dot(o))<l/2+n&&Math.abs(c.rotateRadians(Math.PI/2).dot(o))<d/2+n})}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.selectedId!==bn?this.getById(this.selectedId):this.getById(this.hoveredId),n=rp(t),r=this.ogma.view.graphToScreenCoordinates(n.start),i=this.ogma.view.graphToScreenCoordinates(n.end),s=Math.min(this.ogma.view.getZoom(),this.maxHandleScale),[o,a,l]=Array.prototype.slice.call(this.editor.element.querySelectorAll(".handle"));a.style.transform=`translate(${r.x}px, ${r.y}px) translate(-50%, -50%) scale(${s})`,l.style.transform=`translate(${i.x}px, ${i.y}px) translate(-50%, -50%) scale(${s}`;const c={x:(i.x+r.x)/2,y:(i.y+r.y)/2},d=new An(i.x-r.x,i.y-r.y),u=d.mul(1/d.length()),h=Math.atan2(u.y,u.x);o.style.width=`${d.length()}px`,o.style.left=`${c.x}px`,o.style.top=`${c.y}px`,o.style.transform=`translate(-50%, -50%) rotate(${h}rad)`}getDefaultOptions(){return JA}draw(t){t.innerHTML="";const n=Xc("g"),r=this.ogma.view.getAngle();n.setAttribute("transform",`rotate(${-r*(180/Math.PI)})`),this.elements.forEach(i=>OY(i,n,Dd,this.minArrowHeight,this.maxArrowHeight)),t.appendChild(n)}refreshDrawing(){const t=this.ogma.view.getAngle();this.layer.element.children[0].setAttribute("transform",`rotate(${-t*(180/Math.PI)})`)}destroy(){super.destroy(),document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp)}}const ll={font:"sans-serif",fontSize:12,color:"black",background:"",strokeWidth:1,strokeColor:"#000",strokeType:"plain"},Zf={id:0,type:"Feature",properties:{type:"text",content:"",style:{...ll}},geometry:{type:"Polygon",coordinates:[[[0,0],[100,0],[100,50],[0,50],[0,0]]]}},iC={handleSize:3.5,placeholder:"Your text..."},BF=(e=0,t=0,n=100,r=50,i="",s={...ll})=>({id:um(),type:"Feature",properties:{type:"text",content:i,style:{...ll,...s}},geometry:{type:"Polygon",coordinates:[[[e,t],[e+n,t],[e+n,t+r],[e,t+r],[e,t]]]}});var jF={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(MY,()=>(()=>{var n={d:(R,B)=>{for(var Y in B)n.o(B,Y)&&!n.o(R,Y)&&Object.defineProperty(R,Y,{enumerable:!0,get:B[Y]})},o:(R,B)=>Object.prototype.hasOwnProperty.call(R,B)},r={};function i(R){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},i(R)}n.d(r,{default:()=>Rn});var s=/^((?:[a-z\d-]+\s+)*)([\d.]+(%|em|px)|(?:x+-)?large|(?:x+-)?small|medium)(?:\s*\/\s*(normal|[\d.]+(%|px|em)?))?(\s.+)?$/,o=/\bsmall-caps\b/,a=/\b(?:italic|oblique)\b/,l=/\bbold(?:er)?\b/,c=13.3333333,d={"xx-small":9,"x-small":10,smaller:13.3333,small:13,medium:16,large:18,larger:19.2,"x-large":24,"xx-large":32};function u(R){var B="",Y=this;return Y.style&&Y.style!=="normal"&&(B+=Y.style),Y.variant&&Y.variant!=="normal"&&(B+=(B?" ":"")+Y.variant),Y.weight&&Y.weight!=="normal"&&(B+=(B?" ":"")+Y.weight),Y.size&&(B+=(B?" ":"")+Y.size+"px",Y.height!==Y.size&&(B+="/"+Y.height+"px")),Y.family&&(B+=(B?" ":"")+Y.family),R&&(B+="::"+Y.baseline),R&&(B+="::"+Y.color),B}var h={id:"",family:"sans-serif",height:14,size:12,variant:"",style:"",weight:"",baseline:"",color:null,toString:u,valueOf:u};function g(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=s.exec(R);B.family=(Y[6]||"").trim();var $=d[Y[2]]||parseFloat(Y[2]);Y[3]==="%"?$*=.16:Y[3]==="em"?$*=16:Y[3]==="pt"&&($*=c),B.size=$;var ae=parseFloat(Y[4]);if(ae!=="normal"&&ae!=="inherit"&&ae?Y[5]&&Y[5]!=="em"?Y[5]==="pt"?B.height=ae*c:Y[5]==="%"?B.height=.01*$:B.height=ae:B.height=ae*$:B.height=Math.round($*(7/6)),o.test(Y[1])&&(B.variant="small-caps"),a.test(Y[1])&&(B.style="italic"),l.test(Y[1]))B.weight="bold";else{var Te=parseInt(/\b(\d+)\b/.exec(Y[1]),10);Te>=100&&Te!==400&&(B.weight=Te)}return B}function p(){var R,B,Y,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"12px/14px sans-serif",ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=14,He=12,Oe=null,je=null,et="";if($&&$.nodeType){var pt=$&&($.ownerDocument&&$.ownerDocument.defaultView||$.document&&$||$.defaultView),yt=pt.getComputedStyle($,null);R=yt.getPropertyValue("font-family")||"",He=parseFloat(yt.getPropertyValue("font-size")),Te=yt.getPropertyValue("line-height"),Oe=yt.getPropertyValue("font-weight"),je=yt.getPropertyValue("font-style"),et=yt.getPropertyValue("font-variant")||""}else if(typeof $=="string"){var dt=g($);R=dt.family,He=dt.size,Te=dt.height,et=dt.variant,je=dt.style,Oe=dt.weight}else i($)==="object"&&(R=$.family,He=$.size,Te=$.height,et=$.variant,Oe=$.weight,je=$.style,B=$.baseline,Y=$.color);ae.size&&ae.size<3&&(He*=ae.size),Te=Te!=="normal"&&Te?parseFloat(Te):He*(7/6),ae.height&&ae.height<3&&(Te*=ae.height);var ut=Object.create(h);return ut.family=ae.family||R||"sans-serif",ut.height=Te??14,ut.size=He??12,ut.variant=ae.variant||et||"",ut.style=ae.style||je||"",ut.weight=ae.weight||Oe||"",ut.baseline=B||0,ae.baseline!=null&&(ut.baseline=ae.baseline),ut.color=ae.color||Y||"",ut.id=u.call(ut,!0),ut}const m={"\n":.28,"\r":.28," ":.28,"":.28,"":.28,"":0,"":.5,"":1,"":.5,"":1,"":.33,"":.25,"":.16,"":.56,"":.28,"":.2,"":.15,"":0,"":.16,"":.22,"":1,"\uFEFF":0};var _,y=function(R){var B=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(100,100)||R&&R.createElement("canvas");if(B&&B.getContext){var Y=B.getContext("2d");if(Y&&typeof Y.measureText=="function")return function($,ae){return Y.font=String(ae),Y.measureText($).width}}}(typeof document<"u"?document:null)||(_={},function(R,B){if(!_[B]){var Y=p(B);_[B]=Y,/\bmonospace\b/.test(Y.family)?Y.size*=.6:(Y.size*=.45,Y.weight&&(Y.size*=1.18))}return R.length*_[B].size}),f={},v={trim:!0,collapse:!0};function x(R,B,Y){var $=Object.assign({},v,Y),ae=String(R);if(!ae)return 0;if(ae in m){var Te=B.id+"/"+ae;return Te in f||(f[Te]=y("_".concat(ae,"_"),B)-y("__",B)),f[Te]}return $.trim&&$.collapse?$.trim?ae=ae.trim():$.collapse&&(ae=ae.replace(/\s+/g," ")):ae=ae.replace(/\n/g," "),y(ae,B)+B.size*(R.tracking||0)}function w(R){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},w(R)}function b(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(B&&B.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),B&&A(R,B)}function A(R,B){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,$){return Y.__proto__=$,Y},A(R,B)}function S(R){var B=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,$=C(R);if(B){var ae=C(this).constructor;Y=Reflect.construct($,arguments,ae)}else Y=$.apply(this,arguments);return k(this,Y)}}function k(R,B){if(B&&(w(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(R)}function C(R){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},C(R)}function N(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")}function D(R,B){for(var Y=0;Y<B.length;Y++){var $=B[Y];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,(ae=function(Te,He){if(w(Te)!=="object"||Te===null)return Te;var Oe=Te[Symbol.toPrimitive];if(Oe!==void 0){var je=Oe.call(Te,He);if(w(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Te)}($.key,"string"),w(ae)==="symbol"?ae:String(ae)),$)}var ae}function j(R,B,Y){return B&&D(R.prototype,B),Y&&D(R,Y),Object.defineProperty(R,"prototype",{writable:!1}),R}var U=function(){function R(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";N(this,R),this.value=B,this.weight=null,this.style=null,this.font=null,this.href=null,this.sub=!1,this.sup=!1}return j(R,[{key:"clone",value:function(){var B=new R(this.value);return B.value=this.value,B.weight=this.weight,B.style=this.style,B.font=this.font,B.href=this.href,B.sub=this.sub,B.sup=this.sup,B}},{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),R}(),F=function(R){b(Y,R);var B=S(Y);function Y(){return N(this,Y),B.apply(this,arguments)}return j(Y)}(U),T=function(R){b(Y,R);var B=S(Y);function Y(){return N(this,Y),B.apply(this,arguments)}return j(Y)}(U),q=function(R){b(Y,R);var B=S(Y);function Y(){return N(this,Y),B.apply(this,arguments)}return j(Y)}(U),V=/^[\n\r\t\x20\xA0\u2000-\u200B\u205F\u3000]/,J=/^[^\n\r\t\u0020\u2000-\u200B\u205F\u3000]{2,}/,oe=/^[\xA0\u2011\u202F\u2060\uFEFF]/,ie=/^(?:[;\xAD%?]|,(?!\d))/,pe=/^[$\u2212]/;function Ce(R,B){B!==!1&&(R=R.trim());for(var Y,$,ae=[],Te=R.charAt(0),He=0,Oe=1,je=R.length;Oe<je;Oe++){Y=R.charAt(Oe),$=R.charAt(Oe+1);var et=V.test(Te),pt=V.test(Y),yt=pt||et,dt=void 0;if((pe.test(Y)&&!oe.test(Te)||ie.test(Te+$)&&!oe.test(Y))&&(yt=!0),Te!=="-"&&Te!==""&&Te!==""&&Te!==""||((dt=V.test(R.charAt(Oe-2)))&&!pt&&(yt=!1),!dt&&J.test(Y+$)&&(yt=!0)),yt){var ut=R.slice(He,Oe);/\u00AD$/.test(ut)?(ae.push(new U(ut.slice(0,-1))),ae.push(new q)):(ae.push(new U(ut)),ae.push(new F)),He=Oe}Te=Y}return ae.push(new U(R.slice(He))),ae}const ce={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:""};var ve=/^[\n\r\x20\u2000-\u200B\u205F\u3000]/,De=/^<\/([a-zA-Z0-9]+)([^>]*)>/,qe=/^<([a-zA-Z0-9]+)((?:\s[^=\s/]+(?:\s*=\s*(?:"[^"]+"|'[^']+'|[^>\\s]+))?)+)?\s*(\/?)>(\n*)/,Xe=/^<!--(.+?)-->/,me=/&(?:#(\d\d{2,})|#x([\da-fA-F]{2,})|([a-zA-Z][a-zA-Z1-4]{1,8}));/g,_e={b:function(R){R.weight="bold"},strong:function(R){R.weight="bold"},i:function(R){R.style="italic"},em:function(R){R.style="italic"},dfn:function(R){R.style="italic"},cite:function(R){R.style="italic"},code:function(R){R.family="monospace"},kbd:function(R){R.family="monospace"},samp:function(R){R.family="monospace"},var:function(R){R.family="monospace"},tt:function(R){R.family="monospace"},sub:function(R){R.sub=!0},sup:function(R){R.sup=!0}},nt={div:1,li:1,blockquote:2,h1:2,h2:2,h3:2,h4:2,h5:2,h6:2,ul:2,ol:2,hr:2,p:2};function rt(R){return R.replace(me,function(B,Y,$,ae){if(Y||$){var Te=Y?10:16;return String.fromCharCode(parseInt(Y||$,Te))}return ae in ce?ce[ae]:B})}function mt(R){return R&&R.length>1&&(R[0]==='"'&&R[R.length-1]==='"'||R[0]==="'"&&R[R.length-1]==="'")?R.slice(1,-1):R}var at=/^\s*([^=\s&]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/;function Z(R){var B,Y={};if(R){do if(B=at.exec(R)){var $=rt(mt(B[2]||"")).replace(/[ \r\n\t]+/g," ").trim();if(Y[B[1]]=$,(R=R.slice(B[0].length)).length&&/^\S/.test(R[0]))throw new Error("Attribute error")}while(B&&R.length);if(/\S/.test(R))throw new Error("Attribute error")}return Y}const re={copyright:"",textcopyright:"",dag:"",textdagger:"",ddag:"",textdaggerdbl:"",guillemotleft:"",guillemotright:"",guilsinglleft:"",guilsinglright:"",ldots:"",dots:"",textellipsis:"",lq:"",P:"",textparagraph:"",pounds:"",textsterling:"",quotedblbase:"",quotesinglbase:"",rq:"",S:"",sim:"~",textasciicircum:"^",textasciitilde:"",texttildelow:"~",textasteriskcentered:"*",textbackslash:"'",textbar:"|",textbardbl:"",textbigcircle:"",textbraceleft:"{",textbraceright:"}",textbullet:"",textdollar:"$",textemdash:"",textendash:"",texteuro:"",eurosym:"",euro:"",textexclamdown:"",textgreater:">",textless:"<",textordfeminine:"",textordmasculine:"",textperiodcentered:"",cdot:"",textquestiondown:"",textquotedblleft:"",textquotedblright:"",textquoteleft:"",textquoteright:"",textquotestraightbase:"",textquotestraightdblbase:"",textregistered:"",textthreequartersemdash:"-",texttrademark:"",texttwelveudash:"-",textunderscore:"_",textvisiblespace:"",gets:"",textleftarrow:"",to:"",textrightarrow:"",textdegree:"",infty:"",triangle:"",triangledown:"",blacktriangle:"",blacktriangledown:"",angle:"",sphericalangle:"",aleph:"",hbar:"",imath:"",jmath:"",ell:"",wp:"",Re:"",Im:"",mho:"",prime:"",emptyset:"",nabla:"",surd:"",partial:"",top:"",bot:"",vdash:"",dashv:"",forall:"",exists:"",nexists:"",neg:"",lnot:"",flat:"",natural:"",sharp:"",backslash:"\\",Box:"",Diamond:"",clubsuit:"",diamondsuit:"",heartsuit:"",spadesuit:"",Join:"",blacksquare:"",bigstar:"",diagdown:"",diagup:"",blacklozenge:"",rfloor:"",lfloor:"",rceil:"",lceil:"",rangle:"",langle:"",sum:"",int:"",oint:"",prod:"",coprod:"",bigcap:"",bigcup:"",bigsqcup:"",bigvee:"",bigwedge:"",bigodot:"",bigotimes:"",bigoplus:"",biguplus:"",alpha:"",beta:"",chi:"",delta:"",epsilon:"",eta:"",gamma:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",omega:"",phi:"",pi:"",psi:"",rho:"",sigma:"",tau:"",theta:"",upsilon:"",xi:"",zeta:"",Alpha:"",Beta:"",Chi:"",Delta:"",Epsilon:"",Eta:"",Gamma:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Omega:"",Phi:"",Pi:"",Psi:"",Rho:"",Sigma:"",Tau:"",Theta:"",Upsilon:"",Xi:"",Zeta:"",aa:"",AA:"",ae:"",AE:"",dh:"",DH:"",dj:"",DJ:"",ij:"",IJ:"",l:"",L:"",ng:"",NG:"",o:"",O:"",oe:"",OE:"",ss:"",SS:"SS",th:"",TH:""};var se=/^(\^|_|\\[^#$%&~_^\\{}()\s]+)(\{)?/,le=/^%[^\n]+(?:\n|$)/,ue=/^[^#$%&~_^\\{}]+/,ge=/^\\([&{}$%#_])/,Me=/(?:\\[\\@,!:;-]|-{2,3}|[!?]`|``?|,,|''?|~|<<|>>)/g,Pe={"---":"","--":"","!`":"","?`":"","``":"",",,":"","''":"","`":"","'":"","<<":"",">>":"","~":"","\\-":"","\\,":"","\\;":"","\\:":"","\\!":"","\\@":"\uFEFF","\\\\":"\\newline{}"},ke={bf:function(R){R.weight="bold"},it:function(R){R.style="italic"},sl:function(R){R.style="italic"},color:function(R,B){R.color=B},href:function(R,B){R.href=B},"^":function(R){R.sup=!0},_:function(R){R.sub=!0},par:function(R){this.tokens.push(new T,new T)},newline:function(R){this.tokens.push(new T)},url:function(R,B){this.open_context().href=B,this.add_token(new U(B)),this.close_context()}};ke.textsuperscript=ke["^"],ke.textsubscript=ke._,ke.textsl=ke.sl,ke.mathbf=ke.bf,ke.mathit=ke.it,ke.textbf=ke.bf,ke.textit=ke.it,ke.textcolor=ke.color;var lt=/[\r\n\xA0]+/g;function it(R,B){R.sup&&(R.baseline=.45,R.size=.7),R.sub&&(R.baseline=-.3,R.size=.7);var Y=B;return(R.style||R.weight||R.baseline||R.color||R.size||R.family)&&(Y=p(B,R)),Y}function Nt(R,B,Y){for(var $,ae,Te=R.width;Te+Y.width>B&&R.length;)ae=($=R[R.length-1]).width,$.width>Y.width?($.value=$.value.slice(0,-1),$.width=x($,$.font),Te+=$.width):R.pop(),Te-=ae;R[R.length-1]instanceof q&&R.pop(),$=R[R.length-1]||$||{},Y.font=p(Y.font,$.bold,$.italic,""),Y.href=R.length?$.href:null,Y.rel=R.length?$.rel:null,Y.target=R.length?$.target:null,R.push(Y)}function It(R){return Math.round(1e6*R)/1e6}function Pt(R){return function(B){if(Array.isArray(B))return Gt(B)}(R)||function(B){if(typeof Symbol<"u"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(R)||function(B,Y){if(B){if(typeof B=="string")return Gt(B,Y);var $=Object.prototype.toString.call(B).slice(8,-1);return $==="Object"&&B.constructor&&($=B.constructor.name),$==="Map"||$==="Set"?Array.from(B):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?Gt(B,Y):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gt(R,B){(B==null||B>R.length)&&(B=R.length);for(var Y=0,$=new Array(B);Y<B;Y++)$[Y]=R[Y];return $}var Ot={center:"middle",right:"end"},ct={middle:.5,center:.5,bottom:1,end:1},Ct=function(R,B){return!R&&!B||R===B};function Bt(R,B){var Y=[],$=B.font(),ae=$.size,Te=$.family,He=B.align(),Oe=B.createElement();if(R.length){var je=$.height,et=B.valign(),pt=B.height()(),yt=B.width()(0),dt=!isFinite(yt)&&R.length===1,ut=dt?null:B.x(),P=It(je/ae),O=dt?null:It(je/(1.15*ae+(je-ae)/2));if(ct[et]&&isFinite(pt)){var M=et==="bottom"?1:.5;O+=(pt*M-je*R.length*M)/ae}var z=He==="justify",H=0;He==="right"?H=yt:He==="center"&&(H=yt/2);for(var Q=[],W="tspan",ee=null,K="",G=function(){if(K){var tt=Oe(W,ee,K);Q.push(tt)}W="tspan",ee=null,K=""},X=0,te=R.length;X<te;X++){var de="",fe="",ne=0,he=R[X];if(he.length){Q=[];for(var Ee=0,Le=0,Se=void 0,be=0,Ne=he.length;be<Ne;be++){var xe=he[be],Ae=xe.font;xe.whitespace&&Ee++,Le+=xe.width,be&&!xe.tracking&&!ne&&Ct(Ae.id,de)&&Ct(xe.class,fe)&&Ct(Se,xe.href)?K+=xe.value:(G(),K=xe.value,ee={fontFamily:Ae.family!==Te?Ae.family:null,fontSize:Ae.size!==ae?Ae.size:null,fontWeight:Ae.weight||null,fontStyle:Ae.style||null,fontVariant:Ae.variant!=="normal"&&Ae.variant||null,fill:Ae.color||null,baselineShift:Ae.baseline?100*Ae.baseline+"%":null,className:xe.class||null},ne&&(ee.dx=It(ne),ne=0),xe.tracking&&(ne=Ae.size*xe.tracking),xe.href&&!Se?(Se=xe.href,W="a",ee.href=Se,ee.rel=xe.rel,ee.target=xe.target):Se=null,de=Ae.id,fe=xe.class)}if(G(),dt)Y.push.apply(Y,Pt(Q));else{var Ye=null,Ke=X===te-1||he[he.length-1]instanceof T;z&&he.length>1&&!Ke&&(Ye=It((yt-Le)/Ee)),Y.push(Oe.apply(void 0,["tspan",{wordSpacing:Ye,x:ut(X)+H,dy:It(X?P:O)+"em"}].concat(Pt(Q))))}}else Y.push(Oe("tspan",{x:ut(X),dy:It(X?P:O)+"em"},""))}}return Oe.apply(void 0,["text",{fontFamily:Te,fontSize:ae,textAnchor:Ot[He]||"start"}].concat(Y))}var Mt={middle:.5,center:.5,bottom:1,end:1};function kt(R,B,Y){if(R.length){Y.textBaseline="middle";var $=B.font(),ae=$.height,Te=$.size,He=B.valign(),Oe=B.height()(),je=B.width()(0),et=B.align(),pt=et==="justify",yt=.5*ae,dt=Mt[He];if(dt&&isFinite(Oe)){var ut=R.length*ae;yt+=Oe*dt-ut*dt}R.forEach(function(P,O){var M=B.x()(O),z=O*ae+yt,H=0,Q=0;P.forEach(function(K){K.whitespace&&H++,Q+=K.width});var W=0,ee=O===R.length-1||P[P.length-1]instanceof T;pt&&P.length>1&&!ee&&(W=(je-Q)/H),P.forEach(function(K){Y.font=K.font;var G=K.font,X=G.baseline?Te*-G.baseline+.15*Te:0;Y.fillStyle=function(fe,ne){return fe.color?fe.color:ne.href?"#00C":"#000"}(G,K);var te=0;if(et==="right"?te+=je-Q:et==="center"?te+=je/2-Q/2:et==="justify"&&(K.whitespace||K instanceof T)&&(M+=W),Y.fillText(K.value,M+te,z+X),K.href){Y.beginPath(),Y.strokeStyle=Y.fillStyle;var de=Math.floor(z+.45*Te)+.5;Y.moveTo(M+te,de),Y.lineTo(M+te+K.width,de),Y.stroke()}M+=K.width})})}}function xt(R){return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},xt(R)}function Vt(R){for(var B={},Y=0;Y<R.length;Y++){var $=R[Y];typeof $!="number"&&$!=null&&(typeof $=="string"?B.text=$:typeof $=="function"?B.fn=$:xt($)==="object"&&$._groups?B.d3=$:$&&$.nodeType&&$.getContext?B.ctx=$.getContext("2d"):$&&$.fillText&&$.beginPath?B.ctx=$:$&&(B.text=$))}return B}function nn(R){return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},nn(R)}function sr(R,B){for(var Y=0;Y<B.length;Y++){var $=B[Y];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,(ae=function(Te,He){if(nn(Te)!=="object"||Te===null)return Te;var Oe=Te[Symbol.toPrimitive];if(Oe!==void 0){var je=Oe.call(Te,He);if(nn(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Te)}($.key,"string"),nn(ae)==="symbol"?ae:String(ae)),$)}var ae}var ht=p(),bt=function(R){return typeof R=="function"?R:function(){return R}},gt=function(){function R($){if(function(Te,He){if(!(Te instanceof He))throw new TypeError("Cannot call a class as a function")}(this,R),this.props={overflow:"ellipsis",lineclamp:null,align:"left",wordBreak:null,valign:"top",width:function(){return 1/0},height:function(){return 1/0},x:function(){return 0},font:null,tAnchor:0,parser:R.defaultparser},$)for(var ae in $)typeof this[ae]=="function"&&this[ae]($[ae])}var B,Y;return B=R,Y=[{key:"linebreak",value:function($){var ae=this,Te=this.props.parser(String($)),He=this.font(),Oe=function(je,et,pt){if(!je.length)return[];var yt=et.height(),dt=et.width(),ut=et.overflowLine(),P=et.overflowWrap(),O=p(pt,!0,!1),M=isFinite(yt())?Math.floor(yt()/pt.height):1/0;if(!yt()&&!dt(0)||!M)return[];for(var z=0,H=0,Q=0,W=[],ee=[],K=!1;z<je.length&&H<M;){var G=je[z],X=it(G,pt);if(G.width=x(G,X),G.font=X,G.line=H,G.whitespace=G.value in m,G.value&&(G.value=G.value.replace(lt," ")),!(!Q&&G.whitespace||K&&G.whitespace))if(G instanceof T)Q=0,ee=[],W.push(z+1),H++;else if(G instanceof F||G instanceof q)ee.push({index:z,width:Q});else if(G.whitespace||Q+G.width<dt(H))Q+=G.width;else if(ee.length){var te=void 0,de=void 0;do{de=!0,te=ee.pop();var fe=je[te.index],ne=void 0;fe instanceof q&&(ne=x("-",fe.font),te.width+ne>dt(H)&&(de=!ee.length))}while(!de);W.push(te.index+1),Q=0,H++,z=te.index,ee=[]}else if(P==="break-word"){var he=dt(H);if(Q+G.width>he){var Ee=G.clone();do G.value=G.value.slice(0,-1),G.width=x(G,G.font),Q+=G.width;while(G.value&&G.width>he);Ee.value=Ee.value.slice(G.value.length),je.splice(z+1,0,new F,Ee)}W.push(z+1),Q=0,H++}else Q+=G.width;z++,K=G.whitespace}z!==W[W.length-1]&&W.push(z);var Le=0,Se=0,be=W.map(function(tt){for(var Je,wt=Le;(Je=je[wt])&&(Je.whitespace||!Je.value);)wt++;for(var Tt=tt,Ft=null;Tt>wt&&(Je=je[Tt-1])&&(Je.whitespace||!(Je.value||Je instanceof q));)Je instanceof T&&(Ft=Je),Tt--;Je instanceof q&&(Je.value="-",Je.width=x("-",Je.font)),Le=tt;var rn=je.slice(wt,Tt).filter(function(Nn){return Nn.value});return Ft&&rn.push(Ft),rn.width=rn.reduce(function(Nn,xr){return Nn+xr.width},0),rn.width>Se&&(Se=rn.width),rn});if(be.hasLineOverflow=!1,ut){var Ne=ut==="ellipsis"?"":ut;be.forEach(function(tt,Je){var wt=dt(Je);if(tt.width>wt){var Tt=new U(Ne);Tt.font=pt,Tt.width=x(Ne,O),Nt(tt,wt,Tt),be.hasLineOverflow=!0}})}var xe=et.overflow()==="ellipsis"?"":et.overflow();if(xe&&z!==je.length){var Ae=dt(be.length-1),Ye=be[be.length-1],Ke=new U(xe);Ke.font=pt,Ke.width=x(xe,O),Nt(Ye,Ae,Ke),be.hasOverflow=!0}else be.hasOverflow=!1;return be.font=pt,be.width=Se,be}(Te,this,He);return Oe.height=Oe.length*He.height,Oe.render=function(je){return ae.render(Oe,je)},Oe.svg=Oe.render,Oe.draw=Oe.render,Oe}},{key:"font",value:function($){return arguments.length?(this.props.font=p($),this):this.props.font||p(ht)}},{key:"overflow",value:function($){return arguments.length?(this.props.overflow=String($),this):this.props.overflow}},{key:"overflowLine",value:function($){return arguments.length?(this.props.lineclamp=String($),this):this.props.lineclamp}},{key:"valign",value:function($){return arguments.length?(this.props.valign=$,this):this.props.valign}},{key:"align",value:function($){if(!arguments.length)return this.props.align;var ae=String($).toLowerCase();return ae==="left"||ae==="start"?(this.props.align="left",this.props.tAnchor=0):ae==="center"||ae==="middle"?(this.props.align="center",this.props.tAnchor=-.5):ae==="end"||ae==="right"?(this.props.align="right",this.props.tAnchor=-1):ae==="justify"&&(this.props.align=$,this.props.tAnchor=0),this}},{key:"overflowWrap",value:function($){if(!arguments.length)return this.props.overflowWrap||"normal";var ae=String($).toLowerCase();return ae==="break-word"?this.props.overflowWrap="break-word":ae!=="normal"&&$!=null||(this.props.overflowWrap=null),this}},{key:"width",value:function($){return arguments.length?(this.props.width=bt($),this):this.props.width}},{key:"height",value:function($){return arguments.length?(this.props.height=bt($),this):this.props.height}},{key:"x",value:function($){return arguments.length?(this.props.x=bt($),this):this.props.x}},{key:"parser",value:function($){if(!arguments.length)return this.props.parser;if(typeof $=="string"){var ae=R[$]||R[$+"parser"];typeof ae=="function"&&($=ae)}if(typeof $!="function")throw new Error("Unknown parser: "+$);return this.props.parser=$,this}},{key:"createElement",value:function($){return arguments.length?(this.props.createElement=$,this):this.props.createElement||R.createElement}},{key:"render",value:function(){var $=Vt(arguments);return typeof $.text=="string"&&($.text=this.linebreak($.text)),$.ctx?kt($.text,this,$.ctx):Bt($.text,this)}}],Y&&sr(B.prototype,Y),Object.defineProperty(B,"prototype",{writable:!1}),R}();function jt(R){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},jt(R)}function Ht(R,B){(B==null||B>R.length)&&(B=R.length);for(var Y=0,$=new Array(B);Y<B;Y++)$[Y]=R[Y];return $}function vn(R,B){for(var Y=0;Y<B.length;Y++){var $=B[Y];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,(ae=function(Te,He){if(jt(Te)!=="object"||Te===null)return Te;var Oe=Te[Symbol.toPrimitive];if(Oe!==void 0){var je=Oe.call(Te,He);if(jt(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Te)}($.key,"string"),jt(ae)==="symbol"?ae:String(ae)),$)}var ae}var Fn=function(R){return typeof R=="function"?R:function(){return R}},hn=function(){function R($){if(function(Te,He){if(!(Te instanceof He))throw new TypeError("Cannot call a class as a function")}(this,R),this.props={width:function(){return 1/0},height:function(){return 1/0},rotation:0,vAnchor:0,hAnchor:0},$)for(var ae in $)typeof this[ae]=="function"&&this[ae]($[ae]);this.render=this.render.bind(this)}var B,Y;return B=R,Y=[{key:"anchor",value:function($){var ae=this.props,Te=ae.hAnchor,He=ae.vAnchor,Oe=ae.width,je=ae.height;if(!arguments.length)return[Te*Oe(0),He*je(0)];if(typeof $=="string"){var et=this.props;$.toLowerCase().trim().split(/\s+/).forEach(function(pt){pt==="top"&&(et.vAnchor=-0),pt==="middle"&&(et.vAnchor=-.5),pt==="bottom"&&(et.vAnchor=-1),pt==="left"&&(et.hAnchor=-0),pt==="center"&&(et.hAnchor=-.5),pt==="right"&&(et.hAnchor=-1)})}return this}},{key:"width",value:function($){return arguments.length?(this.props.width=Fn($),this):this.props.width}},{key:"height",value:function($){return arguments.length?(this.props.height=Fn($),this):this.props.height}},{key:"rotate",value:function($){return arguments.length?(this.props.rotation=$,this):this.props.rotation}},{key:"createElement",value:function($){return arguments.length?(this.props.createElement=$,this):this.props.createElement||R.createElement}},{key:"canvas",value:function($,ae){var Te,He=$.getContext?$.getContext("2d"):$;return He.save(),He.rotate(this.rotate()*Math.PI/180),He.translate.apply(He,function(Oe){if(Array.isArray(Oe))return Ht(Oe)}(Te=this.anchor())||function(Oe){if(typeof Symbol<"u"&&Oe[Symbol.iterator]!=null||Oe["@@iterator"]!=null)return Array.from(Oe)}(Te)||function(Oe,je){if(Oe){if(typeof Oe=="string")return Ht(Oe,je);var et=Object.prototype.toString.call(Oe).slice(8,-1);return et==="Object"&&Oe.constructor&&(et=Oe.constructor.name),et==="Map"||et==="Set"?Array.from(Oe):et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Ht(Oe,je):void 0}}(Te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ae(He),He.restore(),He}},{key:"render",value:function(){var $=Vt(arguments);if($.d3)return $.d3.attr("transform","rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")"));if($.ctx)return this.canvas($.ctx,$.fn);if($.text){var ae=typeof $.text.render=="function"?$.text.render():$.text;return this.createElement()("g",{transform:"rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")")},ae)}}}],Y&&vn(B.prototype,Y),Object.defineProperty(B,"prototype",{writable:!1}),R}(),Tn=Object.prototype.hasOwnProperty,vr={};function Ti(R){return vr[R]||(vr[R]=R.replace(/([a-z])([A-Z])/g,function(B,Y,$){return Y+"-"+$.toLowerCase()})),vr[R]}function $t(R,B){if(Array.isArray(B))return B.forEach(function(Y){return $t(R,Y)});typeof B=="string"&&(B=document.createTextNode(B)),R.appendChild(B)}function Ln(R,B){if(typeof document<"u"){var Y=typeof R=="string"?document.createElementNS("http://www.w3.org/2000/svg",R):R;if(B&&Y.setAttribute)for(var $ in B)Tn.call(B,$)&&B[$]!=null&&Y.setAttribute($==="className"?"class":Ti($),B[$]);for(var ae=arguments.length,Te=new Array(ae>2?ae-2:0),He=2;He<ae;He++)Te[He-2]=arguments[He];return Te!=null&&Te.length&&Te.forEach(function(Oe){$t(Y,Oe)}),Y}}gt.createElement=Ln,gt.textparser=Ce,gt.defaultparser=Ce,gt.htmlparser=function(R){R=String(R||"").trim();for(var B,Y,$={weight:null,style:null,sub:!1,sup:!1,href:null,color:null,rel:null,target:null},ae=[],Te=[],He=function(yt){for(var dt in $)$[dt]&&(yt[dt]=$[dt]);ae.push(yt)},Oe=function(yt){var dt=ae.length,ut=nt[yt];if(dt&&ut){for(var P=dt-1;ae[P]&&(ae[P]instanceof F||ve.test(ae[P].value));)P--;for(;ut&&ae[P]&&ae[P]instanceof T;)P--,ut--;for(;ut-- >0;)ae.push(new T)}};R.length;){if(B=/^[^<]+/.exec(R))Ce(rt(B[0]),!1).forEach(He);else if(!(B=Xe.exec(R)))if(B=De.exec(R))Te.length&&($=Te.pop()),Oe(B[1]);else if(B=qe.exec(R)){var je=B[1];Oe(je),Te.push($),$=Object.create($),_e[je]&&_e[je]($,"");var et=Z(B[2]);je==="a"&&(et.href&&($.href=et.href),et.rel&&($.rel=et.rel),et.target&&($.target=et.target)),et.class&&($.class=$.class?$.class+" "+et.class:et.class),et.style&&(Y=/(?:^|\s|;)color\s*:\s*([^;\s"']+)/.exec(et.style))&&Y[1]&&($.color=Y[1]),je==="br"&&ae.push(new T)}else B=[R.slice(0,1)],He(new U(B[0]));R=R.slice(B[0].length)}for(var pt=ae[ae.length-1];pt instanceof T;)ae.pop(),pt=ae[ae.length-1];return ae},gt.latexparser=function(R){R=String(R||"").trim();var B=[0];R=R.replace(/\\verb,(.*?),/,function(M,z){return B.push(z),"\\verb,"+(B.length-1)+","}).replace(/\\\\\n/g,function(){return"\\\\"}).replace(Me,function(M,z,H){return H.charAt(z-1)==="\\"?M:Pe[M]}).replace(/\n\s+/g,function(M){return/\n/.test(M.slice(1))?"\\par ":M}).replace(/\\symbol\{(\d+)\}/,function(M,z,H,Q){return Q.charAt(H-1)==="\\"?M:String.fromCharCode(1*z)}).replace(/(^|[^\\])(\^|_)(\d|[^{]\S*)/g,function(M,z,H,Q){return z+H+"{"+Q+"}"}).replace(/\\verb,(.*?),/,function(M,z){return"\\verb,".concat(B[+z],",")});for(var Y,$={weight:null,italic:null,variant:null,sub:!1,sup:!1,href:null},ae=[],Te=[],He=function(M){for(var z in $)$[z]&&(M[z]=$[z]);return ae.push(M),M},Oe=function(){Te.push($),$=Object.create($)},je=function(){if(!Te.length)throw new Error("Unexpected }");$=Te.pop()},et={tokens:ae,open_context:Oe,close_context:je,add_token:He};R.length;){if(Y=ue.exec(R))Ce(Y[0],!1).forEach(He);else if(Y=ge.exec(R))He(new U(Y[1]));else if(!(Y=le.exec(R))){if(Y=/^\{/.exec(R))Oe();else if(Y=/^\}/.exec(R))je();else if(!(Y=/^\$/.exec(R)))if(Y=/^\\verb,([^,]+),/.exec(R))He(new U(Y[1]));else if(Y=se.exec(R)){var pt=Y[1].slice(1)||Y[1],yt=!!Y[2];if(/^(La)?TeX$/i.test(pt)){Oe(),$.family="serif";var dt=void 0;pt==="LaTeX"&&((dt=He(new U("L"))).tracking=-.25,(dt=He(new U("A"))).size=.7,dt.baseline=.3,dt.tracking=-.1),(dt=He(new U("T"))).tracking=-.17,(dt=He(new U("E"))).baseline=-.22,dt.tracking=-.13,dt=He(new U("X")),je()}else if(pt in re)He(new U(re[pt])),yt&&Oe();else if(pt in ke){var ut=[],P=ke[pt].length-1,O=void 0;if(P){for(yt=!1,R=R.slice(Y[0].length-1);P--;){if(!(O=/^\{([^}]+)\}/.exec(R)))throw new Error(pt+" is missing an argument");ut.push(O[1]),R=R.slice(O[0].length)}Y[0]=/^\{/.exec(R)?"{":"",yt=!!Y[0]}yt&&Oe(),ke[pt].apply(et,[$].concat(ut))}else console.warn("unknown latex command",pt),He(new U(Y[1])),yt&&Oe()}else Y=[R.slice(0,1)],He(new U(Y[0]))}R=R.slice(Y[0].length)}return ae},gt.measureText=function(R,B,Y){return x(R,p(B),Y)},gt.Token=U,gt.Break=F,gt.LineBreak=T,gt.SoftHyphen=q,gt.Rotator=hn,hn.createElement=Ln;const Rn=gt;return r.default})())})(jF);var HY=jF.exports;const sC=Hx(HY);function Qf(e){return e.replace(/$/,"")}function Kf(e){return e.children[0].innerHTML}function WY(e,t){const n=os(e),{fontSize:r,font:i,padding:s=0}=e.properties.style||{};if(n.width===n.height&&n.width===0)return;const o=new sC({font:`${r}px/${r}px ${i}`.replace(/(px)+/g,"px"),width:n.width-s*2,height:n.height-s*2,align:"left",valign:"top",x:0,overflow:"ellipsis",parser:"html",createElement:sC.createElement});o.overflowWrap("break-word");const a=o.linebreak(e.properties.content.replaceAll(`
`,"<br>")).render(),l=[...a.children];let c=0;const d=[];e.properties.content.split(`
`).forEach(g=>{let p=g;for(;p.length&&c<l.length;){if(l[c].innerHTML==="&nbsp;"){p.startsWith(`
`)||d.push(c),c++;break}const m=Qf(Kf(l[c]));p.startsWith(m)&&(p=p.slice(m.length).trim()),c++}}),d.forEach(g=>a.removeChild(l[g]));const u=e.properties.content.match(/(https?:\/\/.*)/gm),h=u?u.map(g=>g.split(" ")[0]):[];a.setAttribute("transform",`translate(${s}, ${s})`),h.forEach(g=>{let p=g;const m=[];for(;p.length>0;){const _=l.find(f=>!!f.children[0]&&f.children[0].tagName==="tspan"&&p.startsWith(Qf(Kf(f))));if(!_)break;m.push(_);const y=Qf(_.children[0].innerHTML).length;if(!y)break;p=p.slice(y)}m.forEach(_=>{const y=document.createElementNS("http://www.w3.org/2000/svg","a");y.setAttribute("href",g),y.setAttribute("target","_blank"),y.innerHTML=Kf(_),_.children[0].innerHTML="",_.children[0].appendChild(y)})}),t.appendChild(a)}const oC=20;class qY extends OF{constructor(t,n={}){super(t,`
    <div class="annotation-text-handle">
    <span class="handle line-handle top" data-handle-id="0"></span>
    <span class="handle line-handle bottom" data-handle-id="1"></span>
    <span class="handle line-handle left" data-handle-id="2"></span>
    <span class="handle line-handle right" data-handle-id="3"></span>
    <span class="handle top right point-handle top-right" data-handle-id="4"></span>
    <span class="handle left top point-handle top-left" data-handle-id="5"></span>
    <span class="handle bottom right point-handle bottom-right" data-handle-id="6"></span>
    <span class="handle left bottom left-handle point-handle bottom-left" data-handle-id="7"></span>
    <textarea wrap="on"></textarea>
    </div>
  `),Be(this,"textArea"),Be(this,"handleSize"),Be(this,"rect",{x:0,y:0,width:0,height:0}),Be(this,"annotation",{...Zf}),Be(this,"startX",0),Be(this,"startY",0),Be(this,"handles",[]),Be(this,"draggedHandle",bn),Be(this,"isFocused",!1),Be(this,"placeholder","Type your text here..."),Be(this,"_onFocus",()=>{this.textArea.value===this.placeholder&&(this.textArea.value=""),this.isFocused=!0}),Be(this,"_onBlur",()=>{this.isFocused=!1}),Be(this,"startDrawing",(i,s,o=BF(i,s,0,0,"",ll))=>{this.add(o);const a=this.ogma.view.graphToScreenCoordinates({x:i,y:s});this.select(o.id),this.startDragging(this.getById(o.id),a.x,a.y),this.draggedHandle=6}),Be(this,"cancelDrawing",()=>{this.isDragging&&(this.remove(this.annotation.id),this.annotation={...Zf},this.draggedHandle=bn,this.isDragging=!1,this.emit(Cl,this.annotation))}),Be(this,"startDragging",(i,s,o)=>{this.annotation=i;const a=ts(this.annotation),l=os(this.annotation);this.rect.x=a.x,this.rect.y=a.y,this.rect.width=l.width,this.rect.height=l.height,this.startX=s,this.startY=o,this.disableDragging(),this.textArea.classList.add("noevents"),this.textArea.setAttribute("disabled","disabled"),this.emit(sp,this.annotation),this.isDragging=!0}),Be(this,"onHandleMouseDown",i=>{const s=this.getById(this.selectedId)||this.getById(this.hoveredId);if(!s)return;this.selectedId!==s.id&&this.select(this.hoveredId);const{x:o,y:a}=yy(i,this.ogma.getContainer());this.startDragging(s,o,a),this.draggedHandle=FF(i.target)}),Be(this,"onMouseMove",i=>{requestAnimationFrame(()=>this._onMouseMove(i))}),Be(this,"_onMouseMove",i=>{if(!this.isDragging)return;i.stopPropagation(),i.preventDefault();const s=this.handles[this.draggedHandle],o=s.classList.contains("top"),a=s.classList.contains("left"),l=s.classList.contains("right"),c=s.classList.contains("bottom"),d=s.classList.contains("line-handle"),{x:u,y:h}=yy(i,this.ogma.getContainer()),g=this.ogma.view.getZoom(),p=(u-this.startX)/g,m=(h-this.startY)/g,_=this.ogma.view.getAngle(),y=new An(p,m).rotateRadians(_);(c&&a||o&&l)&&(y.y=0,y.x=0);const f=a||d?this.rect.x+y.x:this.rect.x,v=o||d?this.rect.y+y.y:this.rect.y,x=Math.max(this.rect.width+p*(d||a?0:1),oC),w=Math.max(this.rect.height+m*(d||o?0:1),oC);zY(this.annotation,f,v,x,w),this.emit(ip,this.annotation,"text"),this.refreshEditor(),this.layer.refresh()}),Be(this,"onMouseUp",()=>{!this.isDragging||this.draggedHandle===bn||(this.restoreDragging(),this.textArea.classList.remove("noevents"),this.textArea.removeAttribute("disabled"),this.emit(Cl,this.annotation),this.isDragging=!1,this.draggedHandle=bn)}),Be(this,"_onMousedown",i=>{i.stopPropagation()}),Be(this,"onViewChanged",()=>{const i=Math.max(2,this.handleSize/this.ogma.view.getZoom());document.documentElement.style.setProperty("--handle-scale",`${1/i}`)}),Be(this,"_onInput",()=>{const i=this.getById(this.selectedId);i&&(this.textArea.value=this.textArea.value.replace(/ +(?= )/g,""),this.textArea.focus(),i.properties.content=this.textArea.value,this.emit(Ey,i),this.layer.refresh())}),this.showeditorOnHover=!1,this.handleSize=iC.handleSize,this.placeholder=iC.placeholder;const r=this.textArea=this.editor.element.querySelector("textarea");r.addEventListener("input",this._onInput),r.addEventListener("focus",this._onFocus),r.addEventListener("blur",this._onBlur),r.addEventListener("mousedown",this._onMousedown),r.spellcheck=!1,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".annotation-text-handle > .handle")),this.handles.forEach(i=>i.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove,!0),t.events.on(["viewChanged","zoom"],this.onViewChanged)}_canRemove(){return!this.isFocused}detect({x:t,y:n},r=0){const i=new An(t,n),s=this.ogma.view.getAngle();return this.elements.find(o=>{const{x:a,y:l}=ts(o),{width:c,height:d}=os(o),u=new An(a,l),{x:h,y:g}=i.sub(u).rotateRadians(-s);return h>-r&&h<c+r&&g>-r&&g<d+r})}draw(t){t.innerHTML="";const n="",r=this.ogma.view.getAngle();this.elements.forEach((s,o)=>{const a=`class${o}`,l=os(s),c=ts(s),d=s.id,{color:u,fontSize:h,font:g,strokeColor:p,strokeWidth:m,strokeType:_,background:y}=s.properties.style||ll;if(d===this.selectedId)return;const f=Xc("g");f.classList.add("annotation-text"),f.setAttribute("fill",`${u}`),f.setAttribute("font-size",`${h}px`),f.setAttribute("font-family",`${g}`);const v=Xc("rect");let x=!1;_&&_!=="none"&&(x=!0,v.setAttribute("stroke",p||"black"),v.setAttribute("stroke-width",`${m}`),_==="dashed"&&v.setAttribute("stroke-dasharray","5,5")),(y&&y.length||x)&&(x=!0,v.setAttribute("fill",y||"transparent")),x&&(v.setAttribute("width",`${l.width}`),v.setAttribute("height",`${l.height}`)),f.appendChild(v),WY(s,f);const{x:w,y:b}=new An(c.x,c.y).rotateRadians(-r);f.setAttribute("transform",`translate(${w},${b})`),f.classList.add(a),f.setAttribute("data-annotation",`${s.id}`),f.setAttribute("data-annotation-type","text"),t.appendChild(f)});const i=Xc("style");i.innerHTML=n,t.firstChild&&t.insertBefore(i,t.firstChild)}refreshDrawing(){const t=this.ogma.view.getAngle();[...this.layer.element.children].forEach(n=>{const r=n.getAttribute("data-annotation");if(!r)return;const i=ts(this.getById(r)),{x:s,y:o}=new An(i.x,i.y).rotateRadians(-t);n.setAttribute("transform",`translate(${s},${o})`)})}getDefaultOptions(){return Zf}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.getById(this.selectedId)||this.getById(this.hoveredId),n=os(t),r=this.ogma.view.graphToScreenCoordinates(ts(t)),i=this.ogma.view.getZoom(),{font:s,fontSize:o,color:a,background:l,padding:c=0}=t.properties.style||ll,d=(o||1)*i;this.textArea.value=t.properties.content,this.editor.element.style.transform=`translate(${r.x}px, ${r.y}px)translate(-50%, -50%)translate(${n.width/2*i}px, ${n.height/2*i}px)`,this.editor.element.style.width=`${n.width*i}px`,this.editor.element.style.height=`${n.height*i}px`,this.textArea.style.font=`${d} ${s}`,this.textArea.style.fontFamily=s||"sans-serif",this.textArea.style.fontSize=`${d}px`,this.textArea.style.padding=`${i*c}px`,this.textArea.style.lineHeight=`${d}px`,this.textArea.style.boxSizing="border-box",this.textArea.style.color=a||"black",this.textArea.style.background=l||"transparent",this.textArea.placeholder=this.placeholder,this.layer.refresh()}select(t){super.select(t),this.textArea.focus()}destroy(){super.destroy(),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove,!0),this.ogma.events.off(this.onViewChanged)}}class XY{constructor(){Be(this,"links",{}),Be(this,"linksByTargetId",{}),Be(this,"linksByArrowId",{})}add(t,n,r,i,s){const o=um(),a=t.id,l={id:o,arrow:a,target:r,targetType:i,connectionPoint:s,side:n};return this.links[o]=l,this.linksByTargetId[r]||(this.linksByTargetId[r]=[]),this.linksByTargetId[r].push(o),this.linksByArrowId[a]||(this.linksByArrowId[a]={}),this.linksByArrowId[a][n]=o,t.properties.link=t.properties.link||{},t.properties.link[n]={id:r,side:n,type:i,magnet:s},this}arrowIsLinked(t,n){var r;return!!((r=this.linksByArrowId[t])!=null&&r[n])}remove(t,n){var r,i;const s=t.id,o=(r=this.linksByArrowId[s])==null?void 0:r[n];if((i=t.properties.link)==null||delete i[n],!o)return this;const a=this.links[o];delete this.links[o];const l=this.linksByTargetId[a.target];for(let c=0;c<l.length;c++)if(l[c]===o){l.splice(c,1);break}return delete this.linksByArrowId[s][n],this}getArrowLink(t,n){var r;const i=(r=this.linksByArrowId[t])==null?void 0:r[n];return i?this.links[i]:null}getTargetLinks(t,n){var r;return((r=this.linksByTargetId[t])==null?void 0:r.map(i=>this.links[i]).filter(i=>i.targetType===n))??[]}forEach(t){Object.values(this.links).forEach(t)}}const Mr=e=>e.properties.type==="arrow",zi=e=>e.properties.type==="text",aC=e=>e.type==="FeatureCollection",YY={magnetColor:"#3e8",detectMargin:20,magnetHandleRadius:5,magnetRadius:10,textPlaceholder:"Type here",arrowHandleSize:3.5,textHandleSize:3.5,minArrowHeight:20,maxArrowHeight:30},lC=["start","end"],cC=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:0,y:.5},{x:1,y:.5},{x:0,y:1},{x:.5,y:1},{x:1,y:1}];class ZY extends zF{constructor(t,n={}){super(),Be(this,"arrows"),Be(this,"texts"),Be(this,"links",new XY),Be(this,"layer"),Be(this,"annotations"),Be(this,"ogma"),Be(this,"options"),Be(this,"selected",null),Be(this,"updateTimeout",0),Be(this,"hoveredNode",null),Be(this,"dragged",null),Be(this,"textToMagnet"),Be(this,"activeLinks",[]),Be(this,"_render",r=>{if(!this.dragged||this.textToMagnet===void 0)return;r.beginPath(),r.fillStyle="green";const i=this.ogma.view.getZoom();cC.forEach(s=>{if(!this.textToMagnet)return;const o=os(this.textToMagnet),a=ts(this.textToMagnet),{x:l,y:c}=new An(s.x,s.y).mul({x:o.width,y:o.height}).rotateRadians(this.ogma.view.getAngle()).add(a);r.moveTo(l,c),r.arc(l,c,this.options.magnetHandleRadius/i,0,Math.PI*2)}),r.fill(),r.closePath()}),Be(this,"_onFeatureDrag",(r,i)=>{const s=i;if(Mr(r)&&s==="line")["start","end"].find(o=>{const a=o==="start"?Yc(r):np(r);return this._snapToText(r,s,a)||this._findAndSnapToNode(r,o,a)});else if(Mr(r)&&s!=="line"){const o=s==="start"?Yc(r):np(r);this._snapToText(r,s,o)||this._findAndSnapToNode(r,s,o)}else zi(r)&&(this.activeLinks.forEach(({arrow:o,side:a,connectionPoint:l})=>{const c=this.getAnnotation(o),d=os(r),u=ts(r),h=new An(l.x,l.y).mul({x:d.width,y:d.height}).rotateRadians(this.ogma.view.getAngle()).add(u);c.geometry.coordinates[a==="start"?0:1]=[h.x,h.y]}),this.activeLinks.length&&this.arrows.refreshLayer());this.layer.refresh(),this.emit(ip,r,i)}),Be(this,"_onFeatureDragEnd",r=>{this.dragged!==null&&Mr(r)&&Yc(this.dragged)&&lC.forEach(i=>{this.links.getArrowLink(r.id,i)&&this.emit(UY,{arrow:r,link:this.links.getArrowLink(r.id,i)})}),(zi(r)||Mr(r))&&this.onUpdate(r),this.dragged=null,this.activeLinks=[],this.textToMagnet=void 0,this.annotations.forEach(i=>i.enableDetection()),this.layer.refresh(),this.emit(Cl,r)}),Be(this,"_onFeatureDragStart",r=>{this.textToMagnet=void 0,Mr(r)?this.dragged=r:zi(r)&&this.activeLinks.push(...this.links.getTargetLinks(r.id,"text")),this.annotations.forEach(i=>{const s=i.getSelectedFeature();s&&s!==r&&i.unhover().unselect(),i.disableDetection()}),this.emit(sp,r)}),Be(this,"_onNodesDragStart",()=>{this.arrows.unhover().unselect(),this.texts.unhover().unselect()}),Be(this,"_onNodesDrag",r=>{const{dx:i,dy:s}=r;this._moveNodes(r.nodes,i,s)}),Be(this,"_onLayoutEnd",r=>{r.ids.forEach((i,s)=>{this.links.getTargetLinks(i,"node").forEach(o=>{const a=this.getAnnotation(o.arrow),l=o.side,c=mh(a,l==="start"?"end":"start"),d=r.positions.current[s],u=this.ogma.getNode(i).getAttribute("radius"),h=fh(c,d,+u);Ca(a,l,h.x,h.y)})}),this.arrows.refreshLayer(),this.texts.refreshLayer()}),Be(this,"_onAdded",r=>{this.emit(wy,r)}),Be(this,"_onRemoved",r=>{this.emit(by,r)}),Be(this,"_onUnselect",r=>{this.selected=null,this.emit(xy,r)}),Be(this,"_onSelect",r=>{this.selected!==r&&(this.selected=r,this.emit(vy,this.selected))}),Be(this,"onUpdate",r=>{cancelAnimationFrame(this.updateTimeout),this.updateTimeout=requestAnimationFrame(()=>this._onUpdate(r))}),Be(this,"_onUpdate",r=>{this.emit(Ey,r)}),this.options=this.setOptions({...YY,...n}),this.ogma=t,this.arrows=new GY(t,this.options),this.texts=new qY(t,this.options),this.annotations=[this.arrows,this.texts],this.annotations.forEach(r=>{r.on(sp,this._onFeatureDragStart).on(ip,this._onFeatureDrag).on(Cl,this._onFeatureDragEnd).on(Ey,this.onUpdate).on(xy,this._onUnselect).on(vy,this._onSelect).on(wy,this._onAdded).on(by,this._onRemoved)}),this.ogma.events.on("nodesDragStart",this._onNodesDragStart).on("nodesDragProgress",this._onNodesDrag).on("layoutEnd",this._onLayoutEnd).on(["viewChanged","rotate"],()=>{this.refreshTextLinks()}),this.layer=t.layers.addCanvasLayer(this._render),this.layer.moveToBottom()}_moveNodes(t,n,r){t.forEach(i=>{const s=this.links.getTargetLinks(i.getId(),"node"),o=i.getPosition();s.forEach(a=>{const l=this.getAnnotation(a.arrow),c=a.side,d=mh(l,c==="start"?"end":"start");let u=o;const h=+i.getAttribute("radius"),g=1e-6;(a.connectionPoint.x-(o.x-n)>g||a.connectionPoint.y-(o.y-r)>g)&&(u=fh(d,o,h)),Ca(l,c,u.x,u.y)})}),this.arrows.refreshLayer()}_snapToText(t,n,r){const i=this.texts.detect(r,this.options.detectMargin);if(this.links.remove(t,n),!i)return!1;this.textToMagnet=i;const s=this.findMagnetPoint(cC,i,r);return s?(Ca(t,n,s.point.x,s.point.y),this.links.add(t,n,i.id,"text",s.magnet),!0):!1}_findAndSnapToNode(t,n,r){const i=this.ogma.view.graphToScreenCoordinates(r),s=this.ogma.view.getElementAt(i);this.links.remove(t,n),s&&s.isNode?(this.hoveredNode=s,this.hoveredNode.setSelected(!0),this._snapToNode(t,n,s,i)):(this.hoveredNode&&this.hoveredNode.setSelected(!1),this.hoveredNode=null)}_snapToNode(t,n,r,i){const s=r.getPositionOnScreen(),o=+r.getAttribute("radius"),a=o*this.ogma.view.getZoom(),l=i.x-s.x,c=i.y-s.y,d=Math.sqrt(l*l+c*c),u=r.getPosition();if(d<a+this.options.detectMargin){let h=u;if(d>a/2){const g=mh(t,n==="end"?"start":"end");h=fh(g,h,o)}Ca(t,n,h.x,h.y),this.links.add(t,n,r.getId(),"node",h)}}refreshTextLinks(){let t=!1;this.links.forEach(({connectionPoint:n,targetType:r,target:i,arrow:s,side:o})=>{if(r!=="text")return;t=!0;const a=this.getAnnotation(i),l=this.getAnnotation(s),c=os(a),d=ts(a),u=new An(n.x,n.y).mul({x:c.width,y:c.height}).rotateRadians(this.ogma.view.getAngle()).add(d);Ca(l,o,u.x,u.y)}),t&&this.arrows.refreshLayer()}getSelected(){return this.selected}findMagnetPoint(t,n,r){let i;for(const s of t){const o=os(n),a=ts(n),l=new An(s.x,s.y).mul({x:o.width,y:o.height}).rotateRadians(this.ogma.view.getAngle()).add(a),c=l.sub(r).length(),d=Math.min(this.options.magnetRadius*this.ogma.view.getZoom(),o.width/2,o.height/2);if(c<Math.max(d,this.options.magnetHandleRadius)){i={point:l,magnet:s};break}}return i}setOptions(t={}){return this.options={...this.options||{},...t},this.options}select(t){const n=this.getAnnotations().features.find(r=>r.id===t);return n?(Mr(n)?this.arrows.select(n.id):zi(n)&&this.texts.select(n.id),this):this}unselect(){return this.selected?(Mr(this.selected)?this.arrows.unselect():zi(this.selected)&&this.texts.unselect(),this):this}add(t){if(aC(t)){const[n,r]=t.features.reduce((i,s)=>(Mr(s)?i[1].push(s):zi(s)&&i[0].push(s),i),[[],[]]);return n.forEach(i=>this.add(i)),r.forEach(i=>this.add(i)),this.arrows.refreshLayer(),this}switch(t.properties.type){case"text":this.texts.add(t);break;default:this.arrows.add(t),this.loadLink(t);break}return this}remove(t){return aC(t)?(t.features.forEach(n=>this.remove(n)),this):(Mr(t)?(this.links.remove(t,"start"),this.links.remove(t,"end"),this.arrows.remove(t.id)):this.texts.remove(t.id),this)}loadLink(t){if(t.properties.link)for(const n of lC){const r=t.properties.link[n];if(!r)continue;const i=this.getAnnotation(r.id);if(r.type==="text"&&i)this.links.add(t,n,r.id,r.type,r.magnet);else if(r.type==="node"){const s=this.ogma.getNode(r.id);if(!s)continue;this.links.add(t,n,r.id,r.type,r.magnet);const o=s.getPosition(),a=s.getAttribute("radius")||0,l=mh(t,n==="start"?"end":"start"),c=fh(l,o,+a);Ca(t,n,c.x,c.y)}}}startArrow(t,n,r){this.cancelDrawing(),this.arrows.startDrawing(t,n,r)}startText(t,n,r){this.cancelDrawing(),this.texts.startDrawing(t,n,r)}cancelDrawing(){this.annotations.forEach(t=>t.cancelDrawing()),this.emit($Y)}updateStyle(t,n){const r=this.getAnnotations().features.find(i=>i.id===t);return r?(Mr(r)?this.arrows.updateStyle(r,n):zi(r)&&this.texts.updateStyle(r,n),this.onUpdate(r),this):this}getAnnotations(){const t={type:"FeatureCollection",features:[]};return this.annotations.forEach(n=>{t.features=[...t.features,...n.getElements()]}),t}getAnnotation(t){return this.getAnnotations().features.find(n=>n.id===t)}destroy(){this.annotations.forEach(t=>t.destroy()),this.layer.destroy()}}const Sy=[8,10,12,14,16,24,32,48,64,72],dC="none",$F="#333333",Jf=["#FFFFFF","#F44E3B","#FE9200","#FCDC00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#1E88E5","#333333","#808080","#cccccc"],QY=["Roboto","Helvetica Neue","Helvetica","Arial","sans-serif","Georgia, serif","Menlo","Monaco","Consolas","Courier New","monospace"].sort((e,t)=>e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())),UF={head:"arrow",strokeColor:$F,strokeWidth:5},KY=.25,VF={font:"Roboto",fontSize:Sy[2],padding:Sy[2]*KY,color:$F,strokeType:dC,background:dC};function JY(e){return e.reduce((t,n)=>t+n,0)/e.length}function uC(e,t=0,n=1){return t+(n-t)*e}function hC(e,t=0,n=1){return(e-t)/(n-t)}const GF=L.createContext(void 0),HF=()=>L.useContext(GF),eZ=(e,t)=>{switch(t.type){case"add":return{...e,features:[...e.features,t.payload]};case"remove":return{...e,features:e.features.filter(n=>n.id!==t.payload.id)};case"update":return{...e,features:e.features.map(n=>n.id===t.payload.id?t.payload:n)};default:return e}},tZ=({children:e})=>{const t=rr(),[n,r]=L.useReducer(eZ,{type:"FeatureCollection",features:[]}),[i,s]=L.useState(null),[o,a]=L.useState(UF),[l,c]=L.useState(VF),[d,u]=L.useState(),[h,g]=L.useState(1),[p,m]=L.useState(1);return L.useEffect(()=>{if(!t)return;const _=new ZY(t,{minArrowHeight:1}),y=JY(t.getNodes().getAttribute("radius"))/5,f=h;return a({...o,strokeWidth:(o.strokeWidth||1)*f}),g(f),m(y),_.on("select",v=>{Mr(v)?a({...v.properties.style||{}}):zi(v)&&c({...v.properties.style||{}}),s(v)}).on("unselect",()=>{s(null)}),u(_),()=>{d==null||d.destroy()}},[t]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="arrow"&&d.updateStyle(i.id,o)},[d,o,i]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="text"&&d.updateStyle(i.id,l)},[d,l,i]),ot.jsx(GF.Provider,{value:{annotations:n,updateAnnotations:r,currentAnnotation:i,setCurrentAnnotation:s,textStyle:l,setTextStyle:c,arrowStyle:o,setArrowStyle:a,arrowWidthFactor:h,setArrowWidthFactor:g,textSizeFactor:p,setTextSizeFactor:m,editor:d,setEditor:u},children:e})};function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}function nZ(e){if(Array.isArray(e))return e}function rZ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WF(e,t){if(e){if(typeof e=="string")return Ay(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ay(e,t)}}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(e,t){return nZ(e)||rZ(e,t)||WF(e,t)||iZ()}function sZ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Re(e,t){if(e==null)return{};var n=sZ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var oZ={},Wo={},qF={};function aZ(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var lZ=aZ,XF={};(function(e){e.__esModule=!0,e.default=void 0;function t(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,l,c){return l&&t(a.prototype,l),c&&t(a,c),a}var r=typeof process<"u"&&oZ&&!0,i=function(l){return Object.prototype.toString.call(l)==="[object String]"},s=function(){function a(c){var d=c===void 0?{}:c,u=d.name,h=u===void 0?"stylesheet":u,g=d.optimizeForSpeed,p=g===void 0?r:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;o(i(h),"`name` must be a string"),this._name=h,this._deletedRulePlaceholder="#"+h+"-deleted-rule____{}",o(typeof p=="boolean","`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=p,this._isBrowser=_,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var y=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=y?y.getAttribute("content"):null}var l=a.prototype;return l.setOptimizeForSpeed=function(d){o(typeof d=="boolean","`setOptimizeForSpeed` accepts a boolean"),o(this._rulesCount===0,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=d,this.inject()},l.isOptimizeForSpeed=function(){return this._optimizeForSpeed},l.inject=function(){var d=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(h,g){return typeof g=="number"?d._serverSheet.cssRules[g]={cssText:h}:d._serverSheet.cssRules.push({cssText:h}),g},deleteRule:function(h){d._serverSheet.cssRules[h]=null}}},l.getSheetForTag=function(d){if(d.sheet)return d.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===d)return document.styleSheets[u]},l.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},l.insertRule=function(d,u){if(o(i(d),"`insertRule` accepts only strings"),!this._isBrowser)return typeof u!="number"&&(u=this._serverSheet.cssRules.length),this._serverSheet.insertRule(d,u),this._rulesCount++;if(this._optimizeForSpeed){var h=this.getSheet();typeof u!="number"&&(u=h.cssRules.length);try{h.insertRule(d,u)}catch{return r||console.warn(`StyleSheet: illegal rule: 

`+d+`

See https://stackoverflow.com/q/20007992 for more info`),-1}}else{var g=this._tags[u];this._tags.push(this.makeStyleTag(this._name,d,g))}return this._rulesCount++},l.replaceRule=function(d,u){if(this._optimizeForSpeed||!this._isBrowser){var h=this._isBrowser?this.getSheet():this._serverSheet;if(u.trim()||(u=this._deletedRulePlaceholder),!h.cssRules[d])return d;h.deleteRule(d);try{h.insertRule(u,d)}catch{r||console.warn(`StyleSheet: illegal rule: 

`+u+`

See https://stackoverflow.com/q/20007992 for more info`),h.insertRule(this._deletedRulePlaceholder,d)}}else{var g=this._tags[d];o(g,"old rule at index `"+d+"` not found"),g.textContent=u}return d},l.deleteRule=function(d){if(!this._isBrowser){this._serverSheet.deleteRule(d);return}if(this._optimizeForSpeed)this.replaceRule(d,"");else{var u=this._tags[d];o(u,"rule at index `"+d+"` not found"),u.parentNode.removeChild(u),this._tags[d]=null}},l.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(d){return d&&d.parentNode.removeChild(d)}),this._tags=[]):this._serverSheet.cssRules=[]},l.cssRules=function(){var d=this;return this._isBrowser?this._tags.reduce(function(u,h){return h?u=u.concat(Array.prototype.map.call(d.getSheetForTag(h).cssRules,function(g){return g.cssText===d._deletedRulePlaceholder?null:g})):u.push(null),u},[]):this._serverSheet.cssRules},l.makeStyleTag=function(d,u,h){u&&o(i(u),"makeStyleTag acceps only strings as second parameter");var g=document.createElement("style");this._nonce&&g.setAttribute("nonce",this._nonce),g.type="text/css",g.setAttribute("data-"+d,""),u&&g.appendChild(document.createTextNode(u));var p=document.head||document.getElementsByTagName("head")[0];return h?p.insertBefore(g,h):p.appendChild(g),g},n(a,[{key:"length",get:function(){return this._rulesCount}}]),a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheet: "+l+".")}})(XF);(function(e){e.__esModule=!0,e.default=void 0;var t=r(lZ),n=r(XF);function r(a){return a&&a.__esModule?a:{default:a}}var i=function(l){return l.replace(/\/style/gi,"\\/style")},s=function(){function a(c){var d=c===void 0?{}:c,u=d.styleSheet,h=u===void 0?null:u,g=d.optimizeForSpeed,p=g===void 0?!1:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;this._sheet=h||new n.default({name:"styled-jsx",optimizeForSpeed:p}),this._sheet.inject(),h&&typeof p=="boolean"&&(this._sheet.setOptimizeForSpeed(p),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=_,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var l=a.prototype;return l.add=function(d){var u=this;this._optimizeForSpeed===void 0&&(this._optimizeForSpeed=Array.isArray(d.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(_,y){return _[y]=0,_},{}));var h=this.getIdAndRules(d),g=h.styleId,p=h.rules;if(g in this._instancesCounts){this._instancesCounts[g]+=1;return}var m=p.map(function(_){return u._sheet.insertRule(_)}).filter(function(_){return _!==-1});this._indices[g]=m,this._instancesCounts[g]=1},l.remove=function(d){var u=this,h=this.getIdAndRules(d),g=h.styleId;if(o(g in this._instancesCounts,"styleId: `"+g+"` not found"),this._instancesCounts[g]-=1,this._instancesCounts[g]<1){var p=this._fromServer&&this._fromServer[g];p?(p.parentNode.removeChild(p),delete this._fromServer[g]):(this._indices[g].forEach(function(m){return u._sheet.deleteRule(m)}),delete this._indices[g]),delete this._instancesCounts[g]}},l.update=function(d,u){this.add(u),this.remove(d)},l.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},l.cssRules=function(){var d=this,u=this._fromServer?Object.keys(this._fromServer).map(function(g){return[g,d._fromServer[g]]}):[],h=this._sheet.cssRules();return u.concat(Object.keys(this._indices).map(function(g){return[g,d._indices[g].map(function(p){return h[p].cssText}).join(d._optimizeForSpeed?"":`
`)]}).filter(function(g){return!!g[1]}))},l.createComputeId=function(){var d={};return function(u,h){if(!h)return"jsx-"+u;var g=String(h),p=u+g;return d[p]||(d[p]="jsx-"+(0,t.default)(u+"-"+g)),d[p]}},l.createComputeSelector=function(d){d===void 0&&(d=/__jsx-style-dynamic-selector/g);var u={};return function(h,g){this._isBrowser||(g=i(g));var p=h+g;return u[p]||(u[p]=g.replace(d,h)),u[p]}},l.getIdAndRules=function(d){var u=this,h=d.children,g=d.dynamic,p=d.id;if(g){var m=this.computeId(p,g);return{styleId:m,rules:Array.isArray(h)?h.map(function(_){return u.computeSelector(m,_)}):[this.computeSelector(m,h)]}}return{styleId:this.computeId(p),rules:Array.isArray(h)?h:[h]}},l.selectFromServer=function(){var d=Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]'));return d.reduce(function(u,h){var g=h.id.slice(2);return u[g]=h,u},{})},a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheetRegistry: "+l+".")}})(qF);(function(e){e.__esModule=!0,e.default=s,e.flush=o;var t=E,n=r(qF);function r(a){return a&&a.__esModule?a:{default:a}}var i=new n.default;function s(a){return typeof window>"u"?(i.add(a),null):((0,t.useLayoutEffect)(function(){return i.add(a),function(){i.remove(a)}},[a.id,String(a.dynamic)]),null)}s.dynamic=function(a){return a.map(function(l){var c=l[0],d=l[1];return i.computeId(c,d)}).join(" ")};function o(){var a=i.cssRules();return i.flush(),a}})(Wo);var I=Wo.default||Wo;I.flush=Wo.flush;var op={};(function(e){e.__esModule=!0,e.default=i,e.flushToHTML=s;var t=r(E),n=Wo.default||Wo;n.flush=Wo.flush;function r(o){return o&&o.__esModule?o:{default:o}}function i(o){return o===void 0&&(o={}),(0,n.flush)().map(function(a){var l=a[0],c=a[1];return t.default.createElement("style",{id:"__"+l,key:"__"+l,nonce:o.nonce?o.nonce:void 0,dangerouslySetInnerHTML:{__html:c}})})}function s(o){return o===void 0&&(o={}),(0,n.flush)().reduce(function(a,l){var c=l[0],d=l[1];return a+='<style id="__'+c+'"'+(o.nonce?' nonce="'+o.nonce+'"':"")+">"+d+"</style>",a},"")}})(op);var YF=op.default||op;YF.flushToHTML=op.flushToHTML;function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}var ZF={sans:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace"},ap={xs:{min:"0",max:"650px"},sm:{min:"650px",max:"900px"},md:{min:"900px",max:"1280px"},lg:{min:"1280px",max:"1920px"},xl:{min:"1920px",max:"10000px"}},QF={gap:"16pt",gapNegative:"-16pt",gapHalf:"8pt",gapHalfNegative:"-8pt",gapQuarter:"4pt",gapQuarterNegative:"-4pt",pageMargin:"16pt",pageWidth:"750pt",pageWidthWithMargin:"782pt",breakpointMobile:ap.xs.max,breakpointTablet:ap.sm.max,radius:"5px",unit:"16px"},cZ={accents_1:"#fafafa",accents_2:"#eaeaea",accents_3:"#999",accents_4:"#888",accents_5:"#666",accents_6:"#444",accents_7:"#333",accents_8:"#111",background:"#fff",foreground:"#000",selection:"#79ffe1",secondary:"#666",code:"#f81ce5",border:"#eaeaea",error:"#e00",errorLight:"#ff1a1a",errorLighter:"#f7d4d6",errorDark:"#c50000",success:"#0070f3",successLight:"#3291ff",successLighter:"#d3e5ff",successDark:"#0761d1",warning:"#f5a623",warningLight:"#f7b955",warningLighter:"#ffefcf",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#0070f3"},dZ={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.02)",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 5px 10px rgba(0, 0, 0, 0.12)",shadowMedium:"0 8px 30px rgba(0, 0, 0, 0.12)",shadowLarge:"0 30px 60px rgba(0, 0, 0, 0.12)",portalOpacity:.25},uZ=ZF,hZ=ap,gZ=QF,Wx={type:"light",font:uZ,layout:gZ,palette:cZ,breakpoints:hZ,expressiveness:dZ},pZ={accents_1:"#111",accents_2:"#333",accents_3:"#444",accents_4:"#666",accents_5:"#888",accents_6:"#999",accents_7:"#eaeaea",accents_8:"#fafafa",background:"#000",foreground:"#fff",selection:"#f81ce5",secondary:"#888",code:"#79ffe1",border:"#333",error:"#e00",errorLighter:"#f7d4d6",errorLight:"#ff1a1a",errorDark:"#c50000",success:"#0070f3",successLighter:"#d3e5ff",successLight:"#3291ff",successDark:"#0761d1",warning:"#f5a623",warningLighter:"#ffefcf",warningLight:"#f7b955",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#3291ff"},mZ={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 0 0 1px #333",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 0 0 1px #333",shadowMedium:"0 0 0 1px #333",shadowLarge:"0 0 0 1px #333",portalOpacity:.75},fZ=ZF,_Z=ap,yZ=QF,KF={type:"dark",font:fZ,layout:yZ,palette:pZ,breakpoints:_Z,expressiveness:mZ},_h=function(t){return t&&Cy(t)==="object"},vZ=function e(t,n){if(!_h(n)||!_h(t))return t;for(var r=Object.keys(t),i={},s=0,o=r;s<o.length;s++){var a=o[s],l=t[a],c=n[a];Array.isArray(l)&&Array.isArray(c)?i[a]=c.concat(l):_h(l)&&_h(c)?i[a]=e(l,ye({},c)):c?i[a]=c:i[a]=l}return i},JF=function(){return[Wx,KF]},xZ=function(){return Wx},hm=function(t){if(!t)return!1;var n=JF(),r=n.find(function(i){return i.type===t});return!r},bZ=function(t){if(!t)return!1;var n=typeof t=="string",r=n?t:t.type;return!hm(r)},wZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return!!t.find(function(n){return hm(n.type)})},qx=function(t,n){if(!hm(n.type))throw new Error("Duplicate or unavailable theme type");return vZ(t,n)},EZ=function(t){return qx(KF,t)},SZ=function(t){return qx(Wx,t)},AZ={isPresetTheme:bZ,isAvailableThemeType:hm,hasUserCustomTheme:wZ,getPresets:JF,getPresetStaticTheme:xZ,create:qx,createFromDark:EZ,createFromLight:SZ},CZ=AZ.getPresetStaticTheme(),kZ=E.createContext(CZ),ze=function(){return E.useContext(kZ)},TZ=function(t){var n=t.children,r=t.isRight,i=ze();return E.createElement("span",{className:I.dynamic([["3089782703",[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]]])+" "+((r?"right":"")||"")},n,E.createElement(I,{id:"3089782703",dynamic:[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]},"span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:initial;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none;margin:0;padding:0 ".concat(i.layout.gapHalf,";color:").concat(i.palette.accents_4,";background-color:").concat(i.palette.accents_1,";border-top-left-radius:").concat(i.layout.radius,";border-bottom-left-radius:").concat(i.layout.radius,";border-top:1px solid ").concat(i.palette.border,";border-left:1px solid ").concat(i.palette.border,";border-bottom:1px solid ").concat(i.palette.border,";font-size:inherit;line-height:1;}span.right.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";border-left:0;border-right:1px solid ").concat(i.palette.border,";}")))},gC=E.memo(TZ),eR=function(t){var n=t.children,r=ze();return E.createElement("label",{className:I.dynamic([["1278828862",[r.palette.accents_6]]])},n,E.createElement(I,{id:"1278828862",dynamic:[r.palette.accents_6]},"label.__jsx-style-dynamic-selector{display:block;font-weight:normal;color:".concat(r.palette.accents_6,";padding:0 0 0 1px;margin-bottom:0.5em;font-size:1em;line-height:1.5;}label.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}label.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};eR.displayName="GeistInputBlockLabel";var LZ=E.memo(eR),tR=function(t){var n=t.icon,r=t.clickable,i=t.onClick;return E.createElement("span",{onClick:i,className:I.dynamic([["4247656379",[r?"pointer":"default",r?"auto":"none"]]])+" input-icon"},n,E.createElement(I,{id:"4247656379",dynamic:[r?"pointer":"default",r?"auto":"none"]},".input-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:0;line-height:1;position:relative;cursor:".concat(r?"pointer":"default",";pointer-events:").concat(r?"auto":"none",";}.input-icon.__jsx-style-dynamic-selector svg{width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))};tR.displayName="GeistInputIcon";var pC=E.memo(tR),NZ=function(t){var n=t.onClick,r=t.disabled,i=t.visible,s=ze(),o=function(l){l.preventDefault(),l.stopPropagation(),l.nativeEvent.stopImmediatePropagation(),n&&n(l)};return E.createElement("div",{onClick:o,className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])+" "+"clear-icon ".concat(i?"visible":"")},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])})),E.createElement(I,{id:"1567030211",dynamic:[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:".concat(r?"not-allowed":"pointer",";-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;margin:0;padding:0;color:").concat(s.palette.accents_3,";visibility:hidden;opacity:0;}.visible.__jsx-style-dynamic-selector{visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r?s.palette.accents_3:s.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))},IZ=E.memo(NZ),nR=function(t,n){var r={default:{color:t.foreground,borderColor:t.border,hoverBorder:t.accents_5},secondary:{color:t.foreground,borderColor:t.secondary,hoverBorder:t.secondary},success:{color:t.foreground,borderColor:t.successLight,hoverBorder:t.success},warning:{color:t.foreground,borderColor:t.warningLight,hoverBorder:t.warning},error:{color:t.error,borderColor:t.error,hoverBorder:t.errorDark}};return n?r[n]:r.default},rR={disabled:!1,readOnly:!1,clearable:!1,iconClickable:!1,type:"default",htmlType:"text",autoComplete:"off",className:"",placeholder:"",initialValue:""},lr=function(t){return"".concat(t)},PZ={getScaleableProps:function(){},SCALES:{pl:lr,pr:lr,pb:lr,pt:lr,px:lr,py:lr,mb:lr,ml:lr,mr:lr,mt:lr,mx:lr,my:lr,width:lr,height:lr,font:lr},unit:"16px"},iR=E.createContext(PZ),Ve=function(){return E.useContext(iR)},sR=function(){return Math.random().toString(32).slice(2,10)},Zc=function(t,n){var r=E.Children.map(t,function(i){return E.isValidElement(i)?i.type:null});return(r||[]).includes(n)},di=function(t,n){var r=[],i=E.Children.map(t,function(o){return E.isValidElement(o)&&o.type===n?(r.push(o),null):o}),s=r.length>=0?r:void 0;return[i,s]},oR=function(t,n,r){var i=[],s=Array.isArray(r),o=E.Children.map(t,function(l){return E.isValidElement(l)?l.props?s?r.includes(l.props[n])?(i.push(l),null):l:l.props[n]===r?(i.push(l),null):l:l:null}),a=i.length>=0?i:void 0;return[o,a]},MZ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(E.Children.count(t)===0)return[];var i=r.length===0,s=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)};return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(i)return s(o,n);var a=r.find(function(l){return l===o.type});return a?s(o,n):o})},FZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(E.Children.count(t)===0)return[];var r=n.length===0,i=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)},s=0;return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(s=s+1,r)return i(o,{index:s});var a=n.find(function(l){return l===o.type});return a?i(o,{index:s}):(s=s-1,o)})},RZ=function(t){return t?typeof t!="function"?t:t():null},aR=function(t,n){if(!t||!n)return!1;for(var r=n;r;){if(r===t)return!0;r=r.parentNode}return!1},lR=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},mC=function(){return lR()?navigator.platform.toUpperCase().indexOf("MAC")>=0:!1},DZ=function(t){return t!==void 0&&!Number.isNaN(+t)},zZ=["children"];function OZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=BZ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function BZ(e,t){if(e){if(typeof e=="string")return fC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(e,t)}}function fC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jZ=function(t){if(t===1)return t;var n=Math.abs((t-1)/2);return t>1?1+n:1-n},Ge=function(t){var n=L.forwardRef(function(r,i){var s,o,a,l,c,d,u,h,g,p,m,_,y,f,v,x,w,b,A,S,k,C,N,D,j,U,F,T,q,V,J,oe,ie=r.children,pe=Re(r,zZ),Ce=ze(),ce=Ce.layout,ve=pe.paddingLeft,De=pe.pl,qe=pe.paddingRight,Xe=pe.pr,me=pe.paddingTop,_e=pe.pt,nt=pe.paddingBottom,rt=pe.pb,mt=pe.marginTop,at=pe.mt,Z=pe.marginRight,re=pe.mr,se=pe.marginBottom,le=pe.mb,ue=pe.marginLeft,ge=pe.ml,Me=pe.px,Pe=pe.py,ke=pe.mx,lt=pe.my,it=pe.width,Nt=pe.height,It=pe.font,Pt=pe.w,Gt=pe.h,Ot=pe.margin,ct=pe.padding,Ct=pe.unit,Bt=Ct===void 0?ce.unit:Ct,Mt=pe.scale,kt=Mt===void 0?1:Mt,xt=function(ht){return function(bt,gt){bt===0&&(bt=1,gt=gt||0);var jt=jZ(kt)*bt;if(typeof ht>"u")return typeof gt<"u"?"".concat(gt):"calc(".concat(jt," * ").concat(Bt,")");if(!DZ(ht))return"".concat(ht);var Ht=jt*Number(ht);return"calc(".concat(Ht," * ").concat(Bt,")")}},Vt=function(ht){if(!Array.isArray(ht))return pe[ht];var bt=void 0,gt=OZ(ht),jt;try{for(gt.s();!(jt=gt.n()).done;){var Ht=jt.value,vn=pe[Ht];typeof vn<"u"&&(bt=vn)}}catch(Fn){gt.e(Fn)}finally{gt.f()}return bt},nn={unit:Bt,SCALES:{pt:xt((s=(o=me??_e)!==null&&o!==void 0?o:Pe)!==null&&s!==void 0?s:ct),pr:xt((a=(l=qe??Xe)!==null&&l!==void 0?l:Me)!==null&&a!==void 0?a:ct),pb:xt((c=(d=nt??rt)!==null&&d!==void 0?d:Pe)!==null&&c!==void 0?c:ct),pl:xt((u=(h=ve??De)!==null&&h!==void 0?h:Me)!==null&&u!==void 0?u:ct),px:xt((g=(p=(m=(_=Me??ve)!==null&&_!==void 0?_:qe)!==null&&m!==void 0?m:De)!==null&&p!==void 0?p:Xe)!==null&&g!==void 0?g:ct),py:xt((y=(f=(v=(x=Pe??me)!==null&&x!==void 0?x:nt)!==null&&v!==void 0?v:_e)!==null&&f!==void 0?f:rt)!==null&&y!==void 0?y:ct),mt:xt((w=(b=mt??at)!==null&&b!==void 0?b:lt)!==null&&w!==void 0?w:Ot),mr:xt((A=(S=Z??re)!==null&&S!==void 0?S:ke)!==null&&A!==void 0?A:Ot),mb:xt((k=(C=se??le)!==null&&C!==void 0?C:lt)!==null&&k!==void 0?k:Ot),ml:xt((N=(D=ue??ge)!==null&&D!==void 0?D:ke)!==null&&N!==void 0?N:Ot),mx:xt((j=(U=(F=(T=ke??ue)!==null&&T!==void 0?T:Z)!==null&&F!==void 0?F:ge)!==null&&U!==void 0?U:re)!==null&&j!==void 0?j:Ot),my:xt((q=(V=(J=(oe=lt??mt)!==null&&oe!==void 0?oe:se)!==null&&J!==void 0?J:at)!==null&&V!==void 0?V:le)!==null&&q!==void 0?q:Ot),width:xt(it??Pt),height:xt(Nt??Gt),font:xt(It)},getScaleableProps:Vt};return E.createElement(iR.Provider,{value:nn},E.createElement(t,ye({},pe,{ref:i}),ie))});return n.displayName="Scaleable".concat(t.displayName||"Wrapper"),n};function $Z(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=UZ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function UZ(e,t){if(e){if(typeof e=="string")return _C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(e,t)}}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var VZ=["paddingLeft","pl","paddingRight","pr","paddingTop","pt","paddingBottom","pb","marginTop","mt","marginRight","mr","marginBottom","mb","marginLeft","ml","px","py","mx","my","width","height","font","unit","scale","size"],$e=function(t){if(!t)return{};var n=Object.keys(t).filter(function(a){return a!==""}),r={},i=$Z(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;VZ.includes(o)||(r[o]=t[o])}}catch(a){i.e(a)}finally{i.f()}return r},GZ=["label","labelRight","type","htmlType","icon","iconRight","iconClickable","onIconClick","initialValue","onChange","readOnly","value","onClearClick","clearable","className","onBlur","onFocus","autoComplete","placeholder","children","disabled"],HZ=function(t,n){return ye({},n,{target:t,currentTarget:t})},Xx=E.forwardRef(function(e,t){var n=e.label,r=e.labelRight,i=e.type,s=e.htmlType,o=e.icon,a=e.iconRight,l=e.iconClickable,c=e.onIconClick,d=e.initialValue,u=e.onChange,h=e.readOnly,g=e.value,p=e.onClearClick,m=e.clearable,_=e.className,y=e.onBlur,f=e.onFocus,v=e.autoComplete,x=e.placeholder,w=e.children,b=e.disabled,A=Re(e,GZ),S=ze(),k=Ve(),C=k.SCALES,N=L.useRef(null);L.useImperativeHandle(t,function(){return N.current});var D=L.useState(d),j=Fe(D,2),U=j[0],F=j[1],T=L.useState(!1),q=Fe(T,2),V=q[0],J=q[1],oe=L.useMemo(function(){return g!==void 0},[g]),ie=L.useMemo(function(){return r?"right-label":n?"left-label":""},[n,r]),pe=L.useMemo(function(){return a?"right-icon":o?"left-icon":""},[o,a]),Ce=L.useMemo(function(){return nR(S.palette,i)},[S.palette,i]),ce=Ce.color,ve=Ce.borderColor,De=Ce.hoverBorder,qe=function(re){b||h||(F(re.target.value),u&&u(re))},Xe=function(re){if(F(""),p&&p(re),!!N.current){var se=HZ(N.current,re);se.target.value="",u&&u(se),N.current.focus()}},me=function(re){J(!0),f&&f(re)},_e=function(re){J(!1),y&&y(re)},nt=function(re){b||c&&c(re)},rt=L.useMemo(function(){return{clickable:l,onClick:nt}},[l,nt]);L.useEffect(function(){oe&&F(g)});var mt=oe?{value:U}:{defaultValue:d},at=ye({},A,mt);return E.createElement("div",{className:I.dynamic([["3855354928",[C.height(2.25),C.font(.875),C.width(1,"initial"),C.pt(0),C.pr(0),C.pb(0),C.pl(0),C.mt(0),C.mr(0),C.mb(0),C.ml(0),C.width(1,"initial"),S.layout.radius,ve,S.palette.accents_1,S.palette.accents_2,De,C.font(.875),ce,S.palette.accents_3,S.palette.background,ce]]])+" with-label"},w&&E.createElement(LZ,null,w),E.createElement("div",{className:I.dynamic([["3855354928",[C.height(2.25),C.font(.875),C.width(1,"initial"),C.pt(0),C.pr(0),C.pb(0),C.pl(0),C.mt(0),C.mr(0),C.mb(0),C.ml(0),C.width(1,"initial"),S.layout.radius,ve,S.palette.accents_1,S.palette.accents_2,De,C.font(.875),ce,S.palette.accents_3,S.palette.background,ce]]])+" "+"input-container ".concat(_)},n&&E.createElement(gC,null,n),E.createElement("div",{className:I.dynamic([["3855354928",[C.height(2.25),C.font(.875),C.width(1,"initial"),C.pt(0),C.pr(0),C.pb(0),C.pl(0),C.mt(0),C.mr(0),C.mb(0),C.ml(0),C.width(1,"initial"),S.layout.radius,ve,S.palette.accents_1,S.palette.accents_2,De,C.font(.875),ce,S.palette.accents_3,S.palette.background,ce]]])+" "+"input-wrapper ".concat(V?"hover":""," ").concat(b?"disabled":""," ").concat(ie)},o&&E.createElement(pC,ye({icon:o},rt)),E.createElement("input",ye({type:s,ref:N,placeholder:x,disabled:b,readOnly:h,onFocus:me,onBlur:_e,onChange:qe,autoComplete:v},at,{className:I.dynamic([["3855354928",[C.height(2.25),C.font(.875),C.width(1,"initial"),C.pt(0),C.pr(0),C.pb(0),C.pl(0),C.mt(0),C.mr(0),C.mb(0),C.ml(0),C.width(1,"initial"),S.layout.radius,ve,S.palette.accents_1,S.palette.accents_2,De,C.font(.875),ce,S.palette.accents_3,S.palette.background,ce]]])+" "+(at&&at.className!=null&&at.className||"".concat(b?"disabled":""," ").concat(pe))})),m&&E.createElement(IZ,{visible:!!(N.current&&N.current.value!==""),disabled:b||h,onClick:Xe}),a&&E.createElement(pC,ye({icon:a},rt))),r&&E.createElement(gC,{isRight:!0},r)),E.createElement(I,{id:"3855354928",dynamic:[C.height(2.25),C.font(.875),C.width(1,"initial"),C.pt(0),C.pr(0),C.pb(0),C.pl(0),C.mt(0),C.mr(0),C.mb(0),C.ml(0),C.width(1,"initial"),S.layout.radius,ve,S.palette.accents_1,S.palette.accents_2,De,C.font(.875),ce,S.palette.accents_3,S.palette.background,ce]},".with-label.__jsx-style-dynamic-selector{display:inline-block;box-sizing:border-box;-webkit-box-align:center;--input-height:".concat(C.height(2.25),";font-size:").concat(C.font(.875),";width:").concat(C.width(1,"initial"),";height:var(--input-height);padding:").concat(C.pt(0)," ").concat(C.pr(0)," ").concat(C.pb(0)," ").concat(C.pl(0),";margin:").concat(C.mt(0)," ").concat(C.mr(0)," ").concat(C.mb(0)," ").concat(C.ml(0),";}.input-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:").concat(C.width(1,"initial"),";height:var(--input-height);}.input-wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:").concat(S.layout.radius,";border:1px solid ").concat(ve,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;}.input-wrapper.left-label.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;}.input-wrapper.right-label.__jsx-style-dynamic-selector{border-top-right-radius:0;border-bottom-right-radius:0;}.input-wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(S.palette.accents_1,";border-color:").concat(S.palette.accents_2,";cursor:not-allowed;}input.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}.input-wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(De,";}input.__jsx-style-dynamic-selector{margin:0.25em 0.625em;padding:0;box-shadow:none;font-size:").concat(C.font(.875),";background-color:transparent;border:none;color:").concat(ce,";outline:none;border-radius:0;width:100%;min-width:0;-webkit-appearance:none;}input.left-icon.__jsx-style-dynamic-selector{margin-left:0;}input.right-icon.__jsx-style-dynamic-selector{margin-right:0;}.__jsx-style-dynamic-selector::-webkit-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(S.palette.accents_3,";}.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(S.palette.accents_3,";}.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(S.palette.accents_3,";}.__jsx-style-dynamic-selector::placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(S.palette.accents_3,";}.__jsx-style-dynamic-selector::-ms-reveal{display:none !important;}input.__jsx-style-dynamic-selector:-webkit-autofill,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(S.palette.background," inset !important;-webkit-text-fill-color:").concat(ce," !important;}")))});Xx.defaultProps=rR;Xx.displayName="GeistInput";var gm=Ge(Xx),ir=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n},cR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};ir("default","secondary","success","warning","error","abort","secondary-light","success-light","warning-light","error-light");ir("default","secondary","success","warning","error");ir("default","secondary","success","warning","error","dark","lite");ir("default","secondary","success","warning","error","dark","lite","alert","purple","violet","cyan");ir("default","silent","prevent");ir("hover","click");ir("top","topStart","topEnd","left","leftStart","leftEnd","bottom","bottomStart","bottomEnd","right","rightStart","rightEnd");ir("start","center","end","left","right");var WZ=["type","disabled","readOnly","onFocus","onBlur","className","initialValue","onChange","value","placeholder","resize"];ir("none","both","horizontal","vertical","initial","inherit");var qZ={initialValue:"",type:"default",disabled:!1,readOnly:!1,className:"",resize:"none"},Yx=E.forwardRef(function(e,t){var n=e.type,r=e.disabled,i=e.readOnly,s=e.onFocus,o=e.onBlur,a=e.className,l=e.initialValue,c=e.onChange,d=e.value,u=e.placeholder,h=e.resize,g=Re(e,WZ),p=ze(),m=Ve(),_=m.SCALES,y=L.useRef(null);L.useImperativeHandle(t,function(){return y.current});var f=L.useMemo(function(){return d!==void 0},[d]),v=L.useState(l),x=Fe(v,2),w=x[0],b=x[1],A=L.useState(!1),S=Fe(A,2),k=S[0],C=S[1],N=L.useMemo(function(){return nR(p.palette,n)},[p.palette,n]),D=N.color,j=N.borderColor,U=N.hoverBorder,F=function(ie){r||i||(b(ie.target.value),c&&c(ie))},T=function(ie){C(!0),s&&s(ie)},q=function(ie){C(!1),o&&o(ie)};L.useEffect(function(){f&&b(d)});var V=f?{value:w}:{defaultValue:l},J=ye({},g,V);return E.createElement("div",{className:I.dynamic([["4034828312",[p.layout.radius,j,D,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),U,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+"wrapper ".concat(k?"hover":""," ").concat(r?"disabled":""," ").concat(a)},E.createElement("textarea",ye({ref:y,disabled:r,placeholder:u,readOnly:i,onFocus:T,onBlur:q,onChange:F},J,{className:I.dynamic([["4034828312",[p.layout.radius,j,D,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),U,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+(J&&J.className!=null&&J.className||"")})),E.createElement(I,{id:"4034828312",dynamic:[p.layout.radius,j,D,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),U,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]},".wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:".concat(p.layout.radius,";border:1px solid ").concat(j,";color:").concat(D,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;min-width:12.5rem;max-width:95vw;--textarea-font-size:").concat(_.font(.875),";--textarea-height:").concat(_.height(1,"auto"),";width:").concat(_.width(1,"initial"),";height:var(--textarea-height);margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}.wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(U,";}.wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(p.palette.accents_1,";border-color:").concat(p.palette.accents_2,";cursor:not-allowed;}textarea.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:none;display:block;font-family:").concat(p.font.sans,";font-size:var(--textarea-font-size);width:100%;height:var(--textarea-height);border:none;outline:none;padding:").concat(_.pt(.5)," ").concat(_.pr(.5)," ").concat(_.pb(.5)," ").concat(_.pl(.5),";resize:").concat(h,";}.disabled.__jsx-style-dynamic-selector>textarea.__jsx-style-dynamic-selector{cursor:not-allowed;}textarea.__jsx-style-dynamic-selector:-webkit-autofill,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(p.palette.background," inset !important;}")))});Yx.defaultProps=qZ;Yx.displayName="GeistTextarea";var XZ=Ge(Yx),YZ=function(t){var n=t.visible;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"}},n?E.createElement(E.Fragment,null,E.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"}),E.createElement("path",{d:"M1 1l22 22"})):E.createElement(E.Fragment,null,E.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),E.createElement("circle",{cx:"12",cy:"12",r:"3"})))},ZZ=E.memo(YZ),QZ=["hideToggle","children"],KZ=ye({},rR,{hideToggle:!1}),Zx=E.forwardRef(function(e,t){var n=e.hideToggle,r=e.children,i=Re(e,QZ),s=L.useRef(null),o=L.useState(!1),a=Fe(o,2),l=a[0],c=a[1];L.useImperativeHandle(t,function(){return s.current});var d=function(){c(function(p){return!p}),s&&s.current&&s.current.focus()},u=L.useMemo(function(){return ye({},i,{ref:s,iconClickable:!0,onIconClick:d,htmlType:l?"text":"password"})},[i,d,l,s]),h=L.useMemo(function(){return n?null:E.createElement(ZZ,{visible:l})},[n,l]);return E.createElement(gm,ye({iconRight:h},u),r)});Zx.defaultProps=KZ;Zx.displayName="GeistInputPassword";gm.Textarea=XZ;gm.Password=Zx;var JZ={visible:!1},dR=E.createContext(JZ),uR=function(){return E.useContext(dR)},eQ=function(t){var n=t.children,r=t.height;return E.createElement("span",{className:I.dynamic([["822089635",[r]]])},n,E.createElement(I,{id:"822089635",dynamic:[r]},"span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:".concat(r,";min-width:0;}")))};const Qx=E.memo(eQ);var tQ={},Kx=function(t){var n=t.value,r=t.children,i=t.isLabelOnly,s=ze(),o=Ve(),a=o.SCALES,l=uR(),c=l.value,d=l.updateValue,u=l.updateVisible,h=function(){d&&d(n),u&&u(!1)},g=L.useMemo(function(){return c===n},[n,c]);return E.createElement("div",{onClick:h,className:I.dynamic([["2003094915",[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]]])+" "+"item ".concat(g?"active":"")},i?E.createElement(Qx,{height:a.height(2)},r):r,E.createElement(I,{id:"2003094915",dynamic:[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;background-color:".concat(s.palette.background,";color:").concat(s.palette.foreground,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:pointer;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(i?a.height(2.5):a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.75)," ").concat(a.pb(0)," ").concat(a.pl(.75),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.item.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(s.layout.radius,";border-top-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:last-of-type{border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:hover{background-color:").concat(s.palette.accents_1,";}.item.active.__jsx-style-dynamic-selector{background-color:").concat(s.palette.accents_1,";color:").concat(s.palette.success,";}")))};Kx.defaultProps=tQ;Kx.displayName="GeistAutoCompleteItem";var Jx=Ge(Kx),nQ=function(){var t=L.useState(!1),n=Fe(t,2),r=n[0],i=n[1];return L.useEffect(function(){i(lR())},[]),{isBrowser:r,isServer:!r}},yC=function(t){var n=document.createElement("div");return n.setAttribute("id",t),n},nu=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sR(),n=arguments.length>1?arguments[1]:void 0,r="geist-ui-".concat(t),i=nQ(),s=i.isBrowser,o=L.useState(s?yC(r):null),a=Fe(o,2),l=a[0],c=a[1];return L.useEffect(function(){var d=n?n():null,u=d||document.body,h=u.querySelector("#".concat(r)),g=h||yC(r);h||u.appendChild(g),c(g)},[]),l},eb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;L.useEffect(function(){var r=function(){return t()};return n&&r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}},[])},rQ=["children","className","visible","enterTime","leaveTime","clearTime","name"],iQ={visible:!1,enterTime:60,leaveTime:60,clearTime:60,className:"",name:"transition"},ya=function(t){var n=t.children,r=t.className,i=t.visible,s=t.enterTime,o=t.leaveTime,a=t.clearTime,l=t.name,c=Re(t,rQ),d=L.useState(""),u=Fe(d,2),h=u[0],g=u[1],p=L.useState(i),m=Fe(p,2),_=m[0],y=m[1];return L.useEffect(function(){var f=i?"enter":"leave",v=i?s:o;i&&!_&&y(!0),g("".concat(l,"-").concat(f));var x=setTimeout(function(){g("".concat(l,"-").concat(f," ").concat(l,"-").concat(f,"-active")),clearTimeout(x)},v),w=setTimeout(function(){i||(g(""),y(!1)),clearTimeout(w)},v+a);return function(){clearTimeout(x),clearTimeout(w)}},[i,_]),!E.isValidElement(n)||!_?null:E.cloneElement(n,ye({},c,{className:"".concat(n.props.className," ").concat(r," ").concat(h)}))};ya.defaultProps=iQ;ya.displayName="GeistCssTransition";var hR=function(t){L.useEffect(function(){var n=function(i){return t(i)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}},[t])},sQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r={attributes:!1,childList:!0,subtree:!0};L.useEffect(function(){if(!(!t||!t.current)){var i=!1,s=function(){i||n.apply(void 0,arguments)},o=new MutationObserver(s);return o.observe(t.current,r),function(){i=!0,o.disconnect()}}},[t])},vC={},Ci=function(t,n){var r=n?" [".concat(n,"]"):" ",i="[Geist UI]".concat(r,": ").concat(t);typeof console>"u"||vC[i]||(vC[i]=!0,console.warn(i))},gR={top:-1e3,left:-1e3,right:-1e3,width:0},oQ=function(t){if(!t)return{top:0,left:0};var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{top:r,left:i}},xC=function(t,n){if(!t||!t.current)return gR;var r=t.current.getBoundingClientRect(),i=n?n():null,s=i||document.documentElement,o=oQ(i),a=o.top,l=o.left;return ye({},r,{width:r.width||r.right-r.left,top:r.bottom+s.scrollTop-a,left:r.left+s.scrollLeft-l})},pR=E.memo(function(e){var t=e.children,n=e.parent,r=e.visible,i=e.disableMatchWidth,s=e.getPopupContainer,o=nu("dropdown",s),a=L.useState(gR),l=Fe(a,2),c=l[0],d=l[1];if(!n)return null;var u=function(){var m=xC(n,s),_=m.top,y=m.left,f=m.right,v=m.width;d({top:_,left:y,right:f,width:v})};eb(u),hR(function(){var p=xC(n,s),m=p.top,_=p.left,y=m!==c.top||_!==c.left;y&&u()}),sQ(n,function(){u()}),L.useEffect(function(){if(!(!n||!n.current))return n.current.addEventListener("mouseenter",u),function(){!n||!n.current||n.current.removeEventListener("mouseenter",u)}},[n]);var h=function(m){m.stopPropagation(),m.nativeEvent.stopImmediatePropagation(),m.preventDefault()},g=function(m){m.preventDefault()};return o?yo.createPortal(E.createElement(ya,{visible:r},E.createElement("div",{onClick:h,onMouseDown:g,className:I.dynamic([["2976859150",[c.top+2,c.left,c.width,c.width]]])+" "+"dropdown ".concat(i?"disable-match":"width-match")},t,E.createElement(I,{id:"2976859150",dynamic:[c.top+2,c.left,c.width,c.width]},".dropdown.__jsx-style-dynamic-selector{position:absolute;top:".concat(c.top+2,"px;left:").concat(c.left,"px;z-index:1100;}.width-match.__jsx-style-dynamic-selector{width:").concat(c.width,"px;}.disable-match.__jsx-style-dynamic-selector{min-width:").concat(c.width,"px;}")))),o):null}),aQ={className:"",dropdownStyle:{}},tb=function(t){var n=t.children,r=t.visible,i=t.className,s=t.dropdownStyle,o=t.disableMatchWidth,a=t.getPopupContainer,l=ze(),c=uR(),d=c.ref,u=L.useMemo(function(){return!r||E.Children.count(n)===0},[n,r]),h=function(p){p.preventDefault(),p.stopPropagation(),p.nativeEvent.stopImmediatePropagation()};return E.createElement(pR,{parent:d,visible:r,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{style:s,onClick:h,className:I.dynamic([["155200262",[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]]])+" "+"auto-complete-dropdown ".concat(i)},n,E.createElement(I,{id:"155200262",dynamic:[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]},".auto-complete-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(u?"none":l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";overflow-y:auto;max-height:15rem;overflow-anchor:none;}"))))};tb.defaultProps=aQ;tb.displayName="GeistAutoCompleteDropdown";var lQ={className:""},nb=function(t){var n=t.children,r=t.className,i=ze(),s=Ve(),o=s.SCALES;return E.createElement("div",{className:I.dynamic([["2266351824",[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")},n,E.createElement(I,{id:"2266351824",dynamic:[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;padding:".concat(i.layout.gapHalf,";line-height:1;background-color:").concat(i.palette.background,";color:").concat(i.palette.accents_5,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;border-radius:").concat(i.layout.radius,";font-size:").concat(o.font(.875),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(.875)," ").concat(o.pr(.875)," ").concat(o.pb(.875)," ").concat(o.pl(.875),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};nb.defaultProps=lQ;nb.displayName="GeistAutoCompleteSearch";var lp=Ge(nb),cQ={hidden:!1,className:""},zd=function(t){var n=t.children,r=t.hidden,i=t.className;return r?null:E.createElement(lp,{className:i},n)};zd.defaultProps=cQ;zd.displayName="GeistAutoCompleteEmpty";var dQ=["children","type","color","className","spaceRatio"],uQ={type:"default",className:"",spaceRatio:1},hQ=function(t,n,r){var i={default:n.accents_6,secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r||i[t]},rb=function(t){var n=t.children,r=t.type,i=t.color,s=t.className,o=t.spaceRatio,a=Re(t,dQ),l=ze(),c=Ve(),d=c.SCALES,u=L.useMemo(function(){return hQ(r,l.palette,i)},[r,l.palette,i]);return E.createElement("div",ye({},$e(a),{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" "+"loading-container ".concat(s)}),E.createElement("span",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" loading"},n&&E.createElement("label",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])},n),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])})),E.createElement(I,{id:"2201634259",dynamic:[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]},".loading-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:".concat(d.font(1),";width:").concat(d.width(1,"100%"),";height:").concat(d.height(1,"100%"),";min-height:1em;padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}label.__jsx-style-dynamic-selector{margin-right:0.5em;color:").concat(l.palette.accents_5,";line-height:1;}label.__jsx-style-dynamic-selector *{margin:0;}.loading.__jsx-style-dynamic-selector{position:absolute;top:50%;left:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}i.__jsx-style-dynamic-selector{width:0.25em;height:0.25em;border-radius:50%;background-color:").concat(u,";margin:0 calc(0.25em / 2 * ").concat(o,");display:inline-block;-webkit-animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;}i.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:0.2s;animation-delay:0.2s;}i.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:0.4s;animation-delay:0.4s;}@-webkit-keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}@keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}")))};rb.defaultProps=uQ;rb.displayName="GeistLoading";var ib=Ge(rb),ui=function(t){var n=L.useState(function(){return typeof t=="function"?t():t}),r=Fe(n,2),i=r[0],s=r[1],o=L.useRef(t);L.useEffect(function(){o.current=i},[i]);var a=function(c){var d=typeof c=="function"?c(o.current):c;o.current=d,s(d)};return[i,a,o]},gQ=["options","initialValue","onSelect","onSearch","onChange","searching","children","type","value","clearable","disabled","dropdownClassName","dropdownStyle","disableMatchWidth","disableFreeSolo","getPopupContainer"],pQ={options:[],initialValue:"",disabled:!1,clearable:!1,type:"default",disableMatchWidth:!1,disableFreeSolo:!1,className:""},mQ=function(t){return t.map(function(n,r){var i="auto-complete-item-".concat(r);if(E.isValidElement(n))return E.cloneElement(n,{key:i});var s=n;return E.createElement(Jx,{key:i,value:s.value,isLabelOnly:!0},s.label)})},fQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t===void 0?null:t?E.createElement(ib,{scale:+n/2}):E.createElement("span",null)},sb=E.forwardRef(function(e,t){var n=e.options,r=e.initialValue,i=e.onSelect,s=e.onSearch,o=e.onChange,a=e.searching,l=e.children,c=e.type,d=e.value,u=e.clearable,h=e.disabled,g=e.dropdownClassName,p=e.dropdownStyle,m=e.disableMatchWidth,_=e.disableFreeSolo,y=e.getPopupContainer,f=Re(e,gQ),v=L.useRef(),x=Ve(),w=x.SCALES,b=x.getScaleableProps,A=L.useRef(null),S=L.useRef(null),k=ui(r),C=Fe(k,3),N=C[0],D=C[1],j=C[2],U=L.useState(r),F=Fe(U,2),T=F[0],q=F[1],V=L.useState(!1),J=Fe(V,2),oe=J[0],ie=J[1];L.useImperativeHandle(t,function(){return S.current});var pe=di(l,lp),Ce=Fe(pe,2),ce=Ce[1],ve=di(l,zd),De=Fe(ve,2),qe=De[1],Xe=L.useMemo(function(){var se=ce&&E.Children.count(ce)>0,le=qe&&E.Children.count(qe)>0;return a?se?ce:E.createElement(lp,null,"Searching..."):n.length===0?N===""?null:le?qe:E.createElement(zd,null,"No Options"):mQ(n)},[a,n]),me=L.useMemo(function(){return u&&a===void 0},[u,a]),_e=function(le){h||(q(le),i&&i(le),D(le),S.current&&S.current.focus())},nt=function(le){return ie(le)},rt=function(le){ie(!0),s&&s(le.target.value),D(le.target.value)},mt=function(){_&&(!N||N===""||N!==T&&D(T))};L.useEffect(function(){o&&o(N)},[N]),L.useEffect(function(){d!==void 0&&D(d)},[d]);var at=L.useMemo(function(){return{ref:A,value:N,updateValue:_e,visible:oe,updateVisible:nt}},[N,oe]),Z=function(le){clearTimeout(v.current),ie(le),le?s&&s(j.current):v.current=window.setTimeout(function(){mt(),clearTimeout(v.current)},100)},re=ye({},$e(f),{disabled:h,value:N});return E.createElement(dR.Provider,{value:at},E.createElement("div",{ref:A,className:I.dynamic([["2878925540",[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]]])+" auto-complete"},E.createElement(gm,ye({ref:S,type:c,onChange:rt,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)},clearable:me,width:w.width(1,"initial"),height:w.height(2.25),iconRight:fQ(a,b("scale"))},re)),E.createElement(tb,{visible:oe,disableMatchWidth:m,className:g,dropdownStyle:p,getPopupContainer:y},Xe),E.createElement(I,{id:"2878925540",dynamic:[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]},".auto-complete.__jsx-style-dynamic-selector{width:".concat(w.width(1,"max-content"),";height:").concat(w.height(1,"auto"),";padding:").concat(w.pt(0)," ").concat(w.pr(0)," ").concat(w.pb(0)," ").concat(w.pl(0),";margin:").concat(w.mt(0)," ").concat(w.mr(0)," ").concat(w.mb(0)," ").concat(w.ml(0),";}.auto-complete.__jsx-style-dynamic-selector .loading{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"))))});sb.defaultProps=pQ;sb.displayName="GeistAutoComplete";var pm=Ge(sb);pm.Item=Jx;pm.Option=Jx;pm.Searching=lp;pm.Empty=zd;var _Q=["src","stacked","text","isSquare","className"],yQ={stacked:!1,text:"",isSquare:!1,className:""},vQ=function(t){return t.length<=4?t:t.slice(0,3)},ob=function(t){var n=t.src,r=t.stacked,i=t.text,s=t.isSquare,o=t.className,a=Re(t,_Q),l=ze(),c=Ve(),d=c.SCALES,u=!n,h=s?l.layout.radius:"50%",g=r?d.ml(-.625):d.ml(0),p=$e(a);return E.createElement("span",{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+"avatar ".concat(o)},!u&&E.createElement("img",ye({alt:"avatar",src:n,draggable:!1},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-img")})),u&&E.createElement("span",ye({},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-text")}),vQ(i)),E.createElement(I,{id:"2295275975",dynamic:[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]},".avatar.__jsx-style-dynamic-selector{display:inline-block;position:relative;overflow:hidden;border:1px solid ".concat(l.palette.accents_2,";border-radius:").concat(h,";vertical-align:top;background-color:").concat(l.palette.background,";box-sizing:border-box;width:").concat(d.width(1.75)||d.height(1.75),";height:").concat(d.height(1.75)||d.width(1.75),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(g,";}.avatar-img.__jsx-style-dynamic-selector{display:inline-block;object-fit:cover;width:100%;height:100%;border-radius:").concat(h,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.avatar-text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;font-size:").concat(d.font(1),";text-align:center;-webkit-transform:translate(-50%,-50%) scale(0.65);-ms-transform:translate(-50%,-50%) scale(0.65);transform:translate(-50%,-50%) scale(0.65);white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};ob.defaultProps=yQ;ob.displayName="GeistAvatar";var mR=Ge(ob),xQ={className:""},ab=function(t){var n=t.count,r=t.className,i=t.children,s=ze(),o=Ve(),a=o.SCALES;return E.createElement("div",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" "+"avatar-group ".concat(r)},i,n&&E.createElement("span",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" count"},"+",n),E.createElement(I,{id:"1135268764",dynamic:[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]},".avatar-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(a.width(1,"max-content"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.avatar-group.__jsx-style-dynamic-selector .avatar{margin-left:-").concat(a.ml(.625),";}.count.__jsx-style-dynamic-selector{font-size:").concat(a.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:5.5px;color:").concat(s.palette.accents_7,";}")))};ab.defaultProps=xQ;ab.displayName="GeistAvatarGroup";var bQ=Ge(ab);mR.Group=bQ;var wQ=["type","className","children","dot"],EQ={type:"default",dot:!1,className:""},SQ=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary};return r[t]},lb=function(t){var n=t.type,r=t.className,i=t.children,s=t.dot,o=Re(t,wQ),a=ze(),l=Ve(),c=l.SCALES,d=L.useMemo(function(){return SQ(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!n||n==="default"?a.palette.background:"white"},[n,a.palette.background]);return E.createElement("span",ye({},$e(o),{className:I.dynamic([["427831233",[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]]])+" "+"badge ".concat(s?"dot":""," ").concat(r)}),!s&&i,E.createElement(I,{id:"427831233",dynamic:[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]},".badge.__jsx-style-dynamic-selector{display:inline-block;border-radius:16px;font-variant:tabular-nums;line-height:1;vertical-align:middle;background-color:".concat(d,";color:").concat(u,";border:0;font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(.25)," ").concat(c.pr(.4375)," ").concat(c.pb(.25)," ").concat(c.pl(.4375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.dot.__jsx-style-dynamic-selector{padding:").concat(c.py(.25)," ").concat(c.px(.25),";border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};lb.defaultProps=EQ;lb.displayName="GeistBadge";var fR=Ge(lb);ir("topLeft","topRight","bottomLeft","bottomRight");var AQ={placement:"topRight",className:""},CQ=function(t){var n={topLeft:{top:"0",left:"0",value:"translate(-50%, -50%)",origin:"0% 0%"},topRight:{top:"0",right:"0",value:"translate(50%, -50%)",origin:"100% 0%"},bottomLeft:{left:"0",bottom:"0",value:"translate(-50%, 50%)",origin:"0% 100%"},bottomRight:{right:"0",bottom:"0",value:"translate(50%, 50%)",origin:"100% 100%"}};return n[t]},cb=function(t){var n=t.children,r=t.placement,i=di(n,fR),s=Fe(i,2),o=s[0],a=s[1],l=L.useMemo(function(){return CQ(r)},[r]),c=l.top,d=l.bottom,u=l.left,h=l.right,g=l.value,p=l.origin;return E.createElement("div",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])+" anchor"},o,E.createElement("sup",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])},a),E.createElement(I,{id:"1121745930",dynamic:[c||"auto",u||"auto",h||"auto",d||"auto",g,p]},".anchor.__jsx-style-dynamic-selector{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;}sup.__jsx-style-dynamic-selector{position:absolute;top:".concat(c||"auto",";left:").concat(u||"auto",";right:").concat(h||"auto",";bottom:").concat(d||"auto",";-webkit-transform:").concat(g,";-ms-transform:").concat(g,";transform:").concat(g,";-webkit-transform-origin:").concat(p,";-ms-transform-origin:").concat(p,";transform-origin:").concat(p,";z-index:1;}")))};cb.defaultProps=AQ;cb.displayName="GeistBadgeAnchor";fR.Anchor=cb;var kQ={className:""},db=function(t){var n=t.children,r=t.className,i=Ve(),s=i.SCALES;return E.createElement("div",{className:I.dynamic([["1571781185",[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]]])+" "+"separator ".concat(r)},n,E.createElement(I,{id:"1571781185",dynamic:[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]},".separator.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(s.width(1,"auto"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(.5)," ").concat(s.mb(0)," ").concat(s.ml(.5),";}")))};db.defaultProps=kQ;db.displayName="GeistBreadcrumbsSeparator";var Qc=Ge(db),TQ=function(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(n,function(s,o,a,l){return"".concat(o).concat(o).concat(a).concat(a).concat(l).concat(l)}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!i)throw new Error("Geist UI: Unsupported ".concat(t," color."));return[Number.parseInt(i[1],16),Number.parseInt(i[2],16),Number.parseInt(i[3],16)]},LQ=function(t){if(t.charAt(0)==="#")return TQ(t);var n=t.replace(/ /g,""),r=t.substr(0,4),i=n.match(/\((.+)\)/);if(!r.startsWith("rgb")||!i)throw console.log(t),new Error('Geist UI: Only support ["RGB", "RGBA", "HEX"] color.');return i[1].split(",").map(function(s){return Number.parseFloat(s)})},ds=function(t,n){if(!/^#|rgb|RGB/.test(t))return t;var r=LQ(t),i=Fe(r,3),s=i[0],o=i[1],a=i[2],l=n>1?1:n<0?0:n;return"rgba(".concat(s,", ").concat(o,", ").concat(a,", ").concat(l,")")},NQ={separator:"/",className:""},ub=function(t){var n=t.separator,r=t.children,i=t.className,s=ze(),o=Ve(),a=o.SCALES,l=L.useMemo(function(){return ds(s.palette.link,.85)},[s.palette.link]),c=E.Children.toArray(r),d=c.map(function(u,h){if(!E.isValidElement(u))return u;var g=c[h-1],p=E.isValidElement(g)&&g.type===Qc,m=u.type===Qc;return!p&&!m&&h>0?E.createElement(E.Fragment,{key:h},E.createElement(Qc,null,n),u):u});return E.createElement("nav",{className:I.dynamic([["2351830500",[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]]])+" "+(i||"")},d,E.createElement(I,{id:"2351830500",dynamic:[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]},"nav.__jsx-style-dynamic-selector{line-height:inherit;color:".concat(s.palette.accents_4,";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:").concat(a.font(1),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}nav.__jsx-style-dynamic-selector .link:hover{color:").concat(l,";}nav.__jsx-style-dynamic-selector>span:last-of-type{color:").concat(s.palette.accents_6,";}nav.__jsx-style-dynamic-selector>.separator:last-child{display:none;}nav.__jsx-style-dynamic-selector svg{width:1em;height:1em;margin:0 4px;}nav.__jsx-style-dynamic-selector .breadcrums-item{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};ub.defaultProps=NQ;ub.displayName="GeistBreadcrumbs";var _R=Ge(ub),yR=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3000088640 icon"},E.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6",className:"jsx-3000088640"}),E.createElement("path",{d:"M15 3h6v6",className:"jsx-3000088640"}),E.createElement("path",{d:"M10 14L21 3",className:"jsx-3000088640"}),E.createElement(I,{id:"3000088640"},".icon.jsx-3000088640{margin:0 0.3125em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:currentColor;}"))};yR.displayName="GeistLinkIcon";var IQ=E.memo(yR),PQ=["href","color","underline","pure","children","className","block","icon"],MQ={href:"",color:!1,pure:!1,icon:!1,underline:!1,block:!1,className:""},hb=E.forwardRef(function(e,t){var n=e.href,r=e.color,i=e.underline,s=e.pure,o=e.children,a=e.className,l=e.block,c=e.icon,d=Re(e,PQ),u=ze(),h=Ve(),g=h.SCALES,p=r||l?u.palette.link:"inherit",m=r||l?u.palette.successLight:"inherit",_=i?"underline":"none";return s&&Ci('Props "pure" is deprecated, now the default Link is pure.'),E.createElement("a",ye({href:n},$e(d),{ref:t,className:I.dynamic([["3960817863",[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?ds(u.palette.link,.1):"unset",m]]])+" "+"link ".concat(l?"block":""," ").concat(a)}),o,c&&E.createElement(IQ,null),E.createElement(I,{id:"3960817863",dynamic:[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?ds(u.palette.link,.1):"unset",m]},".link.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;line-height:inherit;color:".concat(p,";-webkit-text-decoration:none;text-decoration:none;border-radius:").concat(l?u.layout.radius:0,";-webkit-transition:color 200ms ease 0ms;transition:color 200ms ease 0ms;font-size:").concat(g.font(1,"inherit"),";width:").concat(g.width(1,"fit-content"),";height:").concat(g.height(1,"auto"),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";}.block.__jsx-style-dynamic-selector{padding:").concat(g.pt(.268)," ").concat(g.pr(.5625)," ").concat(g.pb(.268)," ").concat(g.pl(.5625),";}.link.__jsx-style-dynamic-selector:hover,.link.__jsx-style-dynamic-selector:active,.link.__jsx-style-dynamic-selector:focus{-webkit-text-decoration:").concat(_,";text-decoration:").concat(_,";}.link.__jsx-style-dynamic-selector:hover{background-color:").concat(l?ds(u.palette.link,.1):"unset",";color:").concat(m,";}")))});hb.defaultProps=MQ;hb.displayName="GeistLink";var gb=Ge(hb),FQ=["href","nextLink","onClick","children","className"],RQ={nextLink:!1,className:""},pb=E.forwardRef(function(e,t){var n=e.href,r=e.nextLink,i=e.onClick,s=e.children,o=e.className,a=Re(e,FQ),l=L.useMemo(function(){return n!==void 0||r},[n,r]),c=di(s,Qc),d=Fe(c,1),u=d[0],h=function(p){i&&i(p)};return l?E.createElement(gb,ye({className:"breadcrums-item ".concat(o),href:n,onClick:h,ref:t},a),u):E.createElement("span",{className:"breadcrums-item ".concat(o),onClick:h},u)});pb.defaultProps=RQ;pb.displayName="GeistBreadcrumbsItem";_R.Item=pb;_R.Separator=Qc;var DQ={x:0,y:0},mb=function(t){var n=t.x,r=t.y,i=t.color,s=t.onCompleted,o=L.useRef(null),a=Number.isNaN(+r)?0:r-10,l=Number.isNaN(+n)?0:n-10;return L.useEffect(function(){if(o.current)return o.current.addEventListener("animationend",s),function(){o.current&&o.current.removeEventListener("animationend",s)}}),E.createElement("div",{ref:o,className:"jsx-3424889537 drip"},E.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",style:{top:a,left:l},className:"jsx-3424889537"},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-3424889537"},E.createElement("g",{fill:i,className:"jsx-3424889537"},E.createElement("rect",{width:"100%",height:"100%",rx:"10",className:"jsx-3424889537"})))),E.createElement(I,{id:"3424889537"},".drip.jsx-3424889537{position:absolute;left:0;right:0;top:0;bottom:0;}svg.jsx-3424889537{position:absolute;-webkit-animation:350ms ease-in expand-jsx-3424889537;animation:350ms ease-in expand-jsx-3424889537;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;width:1rem;height:1rem;}@-webkit-keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}@keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}"))};mb.defaultProps=DQ;mb.displayName="GeistButtonDrip";var vR=function(t){var n=t.color;return E.createElement("div",{className:"jsx-3416748964 btn-loading"},E.createElement(ib,{color:n}),E.createElement(I,{id:"3416748964"},".btn-loading.jsx-3416748964{position:absolute;top:0;left:0;right:0;bottom:0;z-index:2;background-color:var(--geist-ui-button-bg);}"))};vR.displayName="GeistButtonLoading";var zQ=["isRight","isSingle","children","className"],OQ={isRight:!1,className:""},cp=function(t){var n=t.isRight,r=t.isSingle,i=t.children,s=t.className,o=Re(t,zQ);return E.createElement("span",ye({},$e(o),{className:"jsx-643337184 "+"icon ".concat(n?"right":""," ").concat(r?"single":""," ").concat(s)}),i,E.createElement(I,{id:"643337184"},".icon.jsx-643337184{position:absolute;left:var(--geist-ui-button-icon-padding);right:auto;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--geist-ui-button-color);z-index:1;}.right.jsx-643337184{right:var(--geist-ui-button-icon-padding);left:auto;}.icon.jsx-643337184 svg{background:transparent;height:calc(var(--geist-ui-button-height) / 2.35);width:calc(var(--geist-ui-button-height) / 2.35);}.single.jsx-643337184{position:static;-webkit-transform:none;-ms-transform:none;transform:none;}"))};cp.defaultProps=OQ;cp.displayName="GeistButtonIcon";var BQ=function(t,n,r){var i=r.icon,s=r.iconRight,o=i||s,a=!!s,l=t?"calc(var(--geist-ui-button-height) / 2 + var(--geist-ui-button-icon-padding) * .5)":0;return o?E.Children.count(n)===0?E.createElement(cp,{isRight:a,isSingle:!0},o):E.createElement(E.Fragment,null,E.createElement(cp,{isRight:a},o),E.createElement("div",{className:I.dynamic([["3568181479",[l,l]]])+" "+"text ".concat(a?"right":"left")},n,E.createElement(I,{id:"3568181479",dynamic:[l,l]},".left.__jsx-style-dynamic-selector{padding-left:".concat(l,";}.right.__jsx-style-dynamic-selector{padding-right:").concat(l,";}")))):E.createElement("div",{className:"text"},n)},jQ=function(t,n){return n.isButtonGroup?ye({},t,{auto:!0,shadow:!1,ghost:n.ghost||t.ghost,type:n.type||t.type,disabled:n.disabled||t.disabled}):t},$Q={isButtonGroup:!1,disabled:!1},xR=E.createContext($Q),UQ=function(){return E.useContext(xR)},VQ=function(t,n){var r={secondary:{bg:t.background,border:t.foreground,color:t.foreground},success:{bg:t.background,border:t.success,color:t.success},warning:{bg:t.background,border:t.warning,color:t.warning},error:{bg:t.background,border:t.error,color:t.error}};return r[n]||null},bR=function(t,n){var r=n.type,i=n.disabled,s=n.ghost,o={default:{bg:t.background,border:t.border,color:t.accents_5},secondary:{bg:t.foreground,border:t.foreground,color:t.background},success:{bg:t.success,border:t.success,color:"#fff"},warning:{bg:t.warning,border:t.warning,color:"#fff"},error:{bg:t.error,border:t.error,color:"#fff"},abort:{bg:"transparent",border:"transparent",color:t.accents_5}};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};var a=r==null?void 0:r.replace("-light",""),l=o.default;return s?VQ(t,a)||l:o[a]||l},GQ=function(t,n){var r={secondary:{bg:t.foreground,border:t.background,color:t.background},success:{bg:t.success,border:t.background,color:"white"},warning:{bg:t.warning,border:t.background,color:"white"},error:{bg:t.error,border:t.background,color:"white"}},i=n.replace("-light","");return r[i]||null},wR=function(t,n){var r=n.type,i=n.disabled,s=n.loading,o=n.shadow,a=n.ghost,l=bR(t,n),c=ds(l.bg,.85),d={default:{bg:t.background,border:t.foreground},secondary:{bg:t.background,border:t.foreground},success:{bg:t.background,border:t.success},warning:{bg:t.background,border:t.warning},error:{bg:t.background,border:t.error},abort:{bg:"transparent",border:"transparent",color:t.accents_5},"secondary-light":ye({},l,{bg:c}),"success-light":ye({},l,{bg:c}),"warning-light":ye({},l,{bg:c}),"error-light":ye({},l,{bg:c})};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};if(s)return ye({},l,{color:"transparent"});if(o)return l;var u=(a?GQ(t,r):d[r])||d.default;return ye({},u,{color:u.color||u.border})},HQ=function(t,n){return t?{cursor:"not-allowed",events:"auto"}:n?{cursor:"default",events:"none"}:{cursor:"pointer",events:"auto"}},WQ=function(t,n){var r=n.type,i=r.endsWith("light"),s=wR(t,n);return ds(i?s.bg:t.accents_2,.65)},qQ=["children","disabled","type","loading","shadow","ghost","effect","onClick","auto","icon","htmlType","iconRight","className"],XQ={type:"default",htmlType:"button",ghost:!1,loading:!1,shadow:!1,auto:!1,effect:!0,disabled:!1,className:""},fb=E.forwardRef(function(e,t){var n=ze(),r=Ve(),i=r.SCALES,s=L.useRef(null);L.useImperativeHandle(t,function(){return s.current});var o=L.useState(!1),a=Fe(o,2),l=a[0],c=a[1],d=L.useState(0),u=Fe(d,2),h=u[0],g=u[1],p=L.useState(0),m=Fe(p,2),_=m[0],y=m[1],f=UQ(),v=jQ(e,f),x=v.children,w=v.disabled;v.type;var b=v.loading,A=v.shadow,S=v.ghost,k=v.effect,C=v.onClick,N=v.auto,D=v.icon,j=v.htmlType,U=v.iconRight,F=v.className,T=Re(v,qQ),q=L.useMemo(function(){return bR(n.palette,v)},[n.palette,v]),V=q.bg,J=q.border,oe=q.color,ie=L.useMemo(function(){return wR(n.palette,v)},[n.palette,v]),pe=L.useMemo(function(){return HQ(w,b)},[w,b]),Ce=pe.cursor,ce=pe.events,ve=L.useMemo(function(){return WQ(n.palette,v)},[n.palette,v]),De=function(){c(!1),g(0),y(0)},qe=function(rt){if(!(w||b)){var mt=!A&&!S&&k;if(mt&&s.current){var at=s.current.getBoundingClientRect();c(!0),g(rt.clientX-at.left),y(rt.clientY-at.top)}C&&C(rt)}},Xe=L.useMemo(function(){return BQ(N,x,{icon:D,iconRight:U})},[N,x,D,U]),me=N?i.pl(1.15):i.pl(1.375),_e=N?i.pr(1.15):i.pr(1.375);return E.createElement("button",ye({ref:s,type:j,disabled:w,onClick:qe},$e(T),{className:I.dynamic([["1191936485",[i.height(2.5),n.layout.radius,i.font(.875),oe,V,J,Ce,ce,A?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),oe,V,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),_e,i.pb(0),me,i.mt(0),i.mr(0),i.mb(0),i.ml(0),ie.color,ie.color,ie.bg,ie.border,Ce,ce,A?n.expressiveness.shadowMedium:"none",A?"-1px":"0px"]]])+" "+"btn ".concat(F)}),b&&E.createElement(vR,{color:oe}),Xe,l&&E.createElement(mb,{x:h,y:_,color:ve,onCompleted:De}),E.createElement(I,{id:"1191936485",dynamic:[i.height(2.5),n.layout.radius,i.font(.875),oe,V,J,Ce,ce,A?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),oe,V,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),_e,i.pb(0),me,i.mt(0),i.mr(0),i.mb(0),i.ml(0),ie.color,ie.color,ie.bg,ie.border,Ce,ce,A?n.expressiveness.shadowMedium:"none",A?"-1px":"0px"]},".btn.__jsx-style-dynamic-selector{box-sizing:border-box;display:inline-block;line-height:".concat(i.height(2.5),";border-radius:").concat(n.layout.radius,";font-weight:400;font-size:").concat(i.font(.875),";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;text-transform:capitalize;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;white-space:nowrap;-webkit-transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;position:relative;overflow:hidden;color:").concat(oe,";background-color:").concat(V,";border:1px solid ").concat(J,";cursor:").concat(Ce,";pointer-events:").concat(ce,";box-shadow:").concat(A?n.expressiveness.shadowSmall:"none",";--geist-ui-button-icon-padding:").concat(i.pl(.727),";--geist-ui-button-height:").concat(i.height(2.5),";--geist-ui-button-color:").concat(oe,";--geist-ui-button-bg:").concat(V,";min-width:").concat(N?"min-content":i.width(12.5),";width:").concat(N?"auto":"initial",";height:").concat(i.height(2.5),";padding:").concat(i.pt(0)," ").concat(_e," ").concat(i.pb(0)," ").concat(me,";margin:").concat(i.mt(0)," ").concat(i.mr(0)," ").concat(i.mb(0)," ").concat(i.ml(0),";}.btn.__jsx-style-dynamic-selector:hover,.btn.__jsx-style-dynamic-selector:focus{color:").concat(ie.color,";--geist-ui-button-color:").concat(ie.color,";background-color:").concat(ie.bg,";border-color:").concat(ie.border,";cursor:").concat(Ce,";pointer-events:").concat(ce,";box-shadow:").concat(A?n.expressiveness.shadowMedium:"none",";-webkit-transform:translate3d(0px,").concat(A?"-1px":"0px",",0px);-ms-transform:translate3d(0px,").concat(A?"-1px":"0px",",0px);transform:translate3d(0px,").concat(A?"-1px":"0px",",0px);}.btn.__jsx-style-dynamic-selector .text{position:relative;z-index:1;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;line-height:inherit;top:-1px;}.btn.__jsx-style-dynamic-selector .text p,.btn.__jsx-style-dynamic-selector .text pre,.btn.__jsx-style-dynamic-selector .text div{margin:0;}")))});fb.defaultProps=XQ;fb.displayName="GeistButton";var qo=Ge(fb),ER=function(t,n){var r=L.useRef(n);L.useEffect(function(){r.current=n},[r]),L.useEffect(function(){var i=function(o){var a=t.current;!o||!a||a.contains(o.target)||r.current(o)};return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}},[t])},SR=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i={default:{color:t.accents_5,bgColor:t.background,borderLeftColor:t.accents_2,hoverBgColor:t.accents_1,hoverBorder:t.accents_2},secondary:{color:t.background,bgColor:t.foreground,borderLeftColor:t.accents_7,hoverBgColor:t.accents_7,hoverBorder:t.accents_7},success:{color:t.background,bgColor:t.success,borderLeftColor:t.successDark,hoverBgColor:t.successDark,hoverBorder:t.successDark},warning:{color:t.background,bgColor:t.warning,borderLeftColor:t.warningDark,hoverBgColor:t.warningDark,hoverBorder:t.warningDark},error:{color:t.background,bgColor:t.error,borderLeftColor:t.errorDark,hoverBgColor:t.errorDark,hoverBorder:t.errorDark}};return r?ye({},i.default,{bgColor:t.accents_1,color:t.accents_4}):n?i[n]:i.default},AR=function(t){var n=t.color,r=t.height;return E.createElement("svg",{stroke:n,style:{color:n},viewBox:"0 0 24 24",width:r,height:r,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3359574434"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-3359574434"}),E.createElement(I,{id:"3359574434"},"svg.jsx-3359574434{-webkit-transform:scale(0.6);-ms-transform:scale(0.6);transform:scale(0.6);}"))};AR.displayName="GeistButtonDropdownIcon";var YQ={type:"default",auto:!1,disabled:!1,loading:!1},CR=E.createContext(YQ),ZQ=function(){return E.useContext(CR)},QQ=["children","onClick","className","main","type"],KQ={main:!1,type:"default",onClick:function(){},className:""},mm=function(t){var n=t.children,r=t.onClick,i=t.className,s=t.main,o=t.type,a=Re(t,QQ),l=ze(),c=ZQ(),d=c.type,u=c.disabled,h=c.loading,g=s?d:o,p=SR(l.palette,g,u),m=function(f){u||h||r&&r(f)},_=L.useMemo(function(){return h?"default":u?"not-allowed":"pointer"},[h,u]);return E.createElement("button",ye({onClick:m},$e(a),{className:I.dynamic([["772098729",[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]]])+" "+(i||"")}),h?E.createElement(ib,null):n,E.createElement(I,{id:"772098729",dynamic:[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]},"button.__jsx-style-dynamic-selector{position:relative;-webkit-appearance:button;text-rendering:auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;text-align:center;cursor:".concat(_,";box-sizing:border-box;margin:0;border:none;background-color:").concat(p.bgColor,";color:").concat(p.color,";width:100%;height:var(--geist-ui-dropdown-height);min-width:var(--geist-ui-dropdown-min-width);padding:var(--geist-ui-dropdown-padding);font-size:var(--geist-ui-dropdown-font-size);}button.__jsx-style-dynamic-selector:hover{border-color:").concat(p.hoverBorder,";background-color:").concat(p.hoverBgColor,";}")))};mm.defaultProps=KQ;mm.displayName="GeistButtonDropdownItem";var JQ=["children","type","auto","className","disabled","loading"],eK={type:"default",auto:!1,loading:!1,disabled:!1,className:""},bC=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},_b=function(t){var n=t.children,r=t.type,i=t.auto,s=t.className,o=t.disabled,a=t.loading,l=Re(t,JQ),c=Ve(),d=c.SCALES,u=L.useRef(null),h=ze(),g=SR(h.palette,r),p=di(n,mm)[1],m=oR(p,"main",!0),_=Fe(m,2),y=_[0],f=_[1],v=L.useState(!1),x=Fe(v,2),w=x[0],b=x[1],A=L.useCallback(function(D){D.preventDefault(),bC(D),!(o||a)&&b(!w)},[w]),S={type:r,auto:i,disabled:o,loading:a},k=L.useMemo(function(){return o||a?h.palette.accents_1:w?g.hoverBgColor:g.bgColor},[w,g,h.palette]),C=i?d.pl(1.15):d.pl(1.375),N=i?d.pr(1.15):d.pr(1.375);return ER(u,function(){return b(!1)}),E.createElement(CR.Provider,{value:S},E.createElement("div",ye({ref:u,onClick:bC},$e(l),{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),C,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,k,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" "+"btn-dropdown ".concat(s)}),f,E.createElement("details",{open:w,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),C,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,k,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement("summary",{onClick:A,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),C,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,k,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement(AR,{color:g.color,height:d.height(2.5)})),E.createElement("div",{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),C,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,k,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" content"},y)),E.createElement(I,{id:"3157107390",dynamic:[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),C,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,k,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]},".btn-dropdown.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;position:relative;box-sizing:border-box;border:1px solid ".concat(h.palette.border,";border-radius:").concat(h.layout.radius,";--geist-ui-dropdown-height:").concat(d.height(2.5),";--geist-ui-dropdown-min-width:").concat(i?"min-content":d.width(12.5),";--geist-ui-dropdown-padding:").concat(d.pt(0)," ").concat(N," ").concat(d.pb(0)," ").concat(C,";--geist-ui-dropdown-font-size:").concat(d.font(.875),";}.btn-dropdown.__jsx-style-dynamic-selector>button{border-top-left-radius:").concat(h.layout.radius,";border-bottom-left-radius:").concat(h.layout.radius,";}details.__jsx-style-dynamic-selector{border-top-right-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";overflow:hidden;}summary.__jsx-style-dynamic-selector{box-sizing:border-box;-webkit-tap-highlight-color:transparent;list-style:none;outline:none;color:").concat(g.color,";background-color:").concat(k,";height:").concat(d.height(2.5),";border-left:1px solid ").concat(g.borderLeftColor,";cursor:").concat(o||a?"not-allowed":"pointer",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:auto;padding:0 1px;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;}summary.__jsx-style-dynamic-selector:hover{border-color:").concat(g.hoverBorder,";background-color:").concat(g.hoverBgColor,";}.content.__jsx-style-dynamic-selector{position:absolute;right:0;left:0;z-index:90;width:100%;border-radius:").concat(h.layout.radius,";box-shadow:").concat(h.expressiveness.shadowLarge,";-webkit-transform:translateY(").concat(h.layout.gapHalf,");-ms-transform:translateY(").concat(h.layout.gapHalf,");transform:translateY(").concat(h.layout.gapHalf,");background-color:").concat(h.palette.background,";}.content.__jsx-style-dynamic-selector>button:first-of-type{border-top-left-radius:").concat(h.layout.radius,";border-top-right-radius:").concat(h.layout.radius,";}.content.__jsx-style-dynamic-selector>button:last-of-type{border-bottom-left-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";}"))))};_b.displayName="GeistButtonDropdown";_b.defaultProps=eK;var tK=Ge(_b);tK.Item=mm;var nK=["disabled","type","ghost","vertical","children","className"],rK={disabled:!1,vertical:!1,ghost:!1,type:"default",className:""},iK=function(t,n){var r=n.ghost,i=n.type;if(!r&&i!=="default")return t.background;var s={default:t.border,success:t.success,secondary:t.secondary,error:t.error,warning:t.warning},o=i.replace("-light","");return s[o]||s.default},yb=function(t){var n=ze(),r=Ve(),i=r.SCALES,s=t.disabled,o=t.type,a=t.ghost,l=t.vertical,c=t.children,d=t.className,u=Re(t,nK),h=L.useMemo(function(){return{disabled:s,type:o,ghost:a,isButtonGroup:!0}},[s,o]),g=L.useMemo(function(){return iK(n.palette,t)},[n,o,s,a]);return E.createElement(xR.Provider,{value:h},E.createElement("div",ye({},$e(u),{className:I.dynamic([["809583503",[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]]])+" "+"btn-group ".concat(l?"vertical":"horizontal"," ").concat(d)}),c,E.createElement(I,{id:"809583503",dynamic:[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]},".btn-group.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:".concat(n.layout.radius,";border:1px solid ").concat(g,";background-color:transparent;overflow:hidden;width:").concat(i.width(1,"auto"),";height:").concat(i.height(1,"min-content"),";margin:").concat(i.mt(.313)," ").concat(i.mr(.313)," ").concat(i.mb(.313)," ").concat(i.ml(.313),";padding:").concat(i.pt(0)," ").concat(i.pr(0)," ").concat(i.pb(0)," ").concat(i.pl(0),";}.vertical.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.btn-group.__jsx-style-dynamic-selector .btn{border:none;}.btn-group.__jsx-style-dynamic-selector .btn .text{top:0;}.horizontal.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid ").concat(g,";}.horizontal.__jsx-style-dynamic-selector .btn:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0;}.vertical.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-top:1px solid ").concat(g,";}.vertical.__jsx-style-dynamic-selector .btn:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;}"))))};yb.defaultProps=rK;yb.displayName="GeistButtonGroup";var sK=Ge(yb),oK=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,i=t/n,s=(Number.isNaN(i)?0:i)*100;if(s>100)return 100;if(s<0)return 0;if(!"".concat(s).includes("."))return s;var o="".concat(s).split(".")[1];return o.length<r?s:+s.toFixed(r)},kR=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;return L.useMemo(function(){return oK(t,n,r)},[t,n,r])},aK=["value","limit","color","className"],lK={value:0,limit:100,color:"",className:""},cK=function(t,n){return t<33?n.cyan:t<66?n.warning:n.errorDark},vb=function(t){var n=t.value,r=t.limit,i=t.color,s=t.className,o=Re(t,aK),a=ze(),l=Ve(),c=l.SCALES,d=kR(n,r),u=L.useMemo(function(){return i&&i!==""?i:cK(d,a.palette)},[i,d,a.palette]);return E.createElement("div",ye({title:"".concat(d,"%")},$e(o),{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])+" "+"capacity ".concat(s)}),E.createElement("span",{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])}),E.createElement(I,{id:"2706946339",dynamic:[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]},".capacity.__jsx-style-dynamic-selector{width:".concat(c.width(3.125),";height:").concat(c.height(.625),";border-radius:").concat(a.layout.radius,";overflow:hidden;background-color:").concat(a.palette.accents_2,";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}span.__jsx-style-dynamic-selector{width:").concat(d,"%;background-color:").concat(u,";height:100%;margin:0;padding:0;display:block;}")))};vb.defaultProps=lK;vb.displayName="GeistCapacity";Ge(vb);var dK=function(t,n,r){var i={default:{color:n.foreground,bgColor:n.background},dark:{color:n.background,bgColor:n.foreground},secondary:{color:n.background,bgColor:n.secondary},success:{color:n.background,bgColor:n.success},warning:{color:n.background,bgColor:n.warning},error:{color:n.background,bgColor:n.error},lite:{color:n.foreground,bgColor:n.background},alert:{color:"white",bgColor:n.alert},purple:{color:"white",bgColor:n.purple},violet:{color:"white",bgColor:n.violet},cyan:{color:"black",bgColor:n.cyan}},s=t==="default"&&!r;return ye({},i[t],{borderColor:s?n.border:"transparent"})},uK=["children","className","disableAutoMargin"],hK={disableAutoMargin:!1,className:""},xb=function(t){var n=t.children,r=t.className,i=t.disableAutoMargin,s=Re(t,uK),o=ze(),a=Ve(),l=a.SCALES;return E.createElement("footer",ye({},$e(s),{className:I.dynamic([["1602358380",[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]]])+" "+"".concat(i?"":"auto-margin"," ").concat(r)}),n,E.createElement(I,{id:"1602358380",dynamic:[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]},"footer.__jsx-style-dynamic-selector{padding:".concat(l.py(.66)," ").concat(l.px(1.31),";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:inherit;background-color:inherit;font-size:").concat(l.font(.875),";border-top:1px solid ").concat(o.palette.border,";border-bottom-left-radius:").concat(o.layout.radius,";border-bottom-right-radius:").concat(o.layout.radius,";min-height:").concat(l.height(3.3),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.auto-margin.__jsx-style-dynamic-selector *{margin-top:0;margin-bottom:0;margin-right:").concat(o.layout.gapQuarter,";}")))};xb.defaultProps=hK;xb.displayName="GeistCardFooter";var bb=Ge(xb),gK=["className","children"],pK={className:""},wb=function(t){var n=t.className,r=t.children,i=Re(t,gK),s=Ve(),o=s.SCALES;return E.createElement("div",ye({},$e(i),{className:I.dynamic([["490544004",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"490544004",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1)," ").concat(o.pr(1)," ").concat(o.pb(1)," ").concat(o.pl(1),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector>p:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>p:last-child{margin-bottom:0;}")))};wb.defaultProps=pK;wb.displayName="GeistCardContent";var dp=Ge(wb),mK=["opacity"],fK={opacity:.5},Eb=E.memo(function(e){var t=e.opacity,n=Re(e,mK),r=ze();return E.createElement("div",ye({},$e(n),{className:I.dynamic([["2946022605",[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]]])+" skeleton"}),E.createElement(I,{id:"2946022605",dynamic:[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]},".skeleton.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background-image:linear-gradient( 270deg, ".concat(r.palette.accents_1,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_1," );background-size:400% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;opacity:").concat(t,";-webkit-transition:opacity 300ms ease-out;transition:opacity 300ms ease-out;}@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}")))});Eb.defaultProps=fK;Eb.displayName="GeistImageSkeleton";var _K=["src","disableSkeleton","className","maxDelay"],yK={disableSkeleton:!1,className:"",maxDelay:3e3},Sb=function(t){var n=t.src,r=t.disableSkeleton,i=t.className,s=t.maxDelay,o=Re(t,_K),a=Ve(),l=a.SCALES,c=a.getScaleableProps,d=c(["width","w"]),u=c(["height","h"]),h=!r&&d&&u,g=ze(),p=L.useState(!0),m=Fe(p,2),_=m[0],y=m[1],f=L.useState(!0),v=Fe(f,2),x=v[0],w=v[1],b=L.useRef(null),A=function(){h&&y(!1)};return L.useEffect(function(){h&&b.current&&b.current.complete&&(y(!1),w(!1))}),L.useEffect(function(){var S=setTimeout(function(){h&&w(!1),clearTimeout(S)},s);return function(){return clearTimeout(S)}},[_]),E.createElement("div",{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])+" "+"image ".concat(i)},x&&h&&E.createElement(Eb,{opacity:_?.5:0}),E.createElement("img",ye({ref:b,onLoad:A,src:n},$e(o),{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])})),E.createElement(I,{id:"932238951",dynamic:[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]},".image.__jsx-style-dynamic-selector{position:relative;border-radius:".concat(g.layout.radius,";overflow:hidden;max-width:100%;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0,"auto")," ").concat(l.mb(0)," ").concat(l.ml(0,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";}img.__jsx-style-dynamic-selector{width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";object-fit:scale-down;display:block;}")))};Sb.defaultProps=yK;Sb.displayName="GeistImage";var TR=Ge(Sb),vK=function(){return E.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-4165143638"},E.createElement("path",{d:"M5 10.2H19V21H5V10.2Z",className:"jsx-4165143638"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C13.933 12 15.5 10.3882 15.5 8.4C15.5 6.41177 13.933 4.8 12 4.8C10.067 4.8 8.5 6.41177 8.5 8.4C8.5 10.3882 10.067 12 12 12ZM12 13.8C14.8995 13.8 17.25 11.3823 17.25 8.4C17.25 5.41766 14.8995 3 12 3C9.10051 3 6.75 5.41766 6.75 8.4C6.75 11.3823 9.10051 13.8 12 13.8Z",className:"jsx-4165143638"}),E.createElement(I,{id:"4165143638"},"svg.jsx-4165143638{width:1em;height:1em;}"))},xK=E.memo(vK),bK=function(t,n){return t?{color:n.background,barBgColor:n.foreground,inputBgColor:n.accents_8,borderColor:n.accents_7,titleColor:n.accents_2}:{color:n.foreground,barBgColor:n.background,inputBgColor:n.accents_1,borderColor:n.border,titleColor:n.accents_5}},wK=["url","title","children","showFullLink","invert","anchorProps","className"],EK={className:"",showFullLink:!1,anchorProps:{},invert:!1},SK=function(t){try{return new URL(t).host}catch{return t}},AK=function(t,n){return E.createElement("div",{className:I.dynamic([["524099755",[n.titleColor]]])+" title"},t,E.createElement(I,{id:"524099755",dynamic:[n.titleColor]},".title.__jsx-style-dynamic-selector{color:".concat(n.titleColor,";font-size:0.75em;}")))},CK=function(t,n,r,i){return E.createElement("div",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" address-input"},E.createElement("span",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" https"},E.createElement(xK,null)),E.createElement(gb,ye({href:t,title:t,target:"_blank"},i),n?t:SK(t)),E.createElement(I,{id:"2765629350",dynamic:[r.inputBgColor]},".address-input.__jsx-style-dynamic-selector{height:1.75em;max-width:60%;min-width:40%;background-color:".concat(r.inputBgColor,";color:inherit;border-radius:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0 10px;overflow:hidden;position:relative;}.address-input.__jsx-style-dynamic-selector *{font-size:0.75em;color:inherit;}.address-input.__jsx-style-dynamic-selector a{max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;color:inherit;}.https.__jsx-style-dynamic-selector{width:0.75em;height:0.75em;font-size:1em;margin-right:0.31em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:-1px;color:inherit;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))},Ab=E.forwardRef(function(e,t){var n=e.url,r=e.title,i=e.children,s=e.showFullLink,o=e.invert,a=e.anchorProps,l=e.className,c=Re(e,wK),d=ze(),u=Ve(),h=u.SCALES,g=L.useMemo(function(){return bK(o,d.palette)},[o,d.palette]),p=L.useMemo(function(){return n?CK(n,s,g,a):r?AK(r,g):null},[n,s,r,g,a]);return E.createElement("div",ye({ref:t},$e(c),{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" "+"browser ".concat(l)}),E.createElement("header",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])},E.createElement("div",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" traffic"},E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" close"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" mini"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" full"})),p),i,E.createElement(I,{id:"3239040194",dynamic:[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]},".browser.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:".concat(d.expressiveness.shadowLarge,";max-width:100%;border-radius:").concat(d.layout.radius,";overflow:hidden;font-size:").concat(h.font(1),";width:").concat(h.width(1,"max-content"),";height:").concat(h.height(1,"auto"),";margin:").concat(h.mt(0)," ").concat(h.mr(0,"auto")," ").concat(h.mb(0)," ").concat(h.ml(0,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";}.browser.__jsx-style-dynamic-selector .image{border-top-left-radius:0;border-top-right-radius:0;}header.__jsx-style-dynamic-selector{height:2.5em;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;color:").concat(g.color,";background-color:").concat(g.barBgColor,";border-bottom:1px solid ").concat(g.borderColor,";}.traffic.__jsx-style-dynamic-selector{width:auto;position:absolute;left:").concat(d.layout.gapHalf,";top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);bottom:0;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:inherit;}.traffic.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{border-radius:50%;width:0.75em;height:0.75em;max-width:20px;max-height:20px;display:inline-block;margin-right:0.5em;}.close.__jsx-style-dynamic-selector{background-color:#ff5f56;}.mini.__jsx-style-dynamic-selector{background-color:#ffbd2e;}.full.__jsx-style-dynamic-selector{background-color:#27c93f;}")))});Ab.defaultProps=EK;Ab.displayName="GeistImageBrowser";var kK=Ge(Ab);TR.Browser=kK;var TK=["children","hoverable","className","shadow","type"],LK={type:"default",hoverable:!1,shadow:!1,className:""},Cb=function(t){var n=t.children,r=t.hoverable,i=t.className,s=t.shadow,o=t.type,a=Re(t,TK),l=ze(),c=Ve(),d=c.SCALES,u=L.useMemo(function(){return s?l.expressiveness.shadowMedium:r?l.expressiveness.shadowSmall:"none"},[r,s,l.expressiveness]),h=L.useMemo(function(){return dK(o,l.palette,s)},[o,l.palette,s]),g=h.color,p=h.bgColor,m=h.borderColor,_=di(n,bb),y=Fe(_,2),f=y[0],v=y[1],x=di(f,TR),w=Fe(x,2),b=w[0],A=w[1],S=Zc(b,dp);return E.createElement("div",ye({},$e(a),{className:I.dynamic([["4234389955",[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]]])+" "+"card ".concat(i)}),A,S?b:E.createElement(dp,null,b),v,E.createElement(I,{id:"4234389955",dynamic:[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]},".card.__jsx-style-dynamic-selector{background:".concat(l.palette.background,";-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border-radius:").concat(l.layout.radius,";box-shadow:").concat(s?l.expressiveness.shadowSmall:"none",";box-sizing:border-box;color:").concat(g,";background-color:").concat(p,";border:1px solid ").concat(m,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.card.__jsx-style-dynamic-selector:hover{box-shadow:").concat(u,";}.card.__jsx-style-dynamic-selector img{width:100%;}.card.__jsx-style-dynamic-selector .image{border-bottom-left-radius:0;border-bottom-right-radius:0;}")))};Cb.defaultProps=LK;Cb.displayName="GeistCard";var fm=Ge(Cb);fm.Footer=bb;fm.Actions=bb;fm.Content=dp;fm.Body=dp;var NK={disabledAll:!1,inGroup:!1,values:[]},LR=E.createContext(NK),IK=function(){return E.useContext(LR)},NR=function(t){var n=t.fill,r=t.bg,i=t.disabled,s=t.checked,o=ze(),a=L.useMemo(function(){return{propsFill:n,propsBg:r}},[o.palette]),l=a.propsFill,c=a.propsBg;return E.createElement(E.Fragment,null,s?E.createElement("svg",{viewBox:"0 0 17 16",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M12.1429 0H3.85714C1.7269 0 0 1.79086 0 4V12C0 14.2091 1.7269 16 3.85714 16H12.1429C14.2731 16 16 14.2091 16 12V4C16 1.79086 14.2731 0 12.1429 0Z",fill:l,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])}),E.createElement("path",{d:"M16 3L7.72491 11L5 8",stroke:c,strokeWidth:"1.5",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})):E.createElement("svg",{viewBox:"0 0 12 12",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M8.5 0.5H3.5C1.84315 0.5 0.5 1.84315 0.5 3.5V8.5C0.5 10.1569 1.84315 11.5 3.5 11.5H8.5C10.1569 11.5 11.5 10.1569 11.5 8.5V3.5C11.5 1.84315 10.1569 0.5 8.5 0.5Z",stroke:o.palette.accents_5,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})),E.createElement(I,{id:"996181129",dynamic:[i?.4:1,i?"not-allowed":"pointer"]},"svg.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(0.86 * var(--checkbox-size));height:calc(0.86 * var(--checkbox-size));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:".concat(i?.4:1,";cursor:").concat(i?"not-allowed":"pointer",";}")))};NR.displayName="GeistCheckboxIcon";var PK=E.memo(NR),MK=function(t,n){var r={default:{fill:t.foreground,bg:t.background},secondary:{fill:t.foreground,bg:t.background},success:{fill:t.success,bg:t.background},warning:{fill:t.warning,bg:t.background},error:{fill:t.error,bg:t.background}};return n?r[n]:r.default},FK=["checked","initialChecked","disabled","onChange","className","children","type","value"],RK={disabled:!1,type:"default",initialChecked:!1,className:"",value:""},kb=function(t){var n=t.checked,r=t.initialChecked,i=t.disabled,s=t.onChange,o=t.className,a=t.children,l=t.type,c=t.value,d=Re(t,FK),u=ze(),h=Ve(),g=h.SCALES,p=L.useState(r),m=Fe(p,2),_=m[0],y=m[1],f=IK(),v=f.updateState,x=f.inGroup,w=f.disabledAll,b=f.values,A=x&&w||i;x&&n&&Ci('Remove props "checked" when [Checkbox] component is in the group.',"Checkbox"),x&&L.useEffect(function(){var D=b.includes(c);D!==_&&y(D)},[b.join(",")]);var S=L.useMemo(function(){return MK(u.palette,l)},[u.palette,l]),k=S.fill,C=S.bg,N=L.useCallback(function(D){if(!A){var j={target:{checked:!_},stopPropagation:D.stopPropagation,preventDefault:D.preventDefault,nativeEvent:D};x&&v&&v&&v(c,!_),y(!_),s&&s(j)}},[v,s,A,_]);return L.useEffect(function(){n!==void 0&&y(n)},[n]),E.createElement("label",{className:I.dynamic([["4126727675",[g.font(.875),A?"not-allowed":"pointer",A?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),A?"not-allowed":"pointer"]]])+" "+"checkbox ".concat(o)},E.createElement(PK,{fill:k,bg:C,disabled:A,checked:_}),E.createElement("input",ye({type:"checkbox",disabled:A,checked:_,onChange:N},$e(d),{className:I.dynamic([["4126727675",[g.font(.875),A?"not-allowed":"pointer",A?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),A?"not-allowed":"pointer"]]])})),E.createElement("span",{className:I.dynamic([["4126727675",[g.font(.875),A?"not-allowed":"pointer",A?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),A?"not-allowed":"pointer"]]])+" text"},a),E.createElement(I,{id:"4126727675",dynamic:[g.font(.875),A?"not-allowed":"pointer",A?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),A?"not-allowed":"pointer"]},".checkbox.__jsx-style-dynamic-selector{--checkbox-size:".concat(g.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:").concat(A?"not-allowed":"pointer",";opacity:").concat(A?.75:1,";line-height:var(--checkbox-size);width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"var(--checkbox-size)"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}.text.__jsx-style-dynamic-selector{font-size:var(--checkbox-size);line-height:var(--checkbox-size);padding-left:calc(var(--checkbox-size) * 0.5);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:").concat(A?"not-allowed":"pointer",";}input.__jsx-style-dynamic-selector{opacity:0;outline:none;position:absolute;width:0;height:0;margin:0;padding:0;z-index:-1;font-size:0;background-color:transparent;}")))};kb.defaultProps=RK;kb.displayName="GeistCheckbox";var DK=Ge(kb);function zK(e){if(Array.isArray(e))return Ay(e)}function OK(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gr(e){return zK(e)||OK(e)||WF(e)||BK()}var jK=["disabled","onChange","value","children","className"],$K={disabled:!1,className:""},Tb=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=Re(t,jK),l=Ve(),c=l.SCALES,d=L.useState([]),u=Fe(d,2),h=u[0],g=u[1];i||(i=[],Ci('Props "value" is required.',"Checkbox Group"));var p=function(y,f){var v=h.filter(function(w){return w!==y}),x=f?[].concat(Gr(v),[y]):v;g(x),r&&r(x)},m=L.useMemo(function(){return{updateState:p,disabledAll:n,inGroup:!0,values:h}},[n,h]);return L.useEffect(function(){g(i)},[i.join(",")]),E.createElement(LR.Provider,{value:m},E.createElement("div",ye({},$e(a),{className:I.dynamic([["1727163828",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]]])+" "+"group ".concat(o)}),s,E.createElement(I,{id:"1727163828",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.group.__jsx-style-dynamic-selector label{margin-right:calc(").concat(c.font(1)," * 2);--checkbox-size:").concat(c.font(1),";}.group.__jsx-style-dynamic-selector label:last-of-type{margin-right:0;}"))))};Tb.defaultProps=$K;Tb.displayName="GeistCheckboxGroup";var UK=Ge(Tb);DK.Group=UK;var VK=["children","block","className"],GK={block:!1,className:""},Lb=function(t){var n=t.children,r=t.block,i=t.className,s=Re(t,VK),o=Ve(),a=o.SCALES,l=$e(s);return r?E.createElement(E.Fragment,null,E.createElement("pre",ye({},l,{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])+" "+(l&&l.className!=null&&l.className||i||"")}),E.createElement("code",{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])},n)),E.createElement(I,{id:"1286851807",dynamic:[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]},"pre.__jsx-style-dynamic-selector{max-width:100%;font-size:".concat(a.font(.875),";width:").concat(a.width(1,"initial"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(1)," ").concat(a.pr(1.3)," ").concat(a.pb(1)," ").concat(a.pl(1.3),";margin:").concat(a.mt(1.3)," ").concat(a.mr(0)," ").concat(a.mb(1.3)," ").concat(a.ml(0),";}.dark.__jsx-style-dynamic-selector{color:white;background:black;}.dark.__jsx-style-dynamic-selector code.__jsx-style-dynamic-selector{color:white;}"))):E.createElement("code",l,n)};Lb.defaultProps=GK;Lb.displayName="GeistCode";Ge(Lb);var HK=function(t){var n=t.active;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"},className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])},E.createElement("path",{d:"M6 9l6 6 6-6",className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])}),E.createElement(I,{id:"2249786880",dynamic:[n?"-180deg":"0"]},"svg.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;-webkit-transform:rotateZ(".concat(n?"-180deg":"0",");-ms-transform:rotateZ(").concat(n?"-180deg":"0",");transform:rotateZ(").concat(n?"-180deg":"0",");width:1.5em;height:1.5em;}")))},WK=E.memo(HK),qK=function(t){var n={width:0,height:0};if(!t||typeof window>"u")return n;var r=t.getBoundingClientRect(),i=window.getComputedStyle(t),s=i.width,o=i.height,a=function(c,d){if(!c)return 0;var u=c.includes("px")?+c.split("px")[0]:c.includes("%")?+c.split("%")[0]*d*.01:c;return Number.isNaN(+u)?0:+u};return{width:a("".concat(s),r.width),height:a("".concat(o),r.height)}},IR=function(t){var n=L.useState({width:0,height:0}),r=Fe(n,2),i=r[0],s=r[1],o=function(){var l=qK(t.current),c=l.width,d=l.height;s({width:c,height:d})};return L.useEffect(function(){return o()},[t.current]),[i,o]},XK={isExpanded:!1,delay:200},_m=function(t){var n=t.isExpanded,r=t.delay,i=t.children,s=L.useState(n?"auto":"0"),o=Fe(s,2),a=o[0],l=o[1],c=L.useState(n),d=Fe(c,2),u=d[0],h=d[1],g=L.useState(n),p=Fe(g,2),m=p[0],_=p[1],y=L.useRef(null),f=L.useRef(),v=L.useRef(),x=L.useRef(),w=IR(y),b=Fe(w,2),A=b[0],S=b[1];return L.useEffect(function(){return l("".concat(A.height,"px"))},[A.height]),L.useEffect(function(){return n?_(n):(S(),l("".concat(A.height,"px"))),f.current=window.setTimeout(function(){h(n),clearTimeout(f.current)},30),n?x.current=window.setTimeout(function(){l("auto"),clearTimeout(x.current)},r):v.current=window.setTimeout(function(){_(n),clearTimeout(v.current)},r/2),function(){clearTimeout(f.current),clearTimeout(v.current),clearTimeout(x.current)}},[n]),E.createElement("div",{className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" "+"container ".concat(u?"expanded":"")},E.createElement("div",{ref:y,className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" content"},i),E.createElement(I,{id:"1918690829",dynamic:[m?"visible":"hidden",r,a]},".container.__jsx-style-dynamic-selector{padding:0;margin:0;height:0;overflow:hidden;visibility:".concat(m?"visible":"hidden",";-webkit-transition:height ").concat(r,"ms ease;transition:height ").concat(r,"ms ease;}.expanded.__jsx-style-dynamic-selector{height:").concat(a,";visibility:visible;}")))};_m.defaultProps=XK;_m.displayName="GeistExpand";var YK={values:[]},PR=E.createContext(YK),ZK=function(){return E.useContext(PR)},QK=["children","title","subtitle","initialVisible","shadow","className","index"],KK={className:"",shadow:!1,initialVisible:!1},Nb=function(t){var n=t.children,r=t.title,i=t.subtitle,s=t.initialVisible,o=t.shadow,a=t.className,l=t.index,c=Re(t,QK),d=ze(),u=Ve(),h=u.SCALES,g=ZK(),p=g.values,m=g.updateValues,_=ui(s),y=Fe(_,3),f=y[0],v=y[1],x=y[2];r||Ci('"title" is required.',"Collapse"),L.useEffect(function(){if(p.length){var b=!!p.find(function(A){return A===l});v(b)}},[p.join(",")]);var w=function(){var A=!x.current;v(A),m&&m(l,A)};return E.createElement("div",ye({},$e(c),{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" "+"collapse ".concat(o?"shadow":""," ").concat(a)}),E.createElement("div",{role:"button",onClick:w,className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" view"},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" title"},E.createElement("h3",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])},r)," ",E.createElement(WK,{active:f})),i&&E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" subtitle"},i)),E.createElement(_m,{isExpanded:f},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" content"},n)),E.createElement(I,{id:"3106940587",dynamic:[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]},".collapse.__jsx-style-dynamic-selector{border-top:1px solid ".concat(d.palette.border,";border-bottom:1px solid ").concat(d.palette.border,";font-size:").concat(h.font(1),";width:").concat(h.width(1,"auto"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.shadow.__jsx-style-dynamic-selector{box-shadow:").concat(d.expressiveness.shadowSmall,";border:none;border-radius:").concat(d.layout.radius,";padding:").concat(d.layout.gap,";}.view.__jsx-style-dynamic-selector{cursor:pointer;outline:none;}.title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(d.palette.foreground,";}.title.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0;font-size:1.5em;}.subtitle.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_5,";margin:0;}.subtitle.__jsx-style-dynamic-selector>*{margin:0;}.content.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.6em;padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};Nb.defaultProps=KK;Nb.displayName="GeistCollapse";var MR=Ge(Nb),JK=["children","accordion","className"],eJ={accordion:!0,className:""},Ib=function(t){var n=t.children,r=t.accordion,i=t.className,s=Re(t,JK),o=Ve(),a=o.SCALES,l=ui([]),c=Fe(l,3),d=c[0],u=c[1],h=c[2],g=function(y,f){var v=h.current.find(function(x){return x===y});if(r)return u(f?[y]:[]);if(f)return v?void 0:u([].concat(Gr(h.current),[y]));u(h.current.filter(function(x){return x!==y}))},p=L.useMemo(function(){return{values:d,updateValues:g}},[d.join(",")]),m=L.useMemo(function(){return FZ(n,[MR])},[n]);return E.createElement(PR.Provider,{value:p},E.createElement("div",ye({},$e(s),{className:I.dynamic([["2415399140",[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"collapse-group ".concat(i)}),m,E.createElement(I,{id:"2415399140",dynamic:[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},".collapse-group.__jsx-style-dynamic-selector{width:".concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.6)," ").concat(a.pb(0)," ").concat(a.pl(.6),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.collapse-group.__jsx-style-dynamic-selector>div + div{border-top:none;}"))))};Ib.defaultProps=eJ;Ib.displayName="GeistCollapseGroup";var tJ=Ge(Ib);MR.Group=tJ;var nJ=["title","content","className"],rJ={title:"Title",content:"",className:""},Pb=function(t){var n=t.title,r=t.content,i=t.className,s=Re(t,nJ),o=ze(),a=Ve(),l=a.SCALES;return E.createElement("dl",ye({},$e(s),{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])+" "+"description ".concat(i)}),E.createElement("dt",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},n),E.createElement("dd",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},r),E.createElement(I,{id:"2323318745",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]},".description.__jsx-style-dynamic-selector{font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}dt.__jsx-style-dynamic-selector{font-size:0.75em;line-height:1em;margin-bottom:0.5em;text-transform:uppercase;white-space:nowrap;color:").concat(o.palette.accents_5,";font-weight:500;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}dd.__jsx-style-dynamic-selector{font-size:0.875em;margin:0;line-height:1.1em;color:").concat(o.palette.foreground,";font-weight:500;}dd.__jsx-style-dynamic-selector p,dt.__jsx-style-dynamic-selector p{margin:0;}")))};Pb.defaultProps=rJ;Pb.displayName="GeistDescription";Ge(Pb);var iJ=["children","caption","shadow","className"],sJ={caption:"",shadow:!1,className:""},Mb=function(t){var n=t.children,r=t.caption,i=t.shadow,s=t.className,o=Re(t,iJ),a=ze(),l=Ve(),c=l.SCALES,d=L.useMemo(function(){return i&&a.type!=="dark"},[a.type,i]);return E.createElement("div",ye({},$e(o),{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" "+"display ".concat(s)}),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" content"},n),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" caption"},r),E.createElement(I,{id:"2213400331",dynamic:[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]},".display.__jsx-style-dynamic-selector{display:block;max-width:100%;font-size:".concat(c.font(.875),";width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(2.5)," ").concat(c.mr(0,"auto")," ").concat(c.mb(2.5)," ").concat(c.ml(0,"auto"),";}.content.__jsx-style-dynamic-selector{display:block;margin:0 auto;border-radius:4px;overflow:hidden;width:").concat(c.width(1,"max-content"),";box-shadow:").concat(d?a.expressiveness.shadowLarge:"none",";max-width:100%;}.content.__jsx-style-dynamic-selector pre{margin:0;-webkit-transition:min-width ease 0.2s;transition:min-width ease 0.2s;}.content.__jsx-style-dynamic-selector img{display:block;}.caption.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.5em;color:").concat(a.palette.accents_5,";margin:").concat(i?"2.5em":"1.3em"," auto 0;text-align:center;max-width:85%;}")))};Mb.defaultProps=sJ;Mb.displayName="GeistDisplay";Ge(Mb);var oJ=["type","align","children","className"],aJ={align:"center",type:"default",className:""},lJ=function(t,n){var r={default:n.border,lite:n.accents_1,success:n.successLight,warning:n.warningLight,error:n.errorLight,secondary:n.secondary,dark:n.foreground};return r[t]},Fb=function(t){var n=t.type,r=t.align,i=t.children,s=t.className,o=Re(t,oJ),a=ze(),l=Ve(),c=l.SCALES,d=L.useMemo(function(){return lJ(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!r||r==="center"?"":r==="left"||r==="start"?"start":"end"},[r]),h=n==="default"?a.palette.foreground:d;return E.createElement("div",ye({role:"separator"},$e(o),{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"divider ".concat(s)}),i&&E.createElement("span",{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"text ".concat(u)},i),E.createElement(I,{id:"3410666717",dynamic:[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]},".divider.__jsx-style-dynamic-selector{max-width:100%;background-color:".concat(d,";position:relative;font-size:").concat(c.font(1),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(.0625),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(.5)," ").concat(c.mr(0)," ").concat(c.mb(.5)," ").concat(c.ml(0),";}.text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;min-height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:0 0.75em;font-size:inherit;font-weight:bold;text-transform:capitalize;background-color:").concat(a.palette.background,";color:").concat(h,";z-index:10;}.text.start.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:7%;}.text.end.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:auto;right:7%;}")))};Fb.defaultProps=aJ;Fb.displayName="GeistDivider";Ge(Fb);var cJ=["type","children","className"],dJ={type:"default",className:""},uJ=function(t,n){var r={default:n.palette.accents_2,success:n.palette.success,warning:n.palette.warning,error:n.palette.error};return r[t]||r.default},Rb=function(t){var n=t.type,r=t.children,i=t.className,s=Re(t,cJ),o=ze(),a=Ve(),l=a.SCALES,c=L.useMemo(function(){return uJ(n,o)},[n,o]);return E.createElement("span",ye({},$e(s),{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" "+"dot ".concat(i)}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" icon"}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" label"},r),E.createElement(I,{id:"4266900845",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]},".dot.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.icon.__jsx-style-dynamic-selector{width:0.625em;height:0.625em;min-width:calc(0.625 * 12px);min-height:calc(0.625 * 12px);line-height:0.625em;border-radius:50%;background-color:").concat(c,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.label.__jsx-style-dynamic-selector{margin-left:0.5em;font-size:1em;line-height:1em;text-transform:capitalize;}")))};Rb.defaultProps=dJ;Rb.displayName="GeistDot";Ge(Rb);var hJ={scrollLayer:!1},nc=new Map,gJ=function(){return typeof window>"u"||!window.navigator?!1:/iP(ad|hone|od)/.test(window.navigator.platform)},wC=function(t){return t.touches&&t.touches.length>1?!0:(t.preventDefault(),!1)},FR=function(t,n){if(typeof document>"u")return[!1,function(d){return d}];var r=t||L.useRef(document.body),i=L.useState(!1),s=Fe(i,2),o=s[0],a=s[1],l=ye({},hJ,n||{}),c=function(){return l.scrollLayer?!1:gJ()};return L.useEffect(function(){if(!(!r||!r.current)){var d=r.current.style.overflow;if(o){if(nc.has(r.current))return;c()?document.addEventListener("touchmove",wC,{passive:!1}):r.current.style.overflow="hidden",nc.set(r.current,{last:d});return}if(nc.has(r.current)){if(c())document.removeEventListener("touchmove",wC);else{var u=nc.get(r.current);r.current.style.overflow=u.last}nc.delete(r.current)}}},[o,r]),[o,a]},up;(function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Equal=187]="Equal",e[e.Minus=189]="Minus",e[e.Backquote=192]="Backquote",e[e.Backslash=220]="Backslash"})(up||(up={}));var Od;(function(e){e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl"})(Od||(Od={}));var pJ=function(){return{CtrlCmd:mC()?"metaKey":"ctrlKey",WinCtrl:mC()?"ctrlKey":"metaKey"}},mJ=function(t){var n=t.filter(function(i){return!!Od[i]}),r={CtrlCmd:!1,Shift:!1,Alt:!1,WinCtrl:!1};return n.forEach(function(i){var s=Od[i];r[s]=!0}),r},RR=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Array.isArray(n)?n:[n],s=r.disableGlobalEvent,o=s===void 0?!1:s,a=r.capture,l=a===void 0?!1:a,c=r.stopPropagation,d=c===void 0?!1:c,u=r.preventDefault,h=u===void 0?!0:u,g=r.event,p=g===void 0?"keydown":g,m=mJ(i),_=i.filter(function(b){return!Od[b]})[0],y=pJ(),f=y.CtrlCmd,v=y.WinCtrl,x=function(A){m.Shift&&!A.shiftKey||m.Alt&&!A.altKey||m.CtrlCmd&&!A[f]||m.WinCtrl&&!A[v]||_&&A.keyCode!==_||(d&&A.stopPropagation(),h&&A.preventDefault(),t&&t(A))};L.useEffect(function(){return o||document.addEventListener(p,x),function(){document.removeEventListener(p,x)}},[o]);var w=function(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return A!==p?function(){}:S!==l?function(){}:function(k){return x(k)}};return{bindings:{onKeyDown:w("keydown"),onKeyDownCapture:w("keydown",!0),onKeyPress:w("keypress"),onKeyPressCapture:w("keypress",!0),onKeyUp:w("keyup"),onKeyUpCapture:w("keyup",!0)}}},fJ=["children","onClick","visible","width","onContentClick"],_J={onClick:function(){},visible:!1,onContentClick:function(){}},ym=E.memo(function(e){var t=e.children,n=e.onClick,r=e.visible,i=e.width,s=e.onContentClick,o=Re(e,fJ),a=ze(),l=ui(!1),c=Fe(l,3),d=c[1],u=c[2],h=function(m){u.current||n&&n(m)},g=function(){if(u.current)var m=setTimeout(function(){d(!1),clearTimeout(m)},0)};return E.createElement(ya,{name:"backdrop-wrapper",visible:r,clearTime:300},E.createElement("div",ye({onClick:h,onMouseUp:g},$e(o),{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" backdrop"}),E.createElement("div",{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" layer"}),E.createElement("div",{onClick:s,onMouseDown:function(){return d(!0)},className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" content"},t),E.createElement(I,{id:"2429486860",dynamic:[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]},".backdrop.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:1000;-webkit-overflow-scrolling:touch;box-sizing:border-box;text-align:center;}.content.__jsx-style-dynamic-selector{position:relative;z-index:1001;outline:none;max-width:90%;width:".concat(i,";margin:20px auto;vertical-align:middle;display:inline-block;}.backdrop.__jsx-style-dynamic-selector:before{display:inline-block;width:0;height:100%;vertical-align:middle;content:'';}.layer.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;opacity:").concat(a.expressiveness.portalOpacity,";background-color:black;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);pointer-events:none;z-index:1000;}.backdrop-wrapper-enter.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}.backdrop-wrapper-enter-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}"))))});ym.defaultProps=_J;ym.displayName="GeistBackdrop";ir("top","right","bottom","left");var yJ=function(t){var n={top:{initial:"translate3d(0, -100%, 0)",hidden:"translate3d(0, -100%, 0)",visible:"translate3d(0, 0, 0)"},left:{initial:"translate3d(-100%, 0, 0)",hidden:"translate3d(-100%, 0, 0)",visible:"translate3d(0, 0, 0)"},bottom:{initial:"translate3d(0, 100%, 0)",hidden:"translate3d(0, 100%, 0)",visible:"translate3d(0, 0, 0)"},right:{initial:"translate3d(100%, 0, 0)",hidden:"translate3d(100%, 0, 0)",visible:"translate3d(0, 0, 0)"}};return n[t]},vJ=["className","children","visible","placement"],xJ={className:"",visible:!1},Db=function(t){var n=t.className,r=t.children,i=t.visible,s=t.placement,o=Re(t,vJ),a=ze(),l=Ve(),c=l.SCALES,d=L.useRef(null),u=L.useRef(null),h=L.useRef(null),g=L.useMemo(function(){return yJ(s)},[s]);L.useEffect(function(){if(i){var m=document.activeElement,_=aR(d.current,m);_||u.current&&u.current.focus()}},[i]);var p=function(_){var y=_.keyCode===9;if(!(!i||!y)){var f=document.activeElement;_.shiftKey?f===u.current&&h.current&&h.current.focus():f===h.current&&u.current&&u.current.focus()}};return E.createElement(ya,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",ye({role:"dialog",tabIndex:-1,onKeyDown:p,ref:d},$e(o),{className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" "+"wrapper ".concat(s," ").concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab start"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:h,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab end"}),E.createElement(I,{id:"3022633861",dynamic:[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]},".wrapper.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;max-width:100%;vertical-align:middle;overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;background-color:".concat(a.palette.background,";color:").concat(a.palette.foreground,";border-radius:calc(3 * ").concat(a.layout.radius,");box-shadow:").concat(a.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:").concat(g.initial,";-ms-transform:").concat(g.initial,";transform:").concat(g.initial,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.6,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);font-size:").concat(c.font(1),";--modal-wrapper-padding-left:").concat(c.pl(1.3125),";--modal-wrapper-padding-right:").concat(c.pr(1.3125),";padding:").concat(c.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(c.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.top.__jsx-style-dynamic-selector,.bottom.__jsx-style-dynamic-selector{width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";}.left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"100%"),";}.top.__jsx-style-dynamic-selector{bottom:auto;border-top-left-radius:0;border-top-right-radius:0;}.left.__jsx-style-dynamic-selector{right:auto;border-top-left-radius:0;border-bottom-left-radius:0;}.bottom.__jsx-style-dynamic-selector{top:auto;border-bottom-left-radius:0;border-bottom-right-radius:0;}.right.__jsx-style-dynamic-selector{left:auto;border-top-right-radius:0;border-bottom-right-radius:0;}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.2,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0.4;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};Db.defaultProps=xJ;Db.displayName="GeistDrawerWrapper";var bJ=["visible","keyboard","disableBackdropClick","onClose","onContentClick","wrapClassName","children"],wJ={wrapClassName:"",keyboard:!0,disableBackdropClick:!1,placement:"right"},zb=function(t){var n=t.visible,r=t.keyboard,i=t.disableBackdropClick,s=t.onClose,o=t.onContentClick,a=t.wrapClassName,l=t.children,c=Re(t,bJ),d=nu("drawer"),u=L.useState(!1),h=Fe(u,2),g=h[0],p=h[1],m=FR(null,{scrollLayer:!0}),_=Fe(m,2),y=_[1],f=function(){s&&s(),p(!1),y(!1)};L.useEffect(function(){typeof n>"u"||(p(n),y(n))},[n]);var v=RR(function(){r&&f()},up.Escape,{disableGlobalEvent:!0}),x=v.bindings,w=function(){i||f()};return d?yo.createPortal(E.createElement(ym,ye({onClick:w,onContentClick:o,visible:g,width:"100%"},x),E.createElement(Db,ye({visible:g,className:a},$e(c)),l)),d):null};zb.defaultProps=wJ;zb.displayName="GeistDrawer";var Ob=Ge(zb),EJ=["className","children"],SJ={className:""},Bb=function(t){var n=t.className,r=t.children,i=Re(t,EJ),s=ze(),o=Ve(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("h2",ye({},$e(i),{className:I.dynamic([["2865939188",[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2865939188",dynamic:[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"h2.__jsx-style-dynamic-selector{line-height:1.6;font-weight:normal;text-align:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;word-break:break-word;text-transform:capitalize;font-size:".concat(a.font(1.5),";color:").concat(s.palette.foreground,";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};Bb.defaultProps=SJ;Bb.displayName="GeistModalTitle";var DR=Ge(Bb),AJ=["className","children"],CJ={className:""},jb=function(t){var n=t.className,r=t.children,i=Re(t,AJ),s=ze(),o=Ve(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("p",ye({},$e(i),{className:I.dynamic([["2550488204",[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2550488204",dynamic:[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"p.__jsx-style-dynamic-selector{font-weight:normal;display:inline-block;text-align:center;word-break:break-word;text-transform:uppercase;color:".concat(s.palette.accents_5,";font-size:").concat(a.font(.875),";line-height:1.5em;width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"1.5em"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};jb.defaultProps=CJ;jb.displayName="GeistModalSubtitle";var zR=Ge(jb),kJ=["className","children"],TJ={className:""},$b=function(t){var n=t.className,r=t.children,i=Re(t,kJ),s=Ve(),o=s.SCALES;return E.createElement(E.Fragment,null,E.createElement("div",ye({},$e(i),{className:I.dynamic([["498745028",[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]]])+" "+"content ".concat(n)}),r),E.createElement(I,{id:"498745028",dynamic:[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]},".content.__jsx-style-dynamic-selector{position:relative;text-align:left;font-size:".concat(o.font(1),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3125)," ").concat(o.pr(1.3125)," ").concat(o.pb(.6625)," ").concat(o.pl(1.3125),";margin:").concat(o.mt(0)," ").concat(o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)")," ").concat(o.mb(0)," ").concat(o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)"),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};$b.defaultProps=TJ;$b.displayName="GeistModalContent";var OR=Ge($b);Ob.Title=DR;Ob.Subtitle=zR;Ob.Content=OR;var LJ=["className","children"],NJ={className:""},Bd=function(t){var n=t.className,r=t.children,i=Re(t,LJ);return E.createElement(E.Fragment,null,E.createElement("div",ye({},$e(i),{className:"jsx-4105044205 "+"title ".concat(n)}),r),E.createElement(I,{id:"4105044205"},".title.jsx-4105044205{line-height:1.5;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;word-break:break-word;font-weight:600;-webkit-letter-spacing:-0.020625em;-moz-letter-spacing:-0.020625em;-ms-letter-spacing:-0.020625em;letter-spacing:-0.020625em;font-size:1.25em;width:auto;}"))};Bd.defaultProps=NJ;Bd.displayName="GeistFieldsetTitle";var IJ=["className","children"],PJ={className:""},jd=function(t){var n=t.className,r=t.children,i=Re(t,IJ);return E.createElement(E.Fragment,null,E.createElement("div",ye({},$e(i),{className:"jsx-2265168013 "+(n||"")}),r),E.createElement(I,{id:"2265168013"},"div.jsx-2265168013{font-size:0.875em;line-height:1.6;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;margin:0.75em 0;}"))};jd.defaultProps=PJ;jd.displayName="GeistFieldsetSubtitle";var MJ=["className","children"],FJ={className:""},Ub=function(t){var n=t.className,r=t.children,i=Re(t,MJ),s=ze(),o=Ve(),a=o.SCALES;return E.createElement("footer",ye({},$e(i),{className:I.dynamic([["903731644",[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"903731644",dynamic:[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"footer.__jsx-style-dynamic-selector{background-color:".concat(s.palette.accents_1,";border-top:1px solid ").concat(s.palette.border,";border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:").concat(s.palette.accents_6,";padding:").concat(s.layout.gapHalf," ").concat(s.layout.gap,";box-sizing:border-box;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(2.875),";padding:").concat(a.pt(.625)," ").concat(a.pr(1.31)," ").concat(a.pb(.625)," ").concat(a.pl(1.31),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};Ub.defaultProps=FJ;Ub.displayName="GeistFieldsetFooter";var BR=Ge(Ub),RJ=["className","children"],DJ={className:""},Vb=function(t){var n=t.className,r=t.children,i=Re(t,RJ),s=Ve(),o=s.SCALES;return E.createElement("div",ye({},$e(i),{className:I.dynamic([["93049118",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"93049118",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3)," ").concat(o.pr(1.3)," ").concat(o.pb(1.3)," ").concat(o.pl(1.3),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector > *:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector > *:last-child{margin-bottom:0;}")))};Vb.defaultProps=DJ;Vb.displayName="GeistFieldsetContent";var hp=Ge(Vb),zJ={inGroup:!1,currentValue:""},jR=E.createContext(zJ),OJ=function(){return E.useContext(jR)},BJ=["className","title","subtitle","children","value","label"],jJ={value:"",label:"",disabled:!1,title:"",subtitle:"",className:""},Gb=function(t){var n=t.className,r=t.title,i=t.subtitle,s=t.children,o=t.value,a=t.label,l=Re(t,BJ),c=ze(),d=Ve(),u=d.SCALES,h=OJ(),g=h.inGroup,p=h.currentValue,m=h.register,_=L.useState(g),y=Fe(_,2),f=y[0],v=y[1],x=di(s,BR),w=Fe(x,2),b=w[0],A=w[1],S=Zc(b,Bd),k=Zc(b,jd),C=Zc(b,hp);g&&(a||Ci('Props "label" is required when in a group.',"Fieldset Group"),(!o||o==="")&&(o=a),L.useEffect(function(){m&&m({value:o,label:a})},[]),L.useEffect(function(){!p||p===""||v(p!==o)},[p]));var N=L.useMemo(function(){return E.createElement(E.Fragment,null,b,!S&&r&&E.createElement(Bd,null,r),!k&&i&&E.createElement(jd,null,i))},[b,S,k,r,i]);return E.createElement("div",ye({},$e(l),{className:I.dynamic([["3253250630",[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+"fieldset ".concat(n)}),C?N:E.createElement(hp,null,N),A&&A,E.createElement(I,{id:"3253250630",dynamic:[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},".fieldset.__jsx-style-dynamic-selector{background-color:".concat(c.palette.background,";border:1px solid ").concat(c.palette.border,";border-radius:").concat(c.layout.radius,";overflow:hidden;display:").concat(f?"none":"block",";font-size:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}")))};Gb.defaultProps=jJ;Gb.displayName="GeistFieldset";var Ml=Ge(Gb),$J=["className","children","value","onChange"],UJ={className:""},Hb=function(t){var n=t.className,r=t.children,i=t.value,s=t.onChange,o=Re(t,$J),a=ze(),l=Ve(),c=l.SCALES,d=L.useState(i),u=Fe(d,2),h=u[0],g=u[1],p=ui([]),m=Fe(p,3),_=m[0],y=m[1],f=m[2],v=function(A){var S=f.current.find(function(k){return k.value===A.value});S&&Ci('The "value" of each "Fieldset" must be unique.',"Fieldset"),y([].concat(Gr(f.current),[A]))},x=L.useMemo(function(){return{currentValue:h,inGroup:!0,register:v}},[h]),w=L.useCallback(function(b){g(b),s&&s(b)},[s]);return E.createElement(jR.Provider,{value:x},E.createElement("div",ye({},$e(o),{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+"group ".concat(n)}),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-tabs"},_.map(function(b){return E.createElement("button",{onClick:function(){return w(b.value)},key:b.value,className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+((h===b.value?"active":"")||"")},b.label)})),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-content"},r),E.createElement(I,{id:"3411776855",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0,0)," ").concat(c.ml(0),";}.group-tabs.__jsx-style-dynamic-selector{white-space:nowrap;overflow-y:hidden;overflow-x:auto;font-size:").concat(c.font(1),";margin-bottom:-1px;}.group-content.__jsx-style-dynamic-selector{border-top-left-radius:0;overflow:hidden;}.group-content.__jsx-style-dynamic-selector .fieldset{border-top-left-radius:0;}button.__jsx-style-dynamic-selector{height:2.7em;line-height:2.7em;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(a.palette.accents_3,";background-color:").concat(a.palette.accents_1,";font-size:0.875em;white-space:nowrap;text-transform:capitalize;-webkit-appearance:none;cursor:pointer;margin:0;padding:0 1.45em;overflow:hidden;-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;border-radius:0;border:1px solid ").concat(a.palette.border,";-webkit-text-decoration:none;text-decoration:none;outline:none;}button.active.__jsx-style-dynamic-selector{border-bottom-color:transparent;background-color:").concat(a.palette.background,";color:").concat(a.palette.foreground,";cursor:default;}button.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector:last-of-type{border-top-right-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector+button.__jsx-style-dynamic-selector{border-left:0;}"))))};Hb.defaultProps=UJ;Hb.displayName="GeistFieldsetGroup";var VJ=Ge(Hb);Ml.Title=Bd;Ml.Subtitle=jd;Ml.Footer=BR;Ml.Group=VJ;Ml.Content=hp;Ml.Body=hp;var GJ={toasts:[],toastHovering:!1,updateToasts:function(t){return t},updateToastHoverStatus:function(){}},HJ=E.createContext(GJ),WJ=function(){return E.useContext(HJ)},qJ=["xs","sm","md","lg","xl","justify","direction","alignItems","alignContent","children","className"],XJ={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,className:""},rc=function(t){var n=t===0?"display: none;":"display: inherit;";if(typeof t=="number"){var r=4.166666666666667*t,i=r>100?"100%":r<0?"0":"".concat(r,"%");return{grow:0,display:n,width:i,basis:i}}return{grow:1,display:n,width:"100%",basis:"0"}},vm=function(t){var n=t.xs,r=t.sm,i=t.md,s=t.lg,o=t.xl,a=t.justify,l=t.direction,c=t.alignItems,d=t.alignContent,u=t.children,h=t.className,g=Re(t,qJ),p=ze(),m=Ve(),_=m.SCALES,y=L.useMemo(function(){var v={justify:a,direction:l,alignItems:c,alignContent:d,xs:n,sm:r,md:i,lg:s,xl:o},x=Object.keys(v).reduce(function(w,b){return v[b]!==void 0&&v[b]!==!1?"".concat(w," ").concat(b):w},"");return x.trim()},[a,l,c,d,n,r,i,s,o]),f=L.useMemo(function(){return{xs:rc(n),sm:rc(r),md:rc(i),lg:rc(s),xl:rc(o)}},[n,r,i,s,o]);return E.createElement("div",ye({},$e(g),{className:I.dynamic([["2419486498",[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]]])+" "+"item ".concat(y," ").concat(h)}),u,E.createElement(I,{id:"2419486498",dynamic:[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]},".item.__jsx-style-dynamic-selector{font-size:".concat(_.font(1,"inherit"),";height:").concat(_.height(1,"auto"),";}.justify.__jsx-style-dynamic-selector{-webkit-box-pack:").concat(a,";-webkit-justify-content:").concat(a,";-ms-flex-pack:").concat(a,";justify-content:").concat(a,";}.direction.__jsx-style-dynamic-selector{-webkit-flex-direction:").concat(l,";-ms-flex-direction:").concat(l,";flex-direction:").concat(l,";}.alignContent.__jsx-style-dynamic-selector{-webkit-align-content:").concat(d,";-ms-flex-line-pack:").concat(d,";align-content:").concat(d,";}.alignItems.__jsx-style-dynamic-selector{-webkit-align-items:").concat(c,";-webkit-box-align:").concat(c,";-ms-flex-align:").concat(c,";align-items:").concat(c,";}.xs.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xs.grow,";-webkit-flex-grow:").concat(f.xs.grow,";-ms-flex-positive:").concat(f.xs.grow,";flex-grow:").concat(f.xs.grow,";max-width:").concat(f.xs.width,";-webkit-flex-basis:").concat(f.xs.basis,";-ms-flex-preferred-size:").concat(f.xs.basis,";flex-basis:").concat(f.xs.basis,";").concat(f.xs.display,";}@media only screen and (min-width:").concat(p.breakpoints.sm.min,"){.sm.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.sm.grow,";-webkit-flex-grow:").concat(f.sm.grow,";-ms-flex-positive:").concat(f.sm.grow,";flex-grow:").concat(f.sm.grow,";max-width:").concat(f.sm.width,";-webkit-flex-basis:").concat(f.sm.basis,";-ms-flex-preferred-size:").concat(f.sm.basis,";flex-basis:").concat(f.sm.basis,";").concat(f.sm.display,";}}@media only screen and (min-width:").concat(p.breakpoints.md.min,"){.md.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.md.grow,";-webkit-flex-grow:").concat(f.md.grow,";-ms-flex-positive:").concat(f.md.grow,";flex-grow:").concat(f.md.grow,";max-width:").concat(f.md.width,";-webkit-flex-basis:").concat(f.md.basis,";-ms-flex-preferred-size:").concat(f.md.basis,";flex-basis:").concat(f.md.basis,";").concat(f.md.display,";}}@media only screen and (min-width:").concat(p.breakpoints.lg.min,"){.lg.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.lg.grow,";-webkit-flex-grow:").concat(f.lg.grow,";-ms-flex-positive:").concat(f.lg.grow,";flex-grow:").concat(f.lg.grow,";max-width:").concat(f.lg.width,";-webkit-flex-basis:").concat(f.lg.basis,";-ms-flex-preferred-size:").concat(f.lg.basis,";flex-basis:").concat(f.lg.basis,";").concat(f.lg.display,";}}@media only screen and (min-width:").concat(p.breakpoints.xl.min,"){.xl.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xl.grow,";-webkit-flex-grow:").concat(f.xl.grow,";-ms-flex-positive:").concat(f.xl.grow,";flex-grow:").concat(f.xl.grow,";max-width:").concat(f.xl.width,";-webkit-flex-basis:").concat(f.xl.basis,";-ms-flex-preferred-size:").concat(f.xl.basis,";flex-basis:").concat(f.xl.basis,";").concat(f.xl.display,";}}")))};vm.defaultProps=XJ;vm.displayName="GeistGridBasicItem";var YJ=["children","className"],ZJ={className:""},Wb=function(t){var n=t.children,r=t.className,i=Re(t,YJ),s=Ve(),o=s.SCALES,a={styles:E.createElement(I,{id:"1271839607",dynamic:[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]},"div.__jsx-style-dynamic-selector{margin:".concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";box-sizing:border-box;padding:").concat(o.pt(0,"var(--grid-gap-unit)")," ").concat(o.pr(0,"var(--grid-gap-unit)")," ").concat(o.pb(0,"var(--grid-gap-unit)")," ").concat(o.pl(0,"var(--grid-gap-unit)"),";}")),className:I.dynamic([["1271839607",[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]]])},l=a.className,c=a.styles;return E.createElement(vm,ye({className:"".concat(l," ").concat(r)},$e(i)),n,c)};Wb.defaultProps=ZJ;Wb.displayName="GeistGrid";var qb=Ge(Wb),QJ=["gap","wrap","children","className"],KJ={gap:0,wrap:"wrap",className:""},Xb=function(t){var n=t.gap,r=t.wrap,i=t.children,s=t.className,o=Re(t,QJ),a=Ve(),l=a.unit,c=a.SCALES,d=L.useMemo(function(){return"calc(".concat(n," * ").concat(l," * 1/3)")},[n,l]),u={styles:E.createElement(I,{id:"3631618093",dynamic:[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]},"div.__jsx-style-dynamic-selector{--grid-gap-unit:".concat(d,";--grid-container-margin:calc(-1 * var(--grid-gap-unit));--grid-container-width:calc(100% + var(--grid-gap-unit) * 2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:").concat(r,";-ms-flex-wrap:").concat(r,";flex-wrap:").concat(r,";box-sizing:border-box;width:").concat(c.width(1,"var(--grid-container-width)"),";margin:").concat(c.mt(0,"var(--grid-container-margin)")," ").concat(c.mr(0,"var(--grid-container-margin)")," ").concat(c.mb(0,"var(--grid-container-margin)")," ").concat(c.ml(0,"var(--grid-container-margin)"),";}")),className:I.dynamic([["3631618093",[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]]])},h=u.className,g=u.styles;return E.createElement(vm,ye({className:"".concat(h," ").concat(s)},$e(o)),i,g)};Xb.defaultProps=KJ;Xb.displayName="GeistGridContainer";var JJ=Ge(Xb);qb.Container=JJ;var eee=["command","shift","option","ctrl","children","className"],tee={command:!1,shift:!1,option:!1,ctrl:!1,className:""},Yb=function(t){var n=t.command,r=t.shift,i=t.option,s=t.ctrl,o=t.children,a=t.className,l=Re(t,eee),c=ze(),d=Ve(),u=d.SCALES;return E.createElement("kbd",ye({},$e(l),{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+(a||"")}),n&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),r&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),i&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),s&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),o&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},o),E.createElement(I,{id:"921453049",dynamic:[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},"kbd.__jsx-style-dynamic-selector{line-height:2em;text-align:center;display:inline-block;color:".concat(c.palette.accents_5,";background-color:").concat(c.palette.accents_1,";font-family:").concat(c.font.sans,";border-radius:").concat(c.layout.radius,";border:1px solid ").concat(c.palette.accents_2,";font-size:").concat(u.font(.875),";width:").concat(u.width(1,"fit-content"),";height:").concat(u.height(1,"auto"),";min-width:2em;min-height:2em;padding:").concat(u.pt(0)," ").concat(u.pr(.34)," ").concat(u.pb(0)," ").concat(u.pl(.34),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}span.__jsx-style-dynamic-selector{line-height:2em;font-size:1em;text-align:center;}span.__jsx-style-dynamic-selector+span.__jsx-style-dynamic-selector{margin-left:0.3em;}")))};Yb.defaultProps=tee;Yb.displayName="GeistKeyboard";Ge(Yb);var nee=["className","children","visible"],ree={className:"",visible:!1},Zb=function(t){var n=t.className,r=t.children,i=t.visible,s=Re(t,nee),o=ze(),a=Ve(),l=a.SCALES,c=L.useRef(null),d=L.useRef(null),u=L.useRef(null);L.useEffect(function(){if(i){var g=document.activeElement,p=aR(c.current,g);p||d.current&&d.current.focus()}},[i]);var h=function(p){var m=p.keyCode===9;if(!(!i||!m)){var _=document.activeElement;p.shiftKey?_===d.current&&u.current&&u.current.focus():_===u.current&&d.current&&d.current.focus()}};return E.createElement(ya,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",ye({role:"dialog",tabIndex:-1,onKeyDown:h,ref:c},$e(s),{className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" "+"wrapper ".concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:d,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),E.createElement(I,{id:"4268738715",dynamic:[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]},".wrapper.__jsx-style-dynamic-selector{max-width:100%;vertical-align:middle;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;box-sizing:border-box;background-color:".concat(o.palette.background,";color:").concat(o.palette.foreground,";border-radius:").concat(o.layout.radius,";box-shadow:").concat(o.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, -webkit-transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;width:100%;font-size:").concat(l.font(1),";height:").concat(l.height(1,"auto"),";--modal-wrapper-padding-left:").concat(l.pl(1.3125),";--modal-wrapper-padding-right:").concat(l.pr(1.3125),";padding:").concat(l.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(l.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};Zb.defaultProps=ree;Zb.displayName="GeistModalWrapper";var iee={},$R=E.createContext(iee),see=function(){return E.useContext($R)},oee=["className","children","onClick","passive","disabled"],aee={className:"",passive:!1,disabled:!1},Qb=E.forwardRef(function(e,t){var n=e.className,r=e.children,i=e.onClick,s=e.passive,o=e.disabled,a=Re(e,oee),l=ze(),c=Ve(),d=c.SCALES,u=L.useRef(null),h=see(),g=h.close;L.useImperativeHandle(t,function(){return u.current});var p=function(b){if(!o){var A=Object.assign({},b,{close:function(){return g&&g()}});i&&i(A)}},m=L.useMemo(function(){return s?l.palette.accents_5:l.palette.foreground},[l.palette,s,o]),_=L.useMemo(function(){return o?l.palette.accents_1:l.palette.background},[l.palette,o]),y={styles:E.createElement(I,{id:"930885138",dynamic:[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]},"button.btn.__jsx-style-dynamic-selector{font-size:".concat(d.font(.75),";border:none;color:").concat(m,";background-color:").concat(l.palette.background,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:1;-ms-flex:1;flex:1;height:").concat(d.height(3.5625),";border-radius:0;min-width:0;}button.btn.__jsx-style-dynamic-selector:hover,button.btn.__jsx-style-dynamic-selector:focus{color:").concat(o?m:l.palette.foreground,";background-color:").concat(o?_:l.palette.accents_1,";}")),className:I.dynamic([["930885138",[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]]])},f=y.className,v=y.styles,x=ye({},a,{effect:!1,ref:u});return E.createElement(qo,ye({className:"".concat(f," ").concat(n),onClick:p,disabled:o},x),r,v)});Qb.defaultProps=aee;Qb.displayName="GeistModalAction";var UR=Ge(Qb),lee=["children"],VR=function(t){var n=t.children,r=Re(t,lee),i=ze(),s=L.useRef(null),o=L.useState("auto"),a=Fe(o,2),l=a[0],c=a[1];return L.useEffect(function(){s.current&&c("".concat(s.current.clientHeight,"px"))},[s]),E.createElement(E.Fragment,null,E.createElement("div",{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),E.createElement("footer",ye({ref:s},$e(r),{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),n),E.createElement(I,{id:"2914444644",dynamic:[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]},"footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;width:100%;height:auto;position:absolute;bottom:0;left:0;right:0;border-top:1px solid ".concat(i.palette.border,";border-bottom-left-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";}footer.__jsx-style-dynamic-selector>button.btn + button.btn{border-left:1px solid ").concat(i.palette.border,";}div.__jsx-style-dynamic-selector{height:").concat(l,";-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}")))};VR.displayName="GeistModalActions";var cee=E.memo(VR),dee={wrapClassName:"",keyboard:!0,disableBackdropClick:!1},Kb=function(t){var n=t.visible,r=t.onClose,i=t.children,s=t.keyboard,o=t.wrapClassName,a=t.onContentClick,l=t.disableBackdropClick,c=nu("modal"),d=Ve(),u=d.SCALES,h=FR(null,{scrollLayer:!0}),g=Fe(h,2),p=g[1],m=L.useState(!1),_=Fe(m,2),y=_[0],f=_[1],v=di(i,UR),x=Fe(v,2),w=x[0],b=x[1],A=b&&E.Children.count(b)>0,S=function(){r&&r(),f(!1),p(!1)};L.useEffect(function(){typeof n>"u"||(f(n),p(n))},[n]);var k=RR(function(){s&&S()},up.Escape,{disableGlobalEvent:!0}),C=k.bindings,N=function(){l||S()},D=L.useMemo(function(){return{close:S}},[]);return c?yo.createPortal(E.createElement($R.Provider,{value:D},E.createElement(ym,ye({onClick:N,onContentClick:a,visible:y,width:u.width(26)},C),E.createElement(Zb,{visible:y,className:o},w,A&&E.createElement(cee,null,b)))),c):null};Kb.defaultProps=dee;Kb.displayName="GeistModal";var xm=Ge(Kb);xm.Title=DR;xm.Subtitle=zR;xm.Content=OR;xm.Action=UR;var uee=["children","type","label","filled","className"],hee={type:"default",label:"note",filled:!1,className:""},gee=function(t,n,r){var i={secondary:r.palette.secondary,success:r.palette.success,warning:r.palette.warning,error:r.palette.error},s=i[t];if(!n)return{color:s||r.palette.foreground,borderColor:s||r.palette.border,bgColor:r.palette.background};var o=s?"white":r.palette.background;return{color:o,borderColor:s||r.palette.foreground,bgColor:s||r.palette.foreground}},Jb=function(t){var n=t.children,r=t.type,i=t.label,s=t.filled,o=t.className,a=Re(t,uee),l=ze(),c=Ve(),d=c.SCALES,u=L.useMemo(function(){return gee(r,s,l)},[r,s,l]),h=u.color,g=u.borderColor,p=u.bgColor;return E.createElement("div",ye({},$e(a),{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" "+"note ".concat(o)}),i&&E.createElement("span",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" label"},E.createElement("b",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])},i,":")),n,E.createElement(I,{id:"1082065680",dynamic:[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]},".note.__jsx-style-dynamic-selector{line-height:1.8;border:1px solid ".concat(g,";color:").concat(h,";background-color:").concat(p,";border-radius:").concat(l.layout.radius,";font-size:").concat(d.font(.875),";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(.667)," ").concat(d.pr(1.32)," ").concat(d.pb(.667)," ").concat(d.pl(1.32),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.note.__jsx-style-dynamic-selector p{margin:0;}.label.__jsx-style-dynamic-selector{text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1.5;padding-right:0.38em;}")))};Jb.defaultProps=hee;Jb.displayName="GeistNote";Ge(Jb);var pee=["className","children"],mee={className:""},e1=function(t){var n=t.className,r=t.children,i=Re(t,pee),s=Ve(),o=s.SCALES;return E.createElement("main",ye({},$e(i),{className:I.dynamic([["3887979816",[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"3887979816",dynamic:[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"main.__jsx-style-dynamic-selector{font-size:".concat(o.font(1),";width:").concat(o.width(1,"100%"),";height:").concat(o.height(1,"100%"),";padding:").concat(o.pt(3.125)," ").concat(o.pr(0)," ").concat(o.pb(3.125)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};e1.defaultProps=mee;e1.displayName="GeistPageContent";var gp=Ge(e1),fee=["children","render","dotBackdrop","className"];ir("default","effect","effect-seo");var _ee={render:"default",dotBackdrop:!1},yee=function(){return E.createElement("span",{className:"jsx-3167743014"},E.createElement(I,{id:"3167743014"},"body{background-image:radial-gradient(#e3e3e3 1px,transparent 0), radial-gradient(#e3e3e3 1px,transparent 0);background-position:0 0,25px 25px;background-attachment:fixed;background-size:50px 50px;}"))},t1=function(t){var n=t.children,r=t.render,i=t.dotBackdrop,s=t.className,o=Re(t,fee),a=ze(),l=Ve(),c=l.SCALES,d=L.useMemo(function(){return a.type==="dark"?!1:i},[i,a.type]),u=L.useState(r!=="default"),h=Fe(u,2),g=h[0],p=h[1];if(L.useEffect(function(){p(!1)},[]),g){var m=r==="effect-seo";return m?E.createElement("div",{"aria-hidden":"true",className:"jsx-3942095687 hidden"},n,E.createElement(I,{id:"3942095687"},".hidden.jsx-3942095687{opacity:0;display:none;}")):null}var _=Zc(n,gp);return E.createElement("section",ye({},$e(o),{className:I.dynamic([["1515698274",[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]]])+" "+(s||"")}),_?n:E.createElement(gp,null,n),d&&E.createElement(yee,null),E.createElement(I,{id:"1515698274",dynamic:[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]},"section.__jsx-style-dynamic-selector{max-width:100vw;min-height:100vh;box-sizing:border-box;position:relative;font-size:".concat(c.font(1),";width:").concat(c.width(1,"calc(100% - 100pt)"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(1.34)," ").concat(c.pb(0)," ").concat(c.pl(1.34),";margin:").concat(c.mt(0)," ").concat(c.mr(0,"auto")," ").concat(c.mb(0)," ").concat(c.ml(0,"auto"),";}")))};t1.defaultProps=_ee;t1.displayName="GeistPage";var bm=Ge(t1),vee=["children","center","className"],xee={center:!1,className:""},n1=function(t){var n=t.children,r=t.center,i=t.className,s=Re(t,vee),o=Ve(),a=o.SCALES;return E.createElement("header",ye({},$e(s),{className:I.dynamic([["3053482948",[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"".concat(r?"center":""," ").concat(i)}),n,E.createElement(I,{id:"3053482948",dynamic:[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"header.__jsx-style-dynamic-selector{font-size:".concat(a.font(1),";width:").concat(a.width(1,"100%"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.center.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};n1.defaultProps=xee;n1.displayName="GeistPageHeader";var bee=Ge(n1),wee=["children"],Eee={className:""},r1=function(t){var n=t.children,r=Re(t,wee),i=Ve(),s=i.SCALES;return E.createElement("footer",ye({},$e(r),{className:I.dynamic([["3447440073",[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]]])}),n,E.createElement(I,{id:"3447440073",dynamic:[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]},"footer.__jsx-style-dynamic-selector{position:absolute;bottom:0;font-size:".concat(s.font(1),";width:").concat(s.width(1,"100%"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(0)," ").concat(s.mb(0)," ").concat(s.ml(0),";}")))};r1.defaultProps=Eee;r1.displayName="GeistPageFooter";var See=Ge(r1);bm.Header=bee;bm.Content=gp;bm.Body=gp;bm.Footer=See;var Aee=["active","children","disabled","onClick"],Xo=function(t){var n=t.active,r=t.children,i=t.disabled,s=t.onClick,o=Re(t,Aee),a=ze(),l=L.useMemo(function(){return[ds(a.palette.success,.1),ds(a.palette.success,.8)]},[a.palette.success]),c=Fe(l,2),d=c[0],u=c[1],h=function(p){i||s&&s(p)};return E.createElement("li",{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])},E.createElement("button",ye({onClick:h},$e(o),{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])+" "+"".concat(n?"active":""," ").concat(i?"disabled":"")}),r),E.createElement(I,{id:"1657796974",dynamic:[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]},"li.__jsx-style-dynamic-selector{margin-right:0.428em;display:inline-block;}button.__jsx-style-dynamic-selector{border:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;text-transform:capitalize;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-align:center;vertical-align:middle;box-shadow:none;outline:none;height:var(--pagination-size);min-width:var(--pagination-size);font-size:inherit;cursor:pointer;color:".concat(a.palette.success,";border-radius:").concat(a.layout.radius,";background-color:").concat(a.palette.background,";-webkit-transition:all linear 200ms 0ms;transition:all linear 200ms 0ms;}button.__jsx-style-dynamic-selector:hover{background-color:").concat(d,";}.active.__jsx-style-dynamic-selector{font-weight:bold;background-color:").concat(a.palette.success,";color:").concat(a.palette.background,";box-shadow:").concat(a.expressiveness.shadowSmall,";}.active.__jsx-style-dynamic-selector:hover{background-color:").concat(u,";box-shadow:").concat(a.expressiveness.shadowMedium,";}.disabled.__jsx-style-dynamic-selector{color:").concat(a.palette.accents_4,";cursor:not-allowed;}.disabled.__jsx-style-dynamic-selector:hover{background-color:").concat(a.palette.accents_2,";}button.__jsx-style-dynamic-selector svg{width:1.3em;height:1.3em;}")))};Xo.displayName="GeistPaginationItem";ir("prev","next","click");var Cee={},GR=E.createContext(Cee),HR=function(){return E.useContext(GR)},kee=["children"],pp=function(t){var n=t.children,r=Re(t,kee),i=HR(),s=i.update,o=i.isFirst;return E.createElement(Xo,ye({onClick:function(){return s&&s("prev")},disabled:o},$e(r)),n)};pp.displayName="GeistPaginationPrevious";var Tee=["children"],mp=function(t){var n=t.children,r=Re(t,Tee),i=HR(),s=i.update,o=i.isLast;return E.createElement(Xo,ye({onClick:function(){return s&&s("next")},disabled:o},$e(r)),n)};mp.displayName="GeistPaginationNext";var ky=function(t){var n=t.isBefore,r=t.onClick,i=L.useState(!1),s=Fe(i,2),o=s[0],a=s[1];return E.createElement(Xo,{onClick:function(c){return r&&r(c)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},o?E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])+" more"},E.createElement("path",{d:"M13 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("path",{d:"M6 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})):E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])},E.createElement("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"19",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"5",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})),E.createElement(I,{id:"2928474255",dynamic:[n?"180deg":"0deg"]},"svg.__jsx-style-dynamic-selector{color:currentColor;stroke:currentColor;width:1em;height:1em;}.more.__jsx-style-dynamic-selector{-webkit-transform:rotate(".concat(n?"180deg":"0deg",");-ms-transform:rotate(").concat(n?"180deg":"0deg",");transform:rotate(").concat(n?"180deg":"0deg",");}")))};ky.displayName="GeistPaginationEllipsis";var WR=function(t){var n=t.limit,r=t.count,i=t.current,s=t.setPage,o=L.useMemo(function(){var y=n%2===0?n-1:n;return y-2},[n]),a=(o+1)/2,l=L.useMemo(function(){var y=r>n;return[y&&i>a+1,y&&i<r-a]},[i,o,a,r,n]),c=Fe(l,2),d=c[0],u=c[1],h=L.useMemo(function(){return Gr(new Array(o))},[o]),g=L.useCallback(function(y,f){return E.createElement(Xo,{key:"pagination-item-".concat(y),active:y===f,onClick:function(){return s(y)}},y)},[]),p=h.map(function(y,f){var v=f+2;return g(v,i)}),m=h.map(function(y,f){var v=a-(f+1),x=i-v;return E.createElement(Xo,{key:"pagination-middle-".concat(f),active:f+1===a,onClick:function(){return s(x)}},x)}),_=h.map(function(y,f){var v=r-(o-f);return g(v,i)});return r<=n?E.createElement(E.Fragment,null,Gr(new Array(r)).map(function(y,f){var v=f+1;return E.createElement(Xo,{key:"pagination-item-".concat(v),active:v===i,onClick:function(){return s(v)}},v)})):E.createElement(E.Fragment,null,g(1,i),d&&E.createElement(ky,{key:"pagination-ellipsis-before",isBefore:!0,onClick:function(){return s(function(f){return f-5>=1?f-5:1})}}),d&&u?m:d?_:p,u&&E.createElement(ky,{key:"pagination-ellipsis-after",onClick:function(){return s(function(f){return f+5<=r?f+5:r})}}),g(r,i))};WR.displayName="GeistPaginationPages";var Lee={initialPage:1,count:1,limit:7},i1=function(t){var n=t.page,r=t.initialPage,i=t.count,s=t.limit,o=t.children,a=t.onChange,l=Ve(),c=l.SCALES,d=ui(r),u=Fe(d,3),h=u[0],g=u[1],p=u[2],m=di(o,pp),_=Fe(m,2),y=_[1],f=di(o,mp),v=Fe(f,2),x=v[1],w=L.useMemo(function(){var N=function(F){return E.Children.count(F)>0},D=E.createElement(pp,null,"prev"),j=E.createElement(mp,null,"next");return[N(y)?y:D,N(x)?x:j]},[y,x]),b=Fe(w,2),A=b[0],S=b[1],k=function(D){D==="prev"&&p.current>1&&g(function(j){return j-1}),D==="next"&&p.current<i&&g(function(j){return j+1})},C=L.useMemo(function(){return{isFirst:h<=1,isLast:h>=i,update:k}},[h]);return L.useEffect(function(){a&&a(h)},[h]),L.useEffect(function(){n!==void 0&&g(n)},[n]),E.createElement(GR.Provider,{value:C},E.createElement("nav",{className:I.dynamic([["3826701357",[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])},A,E.createElement(WR,{count:i,current:h,limit:s,setPage:g}),S),E.createElement(I,{id:"3826701357",dynamic:[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"nav.__jsx-style-dynamic-selector{font-variant:tabular-nums;font-feature-settings:'tnum';--pagination-size:".concat(c.font(2),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}nav.__jsx-style-dynamic-selector button:last-of-type{margin-right:0;}")))};i1.defaultProps=Lee;i1.displayName="GeistPagination";var qR=Ge(i1);qR.Previous=pp;qR.Next=mp;var Nee=function(t,n){var r={default:n.background,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary,dark:n.foreground,lite:n.background},i=t==="lite"||t==="default"?n.foreground:n.background;return{color:i,bgColor:r[t]}},Iee={top:"-1000px",left:"-1000px",transform:"none"},Pee=function(t,n,r){var i={top:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, -100%)"},topStart:{top:"".concat(n.top-r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, -100%)"},topEnd:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, -100%)"},bottom:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, 0)"},bottomStart:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, 0)"},bottomEnd:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, 0)"},left:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -50%)"},leftStart:{top:"".concat(n.top,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, 0)"},leftEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -100%)"},right:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -50%)"},rightStart:{top:"".concat(n.top,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, 0)"},rightEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -100%)"}};return i[t]||i.top},Mee=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"3px",s={top:{top:"auto",right:"auto",left:"50%",bottom:"".concat(i),transform:"translate(-50%, 100%) rotate(-90deg)"},topStart:{top:"auto",right:"auto",left:"".concat(n),bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},topEnd:{top:"auto",right:"".concat(n),left:"auto",bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},bottom:{top:"".concat(i),right:"auto",left:"50%",bottom:"auto",transform:"translate(-50%, -100%) rotate(90deg)"},bottomStart:{top:"".concat(i),right:"auto",left:"".concat(n),bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},bottomEnd:{top:"".concat(i),right:"".concat(n),left:"auto",bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},left:{top:"50%",right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftStart:{top:"".concat(r),right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftEnd:{top:"auto",right:"0",left:"auto",bottom:"".concat(r),transform:"translate(100%, 50%) rotate(180deg)"},right:{top:"50%",right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightStart:{top:"".concat(r),right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightEnd:{top:"auto",right:"auto",left:"0",bottom:"".concat(r),transform:"translate(-100%, 50%) rotate(0deg)"}};return s[t]||s.top},Fee=function(t){var n=t.placement,r=t.shadow,i=ze(),s=L.useMemo(function(){return Mee(n,"var(--tooltip-icon-offset-x)","var(--tooltip-icon-offset-y)")},[n]),o=s.transform,a=s.top,l=s.left,c=s.right,d=s.bottom,u=L.useMemo(function(){return!r||i.type!=="dark"?"var(--tooltip-content-bg)":i.palette.accents_2},[i.type,r]);return E.createElement("span",{className:I.dynamic([["2440507693",[u,l,a,c,d,o]]])},E.createElement(I,{id:"2440507693",dynamic:[u,l,a,c,d,o]},"span.__jsx-style-dynamic-selector{width:0;height:0;border-style:solid;border-width:6px 7px 6px 0;border-color:transparent ".concat(u," transparent transparent;position:absolute;left:").concat(l,";top:").concat(a,";right:").concat(c,";bottom:").concat(d,";-webkit-transform:").concat(o,";-ms-transform:").concat(o,";transform:").concat(o,";}")))},Ree={top:-1e3,left:-1e3,right:-1e3,bottom:-1e3,width:0,height:0},XR=function(t){if(!t||!t.current)return Ree;var n=t.current.getBoundingClientRect();return ye({},n,{width:n.width||n.right-n.left,height:n.height||n.bottom-n.top,top:n.top+document.documentElement.scrollTop,bottom:n.bottom+document.documentElement.scrollTop,left:n.left+document.documentElement.scrollLeft,right:n.right+document.documentElement.scrollLeft})},Dee=function(t){var n=t.children,r=t.parent,i=t.visible,s=t.offset,o=t.iconOffset,a=t.placement,l=t.type,c=t.className,d=t.hideArrow,u=ze(),h=Ve(),g=h.SCALES,p=nu("tooltip"),m=L.useRef(null),_=L.useState(Iee),y=Fe(_,2),f=y[0],v=y[1],x=L.useMemo(function(){return Nee(l,u.palette)},[l,u.palette]),w=l==="default";if(!r)return null;var b=function(){var k=Pee(a,XR(r),s);v(k)};eb(b),hR(function(){return b()}),L.useEffect(function(){b()},[i]);var A=function(k){k.stopPropagation(),k.nativeEvent.stopImmediatePropagation()};return p?yo.createPortal(E.createElement(ya,{visible:i},E.createElement("div",{ref:m,onClick:A,className:I.dynamic([["2387841858",[o.x,o.y,x.bgColor,f.top,f.left,f.transform,x.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" "+"tooltip-content ".concat(c)},E.createElement("div",{className:I.dynamic([["2387841858",[o.x,o.y,x.bgColor,f.top,f.left,f.transform,x.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" inner"},!d&&E.createElement(Fee,{placement:a,shadow:w}),n),E.createElement(I,{id:"2387841858",dynamic:[o.x,o.y,x.bgColor,f.top,f.left,f.transform,x.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]},".tooltip-content.__jsx-style-dynamic-selector{--tooltip-icon-offset-x:".concat(o.x,";--tooltip-icon-offset-y:").concat(o.y,";--tooltip-content-bg:").concat(x.bgColor,";box-sizing:border-box;position:absolute;top:").concat(f.top,";left:").concat(f.left,";-webkit-transform:").concat(f.transform,";-ms-transform:").concat(f.transform,";transform:").concat(f.transform,";background-color:var(--tooltip-content-bg);color:").concat(x.color,";border-radius:").concat(u.layout.radius,";padding:0;z-index:1000;box-shadow:").concat(w?u.expressiveness.shadowMedium:"none",";width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"auto"),";}.inner.__jsx-style-dynamic-selector{box-sizing:border-box;position:relative;font-size:").concat(g.font(1),";padding:").concat(g.pt(.65)," ").concat(g.pr(.9)," ").concat(g.pb(.65)," ").concat(g.pl(.9),";height:100%;}")))),p):null},zee=["children","initialVisible","text","offset","placement","portalClassName","enterDelay","leaveDelay","trigger","type","className","onVisibleChange","hideArrow","visible"],Oee={initialVisible:!1,hideArrow:!1,type:"default",trigger:"hover",placement:"top",enterDelay:100,leaveDelay:150,offset:12,className:"",portalClassName:"",onVisibleChange:function(){}},s1=function(t){var n=t.children,r=t.initialVisible,i=t.text,s=t.offset,o=t.placement,a=t.portalClassName,l=t.enterDelay,c=t.leaveDelay,d=t.trigger,u=t.type,h=t.className,g=t.onVisibleChange,p=t.hideArrow,m=t.visible,_=Re(t,zee),y=L.useRef(),f=L.useRef(null),v=L.useState(r),x=Fe(v,2),w=x[0],b=x[1],A=L.useMemo(function(){if(!(f!=null&&f.current))return{x:"0.75em",y:"0.75em"};var D=XR(f);return{x:"".concat(D.width?D.width/2:0,"px"),y:"".concat(D.height?D.height/2:0,"px")}},[f==null?void 0:f.current]),S={type:u,visible:w,offset:s,placement:o,hideArrow:p,iconOffset:A,parent:f,className:a},k=function(j){var U=function(){clearTimeout(y.current),y.current=void 0},F=function(V){b(V),g(V),U()};if(U(),j){y.current=window.setTimeout(function(){return F(!0)},l);return}var T=d==="click"?0:c;y.current=window.setTimeout(function(){return F(!1)},T)},C=function(j){return d==="hover"&&k(j)},N=function(){return d==="click"&&k(!w)};return ER(f,function(){return d==="click"&&k(!1)}),L.useEffect(function(){m!==void 0&&k(m)},[m]),E.createElement("div",ye({ref:f,onClick:N,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)}},$e(_),{className:"jsx-418573366 "+"tooltip ".concat(h)}),n,E.createElement(Dee,S,i),E.createElement(I,{id:"418573366"},".tooltip.jsx-418573366{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:inline-block;}"))};s1.defaultProps=Oee;s1.displayName="GeistTooltip";var Bee=Ge(s1),jee={disableItemsAutoClose:!1,onItemClick:function(){}},YR=E.createContext(jee),$ee=function(){return L.useContext(YR)},Uee=["content","children","trigger","placement","initialVisible","portalClassName","disableItemsAutoClose","onVisibleChange","visible"],Vee={disableItemsAutoClose:!1,trigger:"click",placement:"bottom",portalClassName:"",initialVisible:!1,hideArrow:!1,type:"default",enterDelay:100,leaveDelay:150,offset:12,className:"",onVisibleChange:function(){}},o1=function(t){var n=t.content,r=t.children,i=t.trigger,s=t.placement,o=t.initialVisible,a=t.portalClassName,l=t.disableItemsAutoClose,c=t.onVisibleChange,d=t.visible,u=Re(t,Uee),h=Ve(),g=h.SCALES,p=L.useState(o),m=Fe(p,2),_=m[0],y=m[1],f=L.useMemo(function(){return RZ(n)},[n]),v=function(){w(!1)},x=L.useMemo(function(){return{onItemClick:v,disableItemsAutoClose:l}},[l]),w=function(A){y(A),c(A)};return L.useEffect(function(){d!==void 0&&w(d)},[d]),E.createElement(YR.Provider,{value:x},E.createElement(Bee,ye({text:f,trigger:i,placement:s,portalClassName:"popover ".concat(a),visible:_,onVisibleChange:w},u),r,E.createElement(I,{id:"622655983",dynamic:[g.pt(.9),g.pr(0),g.pb(.9),g.pl(0)]},".tooltip-content.popover > .inner{padding:".concat(g.pt(.9)," ").concat(g.pr(0)," ").concat(g.pb(.9)," ").concat(g.pl(0),";}"))))};o1.defaultProps=Vee;o1.displayName="GeistPopover";var ZR=Ge(o1),Gee=["children","line","title","className","onClick","disableAutoClose"],Hee={line:!1,title:!1,disableAutoClose:!1,className:""},a1=function(t){var n=t.children,r=t.line,i=t.title,s=t.className,o=t.onClick,a=t.disableAutoClose,l=Re(t,Gee),c=ze(),d=Ve(),u=d.SCALES,h=$ee(),g=h.disableItemsAutoClose,p=h.onItemClick,m=!!o,_=a||g||i||r,y=function(v){if(o&&o(v),_)return v.stopPropagation();p(v)};return E.createElement(E.Fragment,null,E.createElement("div",ye({onClick:y},$e(l),{className:I.dynamic([["190621384",[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]]])+" "+"item ".concat(r?"line":""," ").concat(i?"title":""," ").concat(s)}),n,E.createElement(I,{id:"190621384",dynamic:[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(c.palette.accents_5,";-webkit-transition:color,background-color 150ms linear;transition:color,background-color 150ms linear;line-height:1.25em;font-size:").concat(u.font(.875),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";padding:").concat(u.pt(.5)," ").concat(u.pr(.75)," ").concat(u.pb(.5)," ").concat(u.pl(.75),";cursor:").concat(m?"pointer":"default",";}.item.__jsx-style-dynamic-selector:hover{color:").concat(c.palette.foreground,";}.item.line.__jsx-style-dynamic-selector{line-height:0;padding:0;background-color:").concat(c.palette.border,";height:").concat(u.height(.0625),";margin:").concat(u.mt(.35)," ").concat(u.mr(0)," ").concat(u.mb(.35)," ").concat(u.ml(0),";width:").concat(u.width(1,"100%"),";}.item.title.__jsx-style-dynamic-selector{font-weight:500;font-size:").concat(u.font(.925),";color:").concat(c.palette.foreground,";}"))),i&&E.createElement(l1,{line:!0,title:!1}))};a1.defaultProps=Hee;a1.displayName="GeistPopoverItem";var l1=Ge(a1);ZR.Item=l1;ZR.Option=l1;var Wee=["value","max","className","type","colors","fixedTop","fixedBottom"],qee={value:0,max:100,type:"default",fixedTop:!1,fixedBottom:!1,className:""},Xee=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s={default:n.foreground,success:n.success,secondary:n.secondary,warning:n.warning,error:n.error},o=Object.keys(i);if(o.length===0)return s[r];var a=o.find(function(l){return t<=+l});return!a||Number.isNaN(+a)?s[r]:i[+a]},c1=function(t){var n=t.value,r=t.max,i=t.className,s=t.type,o=t.colors,a=t.fixedTop,l=t.fixedBottom,c=Re(t,Wee),d=ze(),u=Ve(),h=u.SCALES,g=kR(n,r),p=Xee(g,d.palette,s,o),m=a||l;return E.createElement("div",{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+"progress ".concat(i," ").concat(m?"fixed":"")},E.createElement("div",{title:"".concat(g,"%"),className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" inner"}),E.createElement("progress",ye({value:n,max:r},$e(c),{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+(i||"")})),E.createElement(I,{id:"1239801602",dynamic:[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]},"progress.__jsx-style-dynamic-selector{position:fixed;top:-1000px;opacity:0;visibility:hidden;pointer-events:none;}.progress.__jsx-style-dynamic-selector{position:relative;background-color:".concat(d.palette.accents_2,";border-radius:").concat(d.layout.radius,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(.625),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.fixed.__jsx-style-dynamic-selector{position:fixed;top:").concat(a?0:"unset",";bottom:").concat(l?0:"unset",";left:0;border-radius:0;}.fixed.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{border-radius:0;}.inner.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;height:100%;bottom:0;-webkit-transition:all 100ms ease-in;transition:all 100ms ease-in;border-radius:").concat(d.layout.radius,";background-color:").concat(p,";width:").concat(g,"%;}")))};c1.defaultProps=qee;c1.displayName="GeistProgress";Ge(c1);var Yee={disabledAll:!1,inGroup:!1},QR=E.createContext(Yee),Zee=function(){return E.useContext(QR)},Qee=["className","children"],Kee={className:""},d1=function(t){var n=t.className,r=t.children,i=Re(t,Qee),s=ze(),o=Ve(),a=o.SCALES;return E.createElement("span",ye({},$e(i),{className:I.dynamic([["2489497926",[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]]])+" "+(n||"")}),r,E.createElement(I,{id:"2489497926",dynamic:[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]},"span.__jsx-style-dynamic-selector{color:".concat(s.palette.accents_3,";font-size:").concat(a.font(.85,"calc(var(--radio-size) * 0.85)"),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)"),";}")))};d1.defaultProps=Kee;d1.displayName="GeistRadioDescription";var u1=Ge(d1),Jee=function(t,n){var r={default:{label:t.foreground,border:t.border,bg:t.foreground},secondary:{label:t.foreground,border:t.border,bg:t.foreground},success:{label:t.success,border:t.success,bg:t.success},warning:{label:t.warning,border:t.warning,bg:t.warning},error:{label:t.error,border:t.error,bg:t.error}};return n?r[n]:r.default},ete=["className","checked","onChange","disabled","type","value","children"],tte={type:"default",disabled:!1,className:""},h1=function(t){var n=t.className,r=t.checked,i=t.onChange,s=t.disabled,o=t.type,a=t.value,l=t.children,c=Re(t,ete),d=ze(),u=Ve(),h=u.SCALES,g=L.useState(!!r),p=Fe(g,2),m=p[0],_=p[1],y=Zee(),f=y.value,v=y.disabledAll,x=y.inGroup,w=y.updateState,b=di(l,u1),A=Fe(b,2),S=A[0],k=A[1];x&&(r!==void 0&&Ci('Remove props "checked" if in the Radio.Group.',"Radio"),a===void 0&&Ci('Props "value" must be deinfed if in the Radio.Group.',"Radio"),L.useEffect(function(){_(f===a)},[f,a]));var C=L.useMemo(function(){return Jee(d.palette,o)},[d.palette,o]),N=C.label,D=C.border,j=C.bg,U=L.useMemo(function(){return s||v},[s,v]),F=function(q){if(!U){var V={target:{checked:!m},stopPropagation:q.stopPropagation,preventDefault:q.preventDefault,nativeEvent:q};_(!m),x&&w&&w(a),i&&i(V)}};return L.useEffect(function(){r!==void 0&&_(!!r)},[r]),E.createElement("div",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]]])+" "+"radio ".concat(n)},E.createElement("label",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]]])},E.createElement("input",ye({type:"radio",value:a,checked:m,onChange:F},$e(c),{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]]])})),E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]]])+" name"},E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]]])+" "+"point ".concat(m?"active":"")}),S),k&&k),E.createElement(I,{id:"293719529",dynamic:[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),U?d.palette.accents_4:N,U?"not-allowed":"pointer",D,U?d.palette.accents_4:j]},"input.__jsx-style-dynamic-selector{opacity:0;visibility:hidden;overflow:hidden;width:1px;height:1px;top:-1000px;right:-1000px;position:fixed;font-size:0;}.radio.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;--radio-size:".concat(h.font(1),";width:").concat(h.width(1,"initial"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:").concat(U?d.palette.accents_4:N,";cursor:").concat(U?"not-allowed":"pointer",";}.name.__jsx-style-dynamic-selector{font-size:var(--radio-size);font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.point.__jsx-style-dynamic-selector{height:var(--radio-size);width:var(--radio-size);border-radius:50%;border:1px solid ").concat(D,";-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;position:relative;display:inline-block;-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);margin-right:calc(var(--radio-size) * 0.375);}.point.__jsx-style-dynamic-selector:before{content:'';position:absolute;left:-1px;top:-1px;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);height:var(--radio-size);width:var(--radio-size);border-radius:50%;background-color:").concat(U?d.palette.accents_4:j,";}.point.active.__jsx-style-dynamic-selector:before{-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;}")))};h1.defaultProps=tte;h1.displayName="GeistRadio";var g1=Ge(h1),nte=["disabled","onChange","value","children","className","initialValue","useRow"],rte={disabled:!1,className:"",useRow:!1},p1=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=t.initialValue,l=t.useRow,c=Re(t,nte),d=Ve(),u=d.SCALES,h=L.useState(a),g=Fe(h,2),p=g[0],m=g[1],_=function(v){m(v),r&&r(v)},y=L.useMemo(function(){return{updateState:_,disabledAll:n,inGroup:!0,value:p}},[n,p]);return L.useEffect(function(){i!==void 0&&m(i)},[i]),E.createElement(QR.Provider,{value:y},E.createElement("div",ye({},$e(c),{className:I.dynamic([["1223822443",[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]]])+" "+"radio-group ".concat(o)}),s),E.createElement(I,{id:"1223822443",dynamic:[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]},".radio-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:".concat(l?"col":"column",";-ms-flex-direction:").concat(l?"col":"column",";flex-direction:").concat(l?"col":"column",";--radio-group-gap:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.radio-group.__jsx-style-dynamic-selector .radio{margin-top:").concat(l?0:"var(--radio-group-gap)",";margin-left:").concat(l?"var(--radio-group-gap)":0,";--radio-size:").concat(u.font(1),";}.radio-group.__jsx-style-dynamic-selector .radio:first-of-type{margin:0;}")))};p1.defaultProps=rte;p1.displayName="GeistRadioGroup";var ite=Ge(p1);g1.Group=ite;g1.Description=u1;g1.Desc=u1;var KR=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},E.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))};KR.displayName="GeistRatingIcon";var ste=["type","className","icon","count","value","initialValue","onValueChange","locked","onLockedChange"];cR(2,3,4,5,6,7,8,9,10);cR(0,1,2,3,4,5,6,7,8,9,10);var ote={type:"default",className:"",icon:E.createElement(KR,null),count:5,initialValue:1,locked:!1},ate=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},m1=function(t){var n=t.type,r=t.className,i=t.icon,s=t.count,o=t.value,a=t.initialValue,l=t.onValueChange,c=t.locked,d=t.onLockedChange,u=Re(t,ste),h=ze(),g=Ve(),p=g.SCALES,m=L.useMemo(function(){return ate(n,h.palette)},[n,h.palette]),_=L.useState(a),y=Fe(_,2),f=y[0],v=y[1],x=L.useState(c),w=Fe(x,2),b=w[0],A=w[1],S=function(j){A(j),d&&d(j)},k=function(j){v(j);var U=j>s?s:j;l&&l(U)},C=function(j){if(b)return S(!1);k(j),S(!0)},N=function(j){b||k(j)};return L.useEffect(function(){typeof o>"u"||v(o<0?0:o)},[o]),E.createElement("div",ye({},$e(u),{className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"rating ".concat(r)}),Gr(Array(s)).map(function(D,j){return E.createElement("div",{key:j,onMouseEnter:function(){return N(j+1)},onClick:function(){return C(j+1)},className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"icon-box ".concat(j+1<=f?"hovered":"")},i)}),E.createElement(I,{id:"884600549",dynamic:[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]},".rating.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;--rating-font-size:".concat(p.font(1),";font-size:var(--rating-font-size);width:").concat(p.width(1,"auto"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(0)," ").concat(p.pr(0)," ").concat(p.pb(0)," ").concat(p.pl(0),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}.icon-box.__jsx-style-dynamic-selector{box-sizing:border-box;color:").concat(m,";width:calc(var(--rating-font-size) * 1.5);height:calc(var(--rating-font-size) * 1.5);margin-right:calc(var(--rating-font-size) * 1 / 5);cursor:").concat(b?"default":"pointer",";}.icon-box.__jsx-style-dynamic-selector svg{width:100%;height:100%;fill:transparent;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform,color,fill 30ms linear;-webkit-transition:transform,color,fill 30ms linear;transition:transform,color,fill 30ms linear;}.hovered.__jsx-style-dynamic-selector svg{fill:").concat(m,";-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}")))};m1.defaultProps=ote;m1.displayName="GeistRating";Ge(m1);var JR=function(){return E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-2742933678"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-2742933678"}),E.createElement(I,{id:"2742933678"},"svg.jsx-2742933678{color:inherit;stroke:currentColor;-webkit-transition:all 200ms ease;transition:all 200ms ease;width:1.214em;height:1.214em;}"))};JR.displayName="GeistSelectIcon";var lte=E.memo(JR),cte={visible:!1,disableAll:!1},e3=E.createContext(cte),t3=function(){return E.useContext(e3)},dte={className:"",dropdownStyle:{}},f1=E.forwardRef(function(e,t){var n=e.visible,r=e.children,i=e.className,s=e.dropdownStyle,o=e.disableMatchWidth,a=e.getPopupContainer,l=ze(),c=L.useRef(null),d=t3(),u=d.ref;return L.useImperativeHandle(t,function(){return c.current}),E.createElement(pR,{parent:u,visible:n,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{ref:c,style:s,className:I.dynamic([["2782510679",[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]]])+" "+"select-dropdown ".concat(i)},r,E.createElement(I,{id:"2782510679",dynamic:[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]},".select-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";max-height:17em;overflow-y:auto;overflow-anchor:none;padding:0.38em 0;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}"))))});f1.defaultProps=dte;f1.displayName="GeistSelectDropdown";var ute=function(t){var n=t.onClick,r=ze(),i=function(o){o.preventDefault(),o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),n&&n(o)};return E.createElement("div",{onClick:i,className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])+" clear-icon"},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])})),E.createElement(I,{id:"1984024521",dynamic:[r.palette.accents_3,r.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{padding:0 0 0 0.5em;margin:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;cursor:pointer;box-sizing:border-box;-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;color:".concat(r.palette.accents_3,";visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:1em;height:1em;}")))},hte=E.memo(ute),n3=function(t){var n=t.disabled,r=t.onClear,i=t.children,s=ze();return E.createElement(qb,null,E.createElement("div",{className:I.dynamic([["3357578496",[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]]])+" item"},i,!!r&&E.createElement(hte,{onClick:r})),E.createElement(I,{id:"3357578496",dynamic:[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]},".item.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;justify-items:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0 0.5em;font-size:var(--select-font-size);height:calc(var(--select-font-size) * 2);border-radius:".concat(s.layout.radius,";background-color:").concat(s.palette.accents_2,";color:").concat(n?s.palette.accents_4:s.palette.accents_6,";}.item.__jsx-style-dynamic-selector>div:not(.clear-icon),.item.__jsx-style-dynamic-selector>div:not(.clear-icon):hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}")))};n3.displayName="GeistSelectMultipleValue";var gte=function(t,n){var r={default:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},secondary:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},success:{border:t.successLight,borderActive:t.successDark,iconBorder:t.success,placeholderColor:t.accents_3},warning:{border:t.warningLight,borderActive:t.warningDark,iconBorder:t.warning,placeholderColor:t.accents_3},error:{border:t.errorLight,borderActive:t.errorDark,iconBorder:t.error,placeholderColor:t.error}};return n?r[n]:r.default},r3=E.forwardRef(function(e,t){var n=e.visible,r=e.onBlur,i=e.onFocus,s=L.useRef(null);return L.useImperativeHandle(t,function(){return s.current}),L.useEffect(function(){if(n){var o;(o=s.current)===null||o===void 0||o.focus()}},[n]),E.createElement(E.Fragment,null,E.createElement("input",{ref:s,type:"search",role:"combobox","aria-haspopup":"listbox",readOnly:!0,unselectable:"on","aria-expanded":n,onBlur:r,onFocus:i,className:"jsx-2813108835"}),E.createElement(I,{id:"2813108835"},"input.jsx-2813108835{position:fixed;top:-10000px;left:-10000px;opacity:0;z-index:-1;width:0;height:0;padding:0;font-size:0;border:none;}"))});r3.displayName="GeistSelectInput";var pte=["children","type","disabled","initialValue","value","icon","onChange","pure","multiple","clearable","placeholder","className","dropdownClassName","dropdownStyle","disableMatchWidth","getPopupContainer","onDropdownVisibleChange"],mte={disabled:!1,type:"default",icon:lte,pure:!1,multiple:!1,clearable:!0,className:"",disableMatchWidth:!1,onDropdownVisibleChange:function(){}},_1=E.forwardRef(function(e,t){var n=e.children,r=e.type,i=e.disabled,s=e.initialValue,o=e.value,a=e.icon,l=e.onChange,c=e.pure,d=e.multiple,u=e.clearable,h=e.placeholder,g=e.className,p=e.dropdownClassName,m=e.dropdownStyle,_=e.disableMatchWidth,y=e.getPopupContainer,f=e.onDropdownVisibleChange,v=Re(e,pte),x=ze(),w=Ve(),b=w.SCALES,A=L.useRef(null),S=L.useRef(null),k=L.useRef(null),C=L.useState(!1),N=Fe(C,2),D=N[0],j=N[1],U=L.useState(!1),F=Fe(U,2),T=F[0],q=F[1],V=ui(function(){return!d||Array.isArray(s)?s:typeof s>"u"?[]:[s]}),J=Fe(V,3),oe=J[0],ie=J[1],pe=J[2],Ce=L.useMemo(function(){return Array.isArray(oe)?oe.length===0:!oe},[oe]),ce=L.useMemo(function(){return gte(x.palette,r)},[x.palette,r]),ve=ce.border,De=ce.borderActive,qe=ce.iconBorder,Xe=ce.placeholderColor,me=function(se){f(se),j(se)},_e=function(se){ie(function(le){return Array.isArray(le)?le.includes(se)?le.filter(function(ue){return ue!==se}):[].concat(Gr(le),[se]):se}),l&&l(pe.current),d||me(!1)},nt=L.useMemo(function(){return{value:oe,visible:D,updateValue:_e,updateVisible:me,ref:A,disableAll:i}},[D,i,A,oe,d]),rt=function(se){se.stopPropagation(),se.nativeEvent.stopImmediatePropagation(),se.preventDefault(),!i&&(me(!D),se.preventDefault())},mt=function(se){D&&se.preventDefault()};L.useEffect(function(){o!==void 0&&ie(o)},[o]),L.useImperativeHandle(t,function(){return{focus:function(){var se;return(se=S.current)===null||se===void 0?void 0:se.focus()},blur:function(){var se;return(se=S.current)===null||se===void 0?void 0:se.blur()},scrollTo:function(se){var le;return(le=k.current)===null||le===void 0?void 0:le.scrollTo(se)}}},[S,k]);var at=L.useMemo(function(){var re=oR(n,"value",oe),se=Fe(re,2),le=se[1];return E.Children.map(le,function(ue){if(!E.isValidElement(ue))return null;var ge=E.cloneElement(ue,{preventAllEvents:!0});return d?E.createElement(n3,{disabled:i,onClear:u?function(){return _e(ue.props.value)}:null},ge):ge})},[oe,n,d]),Z=function(){me(!1),q(!1)};return E.createElement(e3.Provider,{value:nt},E.createElement("div",ye({ref:A,onClick:rt,onMouseDown:mt},$e(v),{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]]])+" "+"select ".concat(T||D?"active":""," ").concat(d?"multiple":""," ").concat(g)}),E.createElement(r3,{ref:S,visible:D,onBlur:Z,onFocus:function(){return q(!0)}}),Ce&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]]])+" value placeholder"},E.createElement(Qx,{height:"var(--select-height)"},h)),oe&&!d&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]]])+" value"},at),oe&&d&&E.createElement(qb.Container,{gap:.5},at),E.createElement(f1,{ref:k,visible:D,className:p,dropdownStyle:m,disableMatchWidth:_,getPopupContainer:y},n),!c&&E.createElement("div",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]]])+" icon"},E.createElement(a,{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]]])})),E.createElement(I,{id:"3282295248",dynamic:[i?"not-allowed":"pointer",ve,x.layout.radius,i?x.palette.accents_1:x.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?x.palette.border:De,i?x.palette.accents_5:De,i?x.palette.accents_4:x.palette.foreground,Xe,x.layout.gapQuarter,D?"180":"0",qe]},".select.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;position:relative;cursor:".concat(i?"not-allowed":"pointer",";max-width:90vw;overflow:hidden;-webkit-transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;border:1px solid ").concat(ve,";border-radius:").concat(x.layout.radius,";background-color:").concat(i?x.palette.accents_1:x.palette.background,";--select-font-size:").concat(b.font(.875),";--select-height:").concat(b.height(2.25),";min-width:11.5em;width:").concat(b.width(1,"initial"),";height:var(--select-height);padding:").concat(b.pt(0)," ").concat(b.pr(.334)," ").concat(b.pb(0)," ").concat(b.pl(.667),";margin:").concat(b.mt(0)," ").concat(b.mr(0)," ").concat(b.mb(0)," ").concat(b.ml(0),";}.multiple.__jsx-style-dynamic-selector{height:auto;min-height:var(--select-height);padding:").concat(b.pt(.334)," ").concat(b.pr(.334)," ").concat(b.pb(.334)," ").concat(b.pl(.667),";}.select.active.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover{border-color:").concat(i?x.palette.border:De,";}.select.active.icon.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover .icon.__jsx-style-dynamic-selector{color:").concat(i?x.palette.accents_5:De,";}.value.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0;margin-right:1.25em;font-size:var(--select-font-size);color:").concat(i?x.palette.accents_4:x.palette.foreground,";width:calc(100% - 1.25em);}.value.__jsx-style-dynamic-selector>div,.value.__jsx-style-dynamic-selector>div:hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}.placeholder.__jsx-style-dynamic-selector{color:").concat(Xe,";}.icon.__jsx-style-dynamic-selector{position:absolute;right:").concat(x.layout.gapQuarter,";font-size:var(--select-font-size);top:50%;bottom:0;-webkit-transform:translateY(-50%) rotate(").concat(D?"180":"0","deg);-ms-transform:translateY(-50%) rotate(").concat(D?"180":"0","deg);transform:translateY(-50%) rotate(").concat(D?"180":"0","deg);pointer-events:none;-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(qe,";}"))))});_1.defaultProps=mte;_1.displayName="GeistSelect";var Sc=Ge(_1),fte=["value","className","children","disabled","divider","label","preventAllEvents"],_te={disabled:!1,divider:!1,label:!1,className:"",preventAllEvents:!1},y1=function(t){var n=t.value,r=t.className,i=t.children,s=t.disabled,o=t.divider,a=t.label,l=t.preventAllEvents,c=Re(t,fte),d=ze(),u=Ve(),h=u.SCALES,g=t3(),p=g.updateValue,m=g.value,_=g.disableAll,y=L.useMemo(function(){return s||_},[s,_]),f=L.useMemo(function(){return a||o},[a,o]);!f&&n===void 0&&Ci('The props "value" is required.',"Select Option");var v=L.useMemo(function(){return m?typeof m=="string"?n===m:m.includes("".concat(n)):!1},[n,m]),x=L.useMemo(function(){return y?d.palette.accents_1:v?d.palette.accents_2:d.palette.background},[v,y,d.palette]),w=L.useMemo(function(){return y||f||v?x:d.palette.accents_1},[v,y,d.palette,f,x]),b=L.useMemo(function(){return y?d.palette.accents_4:v?d.palette.foreground:d.palette.accents_5},[v,y,d.palette]),A=function(k){l||(k.stopPropagation(),k.nativeEvent.stopImmediatePropagation(),k.preventDefault(),!(y||f)&&p&&p(n))};return E.createElement("div",ye({onClick:A},$e(c),{className:I.dynamic([["199367556",[x,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]]])+" "+"option ".concat(o?"divider":""," ").concat(a?"label":""," ").concat(r)}),E.createElement(Qx,{height:h.height(2.25)},i),E.createElement(I,{id:"199367556",dynamic:[x,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]},".option.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:100%;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;background-color:".concat(x,";color:").concat(b,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:").concat(y?"not-allowed":"pointer",";-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;--select-font-size:").concat(h.font(.75),";font-size:var(--select-font-size);width:").concat(h.width(1,"100%"),";height:").concat(h.height(2.25),";padding:").concat(h.pt(0)," ").concat(h.pr(.667)," ").concat(h.pb(0)," ").concat(h.pl(.667),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.option.__jsx-style-dynamic-selector:hover{background-color:").concat(w,";color:").concat(d.palette.accents_7,";}.divider.__jsx-style-dynamic-selector{line-height:0;overflow:hidden;border-top:1px solid ").concat(d.palette.border,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(1,0),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(.5)," ").concat(h.mr(0)," ").concat(h.mb(.5)," ").concat(h.ml(0),";}.label.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_7,";border-bottom:1px solid ").concat(d.palette.border,";text-transform:capitalize;cursor:default;font-size:").concat(h.font(.875),";width:").concat(h.width(1,"100%"),";font-weight:500;}")))};y1.defaultProps=_te;y1.displayName="GeistSelectOption";var yte=Ge(y1);Sc.Option=yte;var vte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},s=L.useRef(!1),o=ui(0),a=Fe(o,3),l=a[1],c=a[2],d=ui(0),u=Fe(d,3),h=u[1],g=u[2],p=function(){return{startX:c.current,currentX:g.current}},m=function(v){v.stopPropagation(),v.stopImmediatePropagation(),s.current=!0,!(!t||!t.current)&&(l(t.current.getBoundingClientRect().x),r(p()))},_=function(v){s.current&&(v.type==="touchmove"?h(v.changedTouches[0].clientX):h(v.clientX),n(p()))},y=function(){s.current&&(s.current=!1,i(p()))};L.useEffect(function(){if(!(!t||!t.current))return t.current.addEventListener("mousedown",m),t.current.addEventListener("touchstart",m),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",y),window.addEventListener("touchend",y),function(){window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",y),window.removeEventListener("touchend",y),!(!t||!t.current)&&(t.current.removeEventListener("mousedown",m),t.current.removeEventListener("touchstart",m))}},[t])},xte={left:0,disabled:!1,isClick:!1},v1=E.forwardRef(function(e,t){var n=e.children,r=e.disabled,i=e.left,s=e.isClick,o=ze();return E.createElement("div",{ref:t,className:I.dynamic([["3479628597",[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]]])+" "+"dot ".concat(r?"disabled":""," ").concat(s?"click":"")},n,E.createElement(I,{id:"3479628597",dynamic:[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]},".dot.__jsx-style-dynamic-selector{position:absolute;left:".concat(i,"%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);height:calc(var(--slider-font-size) * 1.25);min-width:calc(var(--slider-font-size) * 1.25);line-height:calc(var(--slider-font-size) * 1.25);border-radius:calc(var(--slider-font-size) * 0.625);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:700;font-size:calc(var(--slider-font-size) * 0.75);z-index:100;background-color:").concat(o.palette.success,";color:").concat(o.palette.background,";text-align:center;padding:0 calc(0.57 * var(--slider-font-size));}.dot.disabled.__jsx-style-dynamic-selector{cursor:not-allowed !important;background-color:").concat(o.palette.accents_2,";color:").concat(o.palette.accents_4,";}.dot.click.__jsx-style-dynamic-selector{-webkit-transition:all 200ms ease;transition:all 200ms ease;}.dot.__jsx-style-dynamic-selector:hover{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}.dot.__jsx-style-dynamic-selector:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}")))});v1.defaultProps=xte;v1.displayName="GeistSliderDot";var bte=function(t,n,r){var i=n-t,s=i%r?Math.ceil:Math.floor,o=s(i/r)-1;return o>=99?[]:Gr(new Array(o)).map(function(a,l){return r*(l+1)*100/i})},wte=function(t){var n=t.step,r=t.max,i=t.min,s=ze(),o=L.useMemo(function(){return bte(i,r,n)},[i,r,n]);return E.createElement(E.Fragment,null,o.map(function(a,l){return E.createElement("span",{key:"".concat(a,"-").concat(l),style:{left:"".concat(a,"%")},className:I.dynamic([["324900419",[s.palette.background]]])})}),E.createElement(I,{id:"324900419",dynamic:[s.palette.background]},"span.__jsx-style-dynamic-selector{position:absolute;width:2px;height:100%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:".concat(s.palette.background,";}")))},Ete=function(t,n){var r={default:{bg:t.accents_8},secondary:{bg:t.accents_8},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},Ste=["hideValue","disabled","type","step","max","min","initialValue","value","onChange","className","showMarkers"],Ate={hideValue:!1,type:"default",initialValue:0,step:1,min:0,max:100,disabled:!1,showMarkers:!1,className:""},e_=function(t){if(!t||!t.current)return 0;var n=t.current.getBoundingClientRect();return n.width||n.right-n.left},Cte=function(t,n,r,i,s){if(i<0)return n;if(i>s)return t;var o=s/(t-n)*r;if(o<=0)return n;var a=Math.round(i/o)*r+n;return Number.isInteger(a)?a:Number.parseFloat(a.toFixed(1))},x1=function(t){var n=t.hideValue,r=t.disabled,i=t.type,s=t.step,o=t.max,a=t.min,l=t.initialValue,c=t.value,d=t.onChange,u=t.className,h=t.showMarkers,g=Re(t,Ste),p=ze(),m=Ve(),_=m.SCALES,y=L.useState(l),f=Fe(y,2),v=f[0],x=f[1],w=ui(0),b=Fe(w,3),A=b[1],S=b[2],k=ui(0),C=Fe(k,3),N=C[1],D=C[2],j=L.useState(!1),U=Fe(j,2),F=U[0],T=U[1],q=L.useRef(null),V=L.useRef(null),J=L.useMemo(function(){return(v-a)/(o-a)*100},[v,o,a]),oe=function(me){var _e=e_(q),nt=(me-a)/(o-a)*_e;N(nt)},ie=L.useCallback(function(Xe){var me=Cte(o,a,s,Xe,S.current);x(me),d&&d(me)},[o,a,s,S]),pe=L.useMemo(function(){return Ete(p.palette,i)},[p.palette,i]),Ce=pe.bg,ce=function(me){if(!r){var _e=me.currentX-me.startX,nt=_e+D.current;ie(nt)}},ve=function(){T(!1),A(e_(q))},De=function(me){if(!r){var _e=me.currentX-me.startX,nt=_e+D.current,rt=nt<0?0:Math.min(nt,S.current);N(rt)}},qe=function(me){if(!r&&!(!q||!q.current)){T(!0),A(e_(q));var _e=me.clientX-q.current.getBoundingClientRect().x;N(_e),ie(_e)}};return vte(V,ce,ve,De),L.useEffect(function(){c!==void 0&&c!==v&&x(c)},[c,v]),L.useEffect(function(){l&&oe(l)},[]),E.createElement("div",ye({onClick:qe,ref:q},$e(g),{className:I.dynamic([["219401708",[r?p.palette.accents_2:Ce,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]]])+" "+"slider ".concat(u)}),E.createElement(v1,{disabled:r,ref:V,isClick:F,left:J},n||v),h&&E.createElement(wte,{max:o,min:a,step:s}),E.createElement(I,{id:"219401708",dynamic:[r?p.palette.accents_2:Ce,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]},".slider.__jsx-style-dynamic-selector{border-radius:50px;background-color:".concat(r?p.palette.accents_2:Ce,";position:relative;cursor:").concat(r?"not-allow":"pointer",";--slider-font-size:").concat(_.font(1),";width:").concat(_.width(1,"100%"),";height:").concat(_.height(.5),";padding:").concat(_.pt(0)," ").concat(_.pr(0)," ").concat(_.pb(0)," ").concat(_.pl(0),";margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}")))};x1.defaultProps=Ate;x1.displayName="GeistSlider";var kte=Ge(x1),Tte=function(t,n,r){var i={default:{color:n.foreground,border:n.border,bgColor:n.background},success:{color:n.success,border:n.success,bgColor:n.background},warning:{color:n.warning,border:n.warning,bgColor:n.background},error:{color:n.error,border:n.error,bgColor:n.background},secondary:{color:n.secondary,border:n.secondary,bgColor:n.background},lite:{color:n.foreground,border:n.border,bgColor:n.accents_1},dark:{color:n.background,border:n.foreground,bgColor:n.foreground}},s=["success","warning","error","secondary"],o=i[t],a=s.includes(t);return!r||!a?o:ye({},o,{color:o.bgColor,bgColor:o.color})},i3=function(){return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentcolor"},className:"jsx-418323402"},E.createElement("path",{d:"M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z",className:"jsx-418323402"}),E.createElement(I,{id:"418323402"},"svg.jsx-418323402{width:calc(var(--snippet-font-size) * 1.69);height:calc(var(--snippet-font-size) * 1.69);}"))};i3.displayName="GeistSnippetIcon";var Lte=E.memo(i3),Nte={onError:function(){return Ci("Failed to copy.","use-clipboard")}},Ite=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nte,n=nu("clipboard"),r=function(o,a){if(!(!o||!a)){var l=window.getSelection();if(l){o.style.whiteSpace="pre",o.textContent=a;var c=window.document.createRange();l.removeAllRanges(),c.selectNode(o),l.addRange(c);try{window.document.execCommand("copy")}catch{t.onError&&t.onError()}l.removeAllRanges(),o&&(o.textContent="")}}},i=L.useCallback(function(s){r(n,s)},[n]);return{copy:i}},Pte={delay:2e3},t_=[],EC=0,n_,Mte=function(){var t=WJ(),n=t.updateToasts,r=t.toastHovering,i=t.toasts,s=ui(r),o=Fe(s,3),a=o[1],l=o[2];L.useEffect(function(){return a(r)},[r]);var c=function(h,g){g<=EC||(clearTimeout(n_),EC=g,n_=window.setTimeout(function(){n(function(p){return t_.length<p.length?p:(t_=[],[])}),clearTimeout(n_)},h+350))},d=function(h){var g="toast-".concat(sR()),p=h.delay||Pte.delay,m=function(f,v){n(function(x){return x.map(function(w){return w.id!==f?w:ye({},w,{willBeDestroy:!0})})}),t_.push(f),c(v,performance.now())};n(function(y){var f=ye({},h,{id:g,delay:p,cancel:function(v){function x(){return v.apply(this,arguments)}return x.toString=function(){return v.toString()},x}(function(){return m(g,p)})});return[].concat(Gr(y),[f])});var _=function y(f,v){var x=window.setTimeout(function(){if(l.current)return y(f,v),clearTimeout(x);m(f,v),clearTimeout(x)},v)};_(g,p)};return[i,d]},Fte=["type","filled","children","symbol","toastText","toastType","text","copy","className"],Rte={filled:!1,symbol:"$",toastText:"Copied to clipboard!",toastType:"success",copy:"default",type:"default",className:""},Dte=function(t){return t.reduce(function(n,r){return r?n?"".concat(n,`
`).concat(r):r:n},"")},b1=function(t){var n=t.type,r=t.filled,i=t.children,s=t.symbol,o=t.toastText,a=t.toastType,l=t.text,c=t.copy,d=t.className,u=Re(t,Fte),h=ze(),g=Ve(),p=g.SCALES,m=Ite(),_=m.copy,y=Mte(),f=Fe(y,2),v=f[1],x=L.useRef(null),w=l&&Array.isArray(l),b=L.useMemo(function(){return Tte(n,h.palette,r)},[n,h.palette,r]),A=L.useMemo(function(){return c!=="prevent"},[c]),S=L.useMemo(function(){return w?Dte(l):i?x.current?x.current.textContent:"":l},[x.current,i,l]),k=L.useMemo(function(){var N=s.trim();return N?"".concat(N," "):""},[s]),C=function(){!S||!A||(_(S),c!=="silent"&&v({text:o,type:a}))};return E.createElement("div",ye({},$e(u),{className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,k,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" "+"snippet ".concat(d)}),w?l.map(function(N,D){return E.createElement("pre",{key:"snippet-".concat(D,"-").concat(N),className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,k,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},N)}):E.createElement("pre",{ref:x,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,k,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},i||l),A&&E.createElement("div",{onClick:C,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,k,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" copy"},E.createElement(Lte,null)),E.createElement(I,{id:"1687463382",dynamic:[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,k,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]},".snippet.__jsx-style-dynamic-selector{position:relative;max-width:100%;color:".concat(b.color,";background-color:").concat(b.bgColor,";border:1px solid ").concat(b.border,";border-radius:").concat(h.layout.radius,";--snippet-font-size:").concat(p.font(.8125),";--snippet-padding-top:").concat(p.pt(.667),";font-size:var(--snippet-font-size);width:").concat(p.width(1,"initial"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(.667)," ").concat(p.pr(2.667)," ").concat(p.pb(.667)," ").concat(p.pl(.667),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}pre.__jsx-style-dynamic-selector{margin:0;padding:0;border:none;background-color:transparent;color:").concat(b.color,";font-size:inherit;}pre.__jsx-style-dynamic-selector::before{content:'").concat(k,"';-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}pre.__jsx-style-dynamic-selector *{margin:0;padding:0;font-size:inherit;color:inherit;}.copy.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;bottom:0;height:calc(100% - 2px);background-color:").concat(b.bgColor,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:").concat(w?"flex-start":"center",";-webkit-box-align:").concat(w?"flex-start":"center",";-ms-flex-align:").concat(w?"flex-start":"center",";align-items:").concat(w?"flex-start":"center",";width:calc(3.281 * var(--snippet-font-size));color:inherit;-webkit-transition:opacity 0.2s ease 0s;transition:opacity 0.2s ease 0s;border-radius:").concat(h.layout.radius,";cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:").concat(w?"var(--snippet-padding-top)":0,";}.copy.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};b1.defaultProps=Rte;b1.displayName="GeistSnippet";Ge(b1);var zte=["inline","className"],Ote={inline:!1,className:""},w1=function(t){var n=t.inline,r=t.className,i=Re(t,zte),s=Ve(),o=s.SCALES;return E.createElement("span",ye({},$e(i),{className:I.dynamic([["1994396435",[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")}),E.createElement(I,{id:"1994396435",dynamic:[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"span.__jsx-style-dynamic-selector{display:".concat(n?"inline-block":"block",";width:").concat(o.width(1),";height:").concat(o.height(1),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};w1.defaultProps=Ote;w1.displayName="GeistSpacer";Ge(w1);var Bte=["className"],jte={className:""},$te=function(t){return Gr(new Array(12)).map(function(n,r){return E.createElement("span",{key:"spinner-".concat(r),className:I.dynamic([["3296107463",[t.palette.foreground,t.layout.radius]]])},E.createElement(I,{id:"3296107463",dynamic:[t.palette.foreground,t.layout.radius]},"span.__jsx-style-dynamic-selector{background-color:".concat(t.palette.foreground,";position:absolute;top:-3.9%;width:24%;height:8%;left:-10%;border-radius:").concat(t.layout.radius,";-webkit-animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;}span.__jsx-style-dynamic-selector:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s;-webkit-transform:rotate(0deg) translate(146%);-ms-transform:rotate(0deg) translate(146%);transform:rotate(0deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s;-webkit-transform:rotate(30deg) translate(146%);-ms-transform:rotate(30deg) translate(146%);transform:rotate(30deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s;-webkit-transform:rotate(60deg) translate(146%);-ms-transform:rotate(60deg) translate(146%);transform:rotate(60deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(4){-webkit-animation-delay:-0.9s;animation-delay:-0.9s;-webkit-transform:rotate(90deg) translate(146%);-ms-transform:rotate(90deg) translate(146%);transform:rotate(90deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(5){-webkit-animation-delay:-0.8s;animation-delay:-0.8s;-webkit-transform:rotate(120deg) translate(146%);-ms-transform:rotate(120deg) translate(146%);transform:rotate(120deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(6){-webkit-animation-delay:-0.7s;animation-delay:-0.7s;-webkit-transform:rotate(150deg) translate(146%);-ms-transform:rotate(150deg) translate(146%);transform:rotate(150deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(7){-webkit-animation-delay:-0.6s;animation-delay:-0.6s;-webkit-transform:rotate(180deg) translate(146%);-ms-transform:rotate(180deg) translate(146%);transform:rotate(180deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(8){-webkit-animation-delay:-0.5s;animation-delay:-0.5s;-webkit-transform:rotate(210deg) translate(146%);-ms-transform:rotate(210deg) translate(146%);transform:rotate(210deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(9){-webkit-animation-delay:-0.4s;animation-delay:-0.4s;-webkit-transform:rotate(240deg) translate(146%);-ms-transform:rotate(240deg) translate(146%);transform:rotate(240deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(10){-webkit-animation-delay:-0.3s;animation-delay:-0.3s;-webkit-transform:rotate(270deg) translate(146%);-ms-transform:rotate(270deg) translate(146%);transform:rotate(270deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(11){-webkit-animation-delay:-0.2s;animation-delay:-0.2s;-webkit-transform:rotate(300deg) translate(146%);-ms-transform:rotate(300deg) translate(146%);transform:rotate(300deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(12){-webkit-animation-delay:-0.1s;animation-delay:-0.1s;-webkit-transform:rotate(330deg) translate(146%);-ms-transform:rotate(330deg) translate(146%);transform:rotate(330deg) translate(146%);}@-webkit-keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}@keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}")))})},E1=function(t){var n=t.className,r=Re(t,Bte),i=ze(),s=Ve(),o=s.SCALES;return E.createElement("div",ye({},$e(r),{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"spinner ".concat(n)}),E.createElement("div",{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" container"},$te(i)),E.createElement(I,{id:"1153799566",dynamic:[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".spinner.__jsx-style-dynamic-selector{display:block;box-sizing:border-box;width:".concat(o.width(1.25),";height:").concat(o.height(1.25),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.container.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;left:50%;top:50%;}")))};E1.defaultProps=jte;E1.displayName="GeistSpinner";Ge(E1);var Ute={className:""},Vte=function(t,n){var r=n.filter(function(o){return!o.width}).length,i=n.reduce(function(o,a){return a.width?o+a.width:o},0),s=(t-i)/r;return s<=0?E.createElement("colgroup",null):E.createElement("colgroup",null,n.map(function(o,a){return E.createElement("col",{key:"colgroup-".concat(a),width:o.width||s})}))},S1=function(t){var n=ze(),r=t,i=r.columns,s=r.width,o=L.useMemo(function(){return i.find(function(l){return!!l.width})},[i]),a=L.useMemo(function(){return o?Vte(s,i):E.createElement("colgroup",null)},[o,s]);return E.createElement(E.Fragment,null,a,E.createElement("thead",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},E.createElement("tr",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},i.map(function(l,c){return E.createElement("th",{key:"table-th-".concat(l.prop,"-").concat(c),className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" "+(l.className||"")},E.createElement("div",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" thead-box"},l.label))}))),E.createElement(I,{id:"134865897",dynamic:[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]},"thead.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;font-size:inherit;}th.__jsx-style-dynamic-selector{padding:0 0.5em;font-size:calc(0.75 * var(--table-font-size));font-weight:normal;text-align:left;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;vertical-align:middle;min-height:calc(2.5 * var(--table-font-size));color:".concat(n.palette.accents_5,";background:").concat(n.palette.accents_1,";border-bottom:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-radius:0;}th.__jsx-style-dynamic-selector:nth-child(1){border-bottom:1px solid ").concat(n.palette.border,";border-left:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-left-radius:").concat(n.layout.radius,";border-bottom-left-radius:").concat(n.layout.radius,";}th.__jsx-style-dynamic-selector:last-child{border-bottom:1px solid ").concat(n.palette.border,";border-right:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-right-radius:").concat(n.layout.radius,";border-bottom-right-radius:").concat(n.layout.radius,";}.thead-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-align:center;min-height:calc(2.5 * var(--table-font-size));text-transform:uppercase;}")))};S1.defaultProps=Ute;S1.displayName="GeistTableHead";var Gte=function(t){var n=t.columns,r=t.row,i=t.rowIndex,s=t.emptyText,o=t.onCellClick;return E.createElement(E.Fragment,null,n.map(function(a,l){var c=r[a.prop],d=c||s,u=a.renderHandler(c,r,i);return E.createElement("td",{key:"row-td-".concat(l,"-").concat(a.prop),onClick:function(){return o&&o(c,i,l)},className:a.className},E.createElement("div",{className:"cell"},u||d))}))},Hte={columns:[],updateColumn:function(){}},s3=E.createContext(Hte),o3=function(){return E.useContext(s3)},Wte={className:""},A1=function(t){var n=t.data,r=t.hover,i=t.emptyText,s=t.onRow,o=t.onCell,a=t.rowClassName,l=ze(),c=o3(),d=c.columns,u=function(g,p){s&&s(g,p)};return E.createElement("tbody",{className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])},n.map(function(h,g){var p=a(h,g);return E.createElement("tr",{key:"tbody-row-".concat(g),onClick:function(){return u(h,g)},className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])+" "+"".concat(r?"hover":""," ").concat(p)},E.createElement(Gte,{columns:d,row:h,rowIndex:g,emptyText:i,onCellClick:o}))}),E.createElement(I,{id:"1102342339",dynamic:[l.palette.accents_1,l.palette.border,l.palette.accents_6]},"tr.__jsx-style-dynamic-selector{-webkit-transition:background-color 0.25s ease;transition:background-color 0.25s ease;font-size:inherit;}tr.hover.__jsx-style-dynamic-selector:hover{background-color:".concat(l.palette.accents_1,";}tr.__jsx-style-dynamic-selector td{padding:0 0.5em;border-bottom:1px solid ").concat(l.palette.border,";color:").concat(l.palette.accents_6,";font-size:calc(0.875 * var(--table-font-size));text-align:left;}tr.__jsx-style-dynamic-selector .cell{min-height:calc(3.125 * var(--table-font-size));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;}")))};A1.defaultProps=Wte;A1.displayName="GeistTableBody";var qte={className:"",render:function(){}},wm=function(t){var n=t,r=n.children,i=n.prop,s=n.label,o=n.width,a=n.className,l=n.render,c=o3(),d=c.updateColumn,u="".concat(i).trim();return u||Ci('The props "prop" is required.',"Table.Column"),L.useEffect(function(){d({label:r||s,prop:u,width:o,className:a,renderHandler:l})},[r,s,i,o,a,l]),null};wm.defaultProps=qte;wm.displayName="GeistTableColumn";var Xte=["children","data","initialData","hover","emptyText","onRow","onCell","onChange","className","rowClassName"],Yte={hover:!0,initialData:[],emptyText:"",className:"",rowClassName:function(){return""}};function Em(e){var t=e,n=t.children,r=t.data,i=t.initialData,s=t.hover,o=t.emptyText,a=t.onRow,l=t.onCell;t.onChange;var c=t.className,d=t.rowClassName,u=Re(t,Xte),h=Ve(),g=h.SCALES,p=L.useRef(null),m=IR(p),_=Fe(m,2),y=_[0].width,f=_[1],v=L.useState([]),x=Fe(v,2),w=x[0],b=x[1],A=L.useState(i),S=Fe(A,2),k=S[0],C=S[1],N=function(U){b(function(F){var T=F.find(function(q){return q.prop===U.prop});return T?F.map(function(q){return q.prop!==U.prop?q:U}):[].concat(Gr(F),[U])})},D=L.useMemo(function(){return{columns:w,updateColumn:N}},[w]);return L.useEffect(function(){typeof r>"u"||C(r)},[r]),eb(function(){return f()}),E.createElement(s3.Provider,{value:D},E.createElement("table",ye({ref:p},$e(u),{className:I.dynamic([["2132340556",[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]]])+" "+(c||"")}),E.createElement(S1,{columns:w,width:y}),E.createElement(A1,{data:k,hover:s,emptyText:o,onRow:a,onCell:l,rowClassName:d}),n,E.createElement(I,{id:"2132340556",dynamic:[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]},"table.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;--table-font-size:".concat(g.font(1),";font-size:var(--table-font-size);width:").concat(g.width(1,"100%"),";height:").concat(g.height(1,"auto"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}"))))}Em.defaultProps=Yte;Em.displayName="GeistTable";Em.Column=wm;var Zte=Ge(Em);Zte.Column=wm;var Qte={inGroup:!1},a3=E.createContext(Qte),Kte=function(){return E.useContext(a3)},Jte=["initialValue","value","hideDivider","children","onChange","className"],ene={className:"",hideDivider:!1},C1=function(t){var n=t.initialValue,r=t.value,i=t.hideDivider,s=t.children,o=t.onChange,a=t.className,l=Re(t,Jte),c=ze(),d=Ve(),u=d.SCALES,h=L.useState(n),g=Fe(h,2),p=g[0],m=g[1],_=L.useState([]),y=Fe(_,2),f=y[0],v=y[1],x=function(S){v(function(k){var C=k.find(function(N){return N.value===S.value});return C?k.map(function(N){return N.value!==S.value?N:ye({},N,S)}):[].concat(Gr(k),[S])})},w=L.useMemo(function(){return{register:x,currentValue:p,inGroup:!0}},[p]);L.useEffect(function(){typeof r>"u"||m(r)},[r]);var b=function(S){m(S),o&&o(S)};return E.createElement(a3.Provider,{value:w},E.createElement("div",ye({},$e(l),{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"tabs ".concat(a)}),E.createElement("header",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])},E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"scroll-container ".concat(i?"hide-divider":"")},f.map(function(A){var S=A.cell,k=A.value;return E.createElement(S,{key:k,value:p,onClick:b,className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])})}))),E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" content"},s),E.createElement(I,{id:"4088875350",dynamic:[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]},".tabs.__jsx-style-dynamic-selector{font-size:".concat(u.font(1),";width:").concat(u.width(1,"initial"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-y:hidden;overflow-x:scroll;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;position:relative;}.scroll-container.__jsx-style-dynamic-selector{width:100%;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid ").concat(c.palette.border,";}header.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}.hide-divider.__jsx-style-dynamic-selector{border-color:transparent;}.content.__jsx-style-dynamic-selector{padding-top:0.625rem;}"))))};C1.defaultProps=ene;C1.displayName="GeistTabs";var l3=Ge(C1),tne={disabled:!1},k1=function(t){var n=t.children,r=t.value,i=t.label,s=t.disabled,o=ze(),a=Ve(),l=a.SCALES,c=Kte(),d=c.register,u=c.currentValue,h=L.useMemo(function(){return u===r},[u,r]),g=function(m){var _=m.value,y=m.onClick,f=function(){s||y&&y(r)};return E.createElement("div",{role:"button",key:r,onClick:f,className:I.dynamic([["1613686401",[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]]])+" "+"tab ".concat(r===_?"active":""," ").concat(s?"disabled":"")},i,E.createElement(I,{id:"1613686401",dynamic:[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]},".tab.__jsx-style-dynamic-selector{box-sizing:border-box;cursor:pointer;outline:0;-webkit-transition:all 200ms ease;transition:all 200ms ease;text-transform:capitalize;white-space:nowrap;color:".concat(o.palette.accents_6,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:").concat(l.font(1),";line-height:1.25em;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(.334)," ").concat(l.pr(.218)," ").concat(l.pb(.334)," ").concat(l.pl(.218),";margin:").concat(l.mt(0)," ").concat(l.mr(.5334)," ").concat(l.mb(0)," ").concat(l.ml(.5334),";}.tab.__jsx-style-dynamic-selector:after{position:absolute;content:'';bottom:-1px;left:0;right:0;width:100%;height:2px;border-radius:4px;-webkit-transform:scaleX(0.75);-ms-transform:scaleX(0.75);transform:scaleX(0.75);background-color:transparent;-webkit-transition:all 200ms ease;transition:all 200ms ease;}.tab.active.__jsx-style-dynamic-selector:after{background-color:").concat(o.palette.foreground,";-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);}.tab.__jsx-style-dynamic-selector svg{max-height:1em;margin-right:5px;}.tab.__jsx-style-dynamic-selector:first-of-type{margin-left:0;}.tab.active.__jsx-style-dynamic-selector{color:").concat(o.palette.foreground,";}.tab.disabled.__jsx-style-dynamic-selector{color:").concat(o.palette.accents_3,";cursor:not-allowed;}")))};return g.displayName="GeistTabsInternalCell",L.useEffect(function(){d&&d({value:r,cell:g})},[r,i,s,g]),h?E.createElement(E.Fragment,null,n):null};k1.defaultProps=tne;k1.displayName="GeistTabsItem";var c3=Ge(k1);l3.Item=c3;l3.Tab=c3;var nne=["type","children","className","invert"],rne={type:"default",invert:!1,className:""},ine=function(t,n,r){var i={default:{color:n.foreground},success:{color:n.success},warning:{color:n.warning},error:{color:n.error},secondary:{color:n.secondary},dark:{color:n.foreground,bgColor:n.background},lite:{color:n.foreground,bgColor:n.accents_2}},s=r||t==="lite",o=ye({},i[t],{bgColor:i[t].bgColor||n.background,borderColor:s?"transparent":i[t].color});return r?ye({},o,{color:o.bgColor,bgColor:o.color}):o},T1=function(t){var n=t.type,r=t.children,i=t.className,s=t.invert,o=Re(t,nne),a=ze(),l=Ve(),c=l.SCALES,d=L.useMemo(function(){return ine(n,a.palette,s)},[n,a.palette,s]),u=d.color,h=d.bgColor,g=d.borderColor;return E.createElement("span",ye({},$e(o),{className:I.dynamic([["3652870078",[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])+" "+(i||"")}),r,E.createElement(I,{id:"3652870078",dynamic:[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"span.__jsx-style-dynamic-selector{display:inline-block;border:1px solid ".concat(g,";background-color:").concat(h,";color:").concat(u,";box-sizing:border-box;line-height:1em;border-radius:").concat(c.height(.3125),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1.75),";padding:").concat(c.pt(.375)," ").concat(c.pr(.375)," ").concat(c.pb(.375)," ").concat(c.pl(.375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}")))};T1.defaultProps=rne;T1.displayName="GeistTag";Ge(T1);var sne=["children","tag","className","type"],one={type:"default",className:""},ane=function(t,n){var r={default:"inherit",secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},Sm=function(t){var n=t.children,r=t.tag,i=t.className,s=t.type,o=Re(t,sne),a=r,l=ze(),c=Ve(),d=c.SCALES,u=c.getScaleableProps,h=u("font"),g=u(["margin","marginLeft","marginRight","mx","ml","mr"]),p=u(["margin","marginTop","marginBottom","my","mt","mb"]),m=u(["padding","paddingLeft","paddingRight","pl","pr","px"]),_=u(["padding","paddingTop","paddingBottom","pt","pb","py"]),y=L.useMemo(function(){return ane(s,l.palette)},[s,l.palette]),f=L.useMemo(function(){var v=[{value:g,className:"mx"},{value:p,className:"my"},{value:m,className:"px"},{value:_,className:"py"},{value:h,className:"font"}],x=v.reduce(function(w,b){return typeof b.value>"u"?w:"".concat(w," ").concat(b.className)},"");return"".concat(x," ").concat(i).trim()},[g,p,m,_,h,i]);return E.createElement(a,ye({},$e(o),{className:I.dynamic([["3155699851",[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]]])+" "+(f||"")}),n,E.createElement(I,{id:"3155699851",dynamic:[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]},"".concat(r,".__jsx-style-dynamic-selector{color:").concat(y,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";}.font.__jsx-style-dynamic-selector{font-size:").concat(d.font(1,"inherit"),";}.mx.__jsx-style-dynamic-selector{margin-left:").concat(d.ml(0,"revert"),";margin-right:").concat(d.mr(0,"revert"),";}.my.__jsx-style-dynamic-selector{margin-top:").concat(d.mt(0,"revert"),";margin-bottom:").concat(d.mb(0,"revert"),";}.px.__jsx-style-dynamic-selector{padding-left:").concat(d.pl(0,"revert"),";padding-right:").concat(d.pr(0,"revert"),";}.py.__jsx-style-dynamic-selector{padding-top:").concat(d.pt(0,"revert"),";padding-bottom:").concat(d.pb(0,"revert"),";}")))};Sm.defaultProps=one;Sm.displayName="GeistTextChild";var lne=["h1","h2","h3","h4","h5","h6","p","b","small","i","span","del","em","blockquote","children","className"],cne={h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,p:!1,b:!1,small:!1,i:!1,span:!1,del:!1,em:!1,blockquote:!1,className:"",type:"default"},dne=function e(t,n){if(!t.length)return n;var r=t.slice(1,t.length);return E.createElement(Sm,{tag:t[0]},e(r,n))},L1=function(t){var n=t.h1,r=t.h2,i=t.h3,s=t.h4,o=t.h5,a=t.h6,l=t.p,c=t.b,d=t.small,u=t.i,h=t.span,g=t.del,p=t.em,m=t.blockquote,_=t.children,y=t.className,f=Re(t,lne),v={h1:n,h2:r,h3:i,h4:s,h5:o,h6:a,p:l,blockquote:m},x={span:h,small:d,b:c,em:p,i:u,del:g},w=Object.keys(v).filter(function(C){return v[C]}),b=Object.keys(x).filter(function(C){return x[C]}),A=L.useMemo(function(){return w[0]?w[0]:b[0]?b[0]:"p"},[w,b]),S=b.filter(function(C){return C!==A}),k=L.useMemo(function(){return S.length?dne(S,_):_},[S,_]);return E.createElement(Sm,ye({className:y,tag:A},f),k)};L1.defaultProps=cne;L1.displayName="GeistText";Ge(L1);var une=function(t,n){var r={default:{bg:t.success},secondary:{bg:t.secondary},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},hne=["initialChecked","checked","disabled","onChange","type","className"],gne={type:"default",disabled:!1,initialChecked:!1,className:""},N1=function(t){var n=t.initialChecked,r=t.checked,i=t.disabled,s=t.onChange,o=t.type,a=t.className,l=Re(t,hne),c=ze(),d=Ve(),u=d.SCALES,h=L.useState(n),g=Fe(h,2),p=g[0],m=g[1],_=L.useCallback(function(v){if(!i){var x={target:{checked:!p},stopPropagation:v.stopPropagation,preventDefault:v.preventDefault,nativeEvent:v};m(!p),s&&s(x)}},[i,p,s]),y=L.useMemo(function(){return une(c.palette,o)},[c.palette,o]),f=y.bg;return L.useEffect(function(){r!==void 0&&m(r)},[r]),E.createElement("label",ye({},$e(l),{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+(a||"")}),E.createElement("input",{type:"checkbox",disabled:i,checked:p,onChange:_,className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])}),E.createElement("div",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+"toggle ".concat(p?"checked":""," ").concat(i?"disabled":"")},E.createElement("span",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" inner"})),E.createElement(I,{id:"4106206985",dynamic:[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]},"label.__jsx-style-dynamic-selector{-webkit-tap-highlight-color:transparent;display:inline-block;vertical-align:middle;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:".concat(i?"not-allowed":"pointer",";--toggle-font-size:").concat(u.font(1),";--toggle-height:").concat(u.height(.875),";width:").concat(u.width(1.75),";height:var(--toggle-height);padding:").concat(u.pt(.1875)," ").concat(u.pr(0)," ").concat(u.pb(.1875)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}input.__jsx-style-dynamic-selector{overflow:hidden;visibility:hidden;height:0;opacity:0;width:0;position:absolute;background-color:transparent;z-index:-1;}.toggle.__jsx-style-dynamic-selector{height:var(--toggle-height);width:100%;border-radius:var(--toggle-height);-webkit-transition-delay:0.12s;transition-delay:0.12s;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-property:background,border;transition-property:background,border;-webkit-transition-timing-function:cubic-bezier(0,0,0.2,1);transition-timing-function:cubic-bezier(0,0,0.2,1);position:relative;border:1px solid transparent;background-color:").concat(c.palette.accents_2,";padding:0;}.inner.__jsx-style-dynamic-selector{width:calc(var(--toggle-height) - 2px);height:calc(var(--toggle-height) - 2px);position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:1px;box-shadow:rgba(0,0,0,0.2) 0 1px 2px 0,rgba(0,0,0,0.1) 0 1px 3px 0;-webkit-transition:left 280ms cubic-bezier(0,0,0.2,1);transition:left 280ms cubic-bezier(0,0,0.2,1);border-radius:50%;background-color:").concat(c.palette.background,";}.disabled.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_2,";background-color:").concat(c.palette.accents_1,";}.disabled.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{background-color:").concat(c.palette.accents_2,";}.disabled.checked.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_4,";background-color:").concat(c.palette.accents_4,";}.checked.__jsx-style-dynamic-selector{background-color:").concat(f,";}.checked.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{left:calc(100% - (var(--toggle-height) - 2px));box-shadow:none;}")))};N1.defaultProps=gne;N1.displayName="GeistToggle";Ge(N1);var pne={width:22,height:22},I1=function(t){var n=t.color,r=t.width,i=t.height,s=ze();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement("path",{d:"M13 2v7h7",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};I1.defaultProps=pne;I1.displayName="GeistTreeFileIcon";var mne={initialExpand:!1,isImperative:!1},fne=E.createContext(mne),d3=function(){return E.useContext(fne)},u3=function(t){var n=t.count;return n===0?null:E.createElement(E.Fragment,null,Gr(new Array(n)).map(function(r,i){return E.createElement("span",{key:"indent-".concat(i),className:I.dynamic([["2622387629",[i+1]]])+" indent"},E.createElement(I,{id:"2622387629",dynamic:[i+1]},"span.indent.__jsx-style-dynamic-selector{left:calc(-1.875rem * ".concat(i+1," + 0.75rem);}")))}))},_ne=function(t,n){return E.Children.toArray(t).sort(function(r,i){return!E.isValidElement(r)||!E.isValidElement(i)?0:r.type!==i.type?r.type!==n?1:-1:"".concat(r.props.name).charCodeAt(0)-"".concat(i.props.name).charCodeAt(0)})},h3=function(t,n){return n?"".concat(n,"/").concat(t):t},g3=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},yne=["name","parentPath","level","extra","className"],vne={level:0,className:"",parentPath:""},P1=function(t){var n=t.name,r=t.parentPath,i=t.level,s=t.extra,o=t.className,a=Re(t,yne),l=ze(),c=d3(),d=c.onFileClick,u=L.useMemo(function(){return h3(n,r)},[]),h=function(p){g3(p),d&&d(u)};return E.createElement("div",ye({onClick:h},$e(a),{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" "+"file ".concat(o)}),E.createElement("div",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" names"},E.createElement(u3,{count:i}),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" icon"},E.createElement(I1,null)),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" name"},n,s&&E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" extra"},s))),E.createElement(I,{id:"4220802947",dynamic:[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]},".file.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:calc(1.875rem * ".concat(i,");}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(l.palette.accents_2,";margin-left:-1px;}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:0.5rem;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(l.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(l.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};P1.defaultProps=vne;P1.displayName="GeistTreeFile";var xne={width:22,height:22},M1=function(t){var n=t.color,r=t.width,i=t.height,s=ze();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M2.707 7.454V5.62C2.707 4.725 3.469 4 4.409 4h4.843c.451 0 .884.17 1.204.474l.49.467c.126.12.296.186.473.186h8.399c.94 0 1.55.695 1.55 1.59v.737m-18.661 0h-.354a.344.344 0 00-.353.35l.508 11.587c.015.34.31.609.668.609h17.283c.358 0 .652-.269.667-.61L22 7.805a.344.344 0 00-.353-.35h-.278m-18.662 0h18.662",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};M1.defaultProps=xne;M1.displayName="GeistTreeFolderIcon";var bne={width:12,height:12,active:!1},F1=function(t){var n=t.color,r=t.width,i=t.height,s=t.active,o=ze();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])},E.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),!s&&E.createElement("path",{d:"M12 8v8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement("path",{d:"M8 12h8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||o.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||o.palette.accents_8,";}")))};F1.defaultProps=bne;F1.displayName="GeistTreeStatusIcon";var wne=["name","children","parentPath","level","extra","className"],Ene={level:0,className:"",parentPath:""},p3=function e(t){var n=t.name,r=t.children,i=t.parentPath,s=t.level,o=t.extra,a=t.className,l=Re(t,wne),c=ze(),d=d3(),u=d.initialExpand,h=d.isImperative,g=L.useState(u),p=Fe(g,2),m=p[0],_=p[1];L.useEffect(function(){return _(u)},[]);var y=L.useMemo(function(){return h3(n,i)},[]),f=function(){return _(!m)},v=MZ(r,{parentPath:y,level:s+1},[e,P1]),x=h?v:_ne(v,e);return E.createElement("div",ye({onClick:f},$e(l),{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" "+"folder ".concat(a)}),E.createElement("div",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" names"},E.createElement(u3,{count:s}),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" status"},E.createElement(F1,{active:m})),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" icon"},E.createElement(M1,null)),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" name"},n,o&&E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" extra"},o))),E.createElement(_m,{isExpanded:m},E.createElement("div",{onClick:g3,className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" content"},x)),E.createElement(I,{id:"1983983326",dynamic:[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]},".folder.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:calc(1.875rem * ".concat(s,");position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(c.palette.accents_2,";margin-left:-1px;}.status.__jsx-style-dynamic-selector{position:absolute;left:calc(-1.125rem);top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:0.875rem;height:0.875rem;z-index:10;background-color:").concat(c.palette.background,";}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;margin-right:0.5rem;}.status.__jsx-style-dynamic-selector,.icon.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(c.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(c.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}.content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:auto;}")))};p3.defaultProps=Ene;p3.displayName="GeistTreeFolder";var Sne=ir("directory","file");Sne[0];var Ane=["src","text","name","children","className","altText"],Cne={className:""},R1=function(t){var n=t.src,r=t.text,i=t.name,s=t.children,o=t.className,a=t.altText,l=Re(t,Ane),c=ze(),d=Ve(),u=d.SCALES,h=d.getScaleableProps,g=h("scale");return E.createElement("div",ye({},$e(l),{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" "+"user ".concat(o)}),E.createElement(mR,{src:n,scale:g,text:r,alt:a}),E.createElement("div",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" names"},E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" name"},i),E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" social"},s)),E.createElement(I,{id:"3188576998",dynamic:[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]},".user.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;--user-font-size:".concat(u.font(1),";font-size:var(--user-font-size);width:").concat(u.width(1,"max-content"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(.5)," ").concat(u.pb(0)," ").concat(u.pl(.5),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.names.__jsx-style-dynamic-selector{font-size:inherit;margin-left:").concat(c.layout.gapHalf,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;white-space:nowrap;}.name.__jsx-style-dynamic-selector{font-size:calc(0.89 * var(--user-font-size));color:").concat(c.palette.accents_8,";line-height:1.1em;text-transform:capitalize;font-weight:500;max-width:15rem;text-overflow:ellipsis;overflow:hidden;}.social.__jsx-style-dynamic-selector{font-size:calc(0.75 * var(--user-font-size));color:").concat(c.palette.accents_6,";}.social.__jsx-style-dynamic-selector *:first-child{margin-top:0;}.social.__jsx-style-dynamic-selector *:last-child{margin-bottom:0;}")))};R1.defaultProps=Cne;R1.displayName="GeistUser";var kne=Ge(R1),Tne=["href","className","children"],Lne={className:""},D1=E.forwardRef(function(e,t){var n=e.href,r=e.className,i=e.children,s=Re(e,Tne);return E.createElement("div",ye({},$e(s),{className:"jsx-3263947648 "+(r||"")}),E.createElement(gb,{ref:t,href:n,color:!0,target:"_blank",rel:"noopener"},i),E.createElement(I,{id:"3263947648"},"div.jsx-3263947648 a:hover{opacity:0.7;}"))});D1.defaultProps=Lne;D1.displayName="GeistUserLink";kne.Link=D1;ir("xs","sm","md","lg","xl","mobile");ir("up","down","default");var Nne=function(t){var n=t.children,r=ze();return E.createElement(E.Fragment,null,n,E.createElement(I,{id:"2379574914",dynamic:[r.palette.background,r.palette.foreground,r.palette.background,r.font.sans,r.font.sans,r.palette.link,r.expressiveness.linkStyle,r.expressiveness.linkHoverStyle,r.layout.gapHalf,r.layout.gapHalf,r.layout.gapHalf,r.layout.gap,r.palette.foreground,r.palette.accents_4,r.palette.code,r.font.mono,r.layout.gap,r.layout.gap,r.layout.gap,r.palette.accents_2,r.layout.radius,r.font.mono,r.palette.foreground,r.palette.accents_2,r.palette.accents_1,r.layout.gap,r.layout.gap,r.palette.accents_5,r.palette.accents_1,r.layout.radius,r.palette.border,r.palette.selection,r.palette.foreground]},"html,body{background-color:".concat(r.palette.background,";color:").concat(r.palette.foreground,";}html{font-size:16px;--geist-icons-background:").concat(r.palette.background,";}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.5;margin:0;padding:0;min-height:100%;position:relative;overflow-x:hidden;font-family:").concat(r.font.sans,";}#__next{overflow-x:hidden;}*,*:before,*:after{box-sizing:inherit;text-rendering:geometricPrecision;-webkit-tap-highlight-color:transparent;}p,small{font-weight:400;color:inherit;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;font-family:").concat(r.font.sans,";}p{margin:1em 0;font-size:1em;line-height:1.625em;}small{margin:0;line-height:1.5;font-size:0.875em;}b{font-weight:600;}span{font-size:inherit;color:inherit;font-weight:inherit;}img{max-width:100%;}a{cursor:pointer;font-size:inherit;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(r.palette.link,";-webkit-text-decoration:").concat(r.expressiveness.linkStyle,";text-decoration:").concat(r.expressiveness.linkStyle,";}a:hover{-webkit-text-decoration:").concat(r.expressiveness.linkHoverStyle,";text-decoration:").concat(r.expressiveness.linkHoverStyle,";}ul,ol{padding:0;list-style-type:none;margin:").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gap,";color:").concat(r.palette.foreground,";}ol{list-style-type:decimal;}li{margin-bottom:0.625em;font-size:1em;line-height:1.625em;}ul li:before{content:'';display:inline-block;color:").concat(r.palette.accents_4,";position:absolute;margin-left:-0.9375em;}h1,h2,h3,h4,h5,h6{color:inherit;margin:0 0 0.7rem 0;}h1{font-size:3rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;line-height:1.5;font-weight:700;}h2{font-size:2.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h3{font-size:1.5rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h4{font-size:1.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h5{font-size:1rem;-webkit-letter-spacing:-0.01em;-moz-letter-spacing:-0.01em;-ms-letter-spacing:-0.01em;letter-spacing:-0.01em;font-weight:600;}h6{font-size:0.875rem;-webkit-letter-spacing:-0.005em;-moz-letter-spacing:-0.005em;-ms-letter-spacing:-0.005em;letter-spacing:-0.005em;font-weight:600;}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;color:inherit;margin:0;}button:focus,input:focus,select:focus,textarea:focus{outline:none;}code{color:").concat(r.palette.code,";font-family:").concat(r.font.mono,";font-size:0.9em;white-space:pre-wrap;}code:before,code:after{content:'\\`';}pre{padding:calc(").concat(r.layout.gap," * 0.75) ").concat(r.layout.gap,";margin:").concat(r.layout.gap," 0;border:1px solid ").concat(r.palette.accents_2,";border-radius:").concat(r.layout.radius,";font-family:").concat(r.font.mono,";white-space:pre;overflow:auto;line-height:1.5;text-align:left;font-size:13px;-webkit-overflow-scrolling:touch;}pre code{color:").concat(r.palette.foreground,";font-size:0.8125rem;line-height:1.25em;white-space:pre;}pre code:before,pre code:after{display:none;}pre p{margin:0;}pre::-webkit-scrollbar{display:none;width:0;height:0;background:transparent;}hr{border-color:").concat(r.palette.accents_2,";}details{background-color:").concat(r.palette.accents_1,";border:none;}details:focus,details:hover,details:active{outline:none;}summary{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;list-style:none;outline:none;}summary::marker,summary::before{display:none;}summary::-moz-list-bullet{font-size:0;}summary:focus,summary:hover,summary:active{outline:none;list-style:none;}blockquote{padding:calc(0.667 * ").concat(r.layout.gap,") ").concat(r.layout.gap,";color:").concat(r.palette.accents_5,";background-color:").concat(r.palette.accents_1,";border-radius:").concat(r.layout.radius,";margin:1.5em 0;border:1px solid ").concat(r.palette.border,";}blockquote *:first-child{margin-top:0;}blockquote *:last-child{margin-bottom:0;}::selection{background-color:").concat(r.palette.selection,";color:").concat(r.palette.foreground,";}")))},Ine=E.memo(Nne);Ine.flush=YF;const Pne=()=>ot.jsx("svg",{width:"1.5em",height:"1.5em",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",fr:"",children:ot.jsx("path",{d:"M6 12h12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Mne=()=>ot.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:ot.jsx("path",{d:"M 9 12 h 12 m 2 0 l -3 -3 m 3 3 l -3 3 m -10 -6 l -3 3 m 0 0 l 3 3",transform:"translate(-3,0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Fne=()=>ot.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:ot.jsx("path",{d:"M9 12h13m0 0l-3-3m3 3l-3 3",transform:"translate(-3 0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Rne=QY.map(e=>({value:e,label:e})),Dne=Sy.map(e=>({value:`${e}`,label:e})),r_=({color:e,setColor:t,hasTransparent:n})=>{const[r,i]=L.useState(Jf);L.useEffect(()=>{i(n?["none",...Jf.slice(0,-1)]:[...Jf])},[n]);const[s,o]=L.useState(e);return ot.jsx("span",{className:"colorpicker",children:r.map(a=>ot.jsx("div",{className:a===s?"selected":"",style:{width:12,height:12,borderRadius:10,backgroundColor:a==="none"?"#fff":a,margin:5,cursor:"pointer"},onClick:()=>{o(a),t&&t(a)}},a))})},zne=()=>{const{editor:e}=HF(),t=rr();function n(i){const s=t.getOptions();t.setOptions({cursor:{default:"crosshair"}}),t.events.once("mousedown",o=>{const{x:a,y:l}=t.view.screenToGraphCoordinates(o),c=i==="arrow"?NF(a,l,a,l,{...UF}):BF(a,l,0,0,"...",{...VF});setTimeout(()=>{Mr(c)&&e.startArrow(a,l,c),zi(c)&&e.startText(a,l,c)},50),e.once("add",()=>{t.setOptions(s)})})}function r(){const i=document.createElement("a");i.href=URL.createObjectURL(new Blob([JSON.stringify(e.getAnnotations())],{type:"text/plain"})),i.download="annotations.json",i.click()}return ot.jsxs(ot.Fragment,{children:[ot.jsx(qo,{placeholder:"",onClick:()=>n("arrow"),children:"Add arrow"}),ot.jsx(qo,{placeholder:"",onClick:()=>n("text"),children:"Add text"}),ot.jsx(qo,{onClick:()=>r(),placeholder:"",children:"Save"})]})},One=({minThickness:e,maxThickness:t})=>{var m;const{currentAnnotation:n,arrowStyle:r,setArrowStyle:i,textStyle:s,setTextStyle:o}=HF();function a(_){const y={head:"none",tail:"none"};_==="one"&&(y.head="arrow"),_==="both"&&(y.head="arrow",y.tail="arrow"),i({...r,...y})}function l(_){const y=uC(hC(_,0,100),e,t);i({...r,strokeWidth:y})}function c(_){i({...r,strokeColor:_})}function d(_){o({...s,font:_})}function u(_){o({...s,fontSize:parseFloat(_)})}function h(_){o({...s,background:_})}function g(_){o({...s,color:_})}function p(_){_.preventDefault(),_.stopPropagation()}return ot.jsx(NY,{children:ot.jsxs("div",{className:"ui",children:[!n&&ot.jsx("span",{className:"add-buttons",children:ot.jsx(zne,{})}),ot.jsxs("div",{className:"tweakpanel",onMouseDown:p,onClick:p,children:[n&&Mr(n)&&ot.jsxs("span",{className:"rows",children:[ot.jsx("span",{children:"Shape"}),ot.jsxs(sK,{children:[ot.jsx(qo,{placeholder:void 0,onClick:()=>a("none"),icon:ot.jsx(Pne,{})}),ot.jsx(qo,{placeholder:void 0,onClick:()=>a("one"),icon:ot.jsx(Fne,{})}),ot.jsx(qo,{placeholder:void 0,onClick:()=>a("both"),icon:ot.jsx(Mne,{})})]}),ot.jsx("span",{children:"Color"}),ot.jsx(r_,{color:r.strokeColor,setColor:_=>c(_)}),ot.jsx("span",{children:"Thickness"}),ot.jsx(kte,{min:0,max:100,onChange:_=>l(_),initialValue:Math.floor(uC(hC(r.strokeWidth||0,e,t),0,100))})]}),n&&zi(n)&&ot.jsxs("span",{className:"rows",children:[ot.jsx("span",{children:"Font"}),ot.jsx(Sc,{onChange:_=>d(_),initialValue:s.font,children:Rne.map(_=>ot.jsx(Sc.Option,{value:_.value,children:_.label},_.value))}),ot.jsx("span",{children:"Size"}),ot.jsx(Sc,{onChange:_=>u(_),initialValue:(m=s.fontSize)==null?void 0:m.toString(),children:Dne.map(_=>ot.jsx(Sc.Option,{value:_.value,children:_.label},_.value))}),ot.jsx("span",{children:"Color"}),ot.jsx(r_,{color:s.color,setColor:_=>g(_)}),ot.jsx("span",{children:"Background"}),ot.jsx(r_,{hasTransparent:!0,color:s.background,setColor:_=>h(_)})]})]})]})})};function Bne(){const[e]=L.useState({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:{x:100,y:100}}],edges:[]});return ot.jsx("div",{className:"App",children:ot.jsx(uY,{graph:e,children:ot.jsx(tZ,{children:ot.jsx(One,{minThickness:1,maxThickness:10})})})})}i_.createRoot(document.getElementById("root")).render(ot.jsx(Bne,{}))});export default jne();
