var z3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qre=z3((tie,Pa)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function O3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var iC={exports:{}},Cp={},sC={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),B3=Symbol.for("react.portal"),j3=Symbol.for("react.fragment"),U3=Symbol.for("react.strict_mode"),$3=Symbol.for("react.profiler"),V3=Symbol.for("react.provider"),G3=Symbol.for("react.context"),H3=Symbol.for("react.forward_ref"),W3=Symbol.for("react.suspense"),q3=Symbol.for("react.memo"),X3=Symbol.for("react.lazy"),vw=Symbol.iterator;function Y3(e){return e===null||typeof e!="object"?null:(e=vw&&e[vw]||e["@@iterator"],typeof e=="function"?e:null)}var oC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aC=Object.assign,lC={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=lC,this.updater=n||oC}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cC(){}cC.prototype=Nl.prototype;function Yy(e,t,n){this.props=e,this.context=t,this.refs=lC,this.updater=n||oC}var Zy=Yy.prototype=new cC;Zy.constructor=Yy;aC(Zy,Nl.prototype);Zy.isPureReactComponent=!0;var bw=Array.isArray,dC=Object.prototype.hasOwnProperty,Qy={current:null},uC={key:!0,ref:!0,__self:!0,__source:!0};function hC(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)dC.call(t,r)&&!uC.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hd,type:e,key:s,ref:o,props:i,_owner:Qy.current}}function Z3(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function Q3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ww=/\/+/g;function Bm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q3(""+e.key):t.toString(36)}function Sh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hd:case B3:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Bm(o,0):r,bw(i)?(n="",e!=null&&(n=e.replace(ww,"$&/")+"/"),Sh(i,t,n,"",function(c){return c})):i!=null&&(Ky(i)&&(i=Z3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ww,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",bw(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Bm(s,a);o+=Sh(s,t,n,l,i)}else if(l=Y3(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Bm(s,a++),o+=Sh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function du(e,t,n){if(e==null)return e;var r=[],i=0;return Sh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function K3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},Ah={transition:null},J3={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Ah,ReactCurrentOwner:Qy};Lt.Children={map:du,forEach:function(e,t,n){du(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return du(e,function(){t++}),t},toArray:function(e){return du(e,function(t){return t})||[]},only:function(e){if(!Ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lt.Component=Nl;Lt.Fragment=j3;Lt.Profiler=$3;Lt.PureComponent=Yy;Lt.StrictMode=U3;Lt.Suspense=W3;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J3;Lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=aC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Qy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dC.call(t,l)&&!uC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Hd,type:e.type,key:i,ref:s,props:r,_owner:o}};Lt.createContext=function(e){return e={$$typeof:G3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V3,_context:e},e.Consumer=e};Lt.createElement=hC;Lt.createFactory=function(e){var t=hC.bind(null,e);return t.type=e,t};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(e){return{$$typeof:H3,render:e}};Lt.isValidElement=Ky;Lt.lazy=function(e){return{$$typeof:X3,_payload:{_status:-1,_result:e},_init:K3}};Lt.memo=function(e,t){return{$$typeof:q3,type:e,compare:t===void 0?null:t}};Lt.startTransition=function(e){var t=Ah.transition;Ah.transition={};try{e()}finally{Ah.transition=t}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(e,t){return xr.current.useCallback(e,t)};Lt.useContext=function(e){return xr.current.useContext(e)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};Lt.useEffect=function(e,t){return xr.current.useEffect(e,t)};Lt.useId=function(){return xr.current.useId()};Lt.useImperativeHandle=function(e,t,n){return xr.current.useImperativeHandle(e,t,n)};Lt.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};Lt.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};Lt.useMemo=function(e,t){return xr.current.useMemo(e,t)};Lt.useReducer=function(e,t,n){return xr.current.useReducer(e,t,n)};Lt.useRef=function(e){return xr.current.useRef(e)};Lt.useState=function(e){return xr.current.useState(e)};Lt.useSyncExternalStore=function(e,t,n){return xr.current.useSyncExternalStore(e,t,n)};Lt.useTransition=function(){return xr.current.useTransition()};Lt.version="18.2.0";sC.exports=Lt;var L=sC.exports;const E=O3(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5=L,t5=Symbol.for("react.element"),n5=Symbol.for("react.fragment"),r5=Object.prototype.hasOwnProperty,i5=e5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s5={key:!0,ref:!0,__self:!0,__source:!0};function gC(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)r5.call(t,r)&&!s5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:t5,type:e,key:s,ref:o,props:i,_owner:i5.current}}Cp.Fragment=n5;Cp.jsx=gC;Cp.jsxs=gC;iC.exports=Cp;var at=iC.exports,m0={},pC={exports:{}},Xr={},mC={exports:{}},fC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,Y){var ee=G.length;G.push(Y);e:for(;0<ee;){var J=ee-1>>>1,ue=G[J];if(0<i(ue,Y))G[J]=Y,G[ee]=ue,ee=J;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var Y=G[0],ee=G.pop();if(ee!==Y){G[0]=ee;e:for(var J=0,ue=G.length,Ae=ue>>>1;J<Ae;){var ce=2*(J+1)-1,_e=G[ce],ze=ce+1,Me=G[ze];if(0>i(_e,ee))ze<ue&&0>i(Me,_e)?(G[J]=Me,G[ze]=ee,J=ze):(G[J]=_e,G[ce]=ee,J=ce);else if(ze<ue&&0>i(Me,ee))G[J]=Me,G[ze]=ee,J=ze;else break e}}return Y}function i(G,Y){var ee=G.sortIndex-Y.sortIndex;return ee!==0?ee:G.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,p=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=G)r(c),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(c)}}function v(G){if(m=!1,x(G),!p)if(n(l)!==null)p=!0,T(w);else{var Y=n(c);Y!==null&&W(v,Y.startTime-G)}}function w(G,Y){p=!1,m&&(m=!1,y(A),A=-1),g=!0;var ee=h;try{for(x(Y),u=n(l);u!==null&&(!(u.expirationTime>Y)||G&&!N());){var J=u.callback;if(typeof J=="function"){u.callback=null,h=u.priorityLevel;var ue=J(u.expirationTime<=Y);Y=e.unstable_now(),typeof ue=="function"?u.callback=ue:u===n(l)&&r(l),x(Y)}else r(l);u=n(l)}if(u!==null)var Ae=!0;else{var ce=n(c);ce!==null&&W(v,ce.startTime-Y),Ae=!1}return Ae}finally{u=null,h=ee,g=!1}}var b=!1,S=null,A=-1,C=5,k=-1;function N(){return!(e.unstable_now()-k<C)}function R(){if(S!==null){var G=e.unstable_now();k=G;var Y=!0;try{Y=S(!0,G)}finally{Y?B():(b=!1,S=null)}}else b=!1}var B;if(typeof f=="function")B=function(){f(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=R,B=function(){F.postMessage(null)}}else B=function(){_(R,0)};function T(G){S=G,b||(b=!0,B())}function W(G,Y){A=_(function(){G(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,T(w))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ee=h;h=Y;try{return G()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=h;h=G;try{return Y()}finally{h=ee}},e.unstable_scheduleCallback=function(G,Y,ee){var J=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?J+ee:J):ee=J,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=ee+ue,G={id:d++,callback:Y,priorityLevel:G,startTime:ee,expirationTime:ue,sortIndex:-1},ee>J?(G.sortIndex=ee,t(c,G),n(l)===null&&G===n(c)&&(m?(y(A),A=-1):m=!0,W(v,ee-J))):(G.sortIndex=ue,t(l,G),p||g||(p=!0,T(w))),G},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(G){var Y=h;return function(){var ee=h;h=Y;try{return G.apply(this,arguments)}finally{h=ee}}}})(fC);mC.exports=fC;var o5=mC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=L,Hr=o5;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yC=new Set,ed={};function ha(e,t){pl(e,t),pl(e+"Capture",t)}function pl(e,t){for(ed[e]=t,e=0;e<t.length;e++)yC.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f0=Object.prototype.hasOwnProperty,a5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ew={},Sw={};function l5(e){return f0.call(Sw,e)?!0:f0.call(Ew,e)?!1:a5.test(e)?Sw[e]=!0:(Ew[e]=!0,!1)}function c5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d5(e,t,n,r){if(t===null||typeof t>"u"||c5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jy=/[\-:]([a-z])/g;function ex(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jy,ex);Wn[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jy,ex);Wn[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jy,ex);Wn[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function tx(e,t,n,r){var i=Wn.hasOwnProperty(t)?Wn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d5(t,n,i,r)&&(n=null),r||i===null?l5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bs=_C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),Fa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),rx=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),bC=Symbol.for("react.offscreen"),Aw=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=Aw&&e[Aw]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Object.assign,jm;function oc(e){if(jm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jm=t&&t[1]||""}return`
`+jm+e}var Um=!1;function $m(e,t){if(!e||Um)return"";Um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Um=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oc(e):""}function u5(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=$m(e.type,!1),e;case 11:return e=$m(e.type.render,!1),e;case 1:return e=$m(e.type,!0),e;default:return""}}function v0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ra:return"Fragment";case Fa:return"Portal";case _0:return"Profiler";case nx:return"StrictMode";case y0:return"Suspense";case x0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vC:return(e.displayName||"Context")+".Consumer";case xC:return(e._context.displayName||"Context")+".Provider";case rx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ix:return t=e.displayName||null,t!==null?t:v0(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return v0(e(t))}catch{}}return null}function h5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v0(t);case 8:return t===nx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function g5(e){var t=wC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hu(e){e._valueTracker||(e._valueTracker=g5(e))}function EC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ag(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function b0(e,t){var n=t.checked;return gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SC(e,t){t=t.checked,t!=null&&tx(e,"checked",t,!1)}function w0(e,t){SC(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?E0(e,t.type,n):t.hasOwnProperty("defaultValue")&&E0(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function E0(e,t,n){(t!=="number"||ag(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ac=Array.isArray;function rl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function S0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(ac(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function AC(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gu,CC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function td(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p5=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(e){p5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tc[t]=Tc[e]})});function TC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tc.hasOwnProperty(e)&&Tc[e]?(""+t).trim():t+"px"}function LC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var m5=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function k0(e,t){if(t){if(m5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function C0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=null;function sx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var L0=null,il=null,sl=null;function Nw(e){if(e=Xd(e)){if(typeof L0!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Mp(t),L0(e.stateNode,e.type,t))}}function NC(e){il?sl?sl.push(e):sl=[e]:il=e}function IC(){if(il){var e=il,t=sl;if(sl=il=null,Nw(e),t)for(e=0;e<t.length;e++)Nw(t[e])}}function MC(e,t){return e(t)}function PC(){}var Vm=!1;function FC(e,t,n){if(Vm)return e(t,n);Vm=!0;try{return MC(e,t,n)}finally{Vm=!1,(il!==null||sl!==null)&&(PC(),IC())}}function nd(e,t){var n=e.stateNode;if(n===null)return null;var r=Mp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var N0=!1;if(gs)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){N0=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{N0=!1}function f5(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Lc=!1,lg=null,cg=!1,I0=null,_5={onError:function(e){Lc=!0,lg=e}};function y5(e,t,n,r,i,s,o,a,l){Lc=!1,lg=null,f5.apply(_5,arguments)}function x5(e,t,n,r,i,s,o,a,l){if(y5.apply(this,arguments),Lc){if(Lc){var c=lg;Lc=!1,lg=null}else throw Error(Ne(198));cg||(cg=!0,I0=c)}}function ga(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iw(e){if(ga(e)!==e)throw Error(Ne(188))}function v5(e){var t=e.alternate;if(!t){if(t=ga(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Iw(i),e;if(s===r)return Iw(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function DC(e){return e=v5(e),e!==null?zC(e):null}function zC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zC(e);if(t!==null)return t;e=e.sibling}return null}var OC=Hr.unstable_scheduleCallback,Mw=Hr.unstable_cancelCallback,b5=Hr.unstable_shouldYield,w5=Hr.unstable_requestPaint,xn=Hr.unstable_now,E5=Hr.unstable_getCurrentPriorityLevel,ox=Hr.unstable_ImmediatePriority,BC=Hr.unstable_UserBlockingPriority,dg=Hr.unstable_NormalPriority,S5=Hr.unstable_LowPriority,jC=Hr.unstable_IdlePriority,Tp=null,Xi=null;function A5(e){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(Tp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:T5,k5=Math.log,C5=Math.LN2;function T5(e){return e>>>=0,e===0?32:31-(k5(e)/C5|0)|0}var pu=64,mu=4194304;function lc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ug(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=lc(a):(s&=o,s!==0&&(r=lc(s)))}else o=n&~i,o!==0?r=lc(o):s!==0&&(r=lc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ti(t),i=1<<n,r|=e[n],t&=~i;return r}function L5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ti(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=L5(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function M0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UC(){var e=pu;return pu<<=1,!(pu&4194240)&&(pu=64),e}function Gm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ti(t),e[t]=n}function I5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ti(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ax(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ti(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $t=0;function $C(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VC,lx,GC,HC,WC,P0=!1,fu=[],Js=null,eo=null,to=null,rd=new Map,id=new Map,js=[],M5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pw(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(t.pointerId)}}function Bl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Xd(t),t!==null&&lx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function P5(e,t,n,r,i){switch(t){case"focusin":return Js=Bl(Js,e,t,n,r,i),!0;case"dragenter":return eo=Bl(eo,e,t,n,r,i),!0;case"mouseover":return to=Bl(to,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,Bl(rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,Bl(id.get(s)||null,e,t,n,r,i)),!0}return!1}function qC(e){var t=Mo(e.target);if(t!==null){var n=ga(t);if(n!==null){if(t=n.tag,t===13){if(t=RC(n),t!==null){e.blockedOn=t,WC(e.priority,function(){GC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=F0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);T0=r,n.target.dispatchEvent(r),T0=null}else return t=Xd(n),t!==null&&lx(t),e.blockedOn=n,!1;t.shift()}return!0}function Fw(e,t,n){kh(e)&&n.delete(t)}function F5(){P0=!1,Js!==null&&kh(Js)&&(Js=null),eo!==null&&kh(eo)&&(eo=null),to!==null&&kh(to)&&(to=null),rd.forEach(Fw),id.forEach(Fw)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,P0||(P0=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,F5)))}function sd(e){function t(i){return jl(i,e)}if(0<fu.length){jl(fu[0],e);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&jl(Js,e),eo!==null&&jl(eo,e),to!==null&&jl(to,e),rd.forEach(t),id.forEach(t),n=0;n<js.length;n++)r=js[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)qC(n),n.blockedOn===null&&js.shift()}var ol=bs.ReactCurrentBatchConfig,hg=!0;function R5(e,t,n,r){var i=$t,s=ol.transition;ol.transition=null;try{$t=1,cx(e,t,n,r)}finally{$t=i,ol.transition=s}}function D5(e,t,n,r){var i=$t,s=ol.transition;ol.transition=null;try{$t=4,cx(e,t,n,r)}finally{$t=i,ol.transition=s}}function cx(e,t,n,r){if(hg){var i=F0(e,t,n,r);if(i===null)ef(e,t,r,gg,n),Pw(e,r);else if(P5(i,e,t,n,r))r.stopPropagation();else if(Pw(e,r),t&4&&-1<M5.indexOf(e)){for(;i!==null;){var s=Xd(i);if(s!==null&&VC(s),s=F0(e,t,n,r),s===null&&ef(e,t,r,gg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ef(e,t,r,null,n)}}var gg=null;function F0(e,t,n,r){if(gg=null,e=sx(r),e=Mo(e),e!==null)if(t=ga(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gg=e,null}function XC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E5()){case ox:return 1;case BC:return 4;case dg:case S5:return 16;case jC:return 536870912;default:return 16}default:return 16}}var $s=null,dx=null,Ch=null;function YC(){if(Ch)return Ch;var e,t=dx,n=t.length,r,i="value"in $s?$s.value:$s.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Ch=i.slice(e,1<r?1-r:void 0)}function Th(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _u(){return!0}function Rw(){return!1}function Yr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_u:Rw,this.isPropagationStopped=Rw,this}return gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_u)},persist:function(){},isPersistent:_u}),t}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ux=Yr(Il),qd=gn({},Il,{view:0,detail:0}),z5=Yr(qd),Hm,Wm,Ul,Lp=gn({},qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(Hm=e.screenX-Ul.screenX,Wm=e.screenY-Ul.screenY):Wm=Hm=0,Ul=e),Hm)},movementY:function(e){return"movementY"in e?e.movementY:Wm}}),Dw=Yr(Lp),O5=gn({},Lp,{dataTransfer:0}),B5=Yr(O5),j5=gn({},qd,{relatedTarget:0}),qm=Yr(j5),U5=gn({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),$5=Yr(U5),V5=gn({},Il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G5=Yr(V5),H5=gn({},Il,{data:0}),zw=Yr(H5),W5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X5[e])?!!t[e]:!1}function hx(){return Y5}var Z5=gn({},qd,{key:function(e){if(e.key){var t=W5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Th(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hx,charCode:function(e){return e.type==="keypress"?Th(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Th(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q5=Yr(Z5),K5=gn({},Lp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ow=Yr(K5),J5=gn({},qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hx}),ez=Yr(J5),tz=gn({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),nz=Yr(tz),rz=gn({},Lp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iz=Yr(rz),sz=[9,13,27,32],gx=gs&&"CompositionEvent"in window,Nc=null;gs&&"documentMode"in document&&(Nc=document.documentMode);var oz=gs&&"TextEvent"in window&&!Nc,ZC=gs&&(!gx||Nc&&8<Nc&&11>=Nc),Bw=" ",jw=!1;function QC(e,t){switch(e){case"keyup":return sz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function az(e,t){switch(e){case"compositionend":return KC(t);case"keypress":return t.which!==32?null:(jw=!0,Bw);case"textInput":return e=t.data,e===Bw&&jw?null:e;default:return null}}function lz(e,t){if(Da)return e==="compositionend"||!gx&&QC(e,t)?(e=YC(),Ch=dx=$s=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZC&&t.locale!=="ko"?null:t.data;default:return null}}var cz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cz[e.type]:t==="textarea"}function JC(e,t,n,r){NC(r),t=pg(t,"onChange"),0<t.length&&(n=new ux("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ic=null,od=null;function dz(e){dT(e,0)}function Np(e){var t=Ba(e);if(EC(t))return e}function uz(e,t){if(e==="change")return t}var eT=!1;if(gs){var Xm;if(gs){var Ym="oninput"in document;if(!Ym){var $w=document.createElement("div");$w.setAttribute("oninput","return;"),Ym=typeof $w.oninput=="function"}Xm=Ym}else Xm=!1;eT=Xm&&(!document.documentMode||9<document.documentMode)}function Vw(){Ic&&(Ic.detachEvent("onpropertychange",tT),od=Ic=null)}function tT(e){if(e.propertyName==="value"&&Np(od)){var t=[];JC(t,od,e,sx(e)),FC(dz,t)}}function hz(e,t,n){e==="focusin"?(Vw(),Ic=t,od=n,Ic.attachEvent("onpropertychange",tT)):e==="focusout"&&Vw()}function gz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Np(od)}function pz(e,t){if(e==="click")return Np(t)}function mz(e,t){if(e==="input"||e==="change")return Np(t)}function fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:fz;function ad(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f0.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function Gw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hw(e,t){var n=Gw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gw(n)}}function nT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rT(){for(var e=window,t=ag();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ag(e.document)}return t}function px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _z(e){var t=rT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nT(n.ownerDocument.documentElement,n)){if(r!==null&&px(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Hw(n,s);var o=Hw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yz=gs&&"documentMode"in document&&11>=document.documentMode,za=null,R0=null,Mc=null,D0=!1;function Ww(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D0||za==null||za!==ag(r)||(r=za,"selectionStart"in r&&px(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&ad(Mc,r)||(Mc=r,r=pg(R0,"onSelect"),0<r.length&&(t=new ux("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=za)))}function yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oa={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Zm={},iT={};gs&&(iT=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ip(e){if(Zm[e])return Zm[e];if(!Oa[e])return e;var t=Oa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iT)return Zm[e]=t[n];return e}var sT=Ip("animationend"),oT=Ip("animationiteration"),aT=Ip("animationstart"),lT=Ip("transitionend"),cT=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(e,t){cT.set(e,t),ha(t,[e])}for(var Qm=0;Qm<qw.length;Qm++){var Km=qw[Qm],xz=Km.toLowerCase(),vz=Km[0].toUpperCase()+Km.slice(1);yo(xz,"on"+vz)}yo(sT,"onAnimationEnd");yo(oT,"onAnimationIteration");yo(aT,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(lT,"onTransitionEnd");pl("onMouseEnter",["mouseout","mouseover"]);pl("onMouseLeave",["mouseout","mouseover"]);pl("onPointerEnter",["pointerout","pointerover"]);pl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bz=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function Xw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,x5(r,t,void 0,e),e.currentTarget=null}function dT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Xw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Xw(i,a,c),s=l}}}if(cg)throw e=I0,cg=!1,I0=null,e}function en(e,t){var n=t[U0];n===void 0&&(n=t[U0]=new Set);var r=e+"__bubble";n.has(r)||(uT(t,e,2,!1),n.add(r))}function Jm(e,t,n){var r=0;t&&(r|=4),uT(n,e,r,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[xu]){e[xu]=!0,yC.forEach(function(n){n!=="selectionchange"&&(bz.has(n)||Jm(n,!1,e),Jm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xu]||(t[xu]=!0,Jm("selectionchange",!1,t))}}function uT(e,t,n,r){switch(XC(t)){case 1:var i=R5;break;case 4:i=D5;break;default:i=cx}n=i.bind(null,t,n,e),i=void 0,!N0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ef(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FC(function(){var c=s,d=sx(n),u=[];e:{var h=cT.get(e);if(h!==void 0){var g=ux,p=e;switch(e){case"keypress":if(Th(n)===0)break e;case"keydown":case"keyup":g=Q5;break;case"focusin":p="focus",g=qm;break;case"focusout":p="blur",g=qm;break;case"beforeblur":case"afterblur":g=qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=B5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ez;break;case sT:case oT:case aT:g=$5;break;case lT:g=nz;break;case"scroll":g=z5;break;case"wheel":g=iz;break;case"copy":case"cut":case"paste":g=G5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ow}var m=(t&4)!==0,_=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var f=c,x;f!==null;){x=f;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,y!==null&&(v=nd(f,y),v!=null&&m.push(cd(f,v,x)))),_)break;f=f.return}0<m.length&&(h=new g(h,p,null,n,d),u.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==T0&&(p=n.relatedTarget||n.fromElement)&&(Mo(p)||p[ps]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Mo(p):null,p!==null&&(_=ga(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=Dw,v="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(m=Ow,v="onPointerLeave",y="onPointerEnter",f="pointer"),_=g==null?h:Ba(g),x=p==null?h:Ba(p),h=new m(v,f+"leave",g,n,d),h.target=_,h.relatedTarget=x,v=null,Mo(d)===c&&(m=new m(y,f+"enter",p,n,d),m.target=x,m.relatedTarget=_,v=m),_=v,g&&p)t:{for(m=g,y=p,f=0,x=m;x;x=ba(x))f++;for(x=0,v=y;v;v=ba(v))x++;for(;0<f-x;)m=ba(m),f--;for(;0<x-f;)y=ba(y),x--;for(;f--;){if(m===y||y!==null&&m===y.alternate)break t;m=ba(m),y=ba(y)}m=null}else m=null;g!==null&&Yw(u,h,g,m,!1),p!==null&&_!==null&&Yw(u,_,p,m,!0)}}e:{if(h=c?Ba(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=uz;else if(Uw(h))if(eT)w=mz;else{w=gz;var b=hz}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=pz);if(w&&(w=w(e,c))){JC(u,w,n,d);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&E0(h,"number",h.value)}switch(b=c?Ba(c):window,e){case"focusin":(Uw(b)||b.contentEditable==="true")&&(za=b,R0=c,Mc=null);break;case"focusout":Mc=R0=za=null;break;case"mousedown":D0=!0;break;case"contextmenu":case"mouseup":case"dragend":D0=!1,Ww(u,n,d);break;case"selectionchange":if(yz)break;case"keydown":case"keyup":Ww(u,n,d)}var S;if(gx)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Da?QC(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(ZC&&n.locale!=="ko"&&(Da||A!=="onCompositionStart"?A==="onCompositionEnd"&&Da&&(S=YC()):($s=d,dx="value"in $s?$s.value:$s.textContent,Da=!0)),b=pg(c,A),0<b.length&&(A=new zw(A,e,null,n,d),u.push({event:A,listeners:b}),S?A.data=S:(S=KC(n),S!==null&&(A.data=S)))),(S=oz?az(e,n):lz(e,n))&&(c=pg(c,"onBeforeInput"),0<c.length&&(d=new zw("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=S))}dT(u,t)})}function cd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nd(e,n),s!=null&&r.unshift(cd(e,s,i)),s=nd(e,t),s!=null&&r.push(cd(e,s,i))),e=e.return}return r}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yw(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=nd(n,s),l!=null&&o.unshift(cd(n,l,a))):i||(l=nd(n,s),l!=null&&o.push(cd(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var wz=/\r\n?/g,Ez=/\u0000|\uFFFD/g;function Zw(e){return(typeof e=="string"?e:""+e).replace(wz,`
`).replace(Ez,"")}function vu(e,t,n){if(t=Zw(t),Zw(e)!==t&&n)throw Error(Ne(425))}function mg(){}var z0=null,O0=null;function B0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j0=typeof setTimeout=="function"?setTimeout:void 0,Sz=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,Az=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(e){return Qw.resolve(null).then(e).catch(kz)}:j0;function kz(e){setTimeout(function(){throw e})}function tf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sd(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ml,dd="__reactProps$"+Ml,ps="__reactContainer$"+Ml,U0="__reactEvents$"+Ml,Cz="__reactListeners$"+Ml,Tz="__reactHandles$"+Ml;function Mo(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[Hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kw(e);e!==null;){if(n=e[Hi])return n;e=Kw(e)}return t}e=n,n=e.parentNode}return null}function Xd(e){return e=e[Hi]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Mp(e){return e[dd]||null}var $0=[],ja=-1;function xo(e){return{current:e}}function on(e){0>ja||(e.current=$0[ja],$0[ja]=null,ja--)}function Qt(e,t){ja++,$0[ja]=e.current,e.current=t}var uo={},ir=xo(uo),Ir=xo(!1),ea=uo;function ml(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return e=e.childContextTypes,e!=null}function fg(){on(Ir),on(ir)}function Jw(e,t,n){if(ir.current!==uo)throw Error(Ne(168));Qt(ir,t),Qt(Ir,n)}function hT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,h5(e)||"Unknown",i));return gn({},n,r)}function _g(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,ea=ir.current,Qt(ir,e),Qt(Ir,Ir.current),!0}function eE(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=hT(e,t,ea),r.__reactInternalMemoizedMergedChildContext=e,on(Ir),on(ir),Qt(ir,e)):on(Ir),Qt(Ir,n)}var ns=null,Pp=!1,nf=!1;function gT(e){ns===null?ns=[e]:ns.push(e)}function Lz(e){Pp=!0,gT(e)}function vo(){if(!nf&&ns!==null){nf=!0;var e=0,t=$t;try{var n=ns;for($t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ns=null,Pp=!1}catch(i){throw ns!==null&&(ns=ns.slice(e+1)),OC(ox,vo),i}finally{$t=t,nf=!1}}return null}var Ua=[],$a=0,yg=null,xg=0,si=[],oi=0,ta=null,ss=1,os="";function ko(e,t){Ua[$a++]=xg,Ua[$a++]=yg,yg=e,xg=t}function pT(e,t,n){si[oi++]=ss,si[oi++]=os,si[oi++]=ta,ta=e;var r=ss;e=os;var i=32-Ti(r)-1;r&=~(1<<i),n+=1;var s=32-Ti(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ss=1<<32-Ti(t)+i|n<<i|r,os=s+e}else ss=1<<s|n<<i|r,os=e}function mx(e){e.return!==null&&(ko(e,1),pT(e,1,0))}function fx(e){for(;e===yg;)yg=Ua[--$a],Ua[$a]=null,xg=Ua[--$a],Ua[$a]=null;for(;e===ta;)ta=si[--oi],si[oi]=null,os=si[--oi],si[oi]=null,ss=si[--oi],si[oi]=null}var Gr=null,$r=null,ln=!1,ki=null;function mT(e,t){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tE(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,$r=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ta!==null?{id:ss,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gr=e,$r=null,!0):!1;default:return!1}}function V0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function G0(e){if(ln){var t=$r;if(t){var n=t;if(!tE(e,t)){if(V0(e))throw Error(Ne(418));t=no(n.nextSibling);var r=Gr;t&&tE(e,t)?mT(r,n):(e.flags=e.flags&-4097|2,ln=!1,Gr=e)}}else{if(V0(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,ln=!1,Gr=e}}}function nE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function bu(e){if(e!==Gr)return!1;if(!ln)return nE(e),ln=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!B0(e.type,e.memoizedProps)),t&&(t=$r)){if(V0(e))throw fT(),Error(Ne(418));for(;t;)mT(e,t),t=no(t.nextSibling)}if(nE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$r=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Gr?no(e.stateNode.nextSibling):null;return!0}function fT(){for(var e=$r;e;)e=no(e.nextSibling)}function fl(){$r=Gr=null,ln=!1}function _x(e){ki===null?ki=[e]:ki.push(e)}var Nz=bs.ReactCurrentBatchConfig;function Ei(e,t){if(e&&e.defaultProps){t=gn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vg=xo(null),bg=null,Va=null,yx=null;function xx(){yx=Va=bg=null}function vx(e){var t=vg.current;on(vg),e._currentValue=t}function H0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function al(e,t){bg=e,yx=Va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function hi(e){var t=e._currentValue;if(yx!==e)if(e={context:e,memoizedValue:t,next:null},Va===null){if(bg===null)throw Error(Ne(308));Va=e,bg.dependencies={lanes:0,firstContext:e}}else Va=Va.next=e;return t}var Po=null;function bx(e){Po===null?Po=[e]:Po.push(e)}function _T(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,bx(t)):(n.next=i.next,i.next=n),t.interleaved=n,ms(e,r)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ds=!1;function wx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ms(e,n)}return i=r.interleaved,i===null?(t.next=t,bx(r)):(t.next=i.next,i.next=t),r.interleaved=t,ms(e,n)}function Lh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ax(e,n)}}function rE(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wg(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,g=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(g,u,h):p,h==null)break e;u=gn({},u,h);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ra|=o,e.lanes=o,e.memoizedState=u}}function iE(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var xT=new _C.Component().refs;function W0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fp={isMounted:function(e){return(e=e._reactInternals)?ga(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_r(),i=so(e),s=cs(r,i);s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,i),t!==null&&(Li(t,e,i,r),Lh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_r(),i=so(e),s=cs(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,i),t!==null&&(Li(t,e,i,r),Lh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_r(),r=so(e),i=cs(n,r);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,r),t!==null&&(Li(t,e,r,n),Lh(t,e,r))}};function sE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!ad(n,r)||!ad(i,s):!0}function vT(e,t,n){var r=!1,i=uo,s=t.contextType;return typeof s=="object"&&s!==null?s=hi(s):(i=Mr(t)?ea:ir.current,r=t.contextTypes,s=(r=r!=null)?ml(e,i):uo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fp.enqueueReplaceState(t,t.state,null)}function q0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=xT,wx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=hi(s):(s=Mr(t)?ea:ir.current,i.context=ml(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(W0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fp.enqueueReplaceState(i,i.state,null),wg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $l(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===xT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function wu(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aE(e){var t=e._init;return t(e._payload)}function bT(e){function t(y,f){if(e){var x=y.deletions;x===null?(y.deletions=[f],y.flags|=16):x.push(f)}}function n(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=oo(y,f),y.index=0,y.sibling=null,y}function s(y,f,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<f?(y.flags|=2,f):x):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,f,x,v){return f===null||f.tag!==6?(f=df(x,y.mode,v),f.return=y,f):(f=i(f,x),f.return=y,f)}function l(y,f,x,v){var w=x.type;return w===Ra?d(y,f,x.props.children,v,x.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rs&&aE(w)===f.type)?(v=i(f,x.props),v.ref=$l(y,f,x),v.return=y,v):(v=Rh(x.type,x.key,x.props,null,y.mode,v),v.ref=$l(y,f,x),v.return=y,v)}function c(y,f,x,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=uf(x,y.mode,v),f.return=y,f):(f=i(f,x.children||[]),f.return=y,f)}function d(y,f,x,v,w){return f===null||f.tag!==7?(f=Ho(x,y.mode,v,w),f.return=y,f):(f=i(f,x),f.return=y,f)}function u(y,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=df(""+f,y.mode,x),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case uu:return x=Rh(f.type,f.key,f.props,null,y.mode,x),x.ref=$l(y,null,f),x.return=y,x;case Fa:return f=uf(f,y.mode,x),f.return=y,f;case Rs:var v=f._init;return u(y,v(f._payload),x)}if(ac(f)||zl(f))return f=Ho(f,y.mode,x,null),f.return=y,f;wu(y,f)}return null}function h(y,f,x,v){var w=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(y,f,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case uu:return x.key===w?l(y,f,x,v):null;case Fa:return x.key===w?c(y,f,x,v):null;case Rs:return w=x._init,h(y,f,w(x._payload),v)}if(ac(x)||zl(x))return w!==null?null:d(y,f,x,v,null);wu(y,x)}return null}function g(y,f,x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(x)||null,a(f,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case uu:return y=y.get(v.key===null?x:v.key)||null,l(f,y,v,w);case Fa:return y=y.get(v.key===null?x:v.key)||null,c(f,y,v,w);case Rs:var b=v._init;return g(y,f,x,b(v._payload),w)}if(ac(v)||zl(v))return y=y.get(x)||null,d(f,y,v,w,null);wu(f,v)}return null}function p(y,f,x,v){for(var w=null,b=null,S=f,A=f=0,C=null;S!==null&&A<x.length;A++){S.index>A?(C=S,S=null):C=S.sibling;var k=h(y,S,x[A],v);if(k===null){S===null&&(S=C);break}e&&S&&k.alternate===null&&t(y,S),f=s(k,f,A),b===null?w=k:b.sibling=k,b=k,S=C}if(A===x.length)return n(y,S),ln&&ko(y,A),w;if(S===null){for(;A<x.length;A++)S=u(y,x[A],v),S!==null&&(f=s(S,f,A),b===null?w=S:b.sibling=S,b=S);return ln&&ko(y,A),w}for(S=r(y,S);A<x.length;A++)C=g(S,y,A,x[A],v),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),f=s(C,f,A),b===null?w=C:b.sibling=C,b=C);return e&&S.forEach(function(N){return t(y,N)}),ln&&ko(y,A),w}function m(y,f,x,v){var w=zl(x);if(typeof w!="function")throw Error(Ne(150));if(x=w.call(x),x==null)throw Error(Ne(151));for(var b=w=null,S=f,A=f=0,C=null,k=x.next();S!==null&&!k.done;A++,k=x.next()){S.index>A?(C=S,S=null):C=S.sibling;var N=h(y,S,k.value,v);if(N===null){S===null&&(S=C);break}e&&S&&N.alternate===null&&t(y,S),f=s(N,f,A),b===null?w=N:b.sibling=N,b=N,S=C}if(k.done)return n(y,S),ln&&ko(y,A),w;if(S===null){for(;!k.done;A++,k=x.next())k=u(y,k.value,v),k!==null&&(f=s(k,f,A),b===null?w=k:b.sibling=k,b=k);return ln&&ko(y,A),w}for(S=r(y,S);!k.done;A++,k=x.next())k=g(S,y,A,k.value,v),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?A:k.key),f=s(k,f,A),b===null?w=k:b.sibling=k,b=k);return e&&S.forEach(function(R){return t(y,R)}),ln&&ko(y,A),w}function _(y,f,x,v){if(typeof x=="object"&&x!==null&&x.type===Ra&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case uu:e:{for(var w=x.key,b=f;b!==null;){if(b.key===w){if(w=x.type,w===Ra){if(b.tag===7){n(y,b.sibling),f=i(b,x.props.children),f.return=y,y=f;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rs&&aE(w)===b.type){n(y,b.sibling),f=i(b,x.props),f.ref=$l(y,b,x),f.return=y,y=f;break e}n(y,b);break}else t(y,b);b=b.sibling}x.type===Ra?(f=Ho(x.props.children,y.mode,v,x.key),f.return=y,y=f):(v=Rh(x.type,x.key,x.props,null,y.mode,v),v.ref=$l(y,f,x),v.return=y,y=v)}return o(y);case Fa:e:{for(b=x.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(y,f.sibling),f=i(f,x.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else t(y,f);f=f.sibling}f=uf(x,y.mode,v),f.return=y,y=f}return o(y);case Rs:return b=x._init,_(y,f,b(x._payload),v)}if(ac(x))return p(y,f,x,v);if(zl(x))return m(y,f,x,v);wu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(y,f.sibling),f=i(f,x),f.return=y,y=f):(n(y,f),f=df(x,y.mode,v),f.return=y,y=f),o(y)):n(y,f)}return _}var _l=bT(!0),wT=bT(!1),Yd={},Yi=xo(Yd),ud=xo(Yd),hd=xo(Yd);function Fo(e){if(e===Yd)throw Error(Ne(174));return e}function Ex(e,t){switch(Qt(hd,t),Qt(ud,e),Qt(Yi,Yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}on(Yi),Qt(Yi,t)}function yl(){on(Yi),on(ud),on(hd)}function ET(e){Fo(hd.current);var t=Fo(Yi.current),n=A0(t,e.type);t!==n&&(Qt(ud,e),Qt(Yi,n))}function Sx(e){ud.current===e&&(on(Yi),on(ud))}var un=xo(0);function Eg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rf=[];function Ax(){for(var e=0;e<rf.length;e++)rf[e]._workInProgressVersionPrimary=null;rf.length=0}var Nh=bs.ReactCurrentDispatcher,sf=bs.ReactCurrentBatchConfig,na=0,hn=null,Ln=null,Pn=null,Sg=!1,Pc=!1,gd=0,Iz=0;function Zn(){throw Error(Ne(321))}function kx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ni(e[n],t[n]))return!1;return!0}function Cx(e,t,n,r,i,s){if(na=s,hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nh.current=e===null||e.memoizedState===null?Rz:Dz,e=n(r,i),Pc){s=0;do{if(Pc=!1,gd=0,25<=s)throw Error(Ne(301));s+=1,Pn=Ln=null,t.updateQueue=null,Nh.current=zz,e=n(r,i)}while(Pc)}if(Nh.current=Ag,t=Ln!==null&&Ln.next!==null,na=0,Pn=Ln=hn=null,Sg=!1,t)throw Error(Ne(300));return e}function Tx(){var e=gd!==0;return gd=0,e}function Vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?hn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function gi(){if(Ln===null){var e=hn.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Pn===null?hn.memoizedState:Pn.next;if(t!==null)Pn=t,Ln=e;else{if(e===null)throw Error(Ne(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Pn===null?hn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function pd(e,t){return typeof t=="function"?t(e):t}function of(e){var t=gi(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((na&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,hn.lanes|=d,ra|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ni(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,hn.lanes|=s,ra|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function af(e){var t=gi(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ni(s,t.memoizedState)||(Nr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ST(){}function AT(e,t){var n=hn,r=gi(),i=t(),s=!Ni(r.memoizedState,i);if(s&&(r.memoizedState=i,Nr=!0),r=r.queue,Lx(TT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,md(9,CT.bind(null,n,r,i,t),void 0,null),Fn===null)throw Error(Ne(349));na&30||kT(n,t,i)}return i}function kT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function CT(e,t,n,r){t.value=n,t.getSnapshot=r,LT(t)&&NT(e)}function TT(e,t,n){return n(function(){LT(t)&&NT(e)})}function LT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ni(e,n)}catch{return!0}}function NT(e){var t=ms(e,1);t!==null&&Li(t,e,1,-1)}function lE(e){var t=Vi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:e},t.queue=e,e=e.dispatch=Fz.bind(null,hn,e),[t.memoizedState,e]}function md(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function IT(){return gi().memoizedState}function Ih(e,t,n,r){var i=Vi();hn.flags|=e,i.memoizedState=md(1|t,n,void 0,r===void 0?null:r)}function Rp(e,t,n,r){var i=gi();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,r!==null&&kx(r,o.deps)){i.memoizedState=md(t,n,s,r);return}}hn.flags|=e,i.memoizedState=md(1|t,n,s,r)}function cE(e,t){return Ih(8390656,8,e,t)}function Lx(e,t){return Rp(2048,8,e,t)}function MT(e,t){return Rp(4,2,e,t)}function PT(e,t){return Rp(4,4,e,t)}function FT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RT(e,t,n){return n=n!=null?n.concat([e]):null,Rp(4,4,FT.bind(null,t,e),n)}function Nx(){}function DT(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zT(e,t){var n=gi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function OT(e,t,n){return na&21?(Ni(n,t)||(n=UC(),hn.lanes|=n,ra|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function Mz(e,t){var n=$t;$t=n!==0&&4>n?n:4,e(!0);var r=sf.transition;sf.transition={};try{e(!1),t()}finally{$t=n,sf.transition=r}}function BT(){return gi().memoizedState}function Pz(e,t,n){var r=so(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jT(e))UT(t,n);else if(n=_T(e,t,n,r),n!==null){var i=_r();Li(n,e,r,i),$T(n,t,r)}}function Fz(e,t,n){var r=so(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jT(e))UT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ni(a,o)){var l=t.interleaved;l===null?(i.next=i,bx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_T(e,t,i,r),n!==null&&(i=_r(),Li(n,e,r,i),$T(n,t,r))}}function jT(e){var t=e.alternate;return e===hn||t!==null&&t===hn}function UT(e,t){Pc=Sg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $T(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ax(e,n)}}var Ag={readContext:hi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},Rz={readContext:hi,useCallback:function(e,t){return Vi().memoizedState=[e,t===void 0?null:t],e},useContext:hi,useEffect:cE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ih(4194308,4,FT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ih(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ih(4,2,e,t)},useMemo:function(e,t){var n=Vi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pz.bind(null,hn,e),[r.memoizedState,e]},useRef:function(e){var t=Vi();return e={current:e},t.memoizedState=e},useState:lE,useDebugValue:Nx,useDeferredValue:function(e){return Vi().memoizedState=e},useTransition:function(){var e=lE(!1),t=e[0];return e=Mz.bind(null,e[1]),Vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hn,i=Vi();if(ln){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),Fn===null)throw Error(Ne(349));na&30||kT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,cE(TT.bind(null,r,s,e),[e]),r.flags|=2048,md(9,CT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Vi(),t=Fn.identifierPrefix;if(ln){var n=os,r=ss;n=(r&~(1<<32-Ti(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Iz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dz={readContext:hi,useCallback:DT,useContext:hi,useEffect:Lx,useImperativeHandle:RT,useInsertionEffect:MT,useLayoutEffect:PT,useMemo:zT,useReducer:of,useRef:IT,useState:function(){return of(pd)},useDebugValue:Nx,useDeferredValue:function(e){var t=gi();return OT(t,Ln.memoizedState,e)},useTransition:function(){var e=of(pd)[0],t=gi().memoizedState;return[e,t]},useMutableSource:ST,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1},zz={readContext:hi,useCallback:DT,useContext:hi,useEffect:Lx,useImperativeHandle:RT,useInsertionEffect:MT,useLayoutEffect:PT,useMemo:zT,useReducer:af,useRef:IT,useState:function(){return af(pd)},useDebugValue:Nx,useDeferredValue:function(e){var t=gi();return Ln===null?t.memoizedState=e:OT(t,Ln.memoizedState,e)},useTransition:function(){var e=af(pd)[0],t=gi().memoizedState;return[e,t]},useMutableSource:ST,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1};function xl(e,t){try{var n="",r=t;do n+=u5(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function lf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function X0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Oz=typeof WeakMap=="function"?WeakMap:Map;function VT(e,t,n){n=cs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cg||(Cg=!0,i_=r),X0(e,t)},n}function GT(e,t,n){n=cs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){X0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){X0(e,t),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function dE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Oz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Kz.bind(null,e,t,n),t.then(e,e))}function uE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cs(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var Bz=bs.ReactCurrentOwner,Nr=!1;function gr(e,t,n,r){t.child=e===null?wT(t,null,n,r):_l(t,e.child,n,r)}function gE(e,t,n,r,i){n=n.render;var s=t.ref;return al(t,i),r=Cx(e,t,n,r,s,i),n=Tx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(ln&&n&&mx(t),t.flags|=1,gr(e,t,r,i),t.child)}function pE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Ox(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,HT(e,t,s,r,i)):(e=Rh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ad,n(o,r)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,e=oo(s,r),e.ref=t.ref,e.return=t,t.child=e}function HT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ad(s,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,fs(e,t,i)}return Y0(e,t,n,r,i)}function WT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Ha,zr),zr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(Ha,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qt(Ha,zr),zr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qt(Ha,zr),zr|=r;return gr(e,t,i,n),t.child}function qT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Y0(e,t,n,r,i){var s=Mr(n)?ea:ir.current;return s=ml(t,s),al(t,i),n=Cx(e,t,n,r,s,i),r=Tx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(ln&&r&&mx(t),t.flags|=1,gr(e,t,n,i),t.child)}function mE(e,t,n,r,i){if(Mr(n)){var s=!0;_g(t)}else s=!1;if(al(t,i),t.stateNode===null)Mh(e,t),vT(t,n,r),q0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hi(c):(c=Mr(n)?ea:ir.current,c=ml(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oE(t,o,r,c),Ds=!1;var h=t.memoizedState;o.state=h,wg(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ir.current||Ds?(typeof d=="function"&&(W0(t,n,d,r),l=t.memoizedState),(a=Ds||sE(t,n,a,r,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yT(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ei(t.type,a),o.props=c,u=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Mr(n)?ea:ir.current,l=ml(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&oE(t,o,r,l),Ds=!1,h=t.memoizedState,o.state=h,wg(t,r,o,i);var p=t.memoizedState;a!==u||h!==p||Ir.current||Ds?(typeof g=="function"&&(W0(t,n,g,r),p=t.memoizedState),(c=Ds||sE(t,n,c,r,h,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Z0(e,t,n,r,s,i)}function Z0(e,t,n,r,i,s){qT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&eE(t,n,!1),fs(e,t,s);r=t.stateNode,Bz.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=_l(t,e.child,null,s),t.child=_l(t,null,a,s)):gr(e,t,a,s),t.memoizedState=r.state,i&&eE(t,n,!0),t.child}function XT(e){var t=e.stateNode;t.pendingContext?Jw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jw(e,t.context,!1),Ex(e,t.containerInfo)}function fE(e,t,n,r,i){return fl(),_x(i),t.flags|=256,gr(e,t,n,r),t.child}var Q0={dehydrated:null,treeContext:null,retryLane:0};function K0(e){return{baseLanes:e,cachePool:null,transitions:null}}function YT(e,t,n){var r=t.pendingProps,i=un.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qt(un,i&1),e===null)return G0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Op(o,r,0,null),e=Ho(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=K0(n),t.memoizedState=Q0,e):Ix(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jz(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oo(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?K0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Q0,r}return s=e.child,e=s.sibling,r=oo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ix(e,t){return t=Op({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eu(e,t,n,r){return r!==null&&_x(r),_l(t,e.child,null,n),e=Ix(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jz(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=lf(Error(Ne(422))),Eu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Op({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&_l(t,e.child,null,o),t.child.memoizedState=K0(o),t.memoizedState=Q0,s);if(!(t.mode&1))return Eu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=lf(s,r,void 0),Eu(e,t,o,r)}if(a=(o&e.childLanes)!==0,Nr||a){if(r=Fn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(e,i),Li(r,e,i,-1))}return zx(),r=lf(Error(Ne(421))),Eu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Jz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$r=no(i.nextSibling),Gr=t,ln=!0,ki=null,e!==null&&(si[oi++]=ss,si[oi++]=os,si[oi++]=ta,ss=e.id,os=e.overflow,ta=t),t=Ix(t,r.children),t.flags|=4096,t)}function _E(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),H0(e.return,t,n)}function cf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gr(e,t,r.children,n),r=un.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_E(e,n,t);else if(e.tag===19)_E(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qt(un,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Eg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Eg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cf(t,!0,n,null,s);break;case"together":cf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=oo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uz(e,t,n){switch(t.tag){case 3:XT(t),fl();break;case 5:ET(t);break;case 1:Mr(t.type)&&_g(t);break;case 4:Ex(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qt(vg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qt(un,un.current&1),t.flags|=128,null):n&t.child.childLanes?YT(e,t,n):(Qt(un,un.current&1),e=fs(e,t,n),e!==null?e.sibling:null);Qt(un,un.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(un,un.current),r)break;return null;case 22:case 23:return t.lanes=0,WT(e,t,n)}return fs(e,t,n)}var QT,J0,KT,JT;QT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J0=function(){};KT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fo(Yi.current);var s=null;switch(n){case"input":i=b0(e,i),r=b0(e,r),s=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),s=[];break;case"textarea":i=S0(e,i),r=S0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mg)}k0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ed.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ed.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};JT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vl(e,t){if(!ln)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $z(e,t,n){var r=t.pendingProps;switch(fx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return Mr(t.type)&&fg(),Qn(t),null;case 3:return r=t.stateNode,yl(),on(Ir),on(ir),Ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki!==null&&(a_(ki),ki=null))),J0(e,t),Qn(t),null;case 5:Sx(t);var i=Fo(hd.current);if(n=t.type,e!==null&&t.stateNode!=null)KT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Qn(t),null}if(e=Fo(Yi.current),bu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Hi]=t,r[dd]=s,e=(t.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<cc.length;i++)en(cc[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":kw(r,s),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},en("invalid",r);break;case"textarea":Tw(r,s),en("invalid",r)}k0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vu(r.textContent,a,e),i=["children",""+a]):ed.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":hu(r),Cw(r,s,!0);break;case"textarea":hu(r),Lw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Hi]=t,e[dd]=r,QT(e,t,!1,!1),t.stateNode=e;e:{switch(o=C0(n,r),n){case"dialog":en("cancel",e),en("close",e),i=r;break;case"iframe":case"object":case"embed":en("load",e),i=r;break;case"video":case"audio":for(i=0;i<cc.length;i++)en(cc[i],e);i=r;break;case"source":en("error",e),i=r;break;case"img":case"image":case"link":en("error",e),en("load",e),i=r;break;case"details":en("toggle",e),i=r;break;case"input":kw(e,r),i=b0(e,r),en("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),en("invalid",e);break;case"textarea":Tw(e,r),i=S0(e,r),en("invalid",e);break;default:i=r}k0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CC(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&td(e,l):typeof l=="number"&&td(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",e):l!=null&&tx(e,s,l,o))}switch(n){case"input":hu(e),Cw(e,r,!1);break;case"textarea":hu(e),Lw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?rl(e,!!r.multiple,s,!1):r.defaultValue!=null&&rl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)JT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Fo(hd.current),Fo(Yi.current),bu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hi]=t,(s=r.nodeValue!==n)&&(e=Gr,e!==null))switch(e.tag){case 3:vu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hi]=t,t.stateNode=r}return Qn(t),null;case 13:if(on(un),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ln&&$r!==null&&t.mode&1&&!(t.flags&128))fT(),fl(),t.flags|=98560,s=!1;else if(s=bu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Hi]=t}else fl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),s=!1}else ki!==null&&(a_(ki),ki=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||un.current&1?In===0&&(In=3):zx())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return yl(),J0(e,t),e===null&&ld(t.stateNode.containerInfo),Qn(t),null;case 10:return vx(t.type._context),Qn(t),null;case 17:return Mr(t.type)&&fg(),Qn(t),null;case 19:if(on(un),s=t.memoizedState,s===null)return Qn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vl(s,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Eg(e),o!==null){for(t.flags|=128,Vl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qt(un,un.current&1|2),t.child}e=e.sibling}s.tail!==null&&xn()>vl&&(t.flags|=128,r=!0,Vl(s,!1),t.lanes=4194304)}else{if(!r)if(e=Eg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return Qn(t),null}else 2*xn()-s.renderingStartTime>vl&&n!==1073741824&&(t.flags|=128,r=!0,Vl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xn(),t.sibling=null,n=un.current,Qt(un,r?n&1|2:n&1),t):(Qn(t),null);case 22:case 23:return Dx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zr&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function Vz(e,t){switch(fx(t),t.tag){case 1:return Mr(t.type)&&fg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yl(),on(Ir),on(ir),Ax(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sx(t),null;case 13:if(on(un),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return on(un),null;case 4:return yl(),null;case 10:return vx(t.type._context),null;case 22:case 23:return Dx(),null;case 24:return null;default:return null}}var Su=!1,nr=!1,Gz=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Ga(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(e,t,r)}else n.current=null}function e_(e,t,n){try{n()}catch(r){yn(e,t,r)}}var yE=!1;function Hz(e,t){if(z0=hg,e=rT(),px(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var g;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(O0={focusedElem:e,selectionRange:n},hg=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,_=p.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ei(t.type,m),_);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(v){yn(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return p=yE,yE=!1,p}function Fc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&e_(t,n,s)}i=i.next}while(i!==r)}}function Dp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function t_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eL(e){var t=e.alternate;t!==null&&(e.alternate=null,eL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hi],delete t[dd],delete t[U0],delete t[Cz],delete t[Tz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tL(e){return e.tag===5||e.tag===3||e.tag===4}function xE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mg));else if(r!==4&&(e=e.child,e!==null))for(n_(e,t,n),e=e.sibling;e!==null;)n_(e,t,n),e=e.sibling}function r_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(r_(e,t,n),e=e.sibling;e!==null;)r_(e,t,n),e=e.sibling}var Un=null,Si=!1;function ks(e,t,n){for(n=n.child;n!==null;)nL(e,t,n),n=n.sibling}function nL(e,t,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(Tp,n)}catch{}switch(n.tag){case 5:nr||Ga(n,t);case 6:var r=Un,i=Si;Un=null,ks(e,t,n),Un=r,Si=i,Un!==null&&(Si?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Si?(e=Un,n=n.stateNode,e.nodeType===8?tf(e.parentNode,n):e.nodeType===1&&tf(e,n),sd(e)):tf(Un,n.stateNode));break;case 4:r=Un,i=Si,Un=n.stateNode.containerInfo,Si=!0,ks(e,t,n),Un=r,Si=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&e_(n,t,o),i=i.next}while(i!==r)}ks(e,t,n);break;case 1:if(!nr&&(Ga(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,t,a)}ks(e,t,n);break;case 21:ks(e,t,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,ks(e,t,n),nr=r):ks(e,t,n);break;default:ks(e,t,n)}}function vE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gz),t.forEach(function(r){var i=eO.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,Si=!1;break e;case 3:Un=a.stateNode.containerInfo,Si=!0;break e;case 4:Un=a.stateNode.containerInfo,Si=!0;break e}a=a.return}if(Un===null)throw Error(Ne(160));nL(s,o,i),Un=null,Si=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rL(t,e),t=t.sibling}function rL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xi(t,e),Oi(e),r&4){try{Fc(3,e,e.return),Dp(3,e)}catch(m){yn(e,e.return,m)}try{Fc(5,e,e.return)}catch(m){yn(e,e.return,m)}}break;case 1:xi(t,e),Oi(e),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(xi(t,e),Oi(e),r&512&&n!==null&&Ga(n,n.return),e.flags&32){var i=e.stateNode;try{td(i,"")}catch(m){yn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SC(i,s),C0(a,o);var c=C0(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?LC(i,u):d==="dangerouslySetInnerHTML"?CC(i,u):d==="children"?td(i,u):tx(i,d,u,c)}switch(a){case"input":w0(i,s);break;case"textarea":AC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?rl(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?rl(i,!!s.multiple,s.defaultValue,!0):rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[dd]=s}catch(m){yn(e,e.return,m)}}break;case 6:if(xi(t,e),Oi(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){yn(e,e.return,m)}}break;case 3:if(xi(t,e),Oi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sd(t.containerInfo)}catch(m){yn(e,e.return,m)}break;case 4:xi(t,e),Oi(e);break;case 13:xi(t,e),Oi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fx=xn())),r&4&&vE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nr=(c=nr)||d,xi(t,e),nr=c):xi(t,e),Oi(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ye=e,d=e.child;d!==null;){for(u=Ye=d;Ye!==null;){switch(h=Ye,g=h.child,h.tag){case 0:case 11:case 14:case 15:Fc(4,h,h.return);break;case 1:Ga(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){yn(r,n,m)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){wE(u);continue}}g!==null?(g.return=h,Ye=g):wE(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=TC("display",o))}catch(m){yn(e,e.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){yn(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:xi(t,e),Oi(e),r&4&&vE(e);break;case 21:break;default:xi(t,e),Oi(e)}}function Oi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tL(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(td(i,""),r.flags&=-33);var s=xE(e);r_(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xE(e);n_(e,a,o);break;default:throw Error(Ne(161))}}catch(l){yn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wz(e,t,n){Ye=e,iL(e)}function iL(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var i=Ye,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Su;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Su;var c=nr;if(Su=o,(nr=l)&&!c)for(Ye=i;Ye!==null;)o=Ye,l=o.child,o.tag===22&&o.memoizedState!==null?EE(i):l!==null?(l.return=o,Ye=l):EE(i);for(;s!==null;)Ye=s,iL(s),s=s.sibling;Ye=i,Su=a,nr=c}bE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ye=s):bE(e)}}function bE(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Dp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ei(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&iE(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iE(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&sd(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}nr||t.flags&512&&t_(t)}catch(h){yn(t,t.return,h)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function wE(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function EE(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dp(4,t)}catch(l){yn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){yn(t,i,l)}}var s=t.return;try{t_(t)}catch(l){yn(t,s,l)}break;case 5:var o=t.return;try{t_(t)}catch(l){yn(t,o,l)}}}catch(l){yn(t,t.return,l)}if(t===e){Ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ye=a;break}Ye=t.return}}var qz=Math.ceil,kg=bs.ReactCurrentDispatcher,Mx=bs.ReactCurrentOwner,ui=bs.ReactCurrentBatchConfig,Nt=0,Fn=null,Sn=null,Hn=0,zr=0,Ha=xo(0),In=0,fd=null,ra=0,zp=0,Px=0,Rc=null,Lr=null,Fx=0,vl=1/0,ts=null,Cg=!1,i_=null,io=null,Au=!1,Vs=null,Tg=0,Dc=0,s_=null,Ph=-1,Fh=0;function _r(){return Nt&6?xn():Ph!==-1?Ph:Ph=xn()}function so(e){return e.mode&1?Nt&2&&Hn!==0?Hn&-Hn:Nz.transition!==null?(Fh===0&&(Fh=UC()),Fh):(e=$t,e!==0||(e=window.event,e=e===void 0?16:XC(e.type)),e):1}function Li(e,t,n,r){if(50<Dc)throw Dc=0,s_=null,Error(Ne(185));Wd(e,n,r),(!(Nt&2)||e!==Fn)&&(e===Fn&&(!(Nt&2)&&(zp|=n),In===4&&Us(e,Hn)),Pr(e,r),n===1&&Nt===0&&!(t.mode&1)&&(vl=xn()+500,Pp&&vo()))}function Pr(e,t){var n=e.callbackNode;N5(e,t);var r=ug(e,e===Fn?Hn:0);if(r===0)n!==null&&Mw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mw(n),t===1)e.tag===0?Lz(SE.bind(null,e)):gT(SE.bind(null,e)),Az(function(){!(Nt&6)&&vo()}),n=null;else{switch($C(r)){case 1:n=ox;break;case 4:n=BC;break;case 16:n=dg;break;case 536870912:n=jC;break;default:n=dg}n=hL(n,sL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sL(e,t){if(Ph=-1,Fh=0,Nt&6)throw Error(Ne(327));var n=e.callbackNode;if(ll()&&e.callbackNode!==n)return null;var r=ug(e,e===Fn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lg(e,r);else{t=r;var i=Nt;Nt|=2;var s=aL();(Fn!==e||Hn!==t)&&(ts=null,vl=xn()+500,Go(e,t));do try{Zz();break}catch(a){oL(e,a)}while(!0);xx(),kg.current=s,Nt=i,Sn!==null?t=0:(Fn=null,Hn=0,t=In)}if(t!==0){if(t===2&&(i=M0(e),i!==0&&(r=i,t=o_(e,i))),t===1)throw n=fd,Go(e,0),Us(e,r),Pr(e,xn()),n;if(t===6)Us(e,r);else{if(i=e.current.alternate,!(r&30)&&!Xz(i)&&(t=Lg(e,r),t===2&&(s=M0(e),s!==0&&(r=s,t=o_(e,s))),t===1))throw n=fd,Go(e,0),Us(e,r),Pr(e,xn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Co(e,Lr,ts);break;case 3:if(Us(e,r),(r&130023424)===r&&(t=Fx+500-xn(),10<t)){if(ug(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=j0(Co.bind(null,e,Lr,ts),t);break}Co(e,Lr,ts);break;case 4:if(Us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ti(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qz(r/1960))-r,10<r){e.timeoutHandle=j0(Co.bind(null,e,Lr,ts),r);break}Co(e,Lr,ts);break;case 5:Co(e,Lr,ts);break;default:throw Error(Ne(329))}}}return Pr(e,xn()),e.callbackNode===n?sL.bind(null,e):null}function o_(e,t){var n=Rc;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Lg(e,t),e!==2&&(t=Lr,Lr=n,t!==null&&a_(t)),e}function a_(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function Xz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ni(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~Px,t&=~zp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ti(t),r=1<<n;e[n]=-1,t&=~r}}function SE(e){if(Nt&6)throw Error(Ne(327));ll();var t=ug(e,0);if(!(t&1))return Pr(e,xn()),null;var n=Lg(e,t);if(e.tag!==0&&n===2){var r=M0(e);r!==0&&(t=r,n=o_(e,r))}if(n===1)throw n=fd,Go(e,0),Us(e,t),Pr(e,xn()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e,Lr,ts),Pr(e,xn()),null}function Rx(e,t){var n=Nt;Nt|=1;try{return e(t)}finally{Nt=n,Nt===0&&(vl=xn()+500,Pp&&vo())}}function ia(e){Vs!==null&&Vs.tag===0&&!(Nt&6)&&ll();var t=Nt;Nt|=1;var n=ui.transition,r=$t;try{if(ui.transition=null,$t=1,e)return e()}finally{$t=r,ui.transition=n,Nt=t,!(Nt&6)&&vo()}}function Dx(){zr=Ha.current,on(Ha)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sz(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(fx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fg();break;case 3:yl(),on(Ir),on(ir),Ax();break;case 5:Sx(r);break;case 4:yl();break;case 13:on(un);break;case 19:on(un);break;case 10:vx(r.type._context);break;case 22:case 23:Dx()}n=n.return}if(Fn=e,Sn=e=oo(e.current,null),Hn=zr=t,In=0,fd=null,Px=zp=ra=0,Lr=Rc=null,Po!==null){for(t=0;t<Po.length;t++)if(n=Po[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Po=null}return e}function oL(e,t){do{var n=Sn;try{if(xx(),Nh.current=Ag,Sg){for(var r=hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sg=!1}if(na=0,Pn=Ln=hn=null,Pc=!1,gd=0,Mx.current=null,n===null||n.return===null){In=1,fd=t,Sn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=uE(o);if(g!==null){g.flags&=-257,hE(g,o,a,s,t),g.mode&1&&dE(s,c,t),t=g,l=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){dE(s,c,t),zx();break e}l=Error(Ne(426))}}else if(ln&&a.mode&1){var _=uE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),hE(_,o,a,s,t),_x(xl(l,a));break e}}s=l=xl(l,a),In!==4&&(In=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=VT(s,l,t);rE(s,y);break e;case 1:a=l;var f=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(io===null||!io.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=GT(s,a,t);rE(s,v);break e}}s=s.return}while(s!==null)}cL(n)}catch(w){t=w,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function aL(){var e=kg.current;return kg.current=Ag,e===null?Ag:e}function zx(){(In===0||In===3||In===2)&&(In=4),Fn===null||!(ra&268435455)&&!(zp&268435455)||Us(Fn,Hn)}function Lg(e,t){var n=Nt;Nt|=2;var r=aL();(Fn!==e||Hn!==t)&&(ts=null,Go(e,t));do try{Yz();break}catch(i){oL(e,i)}while(!0);if(xx(),Nt=n,kg.current=r,Sn!==null)throw Error(Ne(261));return Fn=null,Hn=0,In}function Yz(){for(;Sn!==null;)lL(Sn)}function Zz(){for(;Sn!==null&&!b5();)lL(Sn)}function lL(e){var t=uL(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?cL(e):Sn=t,Mx.current=null}function cL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vz(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Sn=null;return}}else if(n=$z(n,t,zr),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);In===0&&(In=5)}function Co(e,t,n){var r=$t,i=ui.transition;try{ui.transition=null,$t=1,Qz(e,t,n,r)}finally{ui.transition=i,$t=r}return null}function Qz(e,t,n,r){do ll();while(Vs!==null);if(Nt&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(I5(e,s),e===Fn&&(Sn=Fn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,hL(dg,function(){return ll(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var o=$t;$t=1;var a=Nt;Nt|=4,Mx.current=null,Hz(e,n),rL(n,e),_z(O0),hg=!!z0,O0=z0=null,e.current=n,Wz(n),w5(),Nt=a,$t=o,ui.transition=s}else e.current=n;if(Au&&(Au=!1,Vs=e,Tg=i),s=e.pendingLanes,s===0&&(io=null),A5(n.stateNode),Pr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cg)throw Cg=!1,e=i_,i_=null,e;return Tg&1&&e.tag!==0&&ll(),s=e.pendingLanes,s&1?e===s_?Dc++:(Dc=0,s_=e):Dc=0,vo(),null}function ll(){if(Vs!==null){var e=$C(Tg),t=ui.transition,n=$t;try{if(ui.transition=null,$t=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,Tg=0,Nt&6)throw Error(Ne(331));var i=Nt;for(Nt|=4,Ye=e.current;Ye!==null;){var s=Ye,o=s.child;if(Ye.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ye=c;Ye!==null;){var d=Ye;switch(d.tag){case 0:case 11:case 15:Fc(8,d,s)}var u=d.child;if(u!==null)u.return=d,Ye=u;else for(;Ye!==null;){d=Ye;var h=d.sibling,g=d.return;if(eL(d),d===c){Ye=null;break}if(h!==null){h.return=g,Ye=h;break}Ye=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Ye=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ye=o;else e:for(;Ye!==null;){if(s=Ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ye=y;break e}Ye=s.return}}var f=e.current;for(Ye=f;Ye!==null;){o=Ye;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ye=x;else e:for(o=f;Ye!==null;){if(a=Ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dp(9,a)}}catch(w){yn(a,a.return,w)}if(a===o){Ye=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Ye=v;break e}Ye=a.return}}if(Nt=i,vo(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(Tp,e)}catch{}r=!0}return r}finally{$t=n,ui.transition=t}}return!1}function AE(e,t,n){t=xl(n,t),t=VT(e,t,1),e=ro(e,t,1),t=_r(),e!==null&&(Wd(e,1,t),Pr(e,t))}function yn(e,t,n){if(e.tag===3)AE(e,e,n);else for(;t!==null;){if(t.tag===3){AE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){e=xl(n,e),e=GT(t,e,1),t=ro(t,e,1),e=_r(),t!==null&&(Wd(t,1,e),Pr(t,e));break}}t=t.return}}function Kz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&n,Fn===e&&(Hn&n)===n&&(In===4||In===3&&(Hn&130023424)===Hn&&500>xn()-Fx?Go(e,0):Px|=n),Pr(e,t)}function dL(e,t){t===0&&(e.mode&1?(t=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):t=1);var n=_r();e=ms(e,t),e!==null&&(Wd(e,t,n),Pr(e,n))}function Jz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dL(e,n)}function eO(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),dL(e,n)}var uL;uL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,Uz(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,ln&&t.flags&1048576&&pT(t,xg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Mh(e,t),e=t.pendingProps;var i=ml(t,ir.current);al(t,n),i=Cx(null,t,r,e,i,n);var s=Tx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(r)?(s=!0,_g(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wx(t),i.updater=Fp,t.stateNode=i,i._reactInternals=t,q0(t,r,e,n),t=Z0(null,t,r,!0,s,n)):(t.tag=0,ln&&s&&mx(t),gr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Mh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=nO(r),e=Ei(r,e),i){case 0:t=Y0(null,t,r,e,n);break e;case 1:t=mE(null,t,r,e,n);break e;case 11:t=gE(null,t,r,e,n);break e;case 14:t=pE(null,t,r,Ei(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ei(r,i),Y0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ei(r,i),mE(e,t,r,i,n);case 3:e:{if(XT(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,yT(e,t),wg(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=xl(Error(Ne(423)),t),t=fE(e,t,r,n,i);break e}else if(r!==i){i=xl(Error(Ne(424)),t),t=fE(e,t,r,n,i);break e}else for($r=no(t.stateNode.containerInfo.firstChild),Gr=t,ln=!0,ki=null,n=wT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fl(),r===i){t=fs(e,t,n);break e}gr(e,t,r,n)}t=t.child}return t;case 5:return ET(t),e===null&&G0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,B0(r,i)?o=null:s!==null&&B0(r,s)&&(t.flags|=32),qT(e,t),gr(e,t,o,n),t.child;case 6:return e===null&&G0(t),null;case 13:return YT(e,t,n);case 4:return Ex(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_l(t,null,r,n):gr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ei(r,i),gE(e,t,r,i,n);case 7:return gr(e,t,t.pendingProps,n),t.child;case 8:return gr(e,t,t.pendingProps.children,n),t.child;case 12:return gr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Qt(vg,r._currentValue),r._currentValue=o,s!==null)if(Ni(s.value,o)){if(s.children===i.children&&!Ir.current){t=fs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=cs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),H0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),H0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,al(t,n),i=hi(i),r=r(i),t.flags|=1,gr(e,t,r,n),t.child;case 14:return r=t.type,i=Ei(r,t.pendingProps),i=Ei(r.type,i),pE(e,t,r,i,n);case 15:return HT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ei(r,i),Mh(e,t),t.tag=1,Mr(r)?(e=!0,_g(t)):e=!1,al(t,n),vT(t,r,i),q0(t,r,i,n),Z0(null,t,r,!0,e,n);case 19:return ZT(e,t,n);case 22:return WT(e,t,n)}throw Error(Ne(156,t.tag))};function hL(e,t){return OC(e,t)}function tO(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(e,t,n,r){return new tO(e,t,n,r)}function Ox(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nO(e){if(typeof e=="function")return Ox(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rx)return 11;if(e===ix)return 14}return 2}function oo(e,t){var n=e.alternate;return n===null?(n=ci(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Ox(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ra:return Ho(n.children,i,s,t);case nx:o=8,i|=8;break;case _0:return e=ci(12,n,t,i|2),e.elementType=_0,e.lanes=s,e;case y0:return e=ci(13,n,t,i),e.elementType=y0,e.lanes=s,e;case x0:return e=ci(19,n,t,i),e.elementType=x0,e.lanes=s,e;case bC:return Op(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xC:o=10;break e;case vC:o=9;break e;case rx:o=11;break e;case ix:o=14;break e;case Rs:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=ci(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ho(e,t,n,r){return e=ci(7,e,r,t),e.lanes=n,e}function Op(e,t,n,r){return e=ci(22,e,r,t),e.elementType=bC,e.lanes=n,e.stateNode={isHidden:!1},e}function df(e,t,n){return e=ci(6,e,null,t),e.lanes=n,e}function uf(e,t,n){return t=ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rO(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bx(e,t,n,r,i,s,o,a,l){return e=new rO(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ci(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wx(s),e}function iO(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gL(e){if(!e)return uo;e=e._reactInternals;e:{if(ga(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(Mr(n))return hT(e,n,t)}return t}function pL(e,t,n,r,i,s,o,a,l){return e=Bx(n,r,!0,e,i,s,o,a,l),e.context=gL(null),n=e.current,r=_r(),i=so(n),s=cs(r,i),s.callback=t??null,ro(n,s,i),e.current.lanes=i,Wd(e,i,r),Pr(e,r),e}function Bp(e,t,n,r){var i=t.current,s=_r(),o=so(i);return n=gL(n),t.context===null?t.context=n:t.pendingContext=n,t=cs(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(i,t,o),e!==null&&(Li(e,i,o,s),Lh(e,i,o)),o}function Ng(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function jx(e,t){kE(e,t),(e=e.alternate)&&kE(e,t)}function sO(){return null}var mL=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ux(e){this._internalRoot=e}jp.prototype.render=Ux.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));Bp(e,t,null,null)};jp.prototype.unmount=Ux.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ia(function(){Bp(null,e,null,null)}),t[ps]=null}};function jp(e){this._internalRoot=e}jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=HC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<js.length&&t!==0&&t<js[n].priority;n++);js.splice(n,0,e),n===0&&qC(e)}};function $x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Up(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function CE(){}function oO(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ng(o);s.call(c)}}var o=pL(t,r,e,0,null,!1,!1,"",CE);return e._reactRootContainer=o,e[ps]=o.current,ld(e.nodeType===8?e.parentNode:e),ia(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ng(l);a.call(c)}}var l=Bx(e,0,!1,null,null,!1,!1,"",CE);return e._reactRootContainer=l,e[ps]=l.current,ld(e.nodeType===8?e.parentNode:e),ia(function(){Bp(t,l,n,r)}),l}function $p(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ng(o);a.call(l)}}Bp(t,o,e,i)}else o=oO(n,t,e,i,r);return Ng(o)}VC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lc(t.pendingLanes);n!==0&&(ax(t,n|1),Pr(t,xn()),!(Nt&6)&&(vl=xn()+500,vo()))}break;case 13:ia(function(){var r=ms(e,1);if(r!==null){var i=_r();Li(r,e,1,i)}}),jx(e,1)}};lx=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=_r();Li(t,e,134217728,n)}jx(e,134217728)}};GC=function(e){if(e.tag===13){var t=so(e),n=ms(e,t);if(n!==null){var r=_r();Li(n,e,t,r)}jx(e,t)}};HC=function(){return $t};WC=function(e,t){var n=$t;try{return $t=e,t()}finally{$t=n}};L0=function(e,t,n){switch(t){case"input":if(w0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Mp(r);if(!i)throw Error(Ne(90));EC(r),w0(r,i)}}}break;case"textarea":AC(e,n);break;case"select":t=n.value,t!=null&&rl(e,!!n.multiple,t,!1)}};MC=Rx;PC=ia;var aO={usingClientEntryPoint:!1,Events:[Xd,Ba,Mp,NC,IC,Rx]},Gl={findFiberByHostInstance:Mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lO={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DC(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||sO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Tp=ku.inject(lO),Xi=ku}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aO;Xr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$x(t))throw Error(Ne(200));return iO(e,t,null,n)};Xr.createRoot=function(e,t){if(!$x(e))throw Error(Ne(299));var n=!1,r="",i=mL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Bx(e,1,!1,null,null,n,!1,r,i),e[ps]=t.current,ld(e.nodeType===8?e.parentNode:e),new Ux(t)};Xr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=DC(t),e=e===null?null:e.stateNode,e};Xr.flushSync=function(e){return ia(e)};Xr.hydrate=function(e,t,n){if(!Up(t))throw Error(Ne(200));return $p(null,e,t,!0,n)};Xr.hydrateRoot=function(e,t,n){if(!$x(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pL(t,null,e,1,n??null,i,!1,s,o),e[ps]=t.current,ld(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new jp(t)};Xr.render=function(e,t,n){if(!Up(t))throw Error(Ne(200));return $p(null,e,t,!1,n)};Xr.unmountComponentAtNode=function(e){if(!Up(e))throw Error(Ne(40));return e._reactRootContainer?(ia(function(){$p(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Xr.unstable_batchedUpdates=Rx;Xr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Up(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return $p(e,t,n,!1,r)};Xr.version="18.2.0-next-9e3b772b8-20220608";function fL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fL)}catch(e){console.error(e)}}fL(),pC.exports=Xr;var bo=pC.exports,TE=bo;m0.createRoot=TE.createRoot,m0.hydrateRoot=TE.hydrateRoot;var cO=Object.create,Vp=Object.defineProperty,dO=Object.defineProperties,uO=Object.getOwnPropertyDescriptor,hO=Object.getOwnPropertyDescriptors,_L=Object.getOwnPropertyNames,LE=Object.getOwnPropertySymbols,gO=Object.getPrototypeOf,yL=Object.prototype.hasOwnProperty,pO=Object.prototype.propertyIsEnumerable,NE=(e,t,n)=>t in e?Vp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))yL.call(t,n)&&NE(e,n,t[n]);if(LE)for(var n of LE(t))pO.call(t,n)&&NE(e,n,t[n]);return e},St=(e,t)=>dO(e,hO(t)),xL=(e,t)=>function(){return t||(0,e[_L(e)[0]])((t={exports:{}}).exports,t),t.exports},Zd=(e,t)=>{for(var n in t)Vp(e,n,{get:t[n],enumerable:!0})},mO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _L(t))yL.call(e,i)||i===n||Vp(e,i,{get:()=>t[i],enumerable:!(r=uO(t,i))||r.enumerable});return e},Vx=(e,t,n)=>(n=e!=null?cO(gO(e)):{},mO(!t&&e&&e.__esModule?n:Vp(n,"default",{value:e,enumerable:!0}),e)),vL=xL({"node_modules/@linkurious/ogma-parsers/dist/ogma-parsers.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Parsers
* @description Parsers for Ogma
* @version 0.0.18 (built on Mon Nov 13 2023 16:35:06 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2023. All rights reserved.
* @preserve
*/function s(Z,te,se){se=se||te,te in Z&&(Z.attributes[se]=Z[te])}function o(Z,te,se){if(Z&&typeof Z=="object"){if(Array.isArray(Z))return Z.forEach(oe=>o(oe,te,se));if(function(ge){return ge.type==="vertex"||ge._type==="vertex"||ge.inE||ge.outE||ge._inE||ge._outE}(Z)){const oe={};Z.properties&&Object.keys(Z.properties).forEach(pe=>{oe[pe]=Z.properties[pe][0].value});const ge=l(Z);te.push({id:ge,data:{id:Z.id+"",categories:[Z.label],properties:oe}});for(const pe in Z)pe!=="properties"&&o(Z[pe],te,se);return}if(function(ge){return ge.type==="edge"||ge._type==="edge"||ge.inV||ge.outV||ge._outV||ge._inV}(Z)){const oe=l(Z);se.push({id:oe,source:a(Z,["inV","_inV"]),target:a(Z,["outV","_outV"]),data:{id:oe,type:Z.label,properties:Z.properties||{}}});for(const ge in Z)ge!=="properties"&&o(Z[ge],te,se);return}Object.keys(Z).forEach(oe=>o(Z[oe],te,se))}}function a(Z,te){for(const se of te)if(Z[se])return l(Z[se])}function l(Z){if(typeof Z=="string"||isFinite(Z))return String(Z);const te=Z;return String(te.id||te._id)}const c=Z=>Z.charCodeAt(0),d=c(" "),u=c("<"),h=c(">"),g=c('"'),p=c(`
`),m=c("\r"),_=c("/"),y=c("\\"),f=c("a"),x=c("z"),v=c("A"),w=c("Z"),b=c("0"),S=c("9"),A=c(":"),C=-1,k=-2,N=-3,R=-4;function B(Z,te,se,oe){const ge=oe.length;if(se-te!==ge)return!1;for(let pe=0;pe<ge;++pe)if(Z[te+pe]!==oe[pe])return!1;return!0}function H(Z,te,se,oe){return F(Z.tags,te,se,oe)}function F(Z,te,se,oe){const ge=Z.length;for(let pe=0;pe<ge;++pe)if(B(te,se,oe,Z[pe]))return pe;return Z.push(te.slice(se,oe)),ge}function T(Z,te,se){let oe=G(te,se),ge=te[oe];if(ge===h||ge===_)return oe;let pe=oe;oe=ee(te,oe);const Oe=function(Fe,nt,rt,Rt){return F(Fe.attributes,nt,rt,Rt)}(Z,te,pe,oe);for(;te[oe]!==g;)++oe;for(++oe,pe=oe;(ge=te[oe])!==g;)ge===y&&++oe,++oe;return Z.tokens.push(N,Oe,pe,oe),oe+1}function W(Z){return Z===d||Z===p||Z===m}function G(Z,te){for(;W(Z[te]);)++te;return te}function Y(Z){return Z>=f&&Z<=x||Z>=v&&Z<=w||Z===A||Z>=b&&Z<=S}function ee(Z,te){for(;Y(Z[te]);)++te;return te}function J(Z,te){const se=["return {","  id: undefined,","  attributes: {","    text: undefined,","    color: undefined,",`    ${Z?"radius":"width"}: undefined`,Z?"  ,x: undefined":"",Z?"  ,y: undefined":"","  },"];Z||se.push("  source: undefined,","  target: undefined,");const oe=Object.keys(te);oe.length&&se.push("  data: {");for(let ge=0;ge<oe.length;++ge){const pe=te[oe[ge]],Oe=pe.title;se.push(`  "${Oe}": ${pe.default!==void 0?JSON.stringify(pe.default):void 0}${ge===oe.length-1?"":","}`)}return oe.length&&se.push("}"),se.push("};"),new Function(se.join(`
`))}function ue(Z){return Z.indexOf("\\")===-1||(Z=Z.replace(/\\"/g,'"')),Z}function Ae(Z,te){let se=0;for(let oe=0;oe<20;++oe){const ge=se+Z[oe]+te[oe];se=+(ge>=10),Z[oe]=ge%10}}const ce=new class{constructor(){this._decimalPowerOfTwo=new Uint8Array(20),this._binaryNumber=new Uint8Array(64),this._decimalNumber=new Uint8Array(20)}int64ToString({low:te,high:se}){if(te===0&&se===0)return"0";(function(Ie,Fe,nt){for(let rt=0;rt<32;++rt)nt[rt]=+!!(Ie&1<<rt);for(let rt=0;rt<32;++rt)nt[rt+32]=+!!(Fe&1<<rt);return nt})(te,se,this._binaryNumber),this._decimalNumber.fill(0),this._decimalPowerOfTwo.fill(0),this._decimalPowerOfTwo[0]=1;const oe=this._binaryNumber[63]===1;oe&&function(Ie){for(let Fe=0;Fe<64;++Fe)Ie[Fe]^=1;for(let Fe=0;Fe<64&&!(Ie[Fe]^=1);++Fe);}(this._binaryNumber);for(let Oe=0;Oe<64;++Oe)this._binaryNumber[Oe]&&Ae(this._decimalNumber,this._decimalPowerOfTwo),Ae(this._decimalPowerOfTwo,this._decimalPowerOfTwo);const ge=[];let pe=this._decimalNumber.length-1;for(oe&&ge.push("-");!this._decimalNumber[pe];)pe-=1;for(let Oe=pe;Oe>=0;--Oe)ge.push(String(this._decimalNumber[Oe]));return ge.join("")}};function _e(Z){return ce.int64ToString(Z)}function ze(Z){return typeof Z=="object"&&"high"in Z&&"low"in Z}const Me=Z=>"start"in Z&&"end"in Z&&"type"in Z,We=Z=>"segments"in Z;function he(Z,te,se,oe){if(te)if(Array.isArray(te))te.forEach(ge=>he(Z,ge,se,oe));else if(We(te))(function(pe,Oe,Ie,Fe){Oe.segments.forEach(nt=>{he(pe,nt.start,Ie,Fe),he(pe,nt.end,Ie,Fe),he(pe,nt.relationship,Ie,Fe)})})(Z,te,se,oe);else if(function(pe){if(typeof pe!="object"||pe===null)throw new Error("Ogma can only retrieve nodes and relationships from Neo4j. Please make sure that your Cypher query returns nodes and edges, not values.");const Oe=Object.keys(pe.properties);for(const Ie of Oe){const Fe=pe.properties[Ie];ze(Fe)&&(pe.properties[Ie]=_e(Fe))}if(pe.identity!==void 0){if(ze(pe.identity)&&(pe.identity=_e(pe.identity)),function(Fe){return"start"in Fe&&"end"in Fe}(pe)){const Ie=pe.start.identity||pe.start,Fe=pe.end.identity||pe.end;ze(Ie)&&(pe.start=_e(Ie)),ze(Fe)&&(pe.end=_e(Fe))}}else pe.id&&(pe.identity=pe.id)}(te),Me(te))oe.has(te.identity)||(oe.add(te.identity),Z.edges.push({id:te.identity,source:te.start,target:te.end,data:{neo4jType:te.type,neo4jProperties:te.properties}}));else{const ge=te;se.has(ge.identity)||(se.add(ge.identity),Z.nodes.push({id:ge.identity,attributes:{},data:{neo4jLabels:ge.labels,neo4jProperties:ge.properties}}))}}const ye={boolean:Z=>Z.toLowerCase()==="true",int:parseFloat,long:parseFloat,float:parseFloat,double:parseFloat,string:Z=>Z};function Ze(Z,te,se){const oe=Z.getElementsByTagName("data"),ge={};for(let pe=0;pe<oe.length;pe++){const Oe=oe[pe],Ie=Oe.getAttribute("key");if(Ie===null)continue;const Fe=te[Ie];typeof Fe>"u"?ge[Ie]=Oe.textContent:Oe.textContent&&Oe.textContent.length!==0&&(ge[Fe.name]=Fe.parse(Oe.textContent))}for(const pe in se)pe in ge||(ge[pe]=se[pe]);return ge}function tt(Z){return Z.color?Z.color:Z.r&&Z.g&&Z.b?`rgb(${Z.r}, ${Z.g}, ${Z.b})`:void 0}const ut=new Set(["x","y","size","color","r","g","b","label"]);function st(Z){const te={};for(const se in Z)ut.has(se)||Z[se]===void 0||(te[se]=Z[se]);return te}i.gexf=function(te){if(te.indexOf("<gexf")===-1)throw new Error("not a GEXF file");const se=function(O){const j=new Int32Array(O.length);for(let Q=0,K=O.length;Q<K;++Q)j[Q]=O.charCodeAt(Q);return j}(te),oe=function(O,j){let Q,K;const de={tags:[],attributes:[],tokens:[]},ne=de.tokens;let re=G(O,j);for(;re<O.length;){let le=O[re];if(le===u){if(re=G(O,++re),O[re]===_)for(ne.push(k);O[++re]!==h;);else{Q=re,re=ee(O,Q);const fe=H(de,O,Q,re);for(ne.push(C,fe),le=O[re];le!==h&&le!==_;)re=T(de,O,re),le=O[re];if(le===_)for(ne.push(k);O[++re]!==h;);}re+=1}else{for(Q=re;O[++re]!==u;);for(K=re-1;W(O[K]);)--K;ne.push(R,Q,K+1)}re=G(O,re)}return de}(se,te.indexOf("<gexf ")),ge={},pe={};oe.tags.forEach((q,O)=>{const j=String.fromCharCode.apply(null,q);ge[j]=O}),oe.attributes.forEach((q,O)=>{const j=String.fromCharCode.apply(null,q);pe[j]=O});const Oe=ge.attributes,Ie=ge.attribute,Fe=ge.node,nt=ge.edge,rt=ge.default,Rt=ge["viz:position"],It=ge["viz:size"],Mt=ge["viz:color"],Wt=ge.attvalue,vt=pe.class,lt=pe.id,Ct=pe.type,Pt=pe.title,Dt=pe.label,kt=pe.source,bt=pe.target,Gt=pe.x,qt=pe.y,Er=pe.r,ht=pe.g,xt=pe.b,gt=pe.a,jt=pe.value,Jt=pe.for,pn=pe.weight,zn={float:1,double:1,integer:2,boolean:3,string:4,"list-string":5};let mn=0;const Mn=oe.tokens,Sr=Mn.length,Ri=new Array(16);let Ut=0,An=0,On=0,z=!0;const U={},X={};let V,ae,Le="",Xe="",je="",Ue={attributes:{}},et=0,pt=0,yt=0,ct=1,mt="",Vt=!1,fn=!0,Ft=null,wt=null;const M=[],D=[];let P=0,$={};for(;mn<Sr;){const q=Mn[mn];if(q===C)An=Ut,Ut=Mn[mn+1],Ri[On]=Ut,On+=1,Ut===Fe?(Ft||(Ft=J(!0,U)),Ue=Ft(),fn=!0,$=U):Ut===nt&&(wt||(wt=J(!1,X)),Ue=wt(),fn=!1,$=X),mn+=2;else if(q===k){if(Le&&Ut===Ie){$=z?U:X;const O=zn[Xe];let j=V;j&&(O===1?j=+j:O===2?j=0|+j:O===3?j=j==="true":O===5&&(j=j.split(" ").filter(Q=>Q))),$[Le]={title:je||Le,default:j,type:O},Le="",je="",Xe="",V=void 0}else if(Ut===Fe&&On===4)Vt&&Ue.attributes&&(Ue.attributes.color=`rgba(${et}, ${pt}, ${yt}, ${ct})`,et=0,pt=0,yt=0,ct=1,Vt=!1),Ue.id||(Ue.id=++P),M.push(Ue);else if(Ut===nt&&On===4)Ue.id||(Ue.id=++P),D.push(Ue);else if(Ut===Wt&&On===6&&mt){const O=(fn?U:X)[mt];if(O){if(ae===void 0)ae=O.default;else{const j=O.type;j&&(j===1?ae=+ae:j===2?ae=0|+ae:j===3?ae=ae==="true":j===5?ae=ae.split(" ").filter(Q=>Q).map(Q=>ue(Q)):typeof se=="string"&&(ae=ue(ae)))}Ue.data[$[mt].title]=ae}mt="",ae=null}On-=1,Ut=An,An=Ri[On-2],mn+=1}else if(q===N){const O=Mn[mn+1],j=te.substring(Mn[mn+2],Mn[mn+3]);if(Ut===Oe)O===vt&&(z=j!=="edge"&&j!=="edges");else if(Ut===Ie)O===lt?Le=j:O===Ct?Xe=j:O===Pt&&(je=j);else if(Ut!==Fe&&Ut!==nt||On!==4)if(Ut===Rt&&On===5){if(O===Gt)Ue.attributes.x=parseFloat(j);else if(O===qt){const Q=parseFloat(j);Ue.attributes.y=Q===0?Q:-Q}}else Ut===Mt&&On===5?(Vt=!0,O===Er?et=parseInt(j):O===ht?pt=parseInt(j):O===xt?yt=parseInt(j):O===gt&&(ct=parseFloat(j))):Ut===It&&On===5?O===jt&&(fn?Ue.attributes.radius=+j:Ue.attributes.width=+j):Ut===Wt&&On===6&&(O===Jt||O===lt?mt=j:O===jt&&(ae=j));else O===lt?Ue.id=j:O===Dt?Ue.attributes.text=j:O===kt?Ue.source=j:O===bt?Ue.target=j:O===pn&&(Ue.attributes.width=+j);mn+=4}else{if(q!==R)throw new Error(`at index ${mn}: token ${q}`);{const O=te.substring(Mn[mn+1],Mn[mn+2]);Ut===rt&&(V=O),mn+=3}}}return{nodes:M,edges:D}},i.graphml=function(te,se){if(!se){if(typeof DOMParser>"u")throw new Error("DOMParser is not available. You need to provide a DOMParser instance as second argument, if you are not in the browser environment");se=new DOMParser}const oe=se.parseFromString(te,"application/xml"),ge=oe.getElementsByTagName("key"),pe=oe.getElementsByTagName("node"),Oe=oe.getElementsByTagName("edge"),{definitions:Ie,defaults:Fe}=function(Mt){const Wt={graph:{},node:{},edge:{}},vt={graph:{},node:{},edge:{}};for(let lt=0;lt<Mt.length;lt++){const Ct=Mt[lt],Pt=Ct.getAttribute("for")||"node",Dt=Ct.getAttribute("id"),kt=Ct.getAttribute("attr.name"),bt=Ct.getAttribute("attr.type")||"string",Gt=Ct.getElementsByTagName("default"),qt=Gt.length!==0?Gt[0].textContent:void 0;Wt[Pt][Dt]={name:kt,parse:ye[bt]},typeof qt<"u"&&(vt[Pt][kt]=qt)}return{definitions:Wt,defaults:vt}}(ge),nt=[],rt=new Set;for(let It=0;It<pe.length;It++){const Mt=pe[It],Wt=Mt.getAttribute("id"),vt=Mt.getAttribute("href")||void 0,lt=Ze(Mt,Ie.node,Fe.node);rt.add(Wt);const Ct={id:Wt,attributes:{x:lt.x,y:lt.y,radius:lt.size,color:tt(lt),text:lt.label},data:st(lt)};lt.x!==void 0&&(Ct.attributes.x=lt.x),lt.y!==void 0&&(Ct.attributes.y=lt.y),lt.size!==void 0&&(Ct.attributes.radius=lt.size),lt.label!==void 0&&(Ct.attributes.text=lt.label);const Pt=tt(lt);Pt!==void 0&&(Ct.attributes.color=Pt),vt!==void 0&&(Ct.data.href=vt),nt.push(Ct)}const Rt=[];for(let It=0;It<Oe.length;It++){const Mt=Oe[It],Wt=Mt.getAttribute("id")||It,vt=Mt.getAttribute("source"),lt=Mt.getAttribute("target"),Ct=Mt.getAttribute("xlink:href")||void 0;if(!rt.has(vt)||!rt.has(lt))throw new Error(`Invalid edge: ${vt} -> ${lt}`);const Pt=Ze(Mt,Ie.edge,Fe.edge),Dt={id:Wt,source:vt,target:lt,attributes:{},data:st(Pt)},kt=tt(Pt);kt!==void 0&&(Dt.attributes.color=kt),Ct!==void 0&&(Dt.data.href=Ct),Rt.push(Dt)}return{nodes:nt,edges:Rt}},i.janus=function(te){const se=[],oe=[];return o(typeof te=="string"?JSON.parse(te):te,se,oe),{nodes:se,edges:oe}},i.json=function(te,se=oe=>oe){const oe=se(JSON.parse(te)),ge=oe.nodes||[],pe=oe.edges||[];for(let Oe=0;Oe<ge.length;Oe++){const Ie=ge[Oe];Ie.attributes||(Ie.attributes={}),typeof Ie.size=="string"&&(Ie.size=+Ie.size),typeof Ie.x=="string"&&(Ie.x=+Ie.x),typeof Ie.y=="string"&&(Ie.y=+Ie.y),s(Ie,"x"),s(Ie,"y"),s(Ie,"size","radius"),s(Ie,"color"),s(Ie,"text")}for(let Oe=0;Oe<pe.length;Oe++){const Ie=pe[Oe];Ie.attributes||(Ie.attributes={}),typeof Ie.size=="string"&&(Ie.size=+Ie.size),s(Ie,"size","width"),s(Ie,"color"),s(Ie,"text")}return{nodes:ge,edges:pe}},i.neo4j=function(te){let se=typeof te=="string"?JSON.parse(te):te;const oe={nodes:[],edges:[]},ge=new Set,pe=new Set;return(Oe=>"queryKeys"in Oe&&"values"in Oe)(se)&&(se=function(Ie){const Fe=[];return Ie.values.forEach(nt=>{const{nodes:rt=[],relationships:Rt=[],segments:It=[]}=nt.adapted,Mt=[{segments:It,properties:{}}];Fe.push({_fields:[...rt,...Rt,...Mt]})}),{records:Fe}}(se)),se.records.forEach(({_fields:Oe})=>Oe.forEach(Ie=>he(oe,Ie,ge,pe))),oe},Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaParsers={})}}),fO=xL({"node_modules/@linkurious/ogma-generators/dist/ogma-generators.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Generators
* @description Graphs Generators for Ogma
* @version 0.0.13 (built on Tue Nov 14 2023 10:49:46 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2023. All rights reserved.
* @preserve
*/const s=Object.freeze(Object.defineProperty({__proto__:null,configure:({nodes:b=10,edges:S=10,texts:A=!1,scale:C=100}={})=>({nodes:b,edges:S,texts:A,scale:C}),generate:function({nodes:S,scale:A,texts:C,edges:k}){const N=[],R=[];for(let B=0;B<S;B++)N.push({id:B,attributes:{x:Math.random()*A,y:Math.random()*A,text:C?`Node ${B}`:void 0}});for(let B=0;B<k;B++)R.push({id:B,source:Math.random()*S|0,target:Math.random()*S|0,attributes:{text:C?`Edge ${B}`:void 0}});return{nodes:N,edges:R}}},Symbol.toStringTag,{value:"Module"})),o=Object.freeze(Object.defineProperty({__proto__:null,configure:({rows:b=4,columns:S=4,columnDistance:A=20,rowDistance:C=20,xmin:k=0,ymin:N=0}={})=>({rows:b,columns:S,columnDistance:A,rowDistance:C,xmin:k,ymin:N}),generate:function({rows:S,columns:A,columnDistance:C,rowDistance:k,xmin:N,ymin:R}){const B={nodes:[],edges:[]};let H=0;for(let F=0;F<S;++F)for(let T=0;T<A;++T){const W=F*A+T;B.nodes.push({id:W,attributes:{x:N+T*C,y:R+F*k}}),T!==A-1&&(B.edges.push({id:H,source:W,target:F*A+T+1}),H++),F!==S-1&&(B.edges.push({id:H,source:W,target:(F+1)*A+T}),H++)}return B}},Symbol.toStringTag,{value:"Module"})),a=Object.freeze(Object.defineProperty({__proto__:null,configure:({length:b=5,scale:S=100}={})=>({length:b,scale:S}),generate:function({length:S,scale:A}){const C={nodes:[],edges:[]};if(S<=0)return C;C.nodes.push({id:0,attributes:{x:Math.random()*A,y:Math.random()*A}});for(let k=1;k<S;++k)C.nodes.push({id:k,attributes:{x:Math.random()*A,y:Math.random()*A}}),C.edges.push({id:k-1,source:k-1,target:k});return C}},Symbol.toStringTag,{value:"Module"}));function l(b){return typeof b=="number"&&isFinite(b)?b:void 0}const c=Object.freeze(Object.defineProperty({__proto__:null,configure:function({children:S=2,height:A=3}={}){if(!function(k){return typeof k=="number"&&isFinite(k)&&k>0?k:void 0}(S))throw new TypeError('Invalid argument: "children" is not a positive number, was '+S);if(!function(k){return typeof k=="number"&&isFinite(k)&&k>=0?k:void 0}(A))throw new TypeError('Invalid argument: "height" is not a positive number, was '+A);return{children:S,height:A}},generate:function({children:S,height:A}){A+=1;const C=Math.pow(S,A),k=[],N=[];let R=1,B=0,H=0;for(let F=0;F<A;++F){const T=C/(R+1)/1.5;for(let W=0;W<R;++W){const G=B++;if(k.push({id:G,attributes:{x:(W+1)*T*10,y:20*F}}),F!==A-1)for(let Y=0;Y<S;++Y)N.push({id:H,source:G,target:G*S+Y+1}),H+=1}R*=S}return{nodes:k,edges:N}}},Symbol.toStringTag,{value:"Module"})),d=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=20,edges:A,p:C,scale:k=100}={}){if(!l(S)||S<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+S);if(A!==void 0&&C!==void 0)throw new TypeError("Invalid argument: choose between options.edges and options.p");return A===void 0&&C===void 0&&(C=.1),C===void 0&&(C=-1),A===void 0&&(A=-1),{nodes:S,p:C,edges:A,scale:k}},generate:function(S){const A={nodes:[],edges:[]},C=S.nodes,k=S.p,N=S.scale;if(k>=0){let R=0;for(let B=0;B<C;B++){A.nodes.push({id:B,attributes:{x:Math.random()*N,y:Math.random()*N}});for(let H=0;H<B;H++)Math.random()<k&&A.edges.push({id:R++,source:B,target:H})}}else{const R=[],B=S.edges;for(let F=0;F<C;F++){A.nodes.push({id:F,attributes:{x:100*Math.random(),y:100*Math.random()}});for(let T=F+1;T<C;T++)R.push({source:F,target:T})}let H=R.length-1;for(let F=0;F<B;F++){const T=R.splice(Math.floor(Math.random()*H),1)[0];T.id=F,A.edges.push(T),H--}}return A}},Symbol.toStringTag,{value:"Module"})),u=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=40,m0:A=5,m:C=1,scale:k=100}={}){if(!l(S)||S<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+S);if(!l(A)||A>=S)throw new TypeError(`Invalid argument: options.m0 is not a number < ${S}, was ${A}`);if(!l(A)||C>=A)throw new TypeError(`Invalid argument: options.m is not a number <= ${A}, was ${C}`);if(!l(k)||k<0)throw new TypeError("Invalid argument: options.scale is not a number or is less than 0");return{nodes:S,m0:A,m:C,scale:k}},generate:function({scale:S,nodes:A,m0:C,m:k}){const N={nodes:[],edges:[]},R={},B=[],H=S/10;let F=0;for(let T=0;T<C;T++)N.nodes.push({id:T,attributes:{x:Math.random()*H,y:Math.random()*H}}),B[T]=0;for(let T=0;T<C;T++)for(let W=T+1;W<C;W++){const G={id:F++,source:T,target:W};R[G.source+"-"+G.target]=G,N.edges.push(G),B[T]++,B[W]++}for(let T=C;T<A;T++){N.nodes.push({id:T,attributes:{x:Math.random()*S,y:Math.random()*S}}),B[T]=0;let W=0;for(let Y=0;Y<T;Y++)W+=B[Y];let G=0;for(let Y=0;Y<k;Y++){const ee=Math.random();let J=0;for(let ue=0;ue<T;ue++)if(!R[`${T}-${ue}`]&&!R[`${ue}-${T}`]&&(J=T===1?1:J+B[ue]/W+G/(T-Y),ee<=J)){G+=B[ue]/W;const Ae={id:F++,source:T,target:ue};R[`${Ae.source}-${Ae.target}`]=Ae,N.edges.push(Ae),B[T]++,B[ue]++;break}}}return N}},Symbol.toStringTag,{value:"Module"})),h=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=50,width:A=100,height:C=100,x:k=0,y:N=0}={}){if(!isFinite(S)||S<1)throw new RangeError("Tree generator: number of nodes must be a positive integer");return{nodes:S,width:A,height:C,x:k,y:N}},generate:function({nodes:S,x:A,y:C,width:k,height:N}){const R=A-k/2,B=C-N/2;return{nodes:new Array(S).fill(0).map((H,F)=>({id:F,attributes:{x:R+Math.random()*k,y:B+Math.random()*N}})),edges:new Array(S-1).fill(0).map((H,F)=>({id:F,source:Math.floor(Math.sqrt(F)),target:F+1}))}}},Symbol.toStringTag,{value:"Module"})),g=5,p=10,m=10,_=2.7,y=.2;function f(b){return Math.pow(_,b)*p}function x(b){return g+f(b)/m}function v(b,S,A,C,k){if(A===0)return k;const N=f(A),R=x(A),B=R*y;let H=-Math.PI;const F=2*Math.PI/S,T=C.attributes.x||0,W=C.attributes.y||0;for(let G=0;G<S;++G){const Y={id:k,attributes:{x:T+N*Math.cos(H),y:W+N*Math.sin(H),radius:R}},ee={id:k,source:C.id,target:k,attributes:{width:B}};b.nodes.push(Y),b.edges.push(ee),k=v(b,S,A-1,Y,k+1),H+=F}return k}const w=Object.freeze(Object.defineProperty({__proto__:null,configure:function({depth:S=3,breadth:A=3,nodes:C}){return C!==void 0?(A=5,S=Math.ceil(Math.log(C)/Math.log(5))):C=-1,{depth:S,breadth:A,nodes:C}},generate:function({depth:S,breadth:A,nodes:C}){const k={id:0,attributes:{x:0,y:0,radius:x(S+1)}},N={nodes:[k],edges:[]};return v(N,A,S,k,1),C!==void 0&&C>=0&&(N.nodes=N.nodes.slice(0,C),N.edges=N.edges.slice(0,Math.max(C-1,0))),N}},Symbol.toStringTag,{value:"Module"}));i.balancedTree=c,i.barabasiAlbert=u,i.erdosRenyi=d,i.flower=w,i.grid=o,i.path=a,i.random=s,i.randomTree=h,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaGenerators={})}}),Kt=class{constructor(e){this._ogma=e}},l_={};function bL(e,t,n,r,i,s){let o=0;for(let a=0;a<r;a++)for(let l=0;l<r;l++){const c=s[a],d=s[l];if(c!==d){const u=e[c][d]*i,h=1/(u*u);if(h){const g=t[c]-t[d],p=n[c]-n[d];o+=h*Math.pow(u-Math.sqrt(g*g+p*p),2)}}}return o}function wL(e,t,n,r,i,s,o){let a=0;if(i===-1)return 0;for(let l=0;l<r;l++)for(let c=0;c<r;c++){const d=o[l],u=o[c];if(d!==u&&(d===i||u===i)){const h=e[d][u]*s,g=1/(h*h);if(g){const p=t[d]-t[u],m=n[d]-n[u];a+=g*Math.pow(h-Math.sqrt(p*p+m*m),2)}}}return a}function c_(e,t,n,r,i,s,o,a){o=o||0;let l=0,c=0;for(let d=0;d<r;d++)for(let u=0;u<r;u++){const h=a[d],g=a[u];if(h!==g){const p=e[h][g]*s,m=1/(p*p);if(m){const _=t[h]-t[g],y=n[h]-n[g],f=m*Math.pow(p-Math.sqrt(_*_+y*y),2);l+=f,h!==i&&g!==i||(c+=f)}}}return(1-o)*l+o*c}function d_(e,t,n,r,i,s,o,a,l){o=o||0;const c=t,d=n;(i=i===void 0?-1:i)===-1&&(o=0);const u=t[i],h=n[i];for(let g=0;g<r;g++){const p=a[g],m=l(e[i][g]),_=o/(m*m);if(m===0)continue;let y=0,f=0,x=0;const v=t[p],w=n[p];for(let S=0;S<r;S++){const A=a[S];if(A!==p){const C=e[p][A]*s,k=1/(C*C),N=t[A],R=n[A];if(k!==0){const B=v-N,H=w-R,F=B*B+H*H,T=F<1e-12?0:1/Math.sqrt(F);f+=(1-o)*k*(N+C*(v-N)*T),x+=(1-o)*k*(R+C*(w-R)*T)}y+=k}}const b=(1-o)*y+_;if(b!==0){const S=v-u,A=w-h;let C=S*S+A*A;C=C<1e-12?0:1/Math.sqrt(C);const k=m===0?0:_*(m*C);c[p]=(f+k*t[p])/b,d[p]=(x+k*n[p])/b}}return{x:c,y:d}}function _O(e,t,n,r,i,s,o,a){o=o||0;const l=t,c=n;let d;(i=i===void 0?-1:i)===-1&&(o=0);for(let u=0;u<r;u++){const h=a[u];let g=0,p=0,m=0;const _=t[h],y=n[h];for(let f=0;f<r;f++){const x=a[f];let v=0;if(x!==h){let w=0;const b=e[h][x]*s,S=1/(b*b);h!==i&&x!==i||(w=S);const A=(1-o)*S+o*w;if(g+=A,S!==0){const C=t[x],k=n[x],N=_-C,R=y-k,B=N*N+R*R;B>1e-6&&(v=1/Math.sqrt(B)),p+=A*(C+b*(_-C)*v),m+=A*(k+b*(y-k)*v)}}}d=g,d!==0&&(l[h]=p/d,c[h]=m/d)}return{x:l,y:c}}function Gx(e=(i,s)=>i-s,t=[],n={},r=i=>i){let i=t.length;function s(a){for(;;){const l=2*a+1,c=l+1;let d=a;if(l<i&&e(t[l],t[d])<0&&(d=l),c<i&&e(t[c],t[d])<0&&(d=c),d===a)return a;const u=t[d];t[d]=t[a],t[a]=u,n[r(t[d])]=d,n[r(u)]=a,a=d}}return{get keys(){return n},get size(){return i},heapify:s,pop(){if(i<=0)return;if(i===1)return i--,t[0];const a=t[0];return t[0]=t[i-1],i--,s(0),a},decreaseKey(a,l){for(l!==void 0&&(t[a]=l,n[r(l)]=a);a>0;){const c=a-1>>1;if(!(e(t[c],t[a])>0))break;{const d=t[a];t[a]=t[c],t[c]=d,n[r(t[a])]=a,n[r(d)]=c,a=c}}return a},min:()=>t[0],remove(a){return this.decreaseKey(a,Number.NEGATIVE_INFINITY),this.pop()},push(a){i++;let l=i-1;for(t[l]=a;l>0;){const c=l-1>>1;if(!(e(t[c],t[l])>0))break;{const d=t[l];t[l]=t[c],t[c]=d,n[r(t[l])]=l,n[r(d)]=c,l=c}}return l},empty:()=>i<=0,toArray:()=>t.slice(0,i)}}function Hx({sources:e,targets:t,weights:n,source:r,target:i,undirected:s=!1,indexes:o,N:a}){if(!(a=o?o.length:a)||!isFinite(a)||a===0)throw new Error("Invalid number of nodes "+a);const l=new Float32Array(a),c=new Int32Array(a),d={},u=Number.POSITIVE_INFINITY;if(!n){n=[];for(let m=0;m<a;m++)n[m]=1}if(!o){o=new Uint32Array(a);for(let m=0;m<a;m++)o[m]=m+1}for(let m=0;m<a;m++)l[m]=u,c[m]=-1,d[o[m]]=m;l[d[r]]=0;let h=!1;for(let m=1;m<=a;m++){for(let _=0;_<n.length;_++){const y=e[_],f=t[_],x=d[y],v=d[f];if(x!==void 0&&v!==void 0){const w=n[_];let b=l[x]+w;l[x]!==u&&b<l[v]&&(l[v]=b,c[v]=y,h=!0),s&&(b=l[v]+w,l[v]!==u&&b<l[x]&&(l[x]=b,c[x]=f,h=!0))}}if(!h)break}if(h)for(let m=0;m<n.length;m++){const _=e[m],y=t[m],f=d[_],x=d[y];if(f!==void 0&&x!==void 0){const v=n[m];if(l[f]+v<l[x])return null}}let g=null,p=null;if(i!==void 0){const m=d[i];if(m!==void 0&&l[m]!==u){g=[];for(let _=i;_!==-1;_=c[d[_]])g.push(_);g=g.reverse(),p=l[m]}}return{distances:l,path:g,pathLength:p}}function Wx(e,t,n,r,i,s,o){r=r||e.map((_,y)=>y+1);const a=r.length,l=new Float32Array(a),c=new Int32Array(a),d=new Uint32Array(a),u=Number.POSITIVE_INFINITY,h={};if(a===0)return{distances:l,path:null,pathLength:null};if(!i){i={};for(let _=0;_<a;_++)i[r[_]]=_}for(let _=0;_<a;_++)l[_]=u,c[_]=-1,d[_]=h[_]=_;const g=Gx((_,y)=>l[_]-l[y],d,h);for(l[i[t]]=0,g.decreaseKey(h[i[t]]);g.size!==0;){const _=g.pop(),y=l[_],f=e[_];if(y===u)break;for(let x=0,v=f.nodes.length;x<v;x++){const w=f.nodes[x],b=s?1:o?o(r[_],w):f.weights?f.weights[x]:1,S=i[w];if(S===void 0)continue;const A=y+b;A<l[S]&&(l[S]=A,c[S]=_,g.decreaseKey(h[S]))}}let p=null,m=null;if(n!==void 0){const _=i[n];if(l[_]!==u){p=[];for(let y=_;y!==-1;y=c[y])p.push(r[y]);p.reverse(),m=l[n]}}return{distances:l,path:p,pathLength:m}}function u_({sources:e,targets:t,weights:n,indexes:r,adjacency:i,undirected:s,ignoreWeights:o}){const a=Number.POSITIVE_INFINITY,l=r?r.length:i.length;if(!r){r=new Uint32Array(l);for(let m=0;m<l;m++)r[m]=m+1}const c=new Array(l),d={};for(let m=0;m<l;m++){c[m]=new Float32Array(l);for(let _=0;_<l;_++)c[m][_]=m===_?0:a;d[r[m]]=m}const u=l,h=n.length;e=e.slice(),t=t.slice(),n=n.slice();for(let m=0;m<l;m++)e[h+m]=u,t[h+m]=r[m],n[h+m]=0,o&&(n[m]=1);const g=Hx({sources:e,targets:t,weights:n,undirected:s,N:l+1,source:u});if(g===null)throw new Error("Graph has negative weight loops");const p=g.distances;for(let m=0;m<n.length;m++){const _=d[e[m]],y=d[t[m]];_!==void 0&&y!==void 0&&(n[m]=n[m]+p[_]-p[y])}e=e.slice(0,h),t=t.slice(0,h),n=n.slice(0,h);for(let m=0;m<l;m++){const _=r[m],{distances:y}=Wx(i,_,void 0,r,d,!!o);for(let f=0;f<l;f++)c[m][f]=m===f?0:y[f]}return c}Zd(l_,{CyclesFinder:()=>IN,Quadtree:()=>AN,bellmanFord:()=>Hx,betweenness:()=>PN,circlePack:()=>xN,circleSpread:()=>bB,constrainedStress:()=>c_,convexhull:()=>xB,detectCyclesDirected:()=>LN,detectCyclesUndirected:()=>o4,detectCyclesUndirectedDFS:()=>a4,dijkstra:()=>Wx,distanceStress:()=>wL,johnson:()=>u_,kruskal:()=>MN,largestEmptyCircle:()=>pN,minDisk:()=>em,minHeap:()=>Gx,removeRadialOverlap:()=>N_,stressMinimizationStep:()=>d_,stressMinimizationStepGeneral:()=>_O,weightedStress:()=>bL});var ds=11102230246251565e-32,Kn=134217729,yO=(3+8*ds)*ds;function hf(e,t,n,r,i){let s,o,a,l,c=t[0],d=r[0],u=0,h=0;d>c==d>-c?(s=c,c=t[++u]):(s=d,d=r[++h]);let g=0;if(u<e&&h<n)for(d>c==d>-c?(o=c+s,a=s-(o-c),c=t[++u]):(o=d+s,a=s-(o-d),d=r[++h]),s=o,a!==0&&(i[g++]=a);u<e&&h<n;)d>c==d>-c?(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u]):(o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h]),s=o,a!==0&&(i[g++]=a);for(;u<e;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u],s=o,a!==0&&(i[g++]=a);for(;h<n;)o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h],s=o,a!==0&&(i[g++]=a);return s===0&&g!==0||(i[g++]=s),g}function xO(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Qd(e){return new Float64Array(e)}var vO=(3+16*ds)*ds,bO=(2+12*ds)*ds,wO=(9+64*ds)*ds*ds,wa=Qd(4),IE=Qd(8),ME=Qd(12),PE=Qd(16),cr=Qd(4);function EO(e,t,n,r,i,s,o){let a,l,c,d,u,h,g,p,m,_,y,f,x,v,w,b,S,A;const C=e-i,k=n-i,N=t-s,R=r-s;v=C*R,h=Kn*C,g=h-(h-C),p=C-g,h=Kn*R,m=h-(h-R),_=R-m,w=p*_-(v-g*m-p*m-g*_),b=N*k,h=Kn*N,g=h-(h-N),p=N-g,h=Kn*k,m=h-(h-k),_=k-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,wa[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,wa[1]=x-(y+u)+(u-b),A=f+y,u=A-f,wa[2]=f-(A-u)+(y-u),wa[3]=A;let B=xO(4,wa),H=bO*o;if(B>=H||-B>=H||(u=e-C,a=e-(C+u)+(u-i),u=n-k,c=n-(k+u)+(u-i),u=t-N,l=t-(N+u)+(u-s),u=r-R,d=r-(R+u)+(u-s),a===0&&l===0&&c===0&&d===0)||(H=wO*o+yO*Math.abs(B),B+=C*d+R*a-(N*c+k*l),B>=H||-B>=H))return B;v=a*R,h=Kn*a,g=h-(h-a),p=a-g,h=Kn*R,m=h-(h-R),_=R-m,w=p*_-(v-g*m-p*m-g*_),b=l*k,h=Kn*l,g=h-(h-l),p=l-g,h=Kn*k,m=h-(h-k),_=k-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),A=f+y,u=A-f,cr[2]=f-(A-u)+(y-u),cr[3]=A;const F=hf(4,wa,4,cr,IE);v=C*d,h=Kn*C,g=h-(h-C),p=C-g,h=Kn*d,m=h-(h-d),_=d-m,w=p*_-(v-g*m-p*m-g*_),b=N*c,h=Kn*N,g=h-(h-N),p=N-g,h=Kn*c,m=h-(h-c),_=c-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),A=f+y,u=A-f,cr[2]=f-(A-u)+(y-u),cr[3]=A;const T=hf(F,IE,4,cr,ME);v=a*d,h=Kn*a,g=h-(h-a),p=a-g,h=Kn*d,m=h-(h-d),_=d-m,w=p*_-(v-g*m-p*m-g*_),b=l*c,h=Kn*l,g=h-(h-l),p=l-g,h=Kn*c,m=h-(h-c),_=c-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),A=f+y,u=A-f,cr[2]=f-(A-u)+(y-u),cr[3]=A;const W=hf(T,ME,4,cr,PE);return PE[W-1]}function Cu(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,c=Math.abs(o+a);return Math.abs(l)>=vO*c?l:-EO(e,t,n,r,i,s,c)}var FE=Math.pow(2,-52),Tu=new Uint32Array(512),qx=class{static from(e,t=TO,n=LO){const r=e.length,i=new Float64Array(2*r);for(let s=0;s<r;s++){const o=e[s];i[2*s]=t(o),i[2*s+1]=n(o)}return new qx(i)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,s=e.length>>1;let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let C=0;C<s;C++){const k=e[2*C],N=e[2*C+1];k<o&&(o=k),N<a&&(a=N),k>l&&(l=k),N>c&&(c=N),this._ids[C]=C}const d=(o+l)/2,u=(a+c)/2;let h,g,p,m=1/0;for(let C=0;C<s;C++){const k=gf(d,u,e[2*C],e[2*C+1]);k<m&&(h=C,m=k)}const _=e[2*h],y=e[2*h+1];m=1/0;for(let C=0;C<s;C++){if(C===h)continue;const k=gf(_,y,e[2*C],e[2*C+1]);k<m&&k>0&&(g=C,m=k)}let f=e[2*g],x=e[2*g+1],v=1/0;for(let C=0;C<s;C++){if(C===h||C===g)continue;const k=kO(_,y,f,x,e[2*C],e[2*C+1]);k<v&&(p=C,v=k)}let w=e[2*p],b=e[2*p+1];if(v===1/0){for(let N=0;N<s;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];Wa(this._ids,this._dists,0,s-1);const C=new Uint32Array(s);let k=0;for(let N=0,R=-1/0;N<s;N++){const B=this._ids[N];this._dists[B]>R&&(C[k++]=B,R=this._dists[B])}return this.hull=C.subarray(0,k),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Cu(_,y,f,x,w,b)<0){const C=g,k=f,N=x;g=p,f=w,x=b,p=C,w=k,b=N}const S=CO(_,y,f,x,w,b);this._cx=S.x,this._cy=S.y;for(let C=0;C<s;C++)this._dists[C]=gf(e[2*C],e[2*C+1],S.x,S.y);Wa(this._ids,this._dists,0,s-1),this._hullStart=h;let A=3;n[h]=t[p]=g,n[g]=t[h]=p,n[p]=t[g]=h,r[h]=0,r[g]=1,r[p]=2,i.fill(-1),i[this._hashKey(_,y)]=h,i[this._hashKey(f,x)]=g,i[this._hashKey(w,b)]=p,this.trianglesLen=0,this._addTriangle(h,g,p,-1,-1,-1);for(let C,k,N=0;N<this._ids.length;N++){const R=this._ids[N],B=e[2*R],H=e[2*R+1];if(N>0&&Math.abs(B-C)<=FE&&Math.abs(H-k)<=FE||(C=B,k=H,R===h||R===g||R===p))continue;let F=0;for(let ee=0,J=this._hashKey(B,H);ee<this._hashSize&&(F=i[(J+ee)%this._hashSize],F===-1||F===n[F]);ee++);F=t[F];let T,W=F;for(;T=n[W],Cu(B,H,e[2*W],e[2*W+1],e[2*T],e[2*T+1])>=0;)if(W=T,W===F){W=-1;break}if(W===-1)continue;let G=this._addTriangle(W,R,n[W],-1,-1,r[W]);r[R]=this._legalize(G+2),r[W]=G,A++;let Y=n[W];for(;T=n[Y],Cu(B,H,e[2*Y],e[2*Y+1],e[2*T],e[2*T+1])<0;)G=this._addTriangle(Y,R,T,r[R],-1,r[Y]),r[R]=this._legalize(G+2),n[Y]=Y,A--,Y=T;if(W===F)for(;T=t[W],Cu(B,H,e[2*T],e[2*T+1],e[2*W],e[2*W+1])<0;)G=this._addTriangle(T,R,W,-1,r[W],r[T]),this._legalize(G+2),r[T]=G,n[W]=W,A--,W=T;this._hullStart=t[R]=W,n[W]=t[Y]=R,n[R]=Y,i[this._hashKey(B,H)]=R,i[this._hashKey(e[2*W],e[2*W+1])]=W}this.hull=new Uint32Array(A);for(let C=0,k=this._hullStart;C<A;C++)this.hull[C]=k,k=n[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(SO(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,s=0;for(;;){const o=n[e],a=e-e%3;if(s=a+(e+2)%3,o===-1){if(i===0)break;e=Tu[--i];continue}const l=o-o%3,c=a+(e+1)%3,d=l+(o+2)%3,u=t[s],h=t[e],g=t[c],p=t[d];if(AO(r[2*u],r[2*u+1],r[2*h],r[2*h+1],r[2*g],r[2*g+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=u;const m=n[d];if(m===-1){let y=this._hullStart;do{if(this._hullTri[y]===d){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,m),this._link(o,n[s]),this._link(s,d);const _=l+(o+1)%3;i<Tu.length&&(Tu[i++]=_)}else{if(i===0)break;e=Tu[--i]}}return s}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,s){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}};function SO(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function gf(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function AO(e,t,n,r,i,s,o,a){const l=e-o,c=t-a,d=n-o,u=r-a,h=i-o,g=s-a,p=d*d+u*u,m=h*h+g*g;return l*(u*m-p*g)-c*(d*m-p*h)+(l*l+c*c)*(d*g-u*h)<0}function kO(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l),g=(c*d-a*u)*h,p=(o*u-l*d)*h;return g*g+p*p}function CO(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l);return{x:e+(c*d-a*u)*h,y:t+(o*u-l*d)*h}}function Wa(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{let i=n+1,s=r;Hl(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Hl(e,n,r),t[e[i]]>t[e[r]]&&Hl(e,i,r),t[e[n]]>t[e[i]]&&Hl(e,n,i);const o=e[i],a=t[o];for(;;){do i++;while(t[e[i]]<a);do s--;while(t[e[s]]>a);if(s<i)break;Hl(e,i,s)}e[n+1]=e[s],e[s]=o,r-i+1>=s-n?(Wa(e,t,i,r),Wa(e,t,n,s-1)):(Wa(e,t,n,s-1),Wa(e,t,i,r))}}function Hl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function TO(e){return e[0]}function LO(e){return e[1]}var h_={};Zd(h_,{BUTTON_MAPPING:()=>Jx,BoundingBox:()=>Nn,DummyCanvas:()=>XL,DummyCanvasRenderingContext2D:()=>YL,DummyDomElement:()=>zL,DummyFileReader:()=>Dh,DummyTextNode:()=>nv,DummyXHR:()=>Pg,ElementSet:()=>Jd,EventTarget:()=>eu,FlexArray:()=>Og,IndexList:()=>rN,Map2:()=>iN,PathMap:()=>sN,PrioritySet:()=>gN,SVG_NS:()=>Qx,Table:()=>T_,XLINK:()=>jL,XML_NS:()=>x_,applyCursorStyle:()=>Dg,baseURI:()=>WL,binaryIndexOf:()=>AL,cancelAnimFrame:()=>EL,clamp:()=>Wr,clearCanvas:()=>E_,componentsToRGBA:()=>cN,computeMax:()=>Xa,computeMin:()=>as,computeSum:()=>tN,concatenateArrays:()=>FO,createBlob:()=>bd,createCanvas:()=>Dn,createDummyDomElement:()=>Fg,createDummyXmlDocument:()=>uN,createElement:()=>v_,createSvgElement:()=>Ot,createTextNode:()=>Kx,createWorker:()=>lN,createXmlDocument:()=>hN,dataUrlToBlob:()=>OL,debounce:()=>zO,deepCopy:()=>cn,displayPixelsOnScreen:()=>cB,ensureTransferable:()=>Yp,escapeDOMAttribute:()=>qa,extendList:()=>jO,fadeElement:()=>qL,fetch:()=>Kd,fetchBinary:()=>GL,fetchBinaryAsBase64:()=>HL,flatten:()=>yd,flattenArray:()=>SL,forEach:()=>qi,formatAngle:()=>zg,formatHex:()=>zh,formatWorkerMessage:()=>aN,getBaseLog:()=>nN,getCurrentTime:()=>rr,getDate:()=>PL,getDocument:()=>ys,getDocumentFontRules:()=>KL,getEmbeddedFontRules:()=>JL,getFlattenedKeys:()=>la,getGlContext:()=>QL,getImage:()=>UL,getLeafValues:()=>Xp,getOptions:()=>Zr,getPixelRatio:()=>Fr,getProperty:()=>an,getStyle:()=>DL,getTime:()=>FL,getValues:()=>zc,getWebglContext:()=>Qp,hash8:()=>p_,indexArrayToArray:()=>_d,indexByName:()=>UO,insertSortAsc:()=>dc,insertSortDesc:()=>PO,isArray:()=>Rn,isBlob:()=>HO,isHTMLElement:()=>VL,isInteger:()=>DO,isLittleEndian:()=>qp,isObject:()=>bn,isRawObject:()=>aa,isWebGLSupported:()=>ZL,lerp:()=>zt,mapKeys:()=>Kp,mapValues:()=>go,merge:()=>Vr,mergeValues:()=>Mg,mix:()=>S_,nextPowerOfTwo:()=>Gs,objToValueList:()=>Jp,parseColor:()=>yr,parseColorHex:()=>tv,parseColorRgba:()=>ev,pick:()=>f_,processQueue:()=>OO,promiseQueue:()=>CL,promptDownload:()=>wo,propertyPathToString:()=>g_,removeFromArray:()=>RO,requestAnimFrame:()=>Xx,resizeElement:()=>Rg,resolvePath:()=>eN,rgbaToRgb:()=>Na,serializeXMLDocument:()=>rv,setAttributes:()=>Zx,setCtxFont:()=>ho,setElementSize:()=>da,setKeys:()=>eB,setProperty:()=>Zi,setValues:()=>gc,smartRequire:()=>pi,throttle:()=>Wp,toArray:()=>Ig,toHexa:()=>C_,toPropertyPath:()=>oa,traverse:()=>LL,unflatten:()=>m_,unorderedHash:()=>BO,workerIsAvailable:()=>oN});var NO=(()=>{let e=0;return typeof requestAnimationFrame<"u"?requestAnimationFrame:function(t){const n=Date.now(),r=Math.min(16,Math.max(0,16-(n-e))),i=e=n+r;return setTimeout(()=>t(i),r)}})(),IO=typeof cancelAnimationFrame<"u"?cancelAnimationFrame:function(e){return clearTimeout(e)};function Xx(e,t){return NO(n=>{e.call(t,n)})}function EL(e){e&&IO(e)}var MO=typeof global=="object"&&global!==null&&global.it!==void 0,_s=typeof document<"u",sa=typeof window<"u",Gp=sa&&!window.__OGMA_HEADLESS,Hp=Gp&&_s;function dc(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])>t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function PO(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])<t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function Rn(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ig(e){return Array.isArray(e)?e:[e]}function SL(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n];if(Array.isArray(r))for(let i=0;i<r.length;++i)t.push(r[i]);else t.push(r)}return t}function FO(...e){if(e.length===0)return[];const t=e[0].constructor;let n=0;for(const s of e)n+=s.length;const r=new t(n);let i=0;for(const s of e){for(let o=0;o<s.length;o++)r[i+o]=s[o];i+=s.length}return r}function RO(e,t){const n=e.indexOf(t);return n!==-1&&(e.splice(n,1),!0)}function AL(e,t){let n,r,i=0,s=e.length-1;for(;i<=s;)if(n=(i+s)/2|0,r=e[n],r<t)i=n+1;else{if(!(r>t))return n;s=n-1}return-1}var _d=(e,t)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return n};function DO(e){return typeof e=="number"&&e%1==0}function g_(e){return Array.isArray(e)?e.join("."):e}function oa(e){if(!e)return[];if(typeof e=="string")return e.split(".");if(Array.isArray(e)){for(let t=0;t<e.length;++t)if(typeof e[t]!="string")throw new TypeError(`${e[t]} is not a string`);return e.slice()}throw new TypeError(`invalid property path "${e}": expected string or array of strings`)}function Wp(e,t,n){let r,i,s;if(t===0)return function(){e.apply(n,arguments)};const o=function(){r=!1,i&&(s.apply(n,i),i=null)};return s=function(){let a;return r?i=arguments:(a=e.apply(n,arguments),setTimeout(o,t),r=!0),a},s}function zO(e,t,n){let r,i,s,o,a;const l=t===0||t===void 0?100:t;function c(){const u=Date.now()-o;u<l&&u>=0?r=setTimeout(c,l-u):(r=null,n||(a=e.apply(s,i),s=i=null))}const d=function(){s=this,i=arguments,o=Date.now();const u=n&&!r;return r||(r=setTimeout(c,t)),u&&(a=e.apply(s,i),s=i=null),a};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(a=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},d}function kL(e,t,n,r,i){n(e[t],t,e,r,i).then(s=>{t===e.length-1?r(s):kL(e,t+1,n,r,i)}).catch(i)}function OO(e,t){return new Promise((n,r)=>kL(e,0,t,n,r))}function qp(){return new Uint8Array(new Uint32Array([305419896]).buffer)[0]===120}function CL(e){return e.reduce((t,n)=>t.then(n),Promise.resolve())}function p_(e,t,n,r,i,s,o,a){return e+i+256*(t+s)+65536*(n+o)+16777216*(r+a)}function BO(e,t){return e<t?e*t+Math.pow(t-e-1,2)/4:e*t+Math.pow(e-t-1,2)/4}function aa(e){return!(e===null||typeof e!="object"||Rn(e)||e instanceof RegExp||typeof HTMLElement<"u"&&e instanceof HTMLElement)}function zc(e){const t=Object.keys(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=e[t[r]];return n}function qi(e,t,n){if(Array.isArray(e))return e.forEach(t,n);if(!aa(e))throw new Error("forEach: invalid argument "+JSON.stringify(e));const r=Object.keys(e);if(n!==void 0)for(let i=0;i<r.length;++i){const s=r[i];t.call(n,e[s],s)}else for(let i=0;i<r.length;++i){const s=r[i];t(e[s],s)}}function cn(e){if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;++i)r[i]=cn(e[i]);return r}if(!bn(e))return e;const t={},n=Object.keys(e);for(const r of n)t[r]=cn(e[r]);return t}function jO(e,t){t.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}function Zi(e,t,n){const r=typeof t=="string"?t.split("."):t;for(let i=0;i<r.length-1;++i){const s=r[i];let o=e[s];o||(o={},e[s]=o),e=o}e[r[r.length-1]]=n}function an(e,t){const n=oa(t);if(!n.length)return e;if(e){for(let r=0;r<n.length-1;++r){const i=e[n[r]];if(!i)return;e=i}return e[n[n.length-1]]}}function yd(e,t,n="."){t||(t=s=>!aa(s));const r={},i=Object.keys(e);for(let s=0;s<i.length;++s){const o=i[s],a=e[o];if(t(a))r[o]=a;else{const l=yd(a,t),c=Object.keys(l);for(let d=0;d<c.length;d++){const u=c[d];r[`${o}${n}${u}`]=l[u]}}}return r}function m_(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Zi(t,i,e[i])}return t}function la(e,t,n=[]){const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=e[s],a=t?t+s:s;bn(o)?la(o,a+".",n):n.push(a)}return n}var TL=Object.prototype.hasOwnProperty;function LL(e,t){const n=[e];let r;for(;n.length>0;)if(r=n.pop(),r)if(bn(r))for(const i in r)TL.call(r,i)&&n.push(r[i]);else t(r)}function UO(e){const t={};return LL(e,n=>t[n.getName()]=n),t}function Xp(e,t=[]){if(bn(e)){const n=Object.keys(e);for(const r of n)Xp(e[r],t)}else t.push(e);return t}function Yp(e){for(const t in e)typeof e[t]=="function"&&delete e[t];return e}function Zr(e,t){if(e===void 0)return cn(t);if(!aa(e))return e;const n={},r=Object.keys(t);for(const i of r){const s=t[i],o=e[i];aa(s)?n[i]=Zr(o,s):n[i]=o===void 0?cn(s):o}return n}function bn(e){return e&&(e.constructor===Object||!e.constructor)}function Mg(e,t){if(!bn(t)||!bn(e))return t;const n=Object.assign({},e),r=Object.keys(t);for(const i of r)n[i]=Mg(n[i],t[i]);return n}function f_(e,t){return t==null?e:t.reduce((n,r)=>(n[r]=e[r],n),{})}var Vr=(...e)=>{const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)TL.call(r,i)&&(Array.isArray(t[i])&&Array.isArray(r[i])?t[i]=Array.from(new Set(t[i].concat(r[i]))):bn(t[i])&&bn(r[i])?t[i]=Vr(t[i],r[i]):t[i]=r[i])}return t},$O={},NL=$O,__={},IL={},y_=e=>null;if(typeof global=="object"&&(__=global),typeof window=="object"&&(IL=window),typeof Pa=="object"&&typeof Pa.require=="function"){const e=Pa.require.bind(Pa);y_=t=>{try{return e(t)}catch{return null}}}else typeof __.require=="function"&&(y_=e=>{const t=Pa.require;try{return t(e)}catch{return null}});function pi(e,{throwOnError:t}={}){let n=null;if(!n&&e&&(n=NL[e]),!n&&e&&(n=y_(e)),!n&&e&&(n=IL[e]),!n&&e&&(n=__[e]),!n&&t){const r=[`unable to find module "${e}"; make sure one of these statements is true:`,`- Ogma.libraries['${e}'] is set to the right library`,`- require('${e}') returns the right library`,`- window['${e}'] is set to the right library`].join(`
`);throw new Error(r)}return n}var ML=typeof performance<"u"&&performance.now?()=>0|performance.now():()=>Date.now(),VO=ML();function rr(){return ML()-VO}function PL(){const e=new Date,t=e.getDate(),n=e.getMonth()+1;return`${e.getFullYear()}-${n<10?"0"+n:n}-${t<10?"0"+t:t}`}function FL(){const e=new Date;return`[${Lu((e.getUTCHours()-(e.getTimezoneOffset()/60|0))%24)}:${Lu(e.getUTCMinutes())}:${Lu(e.getUTCSeconds())}:${Lu(e.getUTCMilliseconds(),3)}]`}function Lu(e,t=2){let n=Math.pow(10,t-1),r=String(e);for(;n>1;)e<n&&(r="0"+r),n/=10;return r}function ao(e){!MO&&console.warn(FL()+" "+e)}function GO(e,t){t.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})})}var pf,ca,Yx,RL,ft=()=>{},xd=()=>!1,Zp=()=>!0,vd=()=>null,Ii=e=>e,uc=class{constructor(){this.method=null,this.url=null,this.status=0,this.readyState=0,this.headers={},this.responseText=null,this.response=null,uc.onCreate&&uc.onCreate(this)}open(e,t){this.method=e,this.url=t,uc.onSend&&uc.onSend(this)}respond(e,t,n){this.readyState=4,this.status=e,this.headers=t,this.responseText=n,this.response=n,this.onreadystatechange()}send(){this.readyState=4}},Pg=uc;Pg.onCreate=ft,Pg.onSend=ft;var hc=class{constructor(){this.onload=ft,hc.onCreate&&hc.onCreate(this)}readAsDataURL(e){this._blob=e,hc.onRead&&hc.onRead(this)}load(e){this.result=typeof e=="function"?e(this._blob):e,this.onload&&this.onload()}},Dh=hc;function ys(){return ca||{createElementNS:()=>null,createElement:()=>null,implementation:{createDocument(){throw new Error('unable to create XML document; if you use Node JS install the "xmldom" package')}}}}function DL(e,t){if(document&&document.defaultView){let n=e.style[t];if((!n||n==="auto")&&ys().defaultView){const r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n==="auto"?null:n?n.toString():null}return null}Dh.onCreate=ft,Dh.onRead=ft,pf=pi("xmldom"),ca=_s?document:pf?new pf.DOMImplementation().createDocument():null,Yx=typeof XMLHttpRequest<"u"?XMLHttpRequest:Pg,RL=typeof FileReader<"u"?FileReader:Dh;var zL=class{constructor(){this.onmousewheel=ft,this.__dummy=!0,this.style={},this.clientWidth=0,this.clientHeight=0,this.childNodes=[],this.style={width:"0px",height:"0px",top:void 0,left:void 0,position:"",backgroundColor:void 0}}get offsetWidth(){return parseFloat(this.style.width||"0")}get offsetHeight(){return parseFloat(this.style.height||"0")}get firstChild(){return null}get parentNode(){return null}get classList(){return{length:0,value:"",add(){},remove(){},contains:e=>!1,item:null}}get innerHTML(){return""}set innerHTML(e){}appendChild(e){return this.childNodes.push(e),e}removeChild(){}addEventListener(){}removeEventListener(){}insertBefore(){}contains(e){return!1}};function Fg(){return new zL}var Fr=sa?()=>window.devicePixelRatio:()=>1;function OL(e){const t=";base64,";let n,r,i;if(e.indexOf(t)===-1)return n=e.split(","),r=n[0].split(":")[1],i=decodeURIComponent(n[1]),bd(i,r);n=e.split(t),r=n[0].split(":")[1],i=window.atob(n[1]);const s=i.length,o=new Uint8Array(s);for(let a=0;a<s;++a)o[a]=i.charCodeAt(a);return bd([o],r)}var BL=class{constructor(e,t){this.data=e,this.type=t}};function bd(e,t){return typeof Blob<"u"?new Blob(e,{type:t}):new BL(e,t)}function HO(e){return typeof Blob<"u"&&e instanceof Blob||e instanceof BL}function WO(e,t){return t==="blob"?e:t==="dataURL"?OL(e):bd([e],"text/xml")}function wo(e,t,n){if(!Gp)return e;let r=null,i=null,s=null;window.Blob?(r=WO(e,n),i=window.URL.createObjectURL(r)):s="data:text/xml;charset=UTF-8,"+encodeURIComponent('<?xml version="1.0" encoding="UTF-8"?>')+encodeURIComponent(e);const o=document.createElement("a");return o.setAttribute("href",i||s),o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o),i&&setTimeout(()=>window.URL.revokeObjectURL(i),0),e}function Rg(e,t,n,r=Fr()){if(da(e,t+"px",n+"px"),e.tagName==="IMG"||e.tagName==="CANVAS"){const i=e;i.width=t*r,i.height=n*r}}function Zx(e,t){qi(t,(n,r)=>{n!==void 0&&e.setAttribute(r,n)})}var Qx="http://www.w3.org/2000/svg",x_="http://www.w3.org/2000/xmlns/",jL="http://www.w3.org/1999/xlink",qO=1;function Ot(e,t){const n=ca.createElementNS(Qx,e);return n.style||(n.style={}),t&&Zx(n,t),n}function v_(e){const t=ca.createElement("div"),n=e.trim().replace(/\s+/g," ");if(t.innerHTML=n,!t.firstChild||t.firstChild.nodeType!==qO)throw new Error(`Failed to create element from: "${e}". Expected an HTML string`);return t.firstChild}function Kx(e){if(ca)return ca.createTextNode(e)}function UL(e){return typeof Image>"u"?Promise.resolve(null):new Promise(t=>{const n=new Image;n.src=e,n.onload=()=>t(n),n.onerror=()=>t(null)})}function $L(e){if(e.indexOf("http://")===0||e.indexOf("https://")===0)return e;const t=window.location.origin,n=window.location.pathname,r=n.lastIndexOf("/");return r===-1?t+"/"+e:t+n.substr(0,r)+"/"+e}function Kd(e){return new Promise((t,n)=>{const r=new Yx;r.open("GET",$L(e),!0),r.onreadystatechange=function(){if(r.readyState===4){const i=r.status;i===200?t(r.responseText):n(i!==0?new Error(`cannot retrieve file at url "${e}"; the server responded with status code ${i}.`):new Error(`cannot send XMLHttpRequest to url "${e}"; if you're using the local file protocol this is most likely the cause.`))}},r.onerror=function(){n(new Error(`cannot retrieve file at url "${e}"; the XMLHttpRequest failed.`))},r.send()})}function VL(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Dg(e,t){e.style.cursor=t,e.style.cursor!==t&&(e.style.cursor=`-webkit-${t}`)}function GL(e){return new Promise((t,n)=>{const r=new Yx;r.responseType="blob",r.open("GET",$L(e),!0),r.onreadystatechange=()=>{if(r.readyState===4){if(r.status===200)return t(r.response);n(r.status)}},r.onerror=i=>n(i),r.send()})}function HL(e){return GL(e).then(t=>new Promise((n,r)=>{const i=new RL;i.onerror=r,i.onload=()=>n(i.result),i.readAsDataURL(t)}))}function qa(e,t=!0){const n=t?"&#13;":`
`;return(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,n).replace(/[\r\n]/g,n)}var Jx={0:"left",1:"middle",2:"right"};function WL(e){if(e.baseURI)return e.baseURI;const t=e.getElementsByTagName("base");return t.length>0?t[0].href:e.URL||(e.location?e.location.href:"")}function qL(e,t,n,r){return new Promise(i=>{let s=t;const o=Date.now(),a=(n-t)*Math.min(1,1/(r/16));(function l(){Date.now()-o<r?(s=Math.min(1,Math.max(0,s+a)),e.style.opacity=s.toString(),Xx(l)):i()})()})}function da(e,t,n){e.style.width=t,e.style.height=n}var b_=300,w_=150,XL=class{constructor(){this.style={},this.width=b_,this.height=w_,this.__context=new YL,this.style={},this.width=b_,this.height=w_}get __dummy(){return!0}get parentNode(){return null}getContext(e){return e==="2d"?this.__context:null}toDataURL(e="png"){return`data:image/${e};base64,`}addEventListener(){}removeEventListener(){}getBoundingClientRect(){return{left:0,top:0,bottom:0,right:0,width:this.width,height:this.height}}},YL=class{constructor(){this._fontSize=10}set font(e){const t=e.match(/\d+/);t&&(this._fontSize=parseFloat(t[0]))}set fillStyle(e){}set textBaseline(e){}set textAlign(e){}set strokeStyle(e){}set lineWidth(e){}fill(){}stroke(){}clearRect(){}fillRect(){}strokeRect(){}beginPath(){}closePath(){}moveTo(){}lineTo(){}rect(){}arc(){}save(){}restore(){}clip(){}translate(){}rotate(){}fillText(){}setLineDash(){}quadraticCurveTo(){}bezierCurveTo(){}drawImage(){}measureText(e){return{width:e.length*Math.ceil(.625*this._fontSize)}}getImageData(){return{width:0,height:0,data:new Uint8ClampedArray(0)}}},Nu=pi("canvas")||pi("canvas-prebuilt");function Dn(e=b_,t=w_){if(_s){const r=document.createElement("canvas");return r.width=e,r.height=t,r}if(Nu){let r=null;return r="createCanvas"in Nu?Nu.createCanvas(e,t):new Nu(e,t),r.style={},r}const n=new XL;return n.width=e,n.height=t,n}function E_(e,t,n=e.width,r=e.height){t.clearRect(0,0,n,r)}function ho(e,t,n,r=""){e.font=`${r} ${n}px ${t}`}function ZL(){return Qp(Dn(),{})!==null}function QL(e){const t=Dn();if(!t)return null;const n=Qp(t);return n?(t.addEventListener("webglcontextlost",e),{gl:n,cleanUp:()=>t.removeEventListener("webglcontextlost",e)}):null}function Qp(e,t){let n=e.getContext("webgl",t);return n||(n=e.getContext("experimental-webgl",t)),n||null}function XO(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].cssText+`
`;return t}function KL(){const e=ys(),t=e.styleSheets||[],n=WL(e),r=[],i=[];for(let o=0;o<t.length;o++){const a=t[o];a.href==null?r.push({href:n,content:XO(a.cssRules)}):i.push(a.href)}const s=/@font-face\s*\{[^}]+\}/g;return Promise.all(i.map(o=>Kd(o).then(a=>({href:o,content:a})).catch(vd))).then(o=>o.concat(r)).then(o=>{const a=[];for(let l=0;l<o.length;l++){const c=o[l];if(c!==null){const{href:d,content:u}=c,h=u.match(s);if(h){const g=ZO(h,d);a.push.apply(a,g)}}}return a})}function JL(e,t){return Promise.all(e.map(({formats:n,originalRule:r})=>Promise.all(n.map(({format:i,url:s})=>t?HL(s).then(o=>({format:i,src:o})).catch(vd):{format:i,src:s})).then(i=>{const s=[];for(const o of i)o!==null&&s.push(`url('${o.src}') format('${o.format}')`);if(s.length!==0){const o=`src: ${s.join(",")}`;return r.replace(/@font-face\s*{([^}]*);?}/,`@font-face{$1;${o}}`).replace(/\s+/," ").replace(/;+/,";")}return r})))}var YO={"embedded-opentype":!0,svg:!0};function ZO(e,t){const n=/url\(['"]?([^'")]+)['"]?\)\s+format\(['"]?([^'")]+)['"]?\)/g,r=/font-family\s*:\s*['"]?([^;'"]+)['"]?;/,i=[];for(let s=0;s<e.length;s++){const o=e[s],a=o.match(r);if(a){const l=a[1],c=[];let d;for(;d=n.exec(o);){const u=d[1],h=d[2];YO[h.toLowerCase()]||c.push({format:h,url:eN(u,t)})}i.push({name:l,formats:c,originalRule:o})}}return i}function eN(e,t){if(/^http(s)?:/.test(e))return e;if(e[0]==="/"){const i=t.match(/((\w+:\/\/)([^/]+))/);return i?i[1]+e:e}const n=e.split("/"),r=t.split("/");for(t[t.length-1]!=="/"&&r.pop();n[0]==="..";)n.shift(),r.pop();return r.concat(n).join("/").replace(/[\w](\/{2,})/g,i=>i[0]+"/")}function Gs(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function tN(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n];return t}function Wr(e,t,n){return Math.max(t,Math.min(n,e))}function S_(e,t,n){return e+(t-e)*n}function zt(e,t,n){return e*(1-n)+t*n}function Xa(e){if(!e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i>t&&(t=i)}return t}function as(e){if(!e.length)return 1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i<t&&(t=i)}return t}var nN=(e,t)=>Math.log(e)/Math.log(t),zg=e=>e<-Math.PI?e+2*Math.PI:e>Math.PI?e-2*Math.PI:e,RE=4,rN=class{constructor(){this._buffer=new Uint32Array(RE),this._capacity=RE,this._size=0,this._busy=!1}isBusy(){return this._busy}markBusy(){return this._busy=!0,this}sliceAndReset(){this._busy=!1;const e=this.slice(0,this._size);return this.reset(),e}reset(){return this._size=0,this}reserve(e){return e>this._capacity&&this._setCapacity(Gs(e)),this}_setCapacity(e){const t=new Uint32Array(e);t.set(this._buffer),this._buffer=t,this._capacity=e}push(e){return this._size===this._capacity&&this._setCapacity(2*this._capacity),this._buffer[this._size++]=e,this}pushUnchecked(e){return this._buffer[this._size++]=e,this}slice(e=0,t=this._size){return this._buffer.slice(e,t)}getBuffer(){return this._buffer}getLength(){return this._size}getCapacity(){return this._capacity}setLength(e){return this._size=e,this}isEmpty(){return this._size===0}},DE=(e,t)=>(e+t)*(e+t+1)/2+t;function Wl(e,t){const n=e<t?e:t;return 67108864*n+(e+t-n)}function Kp(e){if(e.keys)return Array.from(e.keys());const t=[];return e.forEach((n,r)=>t.push(r)),t}function go(e){if(e.values)return Array.from(e.values());const t=[];return e.forEach(n=>t.push(n)),t}var iN=class{constructor(){this._map=new Map}reset(){this._map.clear()}set(e,t,n){this._map.set(DE(e,t),n)}get(e,t){return this._map.get(DE(e,t))}};function QO(e){return e instanceof RegExp||e instanceof Date}var KO=typeof HTMLElement>"u"?e=>!1:e=>e instanceof HTMLElement,JO=function(e){return typeof e!="object"||e===null||Rn(e)||QO(e)};function Jp(e,t=[],n=[]){if(!KO(e)){if(JO(e))t.push({path:n.slice(),value:e});else{const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=n.slice();o.push(s),Jp(e[s],t,o)}}return t}}var sN=class{constructor(){this._keys=[],this._values=[],this._size=0,this._cachedPath=[],this._cachedIndex=-1}get size(){return this._size}set(e,t){const n=this._getIndex(e);n!==-1?this._values[n]=t:(mf(this._cachedPath,e)&&(this._cachedIndex=this._keys.length),this._keys.push(e),this._values.push(t),this._size+=1)}get(e){const t=this._getIndex(e);if(t!==-1)return this._values[t]}has(e){return this._getIndex(e)!==-1}keys(){return this._keys.slice()}_getIndex(e){if(mf(e,this._cachedPath))return this._cachedIndex;this._cachedPath=e.slice();const t=this._keys;for(let n=0;n<t.length;++n)if(mf(t[n],e))return this._cachedIndex=n,n;return this._cachedIndex=-1,-1}};function mf(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var eB=function(t){return Array.from(t.keys())},gc=function(t){return Array.from(t.values())},Cs=()=>(e,t)=>e[t],Ts=()=>(e,t,n)=>{e[t]=n},zE={1:ff(1),2:ff(2),4:ff(4),8:Cs(),16:Cs(),32:Cs(),int8:Cs(),int16:Cs(),int32:Cs(),float:Cs(),any:Cs()},OE={1:_f(1),2:_f(2),4:_f(4),8:Ts(),16:Ts(),32:Ts(),int8:Ts(),int16:Ts(),int32:Ts(),float:Ts(),any:Ts()};function ff(e){const t=8/e,n=(1<<e)-1;return(r,i)=>r[i/t|0]>>i%t*e&n}function _f(e){const t=8/e,n=Math.pow(2,e)-1;return(r,i,s)=>{const o=i%t*e,a=i/t|0,l=s<<o,c=255-(n-s<<o);r[a]=r[a]&c|l}}function tB(e,t){return e===void 0&&t!=="any"&&t!=="resource"?0:e}var nB={get(e){return this._getArrayElt(this._buffer,e)},set(e,t){this._setArrayElt(this._buffer,e,t)}},rB={get(e){return this._byIndex[this._getArrayElt(this._buffer,e)]},set(e,t){let n=this._byName[t];n===void 0&&(n=this._nextIndex++,this._byIndex.push(t),this._getElementBitSize()>this._elementSize&&this.increaseElementSize(),this._byName[t]=n),this._setArrayElt(this._buffer,e,n)}},iB=0,Og=class{constructor(e){this._id=iB++,this._initialized=!1;const t=e.name,n=e.storage,r=e.size||0,i=tB(e.default,n),s=Math.max(8,BE(r+1)),o=n==="resource"?1:n;this._name=t,this._storage=n,this._getArrayElt=zE[o],this._setArrayElt=OE[o],this._elementSize=o,this._nbElements=s,this._fallback=null,this._byName=void 0,this._byIndex=void 0,this._nextIndex=void 0,this._defaultValue=i,this._BASE_VALUE=n==="any"?void 0:0,this._methods=nB,this._initialized=!1,this._buffer=null,n==="resource"&&(this._methods=rB,this._byName=Object.create(null),this._byIndex=[],this._nextIndex=1,this._byName[i]=0,this._byIndex.push(i))}getValues(){return Object.keys(this._byName||{})}getName(){return this._name||""}setDefaultValue(e){this._defaultValue=e,this._storage==="resource"&&(this._byName[e]=0,this._byIndex[0]=e)}get(e){return this._get(e)}set(e,t){this._set(e,t)}_get(e){return this._defaultValue}_set(e,t){t!==this._defaultValue&&(this._initialize(),this._set(e,t))}setFallback(e){this._fallback=e,this.get=this._getWithFallback}_getWithFallback(e){const t=this._get(e);return t===void 0&&this._fallback?this._fallback.get(e):t}_initialize(){this._initialized=!0,this._buffer=yf(this._nbElements,this._elementSize),this._get=this._methods.get,this._set=this._methods.set,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(0)}grow(e){const t=BE(e+1);if(!(t<=this._nbElements)){if(this._initialized)if(this._elementSize==="any")for(let n=this._nbElements;n<t;++n)this._buffer.push(this._defaultValue);else{const n=yf(t,this._elementSize);n.set(this._buffer),this._buffer=n,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(this._nbElements)}this._nbElements=t}}increaseElementSize(){const e=this._elementSize;if(typeof e!="number"||e===32)throw new Error("FlexArray: cannot increase element size");const t=2*e,n=zE[t],r=OE[t];if(this._initialized){const i=this._nbElements,s=this._getArrayElt,o=this._buffer,a=yf(i,t);if(e>=8)a.set(o);else for(let l=0;l<i;++l)r(a,l,s(o,l));this._buffer=a}this._elementSize=t,this._getArrayElt=n,this._setArrayElt=r}buffer(){if(!this._buffer)throw new Error("FlexArray: buffer not instantiated");return this._buffer}elementBitSize(){return this._elementSize}capacity(){return this._nbElements}byteSize(){return this._nbElements*this._elementSize/8}isInitialized(){return this._initialized||this._fallback&&this._fallback.isInitialized()}getMultiple(e,t){const n=e.length;t===void 0&&(t=new Array(n));for(let r=0,i=n;r<i;++r)t[r]=this.get(e[r]);return t}fill(e,t){for(let n=0,r=e.length;n<r;++n)this.set(e[n],t)}setMultiple(e,t,n){if(n||!Array.isArray(t)&&!ArrayBuffer.isView(t))for(let r=0,i=e.length;r<i;++r)this.set(e[r],t);else for(let r=0,i=e.length;r<i;++r)this.set(e[r],t[r])}reset(){return this._initialized&&this._reset(0),this}_reset(e){const t=this._storage==="resource"?0:this._defaultValue;if(this._buffer)if(typeof this._elementSize!="number"||this._elementSize>=8)this._buffer.fill(t,e);else{const n=8/this._elementSize;let r=0;for(let i=0;i<n;++i)r<<=this._elementSize,r+=t;if(e===void 0)this._buffer.fill(r);else{const i=e+(8-e%8);for(let s=e;s<i;++s)this._setArrayElt(this._buffer,s,t);this._buffer.fill(r,i/8)}}}_getElementBitSize(){if(this._nextIndex)return Math.pow(2,Math.ceil(Math.log2(Math.log2(this._nextIndex))))}};function BE(e){let t=2;for(;t<e;)t*=2;return t}function yf(e,t){return t==="any"?new Array(e):t==="float"?new Float32Array(e):t==="int8"?new Int8Array(e):t==="int16"?new Int16Array(e):t==="int32"?new Int32Array(e):t===32?new Uint32Array(e):t===16?new Uint16Array(e):new Uint8Array(Math.ceil(e/8*t))}var jE=class{constructor(e){this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._flexArrays=[],this._defaultValues=[],this._flexArraysByName={},this._indexLists=[],this._name=e?"node":"edge",this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._idFlexArray=new Og({storage:"int32"}),this._idFlexArray.get=t=>this._indexToId[t],this._idFlexArray.getMultiple=t=>{const n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=this._indexToId[t[r]];return n},this._flexArraysByName.id=this._idFlexArray}addElements(e){const t=[];for(let n=0,r=e.length;n<r;++n){const i=e[n];let s=this._idToIndex[i];s===void 0&&(s=this._getNextIndex(),this._idToIndex[i]=s,this._indexToId[s]=i),t.push(s)}for(const n of this._flexArrays)n.grow(this._nextIndex);for(const n of this._indexLists)n.reserve(this._nextIndex);return new Uint32Array(t)}removeElements(e){for(let t=0,n=e.length;t<n;++t){const r=e[t],i=this._indexToId[r];i!==void 0&&(delete this._idToIndex[i],this._removeIndex(r))}}clear(){this._idToIndex=Object.create(null),this._indexToId=[void 0],this._nextIndex=1,this._freeIndexes=[];for(const e of this._flexArrays)e.reset();for(const e of this._indexLists)e.reset()}has(e){return this._indexToId[e]!==void 0}getIndex(e,t=!1){const n=this._idToIndex[e];if(n===void 0&&t)throw new Error(`${this._name} id "${e}" not found`);return n}createFlexArray(e,t){const{name:n}=e;if(n&&t&&this._flexArraysByName[n])throw new Error(`${this._name} flexArray "${n}" already exists`);let r=e.default;r===void 0&&e.storage!=="any"&&e.storage!=="resource"&&(r=0);const i=this._nextIndex,s={storage:e.storage,size:i,name:n,default:r};let o;return o=(r===void 0&&e.storage!=="any"&&e.storage,new Og(s)),this._flexArrays.push(o),this._defaultValues.push(e.default),n&&t&&(this._flexArraysByName[n]=o),o}getFlexArray(e){return this._flexArraysByName[e]}getAllFlexArrays(){return this._flexArraysByName}createIndexList(){const e=new rN;return e.reserve(this._nextIndex),this._indexLists.push(e),e}getId(e){return this._indexToId[e]}getMaxIndex(){return this._nextIndex-1}_removeIndex(e){this._indexesToBeFreed.push(e)}_getNextIndex(){let e=this._freeIndexes.pop();return e===void 0&&(e=this._nextIndex++),e}freeIndexes(){for(const e of this._indexesToBeFreed)this._indexToId[e]=void 0,this._freeIndexes.push(e);for(let e=0;e<this._flexArrays.length;++e){const t=this._flexArrays[e],n=this._defaultValues[e];for(const r of this._indexesToBeFreed)t.set(r,n)}this._indexesToBeFreed=[]}},wd=pi("web-worker"),oN=!!wd||typeof Worker<"u"&&typeof Blob<"u";function aN(e){return wd?A_(e):e}function A_(e){if(ArrayBuffer.isView(e))return Array.from(e);if(Array.isArray(e)){for(let t=0;t<e.length;t++)e[t]=A_(e[t]);return e}if(bn(e)){const t=Object.keys(e);for(const n of t)e[n]=A_(e[n]);return e}return e}function lN(e){return wd?oB(e):sB(e)}function sB(e){const t=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(t);return new Worker(n)}function oB(e){if(wd)return new wd("data:application/javascript,"+e.replace(/\n/g,""))}var aB=/^rgba?\((\d+),?\s*(\d+),?\s*(\d+),?\s*((\d+)?\.?\d+)*\)$/;function ev(e,t=[0,0,0,0]){const n=aB.exec(e);return n?(t[0]=parseInt(n[1])/255,t[1]=parseInt(n[2])/255,t[2]=parseInt(n[3])/255,t[3]=n[4]===void 0?1:parseFloat(n[4]),t):null}function zh(e){return e<16?"0"+e.toString(16):e.toString(16)}function cN([e,t,n,r=1]){return`rgba(${256*e|0},${256*t|0},${256*n|0},${r})`}function tv(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,s)=>r+r+i+i+s+s);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1]:null}var xf=["AliceBlue","#F0F8FF","AntiqueWhite","#FAEBD7","Aqua","#00FFFF","Aquamarine","#7FFFD4","Azure","#F0FFFF","Beige","#F5F5DC","Bisque","#FFE4C4","Black","#000000","BlanchedAlmond","#FFEBCD","Blue","#0000FF","BlueViolet","#8A2BE2","Brown","#A52A2A","BurlyWood","#DEB887","CadetBlue","#5F9EA0","Chartreuse","#7FFF00","Chocolate","#D2691E","Coral","#FF7F50","CornflowerBlue","#6495ED","Cornsilk","#FFF8DC","Crimson","#DC143C","Cyan","#00FFFF","DarkBlue","#00008B","DarkCyan","#008B8B","DarkGoldenRod","#B8860B","DarkGray","#A9A9A9","DarkGrey","#A9A9A9","DarkGreen","#006400","DarkKhaki","#BDB76B","DarkMagenta","#8B008B","DarkOliveGreen","#556B2F","DarkOrange","#FF8C00","DarkOrchid","#9932CC","DarkRed","#8B0000","DarkSalmon","#E9967A","DarkSeaGreen","#8FBC8F","DarkSlateBlue","#483D8B","DarkSlateGray","#2F4F4F","DarkSlateGrey","#2F4F4F","DarkTurquoise","#00CED1","DarkViolet","#9400D3","DeepPink","#FF1493","DeepSkyBlue","#00BFFF","DimGray","#696969","DimGrey","#696969","DodgerBlue","#1E90FF","FireBrick","#B22222","FloralWhite","#FFFAF0","ForestGreen","#228B22","Fuchsia","#FF00FF","Gainsboro","#DCDCDC","GhostWhite","#F8F8FF","Gold","#FFD700","GoldenRod","#DAA520","Gray","#808080","Grey","#808080","Green","#008000","GreenYellow","#ADFF2F","HoneyDew","#F0FFF0","HotPink","#FF69B4","IndianRed","#CD5C5C","Indigo","#4B0082","Ivory","#FFFFF0","Khaki","#F0E68C","Lavender","#E6E6FA","LavenderBlush","#FFF0F5","LawnGreen","#7CFC00","LemonChiffon","#FFFACD","LightBlue","#ADD8E6","LightCoral","#F08080","LightCyan","#E0FFFF","LightGoldenRodYellow","#FAFAD2","LightGray","#D3D3D3","LightGrey","#D3D3D3","LightGreen","#90EE90","LightPink","#FFB6C1","LightSalmon","#FFA07A","LightSeaGreen","#20B2AA","LightSkyBlue","#87CEFA","LightSlateGray","#778899","LightSlateGrey","#778899","LightSteelBlue","#B0C4DE","LightYellow","#FFFFE0","Lime","#00FF00","LimeGreen","#32CD32","Linen","#FAF0E6","Magenta","#FF00FF","Maroon","#800000","MediumAquaMarine","#66CDAA","MediumBlue","#0000CD","MediumOrchid","#BA55D3","MediumPurple","#9370DB","MediumSeaGreen","#3CB371","MediumSlateBlue","#7B68EE","MediumSpringGreen","#00FA9A","MediumTurquoise","#48D1CC","MediumVioletRed","#C71585","MidnightBlue","#191970","MintCream","#F5FFFA","MistyRose","#FFE4E1","Moccasin","#FFE4B5","NavajoWhite","#FFDEAD","Navy","#000080","OldLace","#FDF5E6","Olive","#808000","OliveDrab","#6B8E23","Orange","#FFA500","OrangeRed","#FF4500","Orchid","#DA70D6","PaleGoldenRod","#EEE8AA","PaleGreen","#98FB98","PaleTurquoise","#AFEEEE","PaleVioletRed","#DB7093","PapayaWhip","#FFEFD5","PeachPuff","#FFDAB9","Peru","#CD853F","Pink","#FFC0CB","Plum","#DDA0DD","PowderBlue","#B0E0E6","Purple","#800080","RebeccaPurple","#663399","Red","#FF0000","RosyBrown","#BC8F8F","RoyalBlue","#4169E1","SaddleBrown","#8B4513","Salmon","#FA8072","SandyBrown","#F4A460","SeaGreen","#2E8B57","SeaShell","#FFF5EE","Sienna","#A0522D","Silver","#C0C0C0","SkyBlue","#87CEEB","SlateBlue","#6A5ACD","SlateGray","#708090","SlateGrey","#708090","Snow","#FFFAFA","SpringGreen","#00FF7F","SteelBlue","#4682B4","Tan","#D2B48C","Teal","#008080","Thistle","#D8BFD8","Tomato","#FF6347","Turquoise","#40E0D0","Violet","#EE82EE","Wheat","#F5DEB3","White","#FFFFFF","WhiteSmoke","#F5F5F5","Yellow","#FFFF00","YellowGreen","#9ACD32"],ql=[0,0,0,0],Ed=new Map;Ed.set(null,[0,0,0,0]),Ed.set("transparent",[0,0,0,0]);for(let e=0;e<xf.length;e+=2){const t=xf[e].toLowerCase(),n=xf[e+1];Ed.set(t,tv(n))}var k_,yr=e=>{let t=Ed.get(e);if(t===void 0){const n=e+"",r=n.charAt(0)==="#"?tv(n):ev(n);Ed.set(e,r),t=r}return t},C_=e=>{const t=yr(e);if(!t)return null;const[n,r,i]=t;return`#${zh(255*n)}${zh(255*r)}${zh(255*i)}`},Na=e=>{let t=1,n=e;return n&&ev(e,ql)&&(n=`rgb(${255*+ql[0]},${255*+ql[1]},${255*+ql[2]})`,t=parseFloat(ql[3].toString())),{color:n,opacity:t}},UE=pi("xmldom");k_=typeof XMLSerializer<"u"?XMLSerializer:UE?UE.XMLSerializer:null;var dN=class{constructor(e){this._attributes={},this._children=[],this._name=e}setAttribute(e,t){this._attributes[e]=t}appendChild(e){this._children.push(e)}get tagName(){return this._name}get children(){return this._children}get childNodes(){return this._children}get firstChild(){return this._children[0]||null}serialize(){const e=this._name,t=this._attributes,n=this._children,r=Object.keys(t).filter(s=>t[s]!==void 0).map(s=>` ${s}="${""+t[s]}"`).join(""),i=n.map(s=>s.serialize()).join("");return i.length?`<${e}${r}>${i}</${e}>`:`<${e}${r}/>`}cloneNode(e){const t=new dN(this._name),n=Object.keys(this._attributes);for(const r of n)t.setAttribute(r,this._attributes[r]);if(e)for(let r=0;r<this._children.length;r++)t.appendChild(this._children[r].cloneNode(e));return t}},nv=class{constructor(e){this._text=e}serialize(){return this._text}cloneNode(){return new nv(this._text)}},lB=class{constructor(){this._children=[],this._meta=[],this._children=[],this._meta=[]}appendChild(e){this._children.push(e)}serialize(){return this._meta.concat(this._children.map(e=>e.serialize())).join("")}createElement(e){return new dN(e)}createTextNode(e){return new nv(e)}},uN=()=>new lB;function rv(e){if(k_)return new k_().serializeToString(e)}var hN=()=>ys().implementation.createDocument("","",null),gN=class{constructor(e){this._heap=[],this._size=0,this._keyToValue=e,this._keyToIndex=new Int32Array(e.length),this._keyToIndex.fill(-1)}add(e){let t=this._keyToIndex[e];t===-1&&(t=this._size++,this._heap[t]=e),this._keyToIndex[e]=this._bubble(t)}removeMin(){if(this._size===0)return NaN;const e=this._heap[0];return this._heap[0]=this._heap[--this._size],this._bubble(0),e}isEmpty(){return this._size===0}has(e){return this._keyToIndex[e]!==-1}_bubble(e){const t=this._indexToValue(e),n=this._getParentIndex(e),r=this._indexToValue(n);let i=e;if(e!==0&&r>t)i=this._swap(e,n);else{const s=this._getLeftChildIndex(e),o=this._getRightChildIndex(e),a=this._indexToValue(s),l=this._indexToValue(o),c=Math.min(t,a,l);c===t||(i=c===a?this._swap(e,s):this._swap(e,o))}return i===e?e:this._bubble(i)}_indexToValue(e){return e>=this._size?1/0:this._keyToValue[this._heap[e]]}_getParentIndex(e){return(e-1)/2|0}_getLeftChildIndex(e){return 2*e+1}_getRightChildIndex(e){return 2*e+2}_swap(e,t){const n=this._heap[e],r=this._heap[t];return this._heap[e]=r,this._heap[t]=n,this._keyToIndex[n]=t,this._keyToIndex[r]=e,t}},Jd=class{constructor(e,t){this._graph=e,this._nodes={elementList:e.nodeList,flexArray:e.createNodeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!0)},this._edges={elementList:e.edgeList,flexArray:e.createEdgeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!1)}}_get(e){return e.isNode?this._nodes:this._edges}addOrRemoveElements(e,t){return t?this.addElements(e):this.removeElements(e)}addElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength();for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];n.get(o)!==1&&(n.set(o,1),r.pushUnchecked(o))}return t(r.slice(i))}removeElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength(),s=r.getBuffer();if(i>s.length)return this.clear(),this.addElements(e),e;let o=0;for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];n.get(l)!==0&&(n.set(l,0),o+=1)}if(o===i)return t(r.sliceAndReset());if(o===0)return t();{const a=this._graph.acquireIndexList(e.isNode);let l=0;for(let c=0;c<i;++c){const d=s[c];n.get(d)===0?(l+=1,a.pushUnchecked(d)):s[c-l]=d}return r.setLength(i-o),t(a.sliceAndReset())}}hasElement(e){return!!this._get(e).flexArray.get(e._index)}clear(){this._nodes.indexList.isEmpty()||(this._nodes.indexList.reset(),this._nodes.flexArray.reset()),this._edges.indexList.isEmpty()||(this._edges.indexList.reset(),this._edges.flexArray.reset())}isEmpty(){return this._nodes.indexList.isEmpty()&&this._edges.indexList.isEmpty()}getElements(){return{nodes:this._nodes.elementList(this._nodes.indexList.slice()),edges:this._edges.elementList(this._edges.indexList.slice())}}};function cB(e,t,n,r=0){t===void 0&&(t=n=Math.sqrt(e.length/4)),n===void 0&&(n=t);const i=document.createElement("canvas"),s=i.getContext("2d");if(s){const o=s.createImageData(t,n);i.style.imageRendering="pixelated",i.style.border="1px solid black",i.style.margin="2px",i.style.position="absolute",i.style.top=i.style.left="0px",i.width=t,i.height=n,o.data.set(e),s.putImageData(o,0,0);const a=document.getElementById("graph-container");a&&(a.style.position="static"),setTimeout(()=>document.body.appendChild(i),r)}}var iv=()=>({minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),Nn=class{constructor(e={}){const{xValues:t=[],yValues:n=[],scaledSizeValues:r=[],fixedSizeValues:i=[]}=e;this.minX=as(t),this.minY=as(n),this.maxX=Xa(t),this.maxY=Xa(n),this.minScaledSize=as(r),this.maxScaledSize=Xa(r),this.minFixedSize=as(i),this.maxFixedSize=Xa(i),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY}reset(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.minScaledSize=1/0,this.maxScaledSize=-1/0,this.minFixedSize=1/0,this.maxFixedSize=-1/0,this.width=0,this.height=0,this.cx=0,this.cy=0,this}addPoint(e,t,n,r){return this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,t),n!==void 0&&r!==void 0&&(r==="scaled"?(this.minScaledSize=Math.min(this.minScaledSize,n),this.maxScaledSize=Math.max(this.maxScaledSize,n)):(this.minFixedSize=Math.min(this.minFixedSize,n),this.maxFixedSize=Math.max(this.maxFixedSize,n))),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY,this}computeForZoom(e){const t=Math.max(this.maxScaledSize,this.maxFixedSize/e);return Nn.from({minX:this.minX-t/2,minY:this.minY-t/2,maxX:this.maxX+t/2,maxY:this.maxY+t/2,width:this.width+t,height:this.height+t})}static from({minX:e,minY:t,maxX:n,maxY:r,width:i,height:s}={}){const o=new Nn;return e!=null&&(o.minX=e),t!=null&&(o.minY=t),n!=null&&(o.maxX=n),r!=null&&(o.maxY=r),n!=null&&e!=null&&(o.width=i||(n-e)/2,o.cx=(e+n)/2),r!=null&&t!=null&&(o.height=s||(r-t)/2,o.cy=(t+r)/2),o}static fromValues(e,t,n){let r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0;c<e.length;c++){const d=e[c],u=t[c],h=n[c];d-h<r&&(r=d-h),u-h<i&&(i=u-h),d+h>s&&(s=d+h),u+h>o&&(o=u+h),h>a&&(a=h)}const l=Nn.from({minX:r,minY:i,maxX:s,maxY:o});return l.maxScaledSize=a,l}pad(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,this.width+=2*e,this.height+=2*e,this}isValid(){return isFinite(this.width)&&isFinite(this.height)}extend(e){return this.addPoint(e.minX,e.minY),this.addPoint(e.maxX,e.maxY),this}bottomLeft(){return{x:this.minX,y:this.minY}}topRight(){return{x:this.maxX,y:this.maxY}}},eu=class{on(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");if(typeof t!="function")throw new TypeError("Event handler must be function");const n=this._events=this._events||{};return(n[e]=n[e]||[]).push(t),this}off(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=this._events=this._events||{},r=n[e];if(Rn(r))if(typeof t!="function")n[e]=null;else{const i=r.indexOf(t);i!==-1&&r.splice(i,1),r.length===0&&(n[e]=null)}return this}fire(e,...t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=(this._events=this._events||{})[e];if(Rn(n)){const r=t;for(let i=0;i<n.length;i++){const s=n[i];s&&s.apply(this,r)}}return this}once(e,t){const n=this,r=function(...i){t.apply(n,i),n.off(e,r)};return r.handler=t,this.on(e,r)}hasListener(e,t){if(!e||!t)return!1;const n=(this._events=this._events||{})[e];if(Rn(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];if(s===t||s.handler===t)return!0}return!1}clearEvents(){this._events={}}getListeners(e){return(this._events=this._events||{})[e]}},dB=8,T_=class{constructor(){this._BIG_LIST=255,this._MAX_LIST_SIZE=8,this._capacity=dB,this._buffer=new Uint32Array(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(t){return t===void 0&&(t=this._nextIndex++),t>=this._capacity&&this._reserve(t+1),this._sizes[t]=0,t}get(t){const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){const i=this._buffer[r];return this._bigLists[i]}throw new Error(`Table: ${t} out of bounds (${n})`)}size(t){const n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(t){const n=this._sizes,r=this._bigLists,i=this._buffer,s=this._MAX_LIST_SIZE,o=t.length,a=new Array(o);for(let l=0;l<o;l++){const c=t[l],d=n[c];a[l]=d<=s?d:r[i[c*s]].length}return a}addTo(t,n){const r=this._sizes[t],i=t*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=n,this._sizes[t]=r+1;else if(r===this._BIG_LIST){const s=this._buffer[i];this._bigLists[s].push(n)}else{const s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(n),this._bigLists.push(s),this._sizes[t]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}return this}removeFrom(t,n){return this.removeFromAndGetSize(t,n),this}removeFromAndGetSize(t,n){const r=this._MAX_LIST_SIZE*t;let i=this._sizes[t];if(i<=this._MAX_LIST_SIZE){for(let s=r,o=r+i;s<o;++s)if(this._buffer[s]===n)return i-=1,this._buffer[s]=this._buffer[o-1],this._sizes[t]=i,i}else if(i===this._BIG_LIST){const s=this._buffer[r],o=this._bigLists[s],a=o.indexOf(n);if(a!==-1)return o.splice(a,1),o.length}throw new Error('topology: Table: "removeFrom" failed, should not happen')}reserve(t){return this._capacity<t&&this._reserve(t),this}_reserve(t){this._capacity=Math.pow(2,Math.ceil(Math.log2(t))),this._buffer=$E(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=$E(this._sizes,this._capacity)}};function $E(e,t){const n=new e.constructor(t);return n.set(e),n}function pN(e,t=1,n=0,r,i){if(!r||!i){const u=e.map(g=>[g.x,g.y]),h=qx.from(u,g=>g.x,g=>g.y);r=_d(h.triangles,u),i=_d(h.hull,u)}if(!i)return[];const s=n*n,o=[],a={};for(let u=0;u<r.length;u+=3)if(uB(i,sv(r[u],r[u+1],r[u+2]))){const h=gB(r[u],r[u+1],r[u+2]);h>s&&(o.push(u),a[u]=h)}if(o.length===0)return[];o.sort((u,h)=>a[u]-a[h]);let l=o[0],c=a[l];const d=[];for(let u=0;u<o.length;u++){const h=o[u],g=a[h];g>c&&g>s&&(l=h,c=g,d.push(l),d.length>t&&d.shift())}return d.map(u=>hB(r[u],r[u+1],r[u+2]))}function uB(e,t){const n=e.length,r=e[n-1],[i,s]=t;let[o,a]=r,l=!1;for(let c=0;c<n;c++){const d=e[c],[u,h]=d;h>s!=a>s&&i<(o-u)*(s-h)/(a-h)+u&&(l=!l),o=u,a=h}return l}function hB(e,t,n){const r=sv(e,t,n);let i=0;for(let s=0;s<3;s++){const o=arguments[s],a=o[0]-r[0],l=o[1]-r[1],c=Math.sqrt(a*a+l*l);c>i&&(i=c)}return[r[0],r[1],i]}function gB(e,t,n){const[r,i]=sv(e,t,n),[s,o]=e,a=r-s,l=i-o;return a*a+l*l}function sv(e,t,n){const r=[(e[0]+t[0])/2,(e[1]+t[1])/2],i=[(t[0]+n[0])/2,(t[1]+n[1])/2],s=-1/((t[1]-e[1])/(t[0]-e[0])),o=-1/((n[1]-t[1])/(n[0]-t[0])),a=r[1]-s*r[0],l=(a-(i[1]-o*i[0]))/(o-s);return[l,s*l+a]}function em(e,t,n,r){let i;if(r)i=r;else{i=new Uint32Array(e.length);for(let h=0,g=e.length;h<g;h++)i[h]=h}function s(h,g,p,m,_,y){const f=p-y+1e-9*Math.max(p,y,1),x=m-h,v=_-g;return f>0&&f*f>x*x+v*v}function o(h,g,p,m,_,y,f){for(let x=0;x<m.length;++x){const v=m[x];if(!s(h,g,p,_[v],y[v],f[v]))return!1}return!0}function a(h,g,p,m,_,y){const f=m-h,x=_-g,v=y-p,w=Math.sqrt(f*f+x*x);return[(h+m+f/w*v)/2,(g+_+x/w*v)/2,(w+p+y)/2]}function l(h,g,p,m,_,y,f,x,v){const w=h-m,b=h-f,S=g-_,A=g-x,C=y-p,k=v-p,N=h*h+g*g-p*p,R=N-m*m-_*_+y*y,B=N-f*f-x*x+v*v,H=b*S-w*A,F=(S*B-A*R)/(2*H)-h,T=(A*C-S*k)/H,W=(b*R-w*B)/(2*H)-g,G=(w*k-b*C)/H,Y=T*T+G*G-1,ee=2*(p+F*T+W*G),J=F*F+W*W-p*p,ue=-(Math.abs(Y)>1e-6?(ee+Math.sqrt(ee*ee-4*Y*J))/(2*Y):J/ee);return[h+F+T*ue,g+W+G*ue,ue]}function c(h,g,p,m){switch(h.length){case 1:const _=h[0];return function(S,A,C){return[S,A,C]}(g[_],p[_],m[_]);case 2:const[y,f]=h;return a(g[y],p[y],m[y],g[f],p[f],m[f]);case 3:const[x,v,w]=h;return l(g[x],p[x],m[x],g[v],p[v],m[v],g[w],p[w],m[w]);default:return null}}function d(h,g,p,m,_,y){const f=p-y,x=m-h,v=_-g;return f<0||f*f<x*x+v*v}function u(h,g,p,m,_){const y=p[g],f=m[g],x=_[g];if(o(y,f,x,h,p,m,_))return[g];for(let v=0;v<h.length;++v){const w=h[v],b=p[w],S=m[w],A=_[w];if(d(y,f,x,b,S,A)){const[C,k,N]=a(b,S,A,y,f,x);if(o(C,k,N,h,p,m,_))return[h[v],g]}}for(let v=0;v<h.length-1;++v)for(let w=v+1;w<h.length;++w){const b=h[v],S=h[w],A=p[b],C=m[b],k=_[b],N=p[S],R=m[S],B=_[S],H=a(A,C,k,N,R,B);if(d(H[0],H[1],H[2],y,f,x)){const F=a(A,C,k,y,f,x);if(d(F[0],F[1],F[2],N,R,B)){const T=a(N,R,B,y,f,x);if(d(T[0],T[1],T[2],A,C,k)){const W=l(A,C,k,N,R,B,y,f,x);if(o(W[0],W[1],W[2],h,p,m,_))return[b,S,g]}}}}throw new Error}return i=function(g){for(let p=g.length-1;p>=0;p--){let m=Math.floor(Math.random()*(p+1));m=Math.max(Math.min(m,p),0);const _=g[p];g[p]=g[m],g[m]=_}return g}(i),n=n||new Array(e.length).fill(0),function(g,p,m,_,y){let f=null,x=[],v=0;for(;v<p;){const w=g[v];f&&s(f[0],f[1],f[2],m[w],_[w],y[w])?v++:(x=u(x,w,m,_,y),f=c(x,m,_,y),v=0)}return f}(i,i.length,e,t,n)}var mN=[1/0,1/0,-1/0,-1/0];function Bg(e,t,n,r,i,s={x:0,y:0}){const o=Math.cos(i),a=Math.sin(i),l=e-n,c=t-r;return s.x=o*l-a*c+n,s.y=a*l+o*c+r,s}function pB(e,t,n=0,r={x:0,y:0}){return r.x=e.x+n*Math.sin(t),r.y=e.y+n*Math.cos(t),r}function vn(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}function Oh(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function fN(e){const t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e}function L_(e){return 180*e/Math.PI}function mB(e){return e*Math.PI/180}function _N(e,t){return e.minX-=t,e.minY-=t,e.maxX+=t,e.maxY+=t,e.width===void 0&&(e.width=e.maxX-e.minX),e.height===void 0&&(e.height=e.maxY-e.minY),e.width+=2*t,e.height+=2*t,e}function ov(e,t,n,r,i,s){const o=r-e,a=i-t,l=Math.sqrt(o*o+a*a);if(l>n+s||l<Math.abs(n-s))return null;const c=(n*n-s*s+l*l)/(2*l),d=e+o*c/l,u=t+a*c/l,h=Math.sqrt(n*n-c*c),g=h/l*-a,p=o*(h/l);return[[d+g,u+p],[d-g,u-p]]}function av(e,t,n,r,i,s){if(e-i>=0&&n-i<0)return 1;if(e-i<0&&n-i>=0)return-1;if(e-i==0&&n-i==0)return t-r>=0||r-s>=0?t-r:r-t;const o=(e-i)*(r-s)-(n-i)*(t-s);return o<0?1:o>0?-1:(e-i)*(e-i)+(t-s)*(t-s)-((n-i)*(n-i)+(r-s)*(r-s))}function fB([e,t,n],r,i){const s=Math.abs(e-r),o=Math.abs(t-i);return s+o<=n||!(s>n||o>n)&&Math.sqrt(s*s+o*o)<n+1e-12}function _B(e,t,n,r){const i=e[0]-t,s=e[1]-n,o=e[2]-r;return i*i+s*s<o*o+1e-6}function lv(e,t,n,r,i,s,o){const a=e-Math.max(r,Math.min(s,e)),l=t-Math.max(i,Math.min(o,t));return a*a+l*l<n*n}function yN(e,t,n,r,i,s,o,a={x:0,y:0}){const l=a||{x:0,y:0};let c,d,u,h;if(n===e){const y=e-i,f=o*o-y*y;if(f<0)return null;const x=Math.sqrt(f);c=e,u=e,d=s+x,h=s-x}else{const y=(r-t)/(n-e),f=t-y*e,x=f-s,v=y*y+1,w=2*(y*x-i),b=w*w-4*v*(i*i+x*x-o*o);if(b<0)return null;const S=-w,A=Math.sqrt(b),C=2*v;c=(S+A)/C,u=(S-A)/C,d=y*c+f,h=y*u+f}const g=e-c,p=t-d,m=e-u,_=t-h;return g*g+p*p<m*m+_*_?(l.x=c,l.y=d):(l.x=u,l.y=h),l}function N_({X:e,Y:t,sizes:n,indexes:r,R:i,center:s,gap:o=0,epsilon:a=.001,maxLoops:l=5,inPlace:c=!0}){const d=r.length,u=s[0],h=s[1];let g=d;c||(e=e.slice(),t=t.slice());const p=ov,m=av,_=r.slice().sort((k,N)=>m(e[k],t[k],e[N],t[N],u,h)),y=_[d-1],f=e[y],x=t[y];let v=!1;for(let k=0;k<g-1;k++){let N=k%d,R=(k+1)%d;k===-1&&(N=d-1,R=0),N=_[N],R=_[R];const B=e[N],H=t[N];let F=e[R],T=t[R];const W=n[N]+n[R]+o;let G=m(B,H,F,T,u,h);if(G===-1&&v&&(G=1),!(W>i)){if(G===1||W-vn(B,H,F,T)>a){const Y=p(u,h,i,B,H,W);if(Y){const ee=Y[0];v=F>u&&ee[0]<u,F=e[R]=ee[0],T=t[R]=ee[1]}}else v=!1;if(k%d==d-2){const Y=_[d-1],ee=_[0];if(t[Y]>h&&t[ee]>h&&e[Y]-n[Y]<e[ee]+n[Y]){let J=0;for(g=Math.min(d*l,g+d);t[_[Y]]>h&&t[_[0]]>h&&e[_[Y]]<e[_[0]]&&++J<d;){const ue=_.pop();ue&&_.unshift(ue)}}}}}const w=f-u,b=x-h,S=e[y]-u,A=t[y]-h,C=w===S?0:Math.abs(Math.acos((w*S+b*A)/(Math.sqrt(w*w+b*b)*Math.sqrt(S*S+A*A))));if(C!==0){const k=Math.sin(-C),N=Math.cos(-C);let R;for(let B=0;B<d;B++){R=_[B];const H=e[R]-u,F=t[R]-h;e[R]=H*N-F*k+u,t[R]=H*k+F*N+h}}return{X:e,Y:t}}function VE(e,t,n,r,i,s){const o={},a=n[e];let l=a,c=0;const d=a*i;for(const u in t){const h=t[u];let g=0,p=0;for(let f=0,x=h.length;f<x;f++){const v=n[h[f]];p=Math.max(p,v),g+=2*v+r}const m=g/(2*Math.PI),_=p+l,y=s?c+Math.max(s,_):c*i;c=Math.max(_,c,m,d,y),o[u]=c,l=p}return o[0]=0,o[Number.POSITIVE_INFINITY]=c,o}function yB(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function GE(e){const t=e.length,n=[0,1];let r=2;for(let i=2;i<t;i++){for(;r>1&&yB(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function xB(e){const t=e.length;if(t<3)return null;const n=new Array(t),r=new Array(t);for(let u=0;u<t;u++)n[u]=[+e[u][0],+e[u][1],u];n.sort((u,h)=>u[0]-h[0]||u[1]-h[1]);for(let u=0;u<t;u++)r[u]=[n[u][0],-n[u][1]];const i=GE(n),s=GE(r),o=s[s.length-1],a=i[i.length-1],l=s[0]===i[0],c=o===a?1:0,d=[];for(let u=i.length-1;u>=0;--u)d.push(e[n[i[u]][2]]);for(let u=+l;u<s.length-c;u++)d.push(e[n[s[u]][2]]);return d}var HE=e=>--e*e*e+1,WE=(e,t,n)=>{const r=e-n[0],i=t-n[1];return r*r+i*i},vB=(e,t)=>{let n=1/0,r=-1/0;for(let i=0;i<e.length;i++){const s=e[i],o=t?t[s]:s;n=Math.min(o,n),r=Math.max(o,r)}return{min:n,max:r}};function bB({X:e,Y:t,R:n,center:r,maxSteps:i=1e3,padding:s=5,epsilon:o=1e-9,damping:a=2,pinned:l,indexes:c,onUpdate:d,pushSmallerOut:u=!0}){const h=c?c.length:e.length;let g=c;if(isFinite(l)||(l=-1),g===void 0){g=new Uint32Array(h);for(let v=0;v<h;v++)g[v]=v}else g=c;if(l!==-1)r=[e[l],t[l]];else if(!r){let v=0,w=0;for(let b=0;b<h;b++)v+=e[g[b]],w+=t[g[b]];r=[v/h,w/h]}const{min:p,max:m}=vB(g,n);function _(v,w){let b=0;for(let k=0;k<h-1;k++)for(let N=k+1;N<h;N++){if(k===N)continue;const R=g[k],B=g[N],H=e[R],F=t[R],T=n[R],W=e[B],G=t[B],Y=n[B],ee=W-H,J=G-F,ue=T+Y+s,Ae=ee*ee+J*J;if(Ae<ue*ue-v){const ce=(ue-Math.sqrt(Ae))*w,_e=1/Ae,ze=ee*_e*ce,Me=J*_e*ce,We=ze*ze+Me*Me;if(B!==l){const he=T/p;b+=We*he,e[B]+=ze*he,t[B]+=Me*he}if(R!==l){const he=Y/p;b+=We*he,e[R]-=ze*he,t[R]-=Me*he}}}const S=v*a*(1-w),A=r[0],C=r[1];for(let k=0;k<h;k++){const N=g[k];if(N!==l){const R=e[N],B=t[N],H=n[N],F=u?S*(H/m):S,T=(R-A)*F,W=(B-C)*F;b+=T*T+W*W,e[N]-=T,t[N]-=W}}return b}g.sort((v,w)=>n[w]*WE(e[w],t[w],r)-n[v]*WE(e[v],t[v],r));let y=0,f=0;const x=HE(1/h);for(let v=0;v<i&&(y=_(x,HE((v+1)/i)),d&&setTimeout(()=>d(e,t)),!(Math.abs(y-f)<o));v++)f=y;return{X:e,Y:t}}var Iu=e=>({data:e,next:null,prev:null});function xN(e,t=0,n=0){const r=e.length;if(r===0)return e;const i=e[0];if(i.x=t,i.y=n,r===1)return e;const s=e[1];if(i.x=t-s.radius,s.x=t+i.radius,s.y=n,r===2)return e;const o=e[2];qE(s,i,o);let a=Iu(i),l=Iu(s),c=Iu(o);a.next=c.prev=l,l.next=a.prev=c,c.next=l.prev=a;e:for(let d=3;d<r;d++){c=Iu(e[d]),qE(a.data,l.data,e[d]);let u=l.next,h=a.prev,g=l.data.radius,p=a.data.radius;do if(g<=p){if(XE(u.data,c.data)){l=u,a.next=l,l.prev=a,--d;continue e}g+=u.data.radius,u=u.next}else{if(XE(h.data,c.data)){a=h,a.next=l,l.prev=a,--d;continue e}p+=h.data.radius,h=h.prev}while(u!==h.next);c.prev=a,c.next=l,a.next=l.prev=l=c;let m=YE(a);for(;(c=c.next)!==l;){const _=YE(c);_<m&&(a=c,m=_)}l=a.next}return e}function qE(e,t,n){const r=e.x-t.x;let i,s;const o=e.y-t.y,a=r*r+o*o;let l,c;a?(s=t.radius+n.radius,s*=s,c=e.radius+n.radius,c*=c,s>c?(i=(a+c-s)/(2*a),l=Math.sqrt(Math.max(0,c/a-i*i)),n.x=e.x-i*r-l*o,n.y=e.y-i*o+l*r):(i=(a+s-c)/(2*a),l=Math.sqrt(Math.max(0,s/a-i*i)),n.x=t.x+i*r-l*o,n.y=t.y+i*o+l*r)):(n.x=t.x+n.radius,n.y=t.y)}var wB=1e-6;function XE(e,t){const n=e.radius+t.radius-wB,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function YE(e){const t=e.data,n=e.next.data,r=t.radius+n.radius,i=(t.x*n.radius+n.x*t.radius)/r,s=(t.y*n.radius+n.y*t.radius)/r;return i*i+s*s}var EB=16,SB=class{constructor(e=Int32Array,t=EB,n=8){this._BIG_LIST=new Uint8Array([-1])[0],this._ArrayType=e,this._capacity=t,this._MAX_LIST_SIZE=n,this._freeIndex=-1,this.clear()}clear(){this._buffer=new this._ArrayType(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._idToIndex={},this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(e){let t;return this._freeIndex===-1?t=this._nextIndex++:(t=this._freeIndex,this._freeIndex=-1),this._idToIndex[e]=t,t>=this._capacity&&this._expand(t+1),this._sizes[t]=0,t}getItems(e){const t=this._idToIndex[e];if(t===void 0)return;const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){let i=this._buffer[r];return this._bigLists[i]}}removeEntry(e){const t=this._idToIndex[e];if(this._sizes[t]===this._BIG_LIST){const n=this._MAX_LIST_SIZE*t,r=this._buffer[n];this._bigLists[r].length=0}this._sizes[t]=0,this._freeIndex=t}size(e){const t=this._idToIndex[e];let n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(e){const t=this._sizes,n=this._bigLists,r=this._buffer,i=this._MAX_LIST_SIZE,s=e.length,o=new Array(s);for(let a=0;a<s;a++){const l=this._idToIndex[e[a]],c=t[l];o[a]=c<=i?c:n[r[l*i]].length}return o}addTo(e,t){const n=this._idToIndex[e],r=this._sizes[n],i=n*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=t,this._sizes[n]=r+1;else if(r===this._BIG_LIST){let s=this._buffer[i];this._bigLists[s].push(t)}else{let s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(t),this._bigLists.push(s),this._sizes[n]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}}removeFrom(e,t){this.removeFromAndGetSize(e,t)}removeFromAndGetSize(e,t){const n=this._idToIndex[e];let r=this._sizes[n],i=this._MAX_LIST_SIZE*n;if(r<=this._MAX_LIST_SIZE){for(let s=i,o=i+r;s<o;++s)if(this._buffer[s]===t)return r-=1,this._buffer[s]=this._buffer[o-1],this._sizes[n]=r,r}else if(r===this._BIG_LIST){let s=this._buffer[i],o=this._bigLists[s],a=o.indexOf(t);if(a!==-1)return o.splice(a,1),o.length}}reserve(e){this._capacity<e&&this._expand(e)}_expand(e){this._capacity=Math.pow(2,Math.ceil(Math.log2(e))),this._buffer=ZE(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=ZE(this._sizes,this._capacity)}has(e){const t=this._idToIndex[e];return!(t===void 0||t>=this._capacity)&&this._sizes[t]!==0}get averageSize(){let e=0;for(let t=0;t<this._capacity;t++)e+=this._sizes[t];return e/this._capacity}};function ZE(e,t){let n=new e.constructor(t);return n.set(e),n}var Xl,QE,Yl,Ea,Zl,Ro=[0,1],Bh=[0,2];for(Yl=4;Yl<65535;Yl<<=2)for(Xl=0,QE=Ro.length;Xl<QE;Xl++)Ro.push(Ro[Xl]|Yl),Bh.push((Ro[Xl]|Yl)<<1);function Ai(e,t){return(Bh[255&t]|Ro[255&e])+65536*(Bh[t>>8&255]|Ro[e>>8&255])+4294967296*(Bh[t>>16&255]|Ro[e>>16&255])}function KE(e,t=[0,0]){if(e>0xffffffffffff)throw"Only morton codes up to 48 bits are supported.";if(!Ea){Ea={},Zl={};for(var n=0;n<256;n++)Ea[Ai(n,0)]=n,Zl[Ai(0,n)]=n}var r=Ea[21845&e],i=Zl[43690&e];return e>65535&&(r|=Ea[21845&(e/=65536)]<<8,i|=Zl[43690&e]<<8,e>65535&&(r|=Ea[21845&(e/=65536)]<<16,i|=Zl[43690&e]<<16)),t[0]=r,t[1]=i,t}Ai.code=function(t,n,r){if(t>24)throw"Morton codes are only supported up to Z=24";var i=1<<24-t;return Ai(n*i,r*i)},Ai.range=function(t,n,r){if(t>24)throw"Morton ranges are only supported up to Z=24";var i=1<<24-t,s=Ai(n*i,r*i);return[s,s+i*i-1]},Ai.reverse=KE,Ai.decode=function(t,n){var r=KE(n),i=1<<24-t;return[r[0]/i,r[1]/i]},Ai.min=function(t,n){var r=1431655765&t,i=1431655765&n,s=2863311530&t,o=2863311530&n;return Math.min(r,i)+Math.min(s,o)};var AB=1e-6,kB=1e-12;function vN(){for(var e=arguments,t=e.length-1,n=t,r=[],i=0;i<=t&&Math.abs(e[i])<=kB;i++)t--;switch(t){case 1:CB(e[n],e[n-1],r);break;case 2:TB(e[n],e[n-1],e[n-2],r);break;case 3:LB(e[n],e[n-1],e[n-2],e[n-3],r)}return r}function CB(e,t,n=[]){return t!==0&&n.push(-e/t),n}function TB(e,t,n,r=[]){var i=t/n,s=i*i-4*(e/n);if(s>0){var o=Math.sqrt(s);r.push(.5*(-i+o)),r.push(.5*(-i-o))}else s===0&&r.push(.5*-i);return r}function LB(e,t,n,r,i=[]){var s,o,a=n/r,l=t/r,c=(3*l-a*a)/3,d=(2*a*a*a-9*l*a+27*(e/r))/27,u=a/3,h=d*d/4+c*c*c/27,g=d/2;if(Math.abs(h)<=AB&&(h=0),h>0){var p=Math.sqrt(h);o=(s=-g+p)>=0?Math.pow(s,1/3):-Math.pow(-s,1/3),(s=-g-p)>=0?o+=Math.pow(s,1/3):o-=Math.pow(-s,1/3),i.push(o-u)}else if(h<0){var m=Math.sqrt(-c/3),_=Math.atan2(Math.sqrt(-h),-g)/3,y=Math.cos(_),f=Math.sin(_),x=Math.sqrt(3);i.push(2*m*y-u),i.push(-m*(y+x*f)-u),i.push(-m*(y-x*f)-u)}else s=g>=0?-Math.pow(g,1/3):Math.pow(-g,1/3),i.push(2*s-u),i.push(-s-u);return i}function Ls(e,t,n,r,i,s,o,a,l,c,d){for(var u,h,g=Math.min(o,l),p=Math.min(a,c),m=Math.max(o,l),_=Math.max(a,c),y=vN((u=a-c)*(e+-2*n+i)+(h=l-o)*(t+-2*r+s),u*(-2*e+2*n)+h*(-2*t+2*r),u*e+h*t+(o*c-l*a)),f=0;f<y.length;f++){var x=y[f];if(0<=x&&x<=1){var v=e+(n-e)*x,w=t+(r-t)*x,b=v+(n+(i-n)*x-v)*x,S=w+(r+(s-r)*x-w)*x;if(o===l){if(p<=S&&S<=_){if(!d)return 1;d.push(b,S)}}else if(a===c){if(g<=b&&b<=m){if(!d)return 1;d.push(b,S)}}else if(b>=g&&S>=p&&b<=m&&S<=_){if(!d)return 1;d.push(b,S)}}}return d?d.length/2:0}function bN(e,t,n,r,i,s,o,a,l,c,d){return d?(Ls(e,t,n,r,i,s,o,a,l,a,d),Ls(e,t,n,r,i,s,l,a,l,c,d),Ls(e,t,n,r,i,s,o,c,l,c,d),Ls(e,t,n,r,i,s,o,a,o,c,d),d.length/2):o<=e&&l>=e&&a<=t&&c>=t||o<=i&&l>=i&&a<=s&&c>=s||Ls(e,t,n,r,i,s,o,a,l,a)||Ls(e,t,n,r,i,s,l,a,l,c)||Ls(e,t,n,r,i,s,o,c,l,c)||Ls(e,t,n,r,i,s,o,a,o,c)?1:0}function Ns(e,t,n,r,i,s,o,a,l,c,d,u,h){for(var g,p,m=Math.min(l,d),_=Math.min(c,u),y=Math.max(l,d),f=Math.max(c,u),x=vN((g=c-u)*(-1*e+3*n+-3*i+o)+(p=d-l)*(-1*t+3*r+-3*s+a),g*(3*e+-6*n+3*i)+p*(3*t+-6*r+3*s),g*(-3*e+3*n)+p*(-3*t+3*r),g*e+p*t+(l*u-d*c)),v=0;v<x.length;v++){var w=x[v];if(0<=w&&w<=1){var b=e+(n-e)*w,S=t+(r-t)*w,A=n+(i-n)*w,C=r+(s-r)*w,k=b+(A-b)*w,N=S+(C-S)*w,R=k+(A+(i+(o-i)*w-A)*w-k)*w,B=N+(C+(s+(a-s)*w-C)*w-N)*w;if(l===d){if(_<=B&&B<=f){if(!h)return 1;h.push(R,B)}}else if(c===u){if(m<=R&&R<=y){if(!h)return 1;h.push(R,B)}}else if(R>=m&&B>=_&&R<=y&&B<=f){if(!h)return 1;h.push(R,B)}}}return h?h.length/2:0}function wN(e,t,n,r,i,s,o,a,l,c,d,u,h){return h?(Ns(e,t,n,r,i,s,o,a,l,c,d,c,h),Ns(e,t,n,r,i,s,o,a,d,c,d,u,h),Ns(e,t,n,r,i,s,o,a,l,u,d,u,h),Ns(e,t,n,r,i,s,o,a,l,c,l,u,h),h.length/2):l<=e&&d>=e&&c<=t&&u>=t||l<=o&&d>=o&&c<=a&&u>=a||Ns(e,t,n,r,i,s,o,a,l,c,d,c)||Ns(e,t,n,r,i,s,o,a,d,c,d,u)||Ns(e,t,n,r,i,s,o,a,l,u,d,u)||Ns(e,t,n,r,i,s,o,a,l,c,l,u)?1:0}var JE=typeof Map>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}set(t,n){t in this._values||this._size++,this._values[t]=n}get(t){return this._values[t]}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Map,NB=typeof Set>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}add(t){t in this._values||this._size++,this._values[t]=!0}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Set,EN=class{constructor(){this._intersects=null,this._getBounds=null}setBoundsGetter(e){return this._getBounds=e,this}setIntersector(e){return this._intersects=e,this}},IB=65536,MB=16,PB=16,FB=class extends EN{constructor(e,t,n=PB,r=IB,i=Int32Array,s=MB){super(),this._occupied=0,this._idToCode=new JE,this._codeCache=[0,0,0],this.code=(o,a,l)=>l|Ai(o,a)<<this._bitsForZoom,this.decode=(o,a)=>(Ai.reverse(o>>this._bitsForZoom,a),a[2]=o&this._zoomMask,a),this._intersects=e,this._getBounds=t,this._cells=new SB(i),this._offset=r,this._maxLevels=s,this._mortonMax=(1<<this._maxLevels)-1,this._bitsForZoom=Math.log2(this._maxLevels),this._zoomMask=(1<<this._bitsForZoom)-1,this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._min=-r,this._max=r,this._resolution=this._mortonMax/(this._max-this._min),this._minCellSize=n*this._resolution,this._bounds=new Array(4*this._maxLevels);for(let o=0;o<this._maxLevels;o++)this._bounds[4*o]=1/0,this._bounds[4*o+1]=1/0,this._bounds[4*o+2]=-1/0,this._bounds[4*o+3]=-1/0}setMinCellSize(e){return this._minCellSize=e,this}setOffset(e){return this._offset=e,this._min=-e,this._max=e,this._resolution=this._mortonMax/(this._max-this._min),this}insert(e,t,n,r,i){t===void 0&&([t,n,r,i]=this._getBounds(e));const s=Math.max(r-t,i-n);let o,a=this._minCellSize;for(o=0;a<s&&o<this._maxLevels-1;o++)a*=2;const l=this._resolution,c=this._min,d=l*(.5*(r+t)-c)/a|0,u=l*(.5*(i+n)-c)/a|0,h=this.code(d,u,o);this._cells.has(h)||this._cells.addEntry(h),this._cells.addTo(h,e),this._objectsAtLevel[o]++,this._occupied|=1<<o;const g=4*o,p=this._bounds;return d<p[g]&&(p[g]=d),u<p[g+1]&&(p[g+1]=u),d>p[g+2]&&(p[g+2]=d),u>p[g+3]&&(p[g+3]=u),this._idToCode.set(e,h),h}has(e){return this._idToCode.has(e)}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i)}remove(e){const t=this._idToCode.get(e);this.decode(t,this._codeCache);const n=this._codeCache[2];return--this._objectsAtLevel[n]==0&&(this._occupied&=~(1<<n),this._bounds[4*n]=1/0,this._bounds[4*n+1]=1/0,this._bounds[4*n+2]=-1/0,this._bounds[4*n+3]=-1/0),this._cells.removeFrom(t,e),this._idToCode.delete(e),this}query(e,t,n,r){const i=this._cells,s=this._bounds,o=this._intersects,a=this._min,l=this._resolution;let c=this._minCellSize,d=this._occupied;const u=[];for(let h=0;h<this._maxLevels&&d!==0;c*=2,d>>=1,h++){if(!(1&d))continue;const g=1/c,p=4*h,m=Math.max(s[p],l*(e-a)*g-1>>0),_=Math.max(s[p+1],l*(t-a)*g-1>>0),y=Math.min(s[p+2],l*(n-a)*g+1>>0),f=Math.min(s[p+3],l*(r-a)*g+1>>0);for(let x=m;x<=y;x++)for(let v=_;v<=f;v++){const w=this.code(x,v,h),b=i.getItems(w);if(b!==void 0)for(let S=0;S<b.length;S++){const A=b[S];o(A,e,t,n,r)&&u.push(A)}}}return u}traverse(e,t,n,r,i){const s=this._cells,o=this._bounds,a=this._intersects,l=this._min,c=this._resolution;let d=this._minCellSize,u=this._occupied;const h=[];for(let g=0;g<this._maxLevels&&u!==0;d*=2,u>>=1,g++){if(!(1&u))continue;const p=1/d,m=4*g,_=Math.max(o[m],c*(e-l)*p-1>>0),y=Math.max(o[m+1],c*(t-l)*p-1>>0),f=Math.min(o[m+2],c*(n-l)*p+1>>0),x=Math.min(o[m+3],c*(r-l)*p+1>>0);for(let v=_;v<=f;v++)for(let w=y;w<=x;w++){const b=this.code(v,w,g),S=s.getItems(b);if(S!==void 0)for(let A=0;A<S.length;A++){const C=S[A];if(a(C,e,t,n,r)&&(h.push(C),i(C)))return h}}}return h}collisions(e,t=this._getBounds){if(typeof t!="function")throw new Error("getBounds function is required to get the object bounds");const n=Array.from(this._idToCode.keys()),r=this._min,i=this._resolution,s=this._cells,o=new JE,a=[];for(let l=0;l<n.length;l++){let c=0,d=this._minCellSize,u=this._occupied;const h=n[l];let[g,p,m,_]=t(h);const y=Math.max(m-g,_-p);for(c=0;d<y;c++)d*=2,u>>=1;g=i*(g-r),p=i*(p-r),m=i*(m-r),_=i*(_-r);for(let f=c;f<this._maxLevels&&u!==0;d*=2,u>>=1,f++){if(!(1&u))continue;const x=1/d,v=p*x-1>>0,w=m*x+1>>0,b=_*x+1>>0;for(let S=g*x-1>>0;S<=w;S++)for(let A=v;A<=b;A++){const C=this.code(S,A,f);if(o.get(C)===l)continue;o.set(C,l);const k=s.getItems(C);if(k!==void 0)for(let N=0;N<k.length;N++){const R=k[N],[B,H,F,T]=this._getBounds(R);R!==h&&e(h,B,H,F,T)&&a.push(h,R)}}}}return RB(a)}clear(){this._occupied=0,this._cells.clear(),this._idToCode.clear(),this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._bounds=new Array(4*this._maxLevels);for(let e=0;e<this._maxLevels;e++)this._bounds[4*e]=1/0,this._bounds[4*e+1]=1/0,this._bounds[4*e+2]=-1/0,this._bounds[4*e+3]=-1/0;return this}keyToBBox(e){const[t,n,r]=this.decode(e,[0,0,0]),i=this._minCellSize*(1<<r),s=this._min,o=this._resolution;return[t*i/o+s,n*i/o+s,(t+1)*i/o+s,(n+1)*i/o+s]}keys(){return Object.keys(this._cells._idToIndex)}get averageCellOccupancy(){return this._cells.averageSize}get size(){return this._idToCode.size}getBoxes(){return Array.from(this._idToCode.keys()).map(e=>this._getBounds(e))}};function RB(e){const t=new NB,n=[];for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1],o=i<s?i*s+(s-i-1)*(s-i-1)/4:i*s+(i-s-1)*(i-s-1)/4;t.has(o)||(t.add(o),n.push(i,s))}return n}function DB(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function es(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}var Ki=(e,t,n,r,i,s)=>({minX:e,minY:t,maxX:n,maxY:r,leaf:!0,level:s,parent:i,objects:[],final:!1,children:null});function SN(e){const{minX:t,minY:n,maxX:r,maxY:i}=e;return[t,n,r,i]}function pc(e,t,n,r,i,s,o,a){return e>=i&&n<=o&&t>=s&&r<=a}var zB=0,OB=1,BB=2,jB=3;function Mu(e,t,n,r,i,s,o,a){const l=(s+a)/2,c=(t+r)/2;return(e+n)/2<=(i+o)/2?c<=l?zB:OB:c<=l?jB:BB}var UB=e=>e,Ia=class extends EN{constructor(e=UB,t=10,n,r=0){super(),this._nodeCapacity=10,this._root=null,this._objects={},this._size=0,this._rootLevel=0,this._maxLevel=30,this._idToCell={},this._nodeCapacity=t,this._root=null,this._getBounds=e,this._rootLevel=r,this._maxLevel=r+30,this._idToCell={},n&&(this._root=Ki(n[0],n[1],n[2],n[3],null,r))}get size(){return this._size}get root(){return this._root}clear(){return this._root=null,this._objects={},this._size=0,this._idToCell={},this._rootLevel=0,this._maxLevel=this._rootLevel+30,this}insert(e,t,n,r,i,s=this._root){if(t||([t,n,r,i]=this._getBounds(e)),this._objects[e])return;if(this._objects[e]=!0,this._size++,!this._root){const g=Math.max(Math.abs(r-t),Math.abs(i-n));return this._root=Ki(t,n,t+g,n+g,null,this._rootLevel),this._idToCell[e]=[this._root],this._root.objects=[e],e}let o,a=[s],l=!1;const c=this._nodeCapacity,d=this._idToCell,u=this._maxLevel;let h;for(;h=a.pop();){o=h;const{minX:g,minY:p,maxX:m,maxY:_}=o;es(t,n,r,i,g,p,m,_)&&(o.leaf?o.objects&&(o.objects.length<c||o.final)?(o.objects.push(e),d[e]?d[e].push(o):d[e]=[o],l=!0,(o.level>=u||Math.abs(m-g)<=Math.abs(r-t)||Math.abs(_-p)<=Math.abs(i-n))&&(o.final=!0)):(this.splitNode(o),a.push(o)):a.push.apply(a,o.children))}if(!pc(t,n,r,i,(s=this._root).minX,s.minY,s.maxX,s.maxY)){let g=this._rootLevel;for(;!pc(t,n,r,i,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){s=this._root;const{minX:p,minY:m,maxX:_,maxY:y}=s;let f=p,x=m,v=_,w=y;const b=Math.abs(_-p),S=Math.abs(y-m);if(S===0&&b===0)break;const A=Math.max(b,S);t<p?(f-=A,n<m?x-=A:w+=A):(v+=A,n<m?x-=A:w+=A);const C=Ki(f,x,v,w,null,--g);this.splitNode(C),C.children[Mu(p,m,_,y,f,x,v,w)]=s,this._root=s.parent=C}for(a=[this._root],this._root.level=this._rootLevel;h=a.shift();)if(o=h,!o.leaf)for(let p=0;p<4;p++){const m=o.children[p];m.level=o.level+1,a.push(m)}s=this._root;for(let p=0;p<4;p++){const m=s.children[p];m&&m.leaf&&m.objects&&(m.objects.push(e),d[e]?d[e].push(m):d[e]=[m])}}return l?e:void 0}removeById(e){if(!this._objects[e])return e;this._size--;const t=this._idToCell[e];for(let n=0;n<t.length;n++){const r=t[n].objects||[];for(let i=0,s=r.length;i<s;i++)if(r[i]===e){r.splice(i,1);break}}return delete this._objects[e],delete this._idToCell[e],e}remove(e){const[t,n,r,i]=this._getBounds(e),s=[this._root];let o,a;const l=[];for(;o=s.pop();)if(es(t,n,r,i,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const c=o.objects||[];for(let d=0,u=c.length;d<u;d++)if(c[d]===e){c.splice(d,1),u===1&&l.push(o);break}}else s.push.apply(s,o.children);if(delete this._idToCell[e],delete this._objects[e],this._size--,l.length)for(;a=l.pop();){let c=a.parent,d=!0;for(;c&&d;){if(!c.leaf){for(let u=0;u<4;u++)if(o=c.children[u],!o.leaf||o.objects&&o.objects.length!==0){d=!1;break}d&&(c.leaf=!0,c.children=[],c.objects=[])}c=c.parent}}return e}splitNode(e){const{minX:t,minY:n,maxX:r,maxY:i}=e,s=(t+r)/2,o=(n+i)/2,a=e.level+1,l=this._idToCell,c=this._maxLevel,d=[Ki(t,n,s,o,e,a),Ki(t,o,s,i,e,a),Ki(s,o,r,i,e,a),Ki(s,n,r,o,e,a)];if(e.objects!==null){const u=e.objects,h=this._getBounds;for(let g=0,p=u.length;g<p;g++){const m=u[g],_=h(m);let y=l[m];for(let f=0;f<4;f++){const x=d[f],{minX:v,minY:w,maxX:b,maxY:S}=x;es(_[0],_[1],_[2],_[3],v,w,b,S)&&(x.objects&&x.objects.push(m),(x.level>=c||Math.abs(b-v)<=Math.abs(_[2]-_[0])||Math.abs(S-w)<=Math.abs(_[3]-_[1]))&&(x.final=!0),y?y.push(x):y=[x])}y&&y.splice(y.indexOf(e),1)}}e.children=d,e.objects=null,e.leaf=!1}point(e,t,n){let r=[];const i=[this._root];let s,o,a;const l=this._getBounds;for(;s=i.pop();)if(e>=s.minX&&e<=s.maxX&&t>=s.minY&&t<=s.maxY){if(s.leaf){n&&s.objects&&(r=s.objects);const c=s.objects||[];for(let d=0,u=c.length;d<u;d++)a=c[d],o=l(a),e>=o[0]&&e<=o[2]&&t>=o[1]&&t<=o[3]&&r.push(a);break}i.push.apply(i,s.children)}return r.length?r:null}neigbours(e,t){let n,r=[];const i=[this._root];for(;n=i.pop();)if(e>=n.minX&&e<=n.maxX&&t>=n.minY&&t<=n.maxY){if(n.leaf){r=n.objects;break}i.push.apply(i,n.children)}return r}query(e,t,n,r){const i=[],s=[this._root];let o,a,l;const c=this._getBounds,d={},u=this._intersects;let h;for(;o=s.pop();)if(es(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const g=o.objects||[];for(let p=0,m=g.length;p<m;p++)l=g[p],d[l]||(a=c(l),es(e,t,n,r,a[0],a[1],a[2],a[3])&&(u&&!u(l,e,t,n,r)||i.push(l)),d[l]=!0)}else h=Mu(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY),s.push(o.children[(h+3)%4],o.children[(h+2)%4],o.children[(h+1)%4],o.children[h]);return i}traverse(e,t,n,r,i){const s=[],o=[this._root];let a,l,c;const d=this._getBounds,u={},h=this._intersects;let g;for(;a=o.pop();)if(es(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY))if(a.leaf){const p=a.objects||[];for(let m=0,_=p.length;m<_;m++)if(c=p[m],!u[c]){if(l=d(c),es(e,t,n,r,l[0],l[1],l[2],l[3])&&(!h||h(c,e,t,n,r))&&(s.push(c),i(c)))return s;u[c]=!0}}else g=Mu(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY),o.push(a.children[(g+3)%4],a.children[(g+2)%4],a.children[(g+1)%4],a.children[g]);return s}getOverlaps(){const e=[this._root];let t,n,r;const i=[],s=this._getBounds,o={};for(;t=e.pop();)if(t.leaf){const a=t.objects||[],l=a.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)if(n=a[c],r=a[d],c!==d&&!o[n+":"+r]&&!o[r+":"+n]){o[n+":"+r]=!0;const u=s(n),h=s(r);es(u[0],u[1],u[2],u[3],h[0],h[1],h[2],h[3])&&i.push(n,r)}}else e.push.apply(e,t.children);return i}cover(e,t,n,r){if(this._root===null)return this._root=Ki(e,t,n,r,null,0),this;let i=this._root;if(!pc(e,t,n,r,i.minX,i.minY,i.maxX,i.maxY)){let s=this._rootLevel;for(;!pc(e,t,n,r,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){i=this._root;const{minX:c,minY:d,maxX:u,maxY:h}=i;let g=c,p=d,m=u,_=h;const y=Math.abs(u-c),f=Math.abs(h-d);if(f===0&&y===0)break;const x=Math.max(y,f);e<c?(g-=x,t<d?p-=x:_+=x):(m+=x,t<d?p-=x:_+=x);const v=Ki(g,p,m,_,null,--s);this.splitNode(v),v.children[Mu(c,d,u,h,g,p,m,_)]=i,this._root=i.parent=v}const o=[this._root];let a,l;for(this._root.level=this._rootLevel;a=o.shift();)if(l=a,!l.leaf)for(let c=0;c<4;c++){const d=l.children[c];d.level=l.level+1,o.push(d)}}return this}getAll(){return Object.keys(this._objects).map(e=>Number(e))}forEach(e,t){const n=[this._root];let r;for(;r=n.pop();)if(r.leaf&&r.objects)for(let i=0,s=r.objects.length;i<s;i++)e.call(t,r.objects[i]);else n.push.apply(n,r.children);return this}getLeafs(){const e=[this._root],t=[];let n;for(;n=e.pop();)n.leaf?t.push(n):e.push.apply(e,n.children);return t}traverseFromRoot(e,t){const n=[this._root];let r;for(;r=n.pop();)e.call(t,r,r.objects)||r.leaf||n.push.apply(n,r.children);return this}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i),this}getNodeBounds(e){return SN(e)}};Ia.flatAccessor=(e,t)=>n=>{const r=t*n;return e.slice(r,r+t)},Ia.inside=pc,Ia.intersects=DB,Ia.overlaps=es,Ia.getNodeBBox=SN;var AN=Ia;function $B(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return kN(this.cover(t,n),t,n,e)}function kN(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s,o,a,l,c,d,u,h,g=e._root,p={data:r},m=e._x0,_=e._y0,y=e._x1,f=e._y1;if(!g)return e._root=p,e;for(;g.length;)if((c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o,i=g,!(g=g[u=d<<1|c]))return i[u]=p,e;if(a=+e._x.call(null,g.data),l=+e._y.call(null,g.data),t===a&&n===l)return p.next=g,i?i[u]=p:e._root=p,e;do i=i?i[u]=new Array(4):e._root=new Array(4),(c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o;while((u=d<<1|c)==(h=(l>=o)<<1|a>=s));return i[h]=g,i[u]=p,e}function VB(e){var t,n,r,i,s=e.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,d=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,a[n]=i,r<l&&(l=r),r>d&&(d=r),i<c&&(c=i),i>u&&(u=i));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),n=0;n<s;++n)kN(this,o[n],a[n],e[n]);return this}function GB(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=s;)switch(a=(t<r)<<1|e<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function HB(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function WB(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function mr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function qB(e,t,n){var r,i,s,o,a,l,c,d=this._x0,u=this._y0,h=this._x1,g=this._y1,p=[],m=this._root;for(m&&p.push(new mr(m,d,u,h,g)),n==null?n=1/0:(d=e-n,u=t-n,h=e+n,g=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(s=l.y0)>g||(o=l.x1)<d||(a=l.y1)<u))if(m.length){var _=(i+o)/2,y=(s+a)/2;p.push(new mr(m[3],_,y,o,a),new mr(m[2],i,y,_,a),new mr(m[1],_,s,o,y),new mr(m[0],i,s,_,y)),(c=(t>=y)<<1|e>=_)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var f=e-+this._x.call(null,m.data),x=t-+this._y.call(null,m.data),v=f*f+x*x;if(v<n){var w=Math.sqrt(n=v);d=e-w,u=t-w,h=e+w,g=t+w,r=m.data}}return r}function XB(e){if(isNaN(s=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,s,o,a,l,c,d,u,h,g=this._root,p=this._x0,m=this._y0,_=this._x1,y=this._y1;if(!g)return this;if(g.length)for(;;){if((c=s>=(a=(p+_)/2))?p=a:_=a,(d=o>=(l=(m+y)/2))?m=l:y=l,t=g,!(g=g[u=d<<1|c]))return this;if(!g.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,h=u)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(g=t[0]||t[1]||t[2]||t[3])&&g===(t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[h]=g:this._root=g),this):(this._root=i,this)}function YB(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function ZB(){return this._root}function QB(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function KB(e){var t,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new mr(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,s=t.x1,o=t.y1)&&l.length){var c=(r+s)/2,d=(i+o)/2;(n=l[3])&&a.push(new mr(n,c,d,s,o)),(n=l[2])&&a.push(new mr(n,r,d,c,o)),(n=l[1])&&a.push(new mr(n,c,i,s,d)),(n=l[0])&&a.push(new mr(n,r,i,c,d))}return this}function JB(e){var t,n=[],r=[];for(this._root&&n.push(new mr(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var s,o=t.x0,a=t.y0,l=t.x1,c=t.y1,d=(o+l)/2,u=(a+c)/2;(s=i[0])&&n.push(new mr(s,o,a,d,u)),(s=i[1])&&n.push(new mr(s,d,a,l,u)),(s=i[2])&&n.push(new mr(s,o,u,d,c)),(s=i[3])&&n.push(new mr(s,d,u,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function e4(e){return e[0]}function t4(e){return arguments.length?(this._x=e,this):this._x}function n4(e){return e[1]}function r4(e){return arguments.length?(this._y=e,this):this._y}function CN(e,t,n){var r=new cv(t??e4,n??n4,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function cv(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function eS(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var dr=CN.prototype=cv.prototype;dr.copy=function(){var e,t,n=new cv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=eS(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=eS(t));return n},dr.add=$B,dr.addAll=VB,dr.cover=GB,dr.data=HB,dr.extent=WB,dr.find=qB,dr.remove=XB,dr.removeAll=YB,dr.root=ZB,dr.size=QB,dr.visit=KB,dr.visitAfter=JB,dr.x=t4,dr.y=r4;var Ql=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},i4=function(e){const t=[];let n,r,i,s,o,a,l,c=this._root;for(c&&t.push(new Ql(c,this._x0,this._y0,this._x1,this._y1));(n=t.pop())&&(l=e(c=n.node,i=n.x0,s=n.y0,o=n.x1,a=n.y1),l!=="break");)if(!l&&c.length){const d=(i+o)/2,u=(s+a)/2;(r=c[3])&&t.push(new Ql(r,d,u,o,a)),(r=c[2])&&t.push(new Ql(r,i,u,d,a)),(r=c[1])&&t.push(new Ql(r,d,s,o,u)),(r=c[0])&&t.push(new Ql(r,i,s,d,u))}return this};function dv(e,t,n,r,i){const s=new Array(e.length);for(let o=0;o<t.length;o++){const a=r[t[o]],l=r[n[o]];s[a]=s[a]||[],s[a].push(l),i&&(s[l]=s[l]||[],s[l].push(a))}return s}function Sd(e,t){return e[t]===-1?t:Sd(e,e[t])}function s4(e,t,n){const r=Sd(e,t),i=Sd(e,n);e[r]=i}function o4(e,t,n,r=!1){const i=new Int32Array(e.length),s={};for(let o=0;o<e.length;o++)i[o]=-1,s[e[o]]=o;for(let o=0;o<t.length;o++){const a=s[t[o]],l=s[n[o]];if(r&&a===l)return!0;const c=Sd(i,a),d=Sd(i,l);if(c===d)return!0;s4(i,c,d)}return!1}function TN(e,t,n,r,i,s,o,a){if(r[e]=i,n[e])return!0;if(t[e])return!1;t[e]=1,n[e]=1;const l=s[e];if(l){for(const c of l)if(TN(c,t,n,r,e,s,o,a))return o.push(a[c]),!0}return n[e]=0,!1}function LN(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Uint8Array(r),o=new Int32Array(r),a={};for(let c=0;c<r;c++)a[e[c]]=c;const l=dv(e,t,n,a,!1);for(let c=0;c<r;c++){const d=[];if(TN(c,i,s,o,-1,l,d,e)&&d.length>1){const u=d[0];for(let h=1;h<d.length;h++)if(d[h]===u){d.length=h;break}return d.push(u),d.reverse()}}return!1}function NN(e,t,n,r,i,s,o){t[e]=1,r[e]=n;const a=i[e];if(a){for(const l of a)if(t[l]){if(l!==n)return r[l]=e,s.push(o[l]),!0}else if(NN(l,t,e,r,i,s,o))return s.push(o[l]),!0}return!1}function a4(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Int32Array(r),o={};for(let l=0;l<r;l++)o[e[l]]=l,s[l]=-1;const a=dv(e,t,n,o,!0);for(let l=0;l<t.length;l++){const c=o[t[l]],d=o[n[l]];a[c]=a[c]||[],a[c].push(d)}for(let l=0;l<r;l++){const c=l,d=[];if(!i[c]&&NN(c,i,-1,s,a,d,e))return!0}return!1}CN.prototype.visit2=i4;var IN=class{constructor(e,t,n){this.cycles=[],this.visitedLength=0,this.visitedStack=[],this.stack=[],this.idToIndex={},this.removed={},this.nodes=e,this.visited=new Uint8Array(this.nodes.length);for(let r=0;r<e.length;r++)this.idToIndex[e[r]]=r;this.adjacency=dv(e,t,n,this.idToIndex)}getCycles(){this.visited=new Uint8Array(this.nodes.length),this.visitedStack=[];for(let e=0;e<this.nodes.length;e++)for(this.backtrack(e,e);this.visitedLength!==0;){const t=this.visitedStack.pop();t!==void 0&&this.visited[t]&&(this.visited[t]=0,this.visitedLength--)}return this.cycles}backtrack(e,t){let n=!1;this.stack.push(t),this.visited[t]||(this.visited[t]=1,this.visitedLength++),this.visitedStack.push(t);const r=this.adjacency[t]||[];for(const i of r)if(this.removed[t]=this.removed[t]||{},!this.removed[t][i]){if(i<e)this.removed[t][i]=!0;else if(i===e){n=!0;const s=[];for(let o=0,a=!1;o<this.stack.length;o++){const l=this.stack[o];e===l&&(a=!0),a&&s.push(this.nodes[l])}this.cycles.push(s)}else if(!this.visited[i]){const s=this.backtrack(e,i);n=n||s}}if(n){let i;do i=this.visitedStack.pop(),this.visited[i]&&(this.visited[i]=0,this.visitedLength--);while(i!==t)}return this.stack.pop(),n}};function l4(){return{index:{},parent:[],count:0}}function c4(e,t){e.index[t]===void 0&&(e.count+=1,e.index[t]=e.parent.push(-e.count))}function tS(e,t){let n=e.index[t];if(n===void 0)return-1;for(;n>=0;)t=n,n=e.parent[n];return t}function d4(e,t,n){e.parent[n]=t,e.count-=1}function u4(e){return e.count<=1}function MN(e,t,n,r,i){i&&t.sort((a,l)=>i(a)-i(l));const s=[],o=l4();e.forEach(a=>c4(o,a));for(let a=0;a<t.length&&!u4(o);a++){const l=tS(o,n(t[a])),c=tS(o,r(t[a]));l!==c&&l>0&&c>0&&(d4(o,l,c),s.push(t[a]))}return s}function PN({adjacency:e,directed:t=!1,normalized:n=!0}){const r=[],i=[],s={},o={},a={},l={};let c;const d=new Array(e.length),u={},h={},g={};for(let f=0;f<e.length;f++){const x=e[f];g[x.id]=x.adj,u[x.id]=!0,h[x.id]=f,t||x.adj.forEach(v=>{u[v]=!0})}const p=Object.keys(u).map(f=>+f);for(let f=0;f<p.length;f++)d[f]=0;for(let f=0;f<p.length;f++)c=p[f],y(c),_();const m=n?p.length>2?1/((p.length-1)*(p.length-2)):0:t?0:.5;if(m)for(let f=0;f<d.length;f++)d[f]*=m;return d;function _(){for(let f=0;f<p.length;f++)l[p[f]]=0;for(;i.length;){const f=i.pop(),x=(1+l[f])/a[f],v=s[f];for(let w=0;w<v.length;++w){const b=v[w];l[b]+=a[b]*x}f!==c&&(d[h[f]]+=l[f])}}function y(f){for(let x=0;x<p.length;x++){const v=p[x];s[v]=[],o[v]=-1,a[v]=0}for(o[f]=0,a[f]=1,r.push(f);r.length;){const x=r.shift();i.push(x),g[x].forEach(v=>{o[v]===-1&&(o[v]=o[x]+1,r.push(v)),o[v]===o[x]+1&&(a[v]+=a[x],s[v].push(x))})}}}var FN=sa&&!!window.PointerEvent,tm="pointerdown",nm="pointermove",rm="pointerup",tu="pointercancel",bl={},jg=0,RN=e=>e.pointerType==="mouse",DN=e=>e.pointerType!=="mouse";function h4(){if(_s&&jg===0&&FN){const e=document.documentElement;e.addEventListener(tm,zN,!0),e.addEventListener(nm,ON,!0),e.addEventListener(rm,Ug,!0),e.addEventListener(tu,Ug,!0)}jg++}function g4(){if(jg--,_s&&jg===0){const e=document.documentElement;e.removeEventListener(tm,zN,!0),e.removeEventListener(nm,ON,!0),e.removeEventListener(rm,Ug,!0),e.removeEventListener(tu,Ug,!0)}}function zN(e){bl[e.pointerId]=e}function ON(e){bl[e.pointerId]&&(bl[e.pointerId]=e)}function Ug(e){delete bl[e.pointerId]}function im(e,t){e.touches=[];for(const n in bl)e.touches.push(bl[n]);e.changedTouches=[e],t(e)}function p4(e,t,n){const r=i=>{RN(i)||(DN(i)&&i.preventDefault(),im(i,n))};return e(t,tm,r,!1),r}function m4(e,t,n){const r=i=>{DN(i)&&i.preventDefault(),im(i,n)};return e(t,tu,r,!1),r}function f4(e,t,n){const r=i=>{RN(i)&&i.buttons===0||im(i,n)};return e(t,nm,r,!1),r}function _4(e,t,n){const r=i=>im(i,n);return e(t,rm,r,!1),e(t,tu,r,!1),r}function nS(e,t,n,r){return n==="touchstart"?e(t,tm,r,!1):n==="touchmove"?e(t,nm,r,!1):n==="touchend"?(e(t,rm,r,!1),e(t,tu,r,!1)):void 0}var it=class{constructor(e){this._ogma=e}_setModules(e){this._modules=e}onMounted(){}onReady(e){}destroy(e){}},y4=["graphics","legend","brand"],rS=300,iS=300,x4=200,v4=class extends it{constructor(e,{width:t=rS,height:n=iS}={}){super(e),this._layers={},this._focus=!1,this._container=null,this._isFullScreen=!1,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],this._refreshUntil=0,this._currentTime=rr(),this._timeouts=[],this._isDestroyed=!1,this._onDetachDom=[],this._isRealBrowser=Gp,this._isDocumentReady=Hp,this._inFrame=!1,this._mustRefresh=!1,this._nextFrame=null,this._onWindowResize=()=>this._resize(),this._onWindowFocus=()=>this.refresh(),this._onFullscreenChange=()=>{this._isFullScreen=Oc()},this._width=t,this._height=n}onMounted(){this._modules.settings.register("minimumWidth",rS,()=>this._resize(),!1),this._modules.settings.register("minimumHeight",iS,()=>this._resize(),!1),this._modules.events.register(["beforeNewFrame","newFrame","afterNewFrame","setContainer","resize"]),this._onDetachDom=[],h4(),this.addWindowEventListener("resize",this._onWindowResize).addWindowEventListener("focus",this._onWindowFocus)}onReady(e){e.container&&this.setContainer(e.container)}addWindowEventListener(e,t,n){return this._isRealBrowser&&this.addElementEventListener(window,e,t,n),this}addDirectWindowEventListener(e,t,n){this._isRealBrowser&&window.addEventListener(e,t,n)}removeDirectWindowEventListener(e,t){this._isRealBrowser&&window.removeEventListener(e,t)}addDocumentEventListener(e,t,n){return this._isDocumentReady&&this.addElementEventListener(document.documentElement,e,t,n),t}removeDocumentEventListener(e,t){this._isDocumentReady&&document.documentElement.removeEventListener(e,t)}addMediaListener(e,t){if(this._isDocumentReady&&typeof window.matchMedia=="function"){const n=window.matchMedia(e);n.addListener(t),this._onDetachDom.push(()=>n.removeListener(t))}}addElementEventListener(e,t,n,r){return this._isDestroyed||(e.addEventListener(t,n,r),this._onDetachDom.push(()=>e.removeEventListener(t,n,r))),n}detachFromDom(){this._onDetachDom.forEach(e=>e()),this._onDetachDom=[],this._emptyContainer()}setTimeout(e,t=0){const n=setTimeout(()=>{this._timeouts.splice(this._timeouts.indexOf(n),1),e()},t);return this._timeouts.push(n),n}clearTimeout(e){return e&&(clearTimeout(e),this._timeouts.splice(this._timeouts.indexOf(e),1)),null}clearAllTimeouts(){this._timeouts.forEach(clearTimeout),this._timeouts=[]}stopFrames(){this._isDestroyed=!0,this._nextFrame&&(EL(this._nextFrame),this._nextFrame=null)}isDestroyed(){return this._isDestroyed}getDimensions(){return{width:this._width,height:this._height}}setDimensions(e){this._resize(e)}setLayer(e,t,{automaticResize:n=!1}={}){t&&(t._ogmaLayer=e,n&&(t.style.position="absolute",t.style.top="0px",t.style.left="0px",Rg(t,this._width,this._height,Fr()))),this._layers[e]={element:t,automaticResize:n},this._updateContainerContent()}setContainer(e){let t;if(typeof e=="string"){if(t=document.getElementById(e),!t)throw new Error(`unable to find DOM element with id "${e}"`)}else t=e;if(t===this._container)return;t===null&&this._emptyContainer();const n=this._container;this._isFullScreen=!1,this._container=t,this._container&&["fullscreenchange","webkitfullscreenchange"].forEach(r=>{this.addElementEventListener(this._container,r,this._onFullscreenChange)}),this._resize(),this._updateContainerContent(),this._modules.events.fire("setContainer",{element:t,prevElement:n})}getContainer(){return this._container}appendElement(e){this._container!==null&&this._container.appendChild(e)}focus(){this._focus=!0}blur(){this._focus=!1}hasFocus(){return this._focus}forceResize(){this._resize()}_beforeOrAfterNextFrame(e){const t=e?this._afterNextFramePromises:this._beforeNextFramePromises,n=new Promise(r=>{t.push(()=>(r(void 0),n))});return this._refresh(),n}beforeNextFrame(){return this._beforeOrAfterNextFrame(!1)}afterNextFrame(){return this._beforeOrAfterNextFrame(!0)}refresh(e){e&&(this._refreshUntil=Math.max(this._refreshUntil,e)),this._refresh()}_emptyContainer(){if(this._container){const e=[];for(let t=0;t<this._container.childNodes.length;++t){const n=this._container.childNodes[t];n._ogmaLayer&&e.push(n)}for(let t=0;t<e.length;++t)this._container.removeChild(e[t])}}_fillContainer(){if(this._container){const e=DL(this._container,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(this._container.style.position="relative");const t=this._container.firstChild;y4.forEach(n=>{const r=this._layers[n];r&&r.element&&this._container&&this._container.insertBefore(r.element,t)})}}_updateContainerContent(){this._emptyContainer(),this._fillContainer()}_resize(e){if(!this._container&&!e)return;const t=this._width,n=this._height;let r,i;if(this._container){const s=this._modules.settings.get("minimumWidth"),o=this._modules.settings.get("minimumHeight"),a=this._container.clientWidth||1,l=this._container.clientHeight||1;r=Math.max(s,e?e.width:a),i=Math.max(o,e?e.height:l)}else e!=null&&(r=e.width,i=e.height);r===t&&i===n||(this._width=r,this._height=i,qi(this._layers,({element:s,automaticResize:o})=>{o&&Rg(s,r,i)}),this._modules.events.fire("resize",{prevWidth:t,prevHeight:n,width:r,height:i,difWidth:r-t,difHeight:i-n}))}_refresh(){this._inFrame?this._mustRefresh=!0:this._nextFrame||this._isDestroyed||(this._nextFrame=Xx(()=>this._playFrame()))}_playFrame(){const e=rr(),t=e-this._currentTime,n=SL([this._beforeNextFramePromises,()=>this._modules.events.fire("beforeNewFrame",{elapsed:t}),()=>this._modules.events.fire("newFrame",{elapsed:t}),()=>this._modules.events.fire("afterNewFrame",{elapsed:t}),this._afterNextFramePromises,()=>{this._inFrame=!1,(this._mustRefresh||e<this._refreshUntil+17)&&(this._mustRefresh=!1,this._refresh())}]);this._inFrame=!0,this._nextFrame=null,this._mustRefresh=!1,this._currentTime=e,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],n.reduce((r,i)=>r.then(()=>{if(!this._isDestroyed)return i()}),Promise.resolve())}isPlayingFrame(){return this._inFrame||!!this._nextFrame}setFullScreen(e){let t=Promise.resolve();return e!==this._isFullScreen?(this._container&&(t=e?b4(this._container):w4()),t.then(()=>new Promise(n=>{this.setTimeout(()=>{this._isFullScreen=Oc(),n(void 0)},x4)}))):t}isFullScreen(){return Oc()}debounceBeforeFrame(e){let t=!1,n=[];const r=()=>{const i=n;t=!1,n=[],e(),i.forEach(s=>s())};return()=>new Promise(i=>{n.push(i),t||(t=!0,this.beforeNextFrame().then(r))})}destroy(){g4(),this.detachFromDom(),this.clearAllTimeouts(),this.stopFrames()}};function Oc(){return typeof document<"u"&&!!(document.fullscreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)}function b4(e){return Oc()?Promise.resolve():e.requestFullscreen?e.requestFullscreen():e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?Promise.resolve(e.webkitRequestFullScreen()):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():Promise.resolve()}function w4(){return Oc()?typeof document>"u"?Promise.resolve():document.exitFullscreen?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.webkitCancelFullScreen?Promise.resolve(document.webkitCancelFullScreen()):document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve():Promise.resolve()}var E4=class extends it{constructor(){super(...arguments),this._nodeChanges=[],this._edgeChanges=[],this._shouldTriggerEvents=!1}onMounted(){this._nodeDataList=this._modules.graph.createAttribute(!0,{name:"data",storage:"any"},!1),this._edgeDataList=this._modules.graph.createAttribute(!1,{name:"data",storage:"any"},!1),this._nodeList=this._modules.graph.getNodeAttribute("object"),this._edgeList=this._modules.graph.getEdgeAttribute("object"),this._modules.events.register(["setData","updateNodeData","updateEdgeData"]),this._modules.events.on("addNodes",({nodes:e,objects:t})=>this._onAddElements(e,t)).on("addEdges",({edges:e,objects:t})=>this._onAddElements(e,t)).on("beforeNewFrame",()=>{this._shouldTriggerEvents&&(this._shouldTriggerEvents=!1,this._triggerEvents())})}_onAddElements(e,t){const{isNode:n,size:r,_indexes:i}=e,s=this[n?"_nodeDataList":"_edgeDataList"];for(let o=0;o<r;++o)s.set(i[o],t[o].data)}setProperty(e,t,n,{dispatch:r=!1}={}){this._setDataProperty(e.isNode,e._indexes,t,n,r),this._modules.events.fire("setData",{elements:e})}getProperty(e,t){return this._getDataProperty(e.isNode,e._indexes,t)}_setDataProperty(e,t,n,r,i){i&&typeof r=="function"&&(i=!1);const s=sS(n),o=typeof r=="function",a=e?this._nodeList:this._edgeList,l=e?this._nodeDataList:this._edgeDataList,c=S4(e?this._nodeChanges:this._edgeChanges,s);for(let d=0;d<t.length;++d){const u=t[d];let h=l.get(u);const g=a.get(u),p=i?r[d]:r;let m,_;if(s===null)m=h,_=o?p(g):p,l.set(u,_);else{h==null&&(h={},l.set(u,h));const y=s.length;for(let f=0;f<y;f++){const x=s[f];let v=h[x];f<y-1?(v==null&&(v={},h[x]=v),h=v):(m=v,_=o?p(g):p,h[x]=_)}}c.indexes.push(u),c.previousValues.push(m),c.newValues.push(_)}this._scheduleEvents()}_getDataProperty(e,t,n,r){const i=sS(n);r||(r=new Array(t.length));const s=e?this._nodeDataList:this._edgeDataList;for(let o=0;o<t.length;++o){const a=t[o];let l,c=s.get(a);if(i!==null&&i.length)if(c==null)l=void 0;else{const d=i.length;for(let u=0;u<d&&c;++u)l=c=c[i[u]]}else l=c;r[o]=l}return r}_scheduleEvents(){this._shouldTriggerEvents=!0,this._modules.dom.refresh()}_triggerEvents(){const e=this._prepareEvtPayload(!0),t=this._prepareEvtPayload(!1);this._modules.events.fire("updateNodeData",e),this._modules.events.fire("updateEdgeData",t)}_prepareEvtPayload(e){const t=e?this._modules.graph.nodeList:this._modules.graph.edgeList,n=e?"_nodeChanges":"_edgeChanges";let r=[];const i=this[n];this[n]=[];const s=[];for(let o=0;o<i.length;++o){const{indexes:a,property:l,newValues:c,previousValues:d}=i[o];r=r.concat(a||[]),e?s.push({property:l,newValues:c,previousValues:d,nodes:t(a)}):s.push({property:l,newValues:c,previousValues:d,edges:t(a)})}return e?{nodes:t(r).dedupe(),isNode:e,changes:s}:{edges:t(r).dedupe(),isNode:e,changes:s}}};function S4(e,t){for(let r=0;r<e.length;++r){const i=e[r],s=i.property;if(t===null&&s===null)return i;if(t&&s&&s.length===t.length){let o=!0;for(let a=0;a<s.length;++a)if(s[a]!==t[a]){o=!1;break}if(o)return i}}const n={property:t&&t.slice(),indexes:[],previousValues:[],newValues:[],nodes:null,edges:null};return e.push(n),n}function sS(e){return typeof e=="string"?e.split("."):Rn(e)?e:null}var A4=[];function BN(e){typeof e=="object"&&e!==null||(e={});const t=typeof e.data=="function"?e.data:Ii;return{attributes:Array.isArray(e.attributes)?e.attributes:e.attributes||A4,data:t}}function sm(e,t){for(const n of e){const r=t;Object.keys(r).forEach(i=>{const s=r[i];n.prototype[i]=function(o,a){return ao(`Deprecated method "${i}"; please use "${s}" instead.`),this[s](o,a)}})}}function oS(e){const t=e.getFlexArray("removed"),n=e.getFlexArray("excluded"),r=e.getFlexArray("virtual");return{all:i=>t.get(i)===0,visible:i=>n.get(i)===0,excluded:i=>n.get(i)===1,raw:i=>r.get(i)===0&&t.get(i)===0,_all:i=>!0}}function aS(e,t,n){return{all:Pu(n.all,e,t),visible:Pu(n.visible,e,t),raw:Pu(n.raw,e,t),_all:Pu(n._all,e,t)}}function Pu(e,t,n){let r=null;return{getList(){if(!r){const i=t(),s=n();s.reset();for(let o=1;o<=i;++o)e(o)&&s.push(o);r=s.sliceAndReset()}return r},invalidList(){r=null}}}function jN(e){if(e===void 0)return Math.round(Math.random()*Number.MAX_SAFE_INTEGER);if(typeof e!="string"&&(typeof e!="number"||!isFinite(e)))throw new Error(`${e} is not a valid id, expected string or number`);return e}function $g(e,t,n={},r={}){return Ad(e,t,[n],r).get(0)}function k4(e,{nodes:t=[],edges:n=[]},r={}){if(e.fireEvent("preAddGraph",{name:"preAddGraph"}),!r.batchSize)return Promise.all([Ad(e,!0,t,r),Ad(e,!1,n,r)]).then(([s,o])=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{nodes:s,edges:o}),{nodes:s,edges:o}));let i;return wl(e,!0,t,r).then(s=>(i=s,wl(e,!1,n,r))).then(s=>({nodes:i,edges:s})).then(s=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{name:"addGraph"}),s))}function wl(e,t,n,r={}){if(r.batchSize){const i=[];for(let a=0;a<n.length;a+=r.batchSize)i.push(n.slice(a,a+r.batchSize));const s=(a,l)=>{let c;return a.then(d=>(c=d,e.getDom().afterNextFrame())).then(()=>Ad(e,t,l,r)).then(d=>c.concat(d))},o=t?e.nodeList():e.edgeList();return i.reduce(s,Promise.resolve(o))}return Promise.resolve(Ad(e,t,n,r))}function Ad(e,t,n,r){e.fireEvent("preAddElements",{name:"preAddElements",objects:n,isNode:t});const i=!!r.ignoreInvalid,s=e.storage.fetch(t),o=[],a=[],l=[],c=[],d=new Set,{virtual:u=!1}=r;for(const w of n){if(typeof w!="object"||w===null||Array.isArray(w)){if(i)continue;throw new Error(`${w} is not a valid ${t?"node":"edge"}`)}const b=jN(w.id);if(!s.getIndex(b,!1)&&!d.has(b)){if(!t){const S=w,A=e.getExtremityIndex(b,S.source,0,i),C=e.getExtremityIndex(b,S.target,1,i);if(i&&(!A||!C))continue;l.push(A),c.push(C)}a.push(b),o.push(w),d.add(b)}}const h=s.addElements(a);t?e.topology.allocateNodes(h):e.topology.allocateEdges(h,l,c);const g=s.getFlexArray("object"),p=s.getFlexArray("excluded"),m=s.getFlexArray("removed"),_=s.getFlexArray("virtual"),y=t?e.node:e.edge,f=t?e.nodeList:e.edgeList,x=e.getCacheLists(t),v=f(h);for(let w=0;w<h.length;w++){const b=h[w];g.set(b,y(b))}return p.setMultiple(h,0),m.setMultiple(h,0),_.setMultiple(h,u?1:0),x.visible.invalidList(),x.all.invalidList(),x._all.invalidList(),u||x.raw.invalidList(),v.size!==0&&(t?e.fireEvent("addNodes",{virtual:u,objects:o,nodes:v}):e.fireEvent("addEdges",{virtual:u,objects:o,edges:v})),v}var C4=1,T4=2,L4=3,N4=4,I4=5,M4=6,I_="_visible",M_="_data",P4="_compound",Bc="_hovered",P_="_hoverExtremityHighlighted",nn="_selected",F_="_selectionExtremityHighlighted",jh="_dragged",UN="_rewirable",Do="_export",dn="_faded",zs="_transparent",F4="_visual_groups",nu=-1,Fu="in",Ru="out",vf="both",lS=[nn,jh,F_,Bc,P_,UN,Do,dn,zs,F4],$N=2,R4=-1,VN=3,D4=3,z4=4,GN=-1,O4=["hover","zoom","panning","rotation","gesture","drag","selection","tooltip","user","interactions","resizing","rewiring","connectNodes","lasso"],Sa=void 0,B4=class{constructor(e){this._neighborTable=new T_,this._parallelTable=new T_,this._parallelEdgesIndex=[],this._fakeDeduper={get:()=>0,set:ft,reset(){return this}},this._fakeInvertedDeduper={get:()=>1,set:ft,reset(){return this}},this._graph=e,this.nodeDeduper=e.createNodeAttribute({storage:1},!1),this.edgeDeduper=e.createEdgeAttribute({storage:1},!1),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target")}getAdjacentDirections(e){return this._neighborTable.get(e)}getEdgeIndexesInDirection(e){return this._parallelTable.get(e)}allocateNodes(e){this._neighborTable.reserve(e.length);for(let t=0;t<e.length;++t)this._neighborTable.addEntry(e[t])}allocateEdges(e,t,n){this._parallelTable.reserve(Math.floor(e.length/2));for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=n[r];this._sourceList.set(i,s),this._targetList.set(i,o),this.addToAdjacencyList(i)}}getExtremity(e,t){const n=e?this._sourceList:this._targetList;if(t.isList){const r=this._graph.acquireIndexList(!0);for(let i=0;i<t._indexes.length;i++)r.push(n.get(t._indexes[i]));return this._graph.nodeList(r.sliceAndReset())}return this._graph.getObjectList(!0).get(n.get(t._index))}setExtremities(e,t,n){for(let r=0;r<e.length;++r)this.removeFromAdjacencyList(e[r]);t!==null&&this._sourceList.setMultiple(e,t),n!==null&&this._targetList.setMultiple(e,n);for(let r=0;r<e.length;++r)this.addToAdjacencyList(e[r])}addToAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Wl(t,n);let i=this._parallelEdgesIndex[r];i===Sa&&(i=this._parallelTable.addEntry(),this._parallelEdgesIndex[r]=i,this._neighborTable.addTo(t,i),t!==n&&this._neighborTable.addTo(n,i)),this._parallelTable.addTo(i,e)}removeFromAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Wl(t,n),i=this._parallelEdgesIndex[r];i!==Sa&&this._parallelTable.removeFromAndGetSize(i,e)===0&&(this._neighborTable.removeFrom(t,i),t!==n&&this._neighborTable.removeFrom(n,i),this._parallelEdgesIndex[r]=Sa)}getParallelEdges(e,t={}){const n=t.filter||"visible",r=this._graph.acquireIndexList(!1),i=this._graph.getFilter(!1,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s],a=Wl(this._sourceList.get(o),this._targetList.get(o)),l=this._parallelEdgesIndex[a];if(l!==Sa){const c=this._parallelTable.get(+l);if(c)for(const d of c)i(d)&&r.push(d)}}return this._graph.edgeList(r.sliceAndReset())}fastGetNodesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=this._neighborTable.get(o);for(const l of a){const c=this._parallelTable.get(l),d=c[0],u=r.get(d),h=i.get(d);if(u!==0&&h!==0){t.push(u+h-o);for(const g of c)n.push(g)}}}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}fastGetEdgesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),l=i.get(o),c=Wl(a,l),d=this._parallelEdgesIndex[c];if(d!==Sa){const u=this._parallelTable.get(+d);if(u)for(const h of u)n.push(h)}t.push(a),t.push(l)}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}getDeduper(e){return(e?this.nodeDeduper:this.edgeDeduper).reset()}collectAdjacentEdges(e,t,n,r=!1,i=!1){const s=t===Fu,o=!(t===Ru||s||i),a=this._graph.acquireIndexList(!1),l=this._graph.getFilter(!1,n),c=r?this.getDeduper(!1):this._fakeDeduper;let d=this._fakeInvertedDeduper;const u=this._sourceList,h=this._targetList;if(i){d=this.getDeduper(!0);for(let g=0;g<e.length;g++)d.set(e[g],1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);if(o)for(const f of y)l(f)&&c.get(f)===0&&(a.push(f),c.set(f,1));else for(const f of y){const x=u.get(f),v=h.get(f),w=x+v-p;s!==(v===p)&&x!==v||!l(f)||c.get(f)!==0||d.get(w)!==1||(a.push(f),c.set(f,1))}}}return a.sliceAndReset()}collectAdjacentNodes(e,t,n,r=!1,i,s){const o=t!==Fu,a=t!==Ru,l=this._graph.acquireIndexList(!0),c=this._graph.getFilter(!1,n),d=r?this.getDeduper(!0):this._fakeDeduper,u=this._sourceList,h=this._targetList;if(i)for(let g=0;g<i.length;g++){const p=i[g];l.push(p),d.set(p,1)}if(s)for(let g=0;g<s.length;g++){const p=s[g];d.set(p,1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);for(const f of y)if(c(f)){const x=u.get(f),v=h.get(f),w=x+v-p;if((a&&p===v||o&&p===x)&&d.get(w)===0){l.push(w),d.set(w,1);break}}}}return l.sliceAndReset()}getAdjacentElements(e,t,n={}){const r=n.direction||vf,i=n.filter||"visible",s=n.policy||"union",o=!!n.bothExtremities;if(e){const a=s==="include-sources"?t:null,l=s==="exclude-sources"?t:null;return this.collectAdjacentNodes(t,r,i,!0,a,l)}return this.collectAdjacentEdges(t,r,i,!0,o)}getEdgesBetweenTwoNodes(e,t){const n=Wl(e,t),r=this._parallelEdgesIndex[n];if(r===Sa)return new Uint32Array;const i=this._parallelTable.get(+r);return new Uint32Array(i)}getConnectedComponents(e,{filter:t="visible",returnIds:n=!1,internalIndexes:r=!1}={}){const i=this._graph,s=[],o={},a=i.acquireIndexList(!0);let l;typeof t=="string"?l=i.getFilter(!0,t):(l=t,t="visible");for(let u=0;u<e.length;u++){const h=e[u];l(h)&&a.push(h)}const c=a.sliceAndReset(),d={filter:t};for(let u=0;u<c.length;u++){const h=c[u];if(!o[h]){const g=[h],p=[];for(;g.length!==0;){const m=g.pop();!o[m]&&l(m)&&(g.push.apply(g,this.getAdjacentElements(!0,new Uint32Array([m]),d)),o[m]=!0,p.push(m))}p.length>0&&s.push(p)}}if(n){const u=i.getNodeAttribute("id");for(let h=0;h<s.length;h++)s[h]=u.getMultiple(s[h])}else if(!r)for(let u=0;u<s.length;u++)s[u]=i.nodeList(new Uint32Array(s[u]));return s}getAdjacencyList({directed:e,ids:t,weight:n,nodes:r}){const i=e?Ru:vf,s=new Array(r.length),o=this._graph;for(let p=0;p<r.length;++p)s[p]=this.collectAdjacentEdges(new Uint32Array([r[p]]),i,"all");const a=o.getEdgeAttribute("source"),l=o.getEdgeAttribute("target"),c=o.getEdgeAttribute("width"),d=o.getNodeAttribute("id"),u=[],h=typeof n=="number",g=typeof n!="function"&&!h&&!!n;for(let p=0;p<s.length;p++){const m=s[p],_=r[p],y=m.length,f=t?new Array(y):new Uint32Array(y),x=new Array(y);for(let w=0;w<y;w++){const b=m[w],S=a.get(b),A=l.get(b);let C=e||_===S?A:S;if(t&&(C=d.get(C)),f[w]=C,n){if(h&&(x[w]=n),typeof n=="function"){const k=o.getNode(S),N=o.getNode(A);x[w]=n(k,N)}g&&(x[w]=c.get(b)||1)}}const v=Se({nodes:f,id:t?d.get(_):_},n&&{weights:x});u.push(v)}return u}degrees(e,t){if(t!==Fu&&t!==Ru)return this._neighborTable.sizes(e);const n=new Array(e.length),r=t===Fu;for(let i=0,s=e.length;i<s;i++)n[i]=this._degree(e[i],r);return n}_degree(e,t){const n=this._neighborTable.get(e),r=this._sourceList,i=this._targetList;let s=0;for(let o=0;o<n.length;++o){const a=this._parallelTable.get(n[o]);for(let l=0;l<a.length;++l){const c=a[l],d=r.get(c),u=i.get(c);if(t&&u===e||!t&&d===e){s+=1;break}}}return s}getDegree(e,t){const{direction:n,filter:r}=this._getDegreeOptions(t),i=new Array(e.length),s=new Uint32Array(1);for(let o=0;o<e.length;++o)s[0]=e[o],i[o]=this.collectAdjacentNodes(s,n,r).length;return i}_getDegreeOptions(e){const t={direction:vf,filter:"visible"};return typeof e=="string"?t.direction=e:e&&(typeof e.direction=="string"&&(t.direction=e.direction),typeof e.filter=="string"&&(t.filter=e.filter)),t}};function HN(e,t,n){const r=e.getObjectList(t.isNode);for(let i=0;i<t._indexes.length;++i){const s=t._indexes[i];n(r.get(s),i)}}function WN(e,t,n){const r=new Array(t.size),i=e.getObjectList(t.isNode);for(let s=0;s<t._indexes.length;++s){const o=t._indexes[s],a=i.get(o);r[s]=n(a,s)}return r}function qN(e,t,n){n=n||Zp;const r=t.isNode,i=e.acquireIndexList(r),s=e.getObjectList(r),o=e.getListFactory(r);for(let a=0;a<t._indexes.length;++a){const l=t._indexes[a],c=s.get(l);c&&n(c,a)&&i.push(l)}return o(i.sliceAndReset())}function XN(e,t,n,r){const i=e.getListFactory(t.isNode);if(!n)return{valid:t,invalid:i()};const s=e.acquireIndexList(t.isNode),o=e.acquireIndexList(t.isNode),a=e.getObjectList(t.isNode);for(let l=0;l<t._indexes.length;l++){const c=t._indexes[l],d=a.get(c);d!==void 0&&(n(d,r)?s:o).pushUnchecked(c)}return{valid:i(s.sliceAndReset()),invalid:i(o.sliceAndReset())}}function YN(e,t,n,r){const i=e.getObjectList(t.isNode);let s=r;for(let o=0;o<t._indexes.length;++o){const a=t._indexes[o];s=n(s,i.get(a),o)}return s}function ZN(e,t){const n=t.isNode,r=e.topology.getDeduper(n),i=e.acquireIndexList(n),s=e.getListFactory(n);for(let o=0;o<t._indexes.length;o++){const a=t._indexes[o];r.get(a)===0&&(r.set(a,1),i.push(a))}return s(i.sliceAndReset())}function QN(e,t,n){const r=t.isNode,i=n.topology.getDeduper(r),s=n.acquireIndexList(r),o=n.getListFactory(r);for(let a=0;a<t._indexes.length;a++){const l=t._indexes[a];i.set(l,1)}for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];i.get(l)===0&&s.push(l)}return o(s.sliceAndReset())}function KN(e,t){const n=t.isNode,r=e.storage.fetch(n),i=r.getFlexArray("excluded"),s=r.getMaxIndex(),o=e.topology.getDeduper(n),a=e.acquireIndexList(n),l=e.getListFactory(n);for(let c=0;c<t._indexes.length;c++)o.set(t._indexes[c],1);for(let c=1;c<=s;++c)o.get(c)===0&&i.get(c)===0&&a.push(c);return l(a.sliceAndReset())}function JN(e,t,n){const r=e.getListFactory(t.isNode),i=new Uint32Array(t._indexes.length+n._indexes.length);return i.set(t._indexes),i.set(n._indexes,t._indexes.length),r(i)}function eI(e,t){return e.getObjectList(t.isNode).getMultiple(t._indexes)}function om(e,t){const n=e.getStorage(t.isNode);if(t.isList){const r=new Array(t.size);for(let i=0;i<t._indexes.length;++i)r[i]=n.getId(t._indexes[i]);return r}return n.getId(t._index)}function tI(e,t){return e.topology.getExtremity(!0,t)}function nI(e,t){return e.topology.getExtremity(!1,t)}function rI(e,t,n){return e.getObjectList(t.isNode).get(t._indexes[n])}function iI(e,t,n){const r=e.getListFactory(t.isNode),i=e.getObjectList(t.isNode),s=t._indexes.slice();return s.sort((o,a)=>{const l=i.get(o),c=i.get(a);return n(l,c)}),r(s)}var cS=new Uint32Array(1),po=class{constructor(e,t){this.size=1,this.isNode=!1,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return cS[0]=this._index,cS}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.filter(n=>n!==this).dedupe()}}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.modules.graph.edgeList(new Uint32Array([this._index]))}getId(){return om(this._ogma.modules.graph,this)}getSource(){return tI(this._ogma.modules.graph,this)}getTarget(){return nI(this._ogma.modules.graph,this)}getExtremities(){return this._ogma.modules.graph.nodeList(new Uint32Array([this.getSource()._index,this.getTarget()._index]))}setSource(e){this._ogma.modules.graph.setSource(this,e)}setTarget(e){this._ogma.modules.graph.setTarget(this,e)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=BN(e);return{id:this.getId(),source:this.getSource().getId(),target:this.getTarget().getId(),attributes:this.getAttributes(t),data:n(cn(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};sm([po],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var pa=class{constructor(e,t){this.isList=!0,this.isNode=!1,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.subtract(this).dedupe()}}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return eI(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.edgeList(this._indexes.slice())}getId(){return om(this._ogma.modules.graph,this)}getSource(){return tI(this._ogma.modules.graph,this)}getTarget(){return nI(this._ogma.modules.graph,this)}getExtremities(){return this.getSource().concat(this.getTarget())}get(e){return rI(this._ogma.modules.graph,this,e)}forEach(e){HN(this._ogma.modules.graph,this,e)}map(e){return WN(this._ogma.modules.graph,this,e)}filter(e){return qN(this._ogma.modules.graph,this,e)}reduce(e,t){return YN(this._ogma.modules.graph,this,e,t)}concat(e){return JN(this._ogma.modules.graph,this,e)}dedupe(){return ZN(this._ogma.modules.graph,this)}subtract(e){return QN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.edgeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof po?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}sort(e){return iI(this._ogma.modules.graph,this,e)}inverse(){return KN(this._ogma.modules.graph,this)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!Rn(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};sm([pa],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var Hs="geo.latitude",Ws="geo.longitude",dS="geo.prevLat",bf="geo.prevLng",kd=85.0511287798,Vg=1,j4='Map data &copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap contributors</a>',zo={latitudePath:"latitude",longitudePath:"longitude",maxZoomLevel:22,minZoomLevel:0,wrapCoordinates:!0,tileUrlTemplate:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",tileUrlSubdomains:"abc",attribution:null,attributionOptions:void 0,backgroundColor:"silver",opacity:1,duration:0,disableNodeDragging:!0,tileBuffer:1,sizeRatio:1,tiles:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",subdomains:"abc",tms:!1,wms:!1},crs:void 0},U4={maxBoundsViscosity:1,worldCopyJump:!0,zoomControl:!1,attributionControl:!1};function uS(e,t){e&&t!==void 0&&isFinite(t)&&e.setOpacity&&e.setOpacity(t)}function hS(){return sa||typeof global<"u"&&!global.process}function wf(e){return Math.log2(e)+Vg}function $4(e){return 2**(e-Vg)}function gS(e){return e!=null&&!isNaN(e)}function sI(e,t){return aI(e,t,"longitude")}function oI(e,t){return aI(e,t,"latitude")}function aI(e,t,n){if(isNaN(t))throw new TypeError(`node ${e}: ${t} is not a valid ${n}`)}function V4(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function G4(e,t){return t==null&&e.url===zo.tiles.url?j4:null}function H4(e={},t){const{tileUrlSubdomains:n,tileUrlTemplate:r,attribution:i,attributionOptions:s,latitudePath:o,longitudePath:a,sizeRatio:l,tiles:c}=e;if(r!=null&&typeof r!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a URL string");if(n!=null&&typeof n!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a string");if(c!=null){if(!(bn(c)||c instanceof t.Layer))throw new TypeError("Geo mode: tiles must be a object or L.Layer instance");const d=c;if(d.url!=null&&typeof d.url!="string")throw new TypeError("Geo mode: tiles.url must be a string");if(d.subdomains!=null&&typeof d.subdomains!="string")throw new TypeError("Geo mode: tiles.subdomains must be a string");if(d.tms&&typeof d.tms!="boolean")throw new TypeError("Geo mode: tiles.tms must be a boolean");if(d.wms&&typeof d.wms!="boolean")throw new TypeError("Geo mode: tiles.wms must be a boolean")}if(i!=null&&typeof i!="string")throw new TypeError("Geo mode: Map attribution must be a string");if(s!=null&&!bn(s))throw new TypeError("Geo mode: attributionOptions must to be a BrandOptions object");if(o!=null&&typeof o!="string"&&!Array.isArray(o))throw new TypeError("Geo mode: Latitude path must be a valid property path: a string or an array of strings.");if(a!=null&&typeof a!="string"&&!Array.isArray(a))throw new TypeError("Geo mode: Longitude path must be a valid property path: a string or an array of strings.");if(l!=null&&(!isFinite(l)||l<=0))throw new TypeError("Geo mode: sizeRatio must be a positive number.")}function W4(e,t={}){if(t.tiles===void 0||t.tileUrlTemplate||t.tileUrlSubdomains){const n=zo.tiles;return Se(Se(Se({},t.tiles||{}),zo.tiles),{url:t.tileUrlTemplate||n.url,subdomains:t.tileUrlSubdomains||n.subdomains})}return bn(t.tiles)?Se(Se({},e.tiles),t.tiles):t.tiles}function q4(e,t){return e.attribution!==t.attribution||e.tiles!==t.tiles}var X4=ys().createElement("div");function Y4(e){const t=ys().createElement("div");t.className="ogma-geo-container",da(t,"100%","100%");const n=e||X4;return n.insertBefore(t,n.firstChild),t}function Z4(e){const t=[[1/0,1/0],[-1/0,-1/0]];return e.getGeoCoordinates().reduce((n,{latitude:r,longitude:i})=>{const[s,o]=n;return s[0]=Math.min(s[0],r),s[1]=Math.min(s[1],i),o[0]=Math.max(o[0],r),o[1]=Math.max(o[1],i),n},t)}function Q4(e,t,n,r){const i=t._indexes;e.getNodeAttribute(Hs).setMultiple(i,n),e.getNodeAttribute(Ws).setMultiple(i,r)}function K4(e,t,n){const{longitudePath:r,latitudePath:i,wrapCoordinates:s}=n,[o,a]=e.getAttributes(!0,[Hs,Ws]),l=t._indexes,c=t.getId(),d=l.length,u=t.getData(i),h=t.getData(r);for(let g=0;g<d;g++){let p=h[g],m=u[g];const _=l[g],y=c[g];m!=null&&p!=null&&(sI(y,p),oI(y,m),s&&(p%=180,m=Wr(+m,-kd,kd)),a.set(_,p),o.set(_,m))}}function J4(e,{longitudePath:t,latitudePath:n,wrapCoordinates:r},i){const s=e.getData(t),o=e.getData(n);return s!=null&&o!=null&&(!(!r&&!i)||Math.abs(o)<=kd&&Math.abs(s)<=180)}function Du(e,t,n,r){ej(e,!0,t,n,r)}function ej(e,t,n,r,i){const s=e.getAttribute(t,r),o=e.getAttribute(t,i),a=n._indexes;o.setMultiple(a,s.getMultiple(a))}function tj(e){return e.reduce((t,{nodes:n,newValues:r})=>{if(!n)return t;const i=n.filter((s,o)=>r[o]!=null);return t?t.concat(i):i},null)}function nj(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","radius"]).forEach(({text:n,radius:r},i)=>{t[e.get(i).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:n.minVisibleSize,size:Math.max(1,Number(r))}}),t}function pS(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","minVisibleSize","width"]).forEach(({text:n,minVisibleSize:r,width:i},s)=>{t[e.get(s).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:r,size:Math.max(1,Number(i))}}),t}function rj(e,t,n){if(!t||!Object.keys(t).length)return Promise.resolve();const r=e.getId().filter(i=>t[i]).map(i=>{if(!t[i])return 0;const s=Number(t[i]["text.minVisibleSize"]),o=Number(t[i].minVisibleSize),a=Number(t[i]["text.size"]),l=Number(t[i]["text.scale"]),c=Number(t[i].size)*l*n;return c<=o||c<=s?0:a});return e.setAttribute("text.size",r)}function ij(e,t){const n=e.getId().map(r=>{const i=t[r]||{};return Number(i["text.size"])});return e.setAttribute("text.size",n)}var mS=new Uint32Array(1),Qi=class{constructor(e,t){this.size=1,this.isNode=!0,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return mS[0]=this._index,mS}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this._ogma.modules.camera.graphToScreenCoordinates(this.getPosition())}isInScreen(){const e=this.getPositionOnScreen(),t=this._ogma.modules.camera;return e.x>=0&&e.x<=t.width&&e.y>=0&&e.y<=t.height}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)[0]}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}getConnectedComponent(e){return this._ogma.modules.graph.getConnectedComponentByNode(this,e)[0]}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.nodeList(new Uint32Array([+this._index]))}getId(){return om(this._ogma.modules.graph,this)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=BN(e),r=this.getAttributes(t);return{id:this.getId(),attributes:r,data:n(cn(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getGeoCoordinates(){const e=this._ogma.modules.graph,t=e.getNodeAttribute(Hs).get(this._index),n=e.getNodeAttribute(Ws).get(this._index);return{latitude:gS(t)?t:void 0,longitude:gS(n)?n:void 0}}setGeoCoordinates(e){return this.toList().setGeoCoordinates([e]).then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};sm([Qi],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var ws=class{constructor(e,t){this.isList=!0,this.isNode=!0,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this.getPosition().map(e=>this._ogma.modules.camera.graphToScreenCoordinates(e))}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)}getConnectedComponents(e){return this._ogma.modules.graph.getConnectedComponents(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return eI(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.nodeList(this._indexes.slice())}getId(){return om(this._ogma.modules.graph,this)}get(e){return rI(this._ogma.modules.graph,this,e)}forEach(e){HN(this._ogma.modules.graph,this,e)}map(e){return WN(this._ogma.modules.graph,this,e)}filter(e){return qN(this._ogma.modules.graph,this,e)}reduce(e,t){return YN(this._ogma.modules.graph,this,e,t)}concat(e){return JN(this._ogma.modules.graph,this,e)}dedupe(){return ZN(this._ogma.modules.graph,this)}subtract(e){return QN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.nodeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof Qi?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}inverse(){return KN(this._ogma.modules.graph,this)}sort(e){return iI(this._ogma.modules.graph,this,e)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!Rn(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getGeoCoordinates(){const e=this._ogma.modules.graph,t=new Array(this._indexes.length),n=e.getNodeAttribute(Hs).getMultiple(this._indexes),r=e.getNodeAttribute(Ws).getMultiple(this._indexes);for(let i=0,s=this._indexes.length;i<s;i++)t[i]={latitude:n[i],longitude:r[i]};return t}setGeoCoordinates(e){const t=this._ogma.modules.geo,n=this.getId(),r=this._indexes,i=new Array(r.length),s=new Array(r.length);if(e===null&&(e=new Array(r.length).fill(null)),e.length!==r.length)throw new RangeError("You must provide coordinates for each node in the NodeList");for(let l=0,c=r.length;l<c;l++){let{latitude:d,longitude:u}=e[l]||{latitude:void 0,longitude:void 0};const h=n[l];d==null&&u==null?d=u=void 0:(oI(h,d),sI(h,u)),i[l]=d,s[l]=u}this.setData(t.latitudePath,i),this.setData(t.longitudePath,s);const{dom:o,graph:a}=this._ogma.modules;return Q4(a,this,i,s),this._ogma.modules.geo.isEnabled()?o.afterNextFrame().then(()=>o.afterNextFrame()).then(()=>this):o.afterNextFrame().then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};function sj(e,t,n){return El(e,!0,[t],n)}function oj(e,t,n){return El(e,!1,[t],n)}function aj(e,t,n){return El(e,!0,t,n)}function lj(e,t,n){return El(e,!1,t,n)}function El(e,t,n,r={},i=!1){Array.isArray(n)||n instanceof(t?ws:pa)||(n=[n]);const{virtual:s=!1}=r,o={elementsToRemove:e.getElements(t,n),virtual:s};e.fireEvent("requestElementsToDelete",o);let{elementsToRemove:a}=s?{elementsToRemove:n}:o;if(!a.size)return Promise.resolve();a=a.dedupe();const l=e.storage.fetch(t),c=l.getFlexArray("removed");if(a=a.filter(g=>c.get(g._index)===0),t){const g=a.getAdjacentEdges({filter:"all"}),p=g.filter(m=>m.isVirtual());El(e,!1,g,r,!0),El(e,!1,p,{virtual:!0},!0)}const d=a._indexes,u=e.getCacheLists(t);if(tN(l.getFlexArray("virtual").getMultiple(d))!==(s?d.length:0))throw new Error("Attempting to remove virtual elements; you should not do that");const h={virtual:s,[t?"nodes":"edges"]:a};if(e.fireEvent(t?"beforeRemoveNodes":"beforeRemoveEdges",h),u.visible.invalidList(),u.all.invalidList(),s||u.raw.invalidList(),e.setExcluded(a,!0),c.setMultiple(d,1),!t)for(let g=0;g<d.length;++g)e.topology.removeFromAdjacencyList(d[g]);return l.removeElements(d),e.fireEvent(t?"removeNodes":"removeEdges",h),Promise.resolve()}sm([ws],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var cj=class{addNodes(e,t){return wl(this.modules.graph,!0,e,t)}addEdges(e,t){return wl(this.modules.graph,!1,e,t)}addNode(e,t){return $g(this.modules.graph,!0,e,t)}addEdge(e,t){return $g(this.modules.graph,!1,e,t)}removeNodes(e,t){return aj(this.modules.graph,e,t)}removeEdges(e,t){return lj(this.modules.graph,e,t)}removeNode(e,t){return sj(this.modules.graph,e,t)}removeEdge(e,t){return oj(this.modules.graph,e,t)}getNodes(e){return this.modules.graph.getNodes(e)}getEdges(e){return this.modules.graph.getEdges(e)}getNode(e){return this.modules.graph.getNode(e)}getEdge(e){return this.modules.graph.getEdge(e)}clearGraph(){this.modules.graph.clear()}setGraph(e,t){return this.modules.graph.clear(),this.addGraph(e,t)}addGraph(e,t){const n=this.modules.graph.getNodes().size===0,r=k4(this.modules.graph,e,t);return n?this.modules.locate.locateGraph({padding:30,ignoreZoomLimits:!0,duration:0}).then(()=>r):r}createNodeList(){return this.getNodes([])}createEdgeList(){return this.getEdges([])}getConnectedComponents(e={}){return this.modules.graph.getConnectedComponents(this.getNodes(e.filter),e)}getConnectedComponentByNode(e,t){const n=this.modules.graph.getNode(e);if(n===void 0)throw new Error(`getComponentByNode: cannot find node ${e}`);return this.modules.graph.getConnectedComponentByNode(n,t)[0]}},dj=class extends it{constructor(){super(...arguments),this.storage={nodes:new jE(!0),edges:new jE(!1),fetch(e){return e?this.nodes:this.edges}},this._promisesToResolve=[],this._nodeIndexLists=[],this._edgeIndexLists=[],this._onNewFrame=()=>{this.storage.nodes.freeIndexes(),this.storage.edges.freeIndexes()}}onMounted(){this._modules.events.register(["preAddElements","addNodes","addEdges","preAddGraph","postAddGraph","addGraph","excludedStateChange","clearGraph","beforeRemoveNodes","requestElementsToDelete","removeNodes","beforeRemoveEdges","removeEdges"]),[{name:"excluded",storage:1,default:1},{name:"removed",storage:1,default:1},{name:"virtual",storage:1,default:0}].forEach(e=>{this.createNodeAttribute(e,!0),this.createEdgeAttribute(e,!0)}),this.node=this._ogma.node,this.edge=this._ogma.edge,this.nodeList=this._ogma.nodeList,this.edgeList=this._ogma.edgeList,this._nodes=this.createAttribute(!0,{name:"object",storage:"any"},!0),this._edges=this.createAttribute(!1,{name:"object",storage:"any"},!0),this.createAttribute(!1,{name:"source",storage:32},!0),this.createAttribute(!1,{name:"target",storage:32},!0),this._nodeFilters=oS(this.storage.nodes),this._edgeFilters=oS(this.storage.edges),this._initialize(),this._modules.events.on("newFrame",this._onNewFrame)}onReady(e){if(e.graph){const{nodes:t,edges:n}=e.graph;t&&this.addNodes(t),n&&this.addEdges(n)}}createIndexList(e){return this.storage.fetch(e).createIndexList()}getDom(){return this._modules.dom}acquireIndexList(e){const t=e?this._nodeIndexLists:this._edgeIndexLists;let n=t.find(r=>!r.isBusy());return n||(n=this.createIndexList(e),t.push(n)),n.markBusy(),n}getObjectList(e){return e?this._nodes:this._edges}getListFactory(e){return e?this.nodeList:this.edgeList}getStorage(e){return e?this.storage.nodes:this.storage.edges}getFilter(e,t){const n=e?this._nodeFilters:this._edgeFilters;return n[t]||n.visible}fireEvent(e,t){this._modules.events.fire(e,t)}getCacheLists(e){return e?this._nodeCacheLists:this._edgeCacheLists}_resolvePromises(){const e=this._promisesToResolve;this._promisesToResolve=[],e.forEach(t=>t())}_initialize(){this._nodeCacheLists=aS(()=>this.getNodeMaxIndex(),()=>this.acquireIndexList(!0),this._nodeFilters),this._edgeCacheLists=aS(()=>this.getEdgeMaxIndex(),()=>this.acquireIndexList(!1),this._edgeFilters),this.topology=new B4(this),this._resolvePromises()}getNodeMaxIndex(){return this.storage.nodes.getMaxIndex()}getEdgeMaxIndex(){return this.storage.edges.getMaxIndex()}isExcluded(e){return this.storage.fetch(e.isNode).getFlexArray("excluded").getMultiple(e._indexes)}setExcluded(e,t){const n=t?1:0,r=e.isNode,i=this.storage.fetch(r),s=i.getFlexArray("excluded"),o=i.getFlexArray("removed"),a=this.acquireIndexList(r),l=this.getListFactory(r);for(let d=0;d<e._indexes.length;d++){const u=e._indexes[d],h=s.get(u),g=o.get(u);n!==h&&g===0&&a.push(u)}const c=a.sliceAndReset();if(c.length){this.getCacheLists(e.isNode).visible.invalidList();const d=l(c);s.setMultiple(c,n),this._modules.events.fire("excludedStateChange",{elements:d,value:t})}}addNode(e,t){return $g(this,!0,e,t)}addEdge(e,t){return $g(this,!1,e,t)}addNodes(e,t){return wl(this,!0,e,t)}addEdges(e,t){return wl(this,!1,e,t)}getExtremityIndex(e,t,n,r){if(t instanceof Qi)return t._index;{const i=this.storage.nodes.getIndex(t);if(!i&&!r)throw new Error(`addEdge(s): invalid ${n===0?"source":"target"} for edge "${e}"; node "${t}" does not exist`);return i}}getNodes(e){return this.getElements(!0,e)}getEdges(e){return this.getElements(!1,e)}getElements(e,t){const n=e?this.nodeList:this.edgeList,r=e?ws:pa,i=e?Qi:po;if(t&&typeof t!="string"){const s=this.acquireIndexList(e),o=this.storage.fetch(e);if(t instanceof i)s.push(t._index);else if(Rn(t)){const a=t;for(const l of a)if(l instanceof i)s.push(l._index);else{const c=o.getIndex(l);c&&s.push(c)}}else if(t instanceof r){const a=this.getFilter(e,"all"),l=t;for(let c=0;c<l._indexes.length;c++){const d=l._indexes[c];a(d)&&s.push(d)}}return n(s.sliceAndReset())}{const s=t||"visible",o=this.getCacheLists(e)[s];if(!o)throw new Error(`getNodes/getEdges: unexpected argument "${s}"`);return n(o.getList())}}getNode(e){return this._getElement(!0,e)}getEdge(e){return this._getElement(!1,e)}_getElement(e,t){if(t instanceof(e?Qi:po))return t;const n=this.getStorage(e),r=this.getObjectList(e),i=n.getIndex(t);return i?r.get(i):void 0}clear(){this._modules.events.fire("clearGraph",{nodes:this.getNodes("all"),edges:this.getEdges("all")}),this.storage.nodes.clear(),this.storage.edges.clear(),this._initialize()}createAttribute(e,t,n=!1){return this.storage.fetch(e).createFlexArray(t,n)}createNodeAttribute(e,t){return this.createAttribute(!0,e,t)}createEdgeAttribute(e,t){return this.createAttribute(!1,e,t)}getAttribute(e,t){return this.storage.fetch(e).getFlexArray(t)}getAttributes(e,t){return t.map(n=>this.getAttribute(e,n))}getNodeAttribute(e){return this.storage.nodes.getFlexArray(e)}getNodeAttributes(e){return this.getAttributes(!0,e)}getEdgeAttribute(e){return this.storage.edges.getFlexArray(e)}getEdgeAttributes(e){return this.getAttributes(!1,e)}getAllNodeAttributes(){return this.storage.nodes.getAllFlexArrays()}getAllEdgeAttributes(){return this.storage.edges.getAllFlexArrays()}setSource(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,n._indexes,null)}setTarget(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,null,n._indexes)}getParallelEdges(e,t={}){return this.topology.getParallelEdges(e,t)}getEdgesBetweenTwoNodes(e,t){return this.edgeList(this.topology.getEdgesBetweenTwoNodes(e._index,t._index))}getAdjacentDirections(e){return this.topology.getAdjacentDirections(e)}getEdgeIndexesInDirection(e){return this.topology.getEdgeIndexesInDirection(e)}fastGetNodesAdjacentElements(e){return this.topology.fastGetNodesAdjacentElements(e._indexes)}fastGetEdgesAdjacentElements(e){return this.topology.fastGetEdgesAdjacentElements(e._indexes)}getAdjacentNodes(e,t){return this.nodeList(this.topology.getAdjacentElements(!0,e._indexes,t))}getAdjacentEdges(e,t){return this.edgeList(this.topology.getAdjacentElements(!1,e._indexes,t))}getDegree(e,t){return this.topology.getDegree(e._indexes,t)}degrees(e,t){return this.topology.degrees(e,t)}getAdjacencyList({directed:e=!1,internalIndexes:t=!1,weight:n=1,nodes:r,indexes:i}={}){return this.topology.getAdjacencyList({directed:e,weight:n,ids:!t,nodes:i||this.getNodes(r)._indexes})}getConnectedComponents(e,t){return this.topology.getConnectedComponents(e._indexes,t)}getConnectedComponentByNode(e,t){return this.topology.getConnectedComponents(e._indexes,t)}},uj=Hp&&document.fonts,hj=200,Ef="/qwerty/ [HELLO] ",fS="serif",gj=16,pj=class{constructor(){this._fontFaceSet=uj?document.fonts:null,this._canvas=Dn(),this._ctx=this._canvas.getContext("2d")}_measureText(e,t){return this._ctx.font=`12px ${t}`,this._ctx.measureText(e).width}check(e){if(e===fS)return!0;const t=this._measureText(Ef,fS);return this._measureText(Ef,e)!==t}load(e){return this._fontFaceSet&&this._fontFaceSet.load?this._fontFaceSet.load(`12px ${e}`):(this._ctx.font=`12px ${e}`,this._ctx.fillText(Ef,10,50),Promise.resolve())}},mj=class{constructor(e,t){this._fontLoaderCounter=0,this._loaded=!1,this._value=null,this._timeout=0,this._fontFaceSet=e,this._fontName=t,this._loaded=!1,this._value=null,this._timeout=0,Hp&&!this._fontFaceSet.check(this._fontName)||this._setLoaded()}_setLoaded(){this._loaded=!0,this._value=this._fontName}getValue(){return this._value}isLoaded(){return this._loaded}destroy(){clearTimeout(this._timeout)}load(){return this._tryLoad(hj).then(()=>{this._setLoaded()})}_tryLoad(e){return this._fontFaceSet.load(this._fontName).then(()=>{if(!this._fontFaceSet.check(this._fontName)&&this._fontLoaderCounter<gj)return new Promise(t=>{e<6e4&&(this._timeout=setTimeout(t,e))}).then(()=>(this._fontLoaderCounter++,this._tryLoad(1.5*e)))})}},fj=class{constructor(){this._fontFaceSet=new pj,this._fonts={},this._onFontLoaded=[],this._hideUntilFontsLoaded=!0}setHideUntilFontsLoaded(e){this._hideUntilFontsLoaded=e}getFont(e){let t=this._fonts[e];return t||(t=new mj(this._fontFaceSet,e),this._fonts[e]=t,t.isLoaded()||t.load().then(()=>this._triggerFontLoaded(e))),!this._hideUntilFontsLoaded&&e||t.getValue()}onFontLoaded(e){this._onFontLoaded.push(e)}destroy(){this._onFontLoaded=[],Object.keys(this._fonts).forEach(e=>this._fonts[e].destroy())}_triggerFontLoaded(e){this._onFontLoaded.forEach(t=>t(e))}},_j=0,yj=1,xj=2,vj=3,bj=4,wj=5,Ej=6,Sj=7,Aj=8,kj=9,am=10,Cj=0,lI=1,cI=2,uv=30,dI=0,Tj=1,Lj=2,hv=3,Nj=4,Ij=5,gv=6,uI=1e-6,di=Math.PI,jc=2*Math.PI,hI=di*(5/4),gI=di*(7/4),pI=di*(3/4),mI=di*(1/4),_S=1.1,yS=.07,Mj=1,xS=1,vS=.17,Pj=1,Fj=-di/2,Rj=di/2,Dj={plain:{dash:0,gap:0},dashed:{dash:3,gap:1},dotted:{dash:1,gap:3}},zj={right:0,top:-Math.PI/2,left:Math.PI,bottom:Math.PI/2,center:0},Oj={right:Math.PI,top:-Math.PI/2,left:0,bottom:Math.PI/2,center:0};function Bj(e,t,n,r){pv(e,t,n,r),e.thicknessOrFontSizeScaled=t.widthScaled,e.thicknessOrFontSizeFixed=t.widthFixed,e.strokeWidthScaled=t.stroke.widthScaled,e.strokeWidthFixed=t.stroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.color,e.strokeColor=t.stroke.color,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=t.stroke.minVisibleSize,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}function pv(e,t,n,r){e.pieceId=n,e.shape=r,e.x1=t.sourceX,e.y1=t.sourceY,e.x2=t.targetX,e.y2=t.targetY,e.rectWidthOrSourceRadiusScaled=t.sourceRadiusScaled,e.rectWidthOrSourceRadiusFixed=t.sourceRadiusFixed,e.rectHeightOrTargetRadiusScaled=t.targetRadiusScaled,e.rectHeightOrTargetRadiusFixed=t.targetRadiusFixed,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.widthScaled,e.curvature=t.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=t.isSelfLoop,e.isText=!1}function jj(e,t,n){const r=t.widthScaled+2*t.halo.widthScaled,i=t.widthFixed+2*t.halo.widthFixed;pv(e,t,n,"line"),e.thicknessOrFontSizeScaled=r,e.thicknessOrFontSizeFixed=i,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.halo.color,e.strokeColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1}function Uj(e,t,n,r){pv(e,t,n,r);const i=t.widthFixed*vS+Pj;e.thicknessOrFontSizeScaled=t.widthScaled*xS,e.thicknessOrFontSizeFixed=t.widthFixed*xS,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=t.widthScaled*vS,e.offsetFixed=i,e.fillColor=t.outline.color,e.strokeColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,t.outline.minVisibleSize),e.strokeMinVisibleSize=0,e.offsetAngle=Math.PI/2,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}var Ci=1,Wo=2,Gg=3,R_=1,lo=2,Oo=3,ru=4,qo=5,Xo=6,mo=7,mi=1,lm=2,mv=3,fv=4,Ya=5,cl=6,dl=1,fI=2,_I=3;function $j(e,t,n){yI(e,t,n),e.pattern.type=mo,e.pattern.attributes.text=t.content,e.pattern.attributes.size=nu,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternColor=t.color,e.patternScale=1,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function Vj(e,t,n){yI(e,t,n),e.pieceId+=cl,e.fillColor=t.backgroundColor,e.shape="roundedSquare"}function yI(e,t,n){const r=t.position==="centered"?0:(n.widthScaled+t.heightScaled)/2+n.stroke.widthScaled,i=t.position==="centered"?0:(n.widthFixed+t.heightFixed)/2+n.stroke.widthFixed+t.padding+t.margin;e.pieceId=Ya,e.shape="square",e.x1=n.sourceX,e.y1=n.sourceY,e.x2=n.targetX,e.y2=n.targetY,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding+1,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=n.sourceRadiusScaled+n.targetRadiusScaled,e.strokeWidthFixed=n.sourceRadiusFixed+n.targetRadiusFixed,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,n.minVisibleSize),e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.offsetAngle,e.patternScale=0,e.symbolicSize=n.widthScaled,e.curvature=n.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=n.isSelfLoop,e.isText=!1,e.adjustTextAngle=t.adjustAngle}var iu="shifted",Gj="centered";function _v(e,t){if(t<2)return e;const n=e.split(`
`),r=[];for(let i=0;i<n.length;++i){const s=n[i];if(s.length<t)r.push(s);else{const o=xI(n[i],t);for(let a=0;a<o.length;++a)r.push(o[a])}}return r.join(`
`)}function xI(e,t){const n=[""],r=e.split(" ");for(let i=0;i<r.length;i++){const s=n[n.length-1],o=r[i];s.length+1+o.length<=t&&s.length?n[n.length-1]+=(s.length>0?" ":"")+o:n.push(o)}return n}function vI(e,t){if(e===null)return null;const n=(e=e.toString()).split(`
`),r=[];let i=0;for(let s=0;s<n.length;s++){let o=n[s];if(!t||t<=1||o.length<t)r.push(o),i=Math.max(i,o.length);else{const a=xI(n[s],t);for(let l=0;l<a.length;l++)o=a[l],r.push(o),i=Math.max(i,o.length)}}return{data:r,maxLength:i,lines:r.length}}function bI(){const e=pi("@mapbox/mapbox-gl-rtl-text")||pi("mapbox-gl-rtl-text"),t=e?e.processBidirectionalText:sa?window.processBidirectionalText:null,n=e?e.applyArabicShaping:sa?window.applyArabicShaping:null;return{processBidirectionalText:t?i=>{if(i===null||i==null)return"";const s=[];let o=0,a="";const l=i.split(`
`);for(let c=0;c<l.length;c++){const d=l[c],u=l[c].length+o;u>0&&c<l.length-1&&s.push(u),a+=c>0?""+d:d,o+=d.length}return t(a,s).join(`
`)}:i=>i,applyArabicShaping:n?i=>i==null?null:typeof i=="number"?i.toString():n(i):i=>i==null?null:i.toString()}}var Hj=e=>!!e||e===0;function Mi(e,t,n=0){return e==="inherit"?Array.isArray(t)?t[((n/(2*Math.PI)*t.length|0)+1)%t.length]:t:e}function Wj(e,t,n){return e==="source"?Array.isArray(t)?t[0]:t:e==="target"?Array.isArray(n)?n[0]:n:e}function qj(e){const t=e.depth;return t===cI||t===lI||(t-uv)%gv>=hv}function wI(e){const t=(e.depth-uv)%gv;return t>=0&&t!==dI&&t!==hv}function bS(e,t,n,r,i,s){Xj(e,t,n,r,i,s),wS(e,t,n,r.text,i.texts.primary,s.texts.primary,s),wS(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s)}function Xj(e,t,n,r,i,s){if(r.width.get(n)!==0){if(Sf(i.body,s,Bj),i.halo.body){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),Sf(i.halo,s,jj)}i.outline.body&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),Sf(i.outline,s,Uj))}}function Sf(e,t,n){n(e.body,t,lm,t.shape.body),e.head&&n(e.head,t,mv,t.shape.head),e.tail&&n(e.tail,t,fv,t.shape.tail)}function wS(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Mi(a.color.get(n),o.color),s.position=a.position?a.position.get(n):iu,s.style=a.style.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=_v(s.content,s.maxLineLength),s.adjustAngle=a.adjustAngle.get(n),s.align=a.align.get(n),l){const d=a.scale.get(n);s.sizeScaled=o.widthScaled*d,s.sizeFixed=o.widthFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.offsetAngle=s===o.texts.primary?Fj:Rj,$j(i.text,s,o),i.background&&Vj(i.background,s,o)}}function ES(e,t){Af(e.body,t,!0,!0),Af(e.outline,t,t.outline.enabled,!0),Af(e.halo,t,!!t.halo.color,!1),SS(e.texts.primary,t.texts.primary),SS(e.texts.secondary,t.texts.secondary)}function Af(e,t,n,r){e.body=n,e.head=n&&r&&!!t.shape.head,e.tail=n&&r&&!!t.shape.tail}function SS(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor}var yv=512,xv=128,EI=Math.round(Math.log2(yv)),vv=Math.round(Math.log2(xv)),Yj=EI+vv,Za=255,Zj=32767,SI=65535,D_=15,Qa=3,Hg=15,Uh=32,Os=128,z_=8,O_=1/16,B_=Math.round(Math.sqrt(Hg+1)),j_=Os*B_,tr=16,fo=1,vi=256,Qj=128,Kj=128,Wg=1.5,AI=1,Sl=56,Jj=16,e6=2*Sl+Jj,$h=6,kI=3,hr=41,cm=5,qg=5,CI=.9721,Cd=24,t6=1.4142;function zu(e,t,n,r,i){const s=1-i;return s*s*s*e+3*i*s*s*t+3*i*i*s*n+i*i*i*r}function Ka(e,t,n,r){const i=1-r;return i*i*e+2*i*r*t+r*r*n}var TI=(e,t)=>2/(1+Math.exp(-Math.abs(e*t)));function Fi(e,t,n,r,i,s){const o=s||{x:0,y:0},a=(e+n)/2,l=(t+r)/2,c=e-n,d=t-r,u=Math.sqrt(c*c+d*d);if(u===0)return o.x=a,o.y=l,o;const h=d/u,g=-c/u,p=-u*i/cm;return o.x=a+h*p,o.y=l+g*p,o}function ma(e,t,n,r,i,s){const o=s||{x1:0,y1:0,x2:0,y2:0},a=(r+r/qg*n)*qg,l=-i+di,c=di/2-i;return o.x1=e+Math.cos(l)*a,o.y1=t+Math.sin(l)*a,o.x2=e+Math.cos(c)*a,o.y2=t+Math.sin(c)*a,o}function AS(e,t,n,r,i,s){n6(e,t,n,r,i,s),kS(e,t.texts.primary,n.text,r,t),kS(e,t.texts.secondary,n.text.secondary,r,t)}function n6(e,t,n,r,i,s){const o=i.source,a=i.target,l=n.source.get(r),c=n.target.get(r),d=o.x.get(l),u=o.y.get(l),h=o.radius.get(l),g=o.color.get(l),p=+(o.scalingMethod.get(l)==="scaled"),m=a.x.get(c),_=a.y.get(c),y=a.radius.get(c),f=a.color.get(c),x=+(a.scalingMethod.get(c)==="scaled"),v=Wj(n.color.get(r),g,f),w=n.width.get(r),b=n.scalingMethod.get(r)==="scaled"?1:0,S=n.stroke.width.get(r),A=n.stroke.scalingMethod.get(r)==="scaled"?1:0,C=Dj[n.shape.style.get(r)],k=n.adjustAnchors.get(r);if(t.source=l,t.target=c,t.sourceX=d,t.sourceY=u,t.targetX=m,t.targetY=_,t.sourceRadiusScaled=h*p,t.sourceRadiusFixed=h*(1-p),t.targetRadiusScaled=y*x,t.targetRadiusFixed=y*(1-x),t.widthScaled=w*b,t.widthFixed=w*(1-b),t.curvature=n.curvature.get(r),t.isSelfLoop=l===c,t.color=v,t.opacity=n.opacity.get(r),t.minVisibleSize=n.minVisibleSize.get(r),t.shape.body=n.shape.body.get(r),t.shape.head=n.shape.head.get(r),t.shape.tail=n.shape.tail.get(r),t.shape.dashLength=C.dash,t.shape.gapLength=C.gap,t.shape.isBodyTriangle=t.shape.body==="triangle",t.stroke.color=Mi(n.stroke.color.get(r),v),t.stroke.widthScaled=S*A,t.stroke.widthFixed=S*(1-A),t.stroke.minVisibleSize=n.stroke.minVisibleSize.get(r),t.halo.color=n.halo.color.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1,k&&(t.shape.head||t.shape.tail||t.shape.body==="triangle")){const N=t,R=N.curvature,B=N.sourceX,H=N.sourceY,F=N.targetX,T=N.targetY;let W=1,G=1;if(R){if(!N.isSelfLoop){const Y=Fi(B,H,F,T,R/2);W=Ou(N,s,o,l,B,H,Y.x,Y.y),G=Ou(N,s,a,c,F,T,Y.x,Y.y)}}else W=Ou(N,s,o,l,B,H,F,T),G=Ou(N,s,a,c,F,T,B,H);t.sourceRadiusScaled*=W,t.sourceRadiusFixed*=W,t.targetRadiusScaled*=G,t.targetRadiusFixed*=G}}function kS(e,t,n,r,i){t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Mi(n.backgroundColor.get(r),i.color)}function Ou(e,t,n,r,i,s,o,a){const l=t.angle||0;let c,d=Math.atan2(a-s,o-i)-l,u=1,h=0;d<-di?d+=jc:d>di&&(d-=jc),d<-di/2?(h=hI,c=n.badges.topLeft):d<0?(h=gI,c=n.badges.topRight):d<di/2?(h=mI,c=n.badges.bottomRight):(h=pI,c=n.badges.bottomLeft),h+=l;const g=c.text.content&&c.text.content.get(r),p=c.image.url&&c.image.url.get(r);if(Hj(g)||p){const m=c.positionScale.get(r),_=c.scale.get(r),y=yN(o,a,i,s,i+Math.cos(h)*m,s+Math.sin(h)*m,_);if(y){const f=y.x-i,x=y.y-s,v=Math.sqrt(f*f+x*x);u=Math.max(u,v)}}if(n.shape.get(r)==="square"){const m=Math.abs(Math.cos(d)),_=Math.abs(Math.sin(d)),y=1/Math.max(m,_);u=Math.max(u,y)}return u}function CS(){return{source:0,target:0,sourceX:0,sourceY:0,targetX:0,targetY:0,sourceRadiusScaled:0,sourceRadiusFixed:0,targetRadiusScaled:0,targetRadiusFixed:0,widthScaled:0,widthFixed:0,curvature:0,isSelfLoop:!1,color:"",opacity:0,minVisibleSize:0,shape:{body:"line",head:null,tail:null,dashLength:0,gapLength:0,isBodyTriangle:!1},stroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,color:""},outline:{enabled:!1,color:"",minVisibleSize:0},textHidden:!1,texts:{primary:TS(),secondary:TS()}}}function TS(){return{align:"left",hidden:!1,content:"",backgroundColor:"",font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",minVisibleSize:0,margin:0,padding:0,position:iu,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,adjustAngle:!1,offsetAngle:0}}function r6(e){return e===null?e:void 0}function $n(e){return typeof e=="boolean"||e===0||e===1?e:void 0}function Yo(e){return typeof e=="number"&&isFinite(e)?e:void 0}function rn(e){return typeof e=="number"&&isFinite(e)&&e>=0?e:void 0}var LI=-100,i6=400,NI=e=>typeof e=="number"&&isFinite(e)&&e>=LI&&e<=i6?e:void 0;function ls(e){return e===null||typeof e=="string"||typeof e=="number"?e:void 0}function qs(e){return e==="fixed"||e==="scaled"?e:void 0}function Xs(e){return yr(e)?e:void 0}function s6(e){return e===Gj||e===iu?e:void 0}function er(e){return e==="inherit"||yr(e)?e:void 0}function o6(e){return e==="source"||e==="target"||yr(e)?e:void 0}function ul(e){return e===null?null:typeof e=="string"?e.split(",").map(t=>{const n=t.trim(),r=n.indexOf(" ")!==-1,i=n[0];return r&&i!=='"'&&i!=="'"?`"${n}"`:n}).join(","):void 0}function hl(e){return e==="none"?"normal":e==="normal"||e==="italic"||e==="bold"||e==="italic bold"||e==="bold italic"?e:void 0}function Xg(e){return e==="left"||e==="center"?e:void 0}function a6(e){return e==="equilateral"?"pentagon":e==="circle"||e==="square"||e==="cross"||e==="diamond"||e==="pentagon"||e==="star"?e:void 0}function l6(e){return["line","tapered","arrow","dashed","dotted"].includes(e)?e:void 0}function c6(e){return e==="line"||e==="triangle"?e:void 0}function LS(e){return[null,"arrow","circle-hole-arrow","triangle-hole-arrow","short-arrow","sharp-arrow","circle","square"].includes(e)?e:void 0}function d6(e){return e==="plain"||e==="dashed"||e==="dotted"?e:void 0}function u6(e){return e==="top"||e==="bottom"||e==="left"||e==="right"||e==="center"?e:void 0}function h6(e){if(yr(e))return e;if(Array.isArray(e)){if(e.length<1)return;for(let t=0;t<e.length;++t)if(!yr(e[t]))return;return e}}function Bt(e){return function(t){if(typeof t=="number")return isFinite(t)&&t>=0?t:void 0;if(typeof t!="string"||t.charAt(t.length-1)!=="%")return;const n=parseFloat(t);return isNaN(n)?void 0:e*n/100}}function bv(){return{edgeHalo:0,nodeHaloStroke:0,nodeHalo:0,edgeBody:0,edgeTextBackground:0,edgeText:0,nodeBody:0,nodeTextBackground:0,nodeText:0}}function Td(e,t=bv()){const n=(e-LI)*gv+uv;return t.edgeHalo=Cj,t.nodeHaloStroke=lI,t.nodeHalo=cI,t.edgeBody=n+dI,t.edgeTextBackground=n+Tj,t.edgeText=n+Lj,t.nodeBody=n+hv,t.nodeTextBackground=n+Nj,t.nodeText=n+Ij,t}var g6=(e,t)=>{t.halo.body=t.halo.body||e.halo.body,t.halo.head=t.halo.head||e.halo.head,t.halo.tail=t.halo.tail||e.halo.tail,t.outline.body=t.outline.body||e.outline.body,t.outline.head=t.outline.head||e.outline.head,t.outline.tail=t.outline.tail||e.outline.tail,t.body.body=t.body.body||e.body.body,t.body.head=t.body.head||e.body.head,t.body.tail=t.body.tail||e.body.tail;const n=t.texts,r=e.texts;n.primary.text=n.primary.text||r.primary.text,n.primary.background=n.primary.background||r.primary.background,n.secondary.text=n.secondary.text||r.secondary.text,n.secondary.background=n.secondary.background||r.secondary.background},II=e=>(t,n)=>{n.halo.body=t.halo.body[e],n.halo.head=t.halo.head[e],n.halo.tail=t.halo.tail[e],n.outline.body=t.outline.body[e],n.outline.head=t.outline.head[e],n.outline.tail=t.outline.tail[e],n.body.body=t.body.body[e],n.body.head=t.body.head[e],n.body.tail=t.body.tail[e],n.texts.primary.text=t.texts.primary.text[e],n.texts.primary.background=t.texts.primary.background[e],n.texts.secondary.text=t.texts.secondary.text[e],n.texts.secondary.background=t.texts.secondary.background[e]},p6=II("start"),m6=II("end"),f6=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,view:i,attributes:s,attributesPrev:o,nodeAttributes:a,nodeAttributesPrev:l}){this._fullComponents=Kl(),this._startComponents=Kl(),this._endComponents=Kl(),this._startFlags=Kl(),this._endFlags=Kl(),this._startInput=CS(),this._endInput=CS(),this._depthInfo=bv(),this._nullElt={id:-1,valid:!0},this._engine=e,this._view=i,this._helper={imageManager:t,fontManager:n,formatText:r},this._attributes=s,this._attributesPrev=o,this._nodeAttributes=a,this._nodeAttributesPrev=l,this._layers=NS(()=>e.createGroup()),this._blockIds=NS(()=>0)}drawEdge(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=-e,i=this._attributes,s=Td(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.source.get(e),a=i.target.get(e),l=i.curvature.get(e),c=this._attributesPrev.curvature.get(e),d=i.animationDuration.get(e),u=i.animationStart.get(e),h=i.animationEasing.get(e),g=d>0,p=l!==0||g&&c!==0;this._prepareBlocks(g,s,r,p);const m=this._extremitiesAttributes={source:this._nodeAttributes,target:this._nodeAttributes};if(AS(n,this._endInput,i,e,m,this._view),ES(this._endFlags,this._endInput),g){const _=this._nodeAttributes.animationDuration.get(o)>0,y=this._nodeAttributes.animationDuration.get(a)>0;m.source=_?this._nodeAttributesPrev:this._nodeAttributes,m.target=y?this._nodeAttributesPrev:this._nodeAttributes,AS(n,this._startInput,this._attributesPrev,e,m,this._view),ES(this._startFlags,this._startInput),g6(this._endFlags,this._startFlags)}this._initComponents(this._fullComponents,this._endFlags,this._layers),m6(this._fullComponents,this._endComponents),bS(t,n,e,this._attributes,this._endComponents,this._endInput),g&&(p6(this._fullComponents,this._startComponents),bS(t,n,e,this._attributesPrev,this._startComponents,this._startInput),this._setBlocksAnimation(d,u,h)),this._setupHaloMasking(o,a),this._storeBlocks()}_setupHaloMasking(e,t){const n=this._nodeAttributes.halo,r=this._layers,i=n.color.get(e)&&n.hideNonAdjacentEdges.get(e),s=n.color.get(t)&&n.hideNonAdjacentEdges.get(t),o=!i&&!s?_I:dl;r.body.stencilUsage=r.text.stencilUsage=r.textBg.stencilUsage=o}_computeBlockIds(e){const t=e*am,n=this._blockIds;n.body=t+wj,n.halo=t+Aj,n.text=t+Ej,n.textBg=t+Sj}_prepareBlocks(e,t,n,r){const i=this._layers;i.body.reset(r?Gg:Ci,e,t.edgeBody,n),i.halo.reset(r?Gg:Ci,e,t.edgeHalo,n),i.text.reset(Wo,e,t.edgeText,n),i.textBg.reset(Ci,e,t.edgeTextBackground,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.halo,t.halo),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.halo),e.freeBlock(t.text),e.freeBlock(t.textBg)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._initEdgeComponents(e.halo,t.halo,n.halo),this._initEdgeComponents(e.outline,t.outline,n.body),this._initEdgeComponents(e.body,t.body,n.body),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initEdgeComponents(e,t,n){e.head=this._nextElement(t.head,n),e.tail=this._nextElement(t.tail,n),e.body=this._nextElement(t.body,n)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}};function NS(e){return{body:e(),halo:e(),text:e(),textBg:e()}}function Kl(){return{halo:{body:void 0,head:void 0,tail:void 0},outline:{body:void 0,head:void 0,tail:void 0},body:{body:void 0,head:void 0,tail:void 0},texts:{primary:{text:void 0,background:void 0},secondary:{text:void 0,background:void 0}}}}function _6(e,t,n){MI(e,t,n),t.imageContent!==null?(e.pattern.type=lo,e.pattern.attributes.image=t.imageContent,e.pattern.attributes.scaled=!0,e.pattern.attributes.duplicated=!1,e.patternScale=t.imageScale,e.patternMinVisibleSize=0,e.patternColor=null):(e.fillColor=null,e.strokeColor=null)}function y6(e,t,n){MI(e,t,n),t.textContent&&(e.pattern.type=Xo,e.pattern.attributes.text=t.textContent,e.pattern.attributes.font=t.textFont,e.pattern.attributes.style=t.textStyle,e.pattern.attributes.paddingLeft=t.scale*t.textPaddingLeft*2,e.pattern.attributes.paddingTop=t.scale*t.textPaddingTop*2,e.pattern.attributes.size=nu,e.patternMinVisibleSize=0,e.patternColor=t.textColor,e.patternScale=t.textScale,e.isBadge=!0),!t.imageUrl&&t.textContent||(e.fillColor=null,e.strokeColor=null)}function MI(e,t,n){const r=n.diameterScaled*t.scale,i=n.diameterFixed*t.scale,s=n.diameterScaled*t.positionScale/2,o=n.diameterFixed*t.positionScale/2;e.pieceId=mi,e.shape="circle",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=r,e.rectWidthOrSourceRadiusFixed=i,e.rectHeightOrTargetRadiusScaled=r,e.rectHeightOrTargetRadiusFixed=i,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.strokeWidthScaled,e.strokeWidthFixed=t.strokeWidthFixed,e.offsetScaled=s,e.offsetFixed=o,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.color,e.strokeColor=t.strokeColor,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.angle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function x6(e,t,n){dm(e,t),e.fillColor=Array.isArray(t.color)?null:t.color,e.strokeColor=t.innerStroke.color,e.strokeMinVisibleSize=t.innerStroke.minVisibleSize,e.strokeWidthScaled=t.innerStroke.widthScaled,e.strokeWidthFixed=t.innerStroke.widthFixed,n&&(e.pattern.type=0)}function dm(e,t){e.pieceId=mi,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=t.diameterScaled,e.rectWidthOrSourceRadiusFixed=t.diameterFixed,e.rectHeightOrTargetRadiusScaled=t.diameterScaled,e.rectHeightOrTargetRadiusFixed=t.diameterFixed,e.shape=t.shape,e.opacity=t.opacity,e.symbolicSize=t.diameterScaled,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=null,e.strokeColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function v6(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=mi,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.halo.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function b6(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=mi,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.halo.strokeWidthScaled,e.strokeWidthFixed=t.halo.strokeWidthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.halo.strokeColor,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function w6(e,t){dm(e,t),e.pattern.type=qo,e.pattern.attributes.text=t.icon.content,e.pattern.attributes.font=t.icon.font,e.pattern.attributes.style=t.icon.style,e.pattern.attributes.size=nu,e.patternMinVisibleSize=t.icon.minVisibleSize,e.patternColor=t.icon.color,e.patternScale=t.icon.scale}function E6(e,t){const n=t.image.fit&&!t.image.tile;dm(e,t),e.pattern.type=lo,e.pattern.attributes.image=t.image.content,e.pattern.attributes.scaled=n,e.pattern.attributes.duplicated=t.image.tile,e.patternScale=n?t.image.scale:0,e.patternMinVisibleSize=t.image.minVisibleSize,e.patternColor=null}function S6(e,t){const n=t.diameterScaled+2*t.innerStroke.widthScaled,r=t.diameterFixed+2*t.innerStroke.widthFixed;e.pieceId=mi,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.outerStroke.widthScaled,e.strokeWidthFixed=t.outerStroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.outerStroke.color,e.patternColor=null,e.globalMinVisibleSize=t.outerStroke.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function A6(e,t){const n=t.diameterScaled*_S,r=t.diameterFixed*_S;let i=t.diameterScaled*yS,s=t.diameterFixed*yS+Mj;t.outerStroke.color&&(i+=t.outerStroke.widthScaled/2,s+=t.outerStroke.widthFixed/2),e.pieceId=mi,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.outline.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.outline.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=1.5707963267948966,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function k6(e,t){dm(e,t),Array.isArray(t.color)&&(e.pattern.type=ru,e.pattern.attributes.colors=t.color.join(";"),e.patternScale=1,e.patternMinVisibleSize=0,e.patternColor=null)}function C6(e,t,n){PI(e,t,n),e.pattern.type=mo,e.pattern.attributes.text=t.content,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternMinVisibleSize=0,e.patternColor=t.color,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function T6(e,t,n){PI(e,t,n),e.fillColor=t.backgroundColor,e.pieceId=cl,e.shape="roundedSquare"}function L6(e,t,n){const r=Math.ceil(t.margin/2),i=n.diameterScaled/2,s=n.diameterFixed/2+r,o=Oj[t.position],a=Math.cos(o),l=Math.sin(o),c=t.margin<12?1:t.margin<30?1-(t.margin-12)/18*.7:.25;e.pieceId=mi,e.shape="triangle",e.x1=n.x-a,e.y1=n.y-l,e.x2=n.x+a,e.y2=n.y+l,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=t.margin,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=t.margin*c,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.backgroundColor,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1}function PI(e,t,n){let r=0,i=0;if(t.isPositionCenter||(r+=n.diameterScaled/2,i+=n.diameterFixed/2+t.margin+t.padding),t.isPositionVertical){if(r+=t.heightScaled/2,i+=t.heightFixed/2,t===n.texts.secondary&&n.texts.primary.position==="bottom"){const o=n.texts.primary;r+=o.heightScaled,i+=o.heightFixed+o.margin+2*o.padding}}else t.isPositionHorizontal&&(r+=t.widthScaled/2,i+=t.widthFixed/2);const s=nu;e.pieceId=mi,e.shape="square",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.pattern.attributes.size=s,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=1,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function IS(e,t,n,r,i,s){const o=i.badges,a=r.badges,l=s.badges;N6(e,t,n,r,i,s),MS(e,t,n,r.text,i.texts.primary,s.texts.primary,s),MS(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s),Bu(e,t,n,a.topLeft,o.topLeft,l.topLeft,s),Bu(e,t,n,a.topRight,o.topRight,l.topRight,s),Bu(e,t,n,a.bottomLeft,o.bottomLeft,l.bottomLeft,s),Bu(e,t,n,a.bottomRight,o.bottomRight,l.bottomRight,s)}function N6(e,t,n,r,i,s){if(i.halo){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),v6(i.halo,s),i.haloStroke&&(s.halo.strokeWidthScaled=0,s.halo.strokeWidthFixed=r.halo.strokeWidth.get(n),b6(i.haloStroke,s))}if(i.outline&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),A6(i.outline,s)),i.outerStroke&&(s.outerStroke.minVisibleSize=r.outerStroke.minVisibleSize.get(n),S6(i.outerStroke,s)),i.pieChart&&k6(i.pieChart,s),i.image&&(s.image.content=t.imageManager.getImage(s.image.url),s.image.fit=r.image.fit.get(n),s.image.tile=r.image.tile.get(n),s.image.scale=r.image.scale.get(n),s.image.minVisibleSize=r.image.minVisibleSize.get(n),E6(i.image,s)),i.icon&&(s.icon.font=t.fontManager.getFont(r.icon.font.get(n)),s.icon.style=r.icon.style.get(n),s.icon.color=r.icon.color.get(n),s.icon.scale=r.icon.scale.get(n),s.icon.minVisibleSize=r.icon.minVisibleSize.get(n),w6(i.icon,s)),i.body){const o=!i.pieChart&&!i.image&&!i.icon;x6(i.body,s,o)}}function Bu(e,t,n,r,i,s,o){if(i.image||i.text){const a=r.stroke.width.get(n),l=+(r.stroke.scalingMethod.get(n)==="scaled");s.color=Mi(r.color.get(n),o.color,s.angle),s.strokeColor=r.stroke.color.get(n),s.strokeWidthScaled=a*l,s.strokeWidthFixed=a*(1-l),s.minVisibleSize=r.minVisibleSize.get(n),s.positionScale=r.positionScale.get(n),s.scale=r.scale.get(n)}if(i.image&&(s.imageContent=t.imageManager.getImage(s.imageUrl),s.imageScale=r.image.scale.get(n),_6(i.image,s,o)),i.text){if(s.textFont=t.fontManager.getFont(r.text.font.get(n)),s.textStyle=r.text.style.get(n),s.textColor=Mi(r.text.color.get(n),o.color),s.textScale=r.text.scale.get(n),s.textPaddingTop=r.text.paddingTop.get(n),s.textPaddingLeft=r.text.paddingLeft.get(n),e.measureText(s.textContent,s.textFont,s.textStyle,s.textScale).width>1){let a=0,l=0;for(;l<s.textContent.length&&a<1;)a+=e.measureText(s.textContent[l],s.textFont,s.textStyle,s.textScale).width,l+=1;l!==s.textContent.length&&(s.textContent=s.textContent.substring(0,l-1)+"")}y6(i.text,s,o)}}function MS(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Mi(a.color.get(n),o.color),s.style=a.style.get(n),s.align=a.align.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=_v(s.content,s.maxLineLength),l){const d=a.scale.get(n);s.sizeScaled=o.diameterScaled*d,s.sizeFixed=o.diameterFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.positionAngle=zj[s.position],s.isPositionCenter=s.position==="center",s.isPositionVertical=s.position==="top"||s.position==="bottom",s.isPositionHorizontal=s.position==="left"||s.position==="right",C6(i.text,s,o),i.background&&(T6(i.background,s,o),i.tip&&L6(i.tip,s,o))}}function PS(e,t){I6(e,t),FS(e.texts.primary,t.texts.primary),FS(e.texts.secondary,t.texts.secondary),ju(e.badges.topLeft,t.badges.topLeft),ju(e.badges.topRight,t.badges.topRight),ju(e.badges.bottomLeft,t.badges.bottomLeft),ju(e.badges.bottomRight,t.badges.bottomRight)}function I6(e,t){e.body=!0,e.icon=!!t.icon.content,e.image=!!t.image.url,e.pieChart=Array.isArray(t.color),e.outerStroke=!!t.outerStroke.color,e.outline=!!t.outline.enabled,e.halo=!!t.halo.color,e.haloStroke=e.halo&&!!t.halo.strokeColor}function FS(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor,e.tip=e.background&&t.tip&&t.position!=="center"}function ju(e,t){e.text=!!t.textContent,e.image=!!t.imageUrl}function RS(e,t,n,r){M6(e,t,n,r),DS(e,t.texts.primary,n.text,r,t),DS(e,t.texts.secondary,n.text.secondary,r,t),Uu(e,t.badges.topLeft,n.badges.topLeft,r),Uu(e,t.badges.topRight,n.badges.topRight,r),Uu(e,t.badges.bottomLeft,n.badges.bottomLeft,r),Uu(e,t.badges.bottomRight,n.badges.bottomRight,r)}function M6(e,t,n,r){const i=+(n.scalingMethod.get(r)==="scaled"),s=2*n.radius.get(r),o=n.innerStroke.width.get(r),a=+(n.innerStroke.scalingMethod.get(r)==="scaled"),l=n.outerStroke.width.get(r),c=+(n.outerStroke.scalingMethod.get(r)==="scaled");t.x=n.x.get(r),t.y=n.y.get(r),t.shape=n.shape.get(r),t.color=n.color.get(r),t.opacity=n.opacity.get(r),t.diameterScaled=s*i,t.diameterFixed=s*(1-i),t.innerStroke.color=Mi(n.innerStroke.color.get(r),t.color),t.innerStroke.widthScaled=o*a,t.innerStroke.widthFixed=o*(1-a),t.innerStroke.minVisibleSize=n.innerStroke.minVisibleSize.get(r),t.outerStroke.color=Mi(n.outerStroke.color.get(r),t.color),t.outerStroke.widthScaled=l*c,t.outerStroke.widthFixed=l*(1-c),t.halo.color=n.halo.color.get(r),t.halo.strokeColor=n.halo.strokeColor.get(r),t.icon.content=e.formatText(n.icon.content.get(r)),t.image.url=n.image.url.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1}function DS(e,t,n,r,i){if(t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Mi(n.backgroundColor.get(r),i.color),t===i.texts.primary){const s=n;t.tip=s.tip.get(r),t.position=s.position.get(r)}else t.position="bottom"}function Uu(e,t,n,r){const i=n.text.content.get(r);t.textContent=e.formatText(i),t.imageUrl=n.image.url.get(r)}function zS(){return{x:0,y:0,shape:"",color:"",opacity:0,diameterScaled:0,diameterFixed:0,innerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},outerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},icon:{content:"",font:"",color:"",scale:0,size:0,style:"none",minVisibleSize:0},image:{url:"",content:null,scale:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,color:"",strokeColor:""},outline:{enabled:!1,color:"",minVisibleSize:0},badges:{topLeft:$u(hI),topRight:$u(gI),bottomLeft:$u(pI),bottomRight:$u(mI)},textHidden:!1,texts:{primary:OS(),secondary:OS()}}}function $u(e){return{angle:e,color:"",scale:0,positionScale:0,minVisibleSize:0,strokeColor:"",strokeWidthScaled:0,strokeWidthFixed:0,textContent:"",textFont:"",textColor:"",textScale:0,textStyle:"none",imageUrl:"",imageContent:null,imageScale:0,textPaddingLeft:0,textPaddingTop:0}}function OS(){return{hidden:!1,content:"",position:"",backgroundColor:"",tip:!1,font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",align:"left",minVisibleSize:0,margin:0,padding:0,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,isPositionCenter:!1,isPositionVertical:!1,isPositionHorizontal:!1}}var P6=(e,t)=>{t.haloStroke=t.haloStroke||e.haloStroke,t.halo=t.halo||e.halo,t.outline=t.outline||e.outline,t.outerStroke=t.outerStroke||e.outerStroke,t.body=t.body||e.body,t.pieChart=t.pieChart||e.pieChart,t.image=t.image||e.image,t.icon=t.icon||e.icon;const n=e.badges,r=t.badges;r.topLeft.text=r.topLeft.text||n.topLeft.text,r.topLeft.image=r.topLeft.image||n.topLeft.image,r.topRight.text=r.topRight.text||n.topRight.text,r.topRight.image=r.topRight.image||n.topRight.image,r.bottomLeft.text=r.bottomLeft.text||n.bottomLeft.text,r.bottomLeft.image=r.bottomLeft.image||n.bottomLeft.image,r.bottomRight.text=r.bottomRight.text||n.bottomRight.text,r.bottomRight.image=r.bottomRight.image||n.bottomRight.image;const i=e.texts,s=t.texts;s.primary.text=s.primary.text||i.primary.text,s.primary.background=s.primary.background||i.primary.background,s.primary.tip=s.primary.tip||i.primary.tip,s.secondary.text=s.secondary.text||i.secondary.text,s.secondary.background=s.secondary.background||i.secondary.background,s.secondary.tip=s.secondary.tip||i.secondary.tip},FI=e=>(t,n)=>{n.haloStroke=t.haloStroke[e],n.halo=t.halo[e],n.outline=t.outline[e],n.outerStroke=t.outerStroke[e],n.body=t.body[e],n.pieChart=t.pieChart[e],n.image=t.image[e],n.icon=t.icon[e];const r=t.badges,i=n.badges;i.topLeft.text=r.topLeft.text[e],i.topLeft.image=r.topLeft.image[e],i.topRight.text=r.topRight.text[e],i.topRight.image=r.topRight.image[e],i.bottomLeft.text=r.bottomLeft.text[e],i.bottomLeft.image=r.bottomLeft.image[e],i.bottomRight.text=r.bottomRight.text[e],i.bottomRight.image=r.bottomRight.image[e];const s=t.texts,o=n.texts;o.primary.text=s.primary.text[e],o.primary.background=s.primary.background[e],o.primary.tip=s.primary.tip[e],o.secondary.text=s.secondary.text[e],o.secondary.background=s.secondary.background[e],o.secondary.tip=s.secondary.tip[e]},F6=FI("start"),R6=FI("end"),D6=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,attributes:i,attributesPrev:s}){this._fullComponents=Jl(),this._startComponents=Jl(),this._endComponents=Jl(),this._startFlags=Jl(),this._endFlags=Jl(),this._startInput=zS(),this._endInput=zS(),this._depthInfo=bv(),this._nodePatternAssigned=!1,this._nullElt={id:-1,valid:!0},this._engine=e,this._attributes=i,this._attributesPrev=s,this._helper={imageManager:t,fontManager:n,formatText:r},this._layers=BS(()=>e.createGroup()),this._blockIds=BS(()=>0)}drawNode(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=e,i=this._attributes,s=Td(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.animationDuration.get(e),a=o>0;if(this._prepareBlocks(a,s,r),RS(n,this._endInput,i,e),PS(this._endFlags,this._endInput),a&&(RS(n,this._startInput,this._attributesPrev,e),PS(this._startFlags,this._startInput),P6(this._endFlags,this._startFlags)),this._initComponents(this._fullComponents,this._endFlags,this._layers),R6(this._fullComponents,this._endComponents),IS(t,n,e,i,this._endComponents,this._endInput),a&&(F6(this._fullComponents,this._startComponents),IS(t,n,e,this._attributesPrev,this._startComponents,this._startInput)),a){const l=this._attributes.animationStart.get(e),c=this._attributes.animationEasing.get(e);this._setBlocksAnimation(o,l,c)}this._endFlags.halo&&this._attributes.halo.hideNonAdjacentEdges.get(e)&&(this._layers.halo.stencilUsage=this._layers.haloStroke.stencilUsage=fI),this._storeBlocks()}_computeBlockIds(e){const t=e*am,n=this._blockIds;n.body=t+_j,n.text=t+yj,n.textBg=t+xj,n.halo=t+vj,n.haloStroke=t+bj}_prepareBlocks(e,t,n){const r=this._layers;r.body.reset(Ci,e,t.nodeBody,n),r.text.reset(Wo,e,t.nodeText,n),r.textBg.reset(Ci,e,t.nodeTextBackground,n),r.halo.reset(Ci,e,t.nodeHalo,n),r.haloStroke.reset(Ci,e,t.nodeHaloStroke,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg),e.storeGroup(n.halo,t.halo),e.storeGroup(n.haloStroke,t.haloStroke)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.text),e.freeBlock(t.textBg),e.freeBlock(t.halo),e.freeBlock(t.haloStroke)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.haloStroke.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._nodePatternAssigned=!1,this._initBaseComponents(e,t,n),this._initBadgeComponents(e.badges.topLeft,t.badges.topLeft,n),this._initBadgeComponents(e.badges.topRight,t.badges.topRight,n),this._initBadgeComponents(e.badges.bottomLeft,t.badges.bottomLeft,n),this._initBadgeComponents(e.badges.bottomRight,t.badges.bottomRight,n),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initBaseComponents(e,t,n){e.haloStroke=this._nextElement(t.haloStroke,n.haloStroke),e.halo=this._nextElement(t.halo,n.halo),e.outline=this._nextElement(t.outline,n.body),e.outerStroke=this._nextElement(t.outerStroke,n.body),e.body=this._nextElement(t.body,n.body),e.pieChart=this._getNodePatternElement(t.pieChart,n),e.image=this._getNodePatternElement(t.image,n),e.icon=this._getNodePatternElement(t.icon,n)}_initBadgeComponents(e,t,n){e.image=this._nextElement(t.image,n.body),e.text=this._nextElement(t.text,n.body)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.tip=this._nextElement(t.tip,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}_getNodePatternElement(e,t){return e?this._nodePatternAssigned?t.body.next():(this._nodePatternAssigned=!0,t.body.getCurrentElement()):this._nullElt}};function BS(e){return{body:e(),text:e(),textBg:e(),halo:e(),haloStroke:e()}}function Jl(){return{haloStroke:void 0,halo:void 0,outline:void 0,outerStroke:void 0,body:void 0,pieChart:void 0,image:void 0,icon:void 0,badges:{topLeft:{text:void 0,image:void 0},topRight:{text:void 0,image:void 0},bottomLeft:{text:void 0,image:void 0},bottomRight:{text:void 0,image:void 0}},texts:{primary:{text:void 0,background:void 0,tip:void 0},secondary:{text:void 0,background:void 0,tip:void 0}}}}function z6({graph:e,elements:t,engine:n,imageManager:r,fontManager:i,view:s,attributes:o,boundaries:a,formatText:l}){const{nodeAttributes:c,nodeAttributesPrev:d,edgeAttributes:u,edgeAttributesPrev:h}=O6(o),{nodes:g,edges:p}=t,{maxSize:m,maxMinVisibleSize:_}=a;if(!g.size&&!p.size)return;const y=(Math.max(e.getNodeMaxIndex(),e.getEdgeMaxIndex())+1)*am,f=n.setGlobalBoundaries({maxBlockId:Gs(y),maxScaledSize:Gs(8*m),maxMinVisibleSize:Gs(_),maxSymbolicSize:Gs(m),maxDashLength:3,maxGapLength:1,maxPatternScale:2,maxCoord:-1/0}),x=(f?e.getNodes("_all"):g)._indexes,v=(f?e.getEdges("_all"):p)._indexes;if(x.length){const w=new D6({engine:n,imageManager:r,fontManager:i,formatText:l,attributes:c,attributesPrev:d});for(let b=0;b<x.length;++b)w.drawNode(x[b])}if(v.length){const w=new f6({engine:n,imageManager:r,fontManager:i,formatText:l,view:s,attributes:u,attributesPrev:h,nodeAttributes:c,nodeAttributesPrev:d});for(let b=0;b<v.length;++b)w.drawEdge(v[b])}}function O6(e){const t=Vr(e.nodes.current,{text:{secondary:{scaling:e.nodes.current.text.scaling,maxLineLength:e.nodes.current.text.maxLineLength}}});return{nodeAttributes:t,nodeAttributesPrev:Vr(e.nodes.previous,{textHidden:t.textHidden,text:{secondary:{scaling:e.nodes.previous.text.scaling,maxLineLength:e.nodes.previous.text.maxLineLength}}}),edgeAttributes:Vr(e.edges.current,{text:{secondary:{scaling:e.edges.current.text.scaling,maxLineLength:e.edges.current.text.maxLineLength,adjustAngle:e.edges.current.text.adjustAngle}}}),edgeAttributesPrev:Vr(e.edges.previous,{source:e.edges.current.source,target:e.edges.current.target,textHidden:e.edges.current.textHidden,text:{secondary:{scaling:e.edges.previous.text.scaling,maxLineLength:e.edges.previous.text.maxLineLength,adjustAngle:e.edges.previous.text.adjustAngle}}})}}function RI(e,t,n,r,i,s,o,a=0,l=!1){const c=vn(n,r,i,s),d=(o/2*(l?vn(e,t,i,s)/c:1)+a)/c,u=(i-n)*d,h=(s-r)*d,g=n+h,p=r-u,m=e-g,_=t-p,y=n-h-g,f=r+u-p,x=i+h-g,v=s-u-p,w=m*y+_*f,b=m*x+_*v;return w>0&&w<y*y+f*f&&b>0&&b<x*x+v*v}function B6(e,t,n,r,i=!1){if(i&&(Vu(e,n)||Vu(e,r)||Vu(t,n)||Vu(t,r)))return!1;let s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y);const o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(o===0)return!1;const a=s/o;s=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y);const l=s/o;return!(a<=0||a>=1||l<=0||l>=1)}function Vu(e,t){return e.x===t.x&&e.y===t.y}function Al(e,t,n,r){return Math.atan2(r-t,n-e)}function j6(e,t,n){const r=Al(e.x,e.y,t.x,t.y)-Al(n.x,n.y,t.x,t.y);return r<0?r+2*Math.PI:r}function U6(e,t,n,r,i,s,o,a){const l=(a-s)*(n-e)-(o-i)*(r-t);if(l===0)return null;let c=t-s;return c=((o-i)*c-(a-s)*(e-i))/l,{x:e+c*(n-e),y:t+c*(r-t)}}function mc(e,t,n,r,i,s,o,a){const l=e-n,c=t-r,d=i-o,u=s-a,h=l*u-d*c,g=(c*(e-i)-l*(t-s))/h;if(g<0||g>1)return null;const p=(d*(s-t)+u*(e-i))/h;return p>=0&&p<=1?{x:e-p*l,y:t-p*c}:null}function DI(e,t,n,r,i,s,o,a){let l;const c=[];return l=mc(e,t,n,r,i,s,i,a),l&&c.push(l),l=mc(e,t,n,r,i,a,o,a),l&&c.push(l),l=mc(e,t,n,r,o,a,o,s),l&&c.push(l),l=mc(e,t,n,r,o,s,i,s),l&&c.push(l),c}function Ja(e,t,n,r,i,s,o,a){const l=((o-i)*(t-s)-(a-s)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t)),c=((n-e)*(t-s)-(r-t)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t));return l>=0&&l<=1&&c>=0&&c<=1}function wv(e,t,n,r,i,s,o,a){return e>=i&&t>=s&&e<=o&&t<=a||n>=i&&r>=s&&n<=o&&r<=a||!!Ja(e,t,n,r,i,s,i,a)||!!Ja(e,t,n,r,o,s,o,a)||!!Ja(e,t,n,r,i,s,o,s)||!!Ja(e,t,n,r,i,a,o,a)}function zI(e,t,n){return Math.sqrt(Ev(e.x,e.y,t.x,t.y,n.x,n.y))}function Ev(e,t,n,r,i,s){const o=Oh(n,r,i,s);if(o===0)return Oh(e,t,n,r);let a=((e-n)*(i-n)+(t-r)*(s-r))/o;return a=Math.max(0,Math.min(1,a)),Oh(e,t,n+a*(i-n),r+a*(s-r))}function OI(e,t,n,r,i,s){const o=i-n,a=s-r;if(o===0&&a===0)return{x:n,y:r};const l=((e-n)*o+(t-r)*a)/(o*o+a*a);return l<0?{x:n,y:r}:l>1?{x:i,y:s}:{x:n+l*o,y:r+l*a}}function $6(e,t,n,r,i,s){const o=i-n,a=s-r,l=((e-n)*o+(t-r)*a)/(o*o+a*a);return{x:n+o*l,y:r+a*l}}function Ld(e,t,n){const r=n.length;let i=r-1,s=!1;for(let o=0;o<r;++o)(n[o].y<t&&n[i].y>=t||n[i].y<t&&n[o].y>=t)&&(n[o].x<=e||n[i].x<=e)&&(s=s!==n[o].x+(t-n[o].y)/(n[i].y-n[o].y)*(n[i].x-n[o].x)<e),i=o;return s}function Gu(e){const t=e.x*e.x+e.y*e.y;return{x:e.x/t,y:e.y/t}}function jS(e,t){let n=1/0,r=-1/0;for(let i=0,s=e.length;i<s;i++){const o=e[i],a=o.x*t.x+o.y*t.y;a<n&&(n=a),a>r&&(r=a)}return{x:n,y:r}}function V6(e,t){let n=e[1],r=e[0],i=Gu({x:n.x-r.x,y:n.y-r.y}),s=i.x;i.x=-i.y,i.y=s;const o=i;n=e[2],r=e[1],i=Gu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const a=i;n=t[1],r=t[0],i=Gu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const l=i;return n=t[2],r=t[1],i=Gu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s,[o,a,l,i]}function BI(e,t){const n=V6(e,t);for(let r=0,i=n.length;r<i;r++){const s=n[r],o=jS(e,s),a=jS(t,s);if((o.x<=a.y&&o.y>=a.x?Math.min(o.y,a.y)-Math.max(o.x,a.x):0)===0)return!1}return!0}function Sv(e){let t=0,n=0;const r=e.length;if(r===0)throw new Error("Compute centroid: at least one point is required");for(let i=0;i<r;++i){const s=e[i];t+=s.x,n+=s.y}return t/=r,n/=r,{x:t,y:n}}var G6=Av(4),H6=e8(),W6=Av(5),q6=Av(10,.4),Ys=1/3,X6=[{x:-1,y:-Ys},{x:0,y:-Ys},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:0,y:Ys},{x:-1,y:Ys}],Y6=[{x:-1,y:-Ys},{x:-.55,y:-Ys},{x:-1,y:-1},{x:1,y:0},{x:-1,y:1},{x:-.55,y:Ys},{x:-1,y:Ys}],US=[{x:-.6,y:-.3},{x:.1,y:0},{x:-.6,y:.3}],Z6={circle:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>1-Math.sqrt(e*e+t*t),points:[{x:0,y:0,r:1}],isSimple:!0},square:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],isSimple:!0},line:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:0},{x:1,y:0}],isSimple:!0},triangle:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},arrow:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},"circle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>Math.min(Math.sqrt((e+.4)*(e+.4)+t*t)-.27,(1-e)/2-Math.abs(t)),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:[{x:-.4,y:0,r:.3}],isSimple:!0},"triangle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>{const n=Math.min((1-e)/2-Math.abs(t),1-Math.abs(e)),r=-jI(e,t,US);return Math.min(n,r)},getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:US,isSimple:!0},"short-arrow":Aa(X6,!1),"sharp-arrow":Aa(Y6,!1),cross:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>{const n=Math.abs(e),r=Math.abs(t),i=.31-Math.min(n,r),s=1-Math.max(n,r);return Math.min(i,s)},points:[{x:-1,y:.31},{x:-1,y:-.31},{x:-.31,y:-.31},{x:-.31,y:-1},{x:.31,y:-1},{x:.31,y:-.31},{x:1,y:-.31},{x:1,y:.31},{x:.31,y:.31},{x:.31,y:1},{x:-.31,y:1},{x:-.31,y:.31}],isSimple:!1},diamond:Aa(G6),roundedSquare:Aa(H6),pentagon:Aa(W6),star:Aa(q6)},Q6=["circle","square","roundedSquare","triangle","line"],K6=["cross","diamond","pentagon","star"],J6=["arrow","triangle-hole-arrow","circle-hole-arrow","short-arrow","sharp-arrow"];function $S(e,t){for(const s of Q6)kf(e,s);const n=t.nodes.current.shape.getValues(),r=t.edges.current.shape.head.getValues(),i=t.edges.current.shape.tail.getValues();for(const s of K6)n.includes(s)&&kf(e,s);for(const s of J6)s&&(r.includes(s)||i.includes(s))&&kf(e,s)}function kf(e,t){e.registerShape(t,Z6[t])}function jI(e,t,n){let r=1/0;const i={x:e,y:t};for(let s=0;s<n.length;++s){const o=n[s],a=n[(s+1)%n.length];r=Math.min(r,zI(i,o,a))}return r*(Ld(e,t,n)?1:-1)}function e8(){return new Array(12).fill(0).map((e,t)=>({x:Math.cos(t/12*2*Math.PI),y:Math.sin(t/12*2*Math.PI)}))}function Av(e,t=1){const n=-Math.PI/2+uI,r=[],i=2*Math.PI/e;let s=n;for(let o=0;o<e;++o){const a=o%2==1?t:1;r.push({x:Math.cos(s)*a,y:Math.sin(s)*a}),s+=i}return r}function Aa(e,t=!1){return{getDistanceFromStrokeVertically:()=>1,getDistanceFromStrokeHorizontally:(n,r)=>jI(n,r,e),points:e,isSimple:t}}var t8=class extends eu{constructor(e,t){super(),this.isDummy=!0,this.width=0,this.height=0}set src(e){e&&(this._src=e,setTimeout(()=>{this.onload&&this.onload.call(this),this.width=1,this.height=1,this.fire("load")},10))}get src(){return this._src}addEventListener(e,t){this.on(e,t)}};function n8(e,t){return new(typeof Image<"u"?Image:t8)(e,t)}var r8=class{constructor(){this._images={},this._crossOrigin="anonymous",this._whenReady=[],this._onFetch=[],this._nbLoaded=0,this._nbToLoad=0}setImgCrossOrigin(e){this._crossOrigin=e}clear(){this._images={},this._nbLoaded=0,this._nbToLoad=0}getImage(e){let t=this._images[e];return t===void 0&&(this._nbToLoad+=1,t=n8(),t.crossOrigin=this._crossOrigin,t.onload=()=>this._onImgLoad(e),t.onerror=()=>{this._onImgLoad(e),this._images[e]=null},t.src=e,this._images[e]=t),t}_onImgLoad(e){this._nbLoaded+=1,this._onFetch.forEach(t=>t(e)),this._nbLoaded===this._nbToLoad&&(this._whenReady.forEach(t=>t()),this._whenReady=[])}onFetch(e){this._onFetch.push(e)}whenReady(){return this._nbLoaded===this._nbToLoad?Promise.resolve():new Promise(e=>this._whenReady.push(e))}destroy(){this._whenReady=[],this._onFetch=[]}};function um(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(1-e)*(1-e)*t+2*(1-e)*e*s+e*e*r,a.y=(1-e)*(1-e)*n+2*(1-e)*e*o+e*e*i,a}function kv(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(2*e-2)*t+(2*r-4*s)*e+2*s,a.y=(2*e-2)*n+(2*i-4*o)*e+2*o,fN(a)}function UI(e,t,n,r,i,s,o,a={x:0,y:0}){return kv(e,t,n,r,i,s,n,a),Bg(a.x,a.y,0,0,Math.PI/2,a),a}function $I(e,t,n,r,i,s,o,a,l,c=0,d=!1){const u=n-2*o+i,h=r-2*a+s,g=-((n-e)*h-(r-t)*u)/((2*o-2*n)*h-(2*a-2*r)*u);if(g<0||g>1)return!1;let p=l/2;return d&&(p*=1-g),p+=c,vn(Ka(n,o,i,g),Ka(r,a,s,g),e,t)<=p}function i8(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Fi(r.x,r.y,i.x,i.y,n);return um(t,r.x,r.y,i.x,i.y,s.x,s.y)}function s8(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Fi(r.x,r.y,i.x,i.y,n);return UI(t,r.x,r.y,i.x,i.y,s.x,s.y)}function o8(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Fi(r.x,r.y,i.x,i.y,n);return kv(t,r.x,r.y,i.x,i.y,s.x,s.y)}function Nd(e,t,n,r,i,s,o,a,l,c={x:0,y:0}){const d=(1-e)*(1-e)*(1-e),u=3*e*(1-e)*(1-e),h=3*e*e*(1-e),g=e*e*e;return c.x=d*t+u*s+h*a+g*r,c.y=d*n+u*o+h*l+g*i,c}function VI(e,t,n,r,i,s,o,a,l,c,d,u){const h=vn(n,r,o,a);if(Math.abs(e-n)>h||Math.abs(t-r)>h)return!1;let g=.5,p=vn(e,t,n,r)<vn(e,t,i,s)?-.01:.01,m=100;const _=Nd(g,n,r,i,s,o,a,l,c);let y,f=vn(e,t,_.x,_.y);const x=d/2+u;for(;m-- >0&&g>=0&&g<=1&&f>x&&(p>.001||p<-.001);)y=f,Nd(g,n,r,i,s,o,a,l,c,_),f=vn(e,t,_.x,_.y),f>y?(p=-p/2,g+=p):g+p<0||g+p>1?(p/=2,f=y):g+=p;return f<x}function Cv(e,t,n,r,i,s,o=iv()){const a=e+.6666666666666666*(n-e),l=t+2/3*(r-t);return hm(e,t,a,l,a+1/3*(i-e),l+1/3*(s-t),i,s,o)}function hm(e,t,n,r,i,s,o,a,l=iv()){const{min:c,max:d,sqrt:u}=Math;let h,g,p,m,_;l.minX=c(e,o),l.maxX=d(e,o),l.minY=c(t,a),l.maxY=d(t,a);for(let y,f,x,v,w,b,S,A=0;A<2;++A)if(A===0?(g=e,p=n,m=i,_=o):(g=t,p=r,m=s,_=a),f=6*g-12*p+6*m,y=-3*g+9*p-9*m+3*_,x=3*p-3*g,f|=0,y|=0,x|=0,y!==0)w=f*f-4*x*y,w<0||(b=(-f+u(w))/(2*y),b>0&&b<1&&(h=Cf(b,g,p,m,_),A===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))),S=(-f-u(w))/(2*y),S>0&&S<1&&(h=Cf(S,g,p,m,_),A===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))));else{if(f===0)continue;v=-x/f,v>0&&v<1&&(h=Cf(v,g,p,m,_),A===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h)))}return l}function Cf(e,t,n,r,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*r+Math.pow(e,3)*i}function a8(e,t,n,r,i,s){const o=e-2*n+i,a=t-2*r+s,l=2*n-2*e,c=2*r-2*t,d=4*(o*o+a*a),u=4*(o*l+a*c),h=l*l+c*c,g=2*Math.sqrt(d+u+h),p=Math.sqrt(d),m=2*d*p,_=2*Math.sqrt(h),y=u/p;return(m*g+p*u*(g-_)+(4*h*d-u*u)*Math.log((2*p+y+g)/(y+_)))/(4*m)}var l8={linear:[0,1,0,0],quadraticIn:[0,0,1,0],quadraticOut:[0,2,-1,0],quadraticInOut:[0,0,2,0,-1,4,-2,0],cubicIn:[0,0,0,1],cubicOut:[0,3,-3,1],cubicInOut:[0,0,0,4,-3,12,-12,4]},c8=class{constructor(){this._linearEasing=[0,1,0,0,0,1,0,0],this._nameToPolygon={},this._polygonToName={},this.add(l8)}add(e){Object.keys(e).forEach(t=>{const n=e[t].slice();n.length<8&&(n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3]);const r=p_(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]);this._nameToPolygon[t]=n,this._polygonToName[r]=t})}getCoefficients(e){return this._nameToPolygon[e]||this._linearEasing}getName(e,t,n,r,i,s,o,a){const l=p_(e,t,n,r,i,s,o,a);return this._polygonToName[l]||"linear"}},Tv=new c8,d8={left:{x:-1,y:0},right:{x:1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},center:{x:0,y:0}},u8=[{name:"topLeft",dx:-1,dy:-1},{name:"topRight",dx:1,dy:-1},{name:"bottomLeft",dx:-1,dy:1},{name:"bottomRight",dx:1,dy:1}],rs={x:0,y:0};function h8(e,t,n,r,i,s,o,a,l,c,d,u){s=s||o.getNodes()._indexes;const h=l.getZoom(),g=o.getObjectList(!0),p=a.getFlexArrays().nodes.current;let m=1/0,_=0,y=!1,f=-1/0;a.update();for(let x=0;x<s.length;++x){const v=s[x];if(p.excluded.get(v)||!p.detectable.get(v)||d.has(v))continue;const w=p.x.get(v),b=p.y.get(v),S=p.layer.get(v);if(S<f)continue;rs.x=w,rs.y=b;const A=l.graphToScreenCoordinates(rs),C=A.x,k=A.y,N=p.shape.get(v),R=p.scalingMethod.get(v)==="scaled",B=p.radius.get(v)*(R?h:1),H=B+i,F=(e-C)/H,T=(t-k)/H;if(rs.x=e,rs.y=t,r&&GI(rs,v,a,l,c)&&(y=!0),!y&&c.checkShapeHit(N,F,T)){const W=o.getAttribute(!0,"virtual").get(v)!==0;if(H>m&&W)continue;m=H}else if(!y&&n){const W=u(p.text.content.get(v)||null),G=p.textHidden.get(v),Y=p.text.minVisibleSize.get(v);if(G||!W||(R?2*B:1/0)<Y)continue;const ee=_v(W,p.text.maxLineLength.get(v)),J=p.innerStroke.width.get(v),ue=p.text.margin.get(v),Ae=p.text.padding.get(v),ce=p.text.size.get(v),_e=p.text.scale.get(v),ze=p.text.scaling.get(v),Me=p.text.font.get(v),We=p.text.style.get(v),he=p.text.position.get(v),ye=c.measureText(ee,Me,We,1),Ze=ze?_e*B*2:ce,tt=ye.width*Ze/2+Ae,ut=ye.height*Ze/2+Ae,st=d8[he],Z=J+ue+B,te=C+(Z+tt)*st.x,se=k+(Z+ut)*st.y;if(e<=te-tt||e>=te+tt||t<=se-ut||t>=se+ut)continue}_=v,f=S}return g.get(_)||null}var VS=Math.cos(Math.PI/4);function GI(e,t,n,r,i){const s=n.getFlexArrays().nodes.current,o=r.getZoom(),a=s.scalingMethod.get(t)==="scaled",l=s.radius.get(t)*(a?o:1),c=s.x.get(t),d=s.y.get(t);for(let u=0;u<4;u++){const{name:h,dx:g,dy:p}=u8[u],m=s.badges[h].stroke.width.get(t),_=s.badges[h].stroke.scalingMethod.get(t)==="scaled",y=s.badges[h].scale.get(t)*l+(_?o:1)*m,f=s.badges[h].minVisibleSize.get(t)/2,x=s.badges[h].positionScale.get(t);if(!s.badges[h].text.content.get(t)&&!s.badges[h].image.url.get(t)||y<f)continue;const v=r.graphToScreenCoordinates({x:c+s.radius.get(t)*x*g*VS,y:d+s.radius.get(t)*x*p*VS}),{x:w,y:b}=v,S=(e.x-w)/y,A=(e.y-b)/y;if(i.checkShapeHit("circle",S,A))return h}}function g8(e,t,n,r,i,s,o,a,l){i=i||s.getEdges()._indexes;const c=s.getObjectList(!1),d=l.getFlexArrays(),u=d.edges.current,h=d.nodes.current,g=o.getZoom(),p=r/g;rs.x=e,rs.y=t;const m=o.screenToGraphCoordinates(rs),_=m.x,y=m.y;let f=0;l.update();for(let x=0;x<i.length;++x){const v=i[x],w=u.source.get(v),b=u.target.get(v),S=u.excluded.get(v),A=u.detectable.get(v),C=a.has(w),k=a.has(b);if(S||!A||C||k)continue;const N=w===b,R=u.curvature.get(v),B=u.shape.body.get(v)==="triangle",H=u.scalingMethod.get(v)==="scaled",F=u.width.get(v)/(H?1:g),T=h.x.get(w),W=h.y.get(w),G=h.x.get(b),Y=h.y.get(b);if(N){const ee=h.scalingMethod.get(w)==="scaled",J=ma(T,W,R,h.radius.get(w)/(ee?1:g),0);if(!VI(_,y,T,W,T,W,J.x1,J.y1,J.x2,J.y2,F,p))continue}else if(R!==0){const ee=Fi(T,W,G,Y,R);if(!$I(_,y,T,W,G,Y,ee.x,ee.y,F,p,B))continue}else if(!RI(_,y,T,W,G,Y,F,p,B))continue;f=v}return c.get(f)||null}function p8(e){const t=e.getNodeAttribute("radius"),n=e.getEdgeAttribute("width"),r=e.getNodes(),i=e.getEdges();let s=0,o=0;for(let a=0;a<r._indexes.length;a++){const l=r._indexes[a],c=t.get(l);c>s&&(s=c)}for(let a=0;a<i._indexes.length;a++){const l=i._indexes[a],c=n.get(l);c>o&&(o=c)}return Math.max(2*s,o)}function m8(e){return e===null?"none":e==="webgl"?"WebGL":e==="svg"?"SVG":e==="canvas"?"Canvas":e}function HI(e,t,n,r){const i=(e-t)/n,s=i*i,o=s*i,a=Tv.getCoefficients(r),l=i<.5?0:4;return Wr(a[l]+a[l+1]*i+a[l+2]*s+a[l+3]*o,0,1)}function fc(e,t,n,r){if(e===t)return e;const[i,s,o,a]=yr(e),[l,c,d,u]=yr(t);return`rgba(${Math.round(255*zt(i,l,n))},${Math.round(255*zt(s,c,n))},${Math.round(255*zt(o,d,n))},${zt(a,u,r)})`}var f8=class{constructor({elementSize:e,sideElementSize:t,nbSideElementsPerMainElement:n,id:r,depth:i,elementType:s,animated:o,stencilUsage:a}){this._nbCellsAllocated=0,this._nbCellsFreed=0,this._isFullyAllocated=!1,this._isFullyFreed=!1,this._mustUpdate=!0,this._capacity=yv,this.version=0,this._id=r,this.depth=i,this.type=s,this.animated=o,this.stencilUsage=a,this.elementSize=e,this._sideElementSize=t,this._nbSideElementsPerMainElement=n,this._totalSideElementsSize=n*t,this._byteCapacity=this._capacity*this.elementSize,this._byteArray=new Uint8Array(this._byteCapacity),this._dataView=new DataView(this._byteArray.buffer),this._sideByteCapacity=this._capacity*this._totalSideElementsSize,this._sideByteArray=new Uint8Array(this._sideByteCapacity),this._sideDataView=new DataView(this._sideByteArray.buffer)}update(){this._mustUpdate&&(this.version+=1,this._mustUpdate=!1,this._isFullyAllocated&&this._nbCellsFreed===this._nbCellsAllocated&&(this._isFullyFreed=!0))}allocate(e){let t=-1;return!this._isFullyAllocated&&this._nbCellsAllocated+e<=this._capacity?(t=this._nbCellsAllocated,this._nbCellsAllocated+=e,this._mustUpdate=!0):this._isFullyAllocated=!0,t}free(e,t){for(let n=0;n<t;n++){const r=(e+n)*this.elementSize;this._dataView.setUint16(r,0)}this._mustUpdate=!0,this._nbCellsFreed+=t}triggerUpdate(){this._mustUpdate=!0}isEmpty(){return this._nbCellsFreed===this._nbCellsAllocated}isFullyFreed(){return this._isFullyFreed}getId(){return this._id}getDataView(){return this._dataView}getByteArray(){return this._byteArray}getSize(){return this._nbCellsAllocated}getNbSideElementsPerMainElement(){return this._nbSideElementsPerMainElement}hasSideData(){return this._nbSideElementsPerMainElement>0}getSideDataView(){return this._sideDataView}getSideByteArray(){return this._sideByteArray}getTotalSideElementsSize(){return this._totalSideElementsSize}},GS=8,_8=class{constructor(){this.version=0,this.version=0,this._blockInfo={buffer:null,offset:0,size:0,address:0},this._init_()}reset(){this._init_()}_init_(){this._buffersByDepth=new Array(100),this._buffersById=[],this._buffersByAscendingDepth=[],this._buffersByDescendingDepth=[],this._mustUpdate=!0}_fillBlockInfo(e,t,n,r){return this._blockInfo.buffer=e,this._blockInfo.offset=t,this._blockInfo.size=n,this._blockInfo.address=r,this._blockInfo}_createBuffer(e,t,n,r,i){const s=t?e6:Sl,o=this._buffersById.length,a=new f8({elementSize:s,sideElementSize:$h,nbSideElementsPerMainElement:r,id:o,depth:n,elementType:e,animated:t,stencilUsage:i});return this._buffersById.push(a),a}getBlockInfo(e){return this._fillBlockInfo(this._buffersById[e>>Yj],(e>>vv)%yv,e%xv,e)}allocateBlock(e,t,n,r,i,s,o){const a=x8(s,GS);this._mustUpdate=!0;let l=null,c=-1;if(e){const u=this.getBlockInfo(e),h=u.buffer,g=u.offset,p=u.size,m=u.size===i,_=h.depth===r,y=h.type===t,f=h.animated===n,x=h.getNbSideElementsPerMainElement()===a,v=h.stencilUsage===o;m&&_&&y&&f&&x&&v?(h.triggerUpdate(),l=h,c=g):h.free(g,p)}if(c===-1){const u=+n,h=a/GS,g=this._buffersByDepth[r]||Array(2);this._buffersByDepth[r]=g;const p=g[u]||[];g[u]=p;const m=p[t]||Array(16);p[t]=m;const _=m[h]||Array(4);m[h]=_;const y=_[o]||[];_[o]=y;const f=y[y.length-1];f&&(l=f,c=f.allocate(i)),c===-1&&(l=this._createBuffer(t,n,r,a,o),c=l.allocate(i),y.push(l))}const d=y8(l.getId(),c,i);return this._fillBlockInfo(l,c,i,d)}freeBlock(e){if(e){this._mustUpdate=!0;const t=this.getBlockInfo(e);t.buffer.free(t.offset,t.size)}return 0}_sortBuffersByDepth(){const e=[];for(let t=0;t<this._buffersByDepth.length;t++){const n=this._buffersByDepth[t];if(n)for(let r=0;r<n.length;r++){const i=n[r];if(i)for(let s=0;s<i.length;s++){const o=i[s];if(o)for(let a=0;a<o.length;a++){const l=o[a];if(l)for(let c=0;c<l.length;c++){const d=l[c];if(d)for(let u=0;u<d.length;u++){const h=d[u];h.update(),h.isFullyFreed()?(this._buffersById[h.getId()]=void 0,d.splice(u,1),u-=1):e.push(h)}}}}}}this._buffersByAscendingDepth=e,this._buffersByDescendingDepth=e.slice().reverse()}update(){this._mustUpdate&&(this._sortBuffersByDepth(),this.version+=1,this._mustUpdate=!1)}getBuffers(){return this._buffersById}getBuffersByAscendingDepth(){return this._buffersByAscendingDepth}getBuffersByDescendingDepth(){return this._buffersByDescendingDepth}};function y8(e,t,n){return((e<<EI)+t<<vv)+n}function x8(e,t){let n=0;for(;n<e;)n+=t;return n}function HS(){return{pieceId:0,shape:"circle",x1:0,y1:0,x2:0,y2:0,rectWidthOrSourceRadiusScaled:0,rectWidthOrSourceRadiusFixed:0,rectHeightOrTargetRadiusScaled:0,rectHeightOrTargetRadiusFixed:0,thicknessOrFontSizeScaled:0,thicknessOrFontSizeFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,offsetScaled:0,offsetFixed:0,pattern:{id:void 0,type:0,attributes:{}},opacity:1,fillColor:null,strokeColor:null,patternColor:null,globalMinVisibleSize:0,strokeMinVisibleSize:0,patternMinVisibleSize:0,offsetAngle:0,patternScale:0,symbolicSize:-1,curvature:0,dashLength:0,gapLength:0,hasHead:!1,hasTail:!1,isBodyTriangle:!1,isSelfLoop:!1,isText:!1,adjustTextAngle:!1,isBadge:!1,unusedFlag2:!1,unusedFlag3:!1}}function WS(e={}){return e.pieceId=0,e.shape="",e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=0,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=0,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern=e.pattern||{type:0,attributes:{}},e.pattern.type=0,e.opacity=1,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1,e.isSelfLoop=!1,e.isText=!1,e.adjustTextAngle=!1,e.isBadge=!1,e.unusedFlag2=!1,e.unusedFlag3=!1,e}function v8(e={}){return e.duration=0,e.beginTime=-1,e.easing="linear",e}function Lv(){return{valid:!1,id:void 0,end:HS(),start:HS(),animation:{duration:0,beginTime:-1,easing:"linear"}}}function WI(e,t,n,r){e.width=t*r,e.height=n*r,da(e,`${t}px`,`${n}px`)}var b8=class{constructor(){this._capacity=xv,this._id=0,this.size=0,this.depth=0,this.animated=!1,this.stencilUsage=dl,this.type=Ci,this._list=Array(this._capacity);for(let e=0;e<this._capacity;++e)this._list[e]=Lv()}reset(e,t,n,r){return this.type=e,this.animated=t,this.depth=n,r!==void 0&&(this._id=r),this.stencilUsage=dl,this.size=0,this}next(){if(this.size>=this._capacity)throw new Error("internal error: block.next() was called on a full block");return this._list[this.size++]}nextAndReset(){const e=this.next();return e.end=WS(e.end),e.start=WS(e.start),e.animation=v8(e.animation),e}forEach(e){this._list.forEach(e)}getElement(e){return this._list[e]}getCurrentElement(){return this._list[this.size-1]}getElements(){return this._list}getId(){return this._id}setGlobalAnimation(e,t,n){for(let r=0;r<this.size;++r){const i=this._list[r].animation;i.duration=e,i.beginTime=t,i.easing=n}}},w8=class{constructor(){this._version=0,this._initialize()}reset(){this._initialize()}_initialize(){this._mustUpdate=!0,this.maxCoord=0,this.maxScaledSize=0,this.maxMinVisibleSize=0,this.maxSymbolicSize=0,this.maxDashLength=0,this.maxGapLength=0,this.maxPatternScale=0}set({maxCoord:e,maxScaledSize:t,maxMinVisibleSize:n,maxSymbolicSize:r,maxDashLength:i,maxGapLength:s,maxPatternScale:o}){const a=this.maxCoord<e||this.maxScaledSize<t||this.maxMinVisibleSize<n||this.maxSymbolicSize<r||this.maxDashLength<i||this.maxGapLength<s||this.maxPatternScale<o;return a&&(this.maxCoord=e,this.maxScaledSize=t,this.maxMinVisibleSize=n,this.maxSymbolicSize=r,this.maxDashLength=i,this.maxGapLength=s,this.maxPatternScale=o,this._mustUpdate=!0),a}update(){return this._mustUpdate&&(this._version+=1,this._mustUpdate=!1),this}getVersion(){return this._version}},E8=class{constructor(e,t,n,r,i){this._littleEndian=qp(),this._maxScaledSize=0,this._maxMinVisibleSize=0,this._maxSymbolicSize=0,this._maxDashLength=0,this._maxGapLength=0,this._maxPatternScale=0,this._actualScaledSizeToBytes=Zj,this._actualMinVisibleSizeToBytes=D_,this._actualSymbolicSizeToBytes=Za,this._actualDashLengthToBytes=Qa,this._actualGapLengthToBytes=Qa,this._actualPatternScaleToBytes=Za,this._genericObject=Lv(),this._shapeManager=t,this._patternManager=e,this._textManager=n,this._bufferOfsetToId=r,this._colorParser=i}resizeBoundaries(e,t,n,r,i,s){this._maxScaledSize=e,this._maxMinVisibleSize=t,this._maxSymbolicSize=n,this._maxDashLength=r,this._maxGapLength=i,this._maxPatternScale=s,this._actualScaledSizeToBytes=SI/e,this._actualMinVisibleSizeToBytes=D_/t,this._actualSymbolicSizeToBytes=Za/n,this._actualDashLengthToBytes=Qa/r,this._actualGapLengthToBytes=Qa/i,this._actualPatternScaleToBytes=Za/s}storeGenericObject(e,t,n){const r=this._shapeManager.getIdFromName(n.shape),i=n.pieceId,s=this._dashLengthToBytes(n.dashLength),o=this._gapLengthToBytes(n.gapLength),a=+n.hasHead,l=+n.hasTail,c=+n.isBodyTriangle,d=+n.isSelfLoop,u=this._patternScaleToBytes(n.patternScale),h=this._offsetAngleToBytes(n.offsetAngle),g=+n.isText,p=+n.adjustTextAngle,m=+n.isBadge,_=+n.unusedFlag2,y=+n.unusedFlag3,f=this._opacityToBytes(n.opacity),x=this._minVisibleSizeToBytes(n.globalMinVisibleSize),v=this._minVisibleSizeToBytes(n.strokeMinVisibleSize),w=this._minVisibleSizeToBytes(n.patternMinVisibleSize),b=this._symbolicSizeToBytes(n.symbolicSize),S=this._curvatureToBytes(n.curvature),A=n.pattern.attributes.colors;A&&(n.pattern.attributes.colors=A.split(";").map(ut=>Hu(this._colorToBytes(ut.trim()))).join(";"));const C=this._patternManager.getIdFromDefinition(n.pattern),k=this._colorToBytes(n.fillColor),N=this._colorToBytes(n.strokeColor),R=this._colorToBytes(n.patternColor),B=this._coordToBytes(n.x1),H=this._coordToBytes(n.y1),F=this._coordToBytes(n.x2),T=this._coordToBytes(n.y2),W=this._scaledSizeToBytes(n.rectWidthOrSourceRadiusScaled),G=this._fixedSizeToBytes(n.rectWidthOrSourceRadiusFixed),Y=this._scaledSizeToBytes(n.rectHeightOrTargetRadiusScaled),ee=this._fixedSizeToBytes(n.rectHeightOrTargetRadiusFixed),J=this._scaledSizeToBytes(n.thicknessOrFontSizeScaled),ue=this._fixedSizeToBytes(n.thicknessOrFontSizeFixed),Ae=this._scaledSizeToBytes(n.strokeWidthScaled),ce=this._fixedSizeToBytes(n.strokeWidthFixed),_e=this._scaledSizeToBytes(n.offsetScaled),ze=this._fixedSizeToBytes(n.offsetFixed),Me=this._fixedSizeToBytes(n.pattern.attributes.paddingTop||0),We=this._fixedSizeToBytes(n.pattern.attributes.paddingLeft||0),he=r+(i<<4)+(s<<8)+(o<<10)+(a<<12)+(l<<13)+(c<<14)+(d<<15),ye=u+(h<<8)+(g<<11)+(p<<12)+(m<<13)+(_<<14)+(y<<15),Ze=f+(x<<4)+(v<<8)+(w<<12),tt=b+(S<<8);this._setUint16(e,t+0,he),this._setUint16(e,t+2,ye),this._setUint16(e,t+4,Ze),this._setUint16(e,t+6,tt),this._setUint16(e,t+8,C),this._setUint16(e,t+10,k),this._setUint16(e,t+12,N),this._setUint16(e,t+14,R),this._setFloat32(e,t+16,B),this._setFloat32(e,t+20,H),this._setFloat32(e,t+24,F),this._setFloat32(e,t+28,T),this._setUint16(e,t+32,W),this._setUint16(e,t+34,G),this._setUint16(e,t+36,Y),this._setUint16(e,t+38,ee),this._setUint16(e,t+40,J),this._setUint16(e,t+42,ue),this._setUint16(e,t+44,Ae),this._setUint16(e,t+46,ce),this._setUint16(e,t+48,_e),this._setInt16(e,t+50,ze),this._setInt16(e,t+52,Me),this._setInt16(e,t+54,We)}_setUint16(e,t,n){e.setUint16(t,n,this._littleEndian)}_setInt16(e,t,n){e.setUint16(t,this._signedToUnsignedInt16(n),this._littleEndian)}_setFloat32(e,t,n){e.setFloat32(t,n,this._littleEndian)}_colorToBytes(e){const t=this._colorParser(e);return Math.round(15*t[0])+(Math.round(15*t[1])<<4)+(Math.round(15*t[2])<<8)+(Math.round(15*t[3])<<12)}_coordToBytes(e){return e}_scaledSizeToBytes(e){return Math.ceil(Math.min(e,this._maxScaledSize)*this._actualScaledSizeToBytes)}_fixedSizeToBytes(e){return e}_minVisibleSizeToBytes(e){return Math.round(Math.min(e,this._maxMinVisibleSize)*this._actualMinVisibleSizeToBytes)}_symbolicSizeToBytes(e){return Math.round(Math.min(e,this._maxSymbolicSize)*this._actualSymbolicSizeToBytes)}_dashLengthToBytes(e){return Math.round(Math.min(e,this._maxDashLength)*this._actualDashLengthToBytes)}_gapLengthToBytes(e){return Math.round(Math.min(e,this._maxGapLength)*this._actualGapLengthToBytes)}_patternScaleToBytes(e){return Math.round(Math.min(e,this._maxPatternScale)*this._actualPatternScaleToBytes)}_offsetAngleToBytes(e){return Math.round((e+jc)%jc*(8/jc))}_opacityToBytes(e){return Math.round(15*Math.min(e,1))}_curvatureToBytes(e){return this._signedToUnsignedByte(e)}_signedToUnsignedByte(e){return Wr(e,-128,127)+128}_signedToUnsignedInt16(e){return Wr(e,-32768,32767)+32768}storeAnimationInformation(e,t,{beginTime:n,duration:r},i){this._setAnimationBeginTime(e,t,n),this._setAnimationDuration(e,t,r),this._setAnimationEasing(e,t,i)}_setAnimationBeginTime(e,t,n){this._setFloat32(e,t,n)}_setAnimationDuration(e,t,n){this._setFloat32(e,t+4,n)}_setAnimationEasing(e,t,n){this._setUint16(e,t+8,(n[0]+128<<8)+(n[4]+128)),this._setUint16(e,t+10,(n[1]+128<<8)+(n[5]+128)),this._setUint16(e,t+12,(n[2]+128<<8)+(n[6]+128)),this._setUint16(e,t+14,(n[3]+128<<8)+(n[7]+128))}extractGenericElement(e,t,n){const r=e.type,i=e.animated,s=e.getDataView(),o=t*e.elementSize,a=this._genericObject;if(a.valid=!1,s.getUint16(o)&&(a.valid=!0,this._extractGenericObject(a.end,s,o,n),i&&(this._extractGenericObject(a.start,s,o+Sl,n),this._extractAnimationInformation(a.animation,s,o+2*Sl)),a.id=this._bufferOfsetToId.get(e.getId(),t),r===Wo)){const l=e.getSideDataView(),c=t*e.getTotalSideElementsSize(),d=c+e.getTotalSideElementsSize();a.end.pattern=this._textManager.extractTextFromDataView(l,c,d)}return a}_extractGenericObject(e,t,n,{bytesToActualCoord:r,bytesToActualScaledSize:i,bytesToActualMinVisibleSize:s,bytesToActualPatternScale:o,bytesToActualSymbolicSize:a,bytesToActualDashLength:l,bytesToActualGapLength:c}){const d=t,u=n,h=this._littleEndian,g=d.getUint16(u,h),p=tn(g,0,4),m=tn(g,4,8),_=tn(g,8,10),y=tn(g,10,12),f=tn(g,12,13),x=tn(g,13,14),v=tn(g,14,15),w=tn(g,15,16),b=d.getUint16(u+2,h),S=tn(b,0,8),A=tn(b,8,11),C=tn(b,11,12),k=tn(b,12,13),N=tn(b,13,14),R=tn(b,14,15),B=tn(b,15,16),H=d.getUint16(u+4,h),F=tn(H,0,4),T=tn(H,4,8),W=tn(H,8,12),G=tn(H,12,16),Y=d.getUint16(u+6,h),ee=tn(Y,0,8),J=tn(Y,8,16),ue=d.getUint16(u+8,h),Ae=d.getUint16(u+10,h),ce=d.getUint16(u+12,h),_e=d.getUint16(u+14,h),ze=d.getFloat32(u+16,h),Me=d.getFloat32(u+20,h),We=d.getFloat32(u+24,h),he=d.getFloat32(u+28,h),ye=d.getUint16(u+32,h),Ze=d.getUint16(u+34,h),tt=d.getUint16(u+36,h),ut=d.getUint16(u+38,h),st=d.getUint16(u+40,h),Z=d.getUint16(u+42,h),te=d.getUint16(u+44,h),se=d.getUint16(u+46,h),oe=d.getUint16(u+48,h),ge=Tf(d.getUint16(u+50,h)),pe=Tf(d.getUint16(u+52,h)),Oe=Tf(d.getUint16(u+54,h));e.pieceId=m,e.shape=this._shapeManager.getNameFromId(p),e.x1=Qr(ze,r),e.y1=Qr(Me,r),e.x2=Qr(We,r),e.y2=Qr(he,r),e.rectWidthOrSourceRadiusScaled=Qr(ye,i),e.rectWidthOrSourceRadiusFixed=Ze,e.rectHeightOrTargetRadiusScaled=Qr(tt,i),e.rectHeightOrTargetRadiusFixed=ut,e.thicknessOrFontSizeScaled=Qr(st,i),e.thicknessOrFontSizeFixed=Z,e.strokeWidthScaled=Qr(te,i),e.strokeWidthFixed=se,e.offsetScaled=Qr(oe,i),e.offsetFixed=ge,e.pattern=this._patternManager.getDefinitionFromId(ue),e.pattern.attributes.paddingTop=pe,e.pattern.attributes.paddingLeft=Oe,e.opacity=F/15,e.fillColor=Hu(Ae),e.strokeColor=Hu(ce),e.patternColor=Hu(_e),e.globalMinVisibleSize=Qr(T,s),e.strokeMinVisibleSize=Qr(W,s),e.patternMinVisibleSize=Qr(G,s),e.offsetAngle=A*(2*Math.PI/8),e.patternScale=S*o,e.symbolicSize=ee*a,e.curvature=S8(J),e.dashLength=_*l,e.gapLength=y*c,e.hasHead=!!f,e.hasTail=!!x,e.isBodyTriangle=!!v,e.isSelfLoop=!!w,e.isText=!!C,e.adjustTextAngle=!!k,e.isBadge=!!N,e.unusedFlag2=!!R,e.unusedFlag3=!!B}_extractAnimationInformation(e,t,n){const r=this._littleEndian,i=t.getFloat32(n,r),s=t.getFloat32(n+4,r),o=t.getUint16(n+8,r),a=t.getUint16(n+10,r),l=t.getUint16(n+12,r),c=t.getUint16(n+14,r),d=(o>>8)-128,u=(a>>8)-128,h=(l>>8)-128,g=(c>>8)-128,p=o%256-128,m=a%256-128,_=l%256-128,y=c%256-128;e.beginTime=i,e.duration=s,e.easing=Tv.getName(d,u,h,g,p,m,_,y)}};function tn(e,t,n){return e%(1<<n)>>t}function S8(e){return e-128}function Tf(e){return e-32768}function Qr(e,t){return e*t}var qS=new Array(65535);function Hu(e){let t=qS[e];if(!t){const n=tn(e,0,4)/15,r=tn(e,4,8)/15,i=tn(e,8,12)/15,s=tn(e,12,16)/15;t=`rgba(${255*n|0}, ${255*r|0}, ${255*i|0}, ${s})`,n+r+i+s===0&&(t=null),qS[e]=t}return t}var A8={[lo]:"image",[ru]:"piechart",[Oo]:"text",[qo]:"icon",[Xo]:"badge"},k8=class{constructor(){this._pixelRatio=1,this._nextPatternId=1,this._version=0,this._init_()}reset(){this._init_()}_init_(){this._mustUpdate=!0,this._nextPatternId=1,this._patterns=[null],this._patternsByHash={},this._pixelRatio=1,this._nullPattern={id:-1,type:R_,attributes:{}}}_increaseNextId(){let e=this._nextPatternId++;for(e%256==255&&(e=this._nextPatternId++);this._patterns.length<=e;)this._patterns.push(void 0);return e}_createPattern({type:e,attributes:t}){const n={id:this._increaseNextId(),type:e,attributes:this._cloneAttributes(e,t)};return this._patterns[n.id]=n,this._mustUpdate=!0,n}_cloneAttributes(e,t){return e===lo?{image:t.image,scaled:t.scaled,duplicated:t.duplicated}:e===Oo||e===qo||e===Xo?{font:t.font,size:t.size,style:t.style,text:t.text,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,align:t.align||"center",offset:t.offset||0}:e===ru&&t.colors?{colors:t.colors,colorArray:t.colors.split(";").map(n=>n.trim())}:{}}getPatternList(){return this._patterns.filter(e=>e)}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}setPixelRatio(e){e!==this._pixelRatio&&(this._pixelRatio=e,this._mustUpdate=!0)}getPixelRatio(){return this._pixelRatio}notifyUpdate(){this._mustUpdate=!0}getIdFromDefinition(e){const{type:t,attributes:n}=e,r=t===Oo||t===qo||t===Xo;let i=0;return t&&t!==R_&&t!==mo&&(t!==lo||n.image)&&(!r||n.text&&n.font)&&(i=this._addPattern(e),t===Oo&&n.style==="normal"&&(n.style="bold",this._addPattern(e))),i}_addPattern(e){const t=this._getPatternHash(e);let n=this._patternsByHash[t];return n||(this._nextPatternId>65500?ao("maximum number of pattern exceeded"):(n=this._createPattern(e).id,this._patternsByHash[t]=n)),n}_getPatternHash({type:e,attributes:t}){const n=[A8[e]];return e===lo?n.push(t.scaled?"scaled":"non-scaled",t.duplicated?"duplicated":"non-duplicated",t.image.src||t.image.toDataURL()):e===Oo?n.push(t.text,t.font,t.style,t.size,t.align||"center",t.offset||0):e===qo||e===Xo?n.push(t.text,t.font,t.style,t.size,t.paddingLeft,t.paddingTop):n.push(t.colors),n.join("+")}getDefinitionFromId(e){if(e&&this._patterns[e]){const t=this._patterns[e];if(t)return t}return this._nullPattern}getVersion(){return this._version}};function XS(e){return e.map(({x:t,y:n,r=0})=>({x:t,y:n,r}))}var C8=class{constructor(){this._version=0,this._mustUpdate=!0,this._byName={},this._byId=new Array(Hg+1)}register(e,{getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:r,hole:i,isSimple:s}){if(this._byName[e])return;let o=s?1:z_;const a=s?z_-1:Hg;for(;this._byId[o];)o+=1;if(o>a)throw new Error("max number of shape exceeded");const l={id:o,name:e,getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:XS(r.slice()),hole:i?XS(i.slice()):null,isSimple:!!s};return this._mustUpdate=!0,this._byId[o]=l,this._byName[e]=l,l}getIdFromName(e){return this._byName[e].id}getNameFromId(e){const t=this._byId[e];return t?t.name:""}getDefinitionFromName(e){return this._byName[e]}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}getVersion(){return this._version}getShapeList(){return this._byId.filter(e=>e)}},Lf=qp(),Wu=10,T8=1<<17,L8=65536,N8=256,YS=128,I8=25,qI=1e3,U_=2,M8=class{constructor(e){this._patternManager=e,this._canvas=Dn(),this._ctx=this._canvas.getContext("2d",{willReadFrequently:!0}),this._processBidirectionalText=bI().processBidirectionalText,this._cornerRadius=0,this._version=0,this._textPattern={id:0,type:mo,attributes:{text:"",font:"",size:0,style:"normal",align:"center"},dimensions:{width:0,height:0}},this._textDimensions={width:0,height:0},this._lineWidthList=new Array(64),this._init()}_init(){this._mustClear=!1,this._clear()}reset(){this._init()}clear(){this._mustClear=!0}_measureChar(e,t,n){return ho(this._ctx,t,Cd,n),this._ctx.measureText(e).width/Cd}_getAtlas(e,t,n,r){const i=n===nu?0:n,s=this._byFont[e]||(this._byFont[e]={none:void 0,bold:void 0,italic:void 0,normal:void 0}),o=s[r]||(s[r]={}),a=o[t]||(o[t]=new Array(50));return a[i]||(a[i]=new Array(256))}_getMeasurementAtlas(e,t){const n=this._widthAtlases[t];return n[e]||(n[e]=new Array(256))}measureText(e,t,n,r=1){if(!t)return this._textDimensions.width=0,this._textDimensions.height=0,this._textDimensions;const i=this._getMeasurementAtlas(t,n);let s=0,o=0,a=1;for(let l=0;l<e.length;++l){const c=e.charCodeAt(l);if(c===Wu)o>s&&(s=o),o=0,a+=1;else{let d=i[c];d===void 0&&(d=this._measureChar(e[l],t,n),i[c]=d),o+=d}}return o>s&&(s=o),this._textDimensions.width=s*r,this._textDimensions.height=a*r,this._textDimensions}_getCharInfo(e,t,n,r,i,s){let o=e[t];if(!o){const a=String.fromCharCode(t);o={ratio:this._measureChar(a,n,r),patternId:0},o.patternId=this._patternManager.getIdFromDefinition({id:0,type:Oo,attributes:{text:a,font:n,style:r,size:i,align:s}}),e[t]=o}return o}storeTextInDataView(e,t,n,r){let i=t;if(r&&r.type===mo){const{font:s,style:o,size:a,align:l}=r.attributes,c=l==="center",d=this._getAtlas(s,o,a,l);let u=0,h=1,g=0,p=0;const m=this._lineWidthList,_=this._processBidirectionalText(r.attributes.text);for(let v=0;v<_.length;++v){const w=_.charCodeAt(v);w===Wu?(g>u&&(u=g),m[p]=g,p++,g=0,h++):g+=this._getCharInfo(d,w,s,o,a,l).ratio}m[p]=g,g>u&&(u=g),p=0;let y=-(c?m[p]:u)/2,f=(1-h)/2,x=0;for(let v=0;v<_.length;++v){const w=_.charCodeAt(v),b=d[w];if(w===Wu)p+=1,y=-(c?m[p]:u)/2,f+=v===0?.5:1,x=0;else{const S=b.ratio,A=b.patternId;y+=(S+x)/2,x=S;const C=(Wr(y*qI+L8,0,T8-1)<<8)+Wr(f*U_+YS,0,N8-1);e.setUint16(i,A,Lf),e.setUint32(i+2,C,Lf),i+=$h}}}this._fillWithZeros(e,i,n)}extractTextFromDataView(e,t,n){const r=e,i=Lf,s=r.getUint16(t,i),o=this._textPattern,a=this._patternManager.getDefinitionFromId(s),{font:l,style:c,size:d,align:u}=a.attributes,h=this._getAtlas(l,c,d,u),g=[];let p=0,m=0,_=0,y=null;for(let x=t;x<n;x+=$h){const v=r.getUint16(x,i);if(!v)break;const w=(r.getUint8(x+2)-YS)/U_,b=this._patternManager.getDefinitionFromId(v);if(!b||!b.attributes||!b.attributes.text)break;const S=b.attributes.text.charCodeAt(0),A=h[S];y===null?y=w:w>y&&(p>m&&(m=p),p=0,_+=1,g.push(Wu),y=w),g.push(S),A&&(p+=A.ratio)}p>m&&(m=p);const f=String.fromCharCode.apply(null,g);return o.attributes.style=c,o.attributes.font=l,o.attributes.size=d,o.attributes.align=u,o.attributes.text=this._processBidirectionalText(f),o.dimensions&&(o.dimensions.width=m,o.dimensions.height=_),o}_fillWithZeros(e,t,n){for(let r=t;r<n;r+=$h)e.setUint16(r,0)}_clear(){this._byFont={},this._widthAtlases={normal:{},bold:{},italic:{}}}update(){this._mustClear&&(this._clear(),this._mustClear=!1)}getVersion(){return this._version}getCornerRadius(){return this._cornerRadius}setCornerRadius(e){e!==this._cornerRadius&&(this._cornerRadius=e,this._version++)}},Nv=class extends eu{constructor({bufferList:e,patternManager:t,boundariesManager:n,shapeManager:r,textManager:i,memoryManager:s}){super(),this._firstFrame=!0,this._width=0,this._height=0,this._pixelRatio=0,this._viewX=0,this._viewY=0,this._viewZoom=0,this._viewAngle=0,this._viewAngleCos=0,this._viewAngleSin=0,this._currentTime=0,this._scales={bytesToActualCoord:0,bytesToActualScaledSize:0,bytesToActualMinVisibleSize:0,bytesToActualSymbolicSize:0,bytesToActualDashLength:0,bytesToActualGapLength:0,bytesToActualPatternScale:0},this._shapesVersion=0,this._patternsVersion=0,this._boundariesVersion=0,this._textsVersion=0,this._backgroundRgba=[1,1,1,0],this._renderBackground=!1,this._hideImages=!1,this._genericObject=Lv(),this._littleEndian=qp(),this._bufferList=e,this._shapeManager=r,this._patternManager=t,this._boundariesManager=n,this._textManager=i,this._memoryManager=s}static createInitData(){return null}static getName(){return null}static isAvailable(){return!0}getDomElement(){return null}_initCanvas(e){e.style.touchAction="none"}export(e){return Promise.resolve()}extractElement(e,t){return this._memoryManager.extractGenericElement(e,t,this._scales)}_compareDimensions(e,t,n){return(e!==this._width||t!==this._height||n!==this._pixelRatio)&&(this._width=e,this._height=t,this._pixelRatio=n,!0)}_compareView(e,t,n,r){return(e!==this._viewX||t!==this._viewY||n!==this._viewZoom||r!==this._viewAngle)&&(this._viewX=e,this._viewY=t,this._viewZoom=n,this._viewAngle=r,this._viewAngleCos=Math.cos(r),this._viewAngleSin=Math.sin(r),!0)}_compareCurrentTime(e){return e!==this._currentTime&&(this._currentTime=e,!0)}_compareBackgroundColor(e,t){return(e!==this._backgroundColor||t!==this._renderBackground)&&(this._renderBackground=t,this._backgroundColor=e,this._backgroundRgba=yr(this._backgroundColor),!0)}_compareShapes(){return this._shapesVersion!==this._shapeManager.getVersion()&&(this._shapesVersion=this._shapeManager.getVersion(),!0)}_comparePatterns(){return this._patternsVersion!==this._patternManager.getVersion()&&(this._patternsVersion=this._patternManager.getVersion(),!0)}_compareBoundaries(){return this._boundariesVersion!==this._boundariesManager.getVersion()&&(this._boundariesVersion=this._boundariesManager.getVersion(),!0)}_compareTexts(){return this._textsVersion!==this._textManager.getVersion()&&(this._textsVersion=this._textManager.getVersion(),!0)}_compareIsDisplayableBuffer(e){return this._isBufferDisplayable!==e&&(this._isBufferDisplayable=e,!0)}_compareHideImages(e){return this._hideImages!==e&&(this._hideImages=e,!0)}renderFrame({x:e,y:t,zoom:n,angle:r,width:i,height:s,pixelRatio:o,backgroundColor:a,currentTime:l,isBufferDisplayable:c,hideImages:d,renderBackground:u}){const h=this._compareShapes(),g=this._comparePatterns(),p=this._compareBoundaries(),m=this._compareTexts(),_=this._compareDimensions(i,s,o),y=this._compareView(e,t,n,r),f=this._compareCurrentTime(l),x=this._compareBackgroundColor(a,u),v=this._compareIsDisplayableBuffer(c),w=this._compareHideImages(d);if(p){const b=this._boundariesManager,S=this._scales;S.bytesToActualCoord=1,S.bytesToActualScaledSize=b.maxScaledSize/SI,S.bytesToActualMinVisibleSize=b.maxMinVisibleSize/D_,S.bytesToActualSymbolicSize=b.maxSymbolicSize/Za,S.bytesToActualDashLength=b.maxDashLength/Qa,S.bytesToActualGapLength=b.maxGapLength/Qa,S.bytesToActualPatternScale=b.maxPatternScale/Za}this._firstFrame&&this._beforeFirstFrame(),this._render({shapesChanged:h,patternsChanged:g,boundariesChanged:p,textsChanged:m,dimensionsChanged:_,viewChanged:y,currentTimeChanged:f,backgroundColorChanged:x,isBufferDisplayableChanged:v,isHideImagesChanged:w}),this._firstFrame&&(this._afterFirstFrame(),this._firstFrame=!1)}_render(e){}_beforeFirstFrame(){}_afterFirstFrame(){}destroy(){}ensureAnimationsReady(){}getImageData(){return null}setViewportClipping(e){}},qu=1/hr,XI=class extends Nv{constructor(e){super(e),this._cachePoints=[],this._nextCachePoint=0,this._tmp={x1:0,y1:0,x2:0,y2:0},this._pointCopies=Array(128),this._clipViewport=!0}_resetCachePoints(){this._nextCachePoint=0}_point(e,t){let n=this._cachePoints[this._nextCachePoint++];return n||(n={x:0,y:0},this._cachePoints.push(n)),n.x=e,n.y=t,n}setViewportClipping(e){this._clipViewport=e}_displayBuffer(e){const t=e.getSize(),n=e.animated;for(let r=0;r<t;++r){const i=this.extractElement(e,r);i.valid&&this._displayElement(i,n)}}_mixAttributes(e,t,n){const r=HI(this._currentTime,n.beginTime,n.duration,n.easing);return e.dashLength=zt(t.dashLength,e.dashLength,r),e.gapLength=zt(t.gapLength,e.gapLength,r),e.offsetAngle=zt(t.offsetAngle,e.offsetAngle,r),e.opacity=zt(t.opacity,e.opacity,r),e.globalMinVisibleSize=zt(t.globalMinVisibleSize,e.globalMinVisibleSize,r),e.strokeMinVisibleSize=zt(t.strokeMinVisibleSize,e.strokeMinVisibleSize,r),e.patternMinVisibleSize=zt(t.patternMinVisibleSize,e.patternMinVisibleSize,r),e.symbolicSize=zt(t.symbolicSize,e.symbolicSize,r),e.curvature=zt(t.curvature,e.curvature,r),e.fillColor=fc(t.fillColor,e.fillColor,r,r),e.strokeColor=fc(t.strokeColor,e.strokeColor,r,r),e.patternColor=fc(t.patternColor,e.patternColor,r,r),e.x1=zt(t.x1,e.x1,r),e.y1=zt(t.y1,e.y1,r),e.x2=zt(t.x2,e.x2,r),e.y2=zt(t.y2,e.y2,r),e.rectWidthOrSourceRadiusScaled=zt(t.rectWidthOrSourceRadiusScaled,e.rectWidthOrSourceRadiusScaled,r),e.rectWidthOrSourceRadiusFixed=zt(t.rectWidthOrSourceRadiusFixed,e.rectWidthOrSourceRadiusFixed,r),e.rectHeightOrTargetRadiusScaled=zt(t.rectHeightOrTargetRadiusScaled,e.rectHeightOrTargetRadiusScaled,r),e.rectHeightOrTargetRadiusFixed=zt(t.rectHeightOrTargetRadiusFixed,e.rectHeightOrTargetRadiusFixed,r),e.thicknessOrFontSizeScaled=zt(t.thicknessOrFontSizeScaled,e.thicknessOrFontSizeScaled,r),e.thicknessOrFontSizeFixed=zt(t.thicknessOrFontSizeFixed,e.thicknessOrFontSizeFixed,r),e.strokeWidthScaled=zt(t.strokeWidthScaled,e.strokeWidthScaled,r),e.strokeWidthFixed=zt(t.strokeWidthFixed,e.strokeWidthFixed,r),e.offsetScaled=zt(t.offsetScaled,e.offsetScaled,r),e.offsetFixed=zt(t.offsetFixed,e.offsetFixed,r),e}_computeRenderInfo(e){const t=this._viewZoom,n=this._point(e.x1,e.y1),r=this._point(e.x2,e.y2);return{shape:this._shapeManager.getDefinitionFromName(e.shape),pieceId:e.pieceId,dashLength:e.dashLength,gapLength:e.gapLength,hasHead:e.hasHead,hasTail:e.hasTail,isBodyTriangle:e.isBodyTriangle,isSelfLoop:e.isSelfLoop,patternScale:e.patternScale,offsetAngle:zg(e.offsetAngle),isText:e.isText,adjustTextAngle:e.adjustTextAngle,isBadge:e.isBadge,unusedFlag2:e.unusedFlag2,unusedFlag3:e.unusedFlag3,opacity:e.opacity,globalMinVisibleSize:e.globalMinVisibleSize,strokeMinVisibleSize:e.strokeMinVisibleSize,patternMinVisibleSize:e.patternMinVisibleSize,symbolicSize:e.symbolicSize===0?1/0:e.symbolicSize*t,curvature:e.curvature,pattern:e.pattern,fillColor:e.fillColor,strokeColor:e.strokeColor,patternColor:e.patternColor,pos1OnGraph:n,pos2OnGraph:r,pos1:this._graphToScreenCoordinates(n),pos2:this._graphToScreenCoordinates(r),rectWidthOrSourceRadius:e.rectWidthOrSourceRadiusScaled*t+e.rectWidthOrSourceRadiusFixed,rectHeightOrTargetRadius:e.rectHeightOrTargetRadiusScaled*t+e.rectHeightOrTargetRadiusFixed,thicknessOrFontSize:e.thicknessOrFontSizeScaled*t+e.thicknessOrFontSizeFixed,strokeWidth:e.strokeWidthScaled*t+e.strokeWidthFixed,offset:e.offsetScaled*t+e.offsetFixed}}_applyBackgroundBlending(e){e.opacity!==1&&(e.fillColor=this._blendColor(e.fillColor,e.opacity),e.strokeColor=this._blendColor(e.strokeColor,e.opacity),e.textColor=this._blendColor(e.textColor,e.opacity))}_pointArray(e){let t=this._pointCopies[e];if(!t){t=new Array(e),this._pointCopies[e]=t;for(let n=0;n<e;++n)t[n]={x:0,y:0,r:0}}return t}_scalePoints(e,t,n,r){const i=e.shape.points.length,s=this._pointArray(i);for(let l=0;l<i;++l){const c=e.shape.points[l],d=s[l];d.x=t.x+c.x*n,d.y=t.y+c.y*r,d.r=c.r*n}const o=e.pos2OnGraph.x-e.pos1OnGraph.x,a=e.pos2OnGraph.y-e.pos1OnGraph.y;if(o!==0||a!==0){const l=Math.sqrt(o*o+a*a),c=o/l,d=a/l;for(const u of s){const h=u.x-t.x,g=u.y-t.y;u.x=t.x+c*h+d*g,u.y=t.y-d*h+c*g}}return s}_drawPoints(e,t=!1){e.length===1?this._drawCircle(e[0],e[0].r):this._drawPolygon(e,t)}_computeCenter(e){const t=Math.cos(e.offsetAngle),n=Math.sin(e.offsetAngle),r=(e.pos1.x+e.pos2.x)/2+t*e.offset,i=(e.pos1.y+e.pos2.y)/2+n*e.offset;return this._point(r,i)}_displayTextBox(e,t,n,r){const i=this._computeCenter(e),s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2;(t||r)&&this._drawRoundedRectangle(i,s,o,0,e.fillColor)}_displayNodeComponent(e,t,n,r){const i=this._computeCenter(e);if(e.pattern.type!==mo){const s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2,a=this._scalePoints(e,i,s,o);if((t||r)&&this._drawPoints(a,!0),t&&this._fill(e.fillColor),r){if(this._startClip(),e.pattern.type===ru){let l=e.pattern.attributes.colorArray;e.opacity!==1&&(l=l.map(c=>this._blendColor(c,e.opacity))),this._displayPieChart(i,s,l)}else if(e.pattern.type===qo||e.pattern.type===Xo){const c=Math.round(e.rectHeightOrTargetRadius*e.patternScale),d=e.pattern.attributes.text,u=e.patternColor,h=e.pattern.attributes.font,g=e.pattern.attributes.style,p=e.pattern.attributes.align,m=e.rectWidthOrSourceRadius,_=e.pattern.attributes.paddingTop,y=e.pattern.attributes.paddingLeft;this._displayText(i,0,d,u,h,c,g,p,m,y,_,!0)}else if(e.pattern.type===lo){const l=e.pattern.attributes.image;if(l.isDummy||l.width&&l.height){const c=e.pattern.attributes.duplicated,d=c?1:e.patternScale,u=e.rectWidthOrSourceRadius*d,h=e.rectHeightOrTargetRadius*d,g=e.pattern.attributes.scaled,p=e.opacity;this._displayImage(i,u,h,l,g,c,p)}}this._endClip()}if(n){const l=e.strokeWidth/2,c=this._scalePoints(e,i,s+l,o+l);this._drawPoints(c),this._stroke(e.strokeColor,e.strokeWidth)}}else if(r){const o=e.thicknessOrFontSize,a=e.pattern.attributes.text,l=e.patternColor,c=e.pattern.attributes.font,d=e.pattern.attributes.style,u=e.pattern.attributes.align,h=e.rectWidthOrSourceRadius;this._displayText(i,0,a,l,c,o,d,u,h,0,0,!1)}}_displayElement(e,t){if(!e.end||!e.end.shape||!e.end.pieceId||t&&(!e.start||!e.animation))return;this._resetCachePoints();const n=t?this._mixAttributes(e.end,e.start,e.animation):e.end,r=this._computeRenderInfo(n);if(r.symbolicSize<r.globalMinVisibleSize||r.opacity===0)return;this._applyBackgroundBlending(r);const i=!!(r.strokeColor&&r.strokeWidth>0&&r.symbolicSize>=r.strokeMinVisibleSize),s=r.pattern.type!==R_&&r.symbolicSize>=r.patternMinVisibleSize,o=!!r.fillColor;if(r.pieceId===mi)return this._displayNodeComponent(r,o,i,s);if(r.pieceId===cl)return this._displayTextBox(r,o,i,s);const a=r.pos2.x-r.pos1.x,l=r.pos2.y-r.pos1.y,c=Math.sqrt(a*a+l*l);let d,u=null,h=null;if(r.isSelfLoop){const g=r.pieceId===Ya||r.pieceId===Ya+cl?r.strokeWidth/2:r.rectWidthOrSourceRadius,{x1:p,y1:m,x2:_,y2:y}=this._getSelfLoopControlPoints(r.pos1,r.curvature,g);u=this._point(p,m),h=this._point(_,y),d=F8(r.pos1,u,h,r.pos2,1)}else r.curvature?(u=this._getQuadraticCurveControlPoint(r),d=P8(r.curvature,c,1)):d=c;if(r.pieceId===Ya||r.pieceId===Ya+cl){const g=r.strokeWidth,p=this._getPointOnLine(r.pos1,u,h,r.pos2,.5),m=this._getTangentOnLine(r.pos1,u,h,r.pos2,.5);if(r.rectWidthOrSourceRadius>=d-g&&!r.isSelfLoop){if(!r.adjustTextAngle)return;m.x=1,m.y=0}let _=-Math.atan2(m.y,m.x);const y=zg(r.offsetAngle-_);(!r.isSelfLoop&&y<0||r.isSelfLoop&&r.offsetAngle<0)&&(m.x*=-1,m.y*=-1),(_>Math.PI/2||_<-Math.PI/2)&&(_+=Math.PI);const f=this._getOrthogonal(m),x=p.x+f.x*r.offset,v=p.y+f.y*r.offset;if(r.fillColor){const w=r.rectWidthOrSourceRadius/2,b=r.rectHeightOrTargetRadius/2;this._drawRoundedRectangle(this._point(x,v),w,b,y+Math.PI/2,r.fillColor)}else{const w=this._point(x,v),b=_,S=r.thicknessOrFontSize,A=r.pattern.attributes.text,C=r.patternColor,k=r.pattern.attributes.font,N=r.pattern.attributes.style,R=r.pattern.attributes.align,B=r.rectWidthOrSourceRadius;this._displayText(w,b,A,C,k,S,N,R,B,0,0,!1)}}else{const g=r.pieceId===mv,p=r.pieceId===fv,m=Math.cos(r.offsetAngle),_=Math.sin(r.offsetAngle);r.pos1.x+=m*r.offset,r.pos1.y+=_*r.offset,r.pos2.x+=m*r.offset,r.pos2.y+=_*r.offset;const y=r.shape.name==="line",f=r.thicknessOrFontSize,x=r.rectWidthOrSourceRadius,v=r.rectHeightOrTargetRadius,w=+r.hasHead,b=+r.hasTail,S=+r.isBodyTriangle,A=w+b,C=R8(f),k=w*C,N=b*C,R=r.isSelfLoop?1/0:c-x-v,B=Math.min(R/A,C),H=b*(C+Math.max(x+B-N,0))+(1-b)*S*x,F=w*(C+Math.max(v+B-k,0))+(1-w)*S*v;if(g||p){const T=p?-1:1,W=(g?d-F:H)-T;let G=null,Y=null;if(r.isSelfLoop&&u&&h){const ee=this._getTFromLengthOnCubicCurve(r.pos1,u,h,r.pos2,W-r.strokeWidth/2*T);G=this._getPointOnCubicCurve(r.pos1,u,h,r.pos2,ee),Y=this._getTangentOnCubicCurve(r.pos1,u,h,r.pos2,ee)}else if(r.curvature&&u){const ee=this._getTFromLengthOnQuadraticCurve(r.pos1,u,r.pos2,W-r.strokeWidth/2*T);G=this._getPointOnQuadraticCurve(r.pos1,u,r.pos2,ee),Y=this._getTangentOnQuadraticCurve(r.pos1,u,r.pos2,ee)}else{const ee=W/d;G=this._mixPoints(r.pos1,r.pos2,ee),Y=this._point(a/c,l/c)}if(Y.x*=T,Y.y*=T,o){if(r.shape.hole){const J=this._makeEdgeExtremityPoints(G,Y,C,r.shape.hole);this._drawPoints(J),this._startReverseClip()}const ee=this._makeEdgeExtremityPoints(G,Y,C,r.shape.points);this._drawPoints(ee),this._fill(r.fillColor),r.shape.hole&&this._endReverseClip()}if(i){if(r.shape.hole){const ue=this._makeEdgeExtremityPoints(G,Y,C,r.shape.hole);this._drawPoints(ue),this._stroke(r.strokeColor,r.strokeWidth)}const ee=C+r.strokeWidth/2,J=this._makeEdgeExtremityPoints(G,Y,ee,r.shape.points);this._drawPoints(J),this._stroke(r.strokeColor,r.strokeWidth)}}else{if(d-H-F<=0)return;if(y){const T=D8(d,f,H,F,r.dashLength,r.gapLength);i&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.strokeColor,f+2*r.strokeWidth,T)),o&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.fillColor,f,T))}else{const T=H,W=d-F;if(i){const G=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,T,W,f+r.strokeWidth/2,r.strokeWidth/2);this._drawPoints(G),this._stroke(r.strokeColor,r.strokeWidth)}if(o){const G=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,T,W,f,0);this._drawPoints(G),this._fill(r.fillColor)}}}}}_makeTriangleEdgeBody(e,t,n,r,i,s,o,a){return t?n?this._makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a):this._makeCurveTriangleEdge(e,t,r,i,s,o,a):this._makeStraightTriangleEdge(e,r,i,s,o,a)}_makeCurveTriangleEdge(e,t,n,r,i,s,o){const a=2*hr+2,l=this._pointArray(a),c=this._getTFromLengthOnQuadraticCurve(e,t,n,r),d=(this._getTFromLengthOnQuadraticCurve(e,t,n,i)-c)/hr,u=(o-s)/hr/2;let h=s/2,g=c;for(let p=0;p<=hr;++p){const m=this._getPointOnQuadraticCurve(e,t,n,g),_=this._getTangentOnQuadraticCurve(e,t,n,g),y=this._getOrthogonal(_),f=y.x*h,x=y.y*h,v=l[p],w=l[a-1-p];v.x=m.x+f,v.y=m.y+x,w.x=m.x-f,w.y=m.y-x,g+=d,h+=u}return l}_makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a){const l=2*hr+2,c=this._pointArray(l),d=this._getTFromLengthOnCubicCurve(e,t,n,r,i),u=(this._getTFromLengthOnCubicCurve(e,t,n,r,s)-d)/hr,h=(a-o)/hr/2;let g=o/2,p=d;for(let m=0;m<=hr;++m){const _=this._getPointOnCubicCurve(e,t,n,r,p),y=this._getTangentOnCubicCurve(e,t,n,r,p),f=this._getOrthogonal(y),x=f.x*g,v=f.y*g,w=c[m],b=c[l-1-m];w.x=_.x+x,w.y=_.y+v,b.x=_.x-x,b.y=_.y-v,p+=u,g+=h}return c}_makeStraightTriangleEdge(e,t,n,r,i,s){const o=t.x-e.x,a=t.y-e.y,l=Math.sqrt(o*o+a*a),c=this._point(o/l,a/l),d=this._getOrthogonal(c),u=i/2,h=s/2,g=this._pointArray(4),p=g[0],m=g[1],_=g[2],y=g[3],f=e.x+c.x*n,x=e.y+c.y*n,v=e.x+c.x*r,w=e.y+c.y*r,b=d.x*u,S=d.y*u,A=d.x*h,C=d.y*h;return p.x=f+b,p.y=x+S,m.x=f-b,m.y=x-S,_.x=v-A,_.y=w-C,y.x=v+A,y.y=w+C,g}_makeEdgeExtremityPoints(e,t,n,r){const i=this._pointArray(r.length),s=n/2,o=e.x+t.x*s,a=e.y+t.y*s,l=t.x,c=t.y;for(let d=0;d<r.length;++d){const u=r[d],h=i[d],g=(l*u.x-c*u.y)*s,p=(c*u.x+l*u.y)*s;h.x=o+g,h.y=a+p,h.r=u.r*s}return i}_drawLine(e,t,n,r){t?n?this._drawCubicCurve(e,t,n,r):this._drawQuadraticCurve(e,t,r):this._drawStraightLine(e,r)}_getSelfLoopControlPoints(e,t,n){return ma(e.x,e.y,t,n,this._viewAngle,this._tmp)}_getQuadraticCurveControlPoint(e){return Fi(e.pos1.x,e.pos1.y,e.pos2.x,e.pos2.y,e.curvature,this._point(0,0))}_graphToScreenCoordinates(e){const t=this._width/2,n=this._height/2,r=(e.x-this._viewX)*this._viewZoom,i=(e.y-this._viewY)*this._viewZoom,s=this._viewAngleCos,o=this._viewAngleSin,a=s*r+o*i+t,l=-o*r+s*i+n;return this._point(a,l)}_blendColor(e,t){return e&&this._backgroundColor?fc(this._backgroundColor,e,t,1):null}_getTangentOnLine(e,t,n,r,i){return t?n?this._getTangentOnCubicCurve(e,t,n,r,i):this._getTangentOnQuadraticCurve(e,t,r,i):this._getTangentOnStraightLine(e,r)}_getTangentOnStraightLine(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return this._point(n/i,r/i)}_getTangentOnQuadraticCurve(e,t,n,r){const i=1-r,s=i*t.x+r*n.x-(i*e.x+r*t.x),o=i*t.y+r*n.y-(i*e.y+r*t.y),a=Math.sqrt(s*s+o*o);return this._point(s/a,o/a)}_getTangentOnCubicCurve(e,t,n,r,i){const s=1-i,o=s*s,a=i*i,l=o*(t.x-e.x)+2*s*i*(n.x-t.x)+a*(r.x-n.x),c=o*(t.y-e.y)+2*s*i*(n.y-t.y)+a*(r.y-n.y),d=Math.sqrt(l*l+c*c);return this._point(l/d,c/d)}_mixPoints(e,t,n){const r=zt(e.x,t.x,n),i=zt(e.y,t.y,n);return this._point(r,i)}_getOrthogonal(e){return this._point(-e.y,e.x)}_getPointOnLine(e,t,n,r,i){return t?n?this._getPointOnCubicCurve(e,t,n,r,i):this._getPointOnQuadraticCurve(e,t,r,i):this._mixPoints(e,r,i)}_getPointOnQuadraticCurve(e,t,n,r){const i=Ka(e.x,t.x,n.x,r),s=Ka(e.y,t.y,n.y,r);return this._point(i,s)}_getPointOnCubicCurve(e,t,n,r,i){const s=zu(e.x,t.x,n.x,r.x,i),o=zu(e.y,t.y,n.y,r.y,i);return this._point(s,o)}_getTFromLengthOnCubicCurve(e,t,n,r,i){let s=e.x,o=e.y,a=0,l=0;for(let c=0;c<hr;++c){a+=qu;const d=zu(e.x,t.x,n.x,r.x,a),u=zu(e.y,t.y,n.y,r.y,a),h=d-s,g=u-o,p=Math.sqrt(h*h+g*g),m=l+p;if(m>i)return a-qu*((m-i)/p);l=m,s=d,o=u}return 1}_getTFromLengthOnQuadraticCurve(e,t,n,r){let i=e.x,s=e.y,o=0,a=0;for(let l=0;l<hr;++l){o+=qu;const c=Ka(e.x,t.x,n.x,o),d=Ka(e.y,t.y,n.y,o),u=c-i,h=d-s,g=Math.sqrt(u*u+h*h),p=a+g;if(p>r)return o-qu*((p-r)/g);a=p,i=c,s=d}return 1}};function P8(e,t,n){const r=Math.abs(e)/cm+uI,i=r*r,s=n-.5,o=s*s,a=1/(16*i),l=Math.sqrt(o+a),c=.5/r*Math.sqrt(i+.25);return Math.abs(2*r)*(s*l+.5*c+a*Math.log(Math.abs((s+l)/(-.5+c))))*t}function F8(e,t,n,r,i){const s=(e.x+t.x+n.x)/3,o=(e.y+t.y+n.y)/3,a=s-t.x,l=o-t.y,c=t.x-n.x,d=t.y-n.y,u=a*a+l*l,h=(c*c+d*d)/4,g=Math.sqrt(u-h);return 2*CI*g*3.14159265359*i}function R8(e){return e*kI}function D8(e,t,n,r,i,s){const o=[];if(n&&o.push(0,n),i&&s){const a=i*t,l=s*t,c=a+l,d=e-r-n-c;let u=0;for(;u<d;)o.push(a,l),u+=c;const h=e-r-n-u,g=Math.min(a,h),p=Math.max(h-g,0);o.push(g,p)}else o.push(e-r-n,0);return r&&o.push(0,r),o}var el=0,Uc=1,$c=2,To=3,ZS=4,Iv=0,$_=1,z8={[el]:{min:"NEAREST",mag:"NEAREST",mipmap:!1},[Uc]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[$c]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[To]:{min:"LINEAR_MIPMAP_LINEAR",mag:"LINEAR",mipmap:!0}},O8={[Iv]:"ALPHA",[$_]:"RGBA"};function kl(e){return Math.ceil((e+2*fo)/tr)*tr}function B8(e,t,n,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s],l=a.x,c=a.y,d=l+r,u=c+i;let h=d<n&&u<n;if(h){for(let g=l;g<d;++g)if(t[g+c*n]===1){h=!1;break}}if(h){for(let g=c;g<u;++g)if(t[l+g*n]===1){h=!1;break}}if(h){for(let g=l;g<d;++g)for(let p=c;p<u;++p)t[g+p*n]=1;return e.splice(s,1),e.push({x:l,y:u},{x:d,y:c}),a}}return null}function QS(e,t,n,r,i,s,o){const a=4*e,l=t>>1<<7,c=t%2<<7;o[a]=n/tr,o[a+1]=r/tr,o[a+2]=l+i/tr,o[a+3]=c+s/tr}function j8(e,t,n,r,i,s,o){r|=0,i|=0,s|=0,o|=0,t|=0;for(let a=0;a<s;++a)for(let l=0;l<o;++l){const c=4*(r+a+(i+l)*t),d=4*(a+l*s);e[c]=n[d],e[c+1]=n[d+1],e[c+2]=n[d+2],e[c+3]=n[d+3]}}function U8(e,t){let n=0,r=4;for(let s=0;s<e.length;++s){const{width:o,height:a}=e[s],l=kl(o),c=kl(a);n+=l*c,r=Math.max(r,Math.max(l,c))}const i=Gs(Math.max(r,Math.sqrt(n)));return Math.min(i,t)}function KS(e,t){return Math.floor((t-e)/2)}function JS(e,t,n,r,i,s,o){const{min:a,mag:l,mipmap:c}=z8[s],d=e[O8[o]];if(o===Iv){const u=new Uint8Array(i*i);for(let h=0;h<u.length;++h)u[h]=r[4*h+3];r=u}e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,d,i,i,0,d,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e[l]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e[a]),c&&e.generateMipmap(e.TEXTURE_2D)}function YI(e,t,n,r,i){const s=new Uint8Array(n*n*4),o=Math.ceil(n/tr),a=new Uint8Array(o*o),l=[{x:0,y:0}];for(let c=0;c<t.length;++c){const d=t[c],u=d.id,h=kl(d.width)/tr,g=kl(d.height)/tr,p=B8(l,a,o,h,g);if(p){const m=d.width,_=d.height,y=d.pixels,f=h*tr,x=g*tr,v=p.x*tr+KS(m,f),w=p.y*tr+KS(_,x);j8(s,n,y,v,w,m,_),QS(u,e,v,w,f,x,i)}else{if(n<r)return YI(e,t,2*n,r,i);ao(`exceeded max WebGL texture size of ${r}; some texts/icons/images won't be displayed`),QS(u,e,0,0,0,0,i)}}return{texture:s,size:n}}function $8(e,t,n,r){const{getDistanceFromStrokeVertically:i,getDistanceFromStrokeHorizontally:s}=e,o=t*(1-n)/2,a=(t-1)/2;for(let l=0;l<t;++l)for(let c=0;c<t;++c){const d=4*(c*t+l),u=(l-a)/o,h=(c-a)/o,g=Wr(i(u,h),-1,1),p=Wr(s(u,h),-1,1);V8(r,d,e2(g),e2(p))}}function e2(e){return 32768*((e+1)/2)}function V8(e,t,n,r){e[t]=n>>8,e[t+1]=n%256,e[t+2]=r>>8,e[t+3]=r%256}function ZI(e,t){let n=-Math.PI/2;const r=2*Math.PI/e.length;for(const i of e){const s=n+r;t(i,n,s),n=s}}function QI(e,t,n,r,i){ZI(t,(s,o,a)=>{e.beginPath(),e.moveTo(n,r),e.arc(n,r,i,o,a),e.fillStyle=s,e.fill()})}var G8=!Dn().__dummy,H8=class extends XI{constructor(e){super(e),this._canvas=Dn(),this._imgCanvas=Dn(),this._initCanvas(this._canvas),this._ctx=this._canvas.getContext("2d"),this._imgCtx=this._imgCanvas.getContext("2d")}static getName(){return"Canvas"}static isAvailable(){return G8}getDomElement(){return this._canvas}_render({dimensionsChanged:e}){e&&WI(this._canvas,this._width,this._height,this._pixelRatio);const t=this._ctx,n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;t.clearRect(0,0,n,r),this._backgroundColor&&this._renderBackground&&(t.fillStyle=this._backgroundColor,t.fillRect(0,0,n,r));const i=this._bufferList.getBuffersByAscendingDepth();for(let s=0;s<i.length;++s){const o=i[s];this._isBufferDisplayable(o)&&this._displayBuffer(o)}}_drawRoundedRectangle(e,t,n,r,i){const s=this._ctx,o=this._pixelRatio,a=e.x*o,l=e.y*o;t*=o,n*=o;const c=this._textManager.getCornerRadius(),d=Math.min(c*o,n);t+=d/2,s.save(),s.translate(a,l),s.rotate(r),s.beginPath(),s.arc(t-d,n-d,d,0,Math.PI/2),s.arc(-t+d,n-d,d,Math.PI/2,Math.PI),s.arc(-t+d,-n+d,d,Math.PI,3*Math.PI/2),s.arc(t-d,-n+d,d,3*Math.PI/2,0),i&&(s.fillStyle=i,s.fill()),s.restore()}_drawCircle(e,t){const n=this._ctx,r=this._pixelRatio,i=e.x*r,s=e.y*r,o=t*r;n.beginPath(),n.arc(i,s,o,0,2*Math.PI)}_drawPolygon(e){const t=this._ctx,n=this._pixelRatio;t.beginPath();const r=e[0];t.moveTo(r.x*n,r.y*n);for(let i=1;i<e.length;++i){const s=e[i];t.lineTo(s.x*n,s.y*n)}t.closePath()}_drawStraightLine(e,t){const n=this._ctx,r=this._pixelRatio;n.beginPath(),n.moveTo(e.x*r,e.y*r),n.lineTo(t.x*r,t.y*r)}_drawQuadraticCurve(e,t,n){const r=this._ctx,i=this._pixelRatio;r.beginPath(),r.moveTo(e.x*i,e.y*i),r.quadraticCurveTo(t.x*i,t.y*i,n.x*i,n.y*i)}_drawCubicCurve(e,t,n,r){const i=this._ctx,s=this._pixelRatio;i.beginPath(),i.moveTo(e.x*s,e.y*s),i.bezierCurveTo(t.x*s,t.y*s,n.x*s,n.y*s,r.x*s,r.y*s)}_fill(e){const t=this._ctx;t.fillStyle=e,t.fill()}_stroke(e,t,n=[]){if(t===0)return;const r=this._ctx,i=this._pixelRatio;r.setLineDash(n.map(s=>s*this._pixelRatio)),r.lineWidth=t*i,r.strokeStyle=e,r.stroke()}_startClip(){this._ctx.save(),this._ctx.clip()}_endClip(){this._ctx.restore()}_startReverseClip(){this._ctx.save(),this._ctx.rect(0,0,this._canvas.width,this._canvas.height),this._ctx.clip("evenodd")}_endReverseClip(){this._ctx.restore()}_displayText(e,t,n,r,i,s,o,a,l,c,d){const u=this._ctx,h=this._pixelRatio,g=e.x*h,p=e.y*h,m=s*h,_=a==="center"?0:-l/2;if(d=d*this._viewZoom*this._pixelRatio,c=c*this._viewZoom*this._pixelRatio,u.save(),u.translate(g,p),u.rotate(-t),u.textBaseline="middle",u.textAlign=a,ho(u,i,m,o),u.fillStyle=r,n.indexOf(`
`)!==-1){const y=n.split(`
`),f=y.length;let x=(1-f)/2*m;for(let v=0;v<f;++v)u.fillText(y[v],c+_,d+x),x+=m}else u.fillText(n,c+_,d);u.restore()}_displayImage(e,t,n,r,i,s,o){if(this._hideImages||"isDummy"in r)return;let a=r;o!==1&&(a=this._blendImageOnBackground(r,o));const l=this._ctx,c=this._pixelRatio,d=e.x*c,u=e.y*c,h=t*c,g=n*c,p=a.width*c,m=a.height*c;if(i)l.drawImage(a,d-h/2,u-g/2,h,g);else if(s){const _=d-h/2,y=u-g/2,f=d+h/2,x=u+g/2;let v=d-p/2,w=u-m/2;for(;v>_;)v-=p;for(;w>y;)w-=m;const b=w;for(;v<f;){for(;w<x;)l.drawImage(a,v,w,p,m),w+=m;v+=p,w=b}}else l.drawImage(a,d-p/2,u-m/2,p,m)}_displayPieChart(e,t,n){const r=this._ctx,i=this._pixelRatio,s=e.x*i,o=e.y*i,a=t*i*2,l=2*a;n.length===1&&(r.fillStyle=n[0],r.fillRect(s-a,o-a,l,l)),n.length>1&&QI(r,n,s,o,a)}_blendImageOnBackground(e,t){const n=this._backgroundRgba,r=`rgb(${Math.round(255*n[0])},${Math.round(255*n[1])},${Math.round(255*n[2])})`;return this._imgCanvas.width=e.width,this._imgCanvas.height=e.height,this._imgCtx.clearRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=1,this._imgCtx.fillStyle=r,this._imgCtx.fillRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=t,this._imgCtx.drawImage(e,0,0),this._imgCanvas}getImageData(){return this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height)}},KI=!1;try{KI=!!Ot("svg")}catch{}var ec="none",W8={left:"start",center:"middle",right:"end"},ni="data-element-id",t2="data-text-component",q8="node-text",X8="edge-text",Y8="badge-text";function Bo(e){return Math.round(1e3*e)/1e3}function n2(e,t,n,r,i,s){const o=Ot("image");return o.setAttribute("width",Bo(r)),o.setAttribute("height",Bo(i)),o.setAttribute("x",Bo(t)),o.setAttribute("y",Bo(n)),o.setAttribute("href",e),s&&s.appendChild(o),o}function Z8(e,t,n,r,i,s=1,o){const a=Ot("rect");return a.setAttribute("x",e),a.setAttribute("y",t),a.setAttribute("width",n),a.setAttribute("height",r),a.setAttribute("fill",i),a.setAttribute("fill-opacity",s),o&&o.appendChild(a),a}var Q8=class extends XI{constructor(e){super(e),this._svg=Ot("svg"),this._defs=Ot("defs"),this._styles=Ot("g",{class:"styles"}),this._background=Ot("rect",{width:"100%",height:"100%",fill:"none",class:"ogma-svg-background"}),this._currentElementId="0",this._currentClipPathId=null,this._clipPathCounter=0,this._defs.appendChild(this._styles),this._svg.setAttribute("pointer-events","none"),this._svg.style.userSelect="none",this._svg.appendChild(this._defs),this._svg.appendChild(this._background),this._clear()}static getName(){return"SVG"}static isAvailable(){return KI}getDomElement(){return this._svg}_render({dimensionsChanged:e}){if(e&&Zx(this._svg,{width:this._width,height:this._height}),this._backgroundColor&&this._renderBackground){const n=Na(this._backgroundColor);this._background.setAttribute("fill",n.color),this._background.setAttribute("fill-opacity",n.opacity)}const t=this._bufferList.getBuffersByAscendingDepth();this._clear(),this._svg.removeChild(this._container);for(let n=0;n<t.length;++n){const r=t[n];this._isBufferDisplayable(r)&&this._displayBuffer(r)}this._svg.appendChild(this._container)}_clear(){this._container&&this._svg.removeChild(this._container),this._container=Ot("g"),this._svg.appendChild(this._container),this._clipPaths&&this._defs.removeChild(this._clipPaths),this._clipPaths=Ot("g"),this._defs.appendChild(this._clipPaths),this._clipPaths.setAttribute("class","clip-paths"),this._filters&&this._defs.removeChild(this._filters),this._filters=Ot("g"),this._defs.appendChild(this._filters)}_displayElement(e,t){this._currentElementId=e.id>=0?`n${e.id}`:"e"+-e.id,super._displayElement(e,t)}_addBackgroundBlendingFilter(e){const t=yr(this._backgroundColor),n=e,r=1-e,i=[n,0,0,0,t[0]*r,0,n,0,0,t[1]*r,0,0,n,0,t[2]*r,0,0,0,1,0].join(" "),s=`filter-${this._currentElementId}`,o=Ot("filter",{id:s}),a=Ot("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i});return o.appendChild(a),this._filters.appendChild(o),s}_drawRoundedRectangle(e,t,n,r,i){const s=e.x,o=e.y,a=Math.min(this._textManager.getCornerRadius(),n);t+=a/2;const l=Ot("path"),c=`M ${s+t-a} ${o+n}     A ${a} ${a} 0 0 0 ${s+t} ${o+n-a}     L ${s+t} ${o-n+a}     A ${a} ${a} 0 0 0 ${s+t-a} ${o-n}     L ${s-t+a} ${o-n}     A ${a} ${a} 0 0 0 ${s-t} ${o-n+a}     L ${s-t} ${o+n-a}     A ${a} ${a} 0 0 0 ${s-t+a} ${o+n}     L ${s+t-a} ${o+n}`;l.setAttribute("d",c),l.setAttribute("fill",ec),l.setAttribute("transform",`rotate(${L_(r)} ${e.x} ${e.y})`),l.setAttribute(ni,this._currentElementId),this._container.appendChild(l),this._element=l,i&&this._fill(i)}_drawCircle(e,t){const{x:n,y:r}=e,i=`M ${n-t}, ${r} a ${t},${t} 0 1,0 ${2*t},0 a ${t},${t} 0 1,0 -${2*t},0`,s=Ot("path");s.setAttribute("d",i),s.setAttribute("fill",ec),s.setAttribute(ni,this._currentElementId),this._container.appendChild(s),this._element=s}_drawPolygon(e,t){const n=Ot("path");let r="";for(let i=0;i<e.length;i++){const{x:s,y:o}=e[i];r+=`${i===0?"M":"L"}${s},${o} `}r+="Z",n.setAttribute("d",r),n.setAttribute(ni,this._currentElementId),n.setAttribute("fill",ec),t&&n.setAttribute(t2,!0),this._container.appendChild(n),this._element=n}_drawStraightLine(e,t){const n=Ot("path"),r=`M ${e.x},${e.y} L${t.x},${t.y}`;n.setAttribute("d",r),n.setAttribute(ni,this._currentElementId),this._container.appendChild(n),this._element=n}_drawQuadraticCurve(e,t,n){const r=Ot("path"),i=`M ${e.x},${e.y} Q${t.x},${t.y} ${n.x},${n.y}`;r.setAttribute("d",i),r.setAttribute("fill",ec),r.setAttribute(ni,this._currentElementId),this._container.appendChild(r),this._element=r}_drawCubicCurve(e,t,n,r){const i=Ot("path"),s=`M ${e.x},${e.y} C${t.x},${t.y} ${n.x},${n.y} ${r.x},${r.y}`;i.setAttribute("d",s),i.setAttribute("fill",ec),i.setAttribute(ni,this._currentElementId),this._container.appendChild(i),this._element=i}_fill(e){const t=Na(e);this._element.setAttribute("fill",t.color),this._element.setAttribute("fill-opacity",t.opacity),this._currentClipPathId&&this._element.setAttribute("clip-path",`url(#${this._currentClipPathId})`)}_stroke(e,t,n=[]){if(t===0)return;const r=this._element;r.setAttribute("stroke-width",t);const i=Na(e);r.setAttribute("stroke",i.color),r.setAttribute("stroke-opacity",i.opacity),n.length>0&&r.setAttribute("stroke-dasharray",n.map(Bo).toString())}_startClip(){const e=Ot("clipPath"),t=this._element.cloneNode(!1);this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endClip(){this._currentClipPathId=null}_startReverseClip(){const e=Ot("clipPath"),t=this._element.cloneNode(!1),n=t.getAttribute("d");t.setAttribute("clip-rule","evenodd"),t.setAttribute("d",`${n} M 0 0 L ${this._width} 0 L ${this._width} ${this._height} L 0 ${this._height}`),this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endReverseClip(){this._currentClipPathId=null}_displayText(e,t,n,r,i,s,o="normal",a,l,c,d,u){const h=Ot("g");h.setAttribute(ni,this._currentElementId),h.setAttribute(t2,!0);let g=this._currentElementId[0]==="n"?q8:X8;u&&(g+=" "+Y8),h.setAttribute("class",g);const p=Na(r),m=p.opacity,_=Na(p.color),y=e.x+c*this._viewZoom,f=e.y+d*this._viewZoom,x=Bo(y);h.setAttribute("font-family",i),h.setAttribute("font-size",s),o==="bold"?h.setAttribute("font-weight",o):h.setAttribute("font-style",o),h.setAttribute("fill",_.color),h.setAttribute("fill-opacity",m),t&&h.setAttribute("transform",`rotate(${L_(-t)} ${y}, ${f})`),h.setAttribute("text-anchor",W8[a]||"middle"),h.setAttribute("dominant-baseline","middle");const v=n.split(`
`),w=v.length,b=Bo(f-(w+1)/2*s),S=a==="center"?0:-l/2;for(let A=0;A<w;A++){const C=Ot("text");C.appendChild(Kx(v[A])),C.setAttribute("x",x+S),C.setAttribute("y",b+(A+1)*s),h.appendChild(C)}this._currentClipPathId&&h.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(h)}_displayImage(e,t,n,r,i,s,o){const a=e.x,l=e.y;if(this._hideImages||!("isDummy"in r)&&(!r.width||!r.height))return;const c=t,d=n;let u,h=r.width,g=r.height;if(i&&(h=c,g=d),s){const p=a-c/2,m=l-d/2,_=a+c/2,y=l+d/2;let f=a-h/2,x=l-g/2;for(u=Ot("g"),u.setAttribute(ni,this._currentElementId);f>p;)f-=h;for(;x>m;)x-=g;const v=x;for(;f<_;){for(;x<y;)n2(r.src,f,x,h,g,u),x+=g;x=v,f+=h}}else u=n2(r.src,a-h/2,l-g/2,h,g),u.setAttribute(ni,this._currentElementId);if(this._currentClipPathId&&u.setAttribute("clip-path",`url(#${this._currentClipPathId})`),o!==1){const p=this._addBackgroundBlendingFilter(o);u.setAttribute("filter",`url(#${p})`)}this._container.appendChild(u)}_displayPieChart(e,t,n){const r=2*t,i=2*r,s=e.x,o=e.y;let a;const l=Ot("g");l.setAttribute(ni,this._currentElementId),n.length===1&&(a=Z8(s-r,o-r,i,i,n[0],1,l)),n.length>1&&ZI(n,(c,d,u)=>{const h=s+t*Math.cos(u),g=o+t*Math.sin(u),p=s+t*Math.cos(d),m=o+t*Math.sin(d),_=u-d<=Math.PI?0:1,y=`M ${h},${g} A ${t},${t} 0 ${_} 0 ${p},${m} L ${s},${o} L ${h},${g}`;a=Ot("path"),a.setAttribute("d",y),a.setAttribute("fill",c),a.setAttribute("stroke-width",0),l.appendChild(a)}),this._currentClipPathId&&l.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(l)}},K8=6,J8=class{constructor({gl:e,ext:t,staticProgram:n,animationProgram:r}){this._version=0,this._used=!1,this._dataBufferChanged=!1,this._gl=e,this._ext=t,this._staticProgram=n,this._animationProgram=r,this._glBuffer=this._gl.createBuffer()}setDataBuffer(e){this._dataBuffer!==e&&(this._program=e.animated?this._animationProgram:this._staticProgram,this._dataBuffer=e,this._dataBufferChanged=!0,e.hasSideData()&&!this._sideGlBuffer?this._sideGlBuffer=this._gl.createBuffer():!e.hasSideData()&&this._sideGlBuffer&&(this._gl.deleteBuffer(this._sideGlBuffer),delete this._sideGlBuffer))}markAsUnused(){return this._used=!1,this}getProgram(){return this._program}markAsUsed(){return this._used=!0,this}isUsed(){return this._used}draw(){const e=this._gl,t=this._dataBuffer.type,n=t===Wo,r=n?this._dataBuffer.getNbSideElementsPerMainElement():1,i=t===Gg?hr:1,s=this._dataBuffer.getSize(),o=this._dataBuffer.stencilUsage,a=this._dataBuffer.version,l=this._version!==a||this._dataBufferChanged;this._program.setupBaseAttributes({glBuffer:this._glBuffer,dataBuffer:l?this._dataBuffer.getByteArray():null,divisor:r}),this._program.setupTextAttributes({glBuffer:this._sideGlBuffer,dataBuffer:l&&n?this._dataBuffer.getSideByteArray():null,divisor:1}),this._program.setupStencil(o),l&&(this._version=a,this._dataBufferChanged=!1),this._ext.drawArraysInstancedANGLE(e.TRIANGLES,0,K8*i,s*r)}destroy(){this._gl.deleteBuffer(this._glBuffer),this._sideGlBuffer&&this._gl.deleteBuffer(this._sideGlBuffer)}},eU={byte:1,ubyte:1,short:2,ushort:2,ulong:4,float:4},tU={byte:"BYTE",ubyte:"UNSIGNED_BYTE",short:"SHORT",ushort:"UNSIGNED_SHORT",ulong:"UNSIGNED_LONG",float:"FLOAT"},r2=class{constructor({gl:e,ext:t,specialGlBuffers:n,metaData:r,programWrapper:i}){this._stencilUsage=dl,this._gl=e,this._ext=t,this._specialGlBuffers=n,this._metaData=cn(r),this._programWrapper=i}_finishInit(){const e=this._gl,t=this._ext,n=this._programWrapper.getError();if(n)throw new Error(`WebGL compilation at step "${n.step}:
${n.message}"`);const r=this._programWrapper.getProgram();this._program=r,e.useProgram(r),this._metaData.attributes.forEach(o=>{o.location=e.getAttribLocation(this._program,o.name),o.byteSize=o.size*eU[o.type],o.glType=tU[o.type]}),this._specialAttributes=this._createSpecialAttributesFunctions();const i=[],s=[];for(const o of this._metaData.attributes)o.location!==-1&&(o.name.startsWith("a_text")?s.push(o):i.push(o));this._baseAttributes=Nf(i,e,t),this._textAttributes=Nf(s,e,t),this._setupUniforms=rU(this._metaData.uniforms,e,r)}_createSpecialAttributesFunctions(){return Nf([{location:this._gl.getAttribLocation(this._program,this._metaData.vertexInfoAttribute),size:3,glType:"BYTE",byteSize:3,type:"byte",name:"special"}],this._gl,this._ext)}startPass(e){this._program||this._finishInit(),this._gl.useProgram(this._program),this._resetStencil(),this._setupUniforms(this._gl,e),this._specialAttributes.enable(this._gl),this._specialAttributes.setup(this._specialGlBuffers.vertexInfo,null,0)}_setupAttributes(e,{glBuffer:t,dataBuffer:n,divisor:r}){e.enabled&&!t?e.disable(this._gl):!e.enabled&&t&&e.enable(this._gl),t&&e.setup(t,n,r)}setupBaseAttributes(e){this._setupAttributes(this._baseAttributes,e)}setupTextAttributes(e){this._setupAttributes(this._textAttributes,e)}_resetStencil(){const e=this._gl;this._stencilUsage=dl,e.disable(e.STENCIL_TEST)}setupStencil(e){if(e!==this._stencilUsage){const t=this._gl;e!==dl?(t.enable(t.STENCIL_TEST),e===fI?(t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.stencilFunc(t.ALWAYS,1,1)):e===_I&&(t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(t.EQUAL,0,1))):t.disable(t.STENCIL_TEST),this._stencilUsage=e}}endPass(){const e=this._gl;this._specialAttributes.disable(e),this._baseAttributes.disable(e),this._textAttributes.disable(e)}};function nU(e,t,n){return(r,i,s)=>{let o=0,a=0;for(let l=0;l<e.length;l++)a+=e[l].byteSize;t.bindBuffer(t.ARRAY_BUFFER,r),i&&t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);for(let l=0;l<e.length;l++){const{location:c,size:d,glType:u,byteSize:h}=e[l];t.vertexAttribPointer(c,d,t[u],!1,a,o),o+=h,n.vertexAttribDivisorANGLE(c,s)}}}function rU(e,t,n){const r={};for(let i=0;i<e.length;++i){const{id:s,name:o}=e[i],a=t.getUniformLocation(n,o);a&&(r[s]=a)}return(i,s)=>{for(let o=0;o<e.length;++o){const{id:a,type:l}=e[o],c=r[a],d=s[a];if(c)switch(l){case"int":case"sampler2D":i.uniform1i(c,d);break;case"float":i.uniform1f(c,d);break;case"vec2":i.uniform2f(c,d[0],d[1]);break;case"vec3":i.uniform3f(c,d[0],d[1],d[2]);break;case"vec4":i.uniform4f(c,d[0],d[1],d[2],d[3])}}}}function iU(e){return t=>{for(let n=0;n<e.length;n++){const r=e[n].location;t.enableVertexAttribArray(r)}}}function sU(e){return t=>{for(let n=0;n<e.length;++n){const r=e[n].location;t.disableVertexAttribArray(r)}}}function Nf(e,t,n){const r=iU(e),i=sU(e);return{enable(s){r(s),this.enabled=!0},disable(s){i(s),this.enabled=!1},setup:nU(e,t,n),enabled:!1}}var If=`#define D3D9_FIX 0
precision highp float;
precision mediump int;
uniform vec3 u_backgroundColor;
uniform sampler2D u_patternNearestTexture;
uniform sampler2D u_patternLinearTexture;
uniform sampler2D u_patternLinearSdfTexture;
uniform sampler2D u_patternMipmapTexture;
uniform sampler2D u_shapeTexture;
varying vec4 a;
varying vec4 b;
varying vec4 c;
varying vec2 d;
varying vec2 e;
varying vec4 f;
varying float g;
#if D3D9_FIX
#else
varying float l;
varying vec2 m;
varying vec2 n;
varying vec2 o;
varying float p;
varying float q;
varying vec2 r;
varying vec2 s;
varying float t;
varying float u;
#endif
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SDF_GAMMA = 0.0;
const float EPSILON = 0.000000001;
const float SDF_BUFFER = (256.0 - 64.0) / 256.0; 
vec4 af(in vec4 ag, in vec4 ah) {
float ai = ah.a;
float aj = ag.a + EPSILON;
float ak = min(ai + aj, 1.0);
float r = ai / ak;
return vec4(mix(ag.rgb, ah.rgb, r), ak);
}
float al(in float am, in float an) {
float ao = (am * 256.0 + an) * 256.0;
float ap = ao / 32768.0;
return ap * 2.0 - 1.0;
}
bool aq(float ar, float as) {
return abs(ar - as) < EPSILON;
}
float at(float au) {
float bh = 2.;
vec2 bi = abs(c.rg) - c.ba - vec2(bh) + vec2(au);
float bj = min(max(bi.x, bi.y), 0.0) + length(max(bi, 0.0)) - au;
return smoothstep(0.1, .5, (1. - bj) / 10.);
}
void main() {
#if D3D9_FIX
#else
float bk = o.x;
float bl = o.y;
float bm = r.x;
float bn = r.y;
#endif
vec4 bq = texture2D(u_shapeTexture, d);
float br = al(bq.b, bq.a) * s.x;
float bs = al(bq.r, bq.g) * s.y;
float ca = float(f.z > EPSILON);
float cb = float(f.w > EPSILON);
float cc = 1. - smoothstep(
0.01,
0.25760,
distance(f.xy * f.z - vec2(0.0586), d * f.z)
);
cc = cc *2.5 -1.5;
cc *= 0.5;
cc *= s.x;
float cd = at(g) ;
vec4 ce = a;
vec4 cf = b;
if (u > -EPSILON) {
vec2 cj = e;
float cw =
step(m.x, cj.x) *
step(cj.x, n.x) *
step(m.y, cj.y) *
step(cj.y, n.y);
float cx = cw;
vec4 da;
if (aq(u, FILTER_NEAREST)) {
da = texture2D(u_patternNearestTexture, cj);
} else if (aq(u, FILTER_LINEAR)) { 
da = texture2D(u_patternLinearTexture, cj);
} else if (aq(u, FILTER_LINEAR_SDF)) { 
da = texture2D(u_patternLinearSdfTexture, cj);
da.a = smoothstep(SDF_BUFFER - t, SDF_BUFFER + t, da.a);
} else if (aq(u, FILTER_MIPMAP)) { 
da = texture2D(u_patternMipmapTexture, cj);
}
da.rgb += c.rgb;
da.a *= cx;
ce = af(ce, da);
}
float dp = (1. - ca) * min(br, bs)
+ ca * cc;
dp = (1. - cb) * dp + cb * cd;
float ed = clamp(dp, 0.0, 1.0);
float eg = clamp(dp - l, 0.0, 1.0);
float eh = ed - eg;
eh = 1.0 - clamp(dp - l, 0.0, 1.0);
ce.a *= eg;
cf.a *= eh;
vec4 ei = af(ce, cf);
float ej = ed;
ei.rgb = mix(u_backgroundColor, ei.rgb, bk);
if (q > EPSILON) {
float ew = fract(bn) * q;
float ex = clamp(min(ew, bm - ew), 0.0, 1.0);
ej *= ex;
}
if (p < 0.0 || p > 1.0 || ej < EPSILON
|| (ca > EPSILON && ed < 0.5)) {
discard;
}
ei.a *= ej;
ei.rgb *= ei.a;
gl_FragColor = ei;
}
`,Mf=`#define D3D9_FIX 0
#define ANIMATED 0
precision highp float;
precision mediump int;
attribute /*ushort*/ vec4 a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_final_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_final_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*ushort*/ vec4 a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_prev_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*float*/ vec2 a_animationBeginTime_animationDuration; 
attribute /*ushort*/ vec4 a_animationEasing; 
attribute /*ushort*/ vec3 a_text_charId_charOffsetXY; 
attribute vec3 a_vertexInfo;
uniform float u_viewWidth;
uniform float u_viewHeight;
uniform float u_viewX;
uniform float u_viewY;
uniform float u_viewAngle;
uniform float u_viewZoom;
uniform float u_currentTime;
uniform float u_pixelRatio;
uniform sampler2D u_patternInfoTexture;
varying vec4 a;
varying vec4 b;
varying vec4 c;
varying vec2 d;
varying vec2 e;
varying float g;
#if D3D9_FIX
#else
varying float l;
varying vec2 m;
varying vec2 n;
varying vec2 o;
varying float p;
varying float q;
varying vec2 r;
varying vec2 s;
varying float t;
varying float u;
#endif
varying vec4 f;
const float EPSILON = 0.000001;
const float INFINITY = 10000000.0;
const float PI = 3.14159265359;
const float P2_17 = 131072.0;
const float P2_16 = 65536.0;
const float P2_14 = 32768.0;
const float P2_12 = 4096.0;
const float P2_8 = 256.0;
const float P2_7 = 128.0;
const float P2_6 = 64.0;
const float P2_5 = 32.0;
const float P2_4 = 16.0;
const float P2_3 = 8.0;
const float P2_2 = 4.0;
const float P2_1 = 2.0;
const float MAX_PROGRESS = 1.0;
uniform float BYTES_TO_COORD;
uniform float BYTES_TO_SCALED_SIZE;
uniform float BYTES_TO_MIN_VISIBLE_SIZE;
uniform float BYTES_TO_SYMBOLIC_SIZE;
uniform float BYTES_TO_CURVATURE;
uniform float BYTES_TO_DASH_LENGTH;
uniform float BYTES_TO_GAP_LENGTH;
uniform float BYTES_TO_PATTERN_SCALE;
uniform float PATTERN_POSITION_UNIT_SIZE;
uniform float PATTERN_INFO_TEXTURE_SIZE;
uniform float PATTERN_NEAREST_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_SDF_TEXTURE_SIZE;
uniform float PATTERN_MIPMAP_TEXTURE_SIZE;
uniform float ROUNDED_BOX_RADIUS;
const float BYTES_TO_OFFSET_ANGLE = 0.0;
const float BYTES_TO_COLOR = 0.0;
const float SDF_FONT_SIZE = 0.0;
const float SDF_GAMMA = 0.0;
const float CURVATURE_RATIO = 0.0;
const float PATTERN_PADDING = 0.0;
const float TEXT_WIDTH_MULTIPLIER = 0.0;
const float TEXT_HEIGHT_MULTIPLIER = 0.0;
const float SELF_LOOP_CURVATURE_RATIO = 0.0;
const float EDGE_ARROW_SIZE_RATIO = 0.0;
const float CURVE_SUBDIVISIONS = 0.0;
const float PIECE_NODE_COMPONENT = 0.0;
const float PIECE_TEXT_BOX = 0.0;
const float PIECE_EDGE_BODY = 0.0;
const float PIECE_EDGE_HEAD = 0.0;
const float PIECE_EDGE_TAIL = 0.0;
const float PIECE_EDGE_TEXT = 0.0;
const float MAX_TEXT_SIZE = 0.0;
const float BYTES_TO_TEXT_OFFSET_X = 0.0;
const float BYTES_TO_TEXT_OFFSET_Y = 0.0;
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SHAPE_TEXTURE_SIZE = 0.0;
const float SIMPLE_SHAPE_SAMPLING_SIZE = 0.0;
const float COMPLEX_SHAPE_SAMPLING_SIZE = 0.0;
const float SHAPE_SAMPLING_BUFFER_RATIO = 0.0;
const float MAX_SHAPES = 0.0;
const float FIRST_COMPLEX_SHAPE_ID = 0.0;
const float SELF_LOOP_TO_CIRCLE_APPROX = 0.0;
const float NB_SHAPES_BY_SIDE = SHAPE_TEXTURE_SIZE / COMPLEX_SHAPE_SAMPLING_SIZE;
const float SHAPE_FILL_PERCENT = 1.0 - SHAPE_SAMPLING_BUFFER_RATIO;
const float T_STEP_PER_CURVE_PIECE = 1.0 / CURVE_SUBDIVISIONS;
const float HEAD_TAIL_PX_ADJUST = 1.5;
const float SDF_SMOOTH_FACTOR = 2.0;
struct pm {
float pn;
float po;
float pp;
float pq;
float pr;
float ps;
float pt;
float pu;
};
struct pv {
float pw;
float px;
float py;
float pz;
float qa;
float qb;
float qc;
};
struct qd {
float pn;
float po;
float pp;
float pq;
float pr;
float ps;
float pt;
float pu;
float pw;
float px;
float py;
float pz;
float qa;
float qb;
float qc;
float cv;
float qe;
float qf;
float qg;
float qh;
float qi;
float qj;
vec4 ce;
vec4 cf;
vec4 da;
float qk;
float ql;
float qm;
float qn;
float qo;
float qp;
float qq;
float qr;
float qs;
float qt;
float qu;
float qv;
float qw;
float qx;
float qy;
float qz;
float ra;
float rb;
float rc;
};
struct rd {
float re;
vec2 rf;
vec4 ce;
vec4 cf;
float cv;
float rg;
float rh;
float pp;
float ri;
vec2 rj;
float rk;
vec2 cj;
vec2 rl;
vec2 rm;
float rn;
float ro;
vec4 da;
vec2 bd;
float rp;
float og;
vec2 rq;
vec2 rr;
vec2 rs;
};
float rt(float nf, float ru, float rv) {
float rw = mod(nf, pow(2.0, rv));
return floor(rw / pow(2.0, ru));
}
pm rx(float nf) {
pm ry;
ry.pn = rt(nf, 0.0, 4.0);
ry.po = rt(nf, 4.0, 8.0);
ry.pp = rt(nf, 8.0, 10.0);
ry.pq = rt(nf, 10.0, 12.0);
ry.pr = rt(nf, 12.0, 13.0);
ry.ps = rt(nf, 13.0, 14.0);
ry.pt = rt(nf, 14.0, 15.0);
ry.pu = rt(nf, 15.0, 16.0);
return ry;
}
pv rz(float nf) {
pv ry;
ry.pw = rt(nf, 0.0, 8.0);
ry.px = rt(nf, 8.0, 11.0);
ry.py = rt(nf, 11.0, 12.0);
ry.pz = rt(nf, 12.0, 13.0);
ry.qa = rt(nf, 13.0, 14.0);
ry.qb = rt(nf, 14.0, 15.0);
ry.qc = rt(nf, 15.0, 16.0);
return ry;
}
vec4 sa(in float nf) {
return vec4(
rt(nf, 0.0, 4.0),
rt(nf, 4.0, 8.0),
rt(nf, 8.0, 12.0),
rt(nf, 12.0, 16.0)
);
}
vec2 sb(in float nf) {
return vec2(mod(nf, 256.0), floor(nf / 256.0));
}
vec2 sc(in float nf) {
float sd = floor(nf / P2_6);
float se = nf - (sd * P2_6);
return vec2(sd, se);
}
vec2 sf(in float nf) {
float sg = floor(nf / P2_7);
float sh = nf - (sg * P2_7);
return vec2(sg, sh);
}
vec2 si(in vec2 sj, in float sk) {
float sl = cos(sk);
float sm = sin(sk);
return vec2(sl * sj.x + sm * sj.y, -sm * sj.x + sl * sj.y);
}
vec4 sn(in vec4 so) {
return floor(so / 256.0) - 128.0;
}
vec4 sp(in vec4 so) {
return mod(so, 256.0) - 128.0;
}
float sq(float nf) {
return nf - 128.0;
}
vec2 sq(vec2 nf) {
return nf - 128.0;
}
vec2 sr(vec2 ss) {
return vec2(-ss.y, ss.x);
}
vec2 st(vec2 su, vec2 hu, vec2 sv, float t) {
float sw = 1.0 - t;
return (sw * sw * su) + (2.0 * sw * t * hu) + (t * t * sv);
}
vec2 sx(vec2 su, vec2 sy, vec2 sz, vec2 sv, float t) {
float sw = 1.0 - t;
float ta = sw * sw;
float tb = ta * sw;
float tc = t * t;
float td = tc * t;
return (tb * su) + (3.0 * ta * t * sy) + (3.0 * sw * tc * sz) + (td * sv);
}
vec2 te(vec2 su, vec2 hu, vec2 sv, float t) {
float sw = (1.0 - t);
vec2 sj = (sw * hu + t * sv) - (sw * su + t * hu);
return normalize(sj);
}
vec2 tf(vec2 su, vec2 hu, vec2 sv, float t) {
return sr(te(su, hu, sv, t));
}
vec2 tg(vec2 su, vec2 sy, vec2 sz, vec2 sv, float t) {
float sw = 1.0 - t;
float ta = sw * sw;
float tc = t * t;
vec2 sj = ta * (sy - su) + 2.0 * sw * t * (sz - sy) + tc * (sv - sz);
return normalize(sj);
}
vec2 th(vec2 su, vec2 sy, vec2 sz, vec2 sv, float t) {
return sr(tg(su, sy, sz, sv, t));
}
float ts(float qi, float tt, float t) {
float y = abs(qi) / CURVATURE_RATIO + EPSILON;
float qn = y * y;
float sw = t - 0.5;
float ta = sw * sw;
float tu = 1.0 / (16.0 * qn);
float tv = sqrt(ta + tu);
float tw = (0.5 / y) * sqrt(qn + 0.25);
float tx = (abs(2.0 * y)) * ((sw * tv) + (0.5 * tw) + (tu * log(abs((sw + tv) / (-0.5 + tw)))));
return tx * tt;
}
float ty(vec2 su, vec2 tz, vec2 ua, vec2 sv, float ub) {
vec2 bd = (su + tz + ua) / 3.0;
vec2 uc = bd - tz;
vec2 ud = tz - ua;
float ue = dot(uc, uc);
float uf = dot(ud, ud) / 4.0;
float au = sqrt(ue - uf) * SELF_LOOP_TO_CIRCLE_APPROX * 1.55;
return 2.0 * PI * au * ub;
}
float un(float nf) {
return nf - 32.0;
}
float uo(float nf) {
return nf - 512.0;
}
float up(float nf) {
return nf - P2_14;
}
void uq() {
gl_Position = vec4(-10.0, -10.0, 1.0, 1.0);
}
vec4 ur(vec2 us) {
return vec4(((vec2(us.x, u_viewHeight - us.y) / vec2(u_viewWidth, u_viewHeight)) * 2.0 - 1.0), 0.5, 1.0);
}
float uw(float ar, float as) {
return step(ar - EPSILON, as) * step(as, ar + EPSILON);
}
bool aq(float ar, float as) {
return abs(ar - as) < EPSILON;
}
bool ux(float nf) {
return nf > 0.5;
}
vec2 uy(vec2 uz) {
return si((uz - vec2(u_viewX, u_viewY)) * u_viewZoom, u_viewAngle) + vec2(u_viewWidth, u_viewHeight) / 2.0;
}
float va(float og) {
return og * EDGE_ARROW_SIZE_RATIO;
}
float vb(float vc, float vd) {
return vc * BYTES_TO_SCALED_SIZE * u_viewZoom + vd;
}
float vj(float rg, float vh, float vi) {
float vk = vi - vh;
float a = 1.0 / vk;
float b = -vh / vk;
return rg * a + b;
}
struct vl {
vec2 vm;
vec2 vn;
};
vl vo(vec2 vp, float au, float qi) {
vl nh;
float vq = (au + au / SELF_LOOP_CURVATURE_RATIO * qi) * SELF_LOOP_CURVATURE_RATIO;
float vr = -u_viewAngle + PI;
float vs = -u_viewAngle + PI / 2.0;
nh.vm = vp + vec2(cos(vr), sin(vr)) * vq;
nh.vn = vp + vec2(cos(vs), sin(vs)) * vq;
return nh;
}
float vw(vec2 vx, vec2 tz, vec2 ua, vec2 vy, float vz) {
vec2 wa = vx;
float t = 0.0;
float wb = 0.0;
float wc = ty(vx, tz, ua, vy, 1.0);
return vz / wc;
}
qd wd(
vec4 we,
vec4 wf,
vec4 wg,
vec4 wh,
vec4 wi,
vec4 wj,
vec3 wk
) {
qd a;
pm bq = rx(we.x);
pv wl = rz(we.y);
vec4 wm = sa(we.z);
vec2 wn = sb(we.w);
a.pn = bq.pn;
a.po = bq.po;
a.pp = bq.pp;
a.pq = bq.pq;
a.pr = bq.pr;
a.ps = bq.ps;
a.pt = bq.pt;
a.pu = bq.pu;
a.pw = wl.pw;
a.px = wl.px;
a.py = wl.py;
a.pz = wl.pz;
a.qa = wl.qa;
a.qb = wl.qb;
a.qc = wl.qc;
a.cv = wm.x;
a.qe = wm.y;
a.qf = wm.z;
a.qg = wm.w;
a.qh = wn.x;
a.qi = wn.y;
a.qj = wf.x;
a.ce = sa(wf.y);
a.cf = sa(wf.z);
a.da = sa(wf.w);
a.qk = wg.x;
a.ql = wg.y;
a.qm = wg.z;
a.qn = wg.w;
a.qo = wh.x;
a.qp = wh.y;
a.qq = wh.z;
a.qr = wh.w;
a.qs = wi.x;
a.qt = wi.y;
a.qu = wi.z;
a.qv = wi.w;
a.qw = wj.x;
a.qx = up(wj.y);
a.rb = up(wj.z);
a.rc = up(wj.w);
a.qy = wk.x;
float x = wk.y;
float y = mod(x, P2_8);
if (wk.z > 0.0) x += wk.z * P2_16;
a.qz = ((x - y) / P2_8) - P2_16;
a.ra = (y - P2_7) * BYTES_TO_TEXT_OFFSET_Y;
return a;
}
bool xm(const in qd a, out rd nh) {
float pn = a.pn;
float po = a.po;
float pp = a.pp * BYTES_TO_DASH_LENGTH;
float pq = a.pq * BYTES_TO_GAP_LENGTH;
float pr = a.pr;
float ps = a.ps;
float pt = a.pt;
float pu = a.pu;
float pw = a.pw * BYTES_TO_PATTERN_SCALE;
float px = a.px * BYTES_TO_OFFSET_ANGLE;
float py = a.py;
float pz = a.pz;
float qa = a.qa;
float qb = a.qb;
float qc = a.qc;
float cv = a.cv * BYTES_TO_COLOR;
float qe = a.qe * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qf = a.qf * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qg = a.qg * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float qh = a.qh * BYTES_TO_SYMBOLIC_SIZE * u_viewZoom + step(a.qh, EPSILON) * INFINITY;
float qi = sq(a.qi);
float qj = a.qj;
vec4 ce = a.ce * BYTES_TO_COLOR;
vec4 cf = a.cf * BYTES_TO_COLOR;
vec4 da = a.da * BYTES_TO_COLOR;
vec2 xn = vec2(a.qk, a.ql) * BYTES_TO_COORD;
vec2 xo = vec2(a.qm, a.qn) * BYTES_TO_COORD;
vec2 vx = uy(xn);
vec2 vy = uy(xo);
float xp = vb(a.qo, a.qp);
float xq = vb(a.qq, a.qr);
float xr = vb(a.qs, a.qt);
float re = vb(a.qu, a.qv);
float wo = vb(a.qw, a.qx);
vec2 xs = a_vertexInfo.xy;
vec2 xt = vec2(0.0, 0.0);
float xu = xp;
float xv = xq;
float xw = xq * pw;
if (py > EPSILON) {
if (a.qy < EPSILON) return false;
xw = xr;
qj = a.qy;
xp = xw * TEXT_WIDTH_MULTIPLIER * u_pixelRatio;
xq = xw * TEXT_HEIGHT_MULTIPLIER * u_pixelRatio;
}
bool yp = abs(qi) > EPSILON && uw(po, PIECE_EDGE_BODY) < EPSILON;
bool yq = yp && a_vertexInfo.z > EPSILON;
if (pn < EPSILON || po < EPSILON || qh < qe || yq) {
return false;
}
re *= step(qf, qh);
float ze = 0.0;
float zf = 1.0;
float zb = 0.0;
float zd = 1.0;
float zg = 0.0;
float zq = 1.0;
float zs = 1.0;
float aad = 0.0;
float aae = 0.0;
vec2 bd;
vec2 rq;
vec2 rr;
vec2 rs;
float og;
float rp;
float aaw = 0.0;
float aax = 1.0;
bool cb = uw(po, PIECE_TEXT_BOX) > EPSILON; 
if (uw(po, PIECE_NODE_COMPONENT) > EPSILON || cb) {
bd = ceil((vx + vy) / 2.0);
rq = normalize(vec2(xo.x - xn.x + 0.001, xn.y - xo.y));
rr = sr(rq);
rs = rr;
og = xp;
rp = xq;
} else {
zs = 0.0;
float abk = distance(vx, vy);
vec2 abl = normalize(vy - vx);
vec2 abm = (vx + vy) / 2.0;
vec2 abn = sr(abl);
vec2 abo = abm + (abn * abk * -qi / CURVATURE_RATIO);
if (uw(po, PIECE_EDGE_TEXT) > 0.0
|| uw(po, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0
) {
cb = uw(po, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0;
float abp;
float abq = re;
re = 0.0;
if (pu > EPSILON) {
vl hu = vo(vx, abq / 2.0, qi);
bd = sx(vx, hu.vm, hu.vn, vy, 0.5);
rq = tg(vx, hu.vm, hu.vn, vy, 0.5);
rr = sr(rq);
rs = rr;
abp = ty(vx, hu.vm, hu.vn, vy, 0.5);
} else if (abs(qi) > EPSILON) {
bd = st(vx, abo, vy, 0.5);
rq = te(vx, abo, vy, 0.5);
rr = sr(rq);
rs = rr;
abp = ts(qi, abk, 1.0);
} else {
bd = abm;
rq = abl;
rr = abn;
rs = abn;
abp = abk;
}
og = xp;
rp = xq;
if(xu > abp - abq && pu < EPSILON){
if(pz > EPSILON){
rq = vec2(1.0, 0.0);
rr = vec2(0.0, 1.0);
rs = vec2(0.0, 1.0);
} else {
rq = vec2(0,0);
rr = vec2(0.0, 0.0);
rs = vec2(0.0, 0.0);
}
} else {
float sk = -atan(rq.y, rq.x);
aaw = sk; 
px -= sk;
if ((sk > PI / 2.0 || sk < -PI / 2.0)) {
px += (1.0 - pu) * PI;
aax = -1.0;
rq *= -1.0;
rr *= -1.0;
rs *= -1.0;
}
}
} else {
float zw = xr;
float abz = xp;
float aca = xq;
float acb = pr + ps;
float acc = va(zw);
float acd = pr * acc;
float ace = ps * acc;
float acf = uw(po, PIECE_EDGE_HEAD);
float acg = uw(po, PIECE_EDGE_TAIL);
float ach = INFINITY * pu + abk - abz - aca;
float aci = min(ach / acb, acc);
float acq =
ps * (acc + max(abz + aci - ace, 0.0))
+ (1.0 - ps) * pt * abz;
float acr =
pr * (acc + max(aca + aci - acd, 0.0))
+ (1.0 - pr) * pt * aca;
if (acf > EPSILON || acg > EPSILON) {
vec2 acu = acf * vy + acg * vx;
float wo = acf * acr + acg * acq + (HEAD_TAIL_PX_ADJUST - 0.5);
float acv = acf * acd + acg * ace;
vec2 acw;
if (pu > EPSILON) {
vl hu = vo(vx, abz, qi);
float abp = ty(vx, hu.vm, hu.vn, vy, 1.0);
float vz = acf * (abp - acr) + acg * acq;
float t = vw(vx, hu.vm, hu.vn, vy, vz);
acw = sx(vx, hu.vm, hu.vn, vy, t);
} else {
float abp = ts(qi, abk, 1.0);
float t = (acf * (abp - acr) + acg * acq) / abp;
acw = st(vx, abo, vy, t);
}
rq = normalize(acu - acw);
rr = sr(rq);
rs = rr;
bd = acu - rq * (wo - acv / 2.0);
og = acv;
rp = acv;
pp = 0.0;
pq = 0.0;
} else {
float ada;
float adb;
float adc;
if (abs(qi) < EPSILON) {
bd = abm;
rq = abl;
rr = abn;
rs = rr;
og = abk;
ada = abk;
adb = 0.0;
adc = abk;
} else {
float ade = a_vertexInfo.z;
float adf = ade * T_STEP_PER_CURVE_PIECE;
float tc = adf + T_STEP_PER_CURVE_PIECE;
if (pu < EPSILON) {
vec2 adg = st(vx, abo, vy, adf);
vec2 adh = st(vx, abo, vy, tc);
bd = (adg + adh) / 2.0;
rq = normalize(adh - adg);
rr = tf(vx, abo, vy, adf);
rs = tf(vx, abo, vy, tc);
og = distance(adg, adh);
ada = ts(qi, abk, 1.0);
adb = ts(qi, abk, adf);
adc = ts(qi, abk, tc);
} else {
vl hu = vo(vx, abz, qi);
vec2 tz = hu.vm;
vec2 ua = hu.vn;
vec2 adg = sx(vx, tz, ua, vy, adf);
vec2 adh = sx(vx, tz, ua, vy, tc);
bd = (adg + adh) / 2.0;
rq = normalize(adh - adg);
rr = th(vx, tz, ua, vy, adf);
rs = th(vx, tz, ua, vy, tc);
og = distance(adg, adh);
ada = ty(vx, tz, ua, vy, 1.0);
adb = ty(vx, tz, ua, vy, adf);
adc = ty(vx, tz, ua, vy, tc);
}
}
rp = xr;
zb = (acq - 1.0) / ada - 0.015 * pu;
zd = MAX_PROGRESS + 0.015 * pu
- (acr - HEAD_TAIL_PX_ADJUST) / ada;
ze = adb / ada;
zf = adc / ada;
zg = ada;
if (pt > 0.0 && ach > 5.0) {
float adm = (ada * rp) / (ada - acq);
float wc = ada;
float qk = acq;
float qm = ada - acr;
float a = -adm / wc;
float b = adm;
float ql = a * qk + b;
float qn = a * qm + b;
float adn = ql / (qk - qm);
float bi = -adn * qm;
rp = bi;
aae = adn * wc + bi + 1.0;
}
}
}
}
vec2 cj = vec2(0.0, 0.0);
vec2 rl = vec2(EPSILON, EPSILON);
vec2 rm = vec2(-EPSILON, -EPSILON);
float rn = -1.0;
float ro = 0.0;
bool ado = false;
vec2 adp = vec2(0,0);
vec2 adq = vec2(0,0);
vec2 adr = vec2(0,0);
if (qj > EPSILON && qh > qg) {
float adu = floor(qj / PATTERN_INFO_TEXTURE_SIZE);
float adv = qj - (adu * PATTERN_INFO_TEXTURE_SIZE);
vec4 adw = texture2D(u_patternInfoTexture, vec2(adv, adu) / 255.0) * 255.0;
vec2 adx = sf(adw.z);
vec2 ady = sf(adw.w);
rn = adx.x * 2.0 + ady.x;
float adz = 0.0;
if (aq(rn, FILTER_NEAREST)) { 
adz = PATTERN_NEAREST_TEXTURE_SIZE;
} else if (aq(rn, FILTER_LINEAR)) { 
adz = PATTERN_LINEAR_TEXTURE_SIZE;
} else if (aq(rn, FILTER_LINEAR_SDF)) { 
adz = PATTERN_LINEAR_SDF_TEXTURE_SIZE;
ado = true;
} else if (aq(rn, FILTER_MIPMAP)) { 
adz = PATTERN_MIPMAP_TEXTURE_SIZE;
}
float aec = 1.0 / adz;
vec2 aed = (vec2(adx.y, ady.y) * PATTERN_POSITION_UNIT_SIZE) * aec / 2.0;
adq += (adw.xy * PATTERN_POSITION_UNIT_SIZE * aec) + aed;
aed -= PATTERN_PADDING * aec * 2.0;
vec2 aee = vec2(og / 2.0, rp / 2.0) * aec;
vec2 aef = vec2(re, re) * aec;
float aeh = 1.0 * u_pixelRatio;
float aei = SDF_SMOOTH_FACTOR;
if (pw > EPSILON) {
if (ado) { 
if (a.qa > EPSILON) {
aei = SDF_SMOOTH_FACTOR * u_pixelRatio / SDF_GAMMA;
adp = vec2(-a.rc,-a.rb);
}
ro = aei * SDF_GAMMA / xw / u_pixelRatio;
aeh = SDF_FONT_SIZE / xw;
} else { 
aeh = (aed.y / aee.y) / pw;
}
}
adr = (aee + aef) * aeh;
aed += PATTERN_PADDING * aec;
rl = adq - aed;
rm = adq + aed;
}
if (py > EPSILON) {
xt.y = (a.ra) * xw;
zq = 0.0;
zs = 0.0;
xt.x = a.qz * xw * BYTES_TO_TEXT_OFFSET_X;
xt += vec2(1.0, 1.0);
xt = si(xt, aaw);
xt *= aax;
}
vec2 aen = vec2(cos(px), sin(px)) * wo;
vec2 aeo = bd + aen + xt;
float aep = re * 2.0;
float aeq = og + zs * (aep + 1.0);
float aer = rp + zq * (aep + 1.0);
vec2 aes = rq * aeq / 2.0;
vec2 aet = rr * aer / 2.0;
vec2 aeu = rs * aer / 2.0;
float aev = (zf - ze);
float aew = xs.x / 2.0 + 0.5;
float rg = ze + aev * aew;
float rk = aad + (aae - aad) * rg / 2.0;
float aex = step(pn, FIRST_COMPLEX_SHAPE_ID - EPSILON);
float aey = aex * SIMPLE_SHAPE_SAMPLING_SIZE + (1.0 - aex) * COMPLEX_SHAPE_SAMPLING_SIZE;
float aez = aey / COMPLEX_SHAPE_SAMPLING_SIZE;
float afa = aez * SHAPE_SAMPLING_BUFFER_RATIO / 2.0;
float afb = aez * (1.0 - SHAPE_SAMPLING_BUFFER_RATIO);
vec2 afi = vec2(
mod(pn, NB_SHAPES_BY_SIDE),
floor(pn / NB_SHAPES_BY_SIDE)
);
vec2 afj = afi + vec2(afa) +
vec2(ze * afb, 0.0);
vec2 afm = vec2(aev, 1.0) * afb;
vec2 rf = (afj + afm * (xs / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE;
vec2 rj = vec2(aeq / aev, aer) / 2.0;
float afs = pp * xr;
float aft = pq * xr;
float rh = afs + aft;
float ri = (rg * zg) / rh;
cj = adq
+ adr
* (xs + adp / rj * u_viewZoom);
nh.rf = rf;
float ca = float(pn == 1.);
f = vec4(
(afj + afm * (vec2(0.5,0.5) / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE,
NB_SHAPES_BY_SIDE * (1. - py) * ca,
float(cb)
);
nh.rj = rj;
nh.re = re;
nh.ce = ce;
nh.cf = cf;
nh.cv = cv;
nh.rg = vj(rg, zb, zd);
nh.rh = rh;
nh.pp = afs;
nh.ri = ri;
nh.rk = rk;
nh.cj = cj;
nh.rl = rl;
nh.rm = rm;
nh.rn = rn;
nh.ro = ro;
nh.da = da;
nh.bd = aeo;
nh.og = aeq + ca;
nh.rp = aer + ca;
nh.rq = rq;
nh.rr = rr;
nh.rs = rs;
return true;
}
float aga(float agb, float agc, vec4 agd) {
float age = clamp(((u_currentTime - agb) / agc), 0.0, 1.0);
float r = age;
float agf = r * r;
float agg = agf * r;
vec4 agh = age < 0.5 ? sn(agd) : sp(agd);
float agi = agh.x;
float agj = agh.y;
float agk = agh.z;
float agl = agh.w;
float agm = agi + agj * r + agk * agf + agl * agg;
return agm;
}
void main() {
qd a_final = wd(
a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_final_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_final_x1_y1_x2_y2,
a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
#if ANIMATED
float agb = a_animationBeginTime_animationDuration.x;
float agc = a_animationBeginTime_animationDuration.y;
vec4 agd = a_animationEasing;
float xl = aga(agb, agc, agd);
qd a_prev = wd(
a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_prev_x1_y1_x2_y2,
a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
const float ONE = 1.0;
a_final.pn = mix(a_prev.pn, a_final.pn, ONE);
a_final.pp = mix(a_prev.pp, a_final.pp, xl);
a_final.pq = mix(a_prev.pq, a_final.pq, xl);
a_final.pr = mix(a_prev.pr, a_final.pr, ONE);
a_final.ps = mix(a_prev.ps, a_final.ps, ONE);
a_final.po = mix(a_prev.po, a_final.po, ONE);
a_final.pw = mix(a_prev.pw, a_final.pw, ONE);
a_final.py = mix(a_prev.py, a_final.py, ONE);
a_final.pz = mix(a_prev.pz, a_final.pz, ONE);
a_final.qa = mix(a_prev.qa, a_final.qa, ONE);
a_final.qb = mix(a_prev.qb, a_final.qb, ONE);
a_final.pu = mix(a_prev.pu, a_final.pu, ONE);
a_final.px = mix(a_prev.px, a_final.px, xl);
a_final.cv = mix(a_prev.cv, a_final.cv, xl);
a_final.qe = mix(a_prev.qe, a_final.qe, xl);
a_final.qf = mix(a_prev.qf, a_final.qf, xl);
a_final.qg = mix(a_prev.qg, a_final.qg, xl);
a_final.qh = mix(a_prev.qh, a_final.qh, xl);
a_final.qi = mix(a_prev.qi, a_final.qi, xl);
a_final.qj = mix(a_prev.qj, a_final.qj, ONE);
a_final.ce = mix(a_prev.ce, a_final.ce, xl);
a_final.cf = mix(a_prev.cf, a_final.cf, xl);
a_final.da = mix(a_prev.da, a_final.da, xl);
a_final.qk = mix(a_prev.qk, a_final.qk, xl);
a_final.ql = mix(a_prev.ql, a_final.ql, xl);
a_final.qm = mix(a_prev.qm, a_final.qm, xl);
a_final.qn = mix(a_prev.qn, a_final.qn, xl);
a_final.qo = mix(a_prev.qo, a_final.qo, xl);
a_final.qp = mix(a_prev.qp, a_final.qp, xl);
a_final.qq = mix(a_prev.qq, a_final.qq, xl);
a_final.qr = mix(a_prev.qr, a_final.qr, xl);
a_final.qs = mix(a_prev.qs, a_final.qs, xl);
a_final.qt = mix(a_prev.qt, a_final.qt, xl);
a_final.qu = mix(a_prev.qu, a_final.qu, xl);
a_final.qv = mix(a_prev.qv, a_final.qv, xl);
a_final.qw = mix(a_prev.qw, a_final.qw, xl);
a_final.qx = mix(a_prev.qx, a_final.qx, xl);
a_final.qy = mix(a_prev.qy, a_final.qy, ONE);
a_final.qz = mix(a_prev.qz, a_final.qz, ONE);
a_final.ra = mix(a_prev.ra, a_final.ra, ONE);
#endif
rd nh;
bool agq = xm(a_final, nh);
if (!agq) {
uq();
return;
}
vec2 xs = a_vertexInfo.xy;
a = nh.ce;
b = nh.cf;
c = nh.da;
d = nh.rf;
e = nh.cj;
#if D3D9_FIX
#else
l = nh.re;
m = nh.rl;
n = nh.rm;
o = vec2(nh.cv, nh.rk);
p = nh.rg;
q = nh.rh;
r = vec2(nh.pp, nh.ri);
s = nh.rj;
t = nh.ro;
u = nh.rn;
#endif
float agt = step(xs.x, 0.0);
float agu = 1.0 - agt;
g = min(nh.rp, ROUNDED_BOX_RADIUS * 2.) * u_pixelRatio;
nh.og += f.w * g/2.;
vec2 us = nh.bd
+ nh.rq * (nh.og / 2.0) * xs.x
+ (agt * nh.rr + agu * nh.rs) * nh.rp / 2.0 * xs.y;
c = c * (1. - f.w)
+ vec4(
xs.x * nh.og,
xs.y * nh.rp,
nh.og,
nh.rp
) * u_pixelRatio * f.w;
gl_Position = ur(us);
}
`,Vc=1e20,oU=class{constructor({fontSize:e=24,buffer:t=8,radius:n=6,cutoff:r=.25}={}){this._maxDimension=1,this._gridSize=1,this._fontSize=e,this._buffer=t,this._radius=n,this._cutoff=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Wg),this._canvas=Dn(),this._canvas.height=this._height,this._canvas.width=1;const i=this._canvas.getContext("2d",{willReadFrequently:!0});this._ctx=i,i.textBaseline="middle",i.textAlign="center",i.fillStyle="black"}setOptions({fontSize:e=24,buffer:t=8,cutoff:n=.25,radius:r=6}){this._fontSize=e,this._buffer=t,this._cutoff=n,this._radius=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Wg)}draw(e,t,n){ho(this._ctx,t,this._fontSize,n);const r=aU(this._ctx.measureText(e).width+2*this._buffer)-2*fo,i=this._height,s=r*i,o=Math.max(r,i);this._canvas.width<r&&(this._canvas.width=r,ho(this._ctx,t,this._fontSize,n),this._ctx.textAlign="center",this._ctx.textBaseline="middle",this._ctx.fillStyle="black"),s>this._gridSize&&(this._gridOuter=new Float64Array(s),this._gridInner=new Float64Array(s),this._gridSize=s),o>this._maxDimension&&(this._f=new Float64Array(o),this._d=new Float64Array(o),this._z=new Float64Array(o+1),this._v=new Int16Array(o),this._maxDimension=o),this._ctx.clearRect(0,0,r,i),this._ctx.fillText(e,r/2,i/2);const a=this._ctx.getImageData(0,0,r,i),l=new Uint8ClampedArray(s);for(let c=0;c<s;c++){const d=a.data[4*c+3]/255;this._gridOuter[c]=d===1?0:d===0?Vc:Math.pow(Math.max(0,.5-d),2),this._gridInner[c]=d===1?Vc:d===0?0:Math.pow(Math.max(0,d-.5),2)}i2(this._gridOuter,r,i,this._f,this._d,this._v,this._z),i2(this._gridInner,r,i,this._f,this._d,this._v,this._z);for(let c=0;c<s;c++){const d=this._gridOuter[c]-this._gridInner[c];l[c]=Math.max(0,Math.min(255,Math.round(255-255*(d/this._radius+this._cutoff))))}return{height:i,width:r,distance:l}}};function i2(e,t,n,r,i,s,o){for(let a=0;a<t;a++){for(let l=0;l<n;l++)r[l]=e[l*t+a];s2(r,i,s,o,n);for(let l=0;l<n;l++)e[l*t+a]=i[l]}for(let a=0;a<n;a++){for(let l=0;l<t;l++)r[l]=e[a*t+l];s2(r,i,s,o,t);for(let l=0;l<t;l++)e[a*t+l]=Math.sqrt(i[l])}}function s2(e,t,n,r,i){n[0]=0,r[0]=-Vc,r[1]=+Vc;for(let s=1,o=0;s<i;s++){let a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);for(;a<=r[o];)o--,a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);o++,n[o]=s,r[o]=a,r[o+1]=+Vc}for(let s=0,o=0;s<i;s++){for(;r[o+1]<s;)o++;t[s]=(s-n[o])*(s-n[o])+e[n[o]]}}function aU(e){return Math.ceil((e+2*fo)/tr)*tr}var Xu=256,lU=.275,cU=.25,dU=6,uU=Kj-2*fo,hU=Qj-2*fo,o2={fontSize:Cd,cutoff:lU,radius:dU},gU={fontSize:Cd,cutoff:cU,radius:8},pU=class{constructor(e,t){this._patternIdToInfoTexture=new Uint8Array(Xu*Xu*4),this._glTextures=[],this._textureSizes=[],this._pixelRatio=1,this._gl=e,this._glUnit=t;const n=Dn(vi,vi),r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Pattern: could not get 2d context");this._imageCanvasContext=r,this._imageCanvas=n,this._canvasForDuplicatedImage,this._sdfGenerator=new oU(o2),this._maxTextureSize=Math.min(4096,e.getParameter(e.MAX_TEXTURE_SIZE))}refresh(e){this._pixelRatio=e.getPixelRatio();const t=this._gl,n=this._getPatternsByFilter(e.getPatternList());for(let s=0;s<n.length;++s){const o=s,a=n[s],l=U8(a,this._maxTextureSize),{texture:c,size:d}=YI(o,a,l,this._maxTextureSize,this._patternIdToInfoTexture),u=this._glTextures[o]||(this._glTextures[o]=t.createTexture()),h=o===el?Iv:$_;JS(t,u,this._glUnit+1+o,c,d,o,h),this._textureSizes[o]=d}const r=this._glTextureInfo||(this._glTextureInfo=t.createTexture()),i=this._patternIdToInfoTexture;JS(t,r,this._glUnit,i,Xu,el,$_)}bindMetDataTexture(){const e=this._gl;e.activeTexture(e.TEXTURE0+this._glUnit),e.bindTexture(e.TEXTURE_2D,this._glTextureInfo)}getInfoTextureUnit(){return this._glUnit}getNearestTextureUnit(){return this._glUnit+1+el}getLinearTextureUnit(){return this._glUnit+1+Uc}getLinearSdfTextureUnit(){return this._glUnit+1+$c}getMipmapTextureUnit(){return this._glUnit+1+To}getInfoTextureSize(){return Xu}getNearestTextureSize(){return this._textureSizes[el]}getLinearTextureSize(){return this._textureSizes[Uc]}getLinearSdfTextureSize(){return this._textureSizes[$c]}getMipmapTextureSize(){return this._textureSizes[To]}_getPatternsByFilter(e){const t=new Array(ZS);for(let n=0;n<ZS;++n)t[n]=[];for(let n=0;n<e.length;++n){const r=this._getPatternPixels(e[n]);t[r.filter].push(r)}return t}_getPatternPixels({id:e,type:t,attributes:n}){let r;const{text:i,font:s,style:o,image:a,scaled:l,duplicated:c,colorArray:d}=n;switch(t){case lo:r=c?this._getDuplicatedImagePixels(a):l?this._getScaledImagePixels(a):this._getNonScaledImagePixels(a);break;case Oo:r=this._getSdfTextPixels(i,s,o);break;case qo:r=this._getIconPixels(i,s,o);break;case Xo:r=this._getBadgeIconPixels(i,s,o);break;case ru:r=this._getPieChartPixels(d);break;default:throw new Error(`pattern type "${t}" does not exist`)}return r.id=e,r}_getScaledImagePixels(e){let t=e.width,n=e.height;if(t>0){const r=vi/Math.max(e.width,e.height);t*=r,n*=r}return t&&n&&(t=kl(t),n=kl(n)),t-=2*fo,n-=2*fo,this._getImagePixels(e,t,n)}_getNonScaledImagePixels(e){return this._getImagePixels(e,e.width,e.height)}_getDuplicatedImagePixels(e){if(e.width===0||e.height===0)return this._getImagePixels(e,0,0);this._canvasForDuplicatedImage||(this._canvasForDuplicatedImage=Dn(vi,vi));const t=this._canvasForDuplicatedImage,n=t.getContext("2d"),r=e.width,i=e.height;let s=(vi-r)/2,o=(vi-i)/2;for(;s>0;)s-=r;for(;o>0;)o-=i;for(let a=s;a<vi;a+=r)for(let l=o;l<vi;l+=i)n.drawImage(e,a,l);return this._getImagePixels(t,vi,vi)}_getImagePixels(e,t,n){let r;if(t===0||n===0)r=new Uint8Array(0);else{(this._imageCanvas.width<t||this._imageCanvas.height<n)&&(this._imageCanvas.width=t,this._imageCanvas.height=n);const i=this._imageCanvasContext;E_(this._imageCanvas,i,t,n);try{i.drawImage(e,0,0,t,n)}catch{}r=i.getImageData(0,0,t,n).data}return{width:t,height:n,pixels:r,filter:To}}_getPieChartPixels(e){const t=hU,n=this._imageCanvasContext,r=t/2,i=t/2;return E_(this._imageCanvas,n,t,t),n.save(),n.rect(0,0,t,t),n.clip(),QI(n,e,r,i,t),n.restore(),{width:t,height:t,pixels:n.getImageData(0,0,t,t).data,filter:Uc}}_getTextPixels(e,t,n,r,i,s){const o=this._imageCanvasContext,a=i*this._pixelRatio;ho(o,n,a,r);let l=Math.ceil(o.measureText(t).width);l===0&&(l=a);let c=0,d=0;e===To||(c=2*Math.ceil(a*Wg/2),d=2*Math.ceil(l*AI/2));const u=Math.ceil(l+d),h=Math.ceil(a+c),g=this._imageCanvas.height<h||this._imageCanvas.width<u;return this._imageCanvas.height<h&&(this._imageCanvas.height=h),this._imageCanvas.width<u&&(this._imageCanvas.width=u),g&&ho(o,n,a,r),o.clearRect(0,0,u,h),o.fillStyle="black",o.textBaseline="middle",o.textAlign="left",o.fillText(t,s+d/2,h/2),{width:u,height:h,pixels:o.getImageData(0,0,u,h).data,filter:e}}_getIconPixels(e,t,n){return this._getTextPixels(To,e,t,n,uU,0)}_getBadgeIconPixels(e,t,n){return this._sdfGenerator.setOptions(gU),this._getSdfPixels(e,t,n)}_getSdfTextPixels(e,t,n){return this._sdfGenerator.setOptions(o2),this._getSdfPixels(e,t,n)}_getSdfPixels(e,t,n){const{width:r,height:i,distance:s}=this._sdfGenerator.draw(e,t,n),o=new Uint8Array(r*i*4);for(let a=0;a<s.length;++a)o[4*a+3]=s[a];return{width:r,height:i,pixels:o,filter:$c}}},mU=class{constructor(e,t){this._gl=e,this._glTextureUnit=t,this._simpleShapePixels=new Uint8Array(Uh*Uh*4),this._complexShapePixels=new Uint8Array(Os*Os*4),this._shapesWritten=[]}refresh(e){const t=e.getShapeList();for(const n of t)if(!this._shapesWritten.includes(n.id)){const r=n.isSimple?Uh:Os,i=n.isSimple?this._simpleShapePixels:this._complexShapePixels;$8(n,r,O_,i),this._loadShapeInGpu(n.id,r,i),this._shapesWritten.push(n.id)}}_loadShapeInGpu(e,t,n){const r=this._gl,i=j_,s=e%B_*Os,o=Math.floor(e/B_)*Os;if(this._texture)r.bindTexture(r.TEXTURE_2D,this._texture);else{const a=new Uint8Array(i*i*4);this._texture=r.createTexture(),r.activeTexture(r.TEXTURE0+this._glTextureUnit),r.bindTexture(r.TEXTURE_2D,this._texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i,i,0,r.RGBA,r.UNSIGNED_BYTE,a)}r.texSubImage2D(r.TEXTURE_2D,0,s,o,t,t,r.RGBA,r.UNSIGNED_BYTE,n)}getTextureSize(){return j_}getSamplingSize(){return Os}getBufferRatio(){return O_}getTextureUnit(){return this._glTextureUnit}},a2=class{constructor(e,{vertex:t,fragment:n,constants:r,macros:i}){this._state=0,this._gl=e,this._vertexSource=t,this._fragmentSource=n,this._constants=cn(r||{}),this._macros=cn(i||{})}setConstant(e,t){this._constants[e]=t}setMacro(e,t){this._macros[e]=t}getState(){return this._state}getProgram(){return this._program}compile(){const e=this._gl,t=l2(this._vertexSource,this._macros,this._constants),n=l2(this._fragmentSource,this._macros,this._constants);this._program&&(e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader));const r=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER);if(!(r&&i&&s))throw new Error("Error instantiating WebGL program");this._program=r,this._vertexShader=i,this._fragmentShader=s,e.shaderSource(this._vertexShader,t),e.compileShader(this._vertexShader),e.attachShader(this._program,this._vertexShader),e.shaderSource(this._fragmentShader,n),e.compileShader(this._fragmentShader),e.attachShader(this._program,this._fragmentShader),e.linkProgram(this._program),this._state=1}getError(){const e=this._gl;return e.getShaderParameter(this._vertexShader,e.COMPILE_STATUS)?e.getShaderParameter(this._fragmentShader,e.COMPILE_STATUS)?e.getProgramParameter(this._program,e.LINK_STATUS)?(this._state=2,null):{step:"link",message:e.getProgramInfoLog(this._program)||""}:{step:"fragment",message:e.getShaderInfoLog(this._fragmentShader)||""}:{step:"vertex",message:e.getShaderInfoLog(this._vertexShader)||""}}};function l2(e,t,n){const r=Object.keys(t),i=Object.keys(n);for(let s=0;s<r.length;++s){const o=r[s],a=t[o];e=e.replace(`#define ${o} 0`,`#define ${o} ${a}`)}for(let s=0;s<i.length;++s){const o=i[s],a=n[o],l=a+(a%1==0?".0":"");e=e.replace(`const float ${o} = 0.0;`,`const float ${o} = ${l};`)}return e}function fU(){return typeof window<"u"&&!!window.FORCE_WEBGL}/** @preserve instance id */var c2=ZL(),_U={stencil:!0,antialias:!1,alpha:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!fU()},yU=0,xU=1,vU={NO_WEBGL:'Unable to create a WebGL context: `canvas.getContext("webgl")` and `canvas.getContext("experimental-webgl")` returned `null`',NO_ANGLE_INSTANCED_ARRAYS:'WebGL extension "ANGLE_instanced_arrays" unavailable: `gl.getExtension("ANGLE_instanced_arrays")` returned `null`'},JI=class extends Error{};function Pf(e,t){if(!e&&t){const n=new JI(vU[t]);throw n.code=t,n}}var eM=class extends Nv{constructor(e){super(e),this._2dcanvas=Dn(),this._ctx=this._2dcanvas.getContext("2d"),this._bufferDrawers=[],this._mustResize=!1,this._error=null,this._onContextLost=a=>{a.preventDefault(),this._error=new JI("WebGL context lost"),this.fire("error",this._error)};const t=e.initData||eM.createInitData(),{canvas:n,gl:r,ext:i,staticProgramWrapper:s,animationProgramWrapper:o}=t;Pf(r,"NO_WEBGL"),Pf(i,"NO_ANGLE_INSTANCED_ARRAYS"),this._glCanvas=n,this._gl=r,this._ext=i,this._staticProgramWrapper=s,this._animationProgramWrapper=o,this._shapeTexture=new mU(this._gl,yU),this._patternTexture=new pU(this._gl,xU),this._initCanvas(this._glCanvas),this._computeShaderInfo(),this._initSpecialGlBuffers(),this._initGlPrograms(),this._initGl()}_initCanvas(e){super._initCanvas(e),e.addEventListener("webglcontextlost",this._onContextLost,!1)}static isAvailable(){return c2||Pf(null,"NO_WEBGL"),c2}static createInitData(){const e=Dn(),t=Qp(e,_U),n=t&&typeof t.getExtension=="function"?t.getExtension("ANGLE_instanced_arrays"):null,r=EU(),i=new a2(t,{vertex:Mf,fragment:If,constants:r,macros:{ANIMATED:0}}),s=new a2(t,{vertex:Mf,fragment:If,constants:r,macros:{ANIMATED:1}});return t&&n&&(i.compile(),t.flush()),{canvas:e,gl:t,ext:n,staticProgramWrapper:i,animationProgramWrapper:s}}static getName(){return"WebGL"}_afterFirstFrame(){this._animationProgramWrapper.getState()===0&&this._animationProgramWrapper.compile()}ensureAnimationsReady(){const e=this._animationProgramWrapper.getState();e!==2&&(e===0&&this._animationProgramWrapper.compile(),this._animationProgramWrapper.getError())}getDomElement(){return this._glCanvas}_initGl(){const e=this._gl;e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}_computeShaderInfo(){this._shaderMetadata=bU(Mf,If)}_initGlPrograms(){this._staticProgram=new r2({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._staticProgramWrapper}),this._animationProgram=new r2({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._animationProgramWrapper})}_initSpecialGlBuffers(){const e=this._gl,t=e.createBuffer(),n=new Int8Array(18*hr);for(let r=0;r<hr;++r){const i=[-1,-1,r,1,-1,r,1,1,r,-1,-1,r,-1,1,r,1,1,r],s=r*i.length;for(let o=0;o<i.length;o++)n[o+s]=i[o]}e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this._specialGlBuffers={vertexInfo:t}}_computeUniforms(){return{viewWidth:this._width,viewHeight:this._height,viewX:this._viewX,viewY:this._viewY,viewZoom:this._viewZoom,viewAngle:this._viewAngle,currentTime:this._currentTime,pixelRatio:this._pixelRatio,backgroundColor:this._backgroundRgba,patternInfoTexture:this._patternTexture.getInfoTextureUnit(),patternNearestTexture:this._patternTexture.getNearestTextureUnit(),patternLinearTexture:this._patternTexture.getLinearTextureUnit(),patternLinearSdfTexture:this._patternTexture.getLinearSdfTextureUnit(),patternMipmapTexture:this._patternTexture.getMipmapTextureUnit(),shapeTexture:this._shapeTexture.getTextureUnit(),BYTES_TO_COORD:this._scales.bytesToActualCoord,BYTES_TO_SCALED_SIZE:this._scales.bytesToActualScaledSize,BYTES_TO_MIN_VISIBLE_SIZE:this._scales.bytesToActualMinVisibleSize,BYTES_TO_SYMBOLIC_SIZE:this._scales.bytesToActualSymbolicSize,BYTES_TO_DASH_LENGTH:this._scales.bytesToActualDashLength,BYTES_TO_GAP_LENGTH:this._scales.bytesToActualGapLength,BYTES_TO_PATTERN_SCALE:this._scales.bytesToActualPatternScale,PATTERN_INFO_TEXTURE_SIZE:this._patternTexture.getInfoTextureSize(),PATTERN_NEAREST_TEXTURE_SIZE:this._patternTexture.getNearestTextureSize(),PATTERN_LINEAR_TEXTURE_SIZE:this._patternTexture.getLinearTextureSize(),PATTERN_LINEAR_SDF_TEXTURE_SIZE:this._patternTexture.getLinearSdfTextureSize(),PATTERN_MIPMAP_TEXTURE_SIZE:this._patternTexture.getMipmapTextureSize(),PATTERN_POSITION_UNIT_SIZE:tr,ROUNDED_BOX_RADIUS:this._textManager.getCornerRadius(),SHAPE_TEXTURE_SIZE:this._shapeTexture.getTextureSize(),SHAPE_SAMPLING_SIZE:this._shapeTexture.getSamplingSize(),SHAPE_SAMPLING_BUFFER_RATIO:this._shapeTexture.getBufferRatio(),NB_SHAPES_BY_SIDE:this._shapeTexture.getTextureSize()/this._shapeTexture.getSamplingSize(),SHAPE_DIMENSIONS:this._shapeTexture.getSamplingSize()/this._shapeTexture.getTextureSize(),SHAPE_ACTUAL_RATIO:1-this._shapeTexture.getBufferRatio()}}_render({shapesChanged:e,patternsChanged:t,dimensionsChanged:n,backgroundColorChanged:r}){const i=this._gl;if(this._error)throw this._error;if(e&&(this._shapeTexture.refresh(this._shapeManager),this._patternTexture.bindMetDataTexture()),t&&this._patternTexture.refresh(this._patternManager),n&&(this._mustResize=!0),r){const[a,l,c,d]=this._renderBackground?this._backgroundRgba:[0,0,0,0];i.clearColor(a*d,l*d,c*d,d)}const s=this._computeUniforms(),o=this._getSortedBufferList();this._mustResize&&o.length&&(Rg(this._glCanvas,this._width,this._height,this._pixelRatio),i.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),this._mustResize=!1),i.clear(i.COLOR_BUFFER_BIT|i.STENCIL_BUFFER_BIT);for(let a=0;a<o.length;++a)this._displayBuffer(o[a],s);this._endFrame()}_displayBuffer(e,t){const n=e.getProgram();n!==this._currentProgram&&(this._currentProgram&&this._currentProgram.endPass(),this._currentProgram=n,this._currentProgram.startPass(t)),e.markAsUsed(),e.draw()}_getSortedBufferList(){const e=this._bufferList.getBuffersByAscendingDepth(),t=[];for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&r.markAsUnused()}for(let n=0;n<e.length;++n){const r=e[n],i=this._getBufferDrawer(r);i.markAsUsed(),!r.isEmpty()&&this._isBufferDisplayable(r)&&t.push(i)}for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&!r.isUsed()&&(r.destroy(),this._bufferDrawers[n]=void 0)}return t}_endFrame(){this._currentProgram&&(this._currentProgram.endPass(),this._currentProgram=null)}_getBufferDrawer(e){const t=e.getId();let n=this._bufferDrawers[t];if(!n){for(;this._bufferDrawers.length<=t;)this._bufferDrawers.push(void 0);n=new J8({gl:this._gl,ext:this._ext,staticProgram:this._staticProgram,animationProgram:this._animationProgram}),this._bufferDrawers[t]=n}return n.setDataBuffer(e),n}destroy(){const e=this._gl.getExtension("WEBGL_lose_context");e&&e.loseContext()}getImageData(){const e=this._glCanvas.width,t=this._glCanvas.height;return(this._2dcanvas.width<e||this._2dcanvas.height<t)&&(this._2dcanvas.width=e,this._2dcanvas.height=t),this._ctx.clearRect(0,0,e,t),this._ctx.drawImage(this._glCanvas,0,0),this._ctx.getImageData(0,0,e,t)}_getImageDataFlippedYAxis(){const e=this._gl,t=this._glCanvas.width,n=this._glCanvas.height,r=this._ctx.createImageData(t,n),i=new Uint8Array(r.data.buffer);return e.readPixels(0,0,t,n,e.RGBA,e.UNSIGNED_BYTE,i),r}};function bU(e,t){const n={vertexInfoAttribute:"a_vertexInfo",attributes:[],uniforms:[]};return d2(n,e),d2(n,t),n}var wU={float:1,vec2:2,vec3:3,vec4:4};function d2(e,t){const n=/(?:attribute\s+\/\*\s*(byte|ubyte|short|ushort|float)\s*\*\/\s*(float|vec2|vec3|vec4)\s+(\w+)\s*;)|(?:#if\s*(\w+))|(?:#endif)/g,r=/uniform\s+(float|vec2|vec3|vec4|sampler2D|int)\s+(\w+)\s*;/g,i=[];let s=n.exec(t);for(;s;){const o=s[0];o==="#endif"?i.pop():o.startsWith("#if")?i.push(s[4]):e.attributes.push({name:s[3],size:wU[s[2]],type:s[1],tags:i.slice(),location:null,byteSize:0,glType:null}),s=n.exec(t)}for(s=r.exec(t);s;){if(!e.uniforms.some(({id:o})=>o===s[1])){const o=s[1],a=s[2],l=a.replace("u_","");e.uniforms.push({id:l,name:a,type:o})}s=r.exec(t)}}function EU(){return{BYTES_TO_OFFSET_ANGLE:2*Math.PI/8,BYTES_TO_COLOR:1/15,SDF_FONT_SIZE:Cd,CURVATURE_RATIO:cm,PATTERN_PADDING:fo,TEXT_WIDTH_MULTIPLIER:AI,TEXT_HEIGHT_MULTIPLIER:Wg,SELF_LOOP_CURVATURE_RATIO:qg,EDGE_ARROW_SIZE_RATIO:kI,CURVE_SUBDIVISIONS:hr,PIECE_NODE_COMPONENT:mi,PIECE_TEXT_BOX:cl,PIECE_EDGE_BODY:lm,PIECE_EDGE_HEAD:mv,PIECE_EDGE_TAIL:fv,PIECE_EDGE_TEXT:Ya,MAX_TEXT_SIZE:I8,BYTES_TO_TEXT_OFFSET_X:1/qI,BYTES_TO_TEXT_OFFSET_Y:1/U_,FILTER_NEAREST:el,FILTER_LINEAR:Uc,FILTER_LINEAR_SDF:$c,FILTER_MIPMAP:To,SHAPE_TEXTURE_SIZE:j_,SIMPLE_SHAPE_SAMPLING_SIZE:Uh,COMPLEX_SHAPE_SAMPLING_SIZE:Os,SHAPE_SAMPLING_BUFFER_RATIO:O_,MAX_SHAPES:Hg.toString(),FIRST_COMPLEX_SHAPE_ID:z_,SELF_LOOP_TO_CIRCLE_APPROX:CI,SDF_GAMMA:t6}}var SU={x:0,y:0,zoom:1,angle:0,width:80,height:60,pixelRatio:1,backgroundColor:null,currentTime:0,isBufferDisplayable:Zp,hideImages:!1,renderBackground:!1},Yu={webgl:eM,canvas:H8,svg:Q8},u2=[0,0,0,0],Ff={webgl:null,svg:null,canvas:null},Gc=class extends eu{constructor(e){super(),this._view=cn(SU),this._domWrapper=_s?document.createElement("div"):Fg(),this._domElement=this._domWrapper.appendChild(_s?document.createElement("div"):Fg()),this._currentElementSize=0,this._currentBlockOffset=0,this._currentByteOffset=0,this._blockIdToAddress=new Uint32Array(0),this._renderersByType={},this._switchMainRenderer=!0,this._refreshTexts=!1,this._backgroundColor=null,this._initData=e||{},this._patternManager=new k8,this._shapeManager=new C8,this._boundariesManager=new w8,this._textManager=new M8(this._patternManager),this._bufferOfsetToId=new iN,this._memoryManager=new E8(this._patternManager,this._shapeManager,this._textManager,this._bufferOfsetToId,t=>this.parseColor(t)||u2),this._bufferList=new _8}static createInitData(){const e={};for(const t in Yu)e[t]=Yu[t].createInitData();return e}static cacheInitData(e){Ff=e}static getCachedInitData(){return Ff}static clearCachedInitData(){Ff={webgl:null,svg:null,canvas:null}}freeBlock(e){this._checkBlockId(e);const t=this._blockIdToAddress[e],n=this._bufferList.freeBlock(t);return this._blockIdToAddress[e]=n,n}_ensureDomElementsFitParent(){const e=this._domElement.parentNode;!e||e.offsetWidth===this._view.width&&e.offsetHeight===this._view.height||da(e,`${this._view.width}px`,`${this._view.height}px`)}_ensureCorrectBackgroundColor(){const e=this._domElement.parentNode;this._backgroundColor!==this._view.backgroundColor&&e&&(e.style.backgroundColor=this._view.backgroundColor||"",this._backgroundColor=this._view.backgroundColor)}createGroup(){return new b8}parseColor(e){return yr(e)}clear(){this._blockIdToAddress.fill(0),this._patternManager.reset(),this._boundariesManager.reset(),this._textManager.reset(),this._bufferList.reset(),this._bufferOfsetToId.reset()}notifyFontsReloaded(){this._patternManager.notifyUpdate(),this._textManager.clear(),this._refreshTexts=!0}notifyPatternUpdate(){this._patternManager.notifyUpdate()}getShapePoints(e){return this._shapeManager.getDefinitionFromName(e).points}checkShapeHit(e,t,n){const{getDistanceFromStrokeVertically:r,getDistanceFromStrokeHorizontally:i}=this._shapeManager.getDefinitionFromName(e);return Math.min(r(t,n),i(t,n))>=0}setGlobalBoundaries(e){const{maxBlockId:t=0,maxScaledSize:n,maxMinVisibleSize:r,maxSymbolicSize:i,maxDashLength:s,maxGapLength:o,maxPatternScale:a}=e;return t>this._blockIdToAddress.length&&this._resizeBlockArray(t),!!this._boundariesManager.set(e)&&(this._memoryManager.resizeBoundaries(n,r,i,s,o,a),!0)}_resizeBlockArray(e){const t=new Uint32Array(e);t.set(this._blockIdToAddress),this._blockIdToAddress=t}registerShape(e,t){this._shapeManager.register(e,t)}_bindBlock(e,t,n,r,i,s,o){this._checkBlockId(e);const a=this._blockIdToAddress[e],l=this._bufferList.allocateBlock(a,t,n,r,i,s,o);return this._blockIdToAddress[e]=l.address,this._currentDataView=l.buffer.getDataView(),this._currentElementSize=l.buffer.elementSize,this._currentBlockOffset=l.offset,this._currentByteOffset=this._currentBlockOffset*this._currentElementSize,this._currentSideDataView=l.buffer.getSideDataView(),this._currentSideElementSize=l.buffer.getTotalSideElementsSize(),this._currentSideByteOffset=this._currentBlockOffset*this._currentSideElementSize,l}_setItemIndex(e){const t=this._currentBlockOffset+e;this._currentByteOffset=t*this._currentElementSize,this._currentSideByteOffset=t*this._currentSideElementSize}_checkBlockId(e){e>=this._blockIdToAddress.length&&this._resizeBlockArray(Gs(e+1))}_setTextCharacters(e){this._textManager.storeTextInDataView(this._currentSideDataView,this._currentSideByteOffset,this._currentSideByteOffset+this._currentSideElementSize,e)}_storeElement(e,t){this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset,e.end),t&&(this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset+Sl,e.start),this._memoryManager.storeAnimationInformation(this._currentDataView,this._currentByteOffset+2*Sl,e.animation,Tv.getCoefficients(e.animation.easing)))}storeGroup(e,t){if(!t||t.size===0)return this.freeBlock(e);const n=t.type,r=t.depth,i=t.size,s=t.getElements(),o=t.animated,a=t.stencilUsage,l=t.getId();let c=0;if(n===Wo)for(let u=0;u<i;++u){const h=s[u],{start:g,end:p}=h;if(p.pattern.type===mo){const m=p.pattern.attributes.text;c=Math.max(c,m.length)}if(o&&g.pattern.type===mo){const m=g.pattern.attributes.text;c=Math.max(c,m.length)}}const d=this._bindBlock(e,n,o,r,i,c,a);for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._storeElement(h,o),this._bufferOfsetToId.set(d.buffer.getId(),d.offset+u,l)}if(n===Wo)for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._setTextCharacters(h.end.pattern)}return d.address}_refreshTextElements(){const e=this._bufferList.getBuffers();for(const t of e)if(t&&t.type===Wo){const n=t.getSideDataView(),r=t.getTotalSideElementsSize(),i=t.getSize();let s=0,o=r;for(let a=0;a<i;++a){const l=this._textManager.extractTextFromDataView(n,s,o);this._textManager.storeTextInDataView(n,s,o,l),s=o,o+=r}t.triggerUpdate()}}extractElement(e,t=0){if(!e)return null;const n=this._bufferList.getBlockInfo(e);return this._renderer.extractElement(n.buffer,n.offset+t)}getDomElement(){return this._domElement}getDomWrapper(){return this._domWrapper}measureText(e,t,n,r=1){return this._textManager.measureText(e,t,n,r)}setRenderType(e){this._renderType!==e&&(this._renderType=e,this._switchMainRenderer=!0)}_ensureMainRendererReady(){if(this._switchMainRenderer){this._renderType===null&&(this._renderType="canvas");const e=Yu[this._renderType];e&&e.isAvailable()||(this._renderType="canvas"),this._renderer=this._renderersByType[this._renderType],this._renderer||(this._renderer=this._instanciateRenderer(this._renderType),this._renderer.on("error",t=>this.fire("error",t)),this._renderersByType[this._renderType]=this._renderer),this._updateDomElement()}}_updateDomElement(){const e=this._renderer&&this._renderer.getDomElement(),t=this._domElement;for(;t&&t.firstChild;)t.removeChild(t.firstChild);e&&this._appendDomChild(e)}_appendDomChild(e){e.style.position="absolute",e.style.left="0",e.style.top="0",this._domElement.appendChild(e)}_instanciateRenderer(e){return new(e===null?Nv:Yu[e])({initData:e===null?null:this._initData[e],bufferList:this._bufferList,shapeManager:this._shapeManager,patternManager:this._patternManager,boundariesManager:this._boundariesManager,textManager:this._textManager,memoryManager:this._memoryManager})}setView(e){this._view=Se(Se({},this._view),e)}getTextManager(){return this._textManager}_updateManagers(){this._patternManager.setPixelRatio(this._view.pixelRatio),this._shapeManager.update(),this._patternManager.update(),this._textManager.update(),this._boundariesManager.update(),this._bufferList.update(),this._refreshTexts&&(this._refreshTexts=!1,this._refreshTextElements())}_resizeCanvas(e){WI(e,this._view.width,this._view.height,this._view.pixelRatio)}render(){this._ensureMainRendererReady(),this._ensureDomElementsFitParent(),this._ensureCorrectBackgroundColor(),this._updateManagers(),this._renderer.renderFrame(this._view)}ensureAnimationsReady(){this._ensureMainRendererReady(),this._renderer.ensureAnimationsReady()}export(e,t,n){const r=this._instanciateRenderer(e),i=Se(Se({},this._view),t);return"setViewportClipping"in r&&r.setViewportClipping(!1),this._updateManagers(),r.renderFrame(i),r.export(n).then(()=>r.getDomElement())}getCurrentTime(){return rr()}getImageData(){return this._renderer&&this._renderer.getImageData()}destroy(){for(const e of Object.keys(this._renderersByType)){const t=this._renderersByType[e];t&&t.destroy()}}transparentify(e){const t=this.parseColor(e)||u2;return`rgba(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])},0)`}initDebugRenderingLoop({triggerKey:e="r",start:t=!0}={}){let n=t;document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n)});const r=i=>{(n||i)&&(this.setView({currentTime:rr()}),this.render()),window.requestAnimationFrame(()=>{r()})};window.requestAnimationFrame(()=>{document.body.appendChild(this.getDomElement()),r(!0)})}},AU=class{constructor(e,t){this._attributesManager=e,this._id=t}getDefinition(){return this._attributesManager.getAttributeLayerDefinition(this._id)}update(e){this._attributesManager.updateAttributeLayer(this._id,e)}destroy(){this._attributesManager.destroyAttributeLayer(this._id)}updateElements(e){this._attributesManager.updateElementsForAttributeLayer(this._id,e)}updateAll(){this._attributesManager.updateAllForAttributeLayer(this._id)}setAttributeValues(e,t,n){this._attributesManager.setAttributeLayerValues(this._id,e,t,n)}getUsedAttributeNames(e){return this._attributesManager.getUsedAttributeLayerAttributes(this._id,e)}getFlexArrays(){return this._attributesManager.getAttributeLayerFlexArrays(this._id)}},kU={name:"animationStart",storage:32,default:0},CU={name:"animationDuration",storage:16,default:0},TU={name:"animationEasing",storage:"resource",default:"linear"},LU={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentNodes:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},NU={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},extremities:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},parallelEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},IU={x:1,y:1,radius:1,"halo.hideNonAdjacentEdges":1},pr="Arial",_o="black",Yg="rgba(255,255,255,0)",Cl=12,Id=2,Mv=7,MU=!0,Pv=10,PU=5,tM=.08,nM="rgba(255,255,255,0)",rM="normal",iM="center",sM=!1,oM=0,V_="red",aM="rgb(220, 220, 220)",lM="red",cM="rgb(220, 220, 220)",G_=1,dM="scaled",uM="grey",hM=1,gM=0,pM=0,mM=!0,fM=0,_M=!0,yM="line",xM=null,vM=null,bM="plain",wM="inherit",H_=0,EM="fixed",SM=0,AM=null,W_=10,kM="fixed",CM=1e3,TM=800,LM="rgba(0, 0, 0, 0.6)",NM="rgba(0, 0, 0, 0)",IM=10,MM=1,PM=2,FM="rgba(0, 0, 0, 0.36)",RM=0,FU=1,DM="normal",zM="center",OM=2,q_=2,BM=iu,jM=4,UM=!0,$M=4,X_=2,Y_=12,VM=2;function RU(e,t,n){let r,i,s,o;n==="line"?(r="line",i="plain",s=null,o=null):n==="arrow"?(r="line",i="plain",s="arrow",o=null):n==="tapered"?(r="triangle",i="plain",s=null,o=null):n==="dashed"?(r="line",i="dashed",s=null,o=null):n==="dotted"&&(r="line",i="dotted",s=null,o=null),e.shape.body.set(t,r),e.shape.style.set(t,i),e.shape.head.set(t,s),e.shape.tail.set(t,o)}var GM={width:{_flexArray:G_,_check:Bt(G_)},scalingMethod:{_flexArray:dM,_check:qs},color:{_flexArray:uM,_check:o6},opacity:{_flexArray:hM,_check:rn},minVisibleSize:{_flexArray:gM,_check:rn},layer:{_flexArray:pM,_check:NI},detectable:{_flexArray:mM,_check:$n},curvature:{_flexArray:fM,_check:Yo},adjustAnchors:{_flexArray:_M,_check:$n},shape:{_check:l6,_set:RU,type:"shape.head",body:{_flexArray:yM,_check:c6},head:{_flexArray:xM,_check:LS},tail:{_flexArray:vM,_check:LS},style:{_flexArray:bM,_check:d6}},stroke:{color:{_flexArray:wM,_check:er},width:{_flexArray:H_,_check:Bt(H_)},scalingMethod:{_flexArray:EM,_check:qs},minVisibleSize:{_flexArray:SM,_check:rn}},strokeWidth:"stroke.width",halo:{_alias:"halo.color",color:{_flexArray:AM,_check:Xs},width:{_flexArray:W_,_check:Bt(W_)},scalingMethod:{_flexArray:kM,_check:qs},size:"halo.width"},pulse:{enabled:{_flexArray:!1,_check:$n},duration:{_flexArray:CM,_check:rn},interval:{_flexArray:TM,_check:rn},startColor:{_flexArray:LM,_check:er},endColor:{_flexArray:NM,_check:er},width:{_flexArray:IM,_check:rn},startRatio:{_flexArray:MM,_check:rn},endRatio:{_flexArray:PM,_check:rn}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:$n},color:{_flexArray:FM,_check:Xs},minVisibleSize:{_flexArray:RM,_check:rn}},text:{_alias:"text.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:ul},color:{_flexArray:_o,_check:Xs},size:{_flexArray:Cl,_check:Bt(Cl)},scale:{_flexArray:1,_check:rn},style:{_flexArray:DM,_check:hl},align:{_flexArray:zM,_check:Xg},margin:{_flexArray:OM,_check:Yo},padding:{_flexArray:q_,_check:Bt(q_)},backgroundColor:{_flexArray:Yg,_check:er},minVisibleSize:{_flexArray:jM,_check:rn},position:{_flexArray:BM,_check:s6},adjustAngle:{_flexArray:UM,_check:$n},scaling:{_flexArray:sM,_check:$n},maxLineLength:{_flexArray:oM,_check:rn},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:ul},color:{_flexArray:_o,_check:Xs},size:{_flexArray:Y_,_check:Bt(Y_)},scale:{_flexArray:tM,_check:rn},style:{_flexArray:rM,_check:hl},align:{_flexArray:iM,_check:Xg},margin:{_flexArray:VM,_check:Yo},padding:{_flexArray:X_,_check:Bt(X_)},backgroundColor:{_flexArray:nM,_check:er},minVisibleSize:{_flexArray:$M,_check:rn}}}},HM="grey",WM="white",Fv=2,qM=null,Rv=5,Z_=0,XM="rgba(0, 0, 0, 0.36)",DU=1,zU="circle",Q_=12,_c="white",Zu=12,yc="black",tl=2,xc="black",Dv=40,YM=null,ZM=null,zv=1,QM="black",KM=1e3,JM=800,eP=1,tP=2,nP="rgba(0, 0, 0, 0.0)",rP="rgba(0, 0, 0, 0.6)",iP=50,OU=.1,Bs=12,Qu=24,Md=1,h2=Md/2,g2=.45,p2=.7,BU=10,sP=BU/2,oP=5,jU=Bt(oP),UU=Bt(Cl),$U=Bt(Pv),VU=Bt(Fv),GU=Bt(Rv),HU=Bt(Mv),m2=Bt(Id),WU=Bt(sP),qU=Bt(Dv),XU=Bt(zv);function Ku(e){return{_check:ls,_set:(t,n,r)=>{t.badges[e].text.content.set(n,r),r==null&&t.badges[e].image.url.set(n,r)},_get:(t,n)=>t.badges[e].text.content.get(n),color:{_flexArray:_c,_check:er},scale:{_flexArray:g2,_check:Bt(g2)},positionScale:{_flexArray:1,_check:rn},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)},image:{_alias:`badges.${e}.image.url`,url:{_flexArray:null,_check:ls},scale:{_flexArray:Md,_check:Bt(Md)}},stroke:{color:{_flexArray:yc,_check:er},width:{_flexArray:tl,_check:Bt(tl)},scalingMethod:{_flexArray:"fixed",_check:qs}},text:{_alias:`badges.${e}.text.content`,content:{_flexArray:null,_check:ls},color:{_flexArray:xc,_check:er},font:{_flexArray:pr,_check:ul},style:{_flexArray:"normal",_check:hl},scale:{_flexArray:h2,_check:Bt(h2)},paddingLeft:{_flexArray:0,_check:Yo},paddingTop:{_flexArray:0,_check:Yo}}}}var aP={x:{_flexArray:0,_check:Yo,_disableMemoryOptimization:!0},y:{_flexArray:0,_check:Yo,_disableMemoryOptimization:!0},radius:{_flexArray:oP,_check:jU},scalingMethod:{_flexArray:"scaled",_check:qs},color:{_flexArray:HM,_check:h6},opacity:{_flexArray:1,_check:rn},shape:{_flexArray:"circle",_check:a6},layer:{_flexArray:0,_check:NI},detectable:{_flexArray:!0,_check:$n},draggable:{_flexArray:!0,_check:$n},layoutable:{_flexArray:!0,_check:$n},innerStroke:{_alias:"innerStroke.color",width:{_flexArray:Fv,_check:VU},scalingMethod:{_flexArray:"fixed",_check:qs},color:{_flexArray:WM,_check:er},minVisibleSize:{_flexArray:Q_,_check:Bt(Q_)}},outerStroke:{_alias:"outerStroke.color",width:{_flexArray:Rv,_check:GU},scalingMethod:{_flexArray:"fixed",_check:qs},color:{_flexArray:qM,_check:er},minVisibleSize:{_flexArray:Z_,_check:Bt(Z_)}},badges:{_check:r6,_set(e,t,n){e.badges.topLeft.text.content.set(t,n),e.badges.topLeft.image.url.set(t,n),e.badges.topRight.text.content.set(t,n),e.badges.topRight.image.url.set(t,n),e.badges.bottomLeft.text.content.set(t,n),e.badges.bottomLeft.image.url.set(t,n),e.badges.bottomRight.text.content.set(t,n),e.badges.bottomRight.image.url.set(t,n)},topLeft:Ku("topLeft"),topRight:Ku("topRight"),bottomLeft:Ku("bottomLeft"),bottomRight:Ku("bottomRight")},halo:{_alias:"halo.color",color:{_flexArray:YM,_check:Xs},width:{_flexArray:Dv,_check:qU},scalingMethod:{_flexArray:"fixed",_check:qs},strokeColor:{_flexArray:ZM,_check:Xs},strokeWidth:{_flexArray:zv,_check:XU},clustering:{_flexArray:!1,_check:$n},hideNonAdjacentEdges:{_flexArray:!1,_check:$n}},pulse:{enabled:{_flexArray:!1,_check:$n},duration:{_flexArray:KM,_check:rn},interval:{_flexArray:JM,_check:rn},startColor:{_flexArray:rP,_check:er},endColor:{_flexArray:nP,_check:er},width:{_flexArray:iP,_check:rn},startRatio:{_flexArray:eP,_check:rn},endRatio:{_flexArray:tP,_check:rn}},icon:{_alias:"icon.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:ul},color:{_flexArray:QM,_check:Xs},scale:{_flexArray:p2,_check:Bt(p2)},style:{_flexArray:"normal",_check:hl},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},image:{_alias:"image.url",url:{_flexArray:null,_check:ls},scale:{_flexArray:Md,_check:Bt(Md)},fit:{_flexArray:!0,_check:$n},tile:{_flexArray:!1,_check:$n},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:$n},color:{_flexArray:XM,_check:Xs},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},text:{_alias:"text.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:ul},color:{_flexArray:_o,_check:er},size:{_flexArray:Cl,_check:UU},scale:{_flexArray:OU,_check:rn},style:{_flexArray:"normal",_check:hl},align:{_flexArray:"center",_check:Xg},margin:{_flexArray:Mv,_check:HU},padding:{_flexArray:Id,_check:m2},backgroundColor:{_flexArray:null,_check:er},tip:{_flexArray:!0,_check:$n},minVisibleSize:{_flexArray:Qu,_check:Bt(Qu)},scaling:{_flexArray:!1,_check:$n},position:{_flexArray:"bottom",_check:u6},maxLineLength:{_flexArray:0,_check:rn},truncateLength:{_flexArray:0,_check:rn},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:ul},color:{_flexArray:_o,_check:er},size:{_flexArray:Pv,_check:$U},scale:{_flexArray:.08,_check:rn},style:{_flexArray:"normal",_check:hl},align:{_flexArray:"center",_check:Xg},margin:{_flexArray:sP,_check:WU},padding:{_flexArray:Id,_check:m2},backgroundColor:{_flexArray:null,_check:er},minVisibleSize:{_flexArray:Qu,_check:Bt(Qu)}}}};function Hc(e){return typeof e=="string"}var YU=e=>(t,n)=>t[e].get(n),ZU=(e,t)=>(n,r)=>n[e][t].get(r),QU=(e,t,n)=>(r,i)=>r[e][t][n].get(i),KU=(e,t,n,r)=>(i,s)=>i[e][t][n][r].get(s),JU=e=>(t,n,r)=>t[e].set(n,r),e$=(e,t)=>(n,r,i)=>n[e][t].set(r,i),t$=(e,t,n)=>(r,i,s)=>r[e][t][n].set(i,s),n$=(e,t,n,r)=>(i,s,o)=>i[e][t][n][r].set(s,o),r$=[YU,ZU,QU,KU],i$=[JU,e$,t$,n$];function f2(e,t){if(!e._check)throw new Error(`error somewhere for ${t}`);const n=t.split("."),r=n.length-1,i=r$[r].apply(null,n),s=i$[r].apply(null,n);return{check:e._check,set:s,get:i,nested:{}}}function Zg(e,t){const n=t?aP:GM,r=typeof e=="string"?[e]:la(e,"",[]);let i=!1;const s=[];for(let o=0;o<r.length;o++){const a=r[o].split(".");let l=n[a[0]];for(let d=1;d<a.length;d++)l=l[a[d]];l.type&&(r[o]=l.type),l._alias&&(r[o]=l._alias),r[o]==="badges"&&(r[o]="badges.topLeft.text.content",i=!0);const c=a[a.length-1];c!=="topLeft"&&c!=="topRight"&&c!=="bottomLeft"&&c!=="bottomRight"||(r[o]=`badges.${c}.text.content`,s.push(`badges.${c}.image.url`)),r[o]==="strokeWidth"&&(r[o]="stroke.width")}return i&&(r.push("badges.topLeft.image.url"),r.push("badges.topRight.text.content"),r.push("badges.topRight.image.url"),r.push("badges.bottomLeft.text.content"),r.push("badges.bottomLeft.image.url"),r.push("badges.bottomRight.text.content"),r.push("badges.bottomRight.image.url")),r.push(...s),r}var Ju=e=>(t,n)=>({url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)}),eh=e=>(t,n)=>({color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)}),th=e=>(t,n)=>({content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}),nh=e=>(t,n)=>({color:t.badges[e].color.get(n),scale:t.badges[e].scale.get(n),positionScale:t.badges[e].positionScale.get(n),minVisibleSize:t.badges[e].minVisibleSize.get(n),image:{url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)},stroke:{color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)},text:{content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}}),Is={topLeft:nh("topLeft"),topRight:nh("topRight"),bottomLeft:nh("bottomLeft"),bottomRight:nh("bottomRight")},wi={stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),innerStroke:(e,t)=>({width:e.innerStroke.width.get(t),scalingMethod:e.innerStroke.scalingMethod.get(t),color:e.innerStroke.color.get(t),minVisibleSize:e.innerStroke.minVisibleSize.get(t)}),outerStroke:(e,t)=>({width:e.outerStroke.width.get(t),scalingMethod:e.outerStroke.scalingMethod.get(t),color:e.outerStroke.color.get(t),minVisibleSize:e.outerStroke.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t),strokeColor:e.halo.strokeColor.get(t),strokeWidth:e.halo.strokeWidth.get(t),clustering:e.halo.clustering.get(t),hideNonAdjacentEdges:e.halo.hideNonAdjacentEdges.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),backgroundColor:e.text.backgroundColor.get(t),tip:e.text.tip.get(t),minVisibleSize:e.text.minVisibleSize.get(t),scaling:e.text.scaling.get(t),position:e.text.position.get(t),maxLineLength:e.text.maxLineLength.get(t),truncateLength:e.text.truncateLength.get(t),secondary:wi["text.secondary"](e,t)}),image:(e,t)=>({url:e.image.url.get(t),scale:e.image.scale.get(t),fit:e.image.fit.get(t),tile:e.image.tile.get(t),minVisibleSize:e.image.minVisibleSize.get(t)}),icon:(e,t)=>({content:e.icon.content.get(t),font:e.icon.font.get(t),color:e.icon.color.get(t),scale:e.icon.scale.get(t),style:e.icon.style.get(t),minVisibleSize:e.icon.minVisibleSize.get(t)}),badges:(e,t)=>({topLeft:Is.topLeft(e,t),topRight:Is.topRight(e,t),bottomLeft:Is.bottomLeft(e,t),bottomRight:Is.bottomRight(e,t)}),"badges.topLeft":Is.topLeft,"badges.topRight":Is.topRight,"badges.bottomLeft":Is.bottomLeft,"badges.bottomRight":Is.bottomRight,"badges.topLeft.image":Ju("topLeft"),"badges.topLeft.stroke":eh("topLeft"),"badges.topLeft.text":th("topLeft"),"badges.topRight.image":Ju("topRight"),"badges.topRight.stroke":eh("topRight"),"badges.topRight.text":th("topRight"),"badges.bottomLeft.image":Ju("bottomLeft"),"badges.bottomLeft.stroke":eh("bottomLeft"),"badges.bottomLeft.text":th("bottomLeft"),"badges.bottomRight.image":Ju("bottomRight"),"badges.bottomRight.stroke":eh("bottomRight"),"badges.bottomRight.text":th("bottomRight"),all:(e,t)=>({x:e.x.get(t),y:e.y.get(t),radius:e.radius.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),shape:e.shape.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),draggable:e.draggable.get(t),layoutable:e.layoutable.get(t),innerStroke:wi.innerStroke(e,t),outerStroke:wi.outerStroke(e,t),badges:wi.badges(e,t),halo:wi.halo(e,t),pulse:wi.pulse(e,t),icon:wi.icon(e,t),image:wi.image(e,t),outline:wi.outline(e,t),text:wi.text(e,t)})},Ms={shape:(e,t)=>({body:e.shape.body.get(t),head:e.shape.head.get(t),tail:e.shape.tail.get(t),style:e.shape.style.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),position:e.text.position.get(t),backgroundColor:e.text.backgroundColor.get(t),minVisibleSize:e.text.minVisibleSize.get(t),adjustAngle:e.text.adjustAngle.get(t),scaling:e.text.scaling.get(t),maxLineLength:e.text.maxLineLength.get(t),secondary:Ms["text.secondary"](e,t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t)}),all:(e,t)=>({width:e.width.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),minVisibleSize:e.minVisibleSize.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),curvature:e.curvature.get(t),adjustAnchors:e.adjustAnchors.get(t),shape:Ms.shape(e,t),stroke:Ms.stroke(e,t),halo:Ms.halo(e,t),pulse:Ms.pulse(e,t),outline:Ms.outline(e,t),text:Ms.text(e,t)})};function Ov(e,t,n,r=!0){if((t=t||e)._flexArray!==void 0)return f2(t,n);let i={check:Ii,get:ft,set:ft,nested:{}};if(Hc(t)||t._alias){const s=Hc(t)?t:t._alias;i=f2(an(e,s),s)}else{if(t._set?(i.set=t._set,i.check=t._check):(i.set=ft,i.check=ft),t._get)i.get=t._get;else{const s=r?wi:Ms;i.get=s[n||"all"]}i.nested={}}if(!Hc(t)){const s=Object.keys(t);for(const o of s){const a=t[o];o.startsWith("_")||(i.nested[o]=Ov(e,a,n?n+"."+o:o,r))}}return i}var s$=Ov(aP,void 0,void 0,!0),o$=Ov(GM,void 0,void 0,!1),a$=[];function _2(e){let t=a$;return e.output===void 0?(typeof e.attributes=="function"&&(t="all"),bn(e.attributes)&&(t=la(e.attributes))):e.output&&(t=e.output.attributes),Bv(t,e.allAttributePaths)}function l$(e,t,n,r){if(r>n){for(const i of t.attributes)for(const s of e.attributes)if(s===i)return!0}for(const i of t.tags)for(const s of e.tags)if(i===s)return!0;return!1}function Bi(e,t,n,r,i,s){l$(n,r,i,s)&&e.push(t)}function c$(e){let t=e.dependencies;t===void 0?t=LU:bn(t)||(t={});const n=Xp(e.attributes).some(o=>typeof o=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);let s=t.adjacentEdges;return!s&&t.adjacentNodes&&(s=!0),{self:Wi(t.self,i,e.allAttributePaths),adjacentNodes:Wi(t.adjacentNodes,i,e.allAttributePaths),adjacentEdges:Wi(s,i,e.allAttributePaths),allNodes:Wi(t.allNodes,i,e.allAttributePaths),allEdges:Wi(t.allEdges,i,e.allAttributePaths)}}function d$(e){let t=e.dependencies;t===void 0?t=NU:bn(t)||(t={});const n=Xp(e.attributes).some(s=>typeof s=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);return{self:Wi(t.self,i,e.allAttributePaths),extremities:Wi(t.extremities,i,e.allAttributePaths),parallelEdges:Wi(t.parallelEdges,i,e.allAttributePaths),allNodes:Wi(t.allNodes,i,e.allAttributePaths),allEdges:Wi(t.allEdges,i,e.allAttributePaths)}}function Wi(e,t,n){if(!t)return{attributes:[],tags:[]};if(e===!0)return{attributes:[],tags:[I_]};const r={attributes:Bv((e=e||{}).attributes,n),tags:g$(e.tags)};return e.data&&r.tags.push(M_),e.selection&&r.tags.push(nn),e.hover&&r.tags.push(Bc),r}function u$(e){return Array.isArray(e)?e.join("."):e}function h$(e){return e.map(u$).filter(Hc)}function Bv(e,t){if(e==="all")return t.slice();if(!Array.isArray(e))return[];const n=h$(e);return t?t.filter(r=>n.some(i=>r.startsWith(i))):n}function g$(e){return Array.isArray(e)?e.filter(Hc):[]}var jv={};Zd(jv,{cubicIn:()=>_$,cubicInOut:()=>x$,cubicOut:()=>y$,linear:()=>Qg,quadraticIn:()=>p$,quadraticInOut:()=>f$,quadraticOut:()=>m$});var Qg=e=>e,p$=e=>e*e,m$=e=>e*(2-e),f$=e=>(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1),_$=e=>e*e*e,y$=e=>--e*e*e+1,x$=e=>(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2),y2={storage:1,default:0},Kg=class{constructor({graph:e,isNode:t,includeRemovedElements:n}){this._all=!1,this._isNode=t,this._graph=e,this._includeRemovedElements=n,this._eltList=t?this._graph.nodeList:this._graph.edgeList,this._flexArray=t?e.createNodeAttribute(y2,!1):e.createEdgeAttribute(y2,!1),this._all=!1,this._indexList=e.createIndexList(t)}_getAllIndexes(){const e=this._isNode?this._graph.getNodeMaxIndex():this._graph.getEdgeMaxIndex(),t=new Uint32Array(e);for(let n=1;n<=e;++n)t[n-1]=n;return t}addAll(){this._all=!0}add(e){if(!this._all)for(let t=0;t<e._indexes.length;t++){const n=e._indexes[t];this.addIndex(n)}}addIndex(e){this._flexArray.get(e)===0&&(this._flexArray.set(e,1),this._indexList.push(e))}isEmpty(){return!this._all&&this._indexList.isEmpty()}isFull(){return this._all}getListAndClear(){const e=this.getList();return this.clear(),e}getList(){let e;if(this._all&&!this._includeRemovedElements)e=this._isNode?this._graph.getNodes("all"):this._graph.getEdges("all");else{const t=this._all?this._getAllIndexes():this._indexList.slice();e=this._eltList(t)}return e}clear(){this._all=!1,this._indexList.isEmpty()||(this._indexList.reset(),this._flexArray.reset())}addSet(e){if(e._all)this.addAll();else{const t=e._indexList.getBuffer(),n=e._indexList.getLength();for(let r=0;r<n;++r)this.addIndex(t[r])}}};function lP(e,t=[],n=""){return e.constructor===Og?e.isInitialized()&&t.push(n):e.constructor===Object&&Object.keys(e).forEach(r=>{lP(e[r],t,n?n+"."+r:r)}),t}var x2=class{constructor(e,t,n){this._updatedAttributes=new Set,this._updatedAttributesTmp=new Set,this._allUsedAttributes=new Set,this._graph=e,this._eltName=t?"node":"edge",this._accessors=t?s$:o$,this._createFlexArrays=n;const r=this._createFlexArrays(e,{original:!0,useDefaultValues:!0});this._finalFlexArrays=r;const i=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._prevFlexArrays=i;const s=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._defaultFlexArrays=s,this._currentFlexArrays=this._defaultFlexArrays,this.setLastFlexArrays(this._defaultFlexArrays),this._elementsToRedraw=new Kg({graph:e,isNode:t,includeRemovedElements:!0}),this._elementsUpdated=new Kg({graph:e,isNode:t,includeRemovedElements:!1}),this._finalFlexArraysWrapped=Se(St(Se({},this._finalFlexArrays),{excluded:e.getAttribute(t,"excluded"),textHidden:e.getAttribute(t,"textHidden"),animationStart:e.createAttribute(t,kU),animationDuration:e.createAttribute(t,CU),animationEasing:e.createAttribute(t,TU),id:this._graph.getAttribute(t,"id")}),!t&&{source:e.getEdgeAttribute("source"),target:e.getEdgeAttribute("target")})}clear(){this._elementsToRedraw.clear(),this._elementsUpdated.clear(),this._updatedAttributes.clear(),this._updatedAttributesTmp.clear()}getAttributeFlexArrays(){return this._finalFlexArraysWrapped}getPrevAttributeFlexArrays(){return this._prevFlexArrays}getAnimationInformation(e){const t=e._indexes,n=Array(t.length),r=this._finalFlexArraysWrapped;for(let i=0;i<t.length;i++){const s=t[i];n[i]={duration:r.animationDuration.get(s),start:r.animationStart.get(s),easing:r.animationEasing.get(s)}}return n}setDefaultAttributes(e){la(e).forEach(t=>{const n=an(this._currentFlexArrays,t),r=an(this._prevFlexArrays,t),i=an(this._defaultFlexArrays,t),s=an(this._finalFlexArrays,t);if(!n)return;const o=an(e,t);n.setDefaultValue(o),i.setDefaultValue(o),r.setDefaultValue(o),s.setDefaultValue(o)}),this.redrawAll()}startUpdate(){}prepareFlexArraysUpdate(e){this._currentFlexArrays=e.inputFlexArrays}setLastFlexArrays(e){this._lastFlexArrays=e}updateFlexArrays(e){const{attributes:t,selector:n,context:r,outputFlexArrays:i,toUpdate:s,formattedOutput:o}=e;this._elementsUpdated.addSet(s),this._elementsToRedraw.addSet(s);const a=s.getListAndClear();if(t&&a.size){const{valid:l,invalid:c}=XN(this._graph,a,n,r);for(const d of o.attributes){const u=an(i,d);for(let h=0;h<c._indexes.length;h++){const g=c._indexes[h];u.set(g,void 0)}}this._assignAttributesToFlexArrays(this._accessors,i,l,t,r),this._addUpdatedAttributes(e)}}endUpdate(){const e=this._elementsUpdated.getList(),t=gc(this._updatedAttributesTmp);for(const n of t){const r=an(this._lastFlexArrays,n),i=an(this._finalFlexArrays,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];i.set(o,r.get(o))}}this._updatedAttributesTmp.clear(),this._currentFlexArrays=this._finalFlexArrays}setAttributeValues(e,t,n,r,i){const s=e.outputFlexArrays,o=this._accessors;this._assignAttributesToFlexArrays(o,s,t,n,null),this._addUpdatedAttributes(e,r),this._elementsUpdated.add(t),this._elementsToRedraw.add(t)}notifyLayerDestroyed(e){this._addUpdatedAttributes(e)}_addUpdatedAttributes(e,t){const{outputFlexArrays:n,formattedOutput:r}=e,i=Array.isArray(t)?Bv(t):r.attributes;for(const s of i)an(n,s).isInitialized()&&(this._updatedAttributes.add(s),this._updatedAttributesTmp.add(s),this._allUsedAttributes.add(s))}addUpdatedAttribute(e){this._updatedAttributes.add(e),this._updatedAttributesTmp.add(e),this._allUsedAttributes.add(e)}getUsedAttributeNames(e){return lP(e.outputFlexArrays)}redrawElements(e){this._elementsToRedraw.add(e)}redrawAll(){this._elementsToRedraw.addAll()}getAndResetElementsToRedraw(){return this._elementsToRedraw.getListAndClear()}getAndResetElementsUpdated(){return this._elementsUpdated.getListAndClear()}getAndResetAttributesUpdated(){const e=gc(this._updatedAttributes);return this._updatedAttributes.clear(),e}getUpdatedAttributes(){return this._updatedAttributes}getUpdatedElementsList(){return this._elementsUpdated.getList()}getUpdatedAttributesSet(){return new Set(this._updatedAttributes)}createFlexArrays(){return this._createFlexArrays(this._graph,{original:!1,useDefaultValues:!1})}getAttributeValues(e,t,n,r){const i=r?this._prevFlexArrays:this._currentFlexArrays;return n?this._getMultipleAttributeValues(e,t,i):this._getSingleAttributeValues(e,t,i)}_getAccessor(e=""){let t=this._accessors;const n=oa(e);for(const r of n)if(t=t.nested[r],!t)throw new Error(`${this._eltName} attribute "${n.join("")}" does not exist`);return t}_getSingleAttributeValues(e,t,n){const r=this._getAccessor(t),i=e._indexes,s=Array(i.length);for(let o=0;o<i.length;o++)s[o]=r.get(n,i[o]);return s}_getMultipleAttributeValues(e,t,n){if(!t||t==="all")return this._getSingleAttributeValues(e,"",n);const r=Array(e.size);for(let i=0;i<r.length;++i)r[i]={};for(let i=0;i<t.length;i++){const s=t[i],o=this._getSingleAttributeValues(e,s,n);for(let a=0;a<r.length;++a)Zi(r[a],s,o[a])}return r}setAnimationAttributes(e,{duration:t,startTime:n,easing:r}){const i=e._indexes,s=this._finalFlexArraysWrapped,o=s.animationDuration,a=s.animationStart,l=s.animationEasing,c=gc(this._allUsedAttributes);if(t){let d=!1;for(const u of c){if(u==="x"||u==="y"){d=!0;continue}const h=an(this._finalFlexArrays,u),g=an(this._prevFlexArrays,u);for(let p=0;p<i.length;p++){const m=i[p];g.set(m,h.get(m))}}if(d){const u=rr(),h=this._finalFlexArrays.x,g=this._finalFlexArrays.y,p=this._prevFlexArrays.x,m=this._prevFlexArrays.y;for(let _=0;_<i.length;_++){const y=i[_],f=o.get(y);if(f){const x=a.get(y),v=l.get(y),w=(jv[v]||Qg)(Math.min((u-x)/f,1)),b=S_(p.get(y),h.get(y),w),S=S_(m.get(y),g.get(y),w);p.set(y,b),m.set(y,S)}else p.set(y,h.get(y)),m.set(y,g.get(y))}}}o.fill(i,t),a.fill(i,n),l.fill(i,r)}resetAnimationAttributes(e){this._finalFlexArraysWrapped.animationDuration.fill(e._indexes,0)}getUsedAttributes(){return gc(this._allUsedAttributes)}getDefaultFlexArrays(){return this._defaultFlexArrays}_assignAttributesToFlexArrays(e,t,n,r,i,s=[]){if(typeof r=="function"){const o=s.join(".");for(let a=0;a<n.size;++a){const l=n.get(a);if(l){const c=r(l,i,o);this._assignSingleValueToFlexArray(t,l,e,c,s)}}}else if(bn(r)){const o=Object.keys(r);for(let a=0;a<o.length;++a){const l=o[a];s.push(l);const c=this._getNestedAccessor(e,l,s),d=r[l];this._assignAttributesToFlexArrays(c,t,n,d,i,s),s.pop()}}else if((Array.isArray(r)||ArrayBuffer.isView(r))&&s[0]!=="color")if(s.length===0)for(let o=0;o<n.size;++o)this._assignSingleValueToFlexArray(t,n.get(o),e,r[o],s);else for(let o=0;o<n.size;++o){const a=n._indexes[o],l=e.check(r[o]);e.set(t,a,l)}else{const o=e.check(r);for(let a=0;a<n.size;++a){const l=n.get(a);e.set(t,l._index,o)}}}_getNestedAccessor(e,t,n){const r=e.nested[t];if(!r)throw new Error(`${this._eltName} attribute "${n.join(".")}" does not exist`);return r}_assignSingleValueToFlexArray(e,t,n,r,i){if(bn(r)){const s=Object.keys(r);for(const o of s){i.push(o);const a=r[o],l=this._getNestedAccessor(n,o,i);this._assignSingleValueToFlexArray(e,t,l,a,i),i.pop()}}else{const s=n.check(r);n.set(e,t._index,s)}}};function v$(e,{original:t,useDefaultValues:n}){const r="resource";return{width:e.createAttribute(!1,{storage:r,default:n?G_:void 0,name:"width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?dM:void 0,name:"scalingMethod"},t),color:e.createAttribute(!1,{storage:r,default:n?uM:void 0,name:"color"},t),opacity:e.createAttribute(!1,{storage:r,default:n?hM:void 0,name:"opacity"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?gM:void 0,name:"minVisibleSize"},t),layer:e.createAttribute(!1,{storage:r,default:n?pM:void 0,name:"layer"},t),detectable:e.createAttribute(!1,{storage:r,default:n?mM:void 0,name:"detectable"},t),curvature:e.createAttribute(!1,{storage:r,default:n?fM:void 0,name:"curvature"},t),adjustAnchors:e.createAttribute(!1,{storage:r,default:n?_M:void 0,name:"adjustAnchors"},t),shape:{body:e.createAttribute(!1,{storage:r,default:n?yM:void 0,name:"shape.body"},t),head:e.createAttribute(!1,{storage:r,default:n?xM:void 0,name:"shape.head"},t),tail:e.createAttribute(!1,{storage:r,default:n?vM:void 0,name:"shape.tail"},t),style:e.createAttribute(!1,{storage:r,default:n?bM:void 0,name:"shape.style"},t)},stroke:{color:e.createAttribute(!1,{storage:r,default:n?wM:void 0,name:"stroke.color"},t),width:e.createAttribute(!1,{storage:r,default:n?H_:void 0,name:"stroke.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?EM:void 0,name:"stroke.scalingMethod"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?SM:void 0,name:"stroke.minVisibleSize"},t)},halo:{color:e.createAttribute(!1,{storage:r,default:n?AM:void 0,name:"halo.color"},t),width:e.createAttribute(!1,{storage:r,default:n?W_:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?kM:void 0,name:"halo.scalingMethod"},t)},pulse:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!1,{storage:r,default:n?CM:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!1,{storage:r,default:n?TM:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!1,{storage:r,default:n?LM:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!1,{storage:r,default:n?NM:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!1,{storage:r,default:n?IM:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!1,{storage:r,default:n?MM:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!1,{storage:r,default:n?PM:void 0,name:"pulse.endRatio"},t)},outline:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!1,{storage:r,default:n?FM:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?RM:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!1,{storage:r,default:n?pr:void 0,name:"text.font"},t),color:e.createAttribute(!1,{storage:r,default:n?_o:void 0,name:"text.color"},t),size:e.createAttribute(!1,{storage:r,default:n?Cl:void 0,name:"text.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?FU:void 0,name:"text.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?DM:void 0,name:"text.style"},t),align:e.createAttribute(!1,{storage:r,default:n?zM:void 0,name:"text.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?OM:void 0,name:"text.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?q_:void 0,name:"text.padding"},t),position:e.createAttribute(!1,{storage:r,default:n?BM:void 0,name:"text.position"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?Yg:void 0,name:"text.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?jM:void 0,name:"text.minVisibleSize"},t),adjustAngle:e.createAttribute(!1,{storage:r,default:n?UM:void 0,name:"text.adjustAngle"},t),scaling:e.createAttribute(!1,{storage:r,default:n?sM:void 0,name:"text.scaling"},t),maxLineLength:e.createAttribute(!1,{storage:r,default:n?oM:void 0,name:"text.maxLineLength"},t),secondary:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!1,{storage:r,default:n?pr:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!1,{storage:r,default:n?_o:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!1,{storage:r,default:n?Y_:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?tM:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?rM:void 0,name:"text.secondary.style"},t),align:e.createAttribute(!1,{storage:r,default:n?iM:void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?VM:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?X_:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?nM:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?$M:void 0,name:"text.secondary.minVisibleSize"},t)}}}}function b$(e,{original:t,useDefaultValues:n}){const r="resource";return{x:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"x"},t),y:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"y"},t),radius:e.createAttribute(!0,{storage:r,default:n?5:void 0,name:"radius"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"scaled":void 0,name:"scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?HM:void 0,name:"color"},t),opacity:e.createAttribute(!0,{storage:r,default:n?DU:void 0,name:"opacity"},t),shape:e.createAttribute(!0,{storage:r,default:n?zU:void 0,name:"shape"},t),layer:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"layer"},t),detectable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"detectable"},t),draggable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"draggable"},t),layoutable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"layoutable"},t),innerStroke:{width:e.createAttribute(!0,{storage:r,default:n?Fv:void 0,name:"innerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"innerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?WM:void 0,name:"innerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Q_:void 0,name:"innerStroke.minVisibleSize"},t)},outerStroke:{width:e.createAttribute(!0,{storage:r,default:n?Rv:void 0,name:"outerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"outerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?qM:void 0,name:"outerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Z_:void 0,name:"outerStroke.minVisibleSize"},t)},badges:{topLeft:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Zu:void 0,name:"badges.topLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.topLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?tl:void 0,name:"badges.topLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topLeft.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.topLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.topLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.top"},t)}},topRight:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Zu:void 0,name:"badges.topRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.topRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?tl:void 0,name:"badges.topRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topRight.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.topRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.topRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topRight.text.scale"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.left"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.top"},t)}},bottomLeft:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Zu:void 0,name:"badges.bottomLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.bottomLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?tl:void 0,name:"badges.bottomLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomLeft.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.bottomLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.bottomLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.top"},t)}},bottomRight:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?Zu:void 0,name:"badges.bottomRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.bottomRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?tl:void 0,name:"badges.bottomRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomRight.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.bottomRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.bottomRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomRight.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.top"},t)}}},halo:{color:e.createAttribute(!0,{storage:r,default:n?YM:void 0,name:"halo.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Dv:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"halo.scalingMethod"},t),strokeColor:e.createAttribute(!0,{storage:r,default:n?ZM:void 0,name:"halo.strokeColor"},t),strokeWidth:e.createAttribute(!0,{storage:r,default:n?zv:void 0,name:"halo.strokeWidth"},t),clustering:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.clustering"},t),hideNonAdjacentEdges:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.hideNonAdjacentEdges"},t)},pulse:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!0,{storage:r,default:n?KM:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!0,{storage:r,default:n?JM:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!0,{storage:r,default:n?rP:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!0,{storage:r,default:n?nP:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!0,{storage:r,default:n?iP:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!0,{storage:r,default:n?eP:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!0,{storage:r,default:n?tP:void 0,name:"pulse.endRatio"},t)},icon:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"icon.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"icon.font"},t),color:e.createAttribute(!0,{storage:r,default:n?QM:void 0,name:"icon.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.7:void 0,name:"icon.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"icon.style"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"icon.minVisibleSize"},t)},image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"image.scale"},t),fit:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"image.fit"},t),tile:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"image.tile"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"image.minVisibleSize"},t)},outline:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!0,{storage:r,default:n?XM:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"text.font"},t),color:e.createAttribute(!0,{storage:r,default:n?_o:void 0,name:"text.color"},t),size:e.createAttribute(!0,{storage:r,default:n?Cl:void 0,name:"text.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.1:void 0,name:"text.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?Mv:void 0,name:"text.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Id:void 0,name:"text.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Yg:void 0,name:"text.backgroundColor"},t),tip:e.createAttribute(!0,{storage:r,default:n?MU:void 0,name:"text.tip"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.minVisibleSize"},t),scaling:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"text.scaling"},t),position:e.createAttribute(!0,{storage:r,default:n?"bottom":void 0,name:"text.position"},t),maxLineLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.maxLineLength"},t),truncateLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.truncateLength"},t),secondary:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!0,{storage:r,default:n?_o:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!0,{storage:r,default:n?Pv:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.08:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.secondary.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?PU:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Id:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Yg:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.secondary.minVisibleSize"},t)}}}}var w$=class{constructor(e){this.nodes=new x2(e,!0,b$),this.edges=new x2(e,!1,v$)}setNodeDefaultAttributes(e){this.nodes.setDefaultAttributes(e)}setEdgeDefaultAttributes(e){this.edges.setDefaultAttributes(e)}getFlexArrays(){return{nodes:{current:this.nodes.getAttributeFlexArrays(),previous:this.nodes.getPrevAttributeFlexArrays()},edges:{current:this.edges.getAttributeFlexArrays(),previous:this.edges.getPrevAttributeFlexArrays()}}}redrawAll(){this.nodes.redrawAll(),this.edges.redrawAll()}clear(){this.nodes.clear(),this.edges.clear()}redrawElements(e){this._fetch(e).redrawElements(e)}getAnimationInformation(e){return this._fetch(e).getAnimationInformation(e)}redrawNodes(e){this.nodes.redrawElements(e)}getUsedAttributes(e,t){return this._fetch(t).getUsedAttributeNames(t.isNode?e.nodes:e.edges)}startUpdate(){this.nodes.startUpdate(),this.edges.startUpdate()}notifyDestroyed(e){this.nodes.notifyLayerDestroyed(e.nodes),this.edges.notifyLayerDestroyed(e.edges)}prepareUpdate(e){this.nodes.prepareFlexArraysUpdate(e.nodes),this.edges.prepareFlexArraysUpdate(e.edges)}onUpdate(e){this.nodes.updateFlexArrays(e.nodes),this.edges.updateFlexArrays(e.edges)}afterLayersUpdate(){this.nodes.endUpdate(),this.edges.endUpdate()}getAndResetElementsToRedraw(){return{nodes:this.nodes.getAndResetElementsToRedraw(),edges:this.edges.getAndResetElementsToRedraw()}}getAndResetElementsUpdated(){const e=this.nodes,t=this.edges;return{nodes:e.getAndResetElementsUpdated(),edges:t.getAndResetElementsUpdated(),nodeAttributesSet:e.getUpdatedAttributesSet(),nodeAttributes:e.getAndResetAttributesUpdated(),edgeAttributes:t.getAndResetAttributesUpdated()}}setAnimationAttributes({nodes:e,edges:t},n){this.nodes.setAnimationAttributes(e,n),this.edges.setAnimationAttributes(t,n)}resetAnimationAttributes({nodes:e,edges:t}){this.nodes.resetAnimationAttributes(e),this.edges.resetAnimationAttributes(t)}setLastOutput(e,t){this.nodes.setLastFlexArrays(e),this.edges.setLastFlexArrays(t)}getCurrentInput(){const e=cn(this.nodes.getDefaultFlexArrays()),t=cn(this.edges.getDefaultFlexArrays());return{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:la(e),allEdgeAttributePaths:la(t)}}initializeLayer(e,t,n){e.nodes.allAttributePaths=t,e.edges.allAttributePaths=n,e.nodes.formattedDependencies=c$(e.nodes),e.edges.formattedDependencies=d$(e.edges),e.nodes.formattedOutput={attributes:_2(e.nodes),tags:e.tag?[e.tag]:[]},e.edges.formattedOutput={attributes:_2(e.edges),tags:e.tag?[e.tag]:[]},e.nodes.redrawAdjacentEdges=e.nodes.formattedOutput.attributes.some(r=>IU[r]),e.initialized=!0}connectLayerInputOutput(e,t,n){const r=e.nodes.formattedOutput,i=e.edges.formattedOutput;for(const s of r.attributes){const o=an(t,s),a=an(e.nodes.outputFlexArrays,s);a.setFallback(o),Zi(t,s,a)}for(const s of i.attributes){const o=an(n,s),a=an(e.edges.outputFlexArrays,s);a.setFallback(o),Zi(n,s,a)}}setupLayerDependencies(e,t){if(e===t)return;const n=e.priority,r=t.priority,i=e.nodes.formattedOutput,s=e.edges.formattedOutput,o=t.nodes.formattedDependencies,a=t.edges.formattedDependencies;Bi(e.depsNodeSelf,t,i,o.self,n,r),Bi(e.depsNodeAdjacentNodes,t,i,o.adjacentNodes,n,r),Bi(e.depsNodeAdjacentEdges,t,s,a.extremities,n,r),Bi(e.depsNodeAllNodes,t,i,o.allNodes,n,r),Bi(e.depsNodeAllEdges,t,s,a.allNodes,n,r),Bi(e.depsEdgeSelf,t,s,a.self,n,r),Bi(e.depsEdgeExtremities,t,i,o.adjacentEdges,n,r),Bi(e.depsEdgeParallelEdges,t,s,a.parallelEdges,n,r),Bi(e.depsEdgeAllNodes,t,i,o.allEdges,n,r),Bi(e.depsEdgeAllEdges,t,s,a.allEdges,n,r)}createAttributeLayerData(e,t,n,{tag:r,onBeforeUpdate:i,standaloneSelectors:s}){const o=!!s;return{index:-1,id:t,name:e,tag:r||null,priority:0,depsNodeSelf:[],depsNodeAdjacentNodes:[],depsNodeAdjacentEdges:[],depsNodeAllNodes:[],depsNodeAllEdges:[],depsEdgeSelf:[],depsEdgeExtremities:[],depsEdgeParallelEdges:[],depsEdgeAllNodes:[],depsEdgeAllEdges:[],initialized:!1,onBeforeUpdate:i,nodes:{type:"node",name:e,standaloneSelector:o,toUpdate:new Kg({graph:n,isNode:!0,includeRemovedElements:!1}),outputFlexArrays:this.nodes.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null},edges:{type:"edge",name:e,standaloneSelector:o,toUpdate:new Kg({graph:n,isNode:!1,includeRemovedElements:!1}),outputFlexArrays:this.edges.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null}}}setAttributeValues(e,t,n,r,i){this._fetch(t).setAttributeValues(e,t,n,r,i)}getAttributeValues(e,t,n,r){return this._fetch(e).getAttributeValues(e,t,n,r)}_fetch(e){return e.isNode?this.nodes:this.edges}},E$=(e,t)=>new AU(e,t),S$=class{constructor(e,{graph:t,dom:n}){this._layerIdCounter=0,this._layers=[],this._destroyedLayers=[],this._layersNeedUpdate=!1,this._updateOngoing=!1,this._needUpdate=!1,this._ogma=e,this._graph=t,this._dom=n,this._emptySubgraph={nodes:e.nodeList(),edges:e.edgeList()},this._textHiddenSet=new Jd(this._graph,"textHidden"),this._layerController=new w$(this._graph)}_getLayerById(e){for(let t=0;t<this._layers.length;++t){const n=this._layers[t];if(n.id===e)return n.index=t,n}throw new Error("usage of a destroyed style rule or class")}setDefaultAttributes(e,t){this._layerController.setNodeDefaultAttributes(e),this._layerController.setEdgeDefaultAttributes(t)}getFlexArrays(){return this._layerController.getFlexArrays()}clear(){this._updateOngoing=!1,this._needUpdate=!1,this._destroyedLayers=[],this._layerController.clear(),this.updateAllForAllAttributeLayers()}redrawElements(e){e.size&&(this._layerController.redrawElements(e),this._dom.refresh())}redrawAll(){this._layerController.redrawAll(),this._dom.refresh()}_triggerUpdate(){this._needUpdate=!0,this._dom.refresh()}_reconstructAttributeLayersIfNecessary(){return!!this._layersNeedUpdate&&(this._reconstructAttributeLayers(),this._layersNeedUpdate=!1,this._dom.refresh(),!0)}getAnimationInformation(e){return this._layerController.getAnimationInformation(e)}update(){if(!this._needUpdate||this._updateOngoing||!this._ogma._token)return!1;this._reconstructAttributeLayersIfNecessary(),this._updateOngoing=!0,this._layerController.startUpdate();for(const e of this._destroyedLayers)e.initialized&&this._layerController.notifyDestroyed(e);for(const e of this._layers)this._layerController.prepareUpdate(e),typeof e.onBeforeUpdate=="function"&&e.onBeforeUpdate(e,this,this._layerController),this._layerController.onUpdate(e);return this._layerController.afterLayersUpdate(),this._updateOngoing=!1,this._needUpdate=!1,!0}setAttributeLayerValues(e,t,n,r){const i=this._getLayerById(e),s=t.isNode?i.nodes:i.edges;this._reconstructAttributeLayersIfNecessary(),this._layerController.setAttributeValues(s,t,n,r,i),this._updateElementsForAttributeLayers([i],t)}getAttributeLayerFlexArrays(e){const t=this._getLayerById(e);return{nodes:t.nodes.outputFlexArrays,edges:t.edges.outputFlexArrays}}getUsedAttributeLayerAttributes(e,t){const n=this._getLayerById(e);return this._layerController.getUsedAttributes(n,t)}getUpdatedElements(){return{elementsToRedraw:this._layerController.getAndResetElementsToRedraw(),elementsUpdated:this._layerController.getAndResetElementsUpdated()}}addAttributeLayer(e){const{name:t,layerFactory:n=E$}=e;if(!t)throw new Error("Attribute layer must have a name");if(t&&this._layers.find(i=>i.name===t))throw new Error(`attribute layer with name "${e.name}" already exists`);const r=this._layerController.createAttributeLayerData(t,++this._layerIdCounter,this._graph,e);return this._layers.push(r),this._updateLayer(r,e),n(this,this._layerIdCounter)}_reconstructAttributeLayers(){this._layers.sort((i,s)=>i.priority-s.priority);const{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:n,allEdgeAttributePaths:r}=this._layerController.getCurrentInput();for(const i of this._layers)this._layerController.initializeLayer(i,n,r);for(const i of this._layers){i.nodes.inputFlexArrays=cn(e),i.edges.inputFlexArrays=cn(t),i.depsNodeSelf=[],i.depsNodeAdjacentNodes=[],i.depsNodeAdjacentEdges=[],i.depsNodeAllNodes=[],i.depsNodeAllEdges=[],i.depsEdgeSelf=[],i.depsEdgeExtremities=[],i.depsEdgeParallelEdges=[],i.depsEdgeAllNodes=[],i.depsEdgeAllEdges=[],i.nodes.toUpdate.addAll(),i.edges.toUpdate.addAll(),this._layerController.connectLayerInputOutput(i,e,t);for(const s of this._layers)this._layerController.setupLayerDependencies(i,s)}this._layerController.setLastOutput(e,t);for(const i of this._layers)i.nodes.needAdjacentElements=i.nodes.redrawAdjacentEdges||i.depsNodeAdjacentNodes.length>0||i.depsNodeAdjacentEdges.length>0,i.edges.needAdjacentElements=i.depsEdgeExtremities.length>0||i.depsEdgeParallelEdges.length>0}_updateLayer(e,{priority:t,fullOverwrite:n,nodeAttributes:r,nodeSelector:i,nodeContext:s,nodeDependencies:o,nodeOutput:a,edgeAttributes:l,edgeSelector:c,edgeContext:d,edgeDependencies:u,edgeOutput:h}={}){r!==void 0&&(e.nodes.attributes=n?r:Mg(e.nodes.attributes,r)),i!==void 0&&(e.nodes.selector=i),s!==void 0&&(e.nodes.context=s),o!==void 0&&(e.nodes.dependencies=o),a!==void 0&&(e.nodes.output=a),l!==void 0&&(e.edges.attributes=n?l:Mg(e.edges.attributes,l)),c!==void 0&&(e.edges.selector=c),d!==void 0&&(e.edges.context=d),u!==void 0&&(e.edges.dependencies=u),h!==void 0&&(e.edges.output=h),t!==void 0&&(e.priority=t),this._triggerLayerUpdate()}_triggerLayerUpdate(){this._layersNeedUpdate=!0,this._triggerUpdate()}updateAllForAttributeLayer(e){const t=this._getLayerById(e);this._updateAllForAttributeLayer(t)}updateAllForAllAttributeLayers(){for(const e of this._layers)this._updateAllForAttributeLayer(e)}_updateAllForAttributeLayer(e,t=!0,n=!0){if(t&&!e.nodes.toUpdate.isFull()){e.nodes.toUpdate.addAll();for(const r of e.depsNodeSelf)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsNodeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}if(n&&!e.edges.toUpdate.isFull()){e.edges.toUpdate.addAll();for(const r of e.depsEdgeSelf)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeExtremities)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeParallelEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}this._triggerUpdate()}updateElementsForAttributeLayer(e,t){const n=this._getLayerById(e);this._updateElementsForAttributeLayers([n],t)}updateForAllAttributeLayers(e){this._updateElementsForAttributeLayers(this._layers,e)}_updateElementsForAttributeLayers(e,t){let n=this._emptySubgraph;if(t.isNode){for(const r of e)if(!r.nodes.toUpdate.isFull()){r.nodes.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.nodes.toUpdate.add(t);for(const i of r.depsNodeSelf)i.nodes.toUpdate.add(t);for(const i of r.depsNodeAdjacentNodes)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsNodeAdjacentEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsNodeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsNodeAllEdges)this._updateAllForAttributeLayer(i,!1,!0);r.nodes.redrawAdjacentEdges&&this._layerController.redrawElements(n.edges)}}else for(const r of e)if(!r.edges.toUpdate.isFull()){r.edges.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.edges.toUpdate.add(t);for(const i of r.depsEdgeSelf)i.edges.toUpdate.add(t);for(const i of r.depsEdgeExtremities)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsEdgeParallelEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsEdgeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsEdgeAllEdges)this._updateAllForAttributeLayer(i,!1,!0)}this._triggerUpdate()}destroyAttributeLayer(e){const t=this._getLayerById(e);this._destroyedLayers.push(t),this._layers.splice(t.index,1),this._triggerLayerUpdate()}updateAttributeLayer(e,t){const n=this._getLayerById(e);this._updateLayer(n,t)}getAttributeLayerDefinition(e){const t=this._getLayerById(e),{priority:n,nodes:r,edges:i}=t;return{priority:n,nodeAttributes:r.attributes,nodeSelector:r.selector,nodeContext:r.context,nodeDependencies:r.dependencies,nodeOutput:r.output,edgeAttributes:i.attributes,edgeSelector:i.selector,edgeContext:i.context,edgeDependencies:i.dependencies,edgeOutput:i.output}}getAttributeValues(e,t,n,r){return this.update(),this._layerController.getAttributeValues(e,t,n,r)}setAnimationAttributes(e,t){return this._layerController.setAnimationAttributes(e,t)}resetAnimationAttributes(e){return this._layerController.resetAnimationAttributes(e)}setTextHidden(e,t){const n=this._textHiddenSet.addOrRemoveElements(e,t);this.redrawElements(n)}resetTextHidden(){const{nodes:e,edges:t}=this._textHiddenSet.getElements();this._textHiddenSet.clear(),this._layerController.redrawElements(e),this._layerController.redrawElements(t)}getUsedNodeAttributes(){return this._layerController.nodes.getUsedAttributes()}getUsedEdgeAttributes(){return this._layerController.edges.getUsedAttributes()}interpolateAttributes(e){const t=rr(),n=this._ogma.modules.graphics.getAttributesManager(),r=this._layerController,i=e.isNode?n.getUsedNodeAttributes():n.getUsedEdgeAttributes(),{animationDuration:s,animationEasing:o,animationStart:a}=r.getFlexArrays().nodes.current,l=s.getMultiple(e._indexes),c=o.getMultiple(e._indexes),d=a.getMultiple(e._indexes),u=[];for(let h=0;h<e.size;h++){const g={};i.forEach(p=>{const m=typeof p=="string"?p:p.join("."),_=an(r.getFlexArrays().nodes.previous,p),y=an(r.getFlexArrays().nodes.current,p);if(!y)return;const f=HI(t,d[h],l[h],c[h]);isNaN(f)?g[m]=y.get(e._indexes[h]):m.match(/color/gi)?g[m]=fc(_.get(e._indexes[h]),y.get(e._indexes[h]),f,f):g[m]=zt(_.get(e._indexes[h]),y.get(e._indexes[h]),f)}),u.push(g)}return u}},A$=1e-12;function v2(e){return((e=Math.exp(e))+1/e)/2}function k$(e){return((e=Math.exp(e))-1/e)/2}function C$(e){return((e=Math.exp(2*e))-1)/(e+1)}var T$=function e(t,n,r){function i(s,o){var a,l,c=s[0],d=s[1],u=s[2],h=o[0],g=o[1],p=o[2],m=h-c,_=g-d,y=m*m+_*_;if(y<A$)l=Math.log(p/u)/t,a=function(S){return[c+S*m,d+S*_,u*Math.exp(t*S*l)]};else{var f=Math.sqrt(y),x=(p*p-u*u+r*y)/(2*u*n*f),v=(p*p-u*u-r*y)/(2*p*n*f),w=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(v*v+1)-v);l=(b-w)/t,a=function(S){var A=S*l,C=v2(w),k=u/(n*f)*(C*C$(t*A+w)-k$(w));return[c+k*m,d+k*_,u*C/v2(t*A+w)]}}return a.duration=1e3*l*t/Math.SQRT2,a}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o;return e(o,a,a*a)},i}(Math.SQRT2,2,4),L$=({graphWidth:e,graphHeight:t,viewWidth:n,viewHeight:r})=>.2*Math.min(n/e,r/t),N$=({smallestNodeSize:e,viewWidth:t,viewHeight:n})=>e===1/0?1/0:Math.min(t,n)/e*.5,K_=Math.SQRT2,J_=.15,I$=class extends it{constructor(e,t){super(e),this._zooming=!1,this.debug=!1,this._smoothZoom=(n,r,i)=>{const s=this._modules.settings,o=s.get("interactions.zoom.duration"),a=s.get("interactions.zoom.easing"),l=this._modules.camera.getZoom(),c={duration:o,easing:a};this._zooming||(this._zooming=!0,this._updateVisibility("zoom",!0));const d=s.get("interactions.zoom.speed")||J_;let u=TI(n,d);n<0&&u!==0&&(u=1/u);const h=l*u;this._modules.camera.setZoom(h,c,{x:r,y:i}).then(()=>{this._zooming&&(this._zooming=!1,this._updateVisibility("zoom",!1))})},this.debug=t}onMounted(){const e=this._modules.settings;e.register("interactions.zoom.enabled",!0),e.register("interactions.zoom.onDoubleClick",!1),e.register("interactions.zoom.duration",150),e.register("interactions.zoom.modifier",K_),e.register("interactions.zoom.speed",J_),e.register("interactions.zoom.easing","quadraticOut"),e.register("interactions.zoom.minValue",this.debug?null:L$),e.register("interactions.zoom.maxValue",this.debug?null:N$),e.register("interactions.zoom.hideNodes",!1),e.register("interactions.zoom.hideEdges",!1),e.register("interactions.zoom.hideNodeTexts",!1),e.register("interactions.zoom.hideEdgeTexts",!1),e.register("interactions.pan.enabled",!0),e.register("interactions.pan.hideNodes",!1),e.register("interactions.pan.hideEdges",!1),e.register("interactions.pan.hideNodeTexts",!1),e.register("interactions.pan.hideEdgeTexts",!1),e.register("interactions.rotation.enabled",!0),e.register("interactions.rotation.hideNodes",!1),e.register("interactions.rotation.hideEdges",!1),e.register("interactions.rotation.hideNodeTexts",!1),e.register("interactions.rotation.hideEdgeTexts",!1),e.register("interactions.gesture.enabled",!0),e.register("interactions.gesture.hideNodes",!1),e.register("interactions.gesture.hideEdges",!1),e.register("interactions.gesture.hideNodeTexts",!1),e.register("interactions.gesture.hideEdgeTexts",!1),this._setupInteractions()}_setupInteractions(){this._modules.interactions.onMouseWheel({priority:"zoom",check:()=>!!this._modules.settings.get("interactions.zoom.enabled"),handler:Wp(({x:e,y:t,delta:n})=>this._smoothZoom(n,e,t),50)}),this._modules.interactions.onDoubleClick({priority:"zoom",check:()=>{const e=this._modules.settings.get("interactions.zoom.enabled"),t=this._modules.settings.get("interactions.zoom.onDoubleClick");return!(!e||!t)},handler:({x:e,y:t})=>this._smoothZoom(1,e,t)}),this._modules.interactions.onDrag({priority:"panning",disableDetection:!0,check:({button:e})=>{const t=!!this._modules.settings.get("interactions.pan.enabled");return e==="left"&&t},onStart:()=>this._updateVisibility("pan",!0),onProgress:({dx:e,dy:t})=>this._modules.camera.move({x:-e,y:-t}),onStop:()=>this._updateVisibility("pan",!1)}),this._modules.interactions.onDrag({priority:"rotation",disableDetection:!0,check:({button:e,domEvent:t})=>(e==="right"||t&&t.buttons===2)&&!!this._modules.settings.get("interactions.rotation.enabled"),onStart:({x:e,y:t})=>{this._rotationStart={x:e,y:t},this._updateVisibility("rotation",!0)},onProgress:({x:e,y:t})=>this._rotate({x:e,y:t}),onStop:()=>this._updateVisibility("rotation",!1)}),this._modules.interactions.onGesture({priority:"gesture",disableDetection:!0,check:()=>!!this._modules.settings.get("interactions.gesture.enabled"),onStart:()=>this._updateVisibility("gesture",!0),onProgress:({dx:e,dy:t,rotation:n,scale:r,x:i,y:s})=>{this._modules.settings.get("interactions.rotation.enabled")&&this._modules.camera.rotate(-n),this._modules.camera.zoomIn({modifier:r},{x:i,y:s}),this._modules.camera.move({x:-e,y:-t})},onStop:()=>this._updateVisibility("gesture",!0)})}_rotate({x:e,y:t}){const{width:n,height:r}=this._modules.camera.getSize(),i=n/2,s=r/2,o=this._rotationStart.x-i,a=this._rotationStart.y-s,l=e-i,c=t-s,d=Math.atan2(a,o)-Math.atan2(c,l);this._rotationStart.x=e,this._rotationStart.y=t,this._modules.camera.rotate(d)}_updateVisibility(e,t){const n=!t,r=this._modules.settings,i=r.get(`interactions.${e}.hideNodes`),s=r.get(`interactions.${e}.hideEdges`),o=r.get(`interactions.${e}.hideNodeTexts`),a=r.get(`interactions.${e}.hideEdgeTexts`);i&&this._modules.graphics.setNodesVisibility(n),o&&this._modules.graphics.setNodeTextsVisibility(n),s&&this._modules.graphics.setEdgesVisibility(n),a&&this._modules.graphics.setEdgeTextsVisibility(n)}},b2=1e-8,w2=1e8,Rf={duration:0,easing:"linear",startAfter:0,ignoreZoomLimits:!1,callback:ft};function rh(e){return Math.abs(e)<1e-9}var M$=80,cP=class extends it{constructor(){super(...arguments),this._minZoom=b2,this._maxZoom=w2,this._timeout=0}onMounted(){this._reset(),this._modules.settings.register("minZoom",b2,e=>{this._minZoom=e,this._zoom<e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.settings.register("maxZoom",w2,e=>{this._maxZoom=e,this._zoom>e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.events.on("setContainer",()=>{this._reset(),this._modules.events.fire("move")}).on("resize",()=>{this._reloadDimensions(),this._modules.events.fire("move")})}get x(){return this._x}get y(){return this._y}get zoom(){return this._zoom}get angle(){return this._angle}get width(){return this._dimensions.width}get height(){return this._dimensions.height}moveEnd(e){this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>this._modules.events.fire("viewChanged",{type:e}),M$)}getSize(){return{width:this._dimensions.width,height:this._dimensions.height}}getCenter(){return{x:this._x,y:this._y}}setCenter({x:e,y:t},n){const r=this._x,i=this._y,s=e-this._x,o=t-this._y;return rh(s)&&rh(o)?Promise.resolve():new Promise(a=>{this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const l=this._modules.animations.play(c=>{this._x=r+s*c,this._y=i+o*c,this._modules.events.fire("move").fire("pan")},St(Se(Se({},Rf),n),{callback:()=>this.moveEnd("pan"),resolve:a}));l&&(this._moveAnimation=l)})}move({x:e,y:t},n){const r=E2({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle);return this.setCenter({x:this._x+r.x,y:this._y+r.y},n)}getZoom(){return this._zoom}setZoom(e,t,n={x:void 0,y:void 0}){const{x:r,y:i}=n;let s=Wr(e,this._minZoom,this._maxZoom);return t&&t.ignoreZoomLimits||(s=this._applyZoomLimits(s)),rh(this._zoom-s)?Promise.resolve():new Promise(o=>{const a=St(Se(Se({},Rf),t),{callback:()=>this.moveEnd("zoom"),resolve:o}),l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._zoom,u=l/d-l/s;if(r!==void 0&&i!==void 0){const g=(r-l)/d-(r-l)/s,p=(i-c)/d-(i-c)/s,m=this._cosAngle,_=this._sinAngle,y=m*g-_*p,f=_*g+m*p;this.setCenter({x:this._x+y,y:this._y+f},t)}this._zoomAnimation&&this._modules.animations.cancel(this._zoomAnimation),this._modules.dom.afterNextFrame().then(()=>{this._modules.events.fire("zoomStart",{duration:a.duration,easing:a.easing,startZoom:d,endZoom:s})});const h=this._modules.animations.play(g=>{this._zoom=l/(l/d-u*g),this._modules.events.fire("move").fire("zoom")},a);h&&(this._zoomAnimation=h)})}_applyZoomLimits(e){const t=this._modules.settings.get("interactions.zoom.minValue"),n=this._modules.settings.get("interactions.zoom.maxValue"),{minScaledSize:r,maxScaledSize:i,width:s,height:o,cx:a}=this._modules.locate.getGraphBoundingBox(),l=this._zoom,c=this.getSize();let d=e;if(!isNaN(a)){const u={smallestNodeSize:r,biggestNodeSize:i,graphWidth:s+i,graphHeight:o+i,viewWidth:c.width,viewHeight:c.height},h=t&&t(u),g=n&&n(u);S2(h)&&d<h?d<l&&(d=Math.min(l,h)):S2(g)&&d>g&&d>l&&(d=Math.max(l,g))}return d}zoomIn(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||K_:e.modifier,this.setZoom(this._zoom*n,e,t)}moveToBounds(e,t={}){const n=this._modules.locate.computeConfigForBounds(e,{ignoreZoomLimits:!0});return this.moveTo(n,t)}moveTo(e,t={}){const n=this.getZoom(),r=this.getCenter(),i=e.zoom||this._zoom;return t.duration===0?this.setView(e):new Promise(s=>{const o=Math.min(this.width,this.height),a=T$([r.x,r.y,o/n],[e.x,e.y,o/i]),l=a.duration,c=t.duration||l;this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const d=this._modules.animations.play(u=>{const[h,g,p]=a(u);this._x=h,this._y=g,this._zoom=o/p,this._modules.events.fire("move"),this._modules.events.fire("pan")},{duration:c,easing:t.easing,callback:()=>this.moveEnd("pan"),resolve:s});d&&(this._moveAnimation=d)})}zoomOut(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||K_:e.modifier,this.setZoom(this._zoom/n,e,t)}getAngle(){return this._angle}setAngle(e,t){const n=this._angle,r=e-n;return rh(r)?Promise.resolve():new Promise(i=>{this._rotateAnimation&&this._modules.animations.cancel(this._rotateAnimation);const s=this._modules.animations.play(o=>{for(this._angle=n+r*o;this._angle>Math.PI;)this._angle-=2*Math.PI;for(;this._angle<-Math.PI;)this._angle+=2*Math.PI;this._sinAngle=Math.sin(this._angle),this._cosAngle=Math.cos(this._angle),this._modules.events.fire("move").fire("rotate")},St(Se(Se({},Rf),t),{callback:()=>this.moveEnd("rotate"),resolve:i}));s&&(this._rotateAnimation=s)})}rotate(e,t){return this.setAngle(this._angle+e,t)}getScreenCenter(){return{x:this._dimensions.width/2,y:this._dimensions.height/2}}graphToScreenCoordinates({x:e,y:t},n={x:0,y:0}){const r=this._dimensions.width/2,i=this._dimensions.height/2;return Bg((e-this._x)*this._zoom+r,(t-this._y)*this._zoom+i,r,i,-this._angle,n)}screenToGraphCoordinates({x:e,y:t},n={x:0,y:0}){return Bg(this._x+(e-this._dimensions.width/2)/this._zoom,this._y+(t-this._dimensions.height/2)/this._zoom,this._x,this._y,this._angle,n)}projectBounds(e,t=e){const[n,r,i,s]=e,o=this._x,a=this._y,l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._sinAngle,u=this._cosAngle,h=1/this._zoom;let g=1/0,p=1/0,m=-1/0,_=-1/0;const y=[n,r,n,s,i,s,i,r];for(let f=0;f<y.length;f+=2){let x=y[f],v=y[f+1];x=o+(x-l)*h,v=a+(v-c)*h;const w=x-o,b=v-a;x=u*w-d*b+o,v=d*w+u*b+a,x<g&&(g=x),x>m&&(m=x),v<p&&(p=v),v>_&&(_=v)}return t[0]=g,t[1]=p,t[2]=m,t[3]=_,t}screenToGraphVector({x:e,y:t}){return E2({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle)}getView(){return{x:this._x,y:this._y,zoom:this._zoom,angle:this._angle,width:this._dimensions.width,height:this._dimensions.height}}setView(e,t){const{x:n,y:r,zoom:i,angle:s}=Se({x:this._x,y:this._y,zoom:this._zoom,angle:this._angle},e);return Promise.all([this.setCenter({x:n,y:r},t),this.setZoom(i,t),this.setAngle(s,t)]).then(ft)}_reloadDimensions(){this._dimensions=this._modules.dom.getDimensions()}animationInProgress(){const e=this._moveAnimation,t=this._zoomAnimation,n=this._rotateAnimation;return!!(e&&!e.done||t&&!t.done||n&&!n.done)}getProjectedScreenBounds(e=0){const{width:t,height:n}=this._dimensions,r=Math.max(t,n)*e;return this.projectBounds([0-r,0-r,t+r,n+r])}_reset(){this._zoom=1,this._x=0,this._y=0,this._angle=0,this._sinAngle=0,this._cosAngle=1,this._dimensions=this._modules.dom.getDimensions()}clone(e){const t=new cP(this._ogma);return t._zoom=e.zoom||this._zoom,t._x=e.x||this._x,t._y=e.y||this._y,t._angle=e.angle||this._angle,t._sinAngle=e.sinAngle||this._sinAngle,t._cosAngle=e.cosAngle||this._cosAngle,t._dimensions=e.dimensions?Se({},e.dimensions):Se({},this._dimensions),t}};function E2({x:e,y:t},n,r,i){return{x:i*(e/=n)-r*(t/=n),y:r*e+i*t}}function S2(e){return typeof e=="number"&&isFinite(e)}function P$(e){const t=e.filter(n=>isFinite(n)&&n>0);return t.length?as(t):1}var F$="anonymous",R$="white",D$="default",z$={maxBlockId:1024,maxCoord:-1/0,maxScaledSize:16,maxPixelSize:255,maxMinVisibleSize:64,maxDashOffset:4,maxDashLength:3,maxGapLength:1,maxSymbolicSize:0,maxPatternScale:0},dP=Gp?"webgl":null,A2=5,O$=class extends it{constructor(){super(...arguments),this._debug=!1,this._initDone=!1,this._boundaries={maxSize:10,maxMinVisibleSize:64},this._visibility={nodes:0,edges:0,nodeTexts:0,edgeTexts:0},this._nextAnimationId=1,this._animations=[],this._rendererState={type:null,code:null,state:"ok",message:""},this._cursorStyle=[],this._fontsNewlyLoaded=[],this._nextGeIndex=1,this._availableGeIndexes=[],this._renderOnNewFrame=!0,this._isBufferDisplayable=e=>{const t=qj(e),n=wI(e),r=t?this._visibility.nodes:this._visibility.edges,i=t?this._visibility.nodeTexts:this._visibility.edgeTexts;return r===0&&(!n||i===0)},this._onNewFrame=()=>{this._processAnimations(),this._loadGraphInGraphicsEngine(),this._renderOnNewFrame&&this._render()},this._applyCursorStyle=()=>{const e=this._cursorStyle[this._cursorStyle.length-1]||this._modules.settings.get("cursor.default");Dg(this._domWrapper,e)},this._updateImageCrossOrigin=()=>{this._imageManager.setImgCrossOrigin(this._modules.settings.get("imgCrossOrigin")||null)}}onMounted(){this._debug=this._ogma.isDebug(),this._renderOnNewFrame=!0,this._formatText=bI().applyArabicShaping,this._attributesManager=new S$(this._ogma,this._modules),this._imageManager=new r8,this._fontManager=new fj,this._engine=new Gc(Gc.getCachedInitData()),this._domWrapper=this._engine.getDomWrapper(),this._engine.on("error",this._onNewFrame),this._nodeAnimationMap=new Map,this._edgeAnimationMap=new Map,this._movingNodes=new Set,this._movingEdges=new Set,this._modules.events.register(["reloadFonts","rendererStateChange","beforeUpdateAttributes","updateAttributes","animate","move","pan","zoom","rotate","viewExportStart","viewExportEnd","viewChanged","zoomStart"]),this._modules.settings.register("renderer",dP,e=>{this._updateRendererState({type:e,state:"requested",code:null,message:void 0}),this._engine.setRenderType(e),this._modules.dom.refresh()}),this._modules.settings.register("backgroundColor",R$,e=>{this._engine.parseColor(e)?this._modules.dom.refresh():(ao(`Invalid background color "${e}" specified; will default to black.`),this._modules.settings.set("backgroundColor","black"))}),this._modules.settings.register("texts.hideUntilFontsLoaded",!0,e=>{this._fontManager.setHideUntilFontsLoaded(!!e)}),this._modules.settings.register("texts.cornerRadius",A2,e=>{this._engine.getTextManager().setCornerRadius(typeof e=="number"?e:A2),this._modules.dom.refresh()}),this._modules.settings.register("imgCrossOrigin",F$,this._updateImageCrossOrigin),this._modules.settings.register("cursor.default",D$,this._applyCursorStyle),this._modules.dom.setLayer("graphics",this._domWrapper),this._engine.setGlobalBoundaries(z$),this._modules.dom.beforeNextFrame().then(()=>{this._initDone=!0,this._fireRendererStateChangeEvent()}),this._imageManager.onFetch(()=>{this._engine.notifyPatternUpdate(),this._modules.dom.refresh()}),this._fontManager.onFontLoaded(e=>{this._fontsNewlyLoaded.push(e),this._engine.notifyPatternUpdate(),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}),this._modules.dom.addMediaListener("(min-resolution: 2dppx)",()=>this._modules.dom.refresh()),this._visibleAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${I_})`,tag:I_,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._dataAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${M_})`,tag:M_,nodeDependencies:void 0,edgeDependencies:void 0}),$S(this._engine,this._attributesManager.getFlexArrays()),this._modules.events.on("move",()=>this._modules.dom.refresh()).on("newFrame",this._onNewFrame).on("viewExportStart",()=>{this._renderOnNewFrame=!1}).on("viewExportEnd",()=>{this._renderOnNewFrame=!0}).on("clearGraph",()=>{this._nextGeIndex=1,this._availableGeIndexes=[],this._engine.clear(),this._attributesManager.clear(),this._modules.dom.refresh(),this._animations=[],this._nodeAnimationMap.clear(),this._edgeAnimationMap.clear()}).on("viewChanged",({type:e})=>{if(e==="rotate"){const t=this._modules.graph.getEdges().filter(n=>n.getAttribute("adjustAnchors"));this._attributesManager.redrawElements(t)}}).on("addNodes",e=>{this._attributesManager.updateForAllAttributeLayers(e.nodes)}).on("addEdges",e=>{this._attributesManager.updateForAllAttributeLayers(e.edges)}).on("excludedStateChange",e=>{this._visibleAttributeLayer.updateElements(e.elements)}).on("setData",e=>{this._dataAttributeLayer.updateElements(e.elements)}),Gc.clearCachedInitData(),this._modules.dom.addWindowEventListener("unload",()=>this.destroy())}onReady(e){e.renderer!==void 0&&this._ogma.setOptions({renderer:e.renderer}),e.imgCrossOrigin!==void 0&&this._ogma.setOptions({imgCrossOrigin:e.imgCrossOrigin})}getTransparentBackgroundColor(){const e=this._modules.settings.get("backgroundColor");return e?this._engine.transparentify(e):null}_render(){const e=this._modules.dom.getDimensions(),t=this._modules.camera.getView(),n=Fr(),r=rr(),i=this._modules.settings.get("backgroundColor"),s=this._isBufferDisplayable;this._engine.setView({x:t.x,y:t.y,zoom:t.zoom,angle:t.angle,width:e.width,height:e.height,pixelRatio:n,currentTime:r,backgroundColor:i,isBufferDisplayable:s});try{this._engine.render(),this._rendererState.state==="requested"&&this._updateRendererState({state:"ok"})}catch(o){if(this._debug)throw o;const{message:a,code:l="OTHER"}=o,c=this._rendererState.type,d=m8(c);let u=this._rendererState.state==="requested"?`Error while initializing the ${d} renderer`:`The ${d} renderer encountered an unexpected runtime error`,h=null;c==="webgl"&&(u+="; fallbacking on canvas renderer",h="canvas"),ao(a||""),ao(u),this._updateRendererState({state:"error",code:l,message:a}),this._modules.settings.set("renderer",h)}}_fireRendererStateChangeEvent(){const e=this._rendererState;this._modules.events.fire("rendererStateChange",{type:e.type,state:e.state,code:e.code,message:e.message})}_updateRendererState({type:e,state:t,code:n,message:r}){let i=!1;e!==void 0&&this._rendererState.type!==e&&(this._rendererState.type=e,i=!0),t!==void 0&&this._rendererState.state!==t&&(this._rendererState.state=t,i=!0),n!==void 0&&this._rendererState.code!==n&&(this._rendererState.code=n,i=!0),r!==void 0&&this._rendererState.message!==r&&(this._rendererState.message=r,i=!0),i&&this._initDone&&this._fireRendererStateChangeEvent()}getImageData(){return this._modules.dom.afterNextFrame().then(()=>this._engine.getImageData())}getNodeAttributes(){return this._attributesManager.getFlexArrays().nodes.current}getEdgeAttributes(){return this._attributesManager.getFlexArrays().edges.current}getGraphicsEngine(){return this._engine}getImageManager(){return this._imageManager}getFontManager(){return this._fontManager}allocateGraphicsEngineBlockId(){return this._availableGeIndexes.length?this._availableGeIndexes.pop():this._nextGeIndex++*am+kj}releaseGraphicsEngineBlockId(e){this._engine.freeBlock(e),this._availableGeIndexes.push(e),this._modules.dom.refresh()}addCursorStyle(e){e&&(this._cursorStyle.push(e),this._applyCursorStyle())}removeCursorStyle(e){if(!e)return;const t=this._cursorStyle.lastIndexOf(e);t!==-1&&(this._cursorStyle.splice(t,1),this._applyCursorStyle())}reloadFonts(){this._modules.events.fire("reloadFonts"),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}getDomElement(){return this._domWrapper}setTextHidden(e,t){this._attributesManager.setTextHidden(e,t)}resetTextHidden(){this._attributesManager.resetTextHidden(),this._modules.dom.refresh()}getAttributesManager(){return this._attributesManager}_checkFontsNewlyLoaded(){return!!this._fontsNewlyLoaded.length&&(this._fontsNewlyLoaded=[],!0)}_loadGraphInGraphicsEngine(){this._attributesManager.update(),this._checkFontsNewlyLoaded()&&this._attributesManager.redrawAll(),this._modules.events.fire("beforeUpdateAttributes");const{elementsToRedraw:e,elementsUpdated:t}=this._attributesManager.getUpdatedElements(),n=t.nodes.size>0||t.edges.size>0;(t.nodeAttributesSet.has("radius")||t.edgeAttributes.includes("width"))&&(this._boundaries.maxSize=p8(this._modules.graph)),(t.nodeAttributesSet.has("shape")||t.edgeAttributes.includes("shape.head")||t.edgeAttributes.includes("shape.tail"))&&$S(this._engine,this._attributesManager.getFlexArrays()),z6({graph:this._modules.graph,elements:e,engine:this._engine,imageManager:this._imageManager,fontManager:this._fontManager,view:this._modules.camera.getView(),attributes:this._attributesManager.getFlexArrays(),boundaries:this._boundaries,formatText:this._formatText}),n&&this._modules.events.fire("updateAttributes",t)}_forceCompleteGraphRefresh(){this._attributesManager.redrawAll(),this._loadGraphInGraphicsEngine()}export(e,t,n,r){let i;return Promise.all([this._modules.graph.getNodes().addClass(Do),this._modules.graph.getEdges().addClass(Do)]).then(()=>this.resolveAtNextFrame()).then(()=>this._imageManager.whenReady()).then(()=>{n==="all"?(i=U$(this._modules.graph),this._forceCompleteGraphRefresh()):this._loadGraphInGraphicsEngine();const s=this._modules.camera.clone(Se({},t));return this._modules.events.fire("viewExportStart",{preventOverlap:r.preventOverlap,camera:s}),this._ogma.view.afterNextFrame().then(()=>this._engine.export(e,t,r))}).then(s=>Promise.all([this._modules.graph.getNodes().removeClass(Do),this._modules.graph.getEdges().removeClass(Do)]).then(()=>s)).then(s=>(n==="all"&&($$(i),this._forceCompleteGraphRefresh()),this._modules.events.fire("viewExportEnd"),s))}addAttributeLayer(e){return this._attributesManager.addAttributeLayer(e)}getAttributeValues(e,t,n,r){return this._attributesManager.getAttributeValues(e,t,n,r)}forceAttributesComputation(){this._attributesManager.update()}resolveAtNextFrame(e){return this._modules.dom.afterNextFrame().then(()=>e)}isMoving(e){return(e.isNode?this._movingNodes:this._movingEdges).has(e._index)}animate(e,t,n,r){const i=B$(r);return i.duration&&this._engine.ensureAnimationsReady(),this._animate(e,t,n,i)}isAnimating(){return this._animations.length>0}getAnimationInformation(e){return this._attributesManager.getAnimationInformation(e)}_toSubGraph(e){if(e instanceof ws||e instanceof Qi)return{nodes:e.toList(),edges:e.getAdjacentEdges()};if(e instanceof pa||e instanceof po)return{nodes:this._modules.graph.nodeList(),edges:e.toList()};const t=e,n={nodes:t.nodes||this._modules.graph.nodeList(),edges:t.edges||this._modules.graph.edgeList()};return n.nodes.size&&(n.edges.size?n.edges=n.edges.concat(n.nodes.getAdjacentEdges()).dedupe():n.edges=n.nodes.getAdjacentEdges()),n}_animate(e,t,n,{duration:r,easing:i}){if((!this._animations.length||n)&&!r)return t(e),Promise.resolve(e);const s=this._toSubGraph(e),o=s.nodes,a=s.edges;if(o.size===0&&a.size===0)return t(e),Promise.resolve(e);if(o.size){if(n)for(let h=0;h<o._indexes.length;h++)this._movingNodes.add(o._indexes[h]);this._modules.events.fire("animate",{elements:o,duration:r,updatesPositions:n,easing:i})}if(a.size){if(n)for(let h=0;h<a._indexes.length;h++)this._movingEdges.add(a._indexes[h]);this._modules.events.fire("animate",{elements:a,duration:r,updatesPositions:n,easing:i})}const l={id:this._nextAnimationId++,startTime:rr(),finished:!1,func:()=>t(e),duration:r,easing:i,nodes:o,edges:a,started:!1,updatesPositions:n,resolve:ft};let c=l;const d=new Set;if(c=this._getLongestAnimation(c,l.nodes,d),c=this._getLongestAnimation(c,l.edges,d),c.updatesPositions){for(let h=0;h<o._indexes.length;h++)this._nodeAnimationMap.set(o._indexes[h],c);for(let h=0;h<a._indexes.length;h++)this._edgeAnimationMap.set(a._indexes[h],c);l.duration=c.duration,l.startTime=c.startTime}if(l.duration===0&&c.id===l.id)return t(e),Promise.resolve(e);const u=new Promise(h=>l.resolve=()=>h(e));return this._animations.push(l),this._modules.dom.refresh(),r||this._processAnimations(),u}_removeFinishedAnimations(){this._animations=this._animations.filter(e=>!e.finished)}_getAnimationElements(e){return{nodes:e.nodes,edges:e.edges}}_resetAnimationAttributes({nodes:e,edges:t}){this._attributesManager.resetAnimationAttributes({nodes:e,edges:t});for(let n=0;n<e._indexes.length;n++)this._nodeAnimationMap.delete(e._indexes[n]),this._movingNodes.delete(e._indexes[n]);for(let n=0;n<t._indexes.length;n++)this._edgeAnimationMap.delete(t._indexes[n]),this._movingEdges.delete(e._indexes[n])}_getLongestAnimation(e,t,n){const r=t.isNode?this._nodeAnimationMap:this._edgeAnimationMap;for(let i=0;i<t._indexes.length;i++){const s=r.get(t._indexes[i]);s&&!n.has(s.id)&&(n.add(s.id),(e.updatesPositions||!s.updatesPositions)&&s.duration+s.startTime<e.duration+e.startTime||(e=s))}return e}_processAnimations(){if(!this._animations.length)return;const e=rr(),t=[];this._attributesManager.update();for(const n of this._animations)n.started||(n.started=!0,t.push(n.func),this._attributesManager.setAnimationAttributes(this._getAnimationElements(n),n));for(const n of t)n();for(const n of this._animations)e>=n.startTime+n.duration&&(this._resetAnimationAttributes(this._getAnimationElements(n)),n.resolve(n.elements),n.finished=!0);this._removeFinishedAnimations(),this._animations.length&&this._modules.dom.refresh()}hideTexts(){this.setNodeTextsVisibility(!1),this.setEdgeTextsVisibility(!1)}showTexts(){this.setNodeTextsVisibility(!0),this.setEdgeTextsVisibility(!0)}setNodesVisibility(e){return this._updateVisibilityCounter("nodes",e)}setNodeTextsVisibility(e){return this._updateVisibilityCounter("nodeTexts",e)}setEdgesVisibility(e){return this._updateVisibilityCounter("edges",e)}setEdgeTextsVisibility(e){return this._updateVisibilityCounter("edgeTexts",e)}_updateVisibilityCounter(e,t){this._visibility[e]+=t?-1:1,this._modules.dom.refresh()}detectNode(e,t,n,r,i,s){return h8(e,t,n,r,i,s,this._modules.graph,this._attributesManager,this._modules.camera,this._engine,this._movingNodes,this._formatText)}detectEdge(e,t,n,r,i){return g8(e,t,n,r,i,this._modules.graph,this._modules.camera,this._movingNodes,this._attributesManager)}getVisibilityCounters(){return this._visibility}destroy(){this.getGraphicsEngine().destroy(),this.getImageManager().destroy(),this.getFontManager().destroy()}};function B$(e){return typeof e=="number"?e={duration:e}:typeof e=="object"&&e!==null||(e={duration:0}),{duration:j$(e.duration),easing:e.easing||"linear",chain:!!e.chain}}function j$(e){return typeof e!="number"||!isFinite(e)||e<0?0:e}function k2(e,t){const n=t?e.getNodeAttribute("excluded"):e.getEdgeAttribute("excluded"),r=(t?e.getNodes("all"):e.getEdges("all"))._indexes,i=n.getMultiple(r);return n.fill(r,0),{excludedList:n,indexes:r,values:i}}function C2({excludedList:e,indexes:t,values:n}){e.setMultiple(t,n)}function U$(e){return{nodes:k2(e,!0),edges:k2(e,!1)}}function $$({nodes:e,edges:t}){C2(e),C2(t)}var V$=250,G$=50,H$=class extends it{constructor(){super(...arguments),this._onAnyEvents=[],this._registeredEvents={},this.onIdle=Wp(()=>this.fire("idle"),G$)}onMounted(){this._registeredEvents={},this.register(["idle"]),this._ogma.onReady(()=>{this.on(["viewChanged","layoutEnd","addNodes","addEdges","removeNodes","removeEdges","animate","setMultipleAttributes","transformationRefresh"],()=>{this._modules.dom.clearTimeout(this._idleTimeout),this._idleTimeout=this._modules.dom.setTimeout(this.onIdle,V$)})})}isRegistered(e){return!!this._registeredEvents[e]}register(e,t=[]){e.forEach(n=>{if(this._registeredEvents[n])throw new Error(`event "${n}" already exists`);this._registeredEvents[n]=new W$(!1,n)})}onAnyEvent(e){this._onAnyEvents.push(e)}on(e,t){return Array.isArray(e)&&e.forEach(n=>this.on(n,t)),this._registeredEvents[e]?(this._registeredEvents[e].on(t),this):this}off(e){return Object.values(this._registeredEvents).forEach(t=>{t.off(e)}),this}fire(e,t=null){const n=this._getEvent(e);return this._onAnyEvents.forEach(r=>r(t,e)),n.trigger(t),this}once(e,t){const n=this,r=function(){t.apply(null,arguments),n.off(r)};return this.on(e,r)}_getEvent(e){if(!(e in this._registeredEvents))throw new Error(`Event ${e} does not exist`);return this._registeredEvents[e]}destroy(){Object.values(this._registeredEvents).forEach(e=>{e.destroy()})}},W$=class{constructor(e,t){this._subscribers=[],this._handlers=[],this._reverseOrder=e,this._name=t}trigger(e){for(const t of this._handlers)t(e,this._name);return this}on(e){if(typeof e!="function")throw new Error("handler is not a function");const t=this._reverseOrder?0:this._subscribers.length;return this._handlers.splice(t,0,e),this._subscribers.splice(t,0,e),this}off(e){let t;for(;(t=this._subscribers.indexOf(e))!==-1;)this._subscribers.splice(t,1),this._handlers.splice(t,1);return this}destroy(){this._subscribers=[],this._handlers=[]}},q$=class extends it{onMounted(){this._graphics=this._modules.graphics,this._modules.events.register(["setMultipleAttributes"]),this._modules.events.on(["addNodes","addEdges"],({nodes:e,edges:t,objects:n})=>{this._onAddElements(e||t,n)}),this._originalAttributesLayer=this._graphics.addAttributeLayer({name:"original-attributes",priority:C4,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._individualAttributesLayer=this._graphics.addAttributeLayer({name:"individual-attributes",priority:N4,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0})}_onAddElements(e,t){const n=t.map(r=>r.attributes);this._originalAttributesLayer.setAttributeValues(e,n)}getOriginalAttributes(){return this._originalAttributesLayer.getFlexArrays()}getIndividualAttributes(){return this._individualAttributesLayer.getFlexArrays()}setMultipleAttributes(e,t,n){const r=Array.isArray(t)?t.length&&t[0]?Zg(t[0],e.isNode):[]:Zg(t,e.isNode),i=r.includes("x")||r.includes("y");return this._modules.events.fire("setMultipleAttributes",{elements:e,values:t,updatedAttributes:r}),this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,t)},i,n)}setSingleAttribute(e,t,n,r){const i={};return Zi(i,t,n),this.setMultipleAttributes(e,i,r)}resetMultipleAttributes(e,t,n){const r=t||this._individualAttributesLayer.getUsedAttributeNames(e),i=r&&(r.includes("x")||r.includes("y")),s={};for(const o of r)Zi(s,o,void 0);return this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,s)},i,n)}getMultipleAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!1)}getSingleAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!1)}replaceOriginalAttributes(e,t,n=[]){const r={},i=this._originalAttributesLayer.getUsedAttributeNames(e).filter(s=>!n.includes(s));for(let s=0;s<i.length;++s)Zi(r,i[s],void 0);this._originalAttributesLayer.setAttributeValues(e,r),this._originalAttributesLayer.setAttributeValues(e,t)}getSinglePreviousAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!0)}getMultiplePreviousAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!0)}},X$=class extends it{constructor(){super(...arguments),this._currentValue={},this._onChange={},this._defaultValues={},this._keys=[]}onReady(e){e.renderer&&this.update({renderer:e.renderer}),e.options&&this.update(e.options)}register(e,t,n,r){return r===void 0&&(r=!0),this._keys.push(e),this._currentValue[e]=t,this._defaultValues[e]=t,this._onChange[e]=n||ft,n&&r&&n(t),this}update(e){e=yd(e);const t=this._keys,n={},r=this._currentValue;for(let s=0;s<t.length;++s){const o=t[s];if(o in e){let a=e[o];a===void 0&&(a=this._defaultValues[o]),n[o]=r[o],r[o]=a}}const i=Object.keys(n);for(let s=0;s<i.length;++s){const o=i[s],a=this._currentValue[o],l=n[o];a!==l&&this._onChange[o](a,l)}return m_(n)}get(e){return arguments.length===0?m_(this._currentValue):this._currentValue[e]}set(e,t){const n=this._currentValue[e],r=this._onChange[e];this._currentValue[e]=t,r&&r(t,n)}},Y$=class{constructor(e,t){this._classes=e,this._name=t}getName(){return this._name}getIndex(){return this._classes.getIndex(this._name)}setIndex(e){return this._classes.setIndex(this._name,e)}update(e){return this._classes.update(this._name,e),this}getDefinition(){return this._classes.getDefinition(this._name)}getNodes(e){return this._classes.getElementsByClass(this._name,e).nodes}getEdges(e){return this._classes.getElementsByClass(this._name,e).edges}clearNodes(e){this.getNodes(e).removeClass(this._name)}clearEdges(e){this.getEdges(e).removeClass(this._name)}add(e){e.addClass(this._name)}remove(e){e.removeClass(this._name)}},Z$=1e3,Q$=.5/Z$,K$=class extends it{constructor(){super(...arguments),this._builtinClasses=[],this._userClasses=[],this._classesByName={},this._onExcludedStateChange=({elements:e,value:t})=>{if(t){const n=this._builtinClasses.map(r=>r.name);this._addOrRemoveClassesToElements(n,e,!1)}},this._onClearGraph=()=>{this._builtinClasses.concat(this._userClasses).forEach(e=>e.elementSet.clear())},this._onRemoveElements=({nodes:e,edges:t})=>{const n=e||t;this._builtinClasses.concat(this._userClasses).forEach(r=>r.elementSet.removeElements(n))}}onMounted(){this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on("clearGraph",this._onClearGraph).on("removeEdges",this._onRemoveElements).on("removeNodes",this._onRemoveElements)}_getClassList(e){return e?this._builtinClasses:this._userClasses}createClass({name:e,isBuiltin:t=!1,after:n,nodeAttributes:r,nodeDependencies:i,nodeOutput:s,edgeAttributes:o,edgeDependencies:a,edgeOutput:l}={}){if(typeof e!="string")throw new Error('the "name" argument should be a string');const c=this._getClassList(t),d=n?J$(c,n)+1:c.length;if(d===-1)throw new Error(`createClass: class specified as \`after\` parameter "${n}" does not exist`);if(t&&!e.startsWith("_"))throw new Error(`invalid builtin class name "${e}": builtin classes should start with '_'`);const u=new Jd(this._modules.graph),h=new Y$(this,e),g={name:e,elementSet:u,attributeLayer:this._modules.graphics.addAttributeLayer({name:`class(${e})`,tag:e,standaloneSelectors:!0,nodeAttributes:r||void 0,edgeAttributes:o||void 0,nodeSelector:(p,m)=>m.hasElement(p),edgeSelector:(p,m)=>m.hasElement(p),nodeContext:u,edgeContext:u,nodeOutput:s,edgeOutput:l,nodeDependencies:i,edgeDependencies:a}),isBuiltin:t,wrapper:h};return c.splice(d,0,g),t&&c.sort((p,m)=>lS.indexOf(p.name)-lS.indexOf(m.name)),this._updatePriorities(t),this._classesByName[e]=g,this._modules.events.register([ka(e,!0,!0),ka(e,!0,!1),ka(e,!1,!0),ka(e,!1,!1)]),h}_updatePriorities(e){const t=this._getClassList(e),n=I4+(e?.5:0);for(let r=0;r<t.length;++r){const i=t[r],s=n+Q$*r;i.attributeLayer.update({priority:s})}}_get(e){const t=this._classesByName[e];if(!t)throw new Error(`class "${e}" does not exist`);return t}getIndex(e){const t=this._get(e);return this._getClassList(t.isBuiltin).indexOf(t)}setIndex(e,t){const n=this._get(e),r=this._getClassList(n.isBuiltin),i=r.indexOf(n),s=Wr(t,0,r.length-1);r.splice(i,1),r.splice(s,0,n),this._updatePriorities(n.isBuiltin)}update(e,{nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a}={}){this._get(e).attributeLayer.update({nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a})}getDefinition(e){const t=this._get(e),{nodeAttributes:n,nodeDependencies:r,nodeOutput:i,edgeAttributes:s,edgeDependencies:o,edgeOutput:a}=t.attributeLayer.getDefinition();return{nodeAttributes:n||void 0,edgeAttributes:s||void 0,nodeDependencies:r,edgeDependencies:o,nodeOutput:i,edgeOutput:a}}_addOrRemoveClassesToElements(e,t,n){const r=t.isNode;for(let i=0;i<e.length;++i){const s=e[i],{elementSet:o,attributeLayer:a}=this._get(s),l=o.addOrRemoveElements(t,n),c=ka(s,r,n);l.size&&(a.updateElements(l),this._modules.events.fire(c,r?{nodes:l}:{edges:l}))}}_animatedAttributesUpdatePositions(e,t){for(let n=0;n<e.length;++n){const r=e[n],i=this.getDefinition(r);if(t.isNode&&i.nodeAttributes&&(i.nodeAttributes.x||i.nodeAttributes.y))return!0}return!1}_getAnimatedAtrributes(e,t){return e.reduce((n,r)=>{const i=this.getDefinition(r);return t.isNode&&i.nodeAttributes&&n.push(...Zg(i.nodeAttributes,!0)),!t.isNode&&i.edgeAttributes&&n.push(...Zg(i.edgeAttributes,!1)),n},[])}addClassesToElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!0)},i,n)}removeClassesFromElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!1)},i,n)}hasSingleElementClass(e,t){return this._get(e).elementSet.hasElement(t)}getElementsClassList(e,t={}){const{includeBuiltinClasses:n=!1}=t,r=new Array(e.size);for(let i=0;i<r.length;++i)r[i]=[];return this._addClassNamesToList(r,e,this._userClasses),n&&this._addClassNamesToList(r,e,this._builtinClasses),r}_addClassNamesToList(e,t,n){const r=t.toList();for(let i=0;i<n.length;++i){const{name:s,elementSet:o}=n[i];for(let a=0;a<r.size;++a){const l=r.get(a);o.hasElement(l)&&e[a].push(s)}}}getClassByName(e,t=!1){const n=this._classesByName[e]||null;if(t&&!n)throw new Error(`class "${e}" does not exist`);return n&&n.wrapper}getClassList(){return this._userClasses.map(e=>e.wrapper)}getElementsByClass(e,t="visible"){const{elementSet:n}=this._get(e),r=n.getElements();let i=r.nodes,s=r.edges;return t==="visible"?(i=i.filter(o=>o.isVisible()),s=s.filter(o=>o.isVisible())):t==="raw"&&(i=i.filter(o=>!o.isVirtual()),s=s.filter(o=>!o.isVirtual())),{nodes:i,edges:s}}_onClassEvent(e,t,n,r){const i=ka(e,n,r);this._modules.events.on(i,t)}onNodeClassAdded(e,t){this._onClassEvent(e,t,!0,!0)}onNodeClassRemoved(e,t){this._onClassEvent(e,t,!0,!1)}onEdgeClassAdded(e,t){this._onClassEvent(e,t,!1,!0)}onEdgeClassRemoved(e,t){this._onClassEvent(e,t,!1,!1)}};function ka(e,t,n){return`${t?"node":"edge"}Class${n?"Added":"Removed"}_${e}`}function J$(e,t){for(let n=0;n<e.length;++n)if(e[n].name===t)return n;return-1}var uP=()=>({x:0,y:0,x1:0,y1:0,x2:0,y2:0});function T2(e,t,n,{cells:r=!0,boxes:i=!0,query:s=!0}={}){const o=t.keys().map(l=>t.keyToBBox(Number(l))),a=t.getBoxes();if(r&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#707070",o.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.stroke()),i&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#ff7070",a.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.closePath(),e.stroke()),s&&n){const l=n;e.beginPath(),e.lineWidth=2,e.strokeStyle="#3030ff",e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),e.closePath(),e.stroke()}}function eV(e){const[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o]=e.getEdgeAttributes(["source","target","curvature"]),a=uP(),l=iv();return c=>{if(c<0){c=-c;const d=i.get(c),u=s.get(c),h=o.get(c),g=t.get(d),p=n.get(d),m=t.get(u),_=n.get(u);d===u?(ma(g,p,h,r.get(d),0,a),hm(g,p,a.x1,a.y1,a.x2,a.y2,m,_,l)):h===0?(l.minX=Math.min(g,m),l.minY=Math.min(p,_),l.maxX=Math.max(g,m),l.maxY=Math.max(p,_)):(Fi(g,p,m,_,h,a),Cv(g,p,a.x,a.y,m,_,l))}else{const d=t.get(c),u=n.get(c),h=r.get(c);l.minX=d-h,l.minY=u-h,l.maxX=d+h,l.maxY=u+h}return[l.minX,l.minY,l.maxX,l.maxY]}}var tV=["x","y","radius"],nV=["width","curvature"],rV=class extends it{constructor(){super(...arguments),this._minCellSize=8,this._clear=()=>{this._index.clear(),this._elementsToUpdate.clear()},this._onGraphUpdate=e=>{if(e.nodes&&(!e.nodeAttributes||e.nodeAttributes.some(t=>tV.includes(t)))){const t=e.nodes.fastGetAdjacentElements().edges;this._elementsToUpdate.addElements(e.nodes),this._elementsToUpdate.addElements(t)}e.edges&&(e.edgeAttributes&&!e.edgeAttributes.some(t=>nV.includes(t))||this._elementsToUpdate.addElements(e.edges))}}onMounted(){this._index=new FB(this._getIntersector(),eV(this._modules.graph),this._minCellSize,1e6),this._elementsToUpdate=new Jd(this._modules.graph),this._removedNodes=this._modules.graph.getNodeAttribute("removed"),this._removedEdges=this._modules.graph.getEdgeAttribute("removed"),this._excludedNodes=this._modules.graph.getNodeAttribute("excluded"),this._excludedEdges=this._modules.graph.getEdgeAttribute("excluded"),this._queryResult={edges:[],nodes:[]},this._queryBounds=[0,0,0,0],this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges","updateAttributes"],this._onGraphUpdate).on("excludedStateChange",({elements:e})=>{this._elementsToUpdate.addElements(e)}).on("clearGraph",this._clear)}_getIntersector(){const e=this._modules.graph,[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o,a]=e.getEdgeAttributes(["source","target","width","curvature"]),l=uP();return(c,d,u,h,g)=>{if(c<0){c=-c;const p=i.get(c),m=s.get(c),_=a.get(c),y=o.get(c)/2,f=t.get(p),x=n.get(p),v=t.get(m),w=n.get(m);return p===m?(ma(f,x,_,r.get(p),0,l),wN(f,x,l.x1,l.y1,l.x2,l.y2,v,w,d-y,u-y,h+y,g+y)):_===0?wv(f,x,v,w,d-y,u-y,h+y,g+y):(Fi(f,x,v,w,_,l),bN(f,x,l.x,l.y,v,w,d-y,u-y,h+y,g+y))}return lv(t.get(c),n.get(c),r.get(c),d,u,h,g)}}reindex(){this._modules.graphics.forceAttributesComputation(),this._index.clear(),this._elementsToUpdate.clear(),this._updateItems(this._modules.graph.getNodes("all")._indexes,this._modules.graph.getEdges("all")._indexes)}getSize(){return this._index.size}_updateIndex(){if(!this._elementsToUpdate.isEmpty()){const{nodes:e,edges:t}=this._elementsToUpdate.getElements();this._updateItems(e._indexes,t._indexes),this._elementsToUpdate.clear()}}_updateItems(e,t){const n=this._index,r=this._removedNodes,i=this._removedEdges,s=this._excludedNodes,o=this._excludedEdges,a=[],l=[];if(r&&s)for(let c=0;c<e.length;c++){const d=e[c];r.get(d)!==0||s.get(d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}if(i&&o)for(let c=0;c<t.length;c++){const d=-t[c];i.get(-d)!==0||o.get(-d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}for(const c of a)n.remove(c);for(const c of l)n.insert(c)}getNodesInScreenByDistance(e){const{x:t,y:n}=e.getPositionOnScreen();return this._modules.graph.getNodes().filter(r=>r.isInScreen()&&r!==e).sort((r,i)=>{const s=r.getPositionOnScreen(),o=i.getPositionOnScreen();return vn(s.x,s.y,t,n)-vn(o.x,o.y,t,n)})}getNearestNodesForNode(e,t=240,n){const{x:r,y:i}=e.getPosition();return this.getNearestNodes(r,i,t,n,e)}getNearestNodes(e,t,n,r,i){if(this._updateIndex(),r){const s=this._modules.camera.screenToGraphVector({x:n,y:n});n=vn(0,0,s.x,s.y)}return this._getNearestNodes(e,t,n,i)}_getNearestNodes(e,t,n,r){const i=[],s=n*n,o=r?r._index:0,a=this._modules.graph.getNodes()._indexes,[l,c]=this._modules.graph.getNodeAttributes(["x","y"]);for(let d=0,u=a.length;d<u;d++){const h=a[d];if(h===o)continue;const g=e-l.get(h),p=t-c.get(h);g*g+p*p<=s&&i.push(h)}return this._modules.graph.nodeList(new Uint32Array(i))}queryRaw(e,t,n,r){this._updateIndex();const i=this._queryBounds;i[0]=e,i[1]=t,i[2]=n,i[3]=r;const s=this._index.query(e,t,n,r),{nodes:o,edges:a}=this._queryResult;o.length=a.length=0;for(let l=0;l<s.length;l++){const c=s[l];c<0?a.push(-c):o.push(c)}return this._queryResult}queryRawProjected(e,t,n,r){const i=this._queryBounds;return i[0]=e,i[1]=t,i[2]=n,i[3]=r,this._modules.camera.projectBounds(i),this.queryRaw(i[0],i[1],i[2],i[3])}query(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRaw(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}queryProjected(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRawProjected(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}getNodesByBoundingBox(e,t,n,r,i){if(this._updateIndex(),i){let u;u=this._modules.camera.screenToGraphVector({x:e,y:t}),e=u.x,t=u.y,u=this._modules.camera.screenToGraphVector({x:n,y:r}),n=u.x,r=u.y}const s=this._modules.graph,o=s.getNodes()._indexes,a=[],l=s.getNodeAttribute("excluded"),[c,d]=s.getNodeAttributes(["x","y"]);for(let u=0,h=o.length;u<h;u++){const g=o[u];if(l&&l.get(g))continue;const p=c&&c.get(g),m=d&&d.get(g);p>=e&&p<=n&&m>=t&&m<=r&&a.push(g)}return s.nodeList(new Uint32Array(a))}toggleDebug(e){e?(this._layer=this._modules.layers.addCanvasLayer(t=>{T2(t,this._index,this._queryBounds)},{isStatic:!1,noClear:!1}),this._layer.moveToTop()):this._layer&&(this._layer.destroy(),this._layer=null)}renderDebug(e){if(!this._layer)return this.toggleDebug(!0);this._layer.refresh(t=>{T2(t,this._index,this._queryBounds,e)})}},hP={};function gm(e,t,n,r,i=0,s=Math.sin(i),o=Math.cos(i),a=[0,0,0,0]){const l=n/2,c=r/2,d=e+l,u=t+c;if(i===0)return a[0]=e,a[1]=t,a[2]=e+n,a[3]=t+r,a;let h,g,p,m,_,y,f,x;return p=-l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,_=f=h,y=x=g,p=-l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),p=l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),p=l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),a[0]=_,a[1]=y,a[2]=f,a[3]=x,a}function su(e,t,n,r,i=0){const s=n/2,o=r/2,a=e+s,l=t+o;if(i===0)return[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}];const c=Math.sin(i),d=Math.cos(i);let u,h,g,p;g=-s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d;const m={x:u,y:h};g=-s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const _={x:u,y:h};g=s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const y={x:u,y:h};return g=s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d,[m,_,y,{x:u,y:h}]}function ey(e,t=0,n=1,r=mN.slice()){const i=n*Math.sin(t),s=n*Math.cos(t);return r[0]=e[0]+i,r[1]=e[1]+s,r[2]=e[2]+i,r[3]=e[3]+s,r}function iV(e,t){return _N(e,t)}function sV(e,t){return gP(e[0],e[1],e[2],e[3],t[0],t[1],t[2],t[3])}function oV(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function gP(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}Zd(hP,{angle:()=>j6,circleCircleIntersection:()=>ov,circleContainsCircle:()=>_B,circleContainsPoint:()=>fB,circleIntersectsBox:()=>lv,circleLineIntersection:()=>yN,circleSortCompare:()=>av,computeCentroid:()=>Sv,cubicBezierAABB:()=>wN,defaultAABB:()=>mN,degreesToRadians:()=>mB,distToSegmentSquared:()=>Ev,distance:()=>vn,distancePointSegment:()=>zI,extendBounds:()=>_N,getAABB:()=>gm,getBezierCurveBoundingBox:()=>hm,getClosestPointOnLine:()=>$6,getClosestPointOnSegment:()=>OI,getNormalOnEdge:()=>s8,getNormalOnQuadraticCurve:()=>UI,getOBBPoints:()=>su,getPointOnBezierCurve:()=>Nd,getPointOnEdge:()=>i8,getPointOnQuadraticCurve:()=>um,getQuadraticBezierCurveLength:()=>a8,getQuadraticCurveBoundingBox:()=>Cv,getQuadraticCurveControlPoint:()=>Fi,getSelfLoopControlPoints:()=>ma,getTangentOnEdge:()=>o8,getTangentOnQuadraticCurve:()=>kv,intersects:()=>oV,isPointInLine:()=>RI,isPointInPolygon:()=>Ld,isPointOnBezierCurve:()=>VI,isPointOnQuadraticCurve:()=>$I,lineAABB:()=>wv,lineAngle:()=>Al,lineIntersection:()=>U6,lineLine:()=>Ja,move:()=>pB,moveAABB:()=>ey,normalize:()=>fN,overlaps:()=>gP,overlapsAABB:()=>sV,padBounds:()=>iV,polygonsIntersect:()=>BI,quadBezierAABB:()=>bN,radiansToDegrees:()=>L_,rotate:()=>Bg,segmentIntersection:()=>mc,segmentRectangleIntersection:()=>DI,squaredDistance:()=>Oh,twoSegmentsIntersect:()=>B6});var ih=40;function pP(e,t){const n=e.getAttribute("curvature"),r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen();if(r===i){const m=(n+r.getAttribute("radius"))*qg*t,_=s.x,y=s.y,f=_-m,x=y,v=_,w=y+m;return[s,...[.2,.4,.6,.8].map(b=>Nd(b,_,y,_,y,f,x,v,w)),s]}const o=i.getPositionOnScreen();if(n===0)return[s,o];const a=o.x-s.x,l=o.y-s.y,c=Math.sqrt(a*a+l*l),d=(s.x+o.x)/2,u=(s.y+o.y)/2,h=n*(c/cm)*2,g=d+l/c*h,p=u+-a/c*h;return[s,...[.25,.5,.75].map(m=>um(m,s.x,s.y,o.x,o.y,g,p)),o]}function aV(e,t,n){const r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen(),o=i.getPositionOnScreen();if(Ld(s.x,s.y,t)||Ld(o.x,o.y,t))return!0;const a=pP(e,n);for(let l=0;l<a.length-1;++l){const c=a[l],d=a[l+1];for(let u=0;u<t.length-1;++u){const h=t[u],g=t[u+1];if(Ja(c.x,c.y,d.x,d.y,h.x,h.y,g.x,g.y))return!0}}return!1}function lV(e,t,n){const r=e.getPositionOnScreen(),i=Number(e.getAttribute("radius"))*n,s=r.x-i,o=r.y-i,a=r.x+i,l=r.y+i;return a>=t.minX&&s<=t.maxX&&l>=t.minY&&o<=t.maxY}function cV(e,t,n){const r=pP(e,n);for(let i=0;i<r.length-1;++i){const s=r[i],o=r[i+1];if(wv(s.x,s.y,o.x,o.y,t.minX,t.minY,t.maxX,t.maxY))return!0}return!1}function L2(e,t,n,r){typeof n=="number"&&(n={left:n,right:n,top:n,bottom:n});const i=n.left===void 0?ih:n.left,s=n.right===void 0?ih:n.right,o=n.top===void 0?ih:n.top,a=n.bottom===void 0?ih:n.bottom,l=i+s,c=o+a,d=e.width===0?e.maxFixedSize:e.width,u=e.height===0?e.maxFixedSize:e.height,h=P$([(t.width-l)/(d+e.maxScaledSize),(t.height-c)/(u+e.maxScaledSize),(t.width-l-e.maxFixedSize)/d,(t.height-c-e.maxFixedSize)/u,r/e.maxScaledSize||NaN]);return{x:e.cx+(s-i)/(2*h),y:e.cy+(a-o)/(2*h),zoom:h}}var dV="quadraticInOut",N2=200,uV=class extends it{constructor(){super(...arguments),this._isLocating=!1,this._cacheValid=!0,this._cachedGraphBoundingBox=new Nn,this._invalidCache=()=>{this._cacheValid=!1}}onMounted(){this._modules.events.on(["addNodes","removeNodes","addEdges","removeEdges","excludedStateChange","clearGraph","updateAttributes"],this._invalidCache)}onReady(){this.locateGraph({},!0)}locateGraph(e,t=!1){return this._onLocateStart(),t?this._locateGraph(e):this._modules.transformations.whenApplied().then(()=>this._locateGraph(e))}_locateGraph(e){return this._locateBoundingBox(this.getGraphBoundingBox(),e).then(()=>this._onLocated())}locateElements(e,t){return this._modules.transformations.whenApplied().then(()=>this._locateBoundingBox(this.getBoundingBox(e),t)).then(()=>this._onLocated())}locateRawGraph(e,t){return this._onLocateStart(),this._locateBoundingBox(this.getRawGraphBoundingBox(e),t).then(()=>this._onLocated())}_onLocateStart(){this._isLocating=!0}_onLocated(){this._isLocating=!1}isLocating(){return this._isLocating}getGraphBoundingBox(e=!1){return e?this.getBoundingBox(this._ogma.getNodes(),!0,e):(this._cacheValid||this._updateCache(),Object.assign({},this._cachedGraphBoundingBox))}forceInvalidCache(){this._invalidCache()}_updateCache(){this._cacheValid=!0,this._cachedGraphBoundingBox=this.getBoundingBox(this._modules.graph.getNodes())}getBoundingBox(e,t=!1,n=!1,r){let i;if(i=e.isNode?this._getNodesBoundingBox(e.toList(),t):this._getEdgesBoundingBox(e.toList(),r),n){const s=this._ogma.modules.labels.getTextsBoundingBox(e.isNode?e.toList():null,e.isNode?null:e.toList());i=i.extend(s)}return i}_getNodesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getNodeAttributes(),r=[],i=[],s=[],o=[];for(let a=0;a<e.size;++a){const l=e._indexes[a];if(n.excluded.get(l)===0){const c=n.x.get(l),d=n.y.get(l),u=n.radius.get(l),h=2*u;n.scalingMethod.get(l)==="scaled"?s.push(h):o.push(h),t?(r.push(c-u,c+u),i.push(d-u,d+u)):(r.push(c),i.push(d))}}return new Nn({xValues:r,yValues:i,scaledSizeValues:s,fixedSizeValues:o})}_getEdgesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getEdgeAttributes(),r=this._modules.graphics.getNodeAttributes(),i={x1:0,y1:0,x2:0,y2:0},s={x:0,y:0},o={minX:0,minY:0,maxX:0,maxY:0},a=[],l=[],c=[],d=[];for(let u=0;u<e.size;++u){const h=e._indexes[u],g=n.source.get(h),p=n.target.get(h),m=n.curvature.get(h),_=r.x.get(g),y=r.y.get(g),f=r.scalingMethod.get(g)==="scaled",x=2*r.radius.get(g),v=r.x.get(p),w=r.y.get(p),b=r.scalingMethod.get(p)==="scaled",S=2*r.radius.get(p);f?c.push(x):d.push(x),b?c.push(S):d.push(S),t||m===0?(a.push(_,v),l.push(y,w)):g===p?(ma(_,y,m,x/2,0,i),hm(_,y,i.x1,i.y1,i.x2,i.y2,v,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY)):(Fi(_,y,v,w,m,s),Cv(_,y,s.x,s.y,v,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY))}return new Nn({xValues:a,yValues:l,scaledSizeValues:c,fixedSizeValues:d})}getRawGraphBoundingBox(e){const t=e.nodes.length,n=new Array(t),r=new Array(t),i=new Array(t);for(let s=0;s<t;s++){const o=e.nodes[s].attributes||{};n[s]=o.x||0,r[s]=o.y||0,i[s]=o.radius||5}return new Nn({xValues:n,yValues:r,scaledSizeValues:i})}_locateBoundingBox(e,t={}){if(isNaN(e.cx))return Promise.resolve();const{padding:n={},easing:r=dV,duration:i=0,maxNodeSizeOnScreen:s=N2,ignoreZoomLimits:o=!1}=t,a=L2(e,this._modules.dom.getDimensions(),n,s),l=a.x,c=a.y,d=a.zoom,u=d/this._modules.camera.getZoom();return this._moveCamera(l,c,d,i,r,u,o)}_moveCamera(e,t,n,r,i,s,o){return s>1.01?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5})):s<.99?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o})):this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o})}computeConfigForBounds(e,t={}){const{padding:n={},maxNodeSizeOnScreen:r=N2}=t;return L2(e,this._modules.dom.getDimensions(),n,r)}layoutDataBoundingBox({x:e,y:t,indexes:n}){const r=this._modules.graphics.getNodeAttributes(),i=[],s=[],o=[],a=[];for(let l=0;l<n.length;++l){const c=n[l],d=e[l],u=t[l],h=2*r.radius.get(c),g=r.scalingMethod.get(c)==="scaled";i.push(d),s.push(u),g?o.push(h):a.push(h)}return new Nn({xValues:i,yValues:s,scaledSizeValues:o,fixedSizeValues:a})}isEdgeInPolygon(e,t){return aV(e,t,this._modules.camera.getZoom())}isElementInView(e,{margin:t=0}={}){const{width:n,height:r}=this._modules.camera.getSize(),i={minX:-t,minY:-t,maxX:n+t,maxY:r+t};return e.isNode?this.isNodeInRectangle(e,i):this.isEdgeInRectangle(e,i)}isNodeInRectangle(e,t){return lV(e,t,this._modules.camera.getZoom())}isNodeInPolygon(e,t){const n=e.getPositionOnScreen();return Ld(n.x,n.y,t)}isEdgeInRectangle(e,t){return cV(e,t,this._modules.camera.getZoom())}},hV=sa&&typeof navigator<"u"&&"msLaunchUri"in navigator&&_s&&!("documentMode"in document);function gV(e){return hV?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Fr():e.deltaY&&e.deltaMode===1?20*-e.deltaY:e.deltaY&&e.deltaMode===2?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var pV=6,mV=class extends it{constructor(){super(...arguments),this._px=0,this._py=0,this._pressX=0,this._pressY=0,this._left=!1,this._middle=!1,this._right=!1,this._clickCounter={left:0,middle:0,right:0},this._buttons={left:!1,middle:!1,right:!1},this._skipNextMove=!1,this._onMouseWheel=e=>{this._isEnabled()&&this._isWheelEnabled()&&(!this._disableWheelUntilMouseDown()||this._modules.dom.hasFocus())&&(e.preventDefault(),e.stopPropagation(),this._applyMouseWheelZoom(e))},this._onMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=t-this._px,i=n-this._py;r===0&&i===0||(this._skipNextMove?this._skipNextMove=!1:vn(t,n,this._pressX,this._pressY)>=pV&&(this._resetClickCounter(),this._modules.events.fire("mousemoveInternal",{x:t,y:n,dx:r,dy:i,domEvent:this._evt})))},this._onDocumentMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._bounds,i=t-this._px,s=n-this._py;(t<0||t>r.width||n<0||n>r.height)&&this._modules.events.fire("documentMouseMove",{x:t,y:n,dx:i,dy:s,domEvent:this._evt})},this._onMouseUp=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._evt;this._buttons[r]=!1,this._clickCounter[this._button]===1?this._modules.events.fire("clickInternal",{button:r,x:t,y:n,domEvent:i}):this._clickCounter[r]>1&&(this._modules.events.fire("doubleclickInternal",{button:r,x:t,y:n,domEvent:i}),this._resetClickCounter(r)),this._modules.events.fire("mouseupInternal",{button:r,x:t,y:n,domEvent:i})},this._onDocumentMouseup=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button;this._buttons[r]=!1;const i=this._modules.dom;this._modules.events.fire("documentMouseUp",{button:r,x:t,y:n,domEvent:this._evt}),i.removeDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.removeDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onMouseDown=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._modules.dom;this._skipNextMove=!0,this._pressX=t,this._pressY=n,this._lastMouseDownTarget=e.target,i.focus(),this._buttons[r]=!0,this._clickCounter[r]+=1;const s=r;this._dbclickTimer=i.setTimeout(()=>{this._resetClickCounter(s,0)},this._getDoubleClickTimer()),this._modules.events.fire("mousedownInternal",{button:r,x:t,y:n,domEvent:this._evt}),i.addDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.addDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onDrop=e=>{if(!this._isEnabled()||!this._setXY(e))return;e.preventDefault();const{x:t,y:n}=this._modules.camera.screenToGraphCoordinates(this._modules.position);this._modules.events.fire("drop",{domEvent:this._evt,x:t,y:n})}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("mouse.enabled",!0),this._modules.settings.register("mouse.wheelEnabled",!0),this._modules.settings.register("mouse.disableWheelUntilMouseDown",!1),this._modules.settings.register("mouse.doubleClickTimer",500),this._modules.events.register(["mousedownInternal","mouseupInternal","mousemoveInternal","mousewheelInternal","clickInternal","doubleclickInternal","mouseoverInternal","mouseoutInternal","documentMouseUp","documentMouseMove","drop"]),this._modules.dom.afterNextFrame().then(()=>this._initializeListeners())}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get left(){return this._left}get right(){return this._right}get middle(){return this._middle}_isEnabled(){return this._modules.settings.get("mouse.enabled")}_isWheelEnabled(){return this._modules.settings.get("mouse.wheelEnabled")}_disableWheelUntilMouseDown(){return this._modules.settings.get("mouse.disableWheelUntilMouseDown")}_getDoubleClickTimer(){return this._modules.settings.get("mouse.doubleClickTimer")}_resetClickCounter(e,t=0){e?this._clickCounter[e]=t:(this._clickCounter.left=t,this._clickCounter.middle=t,this._clickCounter.right=t),this._modules.dom.clearTimeout(this._dbclickTimer),this._lastMouseDownTarget=null}_setXY(e){const t=this._domElt.getBoundingClientRect();return this._bounds=t,!!t&&(this._evt=e,this._button=Jx[e.button],this._px=this._modules.position.x,this._py=this._modules.position.y,this._modules.position.x=e.clientX-t.left,this._modules.position.y=e.clientY-t.top,this._left=this._buttons.left,this._right=this._buttons.right,this._middle=this._buttons.middle,!0)}_applyMouseWheelZoom(e){this._setXY(e)&&this._modules.events.fire("mousewheelInternal",{delta:gV(e),x:this._modules.position.x,y:this._modules.position.y,domEvent:this._evt})}_initializeListeners(){const e=this._domElt,t=this._modules.dom;Hp&&this._modules.dom.addElementEventListener(document,"contextmenu",r=>{this._lastMouseDownTarget&&r.target!==this._lastMouseDownTarget&&r.preventDefault()}),t.addElementEventListener(e,"contextmenu",r=>{this._setXY(r),this._modules.dom.hasFocus()&&this._modules.settings.get("mouse.enabled")&&r.preventDefault()},!1);const n="onwheel"in e?"wheel":e.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";t.addElementEventListener(e,n,this._onMouseWheel),t.addElementEventListener(e,"mousemove",this._onMouseMove),t.addElementEventListener(e,"mouseleave",r=>{if(!this._isEnabled())return;this._modules.dom.blur();const i=e.getBoundingClientRect();r.clientX>=i.left+1&&r.clientX<=i.right-1&&r.clientY>=i.top+1&&r.clientY<=i.bottom-1||this._modules.events.fire("mouseout",{domEvent:this._evt})}),t.addElementEventListener(e,"mousedown",this._onMouseDown),t.addElementEventListener(e,"mouseup",this._onMouseUp),t.addElementEventListener(e,"dragover",r=>{r.preventDefault()}),t.addElementEventListener(e,"drop",this._onDrop)}},fV={doubleTapTimer:500,touchEventRate:15},_V=class extends it{constructor(){super(...arguments),this._pressed=!1,this._addEvent=(e,t,n,r)=>{this._modules.dom.addElementEventListener(e,t,n,r)},this._addWinEvent=(e,t,n,r)=>{this._modules.dom.addDirectWindowEventListener(t,n,r)},this._removeWinEvent=(e,t,n)=>{this._modules.dom.removeDirectWindowEventListener(t,n)}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("touch.enabled",!0),this._modules.events.register(["touchDown","touchUp","touchTap","touchDoubleTap","touchMove","touchStartGesture","touchProgressGesture","touchEndGesture","documentTouchMove","documentTouchUp"]),this._modules.dom.afterNextFrame().then(()=>{this._initialize(this)})}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get pressed(){return this._pressed}_listen(e,t,n){if(FN){if(t==="touchstart")return p4(this._addEvent,e,n);if(t==="touchmove")return f4(this._addWinEvent,e,n);if(t==="touchend")return _4(this._addWinEvent,e,n);if(t==="touchcancel")return m4(this._addWinEvent,e,n)}return this._modules.dom.addElementEventListener(e,t,n)}_initialize(e){let t=0,n=0,r=0,i=0,s=!1,o="left",a=0,l=!1,c=!1,d=0,u=null,h=null;const g=()=>{this._modules.position.x=t,this._modules.position.y=n,this._pressed=s},p=(v,w)=>{const b=this._domElt.getBoundingClientRect();if(!b||v.touches==null)return null;const[S,A]=v.touches,C=S.clientX-b.left,k=S.clientY-b.top,N=A.clientX-b.left,R=A.clientY-b.top,B=(C+N)/2,H=(k+R)/2,F=B-t,T=H-n,W=vn(C,k,N,R),G=this._modules.settings.get("interactions.zoom.speed")||J_,Y=TI(W,G),ee=Al(C,k,N,R),J={dx:F,dy:T,rotation:ee-d,scale:Y};return((ue,Ae,ce,_e)=>{d=Ae,t=ce,n=_e,g()})(0,ee,B,H),J},m=v=>{if(v.touches&&v.touches.length===2&&c){const w=p(v);if(w){const{dx:b,dy:S,rotation:A,scale:C}=w;this._modules.events.fire("touchProgressGesture",{dx:b,dy:S,rotation:A,scale:C,x:t,y:n,domEvent:u,button:o})}}},_=v=>{if(o=Jx[v.button],!v.touches)return!1;if(v.touches.length!==1)return s=!1,v.touches.length>1&&this._modules.events.fire("touchUp",{x:t,y:n,domEvent:u,button:o}),!1;const w=this._domElt.getBoundingClientRect();return w&&(r=t,i=n,t=v.touches[0].clientX-w.left|0,n=v.touches[0].clientY-w.top|0,s=!0,u=v,g()),!0},y=()=>{a=0,this._modules.dom.clearTimeout(h)},f=v=>{if(v.preventDefault(),!v.touches)return;if(v.touches.length!==2&&c&&(c=!1,this._modules.events.fire("touchEndGesture",{domEvent:u})),_(v),v.touches.length===0){const b={x:t,y:n,domEvent:u,button:o};a===1&&this._modules.events.fire("touchTap",b),a>1&&(this._modules.events.fire("touchDoubleTap",b),y()),this._modules.events.fire("touchUp",b)}const w=ys().documentElement;nS(this._removeWinEvent,w,"touchmove",this._onMove),nS(this._removeWinEvent,w,"touchend",this._onEnd)},x=v=>{m(v),l?l=!1:(y(),_(v)&&this._modules.events.fire("touchMove",{x:t,y:n,dx:t-r,dy:n-i,domEvent:u,button:o}))};this._listen(this._domElt,"touchstart",v=>{if(!v.touches)return;v.touches.length!==2||c||p(v)&&(c=!0,this._modules.events.fire("touchStartGesture",{domEvent:u})),_(v)&&(this._modules.dom.focus(),this._modules.events.fire("touchDown",{x:t,y:n,domEvent:u,button:o}),a+=1,h=this._modules.dom.setTimeout(y,fV.doubleTapTimer),l=!0);const w=ys().documentElement;this._onMove=this._listen(w,"touchmove",x),this._onEnd=this._listen(w,"touchend",f)})}},I2=["x","y","radius"],sh=-1e7,yV=class extends it{constructor(){super(...arguments),this._visibleGroups=new Set,this._visualGroupsLayers=new Map,this._groupsToHide=[],this._paddingMap=new Map,this._shouldUpdateGroups=!1,this._onGroupingRun=({metaNodes:e,padding:t})=>{isNaN(+t)?e._indexes.forEach((n,r)=>this._paddingMap.set(n,t[r])):e._indexes.forEach(n=>this._paddingMap.set(n,t)),this._shouldUpdateGroups=!0},this._onRemoveNodes=({nodes:e})=>{e.forEach(t=>this.removeVisibleGroup(t))},this._onSetMultipleAttributes=({elements:e,values:t,options:n})=>{if(this._recursiveGuard||!this._visibleGroups.size)return;const r=e.toList().map((i,s)=>({group:i,translation:t.constructor===Array?{x:t[s]&&t[s].x||0,y:t[s]&&t[s].y||0}:{x:t.x||0,y:t.y||0},isGroup:i.isNode&&this._visibleGroups.has(i._index)})).filter(({isGroup:i})=>i);r.length&&(this._recursiveGuard=!0,r.forEach(({group:i,translation:s})=>this.animateChildren(i,n,s)),this._recursiveGuard=!1)},this._updateVisualGroups=(e,t,n)=>{const r=n.nodes.getUpdatedElementsList().filter(l=>l),i=e.nodes.outputFlexArrays,s=e.nodes.inputFlexArrays,o=this._visibleGroups;if(r.size===0||o.size===0&&!this._groupsToHide.length)return e.nodes.toUpdate.clear(),e.edges.toUpdate.clear(),i.radius.reset(),i.x.reset(),i.y.reset(),void(e.nodes.formattedOutput&&(e.nodes.formattedOutput.attributes=[]));const a=n.nodes.getUpdatedAttributes();for(;this._groupsToHide.length>0;){const l=this._groupsToHide.pop();i.radius.set(l,void 0),i.x.set(l,void 0),i.y.set(l,void 0)}if(a.has("x")||a.has("y")||a.has("radius")||this._shouldUpdateGroups){this._shouldUpdateGroups=!1;const l=this._getAllSubNodes(r);let c=this._getAllMetaNodes(r);const d=e.nodes.toUpdate,u=e.edges.toUpdate,h=this._subNodeOffsetX,g=this._subNodeOffsetY;e.nodes.formattedOutput&&e.nodes.output&&(e.nodes.formattedOutput.attributes=I2,e.nodes.output.attributes=I2);const p=new Set;r.forEach(m=>{const _=m._index;i.x.set(_,void 0),i.y.set(_,void 0),p.add(_)}),l.forEach(m=>{if(!s)return;const _=m.getMetaNode(),y=m._index;let f=s.x.get(y),x=s.y.get(y);if(_&&o.has(_._index)){const v=h.get(y),w=g.get(y),b=i.x.get(_._index),S=i.y.get(_._index),A=f-b,C=x-S;if(v===sh||w===sh)return h.set(y,A),g.set(y,C),void(c.includes(_)||(c=c.concat(_.toList())));d.addIndex(y),u.add(m.getAdjacentEdges()),p.has(y)||v===A&&w===C||(f=b+v,x=S+w,i.x.set(y,f),i.y.set(y,x)),h.set(y,f-b),g.set(y,x-S)}}),c.forEach(m=>{const _=m.getSubNodes();if(!_)return;const y=i.x.getMultiple(_._indexes),f=i.y.getMultiple(_._indexes),x=i.radius.getMultiple(_._indexes),v=Nn.fromValues(y,f,x),[w,b,S]=v.width===v.height&&v.width===v.maxScaledSize?[v.cx,v.cy,v.maxScaledSize]:em(y,f,x),A=this._paddingMap.get(m._index)||0;_.forEach((C,k)=>{h.set(C._index,y[k]-w),g.set(C._index,f[k]-b)}),i.x.set(m._index,w),i.y.set(m._index,b),i.radius.set(m._index,S+A),d.addIndex(m._index),u.add(m.getAdjacentEdges())}),n.nodes.addUpdatedAttribute("radius"),n.nodes.addUpdatedAttribute("x"),n.nodes.addUpdatedAttribute("y"),n.nodes.redrawElements(c)}}}onMounted(){this._subNodesList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._subEdgesList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._metaNodeList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._metaEdgeList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._subNodeOffsetX=this._modules.graph.createNodeAttribute({storage:"float",default:sh},!1),this._subNodeOffsetY=this._modules.graph.createNodeAttribute({storage:"float",default:sh},!1),this._recursiveGuard=!1,this._modules.events.register(["groupingRun"]),this._modules.events.on("setMultipleAttributes",this._onSetMultipleAttributes).on("groupingRun",this._onGroupingRun).on("removeNodes",this._onRemoveNodes),this._groupAttributeLayer=this._modules.graphics.addAttributeLayer({name:`internal(${P4})`,priority:7,nodeSelector:e=>this._visibleGroups.has(e._index),edgeSelector:e=>e.isVirtual(),nodeAttributes:{layer:e=>this._visualGroupsLayers.get(e._index)},nodeOutput:{attributes:["layer"]},nodeDependencies:{self:{data:!1,attributes:["radius"],hover:!0},adjacentNodes:{attributes:"all"},adjacentEdges:{attributes:"all"}}}),this._topologyLayer=this._modules.graphics.addAttributeLayer({name:"internal(position-forcer)",priority:6.9,nodeDependencies:{self:{attributes:["x","y","radius"]},adjacentNodes:{attributes:"all"}},onBeforeUpdate:this._updateVisualGroups,nodeOutput:{attributes:["x","y","radius","layer"]}})}animateChildren(e,t,n){n.x===0&&n.y===0||e.getSubNodes().forEach(r=>{const i=this._subNodeOffsetX.get(r._index),s=this._subNodeOffsetY.get(r._index),o={x:n.x+i,y:n.y+s};r.setAttributes(o,t),r.getSubNodes()&&this.animateChildren(r,t,o)})}resetOffsets(){this._recursiveGuard=!0;const e=this._modules.graph.getNodes(),t=this._topologyLayer.getFlexArrays().nodes;e.setAttribute("x",t.x.getMultiple(e._indexes)),e.setAttribute("y",t.y.getMultiple(e._indexes)),t.x.reset(),t.y.reset(),this._recursiveGuard=!1}addVisibleGroup(e,t){this._visualGroupsLayers.set(e._index,t),this._visibleGroups.add(e._index)}getNodeDepth(e){return this._visualGroupsLayers.get(e._index)||0}removeVisibleGroup(e){const t=e._index;this._visibleGroups.delete(t)&&(this._groupsToHide.push(t),this._visualGroupsLayers.delete(t))}_getAllSubNodes(e){const t=Array.from(e._indexes),n=[],r=this._visibleGroups,i=this._subNodesList;for(;t.length!==0;){const s=t.pop();if(s!=null&&r.has(s)){const o=i.get(s),a=Array.from(o._indexes);n.push.apply(n,a),t.unshift.apply(t,a)}}return this._modules.graph.nodeList(new Uint32Array(n))}_getAllMetaNodes(e){const t=Array.from(e._indexes),n=this._visibleGroups,r=this._metaNodeList,i=[],s=new Set;for(;t.length!==0;){const o=t.pop();if(o!=null){const a=r.get(o);a!==null&&!s.has(a._index)&&n.has(a._index)&&(s.add(a._index),i.push(a._index),t.unshift(a._index))}}return this._modules.graph.nodeList(new Uint32Array(i))}isVisibleGroup(e){return this._visibleGroups.has(e._index)}getSubNodeOffset(e){return{x:this._subNodeOffsetX.get(e._index),y:this._subNodeOffsetY.get(e._index)}}_fetchSubEltsList(e){return e?this._subNodesList:this._subEdgesList}_fetchMetaEltList(e){return e?this._metaNodeList:this._metaEdgeList}setSubElements(e,t){this._fetchSubEltsList(e.isNode).setMultiple(e._indexes,t)}setMetaElement(e,t){this._fetchMetaEltList(e.isNode).setMultiple(e._indexes,t)}getSubElements(e){return this._fetchSubEltsList(e.isNode).getMultiple(e._indexes)}getMetaElement(e){return this._fetchMetaEltList(e.isNode).getMultiple(e._indexes)}},xV=class extends it{constructor(){super(...arguments),this._list=[],this._idCounter=0,this._mustRefresh=!1,this._safeGuard=!1,this._preventFiringEvents=!1,this._afterCurrentUpdate=Promise.resolve(),this._destroyed=!1,this._update=()=>{let e=Promise.resolve();this._modules.captor.setDetectionEnabled(!1);const t=this._list.filter(({shouldDo:o})=>o),n=this._list.filter(({enabled:o,shouldUndo:a})=>o||a);let r,i,s=!1;if(n.length===t.length+1&&M2(n,t,t.length)){const o=n.pop();r=o?[o]:[],i=[],s=!0}else if(t.length===n.length+1&&M2(n,t,n.length)){r=[];const o=t.pop();i=o?[o]:[],s=!0}else r=n,i=t,s=!1;return e=e.then(()=>this._resolveTransformations(r,i,s)).then(()=>this._modules.captor.setDetectionEnabled(!0)).then(()=>{r.filter(({shouldUndo:o})=>o).forEach(o=>{o.shouldUndo=!1,o.enabled=!1}),i.forEach(o=>{o.shouldDo=!0,o.enabled=!0})}),e}}onMounted(){this._modules.classes.createClass({name:dn,isBuiltin:!0,nodeAttributes:{opacity:0,radius:0},edgeAttributes:{opacity:0}}),this._modules.classes.createClass({name:zs,isBuiltin:!0,nodeAttributes:{opacity:0},edgeAttributes:{opacity:0}}),this._nodeTransformationIdList=this._modules.graph.createNodeAttribute({storage:16,default:0},!1),this._edgeTransformationIdList=this._modules.graph.createEdgeAttribute({storage:16,default:0},!1),this._modules.settings.register("transformations.updateOnDataChange",!0),this._modules.events.register(["transformationEnabled","transformationDisabled","transformationSetIndex","transformationDestroyed","transformationRefresh"]),this._modules.events.on("clearGraph",()=>{this._list.forEach(e=>e.resetContext())}),this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges"],({virtual:e})=>{e||this._afterCurrentUpdate.then(()=>this.refresh(!0))}).on("requestElementsToDelete",e=>{e.virtual||(e.elementsToRemove=this._getSubElements(e.elementsToRemove),e.elementsToRemove.size&&this._resolveTransformations(this._list,[],!1))}).on(["updateNodeData","updateEdgeData"],()=>{this._modules.settings.get("transformations.updateOnDataChange")&&!this._safeGuard&&this.refresh(!0)})}refresh(e=!1){return this._list.length?(this._mustRefresh||this._safeGuard||(this._preventFiringEvents=!0,this._mustRefresh=!0,this._safeGuard=!0,this._afterCurrentUpdate=this._afterCurrentUpdate.then(()=>this._update()).then(()=>(this._modules.dom.refresh(),this._modules.dom.afterNextFrame())).then(()=>(this._modules.dom.refresh(),this._mustRefresh=!1,this._safeGuard=!1,this._list.forEach(t=>{if(t.getError())return t.cleanup(),t.resetContext(),t.reject();t.resolve(),this._preventFiringEvents=!e,this._fireEvent("transformationRefresh",{target:t}),this._preventFiringEvents=!1}),Promise.resolve()))),this._afterCurrentUpdate):Promise.resolve()}getById(e){return this._list.find(t=>t.getId()===e)}_fireEvent(e,t){this._preventFiringEvents||this._destroyed||this._modules.events.fire(e,t)}_getSubElements(e){return e.reduce((t,n)=>{if(n===void 0)return t;const r=this._modules.grouping.getSubElements(n)[0];return r?t.concat(this._getSubElements(r)):t.concat(n)},e.slice(0,0))}_assignTransformationIds(e,t,n){t!==null&&this._nodeTransformationIdList.setMultiple(t._indexes,e),n!==null&&this._edgeTransformationIdList.setMultiple(n._indexes,e)}_resolveTransformations(e,t,n){if(n||(e.forEach(o=>o.setDuration(0)),t.forEach(o=>o.setDuration(0))),this._destroyed)return Promise.resolve();const r=this._modules.selection.getSelectedNodes().getId(),i=this._modules.selection.getSelectedEdges().getId();let s=Promise.resolve();return e.slice().reverse().forEach(o=>{o.getContext()!==null&&(s=s.then(()=>o.undo()))}),t.forEach(o=>{s=s.then(()=>o.run()).catch(a=>(o.setError(a),!0)).then(a=>{if(a===!0)return Promise.resolve();const l=a;return this._assignTransformationIds(o.getId(),l.virtualNodes,l.virtualEdges),o.setContext(l),Promise.resolve()})}),s=s.then(()=>{this._destroyed||(this._modules.graph.getNodes(r).setSelected(!0),this._modules.graph.getEdges(i).setSelected(!0))}),s}getList(){return this._list}clear(){const e=this._list.slice();return e.forEach(t=>{t.shouldUndo=!0,t.shouldDo=!1,t.setRemovalDuration(0)}),this.refresh().then(()=>(this._list=this._list.filter(t=>!e.includes(t)),Promise.resolve())).then(()=>Promise.all(e.slice().reverse().map(t=>t.cleanup()))).then(()=>{e.forEach(t=>{this._fireEvent("transformationDestroyed",{target:t})})})}_get(e,t=!0){const n=this._list.find(r=>r.getId()===e);if(!n){if(t)throw new Error("calling a method on a destroyed transformation");return null}return n}enable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldDo=!0,e.shouldUndo=e.enabled,e.setDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationEnabled",{target:e})})}disable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldUndo=!0,e.shouldDo=!1,e.setRemovalDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationDisabled",{target:e})})}remove(e,t){return this._afterCurrentUpdate.then(()=>(e.setRemovalDuration(t),e.shouldUndo=!0,e.shouldDo=!1,this.refresh().then(()=>{e.cleanup(),this._list.splice(e.getIndex(),1)}))).then(()=>{this._fireEvent("transformationDestroyed",{target:e})})}setIndex(e,t){if(!e)return this._afterCurrentUpdate;let n,r;return this._preventFiringEvents=!0,this._afterCurrentUpdate.then(()=>{const i=e.getIndex(),s=Math.min(i,t);return n=this._list.slice(s).filter(o=>o.isEnabled()),r=n.map(o=>[o.getDuration(),o.getRemovalDuration()]),n.forEach(o=>o.disable(0)),this.refresh()}).then(()=>(this._list.splice(e.getIndex(),1),this._list.splice(Wr(t,0,this._list.length),0,e),n.forEach((i,s)=>{i.enable(0)}),this.refresh())).then(()=>(n.forEach((i,s)=>{i.setDuration(r[s][0]),i.setRemovalDuration(r[s][1])}),this._afterCurrentUpdate)).then(()=>{this._preventFiringEvents=!1,this._fireEvent("transformationSetIndex",{target:e,index:t})})}setOptions(e,t){return e._setOptions(t),e.setDuration(t.duration),e.enabled===t.enabled&&e.enabled?this.refresh(!0):t.enabled?this.enable(e,t.duration):this.disable(e,t.duration)}getIndex(e){for(let t=0;t<this._list.length;t++)if(this._list[t]===e)return t;return-1}add(e){return this._list.push(e),e.initialize({ogma:this._ogma,id:++this._idCounter}),this.refresh().then(()=>e.isEnabled()?this._fireEvent("transformationEnabled",{target:e}):this._fireEvent("transformationDisabled",{target:e})),e}whenApplied(){return this._modules.dom.afterNextFrame().then(()=>this._afterCurrentUpdate)}isEnabled(e){const t=this._get(e);return t&&t.enabled||!1}_getElementTransformationId(e){return(e.isNode?this._nodeTransformationIdList:this._edgeTransformationIdList).get(e._index)}isElementVirtual(e){return this._modules.graph.getAttribute(e.isNode,"virtual").get(e._index)!==0}getElementTransformation(e){return this._get(this._getElementTransformationId(e),!1)}destroy(){this._destroyed=!0}};function M2(e,t,n){for(let r=0;r<n;++r)if(e[r].getId()!==t[r].getId())return!1;return!0}var P2={layer:$N,outline:!0,outerStroke:{color:V_,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:aM,minVisibleSize:0}},vV={layer:$N,color:V_,text:{backgroundColor:aM,minVisibleSize:0},stroke:{color:V_,width:0}},bV=class extends it{onMounted(){this._modules.events.register(["nodesSelected","nodesUnselected","edgesSelected","edgesUnselected"]),this._selectionExtremityHighlightedClass=this._modules.classes.createClass({name:F_,isBuiltin:!0,nodeAttributes:P2}),this._selectedClass=this._modules.classes.createClass({name:nn,isBuiltin:!0,nodeAttributes:P2,edgeAttributes:vV}),this._modules.events.on(`nodeClassAdded_${nn}`,t=>{this._modules.events.fire("nodesSelected",t)}),this._modules.events.on(`edgeClassAdded_${nn}`,t=>{this._modules.events.fire("edgesSelected",t)}),this._modules.events.on(`nodeClassRemoved_${nn}`,t=>{this._modules.events.fire("nodesUnselected",t)}),this._modules.events.on(`edgeClassRemoved_${nn}`,t=>{this._modules.events.fire("edgesUnselected",t)}),this._modules.settings.register("interactions.selection.enabled",!0),this._modules.settings.register("interactions.selection.multiSelectionKey","ctrl"),this._modules.interactions.onClick({priority:"selection",check:({button:t})=>{const n=!!this._modules.settings.get("interactions.selection.enabled");return t==="left"&&n},handler:({target:t})=>{if(t){const n=this._modules.settings.get("interactions.selection.multiSelectionKey"),r=n&&this._modules.keyboard.isPressed(n);t.isNode?this._selectedClass.clearEdges():this._selectedClass.clearNodes(),r?t.hasClass(nn)?t.removeClass(nn):t.addClass(nn):((t.isNode?this._selectedClass.getNodes():this._selectedClass.getEdges()).filter(i=>i!==t).removeClass(nn),t.hasClass(nn)||t.addClass(nn))}else this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}});const e=()=>{this._selectionExtremityHighlightedClass.clearNodes(),this._selectedClass.getEdges().getExtremities().addClass(F_)};this._modules.events.on("beforeRemoveEdges",({edges:t})=>t.setSelected(!1)).on("excludedStateChange",({elements:t,value:n})=>{n||t.setSelected(!1)}).on(`edgeClassAdded_${nn}`,e).on(`edgeClassRemoved_${nn}`,e)}setNodeAttributes(e,t){this._selectedClass.update({nodeAttributes:e,fullOverwrite:t}),this._selectionExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}setEdgeAttributes(e,t){this._selectedClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}_updateExtremityHighlightLayer(){const e=this._selectedClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._selectionExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}setActive(e,t){if(Rn(t)){const n=[],r=[];e.toList().forEach((i,s)=>{(t[s]?n:r).push(i.getId())}),n.length!==0&&this._modules.graph.getElements(e.isNode,n).addClass(nn),r.length!==0&&this._modules.graph.getElements(e.isNode,r).removeClass(nn)}else e.size&&e[t?"addClass":"removeClass"](nn)}areActive(e){return e.hasClass(nn)}getSelectedNodes(){return this._selectedClass.getNodes()}getSelectedEdges(){return this._selectedClass.getEdges()}getNonSelectedNodes(){return this._modules.graph.getNodes().filter(e=>!e.hasClass(nn))}getNonSelectedEdges(){return this._modules.graph.getEdges().filter(e=>!e.hasClass(nn))}clear(){this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}},wV=class extends it{onMounted(){this._delayedCalls=[],this._idIdle=()=>!this._modules.captor.isAnyButtonPressed()&&!this._modules.dom.isPlayingFrame(),this._modules.events.on(["mousedown","mouseup","beforeNewFrame","newFrame"],()=>{this._delayedCalls.forEach(e=>e.reset())})}_nextTimeIdle(e){const t=new EV(this._modules.dom,this._idIdle,e);return this._delayedCalls.push(t),t.whenDone().then(()=>{this._delayedCalls.splice(this._delayedCalls.indexOf(t),1)})}debounceIdle(e,t=0){let n=!1,r=[];const i=()=>{const s=r;n=!1,r=[],e(),s.forEach(o=>o())};return()=>new Promise(s=>{r.push(s),n||(n=!0,this._nextTimeIdle(t).then(i))})}},EV=class{constructor(e,t,n){this._timeout=null,this._done=!1,this._dom=e,this._promise=new Promise(r=>this._resolve=r),this._isIdle=t,this._delay=n,this._startTimeout()}_startTimeout(){this._timeout=this._dom.setTimeout(()=>{this._isIdle()?(this._done=!0,this._resolve()):this._startTimeout()},this._delay)}reset(){this._done||(this._dom.clearTimeout(this._timeout),this._startTimeout())}whenDone(){return this._promise}},oh=-2,SV={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:50,startRatio:1,endRatio:2,enabled:!1},AV={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:10,startRatio:1,endRatio:2,enabled:!1},kV=class extends it{constructor(){super(...arguments),this._nodePromiseMap=new Map,this._edgePromiseMap=new Map,this._onAttributeChange=({nodes:e,edges:t,nodeAttributes:n,edgeAttributes:r})=>{this._onElementsAttributeChange(e,n),this._onElementsAttributeChange(t,r,!1)},this._refreshPulses=()=>{const{nodes:e,edges:t}=this._hasPulses.getElements();if(e.size!==0||t.size!==0){const n=this._engine.getCurrentTime();this._refreshElementsPulses(e,n),this._refreshElementsPulses(t,n),this._modules.dom.refresh()}}}onMounted(){this._modules.events.on("updateAttributes",this._onAttributeChange).on("newFrame",this._refreshPulses).on("beforeRemoveEdges",({edges:e})=>{this._removePulses(e)}).on("beforeRemoveNodes",({nodes:e})=>{this._removePulses(e)}).on("excludedStateChange",({elements:e,value:t})=>{t&&(this._hasPulses.removeElements(e),this._removePulses(e))}).on("clearGraph",()=>this._hasPulses.clear()),this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._nodePulses=this._modules.graph.createNodeAttribute({storage:"any"},!1),this._edgePulses=this._modules.graph.createEdgeAttribute({storage:"any"},!1),this._nodeNbPulsesRemaining=this._modules.graph.createNodeAttribute({storage:"int16",default:-1},!1),this._edgeNbPulsesRemaining=this._modules.graph.createEdgeAttribute({storage:"int16",default:-1},!1),this._nodeFlexArrays=this._modules.graphics.getNodeAttributes(),this._edgeFlexArrays=this._modules.graphics.getEdgeAttributes(),this._edgeSourceList=this._modules.graph.getEdgeAttribute("source"),this._edgeTargetList=this._modules.graph.getEdgeAttribute("target"),this._hasPulses=new Jd(this._modules.graph)}_onElementsAttributeChange(e,t,n=!0){if(!t.includes("pulse.enabled"))return;const{valid:r,invalid:i}=XN(this._modules.graph,e,o=>o.getAttribute("pulse.enabled")&&o.isVisible());this._hasPulses.removeElements(i),this._hasPulses.addElements(r);const s=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let o=0;o<r.size;o++)s.get(r._indexes[o])>0||s.set(r._indexes[o],oh);this._removePulses(i)}_removePulses(e){const t=e.isNode?this._nodePulses:this._edgePulses,n=e.isNode?this._nodePromiseMap:this._edgePromiseMap;for(let r=0;r<e._indexes.length;r++){const i=e._indexes[r],s=t.get(i);if(s){for(let a=0;a<s.length;a++){const l=s[a];this._modules.graphics.releaseGraphicsEngineBlockId(l.blockId)}t.set(i,null);const o=n.get(i);o&&(o.resolve(),n.delete(i))}}}_refreshElementsPulses(e,t){const n=e.isNode,r=n?this._nodePulses:this._edgePulses,i=n?this._nodeFlexArrays.pulse.duration:this._edgeFlexArrays.pulse.duration,s=n?"_createNodePulseBlock":"_createEdgePulseBlock",o=n?this._nodeFlexArrays.pulse.interval:this._edgeFlexArrays.pulse.interval,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let l=0;l<e._indexes.length;l++){const c=e._indexes[l];let d=r.get(c);d||(d=[],r.set(c,d));for(let m=0;m<d.length;m++){const{startTime:_,duration:y,blockId:f}=d[m];t>=_+y&&(this._modules.graphics.releaseGraphicsEngineBlockId(f),d.splice(m--,1))}const u=d[d.length-1];if(u&&t<u.startTime+o.get(c))continue;const h=i.get(c),g=a.get(c);if(g<1&&g!==oh)continue;d.push({blockId:this[s](c,t,h),startTime:t,duration:h});const p=g===oh?oh:g-1;a.set(c,p)}}_createNodePulseBlock(e,t,n){const r=this._nodeFlexArrays,i=r.color.get(e),s=r.layer.get(e),o=r.x.get(e),a=r.y.get(e),l=r.radius.get(e),c=r.scalingMethod.get(e)==="scaled",d=r.pulse.startRatio.get(e),u=r.pulse.endRatio.get(e),h=r.pulse.width.get(e),g=2*l*d,p=2*l*u,m=Td(s).nodeBody,_=r.pulse.startColor.get(e),y=r.pulse.endColor.get(e),f=this._modules.graphics.allocateGraphicsEngineBlockId(),x=this._group.reset(Ci,!0,m),v=x.nextAndReset(),w=Mi(_,i),b=Mi(y,i);return v.end.shape="circle",v.end.pieceId=mi,v.end.x1=o,v.end.y1=a,v.end.x2=o,v.end.y2=a,v.end.rectWidthOrSourceRadiusScaled=c?p:0,v.end.rectHeightOrTargetRadiusScaled=c?p:0,v.end.rectWidthOrSourceRadiusFixed=c?0:p,v.end.rectHeightOrTargetRadiusFixed=c?0:p,v.end.strokeWidthFixed=h,v.end.strokeColor=b,v.start.shape="circle",v.start.pieceId=mi,v.start.x1=o,v.start.y1=a,v.start.x2=o,v.start.y2=a,v.start.rectWidthOrSourceRadiusScaled=c?g:0,v.start.rectHeightOrTargetRadiusScaled=c?g:0,v.start.rectWidthOrSourceRadiusFixed=c?0:g,v.start.rectHeightOrTargetRadiusFixed=c?0:g,v.start.strokeWidthFixed=h,v.start.strokeColor=w,v.animation.duration=n,v.animation.beginTime=t,this._engine.storeGroup(f,x),f}_createEdgePulseBlock(e,t,n){const r=this._edgeFlexArrays,i=this._nodeFlexArrays,s=r.pulse.startRatio.get(e),o=r.pulse.endRatio.get(e),a=r.pulse.startColor.get(e),l=r.pulse.endColor.get(e),c=Td(r.layer.get(e)).edgeBody,d=this._edgeSourceList.get(e),u=this._edgeTargetList.get(e),h=r.curvature.get(e),g=h!==0,p=this._modules.graphics.allocateGraphicsEngineBlockId(),m=this._group.reset(g?Gg:Ci,!0,c),_=m.nextAndReset(),y={isSelfLoop:d===u,curvature:h,sourceX:i.x.get(d),sourceY:i.y.get(d),targetX:i.x.get(u),targetY:i.y.get(u),sourceRadius:i.radius.get(d),targetRadius:i.radius.get(u),isSourceRadiusScaled:i.scalingMethod.get(d)==="scaled",isTargetRadiusScaled:i.scalingMethod.get(u)==="scaled",width:r.width.get(e),isWidthScaled:r.scalingMethod.get(e)==="scaled",strokeWidth:r.pulse.width.get(e)};return F2(_.start,y),F2(_.end,y),_.start.strokeColor=a,_.end.strokeColor=l,_.start.thicknessOrFontSizeScaled*=s,_.start.thicknessOrFontSizeFixed*=s,_.end.thicknessOrFontSizeScaled*=o,_.end.thicknessOrFontSizeFixed*=o,_.animation.duration=n,_.animation.beginTime=t,this._engine.storeGroup(p,m),p}pulse(e,t){const n=e.isNode,r=Se(Se(Se({},n?SV:AV),n?this._nodePulseTheme:this._edgePulseTheme),t),i=r.number,s=r.interval,o=r.duration,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining,l=(i-1)*s+o;let c;r.enabled=!0,delete r.number,e.setAttributes({pulse:r}),a.setMultiple(e._indexes,i),this._modules.dom.setTimeout(()=>{e.isList?e.filter(Ii).setAttribute("pulse.enabled",!1):e.setAttribute("pulse.enabled",!1),a.setMultiple(e._indexes,-1)},l);const d=new Promise(h=>{c=()=>h(e)}),u=e.isNode?this._nodePromiseMap:this._edgePromiseMap;return e.isList?e._indexes.forEach(h=>{this._setPromise(h,u,d,c)}):this._setPromise(e._index,u,d,c),d}_setPromise(e,t,n,r){t.has(e)&&t.get(e).resolve(),t.set(e,{promise:n,resolve:r})}setTheme(e,t){this._nodePulseTheme=e,this._edgePulseTheme=t}};function F2(e,{sourceX:t,sourceY:n,targetX:r,targetY:i,isSourceRadiusScaled:s,isTargetRadiusScaled:o,targetRadius:a,sourceRadius:l,isWidthScaled:c,width:d,strokeWidth:u,curvature:h,isSelfLoop:g}){e.pieceId=lm,e.shape="line",e.x1=t,e.y1=n,e.x2=r,e.y2=i,e.rectWidthOrSourceRadiusScaled=s?l:0,e.rectWidthOrSourceRadiusFixed=s?0:l,e.rectHeightOrTargetRadiusScaled=o?a:0,e.rectHeightOrTargetRadiusFixed=o?0:a,e.thicknessOrFontSizeScaled=c?d:0,e.thicknessOrFontSizeFixed=c?0:d,e.strokeWidthFixed=u,e.curvature=h,e.isSelfLoop=g}var CV={duration:0,easing:"linear",callback:ft,resolve:ft,startAfter:0},TV=0,LV=class extends it{constructor(){super(...arguments),this._animationList=[],this._update=()=>{if(this._animationList.length===0)return;const e=rr(),t=[];for(let n=0;n<this._animationList.length;++n){const r=this._animationList[n],i=(e-r.creationDate)/r.duration,s=r.startAfter;let o=r.easing(i);i>=1?(r.func(1),r.done=!0,r.resolve(void 0),this._animationList.splice(n,1),n-=1,t.push(r.callback)):o>=s&&(o=(o-s)*(1/(1-s)),r.func(o))}for(let n=0;n<t.length;n++)t[n](!1);this._modules.dom.refresh()}}onMounted(){this._modules.events.on("beforeNewFrame",this._update)}play(e,t){const{duration:n,easing:r,callback:i,startAfter:s,resolve:o}=Zr(t,CV);if(n<=0)return e(1),i(),o(void 0),null;const a={func:e,easing:typeof r=="function"?r:jv[r],duration:n,callback:i,resolve:o,startAfter:s,creationDate:rr(),done:!1,id:++TV};return this._animationList.push(a),this._modules.dom.refresh(),a}cancel(e){const t=this._animationList.indexOf(e);t!==-1&&(e.func(1),this._animationList.splice(t,1),e.done=!0,e.resolve(void 0))}},NV=(e,t,n,r)=>{const i=n._getMapPanePos(),s=e.getMapboxMap(),o=e.getCanvas(),a=e.getSize().round(),l=r.DomUtil.getPosition(e.getContainer()),c=l.x+i.x,d=l.y+i.y;return new Promise(u=>{function h(){t.drawImage(o,c,d,a.x,a.y),u()}if(s.loaded())return h();s.once("idle",h)})},IV=(e,t,n,r,i)=>{const s=n._getMapPanePos(),o=e.getContainer();if(!o)throw new Error(`Trying to access the container of ${e} but it does not exist.`);const a=r.DomUtil.getPosition(o);n.removeLayer(e),e.options.crossOrigin="anonymous";const l=[],c=[];return e.on("tileload",({tile:d})=>{const{x:u,y:h}=r.DomUtil.getPosition(d);l.push(d),c.push({x:u-a.x+s.x,y:h-a.y+s.y})}),n.addLayer(e),new Promise(d=>{e.once("load",()=>{const u=e.getTileSize();l.forEach((h,g)=>{const{x:p,y:m}=c[g];t.drawImage(h,p,m,u.x,u.y)}),d()})})},MV=(e,t,n,r,i,s)=>new Promise(o=>{const a=e.options.renderer;n.removeLayer(e),e.options.renderer=s,n.addLayer(e),s._updatePaths();const l=n._getMapPanePos(),c=s._container,d=r.DomUtil.getPosition(c);t.drawImage(s._container,d.x+l.x,d.y+l.y,c.width/i,c.height/i),n.removeLayer(e),e.options.renderer=a,n.addLayer(e),o()}),PV=(e,t,n,r,i)=>new Promise(s=>{const o=n.getPixelBounds().min,a=n.project(e.getLatLng(),n.getZoom()),l=/^data:/.test(e._icon.src),c=l?e._icon.src:mP(e._icon.src),d=new Image,u=e.options.icon;if(u){const h=u.options;let g=h.iconSize||[24,24];const p=a.subtract(o);let m=h.iconAnchor||[0,0];Array.isArray(g)||(g=[g.x,g.y]),Array.isArray(m)||(m=[m.x,m.y]);const _=Math.round(p.x-(g[0]-m[0])*i),y=Math.round(p.y-m[1]*i);d.crossOrigin="";const f=()=>{t.drawImage(d,_,y,g[0]*i,g[1]*i),s()};d.onload=f,d.src=c,l&&f()}}),FV=(e,t,n,r,i)=>new Promise(s=>{n.removeLayer(e),e.setUrl(mP(e.getUrl())),e.options.crossOrigin="anonymous",e.once("load",()=>{const o=e.getBounds(),a=n.latLngToContainerPoint(o.getNorthWest()),l=n.latLngToContainerPoint(o.getSouthEast()),c=l.x-a.x,d=l.y-a.y;t.drawImage(e._image,a.x,a.y,c,d),s()}),n.addLayer(e)});function mP(e){return e+(e.indexOf("?")===-1?"?":"&")+"noCache="+Date.now()}var RV={tileLayers:IV,imageOverlays:FV,vectorLayers:MV,markers:PV,vectorMap:NV};function DV(e,t){return e instanceof t.TileLayer?"tileLayers":e instanceof t.ImageOverlay?"imageOverlays":e instanceof t.Path?"vectorLayers":e instanceof t.Marker?"markers":"MapboxGL"in t&&e instanceof t.MapboxGL?"vectorMap":void 0}function zV(e,t,n,r,i,s){const o={vectorMap:[],tileLayers:[],vectorLayers:[],imageOverlays:[],markers:[]};return t.eachLayer(a=>{if(a!==e){const l=DV(a,r);if(l&&l in o){const c=RV[l];o[l].push(()=>c(a,n,t,r,i,s))}}}),o}function OV(e){e.TileLayer.prototype.getUrl=function(){return this._url},e.ImageOverlay.prototype.getUrl=function(){return this._url};const t="leaflet-zoom-animated";e.OgmaOverlay||(e.OgmaOverlay=e.Layer.extend({options:{pane:"overlayPane",padding:0,onUpdate:()=>{}},initialize:function(n){const{container:r}=n;e.Util.setOptions(this,n),this._container=r},setLocked:function(n){return this._locked=n,this},onAdd:function(n){this._map=n,this.getPane().appendChild(this._container),this._wgsOrigin=e.latLng([0,0]),this._wgsInitialShift=n.project(this._wgsOrigin,this._initialZoom),e.DomUtil.addClass(this._container,"leaflet-layer"),this._zoomAnimated&&(e.DomUtil.addClass(this._container,t),this._container.style.position="absolute",this._container.style.zIndex=9999),this._initialZoom=(this._map.getMaxZoom()+this._map.getMinZoom())/2,this._mapInitialZoom=this._map.getZoom(),this._updateBounds(),this._update({})},_updateBounds(){const n=this.options.padding,r=this._map.getSize(),i=this._map.containerPointToLayerPoint(r.multiplyBy(-n));this._bounds=new e.Bounds(i,i.add(r.multiplyBy(1+2*n))),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_update(n){this._updateBounds(),this._redraw(this._bounds.min,n),this._positionTimer=e.Util.requestAnimFrame(()=>{this._container&&e.DomUtil.setPosition(this._container,this._bounds.min)})},_redraw(n,r){this.options.onUpdate()},_updateTransform(n,r){if(this._locked)return;const i=this._map.getZoomScale(r,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,r),a=s.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(n,r));e.Browser.any3d?e.DomUtil.setTransform(this._container,a,i):e.DomUtil.setPosition(this._container,a)},_onZoom(n){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onMoveEnd(n){this._update(n)},_onAnimZoom({center:n,zoom:r}){this._updateTransform(n,r)},bringToFront(){e.DomUtil.toFront(this._container)},getEvents(){return{zoom:this._onZoom,moveend:this._onMoveEnd,zoomanim:this._onAnimZoom,layeradd:this.bringToFront,zoomend:this.options.onUpdate}},onRemove:function(){e.DomUtil.removeClass(this._container,t);const n=this._container;["transform","webkitTransform","OTransform","MozTransform","msTransform","zIndex","position"].forEach(r=>n.style[r]=null),e.Util.cancelAnimFrame(this._positionTimer),this._container=null}}))}function BV(e,t,n,r){const i=e.filter(b=>b.isVisible()),s=i.size===0,{mapX:o,mapY:a}=i.reduce((b,S)=>{const{latitude:A,longitude:C}=S.getGeoCoordinates(),{x:k,y:N}=r(A,C);return b.mapX.push(k),b.mapY.push(N),b},{mapX:[],mapY:[]}),l=i.getAttribute("x"),c=i.getAttribute("y"),d=i.getAttribute("radius").map(Number),u=new Nn({xValues:l,yValues:c,scaledSizeValues:d}),h=new Nn({xValues:o,yValues:a});s&&(u.cx=u.cy=0,u.width=u.height=0),isFinite(h.width)&&isFinite(h.height)||(h.cx=h.cy=0,h.width=h.height=0);let g=h.cx-u.cx,p=h.cy-u.cy;const m=s?1:Math.max(h.width,h.height)/Math.max(u.width,u.height),[_,y]=d.reduce((b,S)=>(b[0]=Math.min(b[0],S*m),b[1]=Math.max(b[1],S*m),b),[1/0,0]);h.pad(y),h.minScaledSize=_,h.maxScaledSize=y;const f=n.computeConfigForBounds(h),x=t.zoom/V4(f.zoom);g+=(u.cx-t.x)*x,p+=(u.cy-t.y)*x;const v=u.cx+g,w=u.cy+p;return{offsetChanges:{name:"graph-to-geo",nodeAttributes:{radius:b=>Number(b.getAttribute("radius"))*x,x:b=>(b.getAttribute("x")+g-v)*x+v,y:b=>(b.getAttribute("y")+p-w)*x+w},edgeAttributes:{width:b=>Number(b.getAttribute("width"))*x}},camera:Se({zoom:t.zoom/x,x:(t.x+g-v)*x+v,y:(t.y+p-w)*x+w,angle:0},t.getSize())}}function jV(e,t,n,r){const i=e.getAttributes(["x","y","radius"]),s=e.getBoundingBox(),o=e.size===0,a=e.reduce((v,{_index:w},b)=>(v[w]=b,v),{});r();const l=e.getAttribute("x"),c=e.getAttribute("y"),d=e.getAttribute("radius").map(Number),u=new Nn({xValues:l,yValues:c,scaledSizeValues:d.map(v=>2*v)});o&&(s.reset(),u.reset());let h=u.cx-s.cx,g=u.cy-s.cy,p=0,m=0;const _=n.computeConfigForBounds(u),y=t.zoom/_.zoom;let f,x;return isNaN(s.cx)||isNaN(s.cy)?(s.cx=t.x,s.cy=t.y,f=_.x,x=_.y):(h+=(s.cx-t.x)*y,g+=(s.cy-t.y)*y,p=s.cx+h,m=s.cy+g,f=(t.x+h-p)*y+p,x=(t.y+g-m)*y+m),{offsetChanges:{name:"geo-to-graph",nodeAttributes:{x:v=>(i[a[v._index]].x+h-p)*y+p,y:v=>(i[a[v._index]].y+g-m)*y+m}},camera:Se({zoom:_.zoom,x:f,y:x,angle:0},t.getSize())}}var fP={"top-left":"left","bottom-left":"left","top-right":"right","bottom-right":"right"},UV={"top-left":"top","bottom-left":"bottom","top-right":"top","bottom-right":"bottom"},R2={position:"bottom-right",horizontalMargin:0,verticalMargin:0,className:void 0},$V=class extends it{onMounted(){this._brand=null}set(e,t){let{position:n,horizontalMargin:r,verticalMargin:i,className:s}=Se(Se({},R2),t);fP[n]||(n=R2.position),this.remove();const o=document.createElement("div");return o.innerHTML=e,o.style.position="absolute",_P(o,n,r,i),o.style.padding="0px 0px 0px 0px",o.style.zIndex="10",s&&o.setAttribute("class",s),this._brand=o,this._modules.dom.setLayer("brand",this._brand),o}remove(){this._modules.dom.setLayer("brand",null),this._brand=null}};function _P(e,t,n,r){const i=n===void 0?"":n+"px",s=r===void 0?"":r+"px";e.style[fP[t]]=i,e.style[UV[t]]=s}var D2={},VV=class extends it{constructor(){super(...arguments),this._enabled=!1,this._settings=Se({},zo),this._edgesOriginalTextStyle={},this._nodesOriginalTextStyle={},this._nodeDraggingSetting=!1,this._transition=!1,this._attribution=null,this._updating=!1,this._updateRate=50,this._x=0,this._y=0,this._onCameraUpdate=()=>{if(this.L&&this._enabled&&this._map&&this._map._loaded){const e=this._x-this._modules.camera.x,t=this._y-this._modules.camera.y;if(e||t){this._updating||(this._updating=!0,this._layer.setLocked(!0),this._map._moveStart(!0,!1));const n=this._fromPointToLatLng(this._modules.camera.x,this._modules.camera.y),r=wf(this._modules.camera.zoom),i=this.L.latLng(n.latitude,n.longitude);this._map._move(i,r,{pinch:!0,round:!1}),clearTimeout(this._updateRequest),this._updateRequest=this._modules.dom.setTimeout(()=>{this._updating=!1,this._layer.setLocked(!1),this._map&&this._map._move(i,r,{pinch:!0})._moveEnd(!0)},this._updateRate)}}},this._onNodesDragStart=()=>{this._enabled&&(this._setMapDragging(!1),this._nodeDragOffsetX=this._nodeDragOffsetY=0)},this._onNodesDragged=({nodes:e,dx:t,dy:n})=>{if(this._enabled){const r=e.map(i=>{const{x:s,y:o}=i.getAttributes(["x","y"]);return this._fromPointToLatLng(s+t-this._nodeDragOffsetX,o+n-this._nodeDragOffsetY)});return this._nodeDragOffsetX=t,this._nodeDragOffsetY=n,e.setGeoCoordinates(r)}return Promise.resolve(this._modules.graph.nodeList())},this._onMapUpdate=()=>{if(!this._map)return Promise.resolve(void 0);const{lat:e,lng:t}=this._map.getCenter(),n=this._fromLatLngToPoint(e,t);this._x=n.x,this._y=n.y;const r=$4(this._map.getZoom());return this._modules.events.fire("beforeGeoCameraMove",{zoom:this._map.getZoom()}),this._modules.camera.setView({zoom:r,x:n.x,y:n.y},{ignoreZoomLimits:!0}).then(()=>this._adjustMinvisibleSizes())}}onMounted(){this._filters=this._modules.filters,this._modules.events.register(["geoEnabled","geoDisabled","geoLoaded","geoReady"]),hS()&&(this.L=pi("L")||pi("leaflet"),this.L&&OV(this.L)),this._modules.graph.createNodeAttribute({name:"geo.prevLat",storage:"float"},!0),this._modules.graph.createNodeAttribute({name:bf,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Hs,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Ws,storage:"float"},!0),this._modules.events.register(["beforeGeoCameraMove"]),this._modules.events.on("addNodes",e=>this._refreshOrAddNodes(e.nodes,!0)).on("updateNodeData",e=>{this._onDataChange(e.changes)}).on("nodesDragProgress",this._onNodesDragged).on(["nodesDragStart","lassoEnabled"],this._onNodesDragStart).on(["nodesDragEnd","lassoDisabled"],()=>this._setMapDragging(!0)).on("move",this._onCameraUpdate).on("viewChanged",this._onCameraUpdate)}_onDataChange(e){const t=g_(this.latitudePath),n=g_(this.longitudePath),r=e.filter(({property:i})=>i&&typeof i!="string"?i.find(s=>t.startsWith(s)||n.startsWith(s)):i===null||t.startsWith(i)||n.startsWith(i));if(r.length){const i=tj(r);i!==null&&this._refreshOrAddNodes(i,!1)}}_refreshOrAddNodes(e,t){t&&this._updatePrevNodesCoordinates(e),this._updateNodesCoordinates(e),this._enabled&&(this._cacheOriginalTextStyles(e,null),this._filter._refresh())}_updatePrevNodesCoordinates(e){Du(this._modules.graph,e,Hs,dS),Du(this._modules.graph,e,Ws,bf)}_restorePrevNodesCoordinates(e){Du(this._modules.graph,e,dS,Hs),Du(this._modules.graph,e,bf,Ws)}_updateNodesCoordinates(e){K4(this._modules.graph,e,this._settings)}_createMapTileLayer(e,t){if(e&&!bn(e))return e;const n=e,r=n.wms?this.L.tileLayer.wms:this.L.tileLayer,i=G4(n,t)||"";return r(n.url,Se({attribution:i},e))}_setupTileLayer(e,t,n){const r=this._createMapTileLayer(e,t);return r.once("load",()=>{this._modules.events.fire("geoLoaded")}),r.addTo(this._map),uS(r,n),r}_onSettingsChanged(e,t){const n=e.wrapCoordinates!==t.wrapCoordinates,r=e.latitudePath!==t.latitudePath||e.longitudePath!==t.longitudePath;if(n||r){let i=Promise.resolve();this._enabled&&this._filter&&(i=i.then(()=>this._filter.refresh())),i.then(()=>this._updateNodesCoordinates(this._modules.graph.getNodes("all")))}this._enabled&&(q4(e,t)&&this._map&&(this._map.removeLayer(this._tileLayer),this._tileLayer=this._setupTileLayer(t.tiles,t.attribution,t.opacity)),e.sizeRatio!==t.sizeRatio&&this._updateSizes(),e.maxZoomLevel!==t.maxZoomLevel&&this._modules.settings.update({minZoom:1,maxZoom:Math.pow(2,t.maxZoomLevel)}),e.disableNodeDragging!==t.disableNodeDragging&&this._setDragging(!t.disableNodeDragging),e.attributionOptions!==t.attributionOptions&&this._setAttributionOptions(t.attributionOptions,t.attribution),uS(this._tileLayer,t.opacity))}_setMapDragging(e){if(this._map){const t=e?"enable":"disable";this._map.dragging[t]()}}_fromLatLngToPoint(e,t){return this._map.options.crs.latLngToPoint(this.L.latLng(e,t),Vg)}_fromPointToLatLng(e,t){const{lat:n,lng:r}=this._map.options.crs.pointToLatLng(this.L.point({x:e,y:t}),Vg);return{latitude:n,longitude:r}}_updateSizes(){this._enabled&&this._projection&&this._projection.updateAll()}enable(e){return this.setEnabled(!0,e)}getMap(){return this._enabled?this._map:null}getOptions(){return this._enabled?St(Se({},this._settings),{tiles:bn(this._settings.tiles)?Se({},this._settings.tiles):this._settings.tiles}):Se({},zo)}setOptions(e){if(!this._enabled||this._transition)return;H4(e,this.L);const t=this._settings;this._settings=St(Se(Se(Se({},zo),t),e),{tiles:W4(zo,e)}),this._onSettingsChanged(t,this._settings)}disable(e){return this.setEnabled(!1,e)}isEnabled(){return this._enabled}toggle(e={}){return this.setEnabled(!this._enabled,e)}getContainerCoords(e){return e.getGeoCoordinates().map(({latitude:t,longitude:n})=>this._map.latLngToContainerPoint([t,n]))}getContainerCoord(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return this._map.latLngToContainerPoint([t||0,n||0])}setEnabled(e,t){if(!hS())throw new Error("Ogma Geo cannot be used outside a browser");if(!this.L)throw new Error("You are trying to use Geo mode but Leaflet has not been found. Please follow our migration guide: https://bit.ly/2SYkF8A");if(this._transition||e===this._enabled)return Promise.resolve();const n=this._modules.settings;this._enabled||(this._prevSettings=n.get(),this._nodeDraggingSetting=!!n.get("interactions.drag.enabled")),this._enabled=e,this.setOptions(t),this._transition=!0;const r=this._settings;return e?this._show().then(()=>(this._registerTextStyle(this._modules.graph.getNodes(),this._modules.graph.getEdges()),this._setDragging(!r.disableNodeDragging),this._transition=!1,this._updating=!1,this._modules.events.fire("geoEnabled").fire("geoReady"),this._adjustMinvisibleSizes())):this._restoreTextStyle().then(()=>this._hide()).then(()=>{this._transition=!1,this._modules.events.fire("geoDisabled"),this._setDragging(this._nodeDraggingSetting,!0)}).then(()=>this._ogma.view.afterNextFrame())}destroy(){return this._enabled&&this._destroyMapSync(),Promise.resolve()}_cacheOriginalTextStyles(e,t){t&&(this._edgesOriginalTextStyle=pS(t,this._edgesOriginalTextStyle)),e&&(this._nodesOriginalTextStyle=nj(e,this._nodesOriginalTextStyle))}_registerTextStyle(e,t){this._cacheOriginalTextStyles(e,t);const{nodeAttributes:n,edgeAttributes:r}=this._modules.hover.getHoverClassDefinition();this._hoverEdgesOriginalTextStyle=r||null,this._hoverNodesOriginalTextStyle=n||null,this._modules.hover.updateEdgeAttributes({text:{size:i=>(this._edgesOriginalTextStyle[i.getId()]||D2)["text.size"]}}),this._modules.hover.updateNodeAttributes({text:{size:i=>(this._nodesOriginalTextStyle[i.getId()]||D2)["text.size"]}})}_restoreTextStyle(){return this._modules.hover.updateEdgeAttributes(this._hoverEdgesOriginalTextStyle,!0),this._modules.hover.updateNodeAttributes(this._hoverNodesOriginalTextStyle,!0),Promise.all([ij(this._modules.graph.getEdges(),this._edgesOriginalTextStyle)]).then(()=>(this._edgesOriginalTextStyle=pS(this._modules.graph.edgeList(),{}),this._nodesOriginalTextStyle={},this._edgesOriginalTextStyle={},Promise.resolve()))}_setDragging(e,t=!1){this._modules.settings.update({interactions:{drag:{enabled:e,applyResult:t}}})}_setAttributionOptions(e,t){if(this._map){if(this._attribution&&(this._attribution.remove(),this._attribution=null),this._attribution=this.L.control.attribution({prefix:!1}).addTo(this._map),bn(e)){this._attribution.setPrefix(""),e.position=e.position||"bottom-right";const n=e.position.replace("-","");this._attribution.setPosition(n);const r=this._attribution.getContainer();r&&(e.className&&this.L.DomUtil.addClass(r,e.className),_P(r,e.position||"bottom-right",e.horizontalMargin,e.verticalMargin))}t!=null&&this._attribution.addAttribution(t)}}_nodeIsVisible(e){return J4(e,this._settings,this._hasCustomProjection())}_updateSettingsForMap(){const e=this._modules.graphics.getGraphicsEngine().parseColor(this._settings.backgroundColor);e[3]=0,this._modules.settings.update({backgroundColor:cN(e),minZoom:1e-6,interactions:{rotation:{enabled:!1},drag:{enabled:!1},pan:{enabled:!1},zoom:{enabled:!1,onDoubleClick:!1}},mouse:{wheelEnabled:!1}})}getGraphPosition(e){const t=this.L.latLngBounds(Z4(e));return{center:e.size>0?t.getCenter():this.L.latLng([0,0]),zoom:this._clampZoom(this._map.getBoundsZoom(t))}}_initMap(){this._updateSettingsForMap(),this._mapContainer=Y4(this._modules.dom.getContainer());const e=St(Se({},U4),{minZoom:this._settings.minZoomLevel,maxZoom:this._settings.maxZoomLevel});this._hasCustomProjection()&&(e.crs=this._settings.crs,e.worldCopyJump=!1,e.maxBoundsViscosity=0),this._map=new this.L.Map(this._mapContainer,e),this._hasCustomProjection()||this._map.setMaxBounds(this.L.latLngBounds([[kd,-180],[-kd,180]])),this._setAttributionOptions(this._settings.attributionOptions,this._settings.attribution),this._setupLayers()}_clampZoom(e){let t=this._tileLayer.options.maxZoom;return t===void 0&&(t=1/0),Math.min(e,t)}_show(){let e;return this._filter?e=this.filter.enable(0):(this._filter=this._filters.addNodeFilter({criteria:t=>this._nodeIsVisible(t)}),e=this._filter.whenApplied()),e.then(()=>{this._initMap();const t=this._map,n=this._modules.graph.getNodes(),r=this._modules.graph.getEdges(),{center:i,zoom:s}=this.getGraphPosition(n),{offset:o,newCameraView:a}=this._transformToGeo();return this._modules.camera.setView(a,{ignoreZoomLimits:!0}).then(()=>(this._updatePrevNodesCoordinates(n),t.setView(i,s,{animate:!1}),this._modules.graphics.animate({nodes:n,edges:r},()=>{this._projection=this._createFinalPositionLayer()},!0,this._settings.duration))).then(()=>o.destroy())})}updateProjection(){var e;(e=this._projection)==null||e.update()}_hasCustomProjection(){return this._settings.crs!=null}_setupLayers(){this._settings.tiles&&(this._tileLayer=this._setupTileLayer(this._settings.tiles,this._settings.attribution,this._settings.opacity)),this._layer=new this.L.OgmaOverlay({container:this._modules.graphics.getDomElement(),mapContainer:this._mapContainer,onUpdate:()=>this._onMapUpdate()}),this._layer.addTo(this._map)}_adjustMinvisibleSizes(){return Promise.all([rj(this._modules.graph.getEdges(),this._edgesOriginalTextStyle,this._map.getZoom())])}_hide(){if(!this._map)return Promise.resolve();this._modules.settings.update(this._prevSettings);const e=this._map;e.removeLayer(this._layer);const t=this._modules.dom.getContainer(),n=this._modules.graphics.getDomElement();t&&t.appendChild(n),e.getContainer().style.zIndex="0";const r=this._modules.graph.getNodes("all"),i=this._modules.graph.getEdges("all"),{offset:s,newCameraView:o}=this._transformToGraph();return this._modules.camera.setView(o||{}).then(()=>Promise.all([qL(e.getContainer(),1,0,this._settings.duration/2).then(()=>this._destroyMapSync()),this._modules.graphics.animate({nodes:r,edges:i},()=>s&&s.destroy(),!0,this._settings.duration)])).then(()=>(this._map=null,this._filter.disable(0)))}_destroyMapSync(){if(this._map){this._layer&&this._layer._map&&this._map.removeLayer(this._layer),this._map.remove(),this._map._animatingZoom=!1,this._map=null;const e=this._mapContainer.parentNode;e&&e.removeChild(this._mapContainer)}}_transformToGeo(){const e=this._modules.graph.getNodes(),{offsetChanges:t,camera:n}=BV(e,this._modules.camera,this._modules.locate,(r,i)=>this._fromLatLngToPoint(r,i));return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}_addGraphAttributesLayer(e){return this._modules.graphics.addAttributeLayer(Se({priority:M4,nodeSelector:t=>t.isVisible(),edgeSelector:t=>t.isVisible()},e))}_transformToGraph(){const e=this._modules.graph.getNodes("all"),{offsetChanges:t,camera:n}=jV(e,this._modules.camera,this._modules.locate,()=>{this._projection&&(this._projection.destroy(),this._projection=null)});return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}getPointFromLatLng(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return t==null?e.getAttributes(["x","y"]):this._fromLatLngToPoint(t,n)}_createFinalPositionLayer(){return this._addGraphAttributesLayer({name:"graph-2-geo-animation",nodeAttributes:{scalingMethod:"fixed",radius:e=>Number(e.getAttribute("radius"))*this._settings.sizeRatio,x:e=>this.getPointFromLatLng(e).x,y:e=>this.getPointFromLatLng(e).y},edgeAttributes:{scalingMethod:"fixed",width:e=>Number(e.getAttribute("width"))*this._settings.sizeRatio}})}setCenter(e,t){return this._enabled?this.setView(e,t,wf(this._modules.camera.getZoom())):Promise.resolve()}setZoom(e){return this._enabled&&this._map?(e=this._clampZoom(e),this._map.setZoom(e),new Promise(t=>{const n=this._map;if(n.getZoom()===e)return t(void 0);n.once("moveend zoomend",t)}).then(this._onMapUpdate)):Promise.resolve()}zoomIn(){return this.setZoom(this.getZoom()+1)}zoomOut(){return this.setZoom(this.getZoom()-1)}setView(e,t,n){if(!this._enabled||!this._map)return Promise.resolve();const r=this._map;n=this._clampZoom(n);const i=this.L.latLng([e,t]);return r.setView(i,n,{animate:!1,reset:!0}),new Promise(s=>{if(r.getZoom()===n&&r.getCenter().equals(i))return s(void 0);r.once("moveend zoomend",s)}).then(this._onMapUpdate)}getView(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{zoom:this._map.getZoom(),latitude:e.lat,longitude:e.lng}}getCenter(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{latitude:e.lat,longitude:e.lng}}getZoom(){if(this._enabled&&this._map)return this._map.getZoom()}resetCoordinates(){if(!this._enabled||!this._projection)return;const e=this._modules.graph.getNodes();this._restorePrevNodesCoordinates(this._modules.graph.getNodes());const t=this._modules.graph.getNodeAttribute(Hs).getMultiple(e._indexes),n=this._modules.graph.getNodeAttribute(Ws).getMultiple(e._indexes);e.setData(this._settings.latitudePath,t),e.setData(this._settings.longitudePath,n),this._projection.update()}getUnprojectedCoordinates(e){this._projection&&this._projection.destroy();const t=e.getPosition();return this._projection=this._createFinalPositionLayer(),t}get latitudePath(){return this._settings.latitudePath}get longitudePath(){return this._settings.longitudePath}get filter(){return this._filter}exportBackground(e){if(!this._map)return Promise.reject("Map is not ready");const{pixelRatio:t,width:n,height:r,zoom:i,x:s,y:o}=e,a=n*t,l=r*t,c=Dn(a,l),d=c.getContext("2d"),u=this._map;if(!d)throw new Error(`Unable to get 2d context from  ${c}`);const h=this.getView(),g=Se({zoom:Math.round(wf(i*t))},this._fromPointToLatLng(s,o)),p=new this.L.Canvas;u.addLayer(p);const{vectorMap:m,tileLayers:_,vectorLayers:y,imageOverlays:f,markers:x}=zV(this._layer,u,d,this.L,t,p),v=u.options.zoomSnap;return Promise.resolve().then(()=>(da(this._mapContainer,a+"px",l+"px"),u.invalidateSize({animate:!1}),this.setView(g.latitude,g.longitude,g.zoom))).then(()=>CL([...m,..._,...f,...y,...x])).then(()=>{da(this._mapContainer,"100%","100%"),u.invalidateSize({animate:!1}),u.options.zoomSnap=v,this.setView(h.latitude,h.longitude,h.zoom)}).then(()=>new Promise(w=>this.L.Util.requestAnimFrame(w))).then(()=>u.removeLayer(p)).then(()=>c)}},GV=class extends it{constructor(){super(...arguments),this._context={edgesAlwaysCurvy:!1,directedEdges:!1}}onMounted(){this._attributeLayer=this._addAttributeLayer(),this._modules.settings.register("edgesAlwaysCurvy",!1,e=>{this._context.edgesAlwaysCurvy=e,this._attributeLayer.updateAll()}),this._modules.settings.register("directedEdges",!1,e=>{this._context.directedEdges=e,this._attributeLayer.updateAll()})}computeCurvature(e,t="visible",n){const{edgesAlwaysCurvy:r,directedEdges:i}=this._context,s=e.getSource()===e.getTarget();let o=e.getParallelEdges({filter:t});n&&(o=o.filter(c=>n(c)));const a=o.indexOf(e);if(a===-1)return 0;let l;if(s)l=(a+1)*Math.max(+e.getAttribute("width")||0,1);else{const c=e.getSource(),d=o.size;if(d===1&&!r)return 0;if(i){let u=0;for(let h=0;h<a;++h)o.get(h).getSource()===c&&(u+=1);l=u+1}else{const u=c!==o.get(0).getSource();l=d%2!=1||r?(1+(a/2|0))*(a%2==0?1:-1)*(u?-1:1):a===0?0:((a+1)/2|0)*(a%2==0?1:-1)*(u?-1:1)}}return l}_addAttributeLayer(){return this._modules.graphics.addAttributeLayer({name:"curvature",priority:T4,edgeDependencies:{parallelEdges:!0},edgeContext:this._context,edgeAttributes:{curvature:e=>this.computeCurvature(e)}})}},yP="worker_start",Uv="worker_update",ua="worker_stop",xP=class extends eu{constructor(e,t){super(),this._complete=!1,this._destroyed=!1,this._data=null,this._onStart=ft,this._onStop=ft,this._setIdle=ft,this._onPause=ft,this.timer={start:0,steps:0},this._modules=t,this.configure(e)}configure({configure:e=Ii,update:t=ft,context:n=ft,stop:r=ft,isRunning:i=xd,onStart:s=ft,onStop:o=ft,onPause:a=ft,setIdle:l=ft}){this._configure=e,this._update=t,this._createContext=n,this._isRunning=i,this._stop=r,this._onStart=s,this._onStop=o,this._setIdle=l,this._onPause=a}setData(e){this._data=e}getData(){return this._data}start(e){return this._complete=!1,this._onStart(),this.fire(yP,{target:this}),this.send(this._configure(e,this._modules)),this}stop(e){return this._complete||(this._onStop(),this.send({type:ua}),this._complete=!0),this}pause(){this._onPause()}setIdle(e){this._setIdle(e)}isBusy(){return!this._complete}destroy(){this._destroyed||(this._destroyed=!0,this._modules&&(this.stop(),delete this._modules))}},vP=/^function\s*\(/,bP=/^\(|^\w+\s?=>/;function ah(e){const t=e.toString();return t.indexOf("function")===0||bP.test(t)?t:`function ${t}`}var HV=class extends xP{constructor(e,t){super(e,t);const n=ah(this._createContext),r=ah(this._update),i=ah(this._isRunning),s=ah(this._stop),o=`
      ${WV(e.imports)}
      const __CONTEXT = (${n})();
      const __UPDATE_FUNC = ${r} ;
      const __IS_RUNNING_FUNC = ${i};
      const __STOP_FN = ${s};
      let result;

      self.addEventListener("message", function (evt) {
        if (evt.data && evt.data.type === '${ua}') {
          __STOP_FN(__CONTEXT);
          return self.postMessage({ result, isRunning: false });
        }
        result = __UPDATE_FUNC(evt.data, __CONTEXT);
        const isRunning = __IS_RUNNING_FUNC(__CONTEXT, evt.data);

        self.postMessage({ result, isRunning });
      });
    `;this._worker=lN(o),this._worker.addEventListener("message",a=>{t.dom.isDestroyed()||this.onWorkerMessage(a)})}onWorkerMessage(e){const t=e.data.isRunning,n=e.data.result,r={data:void 0};return this.fire(Uv,{worker:this,workerMessage:n,modules:this._modules,data:r,isRunning:t}),t?this.send(r.data):(this.fire(ua,{worker:this,result:n,modules:this._modules}),this.stop(n))}destroy(){super.destroy(),this._worker.terminate()}send(e){return this._complete||this._worker.postMessage(aN(e)),this}};function WV(e={}){const t=Object.keys(e),n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=e[s];if(typeof o!="function")throw new Error(`Asynchronous worker: dependency "${s}" is not found`);{const a=qV(o);a?(n.push(z2(o,s)),a!==s&&n.push(`var ${s} = ${a};`)):n.push(`var ${s} = ${z2(o,s)};`)}}return n.join(`
`)}function z2(e,t){const n=e.toString();return vP.test(n)?`function ${e.name||t} ${n.substring(n.indexOf("("))}`:bP.test(n)?`const ${e.name||t} = ${n.toString()}`:n}function qV(e){const t=e.toString();return e.name?e.name:vP.test(t)?null:t.substring(9,t.indexOf("(")).trim()}var XV=class extends xP{constructor(e,t){super(e,t),this._context=this._createContext()}sync(e){if(e&&e.type===ua)return this._stop(this._context);const t=this._update(e,this._context),n=this._isRunning(this._context,e),r={data:void 0};return this.fire(Uv,{worker:this,workerMessage:t,modules:this._modules,data:r,isRunning:n}),n?this.send(r.data):(this.fire(ua,{worker:this,result:t,modules:this._modules}),this.stop(t))}send(e){return this._complete||this._modules.dom.setTimeout(()=>this.sync(e),0),this}},YV=class extends it{constructor(){super(...arguments),this._pool={}}create(e,t){const n=t&&oN,r=this._modules,i=`${e.name||"worker"}-${n?"async":"sync"}`;let s=this._pool[i];s||(s=this._pool[i]=[]);let o=s.find(a=>!a.isBusy());return o?o.configure(e):(o=n?new HV(e,r):new XV(e,r),this._pool[i].push(o)),o.on(ua,()=>{o.clearEvents(),this._pool[i].length<2||(o.destroy(),this._pool[i]=this._pool[i].filter(a=>a!==o))}),o}start(e,t){return e.start(t)}run(e,t,n){const r=this.create(e,n);return this.start(r,t)}destroy(){for(const e in this._pool)this._pool[e].forEach(t=>t.destroy()),delete this._pool[e]}};function ZV(e,t,n,r=e.getNodes()){if(!t)return n?e.nodeList():r.filter(i=>i.getMetaNode()===null);if(!(t instanceof ws)){if(Array.isArray(t)&&t.length>0)return e.getNodes(t);throw Error("[Layout]: 'nodes' must be a NodeList or an NodeId[]")}return t}function QV(e,t,n=e.getEdges()){if(!t)return n;if(!(t instanceof pa)){if(Array.isArray(t)&&t.length>0)return e.getEdges(t);throw Error("[Layout]: 'edges' must be a EdgeList or a valid EdgeId[]")}return t}function KV(e){if(!e.size)return;const t=new Set(e.getId());return e.getAdjacentEdges().filter(n=>n.getExtremities().getId().every(r=>t.has(r)))}function wP(e,t={},n=!0){n||(t.edges=void 0);const r=ZV(e,t.nodes,t.edges),i=QV(e,t.edges,KV(r));return St(Se({},t),{nodes:r.concat(i.getExtremities()).dedupe(),edges:i})}var JV=16,lh={duration:500,skipTextDrawing:!0,useWebWorker:!0,locate:!1},eG=class extends it{constructor(){super(...arguments),this._running=[],this._textsHidden=!1,this.onInteractionStart=()=>{this.setWorkersIdle(!0)},this.onViewChanged=()=>{this.setWorkersIdle(!1)},this.onVisibilityChange=()=>{ys().hidden?this.setWorkersIdle(!0):this.setWorkersIdle(!1)},this._onWorkerUpdate=(e,t,n,r,i,s)=>{const{duration:o,onSync:a,onUpdate:l,dryRun:c,locate:d}=s;if(a&&this._modules.dom.setTimeout(()=>a(n,this._modules,r),o),i){const u=i(n,this._modules,r);this._modules.events.fire("layoutComputed",{type:"layoutComputed",name:t,positions:u}),l&&l(n,u,r);const h=this._assignNodePositions(u,o,c);r||(d&&u&&this._animateCamera(u,d,s.duration),h.then(()=>e.fire("taskComplete",u)))}else r||e.fire("taskComplete",n)},this._onWorkerComplete=(e,t,n,r,i,s,o)=>{for(let u=0;u<this._running.length;u++)if(this._running[u]===e){this._running.splice(u,1);break}r.onStop&&t&&r.onStop(i,t,this._modules);const a=this._modules.graph.nodeList(new Uint32Array(o.indexes)),l=i.dryRun&&t?n:this.collectNodesData(a),c=a.getId(),d={before:Df(o),current:Df(l)};this._modules.events.fire("layoutEnd",{type:"layoutEnd",name:r.name,positions:d,ids:c}),this._modules.dom.setTimeout(()=>{i.onEnd&&i.onEnd(t),i.skipTextDrawing&&this._textsHidden&&(this._modules.graphics.showTexts(),this._textsHidden=!1),s({name:r.name,positions:d,ids:c})})},this._onWorkerStart=(e,t,n)=>{t.skipTextDrawing&&!this._textsHidden&&(this._modules.graphics.hideTexts(),this._textsHidden=!0);const r=this._modules.graph.getNodes(t.nodes),i=this.collectNodesData(r),s=i.ids;n.setData(i),this._modules.events.fire("layoutStart",{type:"layoutStart",name:e.name,ids:s,worker:n})}}onMounted(){this._layouts={},this.timers=new Map,this._modules.events.register(["layoutStart","layoutEnd","layoutComputed"]),this._modules.events.on("clearGraph",()=>this.stop()).on(["dragStart","zoomStart"],this.onInteractionStart).on(["dragEnd","viewChanged"],this.onViewChanged),this._modules.dom.addDocumentEventListener("visibilitychange",this.onVisibilityChange)}setWorkersIdle(e){this._running.forEach(t=>t.setIdle(e))}register(e){if(this._layouts[e.name])throw new Error(`Layout ${e.name} already exists`);this._layouts[e.name]=e}getAvailableLayouts(){return Object.keys(this._layouts)}start(e,t={}){const n=this._layouts[e],r=wP(this._modules.graph,t,["radial","grid"].indexOf(e)===-1);return new Promise(i=>{if(!n)throw new Error(`layout ${e} does not exist`);r.duration=typeof r.duration=="number"?r.duration:lh.duration;const s=n.onSync;r.skipTextDrawing=r.skipTextDrawing===void 0?!!lh.skipTextDrawing:!!r.skipTextDrawing;let o=r.locate||lh.locate;o&&typeof o=="boolean"&&(o={}),r.locate=o;const a={name:e,update:n.update,isRunning:n.isRunning,configure:n.configure,context:n.context,imports:n.imports,stop:n.stop,setIdle:n.setIdle};this._modules.graphics.forceAttributesComputation();const l=r.useWebWorker===void 0?!!lh.useWebWorker:!!r.useWebWorker,c=this._modules.workers.create(a,l);c.on(yP,()=>{n.onStart&&n.onStart(t),this._onWorkerStart(n,r,c)}).on(Uv,({workerMessage:d,isRunning:u})=>{const h=d.lastUpdate||-1/0,g=rr();u&&(!r.continuous||g-h<JV)||(d.lastUpdate=g,this._onWorkerUpdate(c,e,d,u,s,r))}).on(ua,({result:d})=>{c.once("taskComplete",u=>{this._onWorkerComplete(c,d,u,n,r,i,c.getData())})}),this._modules.workers.start(c,r),this._running.push(c)})}_animateCamera(e,t,n){if(e.indexes.length===0)return Promise.resolve();const r=this._modules.locate.layoutDataBoundingBox(e),i=this._modules.locate.computeConfigForBounds(r,t);return this._modules.camera.setView(i,{duration:n,easing:t.easing,ignoreZoomLimits:!0})}stop(){for(;this._running.length!==0;){const e=this._running.pop();e.stop(),e.fire("taskComplete",null)}return Promise.resolve()}isRunning(){return this._running.length!==0}_assignNodePositions(e,t,n){if(!e||n){const l=e?new Uint32Array(e.indexes):void 0,c=this._modules.graph.nodeList(l);return Promise.resolve(c)}const{indexes:r,x:i,y:s}=e,o=this._modules.graph.nodeList(new Uint32Array(r)),a=Df(e);for(let l=0;l<a.length;l++)a[l]={x:i[l],y:s[l]};return o.setAttributes(a,t)}collectNodesData(e){const t=e._indexes,n=this._modules.graph.getNodeAttribute("x").getMultiple(t),r=this._modules.graph.getNodeAttribute("y").getMultiple(t);return{ids:e.getId(),indexes:t,x:n,y:r}}};function Df({x:e,y:t,indexes:n}){const r=n.length,i=new Array(r);for(let s=0;s<r;s++)i[s]={x:e[s],y:t[s]};return i}var tG=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n||[],this._filter=r,this._unwindArrays=i,this._onUpdateHandlers=[],this._triggerUpdate=s=>{for(let o=0;o<this._onUpdateHandlers.length;++o)this._onUpdateHandlers[o](s)},this._info=e.watchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}onUpdate(e){this._onUpdateHandlers.push(e)}getPropertyInfo(){return this._info}getPath(){return this._path.slice()}destroy(){this._module.unwatchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}},nG=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n,this._filter=r,this._unwindArrays=i,this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[]}get path(){return this._path}onPropertyAdded(e){return this._onAddHandlers.push(e),this}onPropertyRemoved(e){return this._onRemoveHandlers.push(e),this}onPropertyUpdated(e){return this._onUpdateHandlers.push(e),this}getPath(){return this._path.slice()}getProperties(){return this._propertyList.slice()}getPropertyInfo(e){const t=this._properties[e];return t?t.info:null}destroy(){qi(this._properties,({handler:t},n)=>{const r=this._path.concat([n]);this._module.unwatchPropertyInformation(this._isNode,r,t,this._filter,this._unwindArrays)}),this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[];const e=this._module._objectPropertyWatchers.indexOf(this);this._module._objectPropertyWatchers.splice(e,1)}updateSubPropertiesToWatch(e,t){if(e!==this._isNode)return;const n=t.getData(this._path);for(let r=0;r<n.length;r++){const i=n[r];if(aa(i)){const s=Object.keys(i);for(let o=0;o<s.length;o++)this._addSubPropertyToWatch(s[o])}}}_addSubPropertyToWatch(e){if(!this._properties[e]){const t=this._path.concat([e]),n=()=>this._triggerPropertyUpdate(e),r=this._unwindArrays,i=this._isNode,s=this._filter,o=this._module.watchPropertyInformation(i,t,n,s,r);this._properties[e]={handler:n,info:o},this._triggerPropertyUpdate(e)}}_triggerPropertyUpdate(e){const{info:t}=this._properties[e],n=this._propertyList.indexOf(e),r=n!==-1,i=t.getType()!=="undefined";!r&&i?(this._propertyList.push(e),this._triggerHandlers("_onAddHandlers",e,t),this._triggerHandlers("_onUpdateHandlers",e,t)):r&&!i?(this._propertyList.splice(n,1),this._triggerHandlers("_onUpdateHandlers",e,t),this._triggerHandlers("_onRemoveHandlers",e,t)):r&&i&&this._triggerHandlers("_onUpdateHandlers",e,t)}_triggerHandlers(e,t,n){const r=this[e];for(let i=0,s=r.length;i<s;i++)r[i](t,n)}},rG=class{constructor(){}setWatcher(e){this._watcher=e}isNode(){return this._watcher.isNode}getPath(){return this._watcher.property.slice()}getBoundaries(){const e=this._watcher.boundaries;return e?{min:e.min,max:e.max}:null}getValues(){return this._watcher.values.keys()}getValueCount(e){return this._watcher.values.get(e)||0}getCount(){return this._watcher.total}getType(){return this._watcher.any>0?"any":this._watcher.numbers>0?"number":"undefined"}};function O2(e){return typeof e=="number"&&isNaN(e)}var B2=class{constructor(){this._keys=[],this._values=[]}set(e,t){const n=this._getIndex(e);return n===-1?(this._keys.push(e.slice()),this._values.push(t),!0):(this._values[n]=t,!1)}get(e){const t=this._getIndex(e);return t===-1?void 0:this._values[t]}has(e){return this._getIndex(e)!==-1}delete(e){const t=this._getIndex(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),!0)}keys(){return this._keys.map(e=>e.slice())}values(){return this._values.slice()}_getIndex(e){for(let t=0;t<this._keys.length;t++){const n=this._keys[t];if(n.length===e.length){let r=!0;for(let i=0;i<e.length;i++){const s=n[i],o=e[i];if(!(s===o||O2(s)&&O2(o))){r=!1;break}}if(r)return t}}return-1}get size(){return this._keys.length}},iG=class{constructor(){this._map=new Map,this._arrays=new B2}clear(){return this._arrays=new B2,this._map.clear()}delete(e){return Rn(e)?this._arrays.delete(e):this._map.delete(e)}get(e){return Rn(e)?this._arrays.get(e):this._map.get(e)}set(e,t){return Rn(e)?this._arrays.set(e,t):this._map.set(e,t),this}keys(){return[...Kp(this._map),...this._arrays.keys()]}values(){return[...go(this._map),...this._arrays.values()]}get size(){return this._map.size+this._arrays.size}};function pm(e){return typeof e=="number"&&isFinite(e)}var sG=class extends it{constructor(){super(...arguments),this._onExcludedStateChange=({elements:e,value:t})=>{const n=!t;for(let r=0,i=this._propertyWatchers.length;r<i;r++){const s=this._propertyWatchers[r];s.isNode===e.isNode&&s.filter==="visible"&&(n?vc(s,e.getData(s.property)):Vh(s,e.getData(s.property)),ch(s))}},this._onDataChange=({isNode:e,changes:t})=>{for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.property,s=r.filter==="all";if(r.isNode===e)for(let o=0;o<t.length;++o){const a=t[o],l=lG(a.property||[],i);if(l){const c=a.nodes||a.edges,d=[],u=[];if(c)for(let h=0;h<c.size;++h){const g=c.get(h);(s||g.isVisible())&&(d.push(an(a.newValues[h],l)),u.push(an(a.previousValues[h],l)))}d.length&&(vc(r,d),Vh(r,u),ch(r))}}}for(let n=0,r=this._objectPropertyWatchers.length;n<r;n++){const i=this._objectPropertyWatchers[n],s=i.path;for(let o=0;o<t.length;++o){const{property:a,nodes:l,edges:c}=t[o],d=l||c;if(d){const u=d.isNode;(!a||a.length<=s.length+1&&s.every((h,g)=>h===a[g]))&&i.updateSubPropertiesToWatch(u,d)}}}},this._onElementsAdded=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n];if(r.isNode===t.isNode){const i=t.getData(r.property);i.length&&(vc(r,i),ch(r))}}for(let n=0;n<this._objectPropertyWatchers.length;n++)this._objectPropertyWatchers[n].updateSubPropertiesToWatch(t.isNode,t)},this._onElementsRemoved=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.filter==="all";if(r.isNode===t.isNode&&i){const s=t.getData(r.property);s.length&&(Vh(r,s),ch(r))}}},this._onGraphClear=()=>{this._propertyWatchers.forEach(e=>{e.numbers=0,e.any=0,e.total=0,e.boundaries=null,e.values.clear()})}}onMounted(){this._propertyWatchers=[],this._objectPropertyWatchers=[],this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on(["updateNodeData","updateEdgeData"],this._onDataChange).on(["addNodes","addEdges"],this._onElementsAdded).on(["removeNodes","removeEdges"],this._onElementsRemoved).on("clearGraph",this._onGraphClear)}watchNodeObjectProperty(e){return this._watchObjectProperty(!0,dh(e))}watchEdgeObjectProperty(e){return this._watchObjectProperty(!1,dh(e))}watchNodeNonObjectProperty(e){return this._watchNonObjectProperty(!0,dh(e))}watchEdgeNonObjectProperty(e){return this._watchNonObjectProperty(!1,dh(e))}watchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i)||this._createWatcher(e,t,r,i);return n&&s.onChange.push(n),s.info}unwatchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i);if(!s)return;const o=s.onChange,a=o.indexOf(n);if(a!==-1&&(o.splice(a,1),o.length===0)){const l=this._propertyWatchers.indexOf(s);this._propertyWatchers.splice(l,1)}}_watchObjectProperty(e,t){const n=new nG(this,e,t);return this._objectPropertyWatchers.push(n),n.updateSubPropertiesToWatch(e,this._modules.graph[e?"getNodes":"getEdges"](t.filter)),n}_watchNonObjectProperty(e,t){return new tG(this,e,t)}_findWatcher(e,t,n,r){for(let i=0;i<this._propertyWatchers.length;++i){const s=this._propertyWatchers[i];if(s.isNode===e&&s.filter===n&&s.unwindArrays===r&&aG(s.property,t))return s}return null}_createWatcher(e,t,n,r){const i={isNode:e,property:t,numbers:0,any:0,total:0,values:new iG,boundaries:null,onChange:[],filter:n,unwindArrays:r,info:new rG};return i.info.setWatcher(i),vc(i,this._modules.graph[e?"getNodes":"getEdges"](n).getData(t)),this._propertyWatchers.push(i),i}};function j2(e){return e==null?[]:oa(e)}function oG(e){return e==="all"?"all":"visible"}function ch(e){for(let t=0;t<e.onChange.length;++t)e.onChange[t](e.info)}function aG(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function lG(e,t){if(e.length>t.length)return null;let n=0;for(;n<e.length;++n)if(e[n]!==t[n])return null;return t.slice(n)}function vc(e,t,n){const r=e.values,i=!n&&e.unwindArrays;for(let s=0;s<t.length;++s){const o=t[s];if(n||o===void 0||(e.total+=1),i&&Array.isArray(o))vc(e,o,!0);else{const a=r.get(o);a?r.set(o,a+1):(r.set(o,1),pm(o)?(e.boundaries?o<e.boundaries.min?e.boundaries.min=o:o>e.boundaries.max&&(e.boundaries.max=o):e.boundaries={min:o,max:o},e.numbers+=1):o!==void 0&&(e.any+=1))}}}function Vh(e,t,n){const r=e.values,i=!n&&e.unwindArrays,s=e.boundaries;let o=!1;for(let a=0;a<t.length;++a){const l=t[a];if(n||l===void 0||(e.total-=1),i&&Array.isArray(l))o=o||Vh(e,l,!0);else{const c=r.get(l);c>1?r.set(l,c-1):(r.delete(l),pm(l)?(e.numbers-=1,!s||s.min!==l&&s.max!==l||(o=!0)):l!==void 0&&(e.any-=1))}}return!n&&o&&(e.boundaries=cG(r.keys())),o}function cG(e){let t=null,n=null;for(let r=0;r<e.length;++r){const i=e[r];pm(i)&&((t==null||i<t)&&(t=i),(n==null||i>n)&&(n=i))}return t==null||n==null?null:{min:t,max:n}}function dh(e){return typeof e!="object"||e===null||Array.isArray(e)?{path:j2(e),filter:"visible",unwindArrays:!1}:{path:j2(e.path),filter:oG(e.filter||"visible"),unwindArrays:!!e.unwindArrays}}var dG=class extends it{onMounted(){this._modules.events.register(["virtualDown","virtualUp","virtualMove","virtualClick","virtualDoubleClick","virtualWheel"])}get x(){return this._modules.position.x||0}get y(){return this._modules.position.y||0}_later(){return this._modules.dom.afterNextFrame()}move({x:e,y:t}){return e!==void 0&&t!==void 0?this._modules.dom.afterNextFrame().then(()=>{const n=e-this.x,r=t-this.y;return this._modules.events.fire("virtualMove",{x:e,y:t,dx:n,dy:r}),this._later()}):Promise.resolve()}down({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualDown",{x:this.x,y:this.y,button:n}),this._modules.events.fire("virtualMove",{x:this.x,y:this.y,dx:0,dy:0,button:n}),this._later()))}up({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualUp",{x:e,y:t,button:n}),this._later()))}click({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualClick",{x:e,y:t,button:n}),this._later()))}rightClick({x:e,y:t,button:n="right"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualClick",{x:e,y:t,button:n}),this._later()))}doubleclick({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualDoubleClick",{x:e,y:t,button:n}),this._later()))}drag(e,t){return this.down(e).then(()=>this.move(t)).then(()=>this.up(t))}wheel({x:e,y:t,delta:n}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualWheel",{x:e,y:t,delta:n}),this._later()))}};function Kr(e,t,n,r,i,s){const o=Fr(),a=s.graphToScreenCoordinates(e),l=s.graphToScreenCoordinates(t);i.beginPath(),i.moveTo(a.x*o,a.y*o),i.lineTo(l.x*o,l.y*o),i.strokeStyle=r,i.lineWidth=n,i.stroke()}function U2(e,t,n,r){let i,s,o,a=0,l=e.length-1;for(;a<l&&a>-1;)if(i=(a+l)/2|0,s=Math.abs(t[e[i]]-n),o=Math.abs(t[e[i+1]]-n),o<s)a=i+1;else if(o>s)l=i;else{const c=Math.abs(t[e[a]]-n),d=Math.abs(t[e[l]]-n);if(c<d)l=i;else{if(!(c>d))return l;a=i+1}}return r?l:e[l]}function $2(e,t,n,r,i,s,o){let a,l,c,d,u,h;for(let g=0,p=e.length;g<p;g++)for(let m=0;m<p;m++){if(g===m)continue;let _=e[g],y=e[m];m<g&&(d=y,y=_,_=d);const f=t[_],x=t[y],v=s.get(_),w=s.get(y);if(f+v<r-i&&x-w>r+i&&Math.abs(Math.abs(f+v-(r-i))-Math.abs(x-w-(r+i)))<=o)return a=_,l=n,c=y,h=f+v+Math.abs(x-w-(f+v))/2,u=[f+v,h-i,h+i,x-w],{a,b:l,c,current:n,target:h,points:u};if(f+v<r-i&&x+w<r-i&&Math.abs(Math.abs(f+v-(x-w))-Math.abs(Math.max(f+v,x+w)-(r-i)))<=o)return a=_,l=y,c=n,h=x+v+Math.abs(Math.abs(f+v-(x-w)))+i,u=[f+v,x-w,x+w,h-i],{a,b:l,c,current:n,target:h,points:u};if(f-v>r+i&&x-w>r+i&&Math.abs(Math.abs(f+v-(x-w))-Math.abs(Math.min(f-v,x-w)-(r+i)))<=o)return a=n,l=_,c=y,h=f-v-Math.abs(Math.abs(f+v-(x-w)))-i,u=[h+i,f-v,f+v,x-w],{a,b:l,c,current:n,target:h,points:u}}return null}var zf={enabled:!1,tolerance:5,centerSnapDistance:240,sideSnapDistanceFactor:3,guidelineWidth:1,guidelineColor:"#ff0000",preferredDistance:{enabled:!0,ratio:1.13,tolerance:10,lineColor:"#00C3FF",lineWidth:1},neighbours:{enabled:!0,offset:5,tolerance:3,lineColor:"#00C3FF",lineWidth:1}},uG=class extends it{constructor(){super(...arguments),this._options=cn(zf),this._enabled=!1,this._ysnap=0,this._xsnap=0,this._node=null,this._nodes=null,this._r=0,this._vguideline={start:{x:0,y:0},end:{x:0,y:0}},this._hguideline={start:{x:0,y:0},end:{x:0,y:0}},this._gridResolution=0,this._onNodeDragStart=({nodes:e})=>{e.size===1&&(this._node=e.get(0),this._cacheViewportData(),this._r=Number(this._node.getAttribute("radius")))},this._onNodeDragEnd=()=>{this._node=null,this._layer.refresh()}}onMounted(){this._options=cn(zf),this._enabled=!1}enable(e){this._enabled||(this._options=Zr(e,zf),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{t.clearRect(0,0,t.canvas.width,t.canvas.height)},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._modules.events.on("nodesDragStart",this._onNodeDragStart).on("nodesDragEnd",this._onNodeDragEnd),this._modules.settings.update({"interactions.drag.onBeforeDrag":(t,n,r,i)=>this._onBeforeDrag(n,r,i)}))}disable(){this._enabled&&(this._modules.events.off(this._onNodeDragStart).off(this._onNodeDragEnd),this._layer.destroy(),this._modules.settings.update({"interactions.drag.onBeforeDrag":null}),this._enabled=!1)}enabled(){return this._enabled}_onBeforeDrag(e,t,n){if(this._node){const r=n[0];this._layer.refresh(i=>{this._scan(i,r)}),this._node.setAttributes(r)}}_cacheViewportData(){const e=this._modules.camera,t=e.screenToGraphCoordinates({x:0,y:0}),n=e.screenToGraphCoordinates({x:e.width,y:e.height});if(this._nodes=this._modules.spatial.getNodesByBoundingBox(t.x,t.y,n.x,n.y),this._node==null)return;const r=this._node._index,i=Array.from(this._nodes._indexes);i.splice(i.indexOf(r),1);const s=this._modules.graph.getNodeAttribute("radius"),o=this._modules.graph.getNodeAttribute("x"),a=this._modules.graph.getNodeAttribute("y"),l=o.buffer(),c=a.buffer(),d=dc(i.slice(),o),u=dc(i.slice(),a),h={},g={};this._gridResolution=Number(this._node.getAttribute("radius"));const p=this._gridResolution;for(let m=0,_=i.length;m<_;m++){const y=d[m],f=u[m],x=l[y]/p|0,v=c[f]/p|0;h[x]||(h[x]=[]),g[v]||(g[v]=[]),h[x].push(y),g[v].push(f)}this._nodesByX=d,this._nodesByY=u,this._xGrid=h,this._yGrid=g,this._xList=o,this._yList=a,this._X=l,this._Y=c,this._R=s}_scan(e,t){if(this._node==null)return;const n=this._node._index,r=t.x,i=t.y,s=this._r,o=this._options,a=this._xList,l=this._yList,c=this._R,d=this._X,u=this._Y,h=this._modules.camera.zoom,g=Math.min(s,this._options.tolerance/h),p=2*s*o.sideSnapDistanceFactor,m=o.guidelineWidth,_=o.guidelineColor;let y,f,x,v,w,b,S,A,C=n,k=n,N=null,R=!1,B=!1;if(C=U2(this._nodesByX,d,r),k=U2(this._nodesByY,u,i),Math.abs(d[C]-r)>o.centerSnapDistance&&(C=n),Math.abs(u[k]-i)>o.centerSnapDistance&&(k=n),this._xsnap=0,C!==n){y=this._vguideline.start,f=this._vguideline.end,A=C,x=d[A],v=u[A],N=c.get(A),S=Math.abs(r-x);const H=Math.abs(r-s-(x-N)),F=Math.abs(r+s-(x+N));if(S<Math.max(s,N)){v<i?(y.y=v-N,f.y=i+s):(y.y=v+N,f.y=i-s);const T=Math.min(H,S,F);T===S?(y.x=f.x=x,f.y=i,y.y=v,this._xsnap=1):Math.abs(i-v)<N+s+p&&(T===H?(y.x=f.x=x-N,this._xsnap=2):(y.x=f.x=x+N,this._xsnap=3)),T<g&&(R=!0)}this._xsnap!==0&&Kr(y,f,m,_,e,this._modules.camera)}if(this._ysnap=0,k!==n){y=this._hguideline.start,f=this._hguideline.end,A=k,x=d[A],v=u[A],N=c.get(A),S=Math.abs(i-v);const H=Math.abs(i-s-(v-N)),F=Math.abs(i+s-(v+N));if(S<Math.max(s,N)){x<r?(y.x=x-N,f.x=r+s):(y.x=x+N,f.x=r-s);const T=Math.min(H,S,F);T===S?(y.y=f.y=v,f.x=r,y.x=x,this._ysnap=1):Math.abs(r-x)<N+s+p&&(T===H?(y.y=f.y=v-N,this._ysnap=4):(y.y=f.y=v+N,this._ysnap=5)),T<g&&(B=!0)}this._ysnap!==0&&Kr(y,f,m,_,e,this._modules.camera)}if(N!=null&&o.preferredDistance.enabled){const H=o.preferredDistance.ratio,F=Math.min(o.preferredDistance.tolerance/h,s),T=Math.max(s,N);if(C===n||this._xsnap!==0&&R){if(k!==n&&(this._ysnap===0||!B)&&(A=k,x=d[A],v=u[A],N=c.get(A),b=Math.abs(i-v)-(s+N)*(1+H),b<=F&&b>=-F)){const W=i<v?-1:1;y=this._hguideline.start,f=this._hguideline.end,y.x=x-T,f.x=x+T,y.y=f.y=v,Kr(y,f,m,_,e,this._modules.camera),y.x=r-T,f.x=r+T,y.y=f.y=v+W*(1+H)*(s+N),Kr(y,f,m,_,e,this._modules.camera),this._ysnap=1,B=!0}}else if(A=C,x=d[A],v=u[A],N=c.get(A),w=Math.abs(r-x)-(s+N)*(1+H),w<=F&&w>=-F){const W=r<x?-1:1;y=this._vguideline.start,f=this._vguideline.end,y.x=f.x=x+W*(1+H)*(s+N),y.y=v-T,f.y=v+T,y.x=f.x=x,Kr(y,f,m,_,e,this._modules.camera),y.y=i-T,f.y=i+T,y.x=f.x=x+W*(1+H)*(s+N),Kr(y,f,m,_,e,this._modules.camera),this._xsnap=1,R=!0}}if(o.neighbours.enabled){const H=this._gridResolution,F=r/H|0,T=i/H|0,W=this._xGrid,G=this._yGrid,Y=[],ee=[].concat(G[T-1]||Y,G[T]||Y,G[T+1]||Y),J=[].concat(W[F-1]||Y,W[F]||Y,W[F+1]||Y);let ue;ee.length>1&&(dc(ee,a),ue=$2(ee,d,n,r,s,c,g),ue&&(this._drawNeighbourGuidelines(e,ue,t,!1),R=!1)),J.length>1&&!ue&&(dc(J,l),ue=$2(J,u,n,i,s,c,g),ue&&(this._drawNeighbourGuidelines(e,ue,t,!0),B=!1))}(R||B)&&this._snap(t,!R,!B)}_drawNeighbourGuidelines(e,{a:t,b:n,c:r,points:i,target:s},o,a){const l={x:0,y:0},c={x:0,y:0},d=this._R,u=this._X,h=this._Y;let[g,p,m]=d.getMultiple([t,n,r]);const{offset:_,lineWidth:y,lineColor:f}=this._options.neighbours;let x,v;a?(o.y=s,g=-g,p=-p,m=-m,x=c.x=l.x=Math.min(u[t]+g,u[n]+p,u[r]+m)-_,v=u):(o.x=s,x=c.y=l.y=Math.max(h[t]+g,h[n]+p,h[r]+m)+_,v=h);const w=a?"y":"x",b=a?"x":"y";l[w]=i[0],c[w]=i[1],Kr(l,c,y,f,e,this._modules.camera),l[w]=i[2],c[w]=i[3],Kr(l,c,y,f,e,this._modules.camera),l[w]=i[0],l[b]=x-_/2,c[w]=i[0],l[b]=v[t]+g,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[1],l[b]=x-_/2,c[w]=i[1],l[b]=v[n]+p,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[2],l[b]=x-_/2,c[w]=i[2],l[b]=v[n]+p,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[3],l[b]=x-_/2,c[w]=i[3],l[b]=v[r]+m,Kr(l,c,y,f,e,this._modules.camera)}_snap(e,t,n){const r=this._xsnap,i=this._ysnap;let s;t||r===0||(s=this._vguideline.end,e.x=r===2?s.x+this._r:r===3?s.x-this._r:s.x),n||i===0||(s=this._hguideline.end,e.y=i===4?s.y+this._r:i===5?s.y-this._r:s.y)}},hG=class{constructor(e,t,n){this._module=e,this._id=t,this._whenApplied=n.then(()=>this)}getId(){return this._id}whenApplied(){return this._whenApplied}refresh(){return this._module.refreshRule(this._id)}getIndex(){return this._module.getRuleIndex(this._id)}setIndex(e){return this._module.setRuleIndex(this._id,e)}update(e){return this._module.updateRule(this._id,e)}getDefinition(){return this._module.getRuleDefinition(this._id)}destroy(){return this._module.destroyRule(this._id)}},gG=1e3,pG=1/gG,mG=class extends it{constructor(){super(...arguments),this._idCounter=1,this._rules=[]}onMounted(){this._rules=[],this._modules.events.register(["addStyleRule","removeStyleRule","updateStyleRule","refreshStyleRule"])}_get(e){for(let t=0;t<this._rules.length;++t){const n=this._rules[t];if(n.id===e)return n.index=t,n}throw new Error("calling a method on a destroyed style rule")}_updatePriorities(){for(let e=0;e<this._rules.length;++e){const t=this._rules[e],n=L4+e*pG;t.attributeLayer.update({priority:n})}}addRule(e={}){const t=this._idCounter++,n=this._modules.graphics.addAttributeLayer(Se({name:`rule(${t})`},Of(e))),r=this._modules.dom.afterNextFrame(),i=new hG(this,t,r),s={id:t,attributeLayer:n,wrapper:i};return this._rules.push(s),this._updatePriorities(),this._modules.events.fire("addStyleRule",{rule:s,options:e,id:s.id}),i}getRuleIndex(e){const t=this._get(e);return t.index==null?null:t.index}setRuleIndex(e,t){const n=this._get(e),r=Wr(t,0,this._rules.length-1);return this._rules.splice(n.index,1),this._rules.splice(r,0,n),this._updatePriorities(),this._modules.dom.afterNextFrame()}updateRule(e,t){const n=this._get(e),r=Object.assign({fullOverwrite:t.fullOverwrite},Of(t));return n.attributeLayer.update(r),this._modules.events.fire("updateStyleRule",{rule:n,options:t}),this._modules.dom.afterNextFrame()}getRuleDefinition(e){return Of(this._get(e).attributeLayer.getDefinition())}destroyRule(e){const t=this._get(e);return this._modules.events.fire("removeStyleRule",{rule:t,id:t.id}),t.attributeLayer.destroy(),this._rules.splice(t.index,1),this._modules.dom.afterNextFrame()}refreshRule(e){const t=this._get(e);return t.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:t,id:e}),this._modules.dom.afterNextFrame()}refreshAllRules(){for(const e of this._rules)e.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:e,id:e.id});return this._modules.dom.afterNextFrame()}getRuleList(){return this._rules.map(e=>e.wrapper)}};function Of(e){return{nodeAttributes:e.nodeAttributes,edgeAttributes:e.edgeAttributes,nodeSelector:e.nodeSelector,edgeSelector:e.edgeSelector,nodeDependencies:e.nodeDependencies,edgeDependencies:e.edgeDependencies,nodeOutput:e.nodeOutput,edgeOutput:e.edgeOutput}}var ty,V2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e})=>e.setSelected(!0),bothExtremities:!1},EP=class extends it{constructor(){super(...arguments),this._enabled=!1,this._points=[],this._bbox=new Nn,this._onStart=({x:e,y:t})=>{this._bbox.reset(),this.savePoint(e,t,!1)},this._onStop=()=>{const{minX:e,minY:t,maxX:n,maxY:r}=this._bbox,{nodes:i,edges:s}=this._modules.spatial.queryProjected(e,t,n,r),o={},a=i.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable"),h=d&&u&&this._modules.locate.isNodeInPolygon(c,this._points);return o[c._index]=h,h});let l=s.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable");return d&&u&&this._modules.locate.isEdgeInPolygon(c,this._points)});this._options.bothExtremities&&(l=this.filterByExtremities(l,o)),this._layer.clear(),this._points=[],this.disable(),this._options.callback({nodes:a,edges:l})}}onMounted(){this._options=cn(V2),this._cachedCursor="",this._modules.events.isRegistered("lassoEnabled")||this._modules.events.register(["lassoEnabled","lassoDisabled"]),this._interaction=this._modules.interactions.onDrag({priority:"lasso",check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this.savePoint(e,t,!0),onStop:this._onStop})}enable(e={}){var t;return this._enabled||(this._enabled=!0,this._modules.captor.setDetectionEnabled(!1),this._options=Zr(e,V2),this._layer=this._modules.layers.addCanvasLayer(ft,{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._cachedCursor=((t=this._layer.element.parentElement)==null?void 0:t.style.cursor)||"",Dg(this._layer.element.parentElement,this._options.cursorStyle),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorPosition()),this._modules.events.fire("lassoEnabled")),this}disable(){return this._enabled?(this._enabled=!1,this._modules.captor.setDetectionEnabled(!0),Dg(this._layer.element.parentElement,this._cachedCursor),this._layer.destroy(),this._modules.events.fire("lassoDisabled"),this):this}enabled(){return this._enabled}savePoint(e,t,n){const r=Fr(),i=this._options,s=this._points;if(this._bbox.addPoint(e,t),s.push({x:e,y:t}),n){const o=s[0];this._layer.refresh(a=>{a.lineWidth=i.strokeWidth,a.lineJoin="bevel",a.strokeStyle=i.strokeColor,a.fillStyle=i.fillColor,a.beginPath(),a.moveTo(o.x*r,o.y*r);for(let l=1;l<s.length;++l){const c=s[l];a.lineTo(c.x*r,c.y*r)}a.stroke(),i.fillColor&&a.fill()})}}filterByExtremities(e,t){const n=this._modules.graph.getEdgeAttribute("source"),r=this._modules.graph.getEdgeAttribute("target");return e.filter(i=>{const s=i._index,o=n.get(s),a=r.get(s);return t[o]&&t[a]})}},G2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e,edges:t})=>{e.size?e.setSelected(!0):t.setSelected(!0)},bothExtremities:!1},fG=class extends EP{constructor(){super(...arguments),this._onStart=({x:e,y:t})=>{var n;this._rectangle.reset(),this._start={x:e,y:t},(n=this._layer)==null||n.refresh(r=>{r.fillStyle=this._options.fillColor,r.strokeStyle=this._options.strokeColor,r.lineWidth=this._options.strokeWidth})},this._onStop=()=>{var e;const t=this._modules.captor.getCursorPosition(),n=this._formatRectangle(t),{nodes:r,edges:i}=this._modules.spatial.queryProjected(n.minX,n.minY,n.maxX,n.maxY),s={},o=r.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable"),u=c&&d&&this._modules.locate.isNodeInRectangle(l,n);return s[l._index]=u,u});let a=i.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable");return c&&d&&this._modules.locate.isEdgeInRectangle(l,n)});this._options.bothExtremities&&(a=this.filterByExtremities(a,s)),(e=this._layer)==null||e.clear(),this.disable(),this._options.callback({nodes:o,edges:a})}}onMounted(){this._options=cn(G2),this._enabled=!1,this._rectangle=new Nn,this._interaction=this._modules.interactions.onDrag({priority:"lasso",disableDetection:!0,check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this._refreshRectangle({x:e,y:t}),onStop:this._onStop})}enable(e){return super.enable(Zr(e,G2))}_formatRectangle(e){const t=this._start.x,n=this._start.y,r=e.x,i=e.y,s=Math.abs(t-r),o=Math.abs(n-i),a=t<r?t:r,l=n<i?n:i;return this._rectangle.reset().addPoint(a,l).addPoint(a+s,l+o)}_refreshRectangle(e){var t;const{minX:n,minY:r,width:i,height:s}=this._formatRectangle(e),o=Fr();(t=this._layer)==null||t.refresh(a=>{a.strokeRect(n*o,r*o,i*o,s*o),this._options.fillColor&&a.fillRect(n*o,r*o,i*o,s*o)})}},Gi=6,SP=5,Wc=1,AP=0,kP=0,ny=-1;function CP(e,t,n,r){AP=e,ty=n,kP=t?1:0,ny=r}var H2=(e,t,n,r)=>i=>{const{rects:s,bboxes:o,intersects:a,indexToLayer:l,indexToRemoveNodeText:c,indexToRemoveEdgeText:d}=r;if(o[i*Gi+5]===AP&&o[i*Gi+4]===n)return!1;const u=i*SP,h=su(s[u],s[u+1],s[u+2],s[u+3],s[u+4]);if(BI(ty,h)){if(r.realIntersection=!0,ny<=0&&a.push(ty,h),!(t||l[o[i*Gi+5]]<ny))return!0;e.remove(i),r.realIntersection=!1,o[i*Gi+4]===kP?c[o[i*Gi+5]]=!0:d[o[i*Gi+5]]=!0}return!1};function W2(e,t,n="#22ff00"){return ry([[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]]].map(r=>({x:r[0],y:r[1]})),t,n)}function ry(e,t,n="#ff0000"){t.strokeStyle=n,t.beginPath();for(let r=0,i=e.length;r<i;r++)r===0?t.moveTo(e[r].x,e[r].y):t.lineTo(e[r].x,e[r].y);t.closePath(),t.stroke()}function _G(e,t,n,r,i){for(let a=0,l=t.length;a<l;a+=Gi)W2(t.slice(a,a+4),e,"#aaaaaa");for(let a=0;a<n.length;a+=SP)ry(su(n[a],n[a+1],n[a+2],n[a+3],n[a+4]),e,"green");const s=[i.root];let o=i.root;for(;o=s.pop();)o.leaf||s.push.apply(s,o.children),W2(i.getNodeBounds(o),e,"rgba(0,0,0,0.2)"),o=s.pop();r.forEach(a=>ry(a,e,"red"))}var tc={x1:0,y1:0,x2:0,y2:0},Bf={x:0,y:0},Ca={x:0,y:0},yG=Math.PI/2,xG=0;function vG(e,t,n,r,i,s,o,a,l,c,d){const u=a.remove.nodes,h=a.remove.edges,g=a.redraw.edges,p=n.angle,m=n.zoom,_=i.x,y=i.y,f=i.radius,x=Math.PI,{source:v,target:w,scalingMethod:b}=r,S=r.width,A=r.curvature,C=r.layer,k=r.text.content,N=r.text.scaling,R=r.text.size,B=r.text.font,H=r.text.style,F=r.text.scale,T=r.text.maxLineLength,W=r.text.margin,G=r.text.minVisibleSize,Y=r.text.padding,ee=r.animationDuration,J=r.text.adjustAngle,ue=r.text.position;a.indexToLayer={},a.indexToQuadIndex={},a.indexToRemoveNodeText={},a.indexToRemoveEdgeText={},a.indexToRedrawEdgeText={},a.byLayer=[];const{byLayer:Ae,indexToLayer:ce,indexToQuadIndex:_e,indexToRedrawEdgeText:ze,indexToRemoveNodeText:Me,indexToRemoveEdgeText:We}=a;for(let Z=0;Z<e.length;Z++){const te=e[Z],se=C.get(te)-GN;for(let oe=1;oe<=se;oe++)(Ae[oe]=Ae[oe]||[]).push(te);ce[te]=se}if(l!==null){const Z=Ae.length;for(let te=ce[l]+1;te<=Z;te++)(Ae[te]=Ae[te]||[]).unshift(l);ce[l]=Z}const he=[0,0,0,0],ye=[0,0,0,0,0],{bboxes:Ze,rects:tt}=a,ut=(Z,te=-1)=>{const se=ee.get(Z);let oe=k?k.get(Z):"";if(oe===null||oe===""||se)return!1;const ge=v.get(Z),pe=w.get(Z);let Oe=S.get(Z);const Ie=A.get(Z),Fe=G.get(Z);if(Oe*m<Fe)return We[Z]=!0,!1;b.get(Z)==="fixed"&&(Oe/=m);let nt=(_.get(ge)+_.get(pe))/2,rt=(y.get(ge)+y.get(pe))/2;oe=oe?oe.toString():"";const Rt=!N.get(Z),It=F.get(Z)*(Rt?1:m),Mt=B.get(Z),Wt=(Rt?R.get(Z):It*Oe)*Wc,vt=H.get(Z),lt=T.get(Z),Ct=ue.get(Z)===iu;let Pt=+Ct*W.get(Z)+r.text.padding.get(Z);const Dt=_.get(ge),kt=y.get(ge),bt=_.get(pe),Gt=y.get(pe),qt=f.get(ge),Er=f.get(pe);let ht;const xt=ge===pe;if(xt)ht=x/4-p,ma(Dt,kt,Ie,qt,0,tc),Nd(.5,Dt,kt,bt,Gt,tc.x1,tc.y1,tc.x2,tc.y2,Ca),nt=Ca.x,rt=Ca.y,Pt/=-m;else{if(Dt===bt&&kt===Gt)return!1;ht=Al(Dt,kt,bt,Gt)-p,Ie!==0&&(ht=Al(Dt,kt,bt,Gt)-p,Fi(Dt,kt,bt,Gt,Ie,Bf),um(.5,Dt,kt,bt,Gt,Bf.x,Bf.y,Ca),nt=Ca.x,rt=Ca.y)}const gt=Pt+xG,jt=vI(oe,lt);if(!jt)return!1;const{lines:Jt,data:pn}=jt;let zn=s(pn[0],Mt,vt,Wt).width*Wc;for(let An=1;An<Jt;An++)zn=Math.max(zn,s(pn[An],Mt,vt,Wt).width*Wc);const mn=Jt*Wt,Mn=zn/m/2,Sr=mn/m/2,Ri=Math.abs(zg(ht))<yG?1:-1;let Ut=Ct?xt?mn/m+Oe/2+Pt:Ri*(gt/m+Oe/2+Sr):0;if(!xt&&Ie===0&&J.get(Z)){const An=Y.get(Z);vn(Dt,kt,bt,Gt)*m-(qt+Er)*(d?1:m)<zn+2*An+1&&(Ut*=Ri,ht=0)}if(ye[0]=nt-Mn,ye[1]=rt-Sr,ye[2]=nt+Mn,ye[3]=rt+Sr,ye[4]=ht+p,ey(ye,-(ht+p),-Ut,ye),ye[2]=ye[2]-ye[0],ye[3]=ye[3]-ye[1],ht=x-ht-p,gm(nt-Mn,rt-Sr,2*Mn,2*Sr,ht,void 0,void 0,he),ey(he,ht,Ut,he),a.realIntersection=!1,CP(Z,!1,su(ye[0],ye[1],ye[2],ye[3],ye[4]),te),t.traverse(he[0],he[1],he[2],he[3],c),a.realIntersection&&!o)return We[Z]=!0,!1;if(ze[Z]=!0,Me[Z]=!1,te<=0){const An=Ze.length/Gi;_e[Z]=An,Ze.push(he[0],he[1],he[2],he[3],0,Z),t.insert(An,he[0],he[1],he[2],he[3]),tt.push(ye[0],ye[1],ye[2],ye[3],ye[4])}else t.insert(_e[Z],he[0],he[1],he[2],he[3])};for(const Z of e)ut(Z);let st=!0;for(let Z=0;Z<Ae.length;Z++){const te=Ae[Z];if(te)if(st)st=!1;else for(const se of te)ut(se,Z)}for(let Z=0;Z<e.length;Z++){const te=e[Z];Me[te]?u.push(te):ze[te]&&g.push(te),We[te]&&h.push(te)}return a}var bG={left:-1,right:1,top:0,bottom:0,center:0},wG={left:0,right:0,top:-1,bottom:1,center:0},EG={left:-1,right:0,top:-.5,bottom:-.5,center:-.5},SG={left:-.5,right:-.5,top:-1,bottom:0,center:-.5},AG=(e,t,n)=>vI(t,n.get(e))||{lines:0,data:[" "],maxLength:1},kG=(e,t,n,r,i,s,o)=>{const{lines:a,data:l}=AG(e,t,r);let c=n(l[0],i,s,o).width;for(let d=1;d<a;d++)c=Math.max(c,n(l[d],i,s,o).width);return[c,a*o*Wc]},CG=(e,t,n)=>{const r=t.text.content,i=t.radius,s=t.text.scaling,o=t.text.position,a=t.text.padding,l=t.text.scale,c=t.text.size,d=t.text.style,u=t.text.font,h=t.text.maxLineLength,g=t.text.margin,p=r.get(e),m=i.get(e),_=!s.get(e),y=o.get(e),f=a.get(e),x=l.get(e),v=(_?c.get(e):x*m*2)*Wc,w=d.get(e),b=u.get(e),S=f+g.get(e),A=bG[y],C=wG[y],[k,N]=kG(e,`${p}`,n,h,b,w,v),R=k/2,B=N/2;return[EG[y]*k,SG[y]*N,A*S,C*S,A*m,C*m,k,N,R,B]};function TG(e,t,n,r,i,s,o,a,l){const c=o.remove.nodes,d=o.remove.edges,u=o.redraw.nodes,h=n.angle,g=n.zoom,p=n.sin,m=n.cos,_=r.x,y=r.y,f=r.radius,x=r.layer,v=r.scalingMethod,w=r.text.content,b=r.text.scaling,S=r.text.minVisibleSize,A=r.animationDuration,C=r.textHidden,k=r.excluded;o.indexToLayer={},o.indexToQuadIndex={},o.indexToRemoveNodeText={},o.indexToRemoveEdgeText={},o.indexToRedrawNodeText={},o.byLayer=[];const{indexToLayer:N,indexToRedrawNodeText:R,indexToRemoveNodeText:B,indexToRemoveEdgeText:H,indexToQuadIndex:F,byLayer:T}=o;for(let ce=0;ce<e.length;ce++){const _e=e[ce],ze=x.get(_e)-GN;(T[ze]=T[ze]||[]).push(_e),N[_e]=ze}if(a!==null){const ce=T.length;for(let _e=N[a]+1;_e<=ce;_e++)(T[_e]=T[_e]||[]).unshift(a);N[a]=ce}let W;const G=[0,0,0,0],Y=[0,0,0,0,0],{bboxes:ee,rects:J}=o,ue=(ce,_e=-1)=>{const ze=A.get(ce);let Me=w.get(ce);if(Me===null||Me===""||ze!==0)return!1;let We=f.get(ce);const he=S.get(ce);if(k.get(ce)===1)return B[ce]=!0,!1;if(2*We*g<he)return C.get(ce)===0&&(B[ce]=!0),!1;v.get(ce)==="fixed"&&(We/=g);const ye=_.get(ce),Ze=y.get(ce);typeof Me=="number"&&(Me=Me.toString());let[tt,ut,st,Z,te,se,oe,ge,pe,Oe]=i(ce);const Ie=!b.get(ce),Fe=Ie?g:1,nt=v.get(ce)==="fixed"?g:1;Ie?(st+=pe,Z+=Oe,pe/=g,Oe/=g,oe/=g,ge/=g):(st+=pe*g,Z+=Oe*g),tt=tt/Fe+st/g+te/nt,ut=ut/Fe+Z/g+se/nt,gm(ye-pe,Ze-Oe,oe,ge,-h,p,-m,G),Y[0]=ye-pe,Y[1]=Ze-Oe,Y[2]=oe,Y[3]=ge,Y[4]=h;const rt=m*tt-p*ut,Rt=p*tt+m*ut;if(G[0]+=rt,G[1]+=Rt,G[2]+=rt,G[3]+=Rt,Y[0]+=rt,Y[1]+=Rt,o.realIntersection=!1,CP(ce,!0,su(Y[0],Y[1],Y[2],Y[3],Y[4]),_e),t.traverse(G[0],G[1],G[2],G[3],l),o.realIntersection&&!s)return B[ce]=!0,!1;R[ce]=!0,B[ce]=!1,_e<=0?(W=ee.length/Gi,F[ce]=W,ee.push(G[0],G[1],G[2],G[3],1,ce),t.insert(W,G[0],G[1],G[2],G[3]),J.push(Y[0],Y[1],Y[2],Y[3],Y[4])):t.insert(F[ce],G[0],G[1],G[2],G[3])};for(const ce of e)ue(ce);let Ae=!0;for(let ce=0;ce<T.length;ce++){const _e=T[ce];if(_e)if(Ae)Ae=!1;else for(const ze of _e)ue(ze,ce)}for(let ce=0;ce<e.length;ce++){const _e=e[ce];B[_e]?c.push(_e):R[_e]&&u.push(_e),H[_e]&&d.push(_e)}return o}var LG=1,NG="topDown",IG="bottomUp",MG=.15,PG=200,FG=80,RG=["x","y","radius","width","layer","text.content","text.minVisibleSize","text.size","text.scale","text.scaling","text.padding","text.margin","text.position","text.style"].reduce((e,t)=>(e.add(t),e),new Set),DG=class extends it{constructor(e,t){super(e),this._textBBoxes=[],this._rects=[],this._enabled=!1,this._geoEnabled=!1,this._intersects=[],this._textDisplacement={},this._textDisplacementUpdate={},this._output={remove:{nodes:[],edges:[]},redraw:{nodes:[],edges:[]},rects:this._rects,bboxes:this._textBBoxes,intersects:this._intersects,realIntersection:!1,indexToLayer:{},byLayer:[],indexToRedrawEdgeText:{},indexToRemoveEdgeText:{},indexToRedrawNodeText:{},indexToRemoveNodeText:{},indexToQuadIndex:{}},this._onZoomStart=Wp(({startZoom:n,endZoom:r})=>{this._enabled&&r<n&&this._updateLabels(this._modules.camera.clone({zoom:r}))},FG),this._onAttributesChanged=n=>{if([...n.edgeAttributes,...n.nodeAttributes].some(r=>RG.has(r))){const r=n.nodes._indexes;for(let i=0;i<r.length;i++)this._textDisplacementUpdate[r[i]]=!0;this._update()}},this._onItemsAdded=n=>{const r=n.nodes||n.edges;(this._enabled||this._forceEnabled)&&this._modules.settings.get("texts.preventOverlap")&&this._modules.graphics.setTextHidden(r,!0)},this._onToggle=n=>(n?this._update():this._reset(),this),this._update=()=>{(this._enabled||this._forceEnabled)&&this._updateDebounced()},this._toggleDebug=n=>{n?this._modules.layers.whenReady(()=>{this._layer=this._modules.layers.addCanvasLayer(r=>{r.lineWidth=1/this._modules.camera.getZoom(),_G(r,this._textBBoxes,this._rects,this._intersects,this._quadtree)},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._canvas=this._layer.element,this._ctx=this._canvas.getContext("2d"),this._update()}):this._canvas&&(this._layer.destroy(),this._canvas=this._ctx=null)},this._measureText=(n,r,i,s)=>this._engine.measureText(n,r,i,s),this._textDisplacement={},this._textDisplacementUpdate={},this._quadtree=new AN(n=>{const r=Gi,i=r*n;return this._textBBoxes.slice(i,i+r)},LG),t.forceEnableTextOverlapRemoval&&this.forceEnable()}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.events.register(["labelCollisionsRemoved"]),this.setRate(PG),this._modules.settings.register("texts.preventOverlap",!0,this._onToggle),this._modules.settings.register("texts.debug",!1,this._toggleDebug),this._modules.settings.register("texts.removalStrategy",NG);const e=this._output;this._nodeTraversal=H2(this._quadtree,!1,1,e),this._edgeTraversal=H2(this._quadtree,!1,0,e),this._modules.events.on(["addNodes","addEdges"],this._onItemsAdded).on("layoutEnd",()=>this._updateLabels()).on(["viewChanged","mouseover","mouseout"],this._update).on("updateAttributes",this._onAttributesChanged).on("setContainer",({element:t})=>{if(t)return this._enable();this._disable()}).on("zoomStart",this._onZoomStart).on("viewExportStart",({preventOverlap:t,camera:n})=>{t&&this.forceUpdate(n)}).on("viewExportEnd",()=>{this.forceUpdate()}).on("geoEnabled",()=>this._geoEnabled=!0).on("geoDisabled",()=>this._geoEnabled=!1)}getTextsBoundingBox(e,t){e||t?this._updateLabels(this._modules.camera,e?Array.from(e._indexes):[],t?Array.from(t._indexes):[]):this._updateLabels();const n=this._rects,r=new Nn;for(let i=0;i<n.length;i+=5){const s=n[i],o=n[i+1],a=n[i+2],l=n[i+3],c=n[i+4],[d,u,h,g]=gm(s,o,a,l,c);r.addPoint(d,u).addPoint(h,g)}return r}setRate(e){this._updateDebounced=this._modules.sync.debounceIdle(t=>this._updateLabels(t),e)}forceEnable(){this._forceEnabled=!0}update(){this._update()}forceUpdate(e=this._modules.camera){this._updateLabels(e)}_enable(){this._enabled=!0,this._update()}_disable(){this._textBBoxes=[],this._rects=[],this._intersects=[],this._enabled=!1}_onCameraMove(){this._update()}_updateLabels(e=this._modules.camera,t,n){if(!this._modules.settings.get("texts.preventOverlap"))return;const r=this._modules.graphics.getNodeAttributes(),i=this._modules.graphics.getEdgeAttributes();this._intersects=[],this._textBBoxes=[],this._rects=[];const s=e.getAngle(),o=e.getProjectedScreenBounds(MG),a=this._modules.settings.get("texts.removalStrategy")===IG,l={angle:s,zoom:e.zoom,screen:o,sin:Math.sin(s),cos:Math.cos(s)};this._resetOutput();const c=this._output;if(!t||!n){const p=this._modules.spatial.queryRaw(o[0],o[1],o[2],o[3]);t=p.nodes,n=p.edges}const d=this._quadtree.clear().cover(o[0],o[1],o[2],o[3]);if(t.length+n.length===0)return;const u=this._modules.captor.getPointedElement();let h=null,g=null;u!==null&&(u.isNode?h=u._index:g=u._index);for(const p of t)!this._textDisplacementUpdate[p]&&this._textDisplacement[p]||(this._textDisplacement[p]=CG(p,r,this._measureText),this._textDisplacementUpdate[p]=!1);TG(t,d,l,r,p=>this._textDisplacement[p],a,c,h,this._nodeTraversal),vG(n,d,l,i,r,this._measureText,a,c,g,this._edgeTraversal,this._geoEnabled),this._clearOverlaps(c),this._modules.settings.get("texts.debug")&&this._layer.refresh()}_clearOverlaps(e){const t=this._modules.graph.nodeList,n=this._modules.graph.edgeList,r=this._modules.graphics,i=t(new Uint32Array(e.remove.nodes)),s=n(new Uint32Array(e.remove.edges)),o=t(new Uint32Array(e.redraw.nodes)),a=n(new Uint32Array(e.redraw.edges));r.setTextHidden(i,!0),r.setTextHidden(s,!0),r.setTextHidden(o,!1),r.setTextHidden(a,!1),this._modules.events.fire("labelCollisionsRemoved",e)}_resetOutput(){const e=this._output;e.remove.nodes=[],e.remove.edges=[],e.redraw.nodes=[],e.redraw.edges=[],e.rects=this._rects,e.bboxes=this._textBBoxes,e.intersects=this._intersects,e.realIntersection=!1,e.indexToLayer={},e.byLayer=[],e.indexToRedrawEdgeText={},e.indexToRemoveEdgeText={},e.indexToRedrawNodeText={},e.indexToRemoveNodeText={},e.indexToQuadIndex={}}_reset(){this._modules.graphics.resetTextHidden(),this._textDisplacement={},this._textDisplacementUpdate={}}},zG=class extends it{constructor(){super(...arguments),this._onStartInteractionEvent=(e,t)=>{if(this._current)return;const n=this._interactionsByStartEvent[t];let r;for(const i of n)i.check(e)&&(!r||i.priority>=r.priority)&&(r=i);r&&this._startInteraction(r,e)},this._onProgressInteractionEvent=(e,t)=>{this._current&&this._current.progressEventName===t&&this._current.onProgress&&this._current.onProgress(e)},this._onStopInteractionEvent=(e,t)=>{this._current&&this._current.stopEventName===t&&this._stopCurrentInteraction(null)}}onMounted(){this._interactionsByStartEvent={},this._boundProgressEvents={},this._boundStopEvents={}}_startInteraction(e,t){e.onStart&&e.onStart(t),e.onStop&&(this._current=e,e.disableDetection&&this._modules.captor.setDetectionEnabled(!1))}_stopCurrentInteraction(e){this._current&&this._current.disableDetection&&this._modules.captor.setDetectionEnabled(!0),this._current&&this._current.onStop&&this._current.onStop(e),this._current=void 0}_forceStartInteraction(e,t){this._current&&this._stopCurrentInteraction(t),this._startInteraction(e,t)}_createWrapper(e){return{start:t=>this._forceStartInteraction(e,t)}}_addInteraction(e,t){const n=this._interactionsByStartEvent[e];return n?n.push(t):(this._interactionsByStartEvent[e]=[t],this._modules.events.on(e,this._onStartInteractionEvent)),this._createWrapper(t)}_createProgressiveInteraction(e,t,n,r){const i={priority:q2(r.priority),check:r.check||xd,onStart:r.onStart||ft,onProgress:r.onProgress||ft,onStop:r.onStop||ft,disableDetection:!!r.disableDetection,progressEventName:t,stopEventName:n};return this._boundProgressEvents[t]||(this._boundProgressEvents[t]=!0,this._modules.events.on(t,this._onProgressInteractionEvent)),this._boundStopEvents[n]||(this._boundStopEvents[n]=!0,this._modules.events.on(n,this._onStopInteractionEvent)),this._addInteraction(e,i)}_createNonProgressiveInteraction(e,t){return this._addInteraction(e,{priority:q2(t.priority),check:t.check||xd,onStart:t.handler||ft,onProgress:void 0,onStop:void 0,disableDetection:!1,progressEventName:void 0,stopEventName:void 0})}onDrag(e){return this._createProgressiveInteraction("dragStart","dragProgress","dragEnd",e)}onGesture(e){return this._createProgressiveInteraction("gestureStart","gestureProgress","gestureEnd",e)}onClick(e){return this._createNonProgressiveInteraction("click",e)}onDoubleClick(e){return this._createNonProgressiveInteraction("doubleclick",e)}onHover(e){return this._createNonProgressiveInteraction("mouseover",e)}onUnhover(e){return this._createNonProgressiveInteraction("mouseout",e)}onMouseWheel(e){return this._createNonProgressiveInteraction("mousewheel",e)}onMouseDown(e){return this._createNonProgressiveInteraction("mousedown",e)}onMouseUp(e){return this._createNonProgressiveInteraction("mouseup",e)}onMouseMove(e){return this._createNonProgressiveInteraction("mousemove",e)}};function q2(e){return typeof e=="string"?O4.indexOf(e):typeof e!="number"||isNaN(e)?0:e}var OG=["virtualUp","mouseupInternal","touchUp"],BG=["virtualDown","mousedownInternal","touchDown"],jG=["virtualMove","mousemoveInternal","touchMove"],UG=["virtualClick","clickInternal","touchTap"],$G=["virtualDoubleClick","doubleclickInternal","touchDoubleTap"],VG=["virtualWheel","mousewheelInternal"],GG=100,HG=class extends it{constructor(){super(...arguments),this._elt=null,this._hoveredElt=null,this._draggedElt=null,this._hover=!1,this._disabledCounter=0,this._accDx=0,this._accDy=0,this._prevX=0,this._prevY=0,this._buttons={left:{isPressed:!1,isDragging:!1},middle:{isPressed:!1,isDragging:!1},right:{isPressed:!1,isDragging:!1}},this._onGraphChanged=()=>{this._resetCurrent(this._modules.position.x,this._modules.position.y),this._onMove({x:this._modules.position.x,y:this._modules.position.y,source:null,domEvent:null})}}onMounted(){this._modules.events.register(["mousemove","mousedown","mouseup","click","doubleclick","mousewheel","mouseout","mouseover","dragStart","dragProgress","dragEnd","gestureStart","gestureProgress","gestureEnd"]),this._modules.settings.register("detect.nodes",!0).register("detect.edges",!0).register("detect.nodeTexts",!0).register("detect.nodeBadges",!0).register("detect.edgeTexts",!0).register("detect.nodeErrorMargin",5).register("detect.edgeErrorMargin",2).register("detect.enableSpatialIndex",!0).register("detect.spatialIndexMarginRatio",20),this._modules.events.on(["removeNodes","removeEdges","clearGraph"],this._onGraphChanged).on(jG,(e,t)=>{this._onMove(St(Se({},e),{source:Ao(t)}))}).on(BG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDown({domEvent:e,x:t,y:n,button:r,source:Ao(i)})}).on(OG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onUp({domEvent:e,x:t,y:n,button:r,source:Ao(i)})}).on(UG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onClick({domEvent:e,x:t,y:n,button:r,source:Ao(i)})}).on($G,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDoubleClick({domEvent:e,x:t,y:n,button:r,source:Ao(i)})}).on(VG,({domEvent:e,x:t,y:n,delta:r})=>{this._onWheel({domEvent:e,x:t,y:n,delta:r,source:"mouse"})}).on("touchStartGesture",e=>this._modules.events.fire("gestureStart",e)).on("touchProgressGesture",e=>this._modules.events.fire("gestureProgress",e)).on("touchEndGesture",e=>this._modules.events.fire("gestureEnd",e)).on("documentMouseMove",({domEvent:e,x:t,y:n},r)=>{this._onDocumentMove({domEvent:e,x:t,y:n,source:Ao(r)})}).on("documentMouseUp",({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDocumentUp({domEvent:e,x:t,y:n,source:Ao(i),button:r})})}triggerUnhover(){this._hover=!1,this._hoveredElt=null}triggerDetection(){this._detectElement(this._modules.position.x,this._modules.position.y,!1,!1),this._elt&&(this._hoveredElt=this._elt,this._hover=!0)}getPointedElement(){return this._hoveredElt}getDraggedElement(){return this._draggedElt}isAnyButtonPressed(){return this._buttons.left.isPressed||this._buttons.right.isPressed||this._buttons.middle.isPressed}isAnyButtonDragging(){return this._buttons.left.isDragging||this._buttons.right.isDragging||this._buttons.middle.isDragging}isButtonPressed(e){return this._buttons[e].isPressed}isLeftPressed(){return this.isButtonPressed("left")}getCursorPosition(){return{x:this._modules.position.x,y:this._modules.position.y}}getCursorInformation(){return{x:this._modules.position.x,y:this._modules.position.y,target:this._hoveredElt}}setDetectionEnabled(e){this._disabledCounter=Math.max(0,this._disabledCounter+(e?-1:1))}_resetCurrent(e,t){for(const n in this._buttons){const r=this._buttons[n];r.isDragging&&this._modules.events.fire("dragEnd",{domEvent:null,x:e,y:t,button:n,target:this._draggedElt}),r.isPressed=!1,r.isDragging=!1}this._hover&&this._hoveredElt&&this._modules.events.fire("mouseout",{domEvent:null,x:e,y:t,target:this._hoveredElt}),this._hover=!1,this._hoveredElt=null,this._draggedElt=null}_onMove({domEvent:e,x:t,y:n,source:r}){let{dx:i,dy:s}=this._setPointerPosition(t,n);this._modules.events.fire("mousemove",{domEvent:e,x:t,y:n,dx:i,dy:s,source:r});for(const o in this._buttons){const a=this._buttons[o];if(a.isPressed)if(a.isDragging){const l=this._getStoredDXY();i+=l.dx,s+=l.dy,this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:i,dy:s,button:o,source:r,target:this._draggedElt})}else a.isDragging=!0,this._hoveredElt&&this._hover&&(this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt}),this._hover=!1),this._draggedElt||(this._draggedElt=this._hoveredElt),this._storeDXY(i,s),this._modules.events.fire("dragStart",{domEvent:e,x:t,y:n,button:o,source:r,target:this._draggedElt})}e&&!this._modules.graphics.getDomElement().contains(e.target)||this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&(this._hoveredElt&&this._hover&&(this._hover=!0,this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})),this._hoveredElt=this._elt,this._elt&&(this._hover=!0,this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})))}_onDocumentMove({domEvent:e,x:t,y:n,source:r}){for(const i in this._buttons){const{isDragging:s}=this._buttons[i];if(s){const{dx:o,dy:a}=this._setPointerPosition(t,n);this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:o,dy:a,button:i,source:r,target:this._draggedElt})}}}_onDocumentUp({domEvent:e,x:t,y:n,source:r,button:i}){if(i!=null&&this._buttons[i].isDragging){this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:i,source:r,target:this._draggedElt});const s=this._buttons[i];s.isDragging=!1,s.isPressed=!1,this.isAnyButtonDragging()||(this._draggedElt=null)}}_onDown({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&this._resetCurrent(t,n);const s=this._buttons[r];this._hoveredElt=this._elt,s.isPressed=!0,this._elt&&e&&(e.stopPropagation(),e.preventDefault()),this._modules.events.fire("mousedown",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onDoubleClick({domEvent:e,x:t,y:n,button:r,source:i}){r!=null&&(Y2(e,"doubleclick")||this._modules.events.fire("doubleclick",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt}))}_onUp({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;const s=this._buttons[r];s.isPressed&&(s.isDragging&&(this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:r,source:i,target:this._draggedElt}),s.isDragging=!1,this.isAnyButtonDragging()||(this._draggedElt=null)),s.isPressed=!1,this._detectElement(t,n,!1,!1),this._modules.events.fire("mouseup",{domEvent:e,x:t,y:n,button:r,source:i,target:this._elt}),this.isAnyButtonPressed()||this._hover||i==="touch"||(this._hoveredElt=this._elt,this._hoveredElt&&(this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:i,target:this._hoveredElt}),this._hover=!0)))}_onClick({domEvent:e,x:t,y:n,button:r,source:i}){Y2(e,"click")||this._modules.events.fire("click",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onWheel({domEvent:e,x:t,y:n,delta:r,source:i}){this._modules.position.x=t,this._modules.position.y=n,this._modules.events.fire("mousewheel",{domEvent:e,x:t,y:n,delta:r,source:i,target:this._hoveredElt})}_storeDXY(e,t){this._accDx=e,this._accDy=t}_getStoredDXY(){const e=this._accDx,t=this._accDy;return this._accDx=0,this._accDy=0,{dx:e,dy:t}}_setPointerPosition(e,t){const n=e-this._prevX,r=t-this._prevY;return this._modules.position.x=e,this._modules.position.y=t,this._prevX=e,this._prevY=t,this._accDx=0,this._accDy=0,{dx:n,dy:r}}_detectElement(e,t,n,r){this._elt=this.detectElementAt(e,t,n,r)}detectElementAt(e,t,n,r){if(this._disabledCounter!==0)return null;const i=this._modules.settings,s=i.get("detect.enableSpatialIndex"),o=i.get("detect.nodeErrorMargin")||0,a=i.get("detect.edgeErrorMargin")||0;let l=i.get("detect.nodes"),c=i.get("detect.edges");r&&(l=!0,c=!0);let d=null,u=[],h=[];if(!n&&s&&(l||c)){const m=i.get("detect.spatialIndexMarginRatio"),_=Math.max(o*m,a*m),y=this._modules.spatial.queryRawProjected(e-_,t-_,e+_,t+_);u=y.nodes,h=y.edges}let g=null,p=null;if(l&&(g=this._modules.graphics.detectNode(e,t,!!i.get("detect.nodeBadges"),!!i.get("detect.nodeTexts"),o,u)),c&&(h.length<GG||!g)&&(p=this._modules.graphics.detectEdge(e,t,!!i.get("detect.edgeTexts"),a,h)),g&&p){const m=this._modules.graphics.getAttributesManager().getFlexArrays();d=m.nodes.current.layer.get(g._index)>=m.edges.current.layer.get(p._index)?g:p}else g?d=g:p&&(d=p);return d}};function Ao(e){return e.indexOf("touch")===0?"touch":"mouse"}var jf=!1,X2={down:{trigger:"pointerdown",duplicate:"mousedown"},click:{trigger:"pointerdown",duplicate:"mouseup"},doubleclick:{trigger:"pointerdown",duplicate:"mouseup"}};function Y2(e,t){if(e)return e.type===X2[t].trigger&&(jf=!0),e.type===X2[t].duplicate&&jf?(jf=!1,!0):void 0}var WG=class extends it{constructor(){super(...arguments),this._dragged=null,this._start=[],this._end=[],this._shouldDrag=({target:e,button:t})=>{const n=t==="left",r=this._modules.settings.get("interactions.drag.enabled"),i=e!==null&&e.isNode&&e.getAttribute("draggable")===!0;return!!(n&&r&&i)},this._onDragStart=({x:e,y:t,target:n})=>{n&&(n.isSelected()?this._dragged=this._modules.selection.getSelectedNodes().filter(r=>r.getAttribute("draggable")):this._dragged=n.toList()),this._dragged&&(this._start=this._dragged.getPosition(),this._end=cn(this._start),this._onBeforeDrag=this._modules.settings.get("interactions.drag.onBeforeDrag"),this._startDrag=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._dragged.addClass(jh),this._modules.events.fire("nodesDragStart",{nodes:this._dragged}),this._modules.graphics.addCursorStyle(this._modules.settings.get("interactions.drag.cursor")))},this._onDrag=()=>{if(!this._dragged||!this._startDrag)return;const{x:e,y:t}=this._modules.captor.getCursorInformation(),n=this._dragged._indexes,r=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),i=r.x-this._startDrag.x,s=r.y-this._startDrag.y;for(let o=0;o<n.length;++o){const a=this._start[o],l=this._end[o];l.x=a.x+i,l.y=a.y+s}this._onBeforeDrag&&this._onBeforeDrag(this._dragged,e,t,this._end),this._modules.settings.get("interactions.drag.applyResult")&&this._modules.individualAttributes.setMultipleAttributes(this._dragged,this._end),this._modules.events.fire("nodesDragProgress",{nodes:this._dragged,dx:i,dy:s})},this._onDragEnd=()=>{this._dragged&&(this._dragged.removeClass(jh),this._modules.graphics.removeCursorStyle(this._modules.settings.get("interactions.drag.cursor")),this._modules.events.fire("nodesDragEnd",{nodes:this._dragged,start:this._start,end:this._end}),this._dragged=null,this._start=[],this._end=[])}}onMounted(){this._modules.classes.createClass({name:jh,isBuiltin:!0,nodeAttributes:{layer:D4}}),this._modules.events.register(["nodesDragStart","nodesDragProgress","nodesDragEnd"]),this._modules.settings.register("interactions.drag.enabled",!0).register("interactions.drag.cursor","move").register("interactions.drag.onBeforeDrag",void 0),this._modules.settings.register("interactions.drag.applyResult",!0),this._modules.interactions.onDrag({priority:"drag",disableDetection:!0,check:this._shouldDrag,onStart:this._onDragStart,onProgress:this._onDrag,onStop:this._onDragEnd})}},qG={color:"#00C3FF",radius:4,cursorOnHover:"grab",cursorOnDrag:"grabbing"},XG=class extends it{constructor(){super(...arguments),this._hoverHandle=!1,this._grabHandle=!1,this._x=0,this._y=0,this._enabled=!1,this._onDragStart=()=>{if(!this._movedEdges)return;this._nodesToHighlight=this._nodesToHighlight.filter(t=>t!==this._startNode&&!t.isVirtual()),this._movedEdges.setExcluded(!0);const e=this._options.cursorOnDrag;this._prevSettings=this._modules.settings.update({edgeHover:!1,cursor:{default:e,node:e,edge:e}})},this._onDragEnd=()=>{if(!this._movedEdges)return;this._restoreSettings();const e=this._getPointedNode();e&&this._movedEdges.forEach(t=>{t.getTarget()===this._startNode?t.setTarget(e):t.setSource(e)}),this._movedEdges.setExcluded(!1),this._movedEdges.setSelected(!0),this._movedEdges=null,this._refreshHandles()},this._refreshHandles=()=>{if(!this._enabled||this._movedEdges)return;const e=this._modules.selection.getSelectedEdges();this._nodesToHighlight=e.getExtremities().dedupe().filter(t=>!t.isVirtual()),this._rewirableClass.clearEdges(),this._rewirableClass.add(e),this._refreshCanvas()},this._shouldInteractionStart=({target:e})=>{if(!this._enabled||!e||!e.isNode||!this._hoverHandle||e.isVirtual())return!1;const t=e.getAdjacentEdges().filter(n=>n.isSelected());return!!t.size&&(this._movedEdges=t,this._edgeColors=this._movedEdges.getAttribute("color"),this._startNode=e,!0)},this._refreshCanvas=()=>{this._enabled&&this._layer.refresh()},this._checkForHover=()=>{if(!this._enabled||!this._nodesToHighlight)return;const e=this._options.radius,t=this._nodesToHighlight.toArray(),n=this._modules.camera.screenToGraphCoordinates(this._modules.captor.getCursorPosition());for(let r=0;r<t.length;r++){const{x:i,y:s}=t[r].getPosition();if(vn(i,s,n.x,n.y)<e)return void this._enableCursorOnHover()}this._disableCursorOnHover()}}onMounted(){this._rewirableClass=this._modules.classes.createClass({name:UN,isBuiltin:!0,edgeAttributes:{layer:z4}}),this._modules.events.on("move",this._checkForHover).on("mousemove",this._checkForHover).on("dragProgress",()=>{this._grabHandle&&this._refreshCanvas()}).on("nodesDragProgress",this._refreshCanvas).on("mousedown",()=>{this._hoverHandle&&(this._grabHandle=!0)}).on("mouseup",()=>this._grabHandle=!1).on("edgesSelected",this._refreshHandles).on("edgesUnselected",this._refreshHandles),this._interaction=this._modules.interactions.onDrag({priority:"rewiring",check:this._shouldInteractionStart,onStart:this._onDragStart,onProgress:({x:e,y:t})=>{this._x=e,this._y=t},onStop:this._onDragEnd})}enable(e){this._enabled||(this._options=Se(Se({},qG),e),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{if(!this._enabled||!this._nodesToHighlight)return;const n=this._modules.captor.getCursorPosition(),r=this._getPointedNode(),i=this._options.color,s=this._options.radius,o=2*s;if(this._displayMovedEdges(t),t.fillStyle=i,t.strokeStyle=i,this._nodesToHighlight.forEach(a=>{const{x:l,y:c}=a.getPosition();t.fillRect(l-s,c-s,o,o)}),this._movedEdges){const a=r?r.getPosition():n;t.fillRect(a.x-s,a.y-s,o,o)}},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._refreshHandles())}disable(){this._enabled&&(this._interaction.stop&&this._interaction.stop(),this._modules.graphics.removeCursorStyle(this._options.cursorOnDrag),this._disableCursorOnHover(),this._restoreSettings(),this._layer.destroy(),this._rewirableClass.clearEdges(),this._enabled=!1)}enabled(){return this._enabled}_restoreSettings(){this._prevSettings&&(this._modules.settings.update(this._prevSettings),this._prevSettings=void 0)}_disableCursorOnHover(){this._hoverHandle&&!this._grabHandle&&(this._hoverHandle=!1,this._modules.graphics.removeCursorStyle(this._options.cursorOnHover))}_enableCursorOnHover(){this._hoverHandle||(this._hoverHandle=!0,this._modules.graphics.addCursorStyle(this._options.cursorOnHover))}_displayMovedEdges(e){if(!this._movedEdges)return;const t=this._x,n=this._y,r=this._modules.camera.screenToGraphCoordinates({x:t,y:n});this._movedEdges.forEach((i,s)=>{const o=this._edgeColors[s],a=i.getSource(),l=i.getTarget(),c=this._getPointedNode(),d=l===this._startNode?a:l,u=Number(i.getAttribute("width")),h=d.getPosition(),g=c?c.getPosition():r;e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,g.y),e.strokeStyle=o,e.lineWidth=u,e.stroke()})}_getPointedNode(){const e=this._modules.captor.getPointedElement();return e&&e.isNode&&!e.isVirtual()?e:null}},Z2={cursor:"nesw-resize",color:"#00C3FF",lineWidth:1,handleSize:6,detectionMargin:5,snappingRatio:1.25,nbNodesToSnapTo:5,previewColor:"rgba(0, 0, 0, 0.2)",sizeIndicatorColor:"black",sizeIndicatorOffset:5,sizeIndicatorWidth:3,sizeIndicatorThickness:1},YG=class extends it{constructor(){super(...arguments),this._enabled=!1,this._nodesToHighlight=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[],this._onSelectionChange=()=>{this._enabled&&(this._nodesToHighlight=this._modules.selection.getSelectedNodes(),this._displayHandles())},this._displayHandlesHandler=()=>this._displayHandles(),this._moveHandler=({x:e,y:t})=>{this._modules.dom.setTimeout(()=>this._detectBoundingBoxes(e,t))}}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.interactions.onDrag({priority:"resizing",disableDetection:!0,check:()=>!(!this._enabled||!this._pointedNode),onStart:({x:e,y:t})=>{this._x=e,this._y=t,this._nodeBeingResized=this._pointedNode},onProgress:({x:e,y:t})=>{this._x=e,this._y=t,this._displayHandles()},onStop:()=>{this._nodesToHighlight&&this._nodesToHighlight.forEach((e,t)=>{const n=this._additionalRadiuses[t]/this._modules.camera.zoom;e.setAttributes({radius:Number(e.getAttribute("radius"))+n,x:e.getPosition().x+n,y:e.getPosition().y-n})}),this._pointedNode=null,this._nodeBeingResized=null,this._displayHandles()}})}onReady(){this._modules.events.on("nodesSelected",this._onSelectionChange),this._modules.events.on("nodesUnselected",this._onSelectionChange)}_enableCursor(){this._cursorEnabled||(this._modules.graphics.addCursorStyle(this._options.cursor),this._cursorEnabled=!0)}_disableCursor(){this._cursorEnabled&&(this._modules.graphics.removeCursorStyle(this._options.cursor),this._cursorEnabled=!1)}_detectBoundingBoxes(e,t){if(!this._enabled||this._nodeBeingResized||!this._nodesToHighlight)return;const n=this._options.handleSize/2,r=this._options.detectionMargin;return this._pointedNode=null,this._forEachNodeToHighlight((i,s,o)=>{const a=s.x+o-n-r,l=s.x+o+n+r,c=s.y-o-n-r,d=s.y-o+n+r;e>=a&&e<=l&&t>=c&&t<=d&&(this._pointedNode=i)}),this._pointedNode?this._enableCursor():this._disableCursor()}_forEachNodeToHighlight(e){this._nodesToHighlight&&this._nodesToHighlight.forEach(t=>{const n=t.getPositionOnScreen(),r=this._getTotalRadius(t);e(t,n,r)})}_displayHandles(){this._enabled&&this._nodesToHighlight&&this._layer.refresh()}_displayNodePreview(e,t,n,r,i,s){if(i*=1/this._modules.camera.getZoom(),e.beginPath(),s.length===1)e.arc(n,r,i,0,2*Math.PI);else for(let o=0;o<s.length;++o){const a=s[o],l=n+a.x*i,c=r+a.y*i;o===0?e.moveTo(l,c):e.lineTo(l,c)}e.fillStyle=this._options.previewColor,e.fill()}_getTotalRadius(e,t=!0){return Number(e.getAttribute("radius"))*(this._modules.camera.zoom*(t?1:0))+Number(e.getAttribute("innerStroke.width"))+Number(e.getAttribute("outerStroke.width"))+this._options.lineWidth/2}_snap(e,t,n){const r=this._modules.spatial.getNodesInScreenByDistance(t).filter(u=>!u.isSelected()).slice(0,this._options.nbNodesToSnapTo),i=this._getTotalRadius(t),s=i+n,o=this._options.snappingRatio,a=s/i,l=Math.round(nN(a,o));let c=i*Math.pow(o,l),d=null;if(r.forEach(u=>{const h=this._getTotalRadius(u);Math.abs(h-s)<=Math.abs(c-s)&&(c=h,d=u)}),d){e.save(),e.strokeStyle=this._options.sizeIndicatorColor,e.lineWidth=this._options.sizeIndicatorThickness/this._modules.camera.getZoom();const u=d.getAttribute("radius");this._displaySizeIndicator(e,t,c),r.filter(h=>h.getAttribute("radius")===u).forEach(h=>this._displaySizeIndicator(e,h)),e.restore()}return c-i}_displaySizeIndicator(e,t,n){n=n||void 0;const r=this._modules.camera.getZoom(),i=t.getPosition(),s=this._getTotalRadius(t),o=(n||s)/r,a=(n?n-s:0)/r,l=a+(-this._options.sizeIndicatorOffset-(n?Number(t.getAttribute("innerStroke.width"))+Number(t.getAttribute("outerStroke.width")):0))/r,c=i.x-o+l|0,d=i.y-o-a|0,u=i.y+o-a|0,h=this._options.sizeIndicatorWidth/r;e.beginPath(),e.moveTo(c-h,d),e.lineTo(c+h,d),e.moveTo(c,d),e.lineTo(c,u),e.moveTo(c-h,u),e.lineTo(c+h,u),e.stroke()}enable(e){this._enabled||(this._options=Se(Se({},Z2),e),this._layer=this._modules.layers.addCanvasLayer(t=>{const n=Fr(),r=this._modules.camera.getZoom(),{color:i,lineWidth:s}=this._options;let o=this._options.handleSize,a=0;if(this._nodeBeingResized){const l=this._getTotalRadius(this._nodeBeingResized),c=this._nodeBeingResized.getPositionOnScreen();a=Math.max(this._x-(c.x+l),-(this._y-(c.y-l)))/2}this._additionalRadiuses=[],this._nodesToHighlight&&this._nodesToHighlight.forEach(l=>{const c=l.getPosition();let d=this._getTotalRadius(l),u=0;if(this._nodeBeingResized){u=a;const h=-d+Number(l.getAttribute("innerStroke.width"))+Number(l.getAttribute("outerStroke.width"))+s/2+1;u=u<h?h:this._snap(t,l,u),this._additionalRadiuses.push(u);const g=l.getAttribute("shape"),p=this._engine.getShapePoints(g),m=c.x+u/r,_=c.y-u/r,y=d+u;this._displayNodePreview(t,n,m,_,y,p)}t.strokeStyle=i,t.fillStyle=i,t.lineWidth=s/r,d/=r,u/=r,o/=r*n,t.strokeRect(c.x-d,c.y-d-2*u,2*(u+d),2*(u+d)),t.fillRect(c.x+d+2*u-o/2,c.y-d-2*u-o/2,o,o)})},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._modules.events.on(["mousemove","mousedown"],this._moveHandler),this._enabled=!0)}disable(){this._enabled&&(this._modules.events.off(this._displayHandlesHandler),this._modules.events.off(this._moveHandler),this._layer.destroy(),this._disableCursor(),this._reset())}_reset(){this._enabled=!1,this._nodesToHighlight=null,this._options=Se({},Z2),this._nodeBeingResized=null,this._pointedNode=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[]}enabled(){return this._enabled}},ZG={strokeColor:"black",strokeWidth:5,dashed:!0,cursorStyle:"cell",createNodes:!0,condition:Zp,onNodeCreated:ft,onEdgeCreated:ft,createNode:Ii,createEdge:Ii,onComplete:ft},QG=class extends it{constructor(){super(...arguments),this._enabled=!1,this._blockId=0,this._cursorEnabled=!1}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._depth=Td(0).edgeBody,this._modules.events.register(["connectNodes"]),this._interaction=this._modules.interactions.onDrag({priority:"connectNodes",check:({target:e,button:t="left"})=>this._enabled&&t==="left"&&e&&e.isNode&&!e.isVirtual(),onStart:({target:e})=>this._onStart(e),onProgress:({x:e,y:t})=>this._onMove(e,t),onStop:()=>this._onStop()}),this._modules.events.on("clearGraph",()=>this.disable())}_onStart(e){e&&(this._cursorEnabled=!0,this._startNode=e,this._startPos=e.getPosition(),this._modules.graphics.addCursorStyle(this._options.cursorStyle),this._blockId=this._modules.graphics.allocateGraphicsEngineBlockId())}_onMove(e,t){this._startNode!==null&&(this._endPos=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._drawLine())}_onStop(){if(this._startNode===null)return;const{condition:e,onNodeCreated:t,onEdgeCreated:n,createEdge:r,createNode:i,onComplete:s,createNodes:o}=this._options;let a=this._modules.captor.getPointedElement(),l=null,c=null;if(this._modules.graphics.releaseGraphicsEngineBlockId(this._blockId),!a&&o){const d=i({attributes:{x:this._endPos.x,y:this._endPos.y}});a=this._modules.graph.addNode(d),c=a,t&&t(c)}if(a&&!a.isVirtual()&&(c||!e||e(this._startNode,a))){const d=r({source:this._startNode.getId(),target:a.getId()});l=this._modules.graph.addEdge(d),n&&n(l)}s&&(this._modules.events.fire("connectNodes",{source:this._startNode,target:a,edge:l}),s(this._startNode,a,l||void 0)),this.disable()}_drawLine(){this._group.reset(Ci,!1,this._depth);const e=this._group.nextAndReset().end;e.pieceId=lm,e.shape="line",e.x1=this._startPos.x,e.y1=this._startPos.y,e.x2=this._endPos.x,e.y2=this._endPos.y,e.fillColor=this._options.strokeColor,e.thicknessOrFontSizeFixed=this._options.strokeWidth,this._options.dashed&&(e.dashLength=3,e.gapLength=1),this._engine.storeGroup(this._blockId,this._group),this._modules.dom.refresh()}enable(e={}){return this._enabled||(this._options=Se(Se({},ZG),e),this._enabled=!0,this._cursorEnabled=!1,this._startNode=null,this._prevSettings=this._modules.settings.update({"cursor.node":this._options.cursorStyle,"detect.edges":!1}),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorInformation())),this}disable(){return this._enabled?(this._enabled=!1,this._modules.settings.update(this._prevSettings),this._cursorEnabled&&this._modules.graphics.removeCursorStyle(this._options.cursorStyle),this):this}enabled(){return this._enabled}},KG=["top","bottom","left","right","cssDefined"],JG=1e4,e7={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}},t7={position:"top",autoAdjust:!0,delay:100},n7={hover:{node:({target:e})=>e&&e.isNode,edge:({target:e})=>e&&!e.isNode},click:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}},doubleclick:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}}},r7=class extends it{constructor(){super(...arguments),this._x=0,this._y=0}onMounted(){this._handlers={},this._currentHandlerName=null,this._tooltip=null,this._isHover=!1,this._modules.events.register(["tooltipShow","tooltipHide"]),this._modules.events.on(["mouseup","dragStart"],()=>{this._isHover||this._hideTooltip(!1)}).on("mouseout",()=>{this._isHover&&this._hideTooltip(!1)}).on("clearGraph",()=>this._hideTooltip(!1)),this._modules.interactions.onHover(this._createInteraction("hover",!0)),this._modules.interactions.onClick(this._createInteraction("click")),this._modules.interactions.onDoubleClick(this._createInteraction("doubleclick"))}hide(){this._hideTooltip(!0)}isShown(){return!!this._tooltip}refresh(){this._refreshTooltip()}show(t,{position:n="top",autoAdjust:r=!0,className:i,x:s=0,y:o=0}={}){this._showTooltip(t,{position:n,autoAdjust:r,className:i},{x:s,y:o})}setHandler(t,n,r){const i=Se(Se({},t7),r);i.position&&KG.indexOf(i.position)===-1&&(i.position="top"),this._handlers[t]={handler:n,condition:an(n7,t),settings:i}}_hideTooltip(t){if(this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null),t&&(this._currentHandlerName=null),this._tooltip){const n=this._tooltip;this._tooltip.parentNode&&this._tooltip.parentNode.removeChild(this._tooltip),this._tooltip=null,this._modules.events.fire("tooltipHide",{tooltip:n})}}_createInteraction(t,n=!1){return{priority:"tooltip",check:r=>{const i=Q2(t,r),s=this._handlers[i];return(!n||!this._modules.connectNodes.enabled())&&(!(!s||!s.condition(r))||!(n||!this._currentHandlerName||this._isHover)&&this._tooltip!==null)},handler:r=>{const{target:i,x:s,y:o}=r;this._hideTooltip(!1),this._isHover=n,this._elt=i,this._x=s,this._y=o,this._currentHandlerName=Q2(t,r),this._refreshTooltip()}}}_refreshTooltip(){if(!this._currentHandlerName)return void this._hideTooltip(!1);const t=this._handlers[this._currentHandlerName];if(!t)return;const{settings:n,handler:r}=t,i=this._elt;if(i){const o=i.isNode?"node":"edge";if(this._currentHandlerName.indexOf(o)===-1)return}const s=r(i);Promise.resolve(s).then(o=>{this._schedule(()=>this._showTooltip(o,n),n.delay)})}_schedule(t,n){this._timeout&&this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>{this._timeout=null,t()},n)}_showTooltip(t,n,r){this._hideTooltip(!1);const{position:i,className:s,autoAdjust:o}=n;let a=this._x,l=this._y,c=this._elt;const d=this._modules.dom.getDimensions();let u=0,h=0;if(r&&(a=r.x,l=r.y,c=null),typeof t=="string")this._tooltip=i7("div"),this._tooltip.innerHTML=t;else{if(!VL(t))throw new Error(`invalid tooltip ${t}, expected HTML string or HTML element`);this._tooltip=t}const g=this._tooltip;if(s&&this._tooltip.classList.add(s),i!=="cssDefined"&&(g.style.position="absolute"),g.style.zIndex=JG.toString(),this._modules.dom.appendElement(g),c&&c.isNode){const _=c,y=_.getPositionOnScreen(),f=Number(_.getAttribute("radius"))*(_.getAttribute("scalingMethod")==="fixed"?1:this._modules.camera.getZoom())+Number(_.getAttribute("innerStroke.width"))+Number(_.getAttribute("outerStroke.width"));a=y.x,l=y.y,u=f,h=f}const p=g.offsetWidth/2,m=g.offsetHeight/2;if(u+=p,h+=m,i&&i!=="cssDefined"){const _=e7[i];let y=_.x,f=_.y;if(o){const x=a+u*_.x,v=l+h*_.y;(x-p<0||x+p>=d.width)&&(i==="left"||i==="right"?y*=-1:y=x-p<0?(p-x+1)/u:(d.width-(x+p)-1)/u),(v-m<0||v+m>=d.height)&&(i==="top"||i==="bottom"?f*=-1:f=v-m<0?(m-v+1)/h:(d.height-(v+m)-1)/h)}g.style.left=a+u*y-p+"px",g.style.top=l+h*f-m+"px"}this._modules.events.fire("tooltipShow",{tooltip:g})}};function Q2(e,{button:t,target:n}){return`${e}${t?`.${t}`:""}.${n!==null?n.isNode?"node":"edge":"background"}`}function i7(e){return _s?document.createElement(e):Fg()}var qc={65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",46:"del",8:"backspace",32:"space",224:"cmd",91:"cmd",92:"cmd",93:"cmd",187:"+",189:"-"},K2=Object.keys(qc).reduce((e,t)=>{const n=qc[t];return e[n]||(e[n]=[]),e[n].push(t),e},{}),s7=class extends it{constructor(){super(...arguments),this._onBlur=()=>this.resetKeys(),this._onKeyUp=e=>{const t=e.keyCode||e.which;this._pressed[t]=!1,this._modules.events.fire("keyup",{domEvent:e,key:qc[t],code:t})},this._onKeyDown=e=>{const t=e.keyCode||e.which,n=this._binds[t];if(!this._pressed[t]){if(this._pressed[t]=!0,n)for(const r of n)r.keys.every(i=>i.some(s=>this._pressed[s]))&&r.handler({domEvent:e});this._modules.events.fire("keydown",{domEvent:e,key:qc[t],code:t})}}}onMounted(){this._modules.events.register(["keyup","keydown"]),this._binds=[],this._pressed=[],this._modules.dom.addWindowEventListener("keydown",this._onKeyDown).addWindowEventListener("keyup",this._onKeyUp).addWindowEventListener("visibilitychange",this._onBlur).addWindowEventListener("blur",this._onBlur,!1),this._idleTimeout=4e3,this._prevEventTimeStamp=rr(),this._modules.events.onAnyEvent(()=>{const e=rr();e-this._prevEventTimeStamp>this._idleTimeout&&this.resetKeys(),this._prevEventTimeStamp=e})}setIdleTimeout(e){if(!isFinite(e)||e<=1)throw new TypeError("Idle timeout must be a positive number > 1");this._idleTimeout=e}resetKeys(){for(let e=0;e<this._pressed.length;e++)this._pressed[e]&&(this._pressed[e]=!1,this._modules.events.fire("keyup",{key:qc[e],code:e}))}onKeyPress(e,t){let n=[];if(typeof e=="number")n=[e];else if(typeof e=="string")n=e.split(" ");else{if(!Array.isArray(e))throw new TypeError(`${e} is not a number, string or array`);n=e}if(n.length===0)throw new Error("the array should contain at least one element");const r=n.map(o=>{if(typeof o=="number")return[o];if(typeof o=="string"){const a=K2[o];if(!a)throw new Error(`${o} is not a valid key identifier`);return a}throw new TypeError(`${o} is not a valid key identifier`)}),i=r.pop(),s={keys:r,handler:t};i&&i.forEach(o=>{this._binds[o]||(this._binds[o]=[]),this._binds[o].push(s)})}isPressed(e){if(typeof e=="number")return this._pressed[e];if(typeof e=="string"){const t=K2[e];if(t)return t.some(n=>this._pressed[n])}return!1}},o7=[{name:"color",isNode:!0},{name:"shape",isNode:!0},{name:"radius",isNode:!0},{name:"icon.content",isNode:!0},{name:"image.url",isNode:!0},{name:"image",isNode:!0},{name:"color",isNode:!1},{name:"shape",isNode:!1},{name:"width",isNode:!1}],Es=Math.PI,Ss=2*Math.PI,TP=Math.cos(Es/2-Ss/5),LP=Math.cos(Es/2-Ss/5*2),NP=Math.cos(Es/2-Ss/5*3),IP=Math.cos(Es/2-Ss/5*4),MP=Math.sin(-Es/2+Ss/5),PP=Math.sin(-Es/2+Ss/5*2),FP=Math.sin(-Es/2+Ss/5*3),RP=Math.sin(-Es/2+Ss/5*4),Jg=1.6,DP=3,a7=.9,uh=.31,Uf=1/3,l7=[8,3],c7=[3,3],hh={position:"bottom",widgetWidth:130,fontFamily:"Arial",fontSize:10,fontColor:"black",titleFontSize:12,titleFontColor:"black",titleMaxLength:20,titleTextAlign:"left",shapeColor:"grey",backgroundColor:"white",borderColor:"black",borderRadius:0,borderWidth:1,innerMargin:10,outerMargin:5,circleStrokeWidth:3,titleFunction:e=>e[e.length-1]},d7=["widgetWidth","fontSize","titleFontSize","borderRadius","borderWidth","innerMargin","outerMargin","circleStrokeWidth"];function zP(e){return Array.isArray(e)?e.reduce((t,n)=>t&&zP(n),!0):e==="undefined"||!isNaN(Number(e))}function OP(e){return Array.isArray(e)?e.reduce((t,n)=>Math.min(t,OP(n)),1/0):typeof(e=Number(e))=="number"?isNaN(e)?1/0:+e:1/0}function BP(e){return Array.isArray(e)?e.reduce((t,n)=>Math.max(t,BP(n)),-1/0):typeof(e=Number(e))=="number"?isNaN(e)?-1/0:+e:-1/0}function us(e){const t=["K","M","B","T","P","E","Z","Y"];if(e>9999){let n=0;for(;n<t.length&&e>999;)e/=1e3,n++;return(J2(e,3)+t[n-1]).toString()}return J2(e,4).toString()}function J2(e,t=3){const n=t===4?10:1;return e<10?Math.round(100*e*n)/(100*n):e<100?Math.round(10*e*n)/(10*n):e<1e3?Math.round(e*n)/n:Math.round(e)}function jP(e){return e.innerMargin+(e.titleFontSize+e.fontSize)*Jg}var u7=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.title<=t.title?-1:1,h7=(e,t)=>e.height-t.height,g7=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:t.height-e.height,p7=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.content[0].title<=t.content[0].title?-1:1;function m7(e,t,n){const r=t.getContext("2d"),{x:i,y:s,height:o,isNode:a,styleProperty:l,title:c,mapping:d,iconFont:u,iconFontStyle:h}=n;y7(r,e,i,s,o),x7(r,e,c,i,s);const g=e.fontSize*Jg,p=e.fontSize/2*Jg*a7,m=e.fontSize*DP,_=e.fontSize,y=_7(e,a);let f=s+jP(e);const x=i+e.innerMargin+y/2,v=i+2*e.innerMargin+y,w=zc(d),b=zP(w),S=e.fontColor,A=e.shapeColor,C=Object.keys(d);if(b&&(C.sort((k,N)=>as(d[N])-as(d[k])),l==="radius"||l==="width")){const k=OP(w),N=BP(w);return(a?F7:R7)(e,r,i,f,k,(k+N)/2,N,A)}C.forEach(k=>{const N=d[k];l==="color"&&(a?UP(r,x,f,p,k):b7(r,x,f,m,_,k)),l==="shape"&&(a?T7(r,x,f,p,k,A):M7(r,x,f,m,_,k,A)),l==="icon.content"&&w7(r,x,f,k,u,p,S,h),l!=="image"&&l!=="image.url"||E7(r,x,f,p,k),v7(r,e,v,f,N,b),f+=g})}function f7(e,t,n,r,i,s){e.beginPath(),e.arc(t,n,r,0,Ss),e.strokeStyle=i,e.lineWidth=s,e.stroke()}function ou(e,t,n,r,i="left",s="normal"){e.textAlign=i,e.textBaseline="middle",e.fillStyle=r,e.font=`${s} ${n}px "${t}"`}function _7(e,t){const n=t?1:DP;return e.fontSize*n}function y7(e,t,n,r,i){return P7(e,n,r,t.widgetWidth,i,t.borderRadius,t.backgroundColor,t.borderColor,t.borderWidth)}function x7(e,t,n,r,i){ou(e,t.fontFamily,t.titleFontSize,t.titleFontColor,t.titleTextAlign);const s=t.titleTextAlign==="center",o=t.widgetWidth-2*t.innerMargin,a=e.measureText(n).width,l=r+(s?t.widgetWidth/2:t.innerMargin),c=i+t.titleFontSize/2+t.innerMargin;if(a>o){const d=o/a,u=(n.length*d|0)-2;n=n.substr(0,u)+""}e.fillText(n,l,c)}function v7(e,t,n,r,i,s){let o=i.join();if(s)if(i.length===1)o=us(i[0]);else{const a=as(i),l=Xa(i);o=`${us(a)} - ${us(l)}`}ou(e,t.fontFamily,t.fontSize,t.fontColor),e.fillText(o,n,r)}function UP(e,t,n,r,i){e.beginPath(),e.arc(t,n,r,0,2*Es),e.fillStyle=i,e.fill()}function b7(e,t,n,r,i,s){e.fillStyle=s,e.fillRect(t-r/2,n-i/2,r,i)}function w7(e,t,n,r,i,s,o,a){ou(e,i,2*s,o,"center",a),e.fillText(r,t,n)}function E7(e,t,n,r,i){if(typeof Image>"u")return;e._imgStore||(e._imgStore={});let s=e._imgStore[i];if(s)return e.drawImage(s,t-r,n-r,2*r,2*r);s=new Image,s.src=i,s.onload=()=>{e.drawImage(s,t-r,n-r,2*r,2*r)},e._imgStore[i]=s}function S7(e,t,n,r){e.fillRect(t-r,n-r*uh,2*r,2*r*uh),e.fillRect(t-r*uh,n-r,2*r*uh,2*r)}function A7(e,t,n,r){return e.beginPath(),e.moveTo(t-r,n),e.lineTo(t,n-r),e.lineTo(t+r,n),e.lineTo(t,n+r),e.fill()}function k7(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+TP*r,n+MP*r),e.lineTo(t+LP*r,n+PP*r),e.lineTo(t+NP*r,n+FP*r),e.lineTo(t+IP*r,n+RP*r),e.fill()}function C7(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+LP*r,n+PP*r),e.lineTo(t+IP*r,n+RP*r),e.lineTo(t+TP*r,n+MP*r),e.lineTo(t+NP*r,n+FP*r),e.fill()}function T7(e,t,n,r,i,s){switch(e.fillStyle=s,i){case"square":return e.fillRect(t-r,n-r,2*r,2*r);case"circle":return UP(e,t,n,r,s);case"cross":return S7(e,t,n,r);case"diamond":return A7(e,t,n,r);case"equilateral":return k7(e,t,n,r);case"star":return C7(e,t,n,r)}}function L7(e,t,n,r,i){e.fillRect(t-r/2,n-i/4,r*(1-Uf),i/2),e.beginPath(),e.moveTo(t+r*(1-Uf-.5),n-i/2),e.lineTo(t+r*(1-Uf-.5),n+i/2),e.lineTo(t+r/2,n),e.fill()}function N7(e,t,n,r,i,s,o){e.beginPath(),e.moveTo(t-r/2,n),e.lineTo(t+r/2,n),e.strokeStyle=s,e.lineWidth=i/2,e.setLineDash(o==="dashed"?l7:c7),e.stroke()}function I7(e,t,n,r,i){e.beginPath(),e.moveTo(t-r/2,n-i/2),e.lineTo(t-r/2,n+i/2),e.lineTo(t+r/2,n),e.fill()}function M7(e,t,n,r,i,s,o){return e.fillStyle=o,s==="line"&&e.fillRect(t-r/2,n-i/4,r,i/2),s==="arrow"?L7(e,t,n,r,i):s==="dashed"||s==="dotted"?N7(e,t,n,r,i,o,s):s==="tapered"?I7(e,t,n,r,i):void 0}function P7(e,t,n,r,i,s,o,a,l){e.setLineDash([]),e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),e.fillStyle=o,e.fill(),e.strokeStyle=a,e.lineWidth=l,e.stroke()}function F7(e,t,n,r,i,s,o,a){const l=.7*e.fontSize,c=3*l,d=(l+c)/2,u=n+e.innerMargin+c,h=u+c+e.innerMargin,g=r+2*c-.5*e.innerMargin,p=e.circleStrokeWidth;for(const m of[l,d,c])f7(t,u,g-m,m,a,p);ou(t,e.fontFamily,e.fontSize,e.fontColor,"left"),t.fillText(us(i),h,g+l-2*l),t.fillText(us(s),h,g+l-2*d),t.fillText(us(o),h,g+l-2*c)}function R7(e,t,n,r,i,s,o,a){const l=(e.widgetWidth-2*e.innerMargin)/3,c=e.fontSize,d=r-e.innerMargin/2,u=d+2*c,h=n+e.innerMargin;t.fillStyle=a,t.fillRect(h,d-c/2,l+1,c),t.fillRect(h+l,d-c/3,l+1,c/1.5),t.fillRect(h+2*l,d-c/6,l,c/3),ou(t,e.fontFamily,e.fontSize,e.fontColor,"center"),t.fillText(us(o),h+.5*l,u),t.fillText(us(s),h+1.5*l,u),t.fillText(us(i),h+2.5*l,u)}function D7(e,t,n,r){const i=r.outerMargin+jP(r),s=r.fontSize*Jg,o=i-.8*r.innerMargin;return t==="radius"||t==="width"?o+s*(n?3:2):o+Object.keys(e).length*s}function z7(e,t,n){const r={width:t.width,height:t.height};let i=!1;return!!(r.width&&r.height&&n)&&(i=e.position==="top"||e.position==="bottom"?U7(r,e,n,e.position==="bottom"):O7(r,e,n,e.position==="left"),i&&n.forEach(s=>m7(e,t,s)),i)}function O7(e,t,n,r){const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height;let a=t.outerMargin,l=r?t.outerMargin:e.width-i,c=1;n=n.slice().sort(u7);for(let d=0;d<n.length;++d){const u=n[d];if(a+u.height>o){if(a===t.outerMargin)return!1;a=t.outerMargin,c+=1,r?l+=i:l-=i}u.x=l,u.y=a,a+=u.height}return c<=s}function B7(e,t,n){let r=null;for(let i=0;i<t.length;++i){const s=t[i];s.isNode!==e.isNode&&t.length!==1||!(r===null||s.height<t[r].height)||(r=i)}if(r!=null){const i=t[r];i.content.push(e),i.height+=e.height+n.outerMargin}}function j7(e){let t=0;for(let n=1;n<e.length;++n)e[n].height>e[t].height&&(t=n);return t}function U7(e,t,n,r){n=n.slice();const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height-t.outerMargin,a=new Array(Math.min(s,n.length)),l=n.length;let c=0,d=0,u=0,h=0;for(let x=0;x<l;++x){const v=n[x];v.isNode?(c+=1,d+=v.height):(u+=1,h+=v.height)}const g=d+h,p=d/g,m=h/g;let _=Math.round(p*s);const y=Math.round(m*s);if(_>c?_=c:y>u&&(_=s-u),s===0)return!1;for(let x=0;x<a.length;x++)a[x]={content:[],height:0,isNode:x<_};for(let x=0;x<l;++x){const v=j7(n);B7(n[v],a,t),n.splice(v,1)}a.every(({content:x})=>x.length===1)?a.sort(p7):a.sort(g7);let f=t.outerMargin;for(let x=0;x<a.length;++x){const v=a[x];if(v.height>o)return!1;v.content.sort(h7);let w=0;for(let b=0;b<v.content.length;++b){const S=v.content[b];S.x=f,S.y=r?e.height-w-S.height-t.outerMargin:w+t.outerMargin,w+=S.height+t.outerMargin}f+=i}return!0}var $7=class extends it{constructor(){super(...arguments),this._enabled=!1,this._mustRefresh=!1,this._promises=[]}onMounted(){this._modules.events.on("newFrame",()=>{this._enabled&&this._mustRefresh&&this._layer.refresh()}).on(["resize","reloadFonts"],()=>{this._mustRefresh=!0})}enable(e={}){const t=this._settings;return this._settings=Se(Se({},hh),e),this._mustRefresh=!this._enabled||!this._sameOptions(t,this._settings),this._enabled?Promise.resolve():(this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(n=>{this._drawOnCanvas(this._settings,n.canvas,Fr());const r=this._promises;this._promises=[],r.forEach(i=>i()),this._mustRefresh=!1},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this.refresh())}_afterNextUpdate(){return new Promise(e=>this._promises.push(e))}_formatSettings(e,t){const n=Se(Se({},hh),e);return d7.forEach(r=>n[r]*=t),n}disable(){return this._enabled&&(this._enabled=!1,this._layer.destroy()),Promise.resolve()}enabled(){return this._enabled}refresh(){return this._mustRefresh=!0,this._modules.dom.refresh(),this._afterNextUpdate()}destroy(){this._enabled=!1,this._mustRefresh=!1,this._settings=Se({},hh),this._promises=[]}getOptions(){return this._enabled?Se({},this._settings):Se({},hh)}getCurrentOptions(){return this._settings}_sameOptions(e,t){return e===t||Object.keys(e).reduce((n,r)=>n&&e[r]===t[r],!0)}_drawOnCanvas(e,t,n){const r=this._formatSettings(e,n);z7(r,t,this._computeWidgetList(r))}exportOnCanvas(e,t,n){return this._drawOnCanvas(t,e,n)}export(e={}){const{width:t,height:n}=Se(Se({},this._modules.camera.getSize()),e),r=Fr(),i=Dn(t*r,n*r);return this._drawOnCanvas(e,i,r),Promise.resolve().then(()=>i)}_computeWidgetList(e){const t=[];return o7.forEach(({name:n,isNode:r})=>{const i=this._computeWidget(e,n,r);i&&t.push(i)}),t}_computeWidget(e,t,n){const r=this._computePropertyMapping(e,t,n);if(r){if(t!=="icon.content")return r;const i=this._getRulesForAttribute(n,"icon.font"),s=this._getRulesForAttribute(n,"icon.style");let o=null,a=null;if(i.length||(o="Arial",a="normal"),typeof i[0]=="string"&&(o=i[0],a=s[0]),o&&a)return r.iconFont=o,r.iconFontStyle=a,r}return null}_computePropertyMapping(e,t,n){const[r]=this._getRulesForAttribute(n,t),i=r&&r.mapping,s=i&&i.getValues(n);if(i&&s){const o=i.getField(),a={};return qi(s,(l,c)=>{l!==void 0&&c!=="undefined"&&(a[l]=a[l]||[],a[l].push(c))}),Object.keys(a).length===0?null:{isNode:n,title:e.titleFunction(o,t),styleProperty:t,dataProperty:o,mapping:a,height:D7(a,t,n,e)}}return null}_getRulesForAttribute(e,t){return this._modules.styleRules.getRuleList().map(n=>{const r=n.getDefinition();return an(e?r.nodeAttributes:r.edgeAttributes,t)}).filter(Ii).sort((n,r)=>n.mapping&&r.mapping?0:n.mapping?-1:1)}},eA={layer:VN,outerStroke:{color:lM,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:cM,minVisibleSize:0}},V7={layer:VN,color:lM,text:{backgroundColor:cM,minVisibleSize:0}},tA={duration:150,easing:"quadradicOut"},G7=class extends it{constructor(){super(...arguments),this._delay=16,this._manualTriggerDetection=!1,this._hovered=null,this._hoveredTextHidden=!1,this._onAnimate=({updatesPositions:e})=>{e&&this._hovered&&this._modules.graphics.isMoving(this._hovered)&&(this._manualTriggerDetection=!0,this._resetHover())},this._onBeforeNewFrame=()=>{if(this._manualTriggerDetection){this._manualTriggerDetection=!1,this._modules.captor.triggerDetection();const e=this._modules.captor.getPointedElement();e&&this._hover(e)}},this._onClear=()=>{this._hovered=null,this._timeout&&this._modules.dom.clearTimeout(this._timeout)},this._resetHover=()=>{this._hovered&&(this._unhover(this._hovered),this._modules.captor.triggerUnhover()),this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}}_setAnimationOptions(e){this._animationOptions={duration:(e==null?void 0:e.duration)!==void 0?e.duration:tA.duration,easing:(e==null?void 0:e.easing)!==void 0?e.easing:tA.easing},e==null||delete e.duration,e==null||delete e.easing}setRate(e){return this._delay=e,this}replaceNullColor(e,t){e&&an(e,t)===null&&Zi(e,t,this._modules.settings.get("backgroundColor"))}updateNodeAttributes(e,t){this._setAnimationOptions(e),this.replaceNullColor(e,"text.backgroundColor"),this._hoverClass.update({nodeAttributes:e,fullOverwrite:t}),this._hoverExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}updateEdgeAttributes(e,t){this.replaceNullColor(e,"text.backgroundColor"),this.replaceNullColor(e,"text.secondary.backgroundColor"),this._setAnimationOptions(e),this._hoverClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}getHoverClassDefinition(){return this._hoverClass.getDefinition()}onMounted(){this._registerSettings(),this._setAnimationOptions(null),this._hoverExtremityHighlightedClass=this._modules.classes.createClass({name:P_,isBuiltin:!0,nodeAttributes:eA}),this._hoverClass=this._modules.classes.createClass({name:Bc,isBuiltin:!0,nodeAttributes:eA,edgeAttributes:V7}),this._modules.events.on("mouseover",({target:e})=>e&&this._hover(e)).on("mouseout",({target:e})=>e&&this._unhover(e)).on("animate",this._onAnimate).on("beforeNewFrame",this._onBeforeNewFrame).on("mouseout",this._resetHover).on("clearGraph",this._onClear)}_registerSettings(){this._modules.settings.register("cursor.node","pointer",(e,t)=>{this._hovered&&this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("cursor.edge","pointer",(e,t)=>{this._hovered&&!this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("nodeHover",!0,e=>{!e&&this._hovered&&this._hovered.isNode&&this._unhover(this._hovered)}),this._modules.settings.register("edgeHover",!0,e=>{e||!this._hovered||this._hovered.isNode||this._unhover(this._hovered)})}_updateExtremityHighlightLayer(){const e=this._hoverClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._hoverExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}_removeTimeout(){this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}_hover(e){const t=e.isNode?"nodeHover":"edgeHover";this._modules.settings.get(t)&&e&&(this._removeTimeout(),this._timeout=this._modules.dom.setTimeout(()=>{this._setElementHighlight(!0,e),this._timeout=null},this._delay))}_unhover(e){this._removeTimeout(),this._hovered===e&&(this._setElementHighlight(!1,e),this._hoverExtremityHighlightedClass.clearNodes(),this._hovered=null)}_setElementHighlight(e,t){const n=this._modules.settings.get(t.isNode?"cursor.node":"cursor.edge");if(e?(this._modules.graphics.addCursorStyle(n),t.addClass(Bc,this._animationOptions),this._hovered=t):(this._modules.graphics.removeCursorStyle(n),t.removeClass(Bc,this._animationOptions)),t.isNode){const r=this._modules.graph.getAttribute(t.isNode,"textHidden"),i=t._index;e&&(this._hoveredTextHidden=r.get(i)!==0);const s=!e&&this._hoveredTextHidden;r.set(i,s)}else this._hoverExtremityHighlightedClass.clearNodes(),e&&t.getExtremities().addClass(P_,this._animationOptions)}},H7=class extends it{constructor(){super(...arguments),this.x=0,this.y=0}},W7=class{constructor(e,t){this._nodeMapping={valid:!1,values:{}},this._edgeMapping={valid:!1,values:{}},this._computeMapping=t,this._field=e,this._assignedRules=[]}getValue(e,t){const n=e.isNode,r=n?this._nodeMapping:this._edgeMapping;r.valid||(r.values=this._computeMapping(n),r.valid=!0);const i=e.getData(this._field);return Array.isArray(i)?t==="color"?i.map(s=>r.values[s]):r.values[i[0]]:r.values[i]}markAsInvalid(){this._nodeMapping.valid=!1,this._edgeMapping.valid=!1}getValues(e){return e?this._nodeMapping.values:this._edgeMapping.values}getField(){return this._field}isAssignedTo(e){return this._assignedRules.find(t=>t===e)}getAssignedRules(){return this._assignedRules.slice()}assignTo(e){this.isAssignedTo(e)||this._assignedRules.push(e)}unAssignTo(e){this._assignedRules=this._assignedRules.filter(t=>t!==e)}};function $P(e,t,n){const r=(t?e.getNodes():e.getEdges()).getData(n),i={};return r.forEach(s=>{if(!Array.isArray(s))return i[s]=1;s.forEach(o=>i[o]=1)}),"undefined"in i&&delete i[void 0],Object.keys(i).sort()}function q7(e,t,n,r){const{values:i={},fallback:s}=n,o=$P(e,r,t),a={};let l=0;for(let c=0;c<o.length;++c){const d=o[c];d in i?a[d]=i[d]:(a[d]=s[l],l=(l+1)%s.length)}return a}function X7(e,{nbSlices:t,minValue:n,maxValue:r}){if(Array.isArray(e))return e.slice();const{min:i=n,max:s=r}=e,o=(s-i)/t,a=[];for(let l=1;l<t;++l)a.push(i+o*l);return a}function Y7(e,t){if(Array.isArray(e))return e;const{min:n,max:r}=e,i=t.length+1,s=(r-n)/t.length,o=[];for(let a=0;a<i;a++)o.push(n+a*s);return o}function Z7(e,t,n,r){const{fallback:i,stops:s={},values:o,reverse:a}=n,l=$P(e,r,t);let c=1/0,d=-1/0;for(let p=0;p<l.length;p++){const m=+l[p];pm(m)&&(c=Math.min(c,m),d=Math.max(d,m),l[p]=m)}const u={};if(!isFinite(c)){for(let p=0;p<l.length;p++)u[l[p]]=i;return u}const h=X7(s,{nbSlices:Array.isArray(o)?o.length:o.nbSlices,minValue:c,maxValue:d}),g=Y7(o,h);a&&g.reverse();for(let p=0;p<l.length;++p){const m=l[p];if(isFinite(m)){let _=0;for(;_<h.length&&h[_]<=m;)_+=1;u[m]=g[_]}else u[m]=i}return u}var Q7=class extends it{constructor(){super(...arguments),this._mappingList=[]}onMounted(){this._modules.events.on(["addStyleRule","updateStyleRule"],({rule:e,options:t})=>{[...zc(t.nodeAttributes||{}),...zc(t.edgeAttributes||{})].forEach(n=>{n&&this._recursiveGetMapping(n).forEach(r=>r.assignTo(e.id))})}).on("removeStyleRule",({rule:e})=>{this._mappingList.forEach(t=>t.unAssignTo(e.id))}).on(["addNodes","addEdges","updateNodeData","updateEdgeData","removeNodes","beforeRemoveEdges","excludedStateChange","clearGraph"],()=>{this._mappingList.forEach(e=>{const t=e.getAssignedRules();e.markAsInvalid(),t.forEach(n=>this._modules.styleRules.refreshRule(n))}),this._modules.legend.refresh()})}_recursiveGetMapping(e,t=[]){if(!e)return t;if(e.mapping)return t.push(e.mapping),t;if(typeof e!="object")return t;const n=zc(e).map(r=>this._recursiveGetMapping(r));return t.concat(...n)}createMapping({field:e,values:t={},fallback:n}={field:""}){if(e=oa(e),Array.isArray(n)?n.length===0&&(n=[void 0]):n=[n],!aa(t))throw new Error('"mapping" should be an object');return this._createMappingFunction(q7,e,{values:t,fallback:n})}createSlices({field:e,fallback:t,stops:n={},values:r,reverse:i=!1}={field:"",values:[]}){if(e=oa(e),Array.isArray(r)||r.nbSlices||(r.nbSlices=7),Array.isArray(n)&&Array.isArray(r)&&n.length!==r.length-1)throw new Error("there should be exactly one more value that stops");return this._createMappingFunction(Z7,e,{fallback:t,stops:n,values:r,reverse:i})}_createMappingFunction(e,t,n){const r=new W7(t,s=>e(this._modules.graph,t,n,s));this._mappingList.push(r);const i=(s,o,a)=>r.getValue(s,a);return i.mapping=r,i}createTemplate(e){if(typeof e!="string")throw new TypeError('"template" should be a string');const t=[];let n=0,r=!1;for(;!r;){let i=-1;const s=e.indexOf("{{",n);s!==-1&&(i=e.indexOf("}}",s+2)),i!==-1?(t.push(e.substring(n,s)),t.push(e.substring(s+2,i)),n=i+2):(t.push(e.slice(n)),r=!0)}return function(i){let s=t[0];for(let o=1;o<t.length;o+=2)s+=i.getData(t[o]),s+=t[o+1];return s}}},fa=class{constructor({duration:e,enabled:t}){this._duration=e||0,this._removalDuration=e||0,this.enabled=!1,this.shouldUndo=!1,this.destroyed=!1,this.shouldDo=t!==!1,this.shouldAnimate=this.shouldDo,this._error=null,this._whenApplied=new Promise((n,r)=>{this._resolveFunction=n,this._rejectFunction=r})}getDuration(){return this._duration}getAnimationDuration(e=!0){return this.shouldAnimate?e?this._duration:this._removalDuration:0}setDuration(e){e!==void 0&&(this._duration=e)}getRemovalDuration(){return this._removalDuration}setRemovalDuration(e){e!==void 0&&(this._removalDuration=e)}getContext(){return this._context}setContext(e){this._context=e}getError(){return this._error}setError(e){this._error=e}getOgma(){return this._ogma}resolve(){this._resolveFunction(this)}reject(){const e=this._error;return this._error=null,this._rejectFunction(e)}getName(){throw new Error("type not set")}getId(){return this._id}whenApplied(){return this._whenApplied}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}initialize({id:e,ogma:t}){this._id=e,this._ogma=t,this.resetContext()}enable(e){return this._ogma.modules.transformations.enable(this,e||0)}disable(e){return this._ogma.modules.transformations.disable(this,e||0)}toggle(e){return this.enabled?this.disable(e):this.enable(e)}getIndex(){return this._ogma.modules.transformations.getIndex(this)}setIndex(e){return this._ogma.modules.transformations.setIndex(this,e).then(()=>this)}setOptions(e){return this._ogma.modules.transformations.setOptions(this,Se({duration:this._duration,enabled:this.enabled},e)).then(()=>this)}_setOptions(e){this._duration=e.duration===void 0?this._duration:e.duration}destroy(e){return this.destroyed=!0,this._ogma.modules.transformations.remove(this,e||0)}refresh(){return this._ogma.view.afterNextFrame().then(()=>this._refresh())}_refresh(){return this._ogma.modules.transformations.refresh(!0)}resetContext(){this._context={virtualNodes:this._ogma.nodeList(),virtualEdges:this._ogma.edgeList()}}run(){throw new Error("run function not implemented")}cleanup(){throw new Error("cleanup function not implemented")}undo(){throw new Error("undo function not implemented")}onClearGraph(){this.resetContext()}},VP=class extends fa{constructor(e){super(e),this._getNodesToFilter=e.getNodesToFilter,this._getEdgesToFilter=e.getEdgesToFilter}run(){const e=this._ogma,t=this.getAnimationDuration(),n=this._getNodesToFilter(e),r=this._getEdgesToFilter(e,n);return Promise.all([n.addClass(zs,t),r.addClass(zs,t)]).then(()=>(n.setExcluded(!0),r.setExcluded(!0),St(Se({},this._context),{nodes:n,edges:r})))}undo(){const e=this.getAnimationDuration(),{nodes:t,edges:n}=this._context;return t.setExcluded(!1),n.setExcluded(!1),t.addClass(zs),n.addClass(zs),Promise.all([t.removeClass(zs,e),n.removeClass(zs,e)])}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodes:this._ogma.nodeList(),edges:this._ogma.edgeList()})}cleanup(){return Promise.resolve()}get context(){return this._context}},K7=class extends VP{constructor(e){super(St(Se({},e),{getNodesToFilter:t=>t.createNodeList(),getEdgesToFilter:t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}))}getName(){return"edge-filter"}_setOptions(e){super._setOptions(e),this._getEdgesToFilter=t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}},J7=class extends VP{constructor(e){const t=e.criteria;super(St(Se({},e),{getNodesToFilter:n=>n.getNodes().filter(r=>!t||!t(r)),getEdgesToFilter:(n,r)=>r.getAdjacentEdges()}))}getName(){return"node-filter"}_setOptions(e){super._setOptions(e);const t=e.criteria;this._getNodesToFilter=n=>n.getNodes().filter(r=>!t||!t(r))}},eH=class extends it{addNodeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new J7(e))}addEdgeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new K7(e))}},nA=e=>e.stopPropagation(),tH=(e,t)=>{t.style.position="absolute",t.style.left="0",t.style.top="0",e.appendChild(t)},nH=e=>t=>{for(;e.firstChild;)e.removeChild(e.firstChild);for(let n=0;n<t.length;++n)tH(e,t[n])},rH=(e,t)=>{const n=document.createElement("img");return new Promise(r=>{n.addEventListener("load",()=>{t.drawImage(n,0,0,t.canvas.width,t.canvas.height),r(t)});const i=`data:image/svg+xml;base64,${btoa(new XMLSerializer().serializeToString(e))}`;n.src=i})},iH=class extends it{constructor(){super(...arguments),this._elements=[],this._layers=[],this.readyCallbacks=[],this.render=(e,t,n,r)=>{const i=r&&r.pixelRatio?r.pixelRatio:Fr(),{zoom:s,x:o,y:a,width:l,height:c}=r||this._modules.camera.getView();if(s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=i*s;n.noClear||e.clearRect(0,0,l*i,c*i),n.isStatic||(e.save(),e.translate(l*i/2,c*i/2),e.rotate(r?-(r.angle||0):-this._modules.camera.getAngle()),e.translate(-o*d,-a*d),e.scale(d,d)),t(e),n.isStatic||e.restore()},this.createCanvas=(e,t)=>{const{width:n,height:r}=this._modules.camera.getSize(),i=t.canvas||Dn(n,r),s=t.ctx||i.getContext("2d"),o=(d=e)=>{s&&this.render(s,d,t)},a=()=>{const{width:d,height:u}=this._modules.camera.getSize(),h=Fr();i.width=d*h,i.height=u*h,i.style.width=`${d}px`,i.style.height=`${u}px`,o()};let l,c;if(t.isStatic)this._modules.dom.addDirectWindowEventListener("resize",a),l=()=>{this._modules.dom.removeDirectWindowEventListener("resize",a)};else{let d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom(),h=!1;const g=0;let p;const m=500,_=()=>{h||(o(),h=!0,d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom())},y=()=>{h||_();const{x:v,y:w}=this._modules.camera.getCenter(),b=v-d.x,S=w-d.y,A=-b*u,C=-S*u,k=this._modules.camera.getZoom()/u,N=-this._modules.camera.getAngle();i.style.transform=`
          scale(${k})
          rotate(${-N}rad)
          translateX(${A}px)
          translateY(${C}px)
          rotate(${N}rad)
        `.replace(/\n/g,"")};c=()=>!h||(o(),h=!1,i.style.transform="scale(1) translateX(0px) translateY(0px)",!1);const f=v=>{p&&clearTimeout(p),_()},x=v=>{Date.now()<g&&p&&clearTimeout(p),p=setTimeout(c,v.duration+m),_()};this._modules.events.on("dragStart",f).on("zoomStart",x).on("dragEnd",c).on(["viewChanged","zoom","rotate","move","animate"],y),this._modules.dom.addDirectWindowEventListener("resize",c),this._modules.dom.addDirectWindowEventListener("resize",a),this._modules.events.on("resize",a),l=()=>{this._modules.events.off(a).off(f).off(x).off(c).off(y),this._modules.dom.removeDirectWindowEventListener("resize",c),this._modules.dom.removeDirectWindowEventListener("resize",a)}}return i.style.touchAction="none",i.style.pointerEvents="none",a(),{element:i,removeListeners:l,refresh:d=>{c&&!c()||o(d)},clear:()=>s==null?void 0:s.clearRect(0,0,i.width,i.height)}},this.createSVG=e=>{const{element:t}=e;t.style["pointer-events"]="none";const n=()=>{e.draw(e.element)},r=i=>{let{zoom:s,x:o,y:a,width:l,height:c}=i||this._modules.camera.getView();if(l=Math.floor(l),c=Math.floor(c),s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=l/2/s,u=c/2/s,h=-this._modules.camera.getAngle(),g=o-d,p=a-u,m=l/s,_=c/s;t.style.width=`${l}px`,t.style.height=`${c}px`,t.setAttribute("width",`${l}`),t.setAttribute("height",`${c}`),t.setAttribute("viewBox",`${g} ${p} ${m} ${_}`),t.setAttribute("transform",`rotate(${180*h/Math.PI})`)};return this._modules.events.on(["viewChanged","zoom","rotate","move","animate"],()=>r()),t.addEventListener("mousemove",nA),r(),n(),{element:t,removeListeners:()=>{this._modules.events.off(r)},updateTransformation:r,refresh:n}},this._createOverlay=e=>{const t=()=>{const{element:i,position:s}=e,{zoom:o,x:a,y:l,width:c,height:d}=this._modules.camera.getView();if(o===void 0||a===void 0||l===void 0||c===void 0||d===void 0)return null;const u=o,h=c/2,g=d/2,p=-this._modules.camera.getAngle(),m=(s.x-a)*u,_=(s.y-l)*u;i.style.transformOrigin="top left",i.style.transform=`translate(${h}px, ${g}px) rotate(${p}rad) translate(${m}px, ${_}px) ${e.scaled?`scale(${u}, ${u})`:""}`};this._modules.events.on(["viewChanged","zoom","rotate","move","animate"],t);const{element:n,size:r}=e;return r&&(n.style.width=`${r.width}`,n.style.height=`${r.height}`),n.addEventListener("mousemove",nA),t(),{element:n,removeListeners:()=>{this._modules.events.off(t)},updateTransformation:t}},this.addLayer=(e,t="layer",n=this._elements.length)=>{const r=typeof e=="string"?v_(e):e;this._elements.push(r);const i={element:r};return i.type=t,i.getLevel=()=>this._elements.indexOf(r),i.moveTo=s=>(this._elements.splice(s,0,this._elements.splice(i.getLevel(),1)[0]),this._updateDom(this._elements),i),i.moveUp=()=>i.moveTo(i.getLevel()+1),i.moveDown=()=>i.moveTo(i.getLevel()-1),i.moveToTop=()=>i.moveTo(this._elements.length-1),i.moveToBottom=()=>i.moveTo(0),i.destroy=()=>this._removeLayer(i),i.hide=()=>(i.element&&(i.element.style.visibility="hidden"),i),i.show=()=>(i.element&&(i.element.style.visibility="visible"),i),i.isHidden=()=>i.element.style.visibility==="hidden",i.setOpacity=s=>(i.element&&(i.element.style.opacity=s.toString()),i),i.getOpacity=()=>parseFloat(i.element.style.opacity||"1"),i.setPosition=s=>{if(i.element){const o=i.element.style;o.left=`${s.x}px`,o.top=`${s.y}px`}return i},i.setSize=s=>{if(i.element&&s){const{width:o,height:a}=s,l=i.element.style;l.width=`${o}px`,l.height=`${a}px`}return i},i.moveTo(n),this._layers.push(i),i},this.addCanvasLayer=(e,t={isStatic:!1,noClear:!1},n=this._elements.length)=>{const r=this.createCanvas(e,t),{element:i,removeListeners:s,refresh:o,clear:a}=r,l=this.addLayer(i,"canvas",n);return i.classList.add("ogma-canvas-layer"),l.destroy=()=>this._removeLayer(l,s),l.refresh=o,l.clear=a,l.draw=e,l.options=t,l},this.addOverlay=(e,t=this._elements.length)=>{typeof e.element=="string"&&(e.element=v_(e.element)),e.scaled=e.scaled===void 0||e.scaled;const n=this._createOverlay(e),{element:r,removeListeners:i,updateTransformation:s}=n,o=this.addLayer(r,"overlay",t);return o._onViewChange=s,o._onDestroy=i,o.destroy=()=>this._removeLayer(o,i),o.setPosition=a=>(e.position=a,s(),o),e.size&&o.setSize(e.size),o},this.addSVGLayer=(e,t=this._elements.length)=>{const n=this.createSVG(e),{element:r,refresh:i,removeListeners:s,updateTransformation:o}=n,a=this.addLayer(r,"svg",t);return a._onViewChange=o,a._onDestroy=s,a.destroy=()=>this._removeLayer(a,s),a.refresh=i,a}}canvasToImage(e,t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");this.render(r,e.draw,St(Se({},e.options),{noClear:!0}),St(Se({},t),{pixelRatio:1}));const i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttribute("href",n.toDataURL("image/png")),i.setAttribute("width",n.width),i.setAttribute("height",n.height),i}exportPNG(e,t,n){const r=e.getContext("2d");let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?(this.render(r,s.draw,St(Se({},s.options),{noClear:!0}),n),Promise.resolve()):(s._onViewChange&&s._onViewChange(n),rH(s.element,r)))}),i}exportSVG(e,t,n,r){let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?Promise.resolve(this.canvasToImage(s,n)):(s._onViewChange&&s._onViewChange(n),s.element.cloneNode(!0))).then(o=>r?e.insertBefore(o,e.querySelector(".ogma-nodes").parentNode||e.firstChild):e.appendChild(o))}),i}export(e){const t=this._layers.sort((i,s)=>i.getLevel()-s.getLevel()).filter(i=>i.type==="canvas"||i.type==="svg"),n=this.ogmaLayer?this.ogmaLayer.getLevel():0,r=e.below?t.filter(i=>i.getLevel()<n):t.filter(i=>i.getLevel()>n);return e.canvas?this.exportPNG(e.canvas,r,e.view):this.exportSVG(e.svg,r,e.view,e.below)}onMounted(){const e=this._modules.graphics.getDomElement();this._updateDom=nH(e);const t=e.firstChild;t&&(this.ogmaLayer=this.addLayer(t)),this.runCallbacks()}runCallbacks(){this.ogmaLayer&&(this.readyCallbacks.forEach(e=>e()),this.readyCallbacks=[])}whenReady(e){this.readyCallbacks.push(e),this.ogmaLayer&&this.runCallbacks()}_removeLayer(e,t){return e.element&&e.element.parentNode&&(this._elements.splice(e.getLevel(),1),t&&t(),e.element=null,this._updateDom(this._elements)),this._layers=this._layers.filter(n=>n!==e),e}destroy(){this._elements=[]}},sH=class extends it{onMounted(){const e=this._modules.graph;this._nodeList=e.getNodeAttribute("object"),this._edgeList=e.getEdgeAttribute("object"),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target"),this._excludedList=e.getEdgeAttribute("excluded"),this._virtualList=e.getEdgeAttribute("virtual")}shortestPath(e={source:void 0,target:void 0}){const{source:t,target:n,directed:r=!1,edges:i=this._ogma.getEdges(),nodes:s=this._ogma.getNodes(),edgeCostFunction:o=()=>1,heuristicFunction:a=()=>0}=e,l=i.reduce((m,_)=>(m[_._index]=!0,m),{}),c=s.reduce((m,_)=>(m[_._index]=!0,m),{}),d=this._modules.graph.getNode(t),u=this._modules.graph.getNode(n);if(!d)throw new Error("the source is not a node");if(!u)throw new Error("the target is not a node");const h=d._index,g=u._index;c[h]=!0,c[g]=!0;let p=null;if(h===g)p={nodes:d.toList(),edges:this._modules.graph.edgeList()};else{const m=this._modules.graph.getNodeMaxIndex()+1,_=new Int32Array(m),y=new Float32Array(m),f=new Float32Array(m),x=new Set,v=new gN(f);for(y.fill(1/0),f.fill(1/0),_.fill(-1),v.add(h),y[h]=0,f[h]=a(d,u);!v.isEmpty();){const w=v.removeMin();if(w===g){p=this._constructPath(_,h,g);break}x.add(w);const b=this._modules.graph.getAdjacentDirections(w);if(b)for(let S=0;S<b.length;++S){const A=b[S],C=this._modules.graph.getEdgeIndexesInDirection(A);let k=-1,N=0,R=-1;for(let B=0;B<C.length;++B){const H=C[B],F=this._sourceList.get(H),T=this._targetList.get(H);if(F===T||!c[F]||!c[T]||r&&w!==F||!l[H])continue;const W=o(this._edgeList.get(H));(k===-1||W<N)&&(k=H,N=W,R=F===w?T:F)}if(R!==-1||x.has(R)){const B=y[w]+N;if(!v.has(R)||B<y[R]){const H=this._nodeList.get(w);_[R]=k,y[R]=B,f[R]=B+a(H,u),v.add(R)}}}}}return Promise.resolve(p)}_constructPath(e,t,n){const r=[n],i=[];let s=n;for(;s!==t;){const o=e[s],a=this._sourceList.get(o),l=this._targetList.get(o);s=s===a?l:a,r.push(s),i.push(o)}return r.reverse(),i.reverse(),{nodes:this._modules.graph.nodeList(new Uint32Array(r)),edges:this._modules.graph.edgeList(new Uint32Array(i))}}detectCycle(e,t){const n=t.getSource(),r=t.getTarget(),i=LN(e._indexes,n._indexes,r._indexes);return i?this._modules.graph.nodeList(new Uint32Array(i)).dedupe():this._modules.graph.nodeList()}getAllSimpleCycles(e,t){const n=t.getSource(),r=t.getTarget();return new IN(e._indexes,n._indexes,r._indexes).getCycles().map(i=>this._modules.graph.nodeList(new Uint32Array(i)))}minimumSpanningTree(e,t,n){const r=this._modules.graph;e=r.getNodes(e),t=r.getEdges(t);const i=new Set;e.forEach(l=>i.add(l._index));const s=r.getConnectedComponents(e,{filter:l=>i.has(l),internalIndexes:!0}),o={};s.forEach((l,c)=>l.forEach(d=>o[d]=c));const a=[];return t.forEach(l=>{const c=o[l.getSource()._index];c!==void 0&&(a[c]===void 0&&(a[c]=[]),a[c].push(l._index))}),s.map((l,c)=>{const d=MN(l,a[c]||[],u=>r.edge(u).getSource()._index,u=>r.edge(u).getTarget()._index,n?u=>n(r.edge(u)):void 0);return{nodes:r.nodeList(new Uint32Array(l)),edges:r.edgeList(new Uint32Array(d))}})}bfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.unshift(d)})}}}dfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.push(d)})}}}betweenness({nodes:e,edges:t,directed:n,normalized:r}){const i=this._ogma.getNodes().subtract(e),s=this._ogma.getEdges().subtract(t).concat(i.fastGetAdjacentElements().edges).dedupe();return PN({adjacency:e.map(o=>{const a=this._ogma.edgeList(this._ogma.modules.graph.topology.getAdjacentElements(!1,o.toList()._indexes,{direction:n?"out":"both"})).subtract(s).dedupe();return{id:o._index,adj:a.map(l=>l.getSource()._index===o._index?l.getTarget()._index:l.getSource()._index)}}),directed:n,normalized:r})}},rA=(e,t)=>{if(!e)throw new Error("Traversal options are required");if(typeof e.onNode!="function")throw new Error("onNode callback is required");if(e.root=t.getNode(e.root),!e.root)throw new Error(`Root node '${e.root}' does not exist`);return e},gh=()=>({nodes:void 0,edges:void 0}),oH=class extends Kt{constructor(){super(...arguments),this.shortestPath=e=>this._ogma.modules.algorithms.shortestPath(e),this.hasCycle=e=>{const{nodes:t,edges:n}=e||gh();return this.detectCycle({nodes:t,edges:n})!==null},this.getAllSimpleCycles=e=>{let{nodes:t,edges:n}=e||gh();return t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0})),this._ogma.modules.algorithms.getAllSimpleCycles(t,n)},this.detectCycle=e=>{let{nodes:t,edges:n}=e||gh();t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0}));const r=this._ogma.modules.algorithms.detectCycle(t,n);return r.size?r:null},this.minimumSpanningTree=e=>{const{nodes:t,edges:n,edgeCostFunction:r}=e||St(Se({},gh()),{edgeCostFunction:void 0});return this._ogma.modules.algorithms.minimumSpanningTree(t,n,r)},this.dfs=e=>this._ogma.modules.algorithms.dfs(rA(e,this._ogma.modules.graph)),this.bfs=e=>this._ogma.modules.algorithms.bfs(rA(e,this._ogma.modules.graph)),this.betweenness=(e={})=>(e={nodes:e.nodes||this._ogma.getNodes(),edges:e.edges||this._ogma.getEdges(),directed:e.directed!==void 0&&e.directed,normalized:e.normalized===void 0||e.normalized},this._ogma.modules.algorithms.betweenness(e)),this.getMinimumEnclosingCircle=e=>{if(!e||e.size===0)throw new Error("getMinimumEnclosingCircle: no nodes provided");const t=e.getAttribute("x"),n=e.getAttribute("y"),r=e.getAttribute("radius"),[i,s,o]=em(t,n,r);return{x:i,y:s,radius:o}},this.circlePack=({nodes:e,margin:t=0,origin:n={x:0,y:0},duration:r=0,easing:i="linear",sort:s})=>{if(!e||e.size===0)throw new Error("circlePack: no nodes provided");let o=e.map((l,c)=>({index:c,radius:+l.getAttribute("radius")+t,id:l.getId()}));if(s)if(s==="asc")o=o.sort((l,c)=>c.radius-l.radius);else if(s==="desc")o=o.sort((l,c)=>l.radius-c.radius);else{if(typeof s!="function")throw new Error("circlePack: invalid sort option");o=o.sort((l,c)=>s(e.get(l.index),e.get(c.index)))}if(n&&(!isFinite(n.x)||!isFinite(n.y)))throw new Error("circlePack: invalid origin");const a=xN(o,n.x,n.y).reduce((l,{index:c,x:d,y:u})=>(l[c]={x:d,y:u},l),new Array(e.size));return e.setAttributes(a,{duration:r,easing:i})}}},aH=class{getHoveredElement(){return this.modules.captor.getPointedElement()}getPointerInformation(){return this.modules.captor.getCursorInformation()}},lH=class extends Kt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.geo.enable(e),this.disable=e=>this._ogma.modules.geo.disable(e),this.setOptions=e=>this._ogma.modules.geo.setOptions(e),this.getOptions=()=>this._ogma.modules.geo.getOptions(),this.getMap=()=>this._ogma.modules.geo.getMap(),this.enabled=()=>this._ogma.modules.geo.isEnabled(),this.getCenter=()=>this._ogma.modules.geo.getCenter(),this.getView=()=>this._ogma.modules.geo.getView(),this.getZoom=()=>this._ogma.modules.geo.getZoom(),this.setZoom=e=>this._ogma.modules.geo.setZoom(e),this.setView=(e,t,n)=>this._ogma.modules.geo.setView(e,t,n),this.setCenter=(e,t)=>this._ogma.modules.geo.setCenter(e,t),this.toggle=e=>this._ogma.modules.geo.toggle(e),this.resetCoordinates=()=>this._ogma.modules.geo.resetCoordinates(),this.getUnprojectedCoordinates=e=>this._ogma.modules.geo.getUnprojectedCoordinates(this._ogma.getNodes(e))}},cH=class extends Kt{constructor(){super(...arguments),this.isKeyPressed=e=>this._ogma.modules.keyboard.isPressed(e),this.resetKeys=()=>{this._ogma.modules.keyboard.resetKeys()}}},dH=class extends Kt{addLayer(e,t){return this._ogma.modules.layers.addLayer(e,"layer",t)}addCanvasLayer(e,t,n){return this._ogma.modules.layers.addCanvasLayer(e,t,n)}addOverlay(e,t){if(!e.position)throw new Error("options.position argument is required");return this._ogma.modules.layers.addOverlay(e,t)}addSVGLayer(e,t){return e.element||(e.element=document.createElementNS("http://www.w3.org/2000/svg","svg")),e.draw||(e.draw=()=>{}),this._ogma.modules.layers.addSVGLayer(e,t)}},iA={name:"concentric",configure:function(e,{graph:t,data:n}){if(e.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');const r=St(Se({},e),{centralNode:function(v,w){return w instanceof Qi?w:v.getNode(w)}(t,e.centralNode)}),{centralNode:i,nodes:s}=r,o=t.getNode(i);if(o===void 0)throw new Error('concentric layout: "centralNode" parameter is not valid');const a=o._index,{x:l,y:c}=o.getPosition(),d=s.getAttribute("layoutable"),u=t.getNodes(s)._indexes,h=Array.from(u.filter((x,v)=>d[v]));h.indexOf(a)===-1&&h.push(a);const g=t.getNodeAttribute("radius").getMultiple(u),p=function(v,w,b,S){if(w)return w==="random"?"random":w==="radius"?S.slice():w==="degree"?b.getDegree():v.getProperty(b,w)}(n,r.sortBy,s,g),m=h.reduce((x,v,w)=>(x[v]=w,x),{}),_=h.map((x,v)=>v),y=new Set(e.edges.getExtremities()._indexes),f=h.map(x=>t.topology.getAdjacentElements(!0,new Uint32Array([x])).filter(v=>y.has(v)).map(v=>m[v]));return{sourceNodeIndex:h.indexOf(a),centerX:typeof r.centerX=="number"?r.centerX:l,centerY:typeof r.centerY=="number"?r.centerY:c,list:h,indexes:_,size:h.length,totalSize:h.length,attributes:{adjacentNodes:f,size:g},sortAttr:p,clockwise:r.clockwise===void 0||r.clockwise,circleHopRatio:r.circleHopRatio||5,allowOverlap:!!r.allowOverlap}},context:function(){return{dijkstra:function(e,t,n,r,i){const s=Math.pow(2,31)-1,o=new Int32Array(r),a=new Int32Array(r),l=new Int8Array(r);o.fill(s),a.fill(-1);for(let d=0;d<r;++d){const u=t[d];u!==void 0&&(o[u]=s,a[u]=-1)}o[i]=0;let c=0;for(;c!==-1;){let d=s;c=-1;for(let u=0;u<n;++u){const h=t[u],g=o[h];!l[h]&&g<d&&(d=g,c=h,l[h]=1)}if(c>-1){const u=e[c],h=d+1;u.forEach(g=>{const p=o[g];h<p&&(o[g]=h,a[g]=c)})}}return o},determinePropertyType:function(e,t,n){return t.some(r=>e[r]!=="number")?"string":"number"}}},update:function(e,t){const{attributes:n,indexes:r,size:i}=e,{sourceNodeIndex:s,centerX:o,centerY:a,sortAttr:l}=e,c=n.adjacentNodes,d=n.size,u=new Array(e.totalSize),h=new Array(e.totalSize),g=t.dijkstra(c,r,e.size,e.totalSize,s);let p=0;const m={};for(let b=0;b<i;b++){const S=d[r[b]];S>p&&(p=S)}const _=p*e.circleHopRatio;let y=0,f=0;const x=Math.PI/9;for(let b=0;b<i;b++){const S=r[b],A=g[S];let C=m[A];C||(C=[],m[A]=C),C.push(S)}const v=function(S,A,C){if(S==="random")return function(){return Math.random()-.5};if(S)return C.determinePropertyType(S,A,A.length)==="number"?function(k,N){return S[k]-S[N]}:function(k,N){return S[k]<S[N]?-1:1}}(l,r,t),w=l==="random"||l;return Object.keys(m).sort((b,S)=>parseInt(b)-parseInt(S)).forEach((b,S)=>{const A=m[b],C=A.length;let k=0,N=f;const R=2*Math.PI/C;if(S!==0&&!e.allowOverlap){const B=2*Math.PI*y;let H=0;k+=A.reduce((F,T)=>F+d[T],0),H=2*k*Math.SQRT2,H>B&&(y+=H/(2*Math.PI)-y)}w&&(A.sort(v),e.clockwise||A.reverse());for(let B=0;B<C;B++){const H=A[B];u[H]=Math.cos(N)*y+o,h[H]=Math.sin(N)*y+a;const F=d[H];N+=R*(e.allowOverlap?1:F/k*C)}y+=_,f+=x}),{x:u,y:h,indexes:e.list}},isRunning:function(){return!1},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}}},uH=e=>(e.modules.layouts.register(iA),t=>e.modules.layouts.start(iA.name,t)),$v=Object.defineProperty,hH=Object.defineProperties,gH=Object.getOwnPropertyDescriptors,sA=Object.getOwnPropertySymbols,pH=Object.prototype.hasOwnProperty,mH=Object.prototype.propertyIsEnumerable,fH=Math.pow,oA=(e,t,n)=>t in e?$v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iy=(e,t)=>{for(var n in t||(t={}))pH.call(t,n)&&oA(e,n,t[n]);if(sA)for(var n of sA(t))mH.call(t,n)&&oA(e,n,t[n]);return e},_H=(e,t)=>hH(e,gH(t)),Pe=(e,t)=>$v(e,"name",{value:t,configurable:!0}),Pl=(e,t)=>{for(var n in t)$v(e,n,{get:t[n],enumerable:!0})},GP=class{constructor(e){this.promise=new Promise(e)}then(e){return this.promise.then(e)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};Pe(GP,"SimulationPromise");var HP=class{constructor(e){let t=WP();this.c=1,this.s0=t(" "),this.s1=t(" "),this.s2=t(" "),this.s0-=t(String(e)),this.s0<0&&(this.s0+=1),this.s1-=t(String(e)),this.s1<0&&(this.s1+=1),this.s2-=t(e),this.s2<0&&(this.s2+=1),t=null}next(){return()=>{const e=2091639*this.s0+23283064365386963e-26*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=0|e)}}nextDouble(){const e=this.next();return()=>e()+11102230246251565e-32*(2097152*e()|0)}nextInt32(){const e=this.next();return()=>4294967296*e()|0}};function WP(){let e=4022871197;return t=>{t=t.toString();for(let n=0;n<t.length;n++){e+=t.charCodeAt(n);let r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 23283064365386963e-26*(e>>>0)}}function Vv(e){return new HP(e.toString()).next()}Pe(HP,"Alea"),Pe(WP,"Mash"),Pe(Vv,"impl");var yH=42,qP=Vv(yH);function Gv(e){qP=Vv(e)}function Gn(){return 1e-6*(qP()-.5)}function XP(e,t){return e<t?e*t+Math.pow(t-e-1,2)/4:e*t+Math.pow(e-t-1,2)/4}function YP(e,t){return(e+t)*(e+t+1)/2+t}Pe(Gv,"setSeed"),Pe(Gn,"randomize"),Pe(XP,"unorderedPair"),Pe(YP,"orderedPair");var aA=0,ZP=typeof window>"u",xH=typeof performance<"u"&&performance.now?performance:Date,vH=ZP?e=>{const t=xH.now(),n=Math.max(0,16-(t-aA)),r=setTimeout(()=>e(t+n),n);return aA=t+n,r}:window.requestAnimationFrame,bH=ZP?e=>clearTimeout(e):window.cancelAnimationFrame;function QP(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.x=t[r],i.y=n[r]}}Pe(QP,"defaultUpdate");var lA=Pe(e=>{},"noop"),$f={movementRatio:7e-8,surfaceRatio:.0025},KP=class{constructor(e={}){this.onUpdate=lA,this.update=QP,this.nextTick=vH,this.cancelTick=bH,this.onEnd=lA,this.charge=10,this.maxIterations=300,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=1,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=300,this.scaling=1,this.defaultRadius=1,this.autoStop=$f,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in e?e.autoStop&&(typeof e.autoStop=="boolean"?e.autoStop=$f:e.autoStop=iy(iy({},e.autoStop),$f)):e.steps;for(const t in e)e[t]!==void 0&&(this[t]=e[t])}};function JP(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort((o,a)=>a.h-o.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,s=0;for(const o of e)for(let a=r.length-1;a>=0;a--){const l=r[a];if(!(o.w>l.w||o.h>l.h)){if(o.x=l.x,o.y=l.y,s=Math.max(s,o.y+o.h),i=Math.max(i,o.x+o.w),o.w===l.w&&o.h===l.h){const c=r.pop();a<r.length&&(r[a]=c)}else o.h===l.h?(l.x+=o.w,l.w-=o.w):o.w===l.w?(l.y+=o.h,l.h-=o.h):(r.push({x:l.x+o.w,y:l.y,w:l.w-o.w,h:o.h}),l.y+=o.h,l.h-=o.h);break}}}function eF(e,t=1){return JP(e.map(n=>(n.w+=n.maxr+t,n.h+=n.maxr+t,n)).sort((n,r)=>n.w*n.h-r.w*r.h))}function tF(e){for(let t=e.length-1;t>=0;t--){let n=Math.floor(Math.random()*(t+1));n=Math.max(Math.min(n,t),0);const r=e[t];e[t]=e[n],e[n]=r}return e}Pe(KP,"Settings"),Pe(JP,"potpack"),Pe(eF,"boxpack"),Pe(tF,"shuffle");var wH=Pe(e=>e.x,"getX"),EH=Pe(e=>e.y,"getY"),SH=Pe(e=>e.r,"getR");function mm(e,t=wH,n=EH,r=SH){const i=tF(e.slice()),s=i.length;let o,a=[],l=0;for(;l<s;){const c=i[l];o&&Hv(o,t(c),n(c),r(c))?l++:(a=nF(a,c,t,n,r),o=rF(a,t,n,r),l=0)}return o}function nF(e,t,n,r,i){const s=n(t),o=r(t),a=i(t),l={x:s,y:o,r:a};if(Gh(l,e,n,r,i))return[t];for(let c=0;c<e.length;++c){const d=e[c],u=n(d),h=r(d),g=i(d);if(!bc(l,u,h,g)&&Gh(nl(u,h,g,s,o,a),e,n,r,i))return[e[c],t]}for(let c=0;c<e.length-1;c++)for(let d=c+1;d<e.length;d++){const u=e[c],h=e[d],g=n(u),p=r(u),m=i(u),_=n(h),y=r(h),f=i(h);if(!bc(nl(g,p,m,_,y,f),s,o,a)&&!bc(nl(g,p,m,s,o,a),_,y,f)&&!bc(nl(_,y,f,s,o,a),g,p,m)&&Gh(Wv(g,p,m,_,y,f,s,o,a),e,n,r,i))return[e[c],e[d],t]}throw new Error}function bc(e,t,n,r){const i=e.r-r,s=t-e.x,o=n-e.y;return i>=0&&i*i>s*s+o*o}function Hv(e,t,n,r){const i=e.r-r+1e-6,s=t-e.x,o=n-e.y;return i>0&&i*i>s*s+o*o}function Gh(e,t,n,r,i){for(let s=0;s<t.length;++s){const o=t[s];if(!Hv(e,n(o),r(o),i(o)))return!1}return!0}function rF(e,t,n,r){return e.length===1?iF(t(e[0]),n(e[0]),r(e[0])):e.length===2?nl(t(e[0]),n(e[0]),r(e[0]),t(e[1]),n(e[1]),r(e[1])):Wv(t(e[0]),n(e[0]),r(e[0]),t(e[1]),n(e[1]),r(e[1]),t(e[2]),n(e[2]),r(e[2]))}function iF(e,t,n){return{x:e,y:t,r:n}}function nl(e,t,n,r,i,s){const o=r-e,a=i-t,l=s-n,c=Math.sqrt(o*o+a*a);return{x:(e+r+o/c*l)/2,y:(t+i+a/c*l)/2,r:(c+n+s)/2}}function Wv(e,t,n,r,i,s,o,a,l){const c=e-r,d=e-o,u=t-i,h=t-a,g=s-n,p=l-n,m=e*e+t*t-n*n,_=m-r*r-i*i+s*s,y=m-o*o-a*a+l*l,f=d*u-c*h,x=(u*y-h*_)/(2*f)-e,v=(h*g-u*p)/f,w=(d*_-c*y)/(2*f)-t,b=(c*p-d*g)/f,S=v*v+b*b-1,A=2*(n+x*v+w*b),C=x*x+w*w-n*n,k=-(S?(A+Math.sqrt(A*A-4*S*C))/(2*S):C/A);return{x:e+x+v*k,y:t+w+b*k,r:k}}function sF(e,t=20,n,r,i){for(const p of e){const{x:m,y:_,r:y}=mm(p.ids,f=>n[f],f=>r[f],f=>i[f]);p.cx=m,p.cy=_,p.radius=y+t}const s=e.slice().sort((p,m)=>p.radius-m.radius),o=s.map(p=>({x:p.cx,y:p.cy,r:p.radius})),a=s.pop();let l=3*Math.PI/2,c=a.radius;const d=2*Math.PI,{cx:u,cy:h}=a,g=[a];for(;s.length!==0;){const p=s[s.length-1],m=c+p.radius,_=u+Math.cos(l)*m,y=h+Math.sin(l)*m;g.some(f=>{const x=f.cx-_,v=f.cy-y;return Math.sqrt(x*x+v*v)<f.radius+p.radius})?c+=1:(p.x=_-p.w/2,p.y=y-p.h/2,p.cx=_,p.cy=y,o[s.length-1].x=_,o[s.length-1].y=y,g.push(s.pop()),l+=(2*p.radius+1)/m*1%d)}}Pe(mm,"med"),Pe(nF,"extend"),Pe(bc,"contains"),Pe(Hv,"containsWeak"),Pe(Gh,"containsWeakAll"),Pe(rF,"enclose"),Pe(iF,"from1"),Pe(nl,"from2"),Pe(Wv,"from3"),Pe(sF,"spiralpack");var oF=class{constructor(){this.ids=[],this.xmin=1/0,this.ymin=1/0,this.xmax=-1/0,this.ymax=-1/0,this.x=0,this.y=0,this.w=0,this.h=0,this.cx=0,this.cy=0,this.radius=0,this.mx=0,this.my=0,this.m=0,this.maxr=0}add(e,t,n,r){this.ids.push(e),t-r<this.xmin&&(this.xmin=t-r),n-r<this.ymin&&(this.ymin=n-r),t+r>this.xmax&&(this.xmax=t+r),n+r>this.ymax&&(this.ymax=n+r),r>this.maxr&&(this.maxr=r),this.mx+=r*t,this.my+=r*n,this.m+=r}measure(e=0){return this.w=this.xmax-this.xmin+2*e,this.h=this.ymax-this.ymin+2*e,this.cx=this.mx/this.m,this.cy=this.my/this.m,this.x=this.xmin,this.y=this.ymin,this.radius=Math.sqrt(this.w*this.w+this.h*this.h)/2,this}};function aF({edgeIds:e,sources:t,targets:n,pinned:r,degrees:i,X:s,Y:o,R:a},l=0,c=.5){const d={},u={};for(const h of e){const g=t[h],p=n[h];g!==p&&(d[g]=d[g]||{},d[p]=d[p]||{},d[g][p]=!0,d[p][g]=!0)}Object.keys(d).forEach(h=>{const g=Number(h),p=Object.keys(d[Number(g)]);if(p.length===2){const[m,_]=p,y=XP(Number(m),Number(_));y in u||(u[y]=[Number(_),Number(m)]),r[g]||u[y].push(g)}}),Object.keys(u).forEach(h=>{const[g,p,...m]=u[Number(h)];if(m.length<3)return;const _=s[g],y=o[g],f=s[p],x=o[p],v=i[g],w=.25+.5*v/(v+i[p]);let b=_+(f-_)*w,S=y+(x-y)*w,A=-(x-y),C=f-_;const k=Math.sqrt(Math.pow(_-f,2)+Math.pow(y-x,2));A=-2*A/k,C=-2*C/k;const N=Math.acos(A/Math.sqrt(A*A+C*C));l>0&&(N<l||N>Math.PI-l&&N<=Math.PI?(A=2*Math.cos(Math.PI-l),C=2*Math.sin(Math.PI-l)):(N>2*Math.PI-l||N>=Math.PI&&N<Math.PI+l)&&(A=2*Math.cos(l),C=2*Math.sin(l)));let R=0,B=1;m.sort((G,Y)=>a[Y]-a[G]);let H=0,F=0;const T=Math.max(a[m[0]],a[m[1]])/2;m.length%2==1&&(R=1,b-=A*T,S-=C*T);const W=1+c;for(let G=0;G<m.length;G++){const Y=(R+G)%2,ee=m[G],J=G>=2?a[ee]:T,ue=(Y?H:F)+J;s[ee]=b+A*B*ue,o[ee]=S+C*B*ue,Y?H+=J*W:F+=J*W,B=-B}})}function lF(e,t,n,r){let i=0;const s=[];for(const o of r){const a=new oF;for(const l of o)a.add(l,e[l],t[l],n[l]);s.push(a.measure()),o.length>s[i].ids.length&&(i=s.length-1)}return{boxes:s,biggest:i}}function cF(e,t,{X:n,Y:r,R:i,components:s,pinned:o,degrees:a,sources:l,targets:c,edgeIds:d},{update:u,onUpdate:h,placement:g,placementOffset:p,alignSiblings:m,siblingsMinAngle:_,siblingsOffset:y}){if(m&&(aF({X:n,Y:r,R:i,degrees:a,pinned:o,sources:l,targets:c,edgeIds:d},_,y),u(e,n,r)),g){const{boxes:f,biggest:x}=lF(n,r,i,s);if(g==="spiral")sF(f,p,n,r,i);else{if(g!=="box")return;eF(f,p)}const v=f[x].xmin-f[x].x,w=f[x].ymin-f[x].y;for(const b of f){const{xmin:S,ymin:A,x:C,y:k,ids:N}=b,R=S-C-v,B=A-k-w;for(const H of N)n[H]-=R,r[H]-=B}u(e,n,r),h()}}Pe(oF,"Component"),Pe(aF,"alignSiblings"),Pe(lF,"groupAndMeasure"),Pe(cF,"postprocessing");var sy={};function oy(e,t,{sources:n,targets:r,X:i,Y:s,R:o,fx:a,fy:l,degrees:c,weights:d},{edgeStrength:u,edgeLength:h}){for(let g=0;g<t.length;g++){const p=t[g],m=n[p],_=r[p],y=1,f=c[m]+y,x=c[_]+y,v=u*d[p];let w=i[_]+a[_]-i[m]-a[m]||Gn(),b=s[_]+l[_]-s[m]-l[m]||Gn();const S=w*w+b*b,A=Math.sqrt(S),C=h+o[m]+o[_];if(A<=C)continue;const k=C-A,N=1/Math.min(f,x),R=Math.min(1,e*v*(k*k/S)*N);w*=R,b*=R;const B=x/(x+f);a[m]+=w*B,l[m]+=b*B,a[_]-=w*(1-B),l[_]-=b*(1-B)}}Pl(sy,{default:()=>oy,initialize:()=>dF}),Pe(oy,"attraction");var dF=Pe((e,{edgeIds:t,sources:n,targets:r,degrees:i,weights:s})=>{for(let o=0;o<e.length;o++){const{source:a,target:l,weight:c=1}=e[o];n[o]=a,r[o]=l,s[o]=c,i[a]++,i[l]++,t[o]=o,s[o]=c===void 0?1:c}},"initialize");oy.initialize=dF;var ay={};Pl(ay,{default:()=>Qv,initialize:()=>vF});var jo=[0,1],Hh=[0,2];for(let e=4;e<65535;e<<=2)for(let t=0,n=jo.length;t<n;t++)jo.push(jo[t]|e),Hh.push((jo[t]|e)<<1);function uF(e,t){return(Hh[255&t]|jo[255&e])+65536*(Hh[t>>8&255]|jo[e>>8&255])+4294967296*(Hh[t>>16&255]|jo[e>>16&255])}function hF(e,t){let n=e^t,r=65535^n,i=65535^(e|t),s=e&(65535^t),o=n|r>>1,a=n>>1^n,l=i>>1^r&s>>1^i,c=n&i>>1^s>>1^s;n=o,r=a,i=l,s=c,o=n&n>>2^r&r>>2,a=n&r>>2^r&(n^r)>>2,l^=n&i>>2^r&s>>2,c^=r&i>>2^(n^r)&s>>2,n=o,r=a,i=l,s=c,o=n&n>>4^r&r>>4,a=n&r>>4^r&(n^r)>>4,l^=n&i>>4^r&s>>4,c^=r&i>>4^(n^r)&s>>4,n=o,r=a,i=l,s=c,l^=n&i>>8^r&s>>8,c^=r&i>>8^(n^r)&s>>8,n=l^l>>1,r=c^c>>1;let d=e^t,u=r|65535^(d|n);return d=16711935&(d|d<<8),d=252645135&(d|d<<4),d=858993459&(d|d<<2),d=1431655765&(d|d<<1),u=16711935&(u|u<<8),u=252645135&(u|u<<4),u=858993459&(u|u<<2),u=1431655765&(u|u<<1),(u<<1|d)>>>0}Pe(uF,"morton"),Pe(hF,"hilbert");var gF=1024,bi=new Uint32Array(gF);function pF(e,t){const n=new Uint32Array(t.length);for(let i=0;i<gF;i++)bi[i]=0;const r=255;for(let i=0;i<t.length;i++){const s=t[i];bi[s&r]++,bi[256+(s>>8&r)]++,bi[512+(s>>16&r)]++,bi[768+(s>>24&r)]++}for(let i=0;i<4;i++){let s=0,o=0;const a=256*i;for(let l=0;l<256;l++)s=bi[l+a],bi[l+a]=o,o+=s}for(let i=0;i<t.length;i++){const s=t[i];n[bi[s&r]++]=i}for(let i=0;i<t.length;i++){const s=n[i],o=t[s];e[bi[256+(o>>8&r)]++]=s}for(let i=0;i<t.length;i++){const s=e[i],o=t[s];n[bi[512+(o>>16&r)]++]=s}for(let i=0;i<t.length;i++){const s=n[i],o=t[s];e[bi[768+(o>>24&r)]++]=s}}Pe(pF,"radixSort");var Zo=class{constructor(e,t,n,r){this.left=null,this.right=null,this.data=null,this.code=e,this.data=t,this.left=n,this.right=r}};function mF(e,t,n,r,i){const s=new Zo(null,null,null,null),o=[s],a=[r,i];for(;o.length!==0;){const l=a.pop(),c=a.pop(),d=o.pop();if(l-c==0)d.code=n[c],d.data=e[t[c]];else{const u=qv(t,n,c,l);d.code=u,c<=u&&(d.left=new Zo(null,null,null,null),o.push(d.left),a.push(c,u)),l>u&&(d.right=new Zo(null,null,null,null),o.push(d.right),a.push(u+1,l))}}return s}function fF(e,t,n,r,i,s){const o=new Zo(null,null,null,null),a=[o],l=[r,i];for(;a.length!==0;){const c=l.pop(),d=l.pop(),u=a.pop();if(c-d<s){const h=new Array(c-d+1);for(let g=d,p=0;g<=c;g++,p++)h[p]=e[t[g]];u.code=n[d],u.data=h}else{const h=qv(t,n,d,c);u.code=h,d<=h&&(u.left=new Zo(null,null,null,null),a.push(u.left),l.push(d,h)),c>h&&(u.right=new Zo(null,null,null,null),a.push(u.right),l.push(h+1,c))}}return o}Pe(Zo,"Node"),Pe(mF,"buildIterative"),Pe(fF,"buildIterativeBuckets");var cA=Math.clz32||Pe(function(t){let n=-2147483648;for(let r=0;r<31;r+=1){if(n&t)return r;n>>>=1}return 32},"clz");function qv(e,t,n,r){const i=t[e[n]],s=t[e[r]];if(i===s)return n;const o=cA(i^s);let a,l,c,d=n,u=r-n;do u=u+1>>1,a=d+u,a<r&&(l=t[e[a]],c=cA(i^l),c>o&&(d=a));while(u>1);return d}Pe(qv,"findSplit");var _F,yF,Xv,Yv,xF,ii,ly,cy,dy,Zv=class{constructor(e,{getX:t,getY:n,bucketSize:r=0,sfc:i=1}={}){this.bucketSize=0,this._root=null;const s=e.length,o=new Uint32Array(s);let a=1/0,l=1/0,c=-1/0,d=-1/0;this._x=t,this._y=n;const u=i===1?hF:uF;this._project=u;const h=new Uint32Array(s);for(let m=0;m<s;m++){const _=e[m],y=t(_),f=n(_);y<a&&(a=y),f<l&&(l=f),y>c&&(c=y),f>d&&(d=f),h[m]=m}this._minX=a,this._minY=l,this._maxX=c,this._maxY=d;const g=65535/Math.max(c-a,1),p=65535/Math.max(d-l,1);this._hw=g,this._hh=p;for(let m=0;m<s;m++){const _=e[m];o[m]=u(g*(t(_)-a),p*(n(_)-l))}pF(h,o),this._root=r===0?mF(e,h,o,0,s-1):fF(e,h,o,0,s-1,r),this.bucketSize=r}get root(){return this._root}inOrder(e,t){let n=this._root;const r=[];let i=!1;for(;!i;)if(n)r.push(n),n=n.left;else if(r.length!==0){if(n=r.pop(),e.call(t,n))break;n=n.right}else i=!0;return this}preOrder(e,t){const n=[this._root];for(;n.length!==0;){const r=n.pop();e.call(t,r)||(r.right&&n.push(r.right),r.left&&n.push(r.left))}return this}postOrder(e,t){const n=[];let r,i=this._root;do{for(;i;)i.right&&n.push(i.right),n.push(i),i=i.left;i=n.pop(),r=n.length-1,i.right&&n[r]===i.right?(n[r]=i,i=i.right):(e.call(t,i),i=null)}while(n.length!==0);return this}map(e,t){const n=[];return this.inOrder(r=>{n.push(e.call(t,r))}),n}height(){return ep(this._root)}toString(e=t=>t.code.toString()){const t=[];return tp(this._root,"",!0,n=>t.push(n),e),t.join("")}size(){let e=0;return this.preOrder(()=>{e++}),e}destroy(){return this._root=null,this}};function ep(e){return e?1+Math.max(ep(e.left),ep(e.right)):0}function tp(e,t,n,r,i){if(e){r(t+(n?"^-- ":"|-- ")+i(e)+`
`);const s=t+(n?"    ":"|   ");e.left&&tp(e.left,s,!1,r,i),e.right&&tp(e.right,s,!0,r,i)}}Pe(Zv,"BVH"),Pe(ep,"treeHeight"),Pe(tp,"row");var Wh=0;function Qv(e,t,n,{X:r,Y:i,R:s,bucketSize:o}){Wh=e,n===null&&(n=new Zv(t,{getX:Xv,getY:Yv,bucketSize:o})).postOrder(_F);const a=t.length;for(let l=0;l<a;l++)ii=t[l],ly=r[ii],cy=i[ii],dy=s[ii],n.preOrder(yF);return n}Pe(Qv,"repulsion");var AH=Pe(({fx:e,fy:t,X:n,Y:r,R:i,masses:s,bucketSize:o},{charge:a,theta:l})=>c=>{let d=0,u=0,h=ly-c.cx||Gn(),g=cy-c.cy||Gn(),p=h*h+g*g,m=dy+c.r;const _=c.data;if(_!==null){if(_===ii)return!1;if(o!==0){const y=_;for(let f=0;f<y.length;f++){const x=y[f];x!==ii&&(h=ly-n[x]||Gn(),g=cy-r[x]||Gn(),p=h*h+g*g,m=dy+i[x],p<1&&(p=Math.sqrt(1*p)),d=a*s[x],u=Wh*d/p,e[ii]+=h*u,t[ii]+=g*u)}}else p<1&&(p=Math.sqrt(1*p)),d=a*c.mass,u=Wh*d/p,e[ii]+=h*u,t[ii]+=g*u}else{const y=m/l;if(p>y*y)return p<1&&(p=Math.sqrt(1*p)),d=a*c.mass,u=Wh*d/p,e[ii]+=h*u,t[ii]+=g*u,!0}},"getApplyForce"),kH=Pe(({X:e,Y:t,R:n,masses:r,bucketSize:i})=>s=>{let o,a,l=0,c=0,d=0,u=0;const h=s.data;if(h!==null)if(i!==0){const g=h,p=mm(g,Xv,Yv,xF);l=p.x,c=p.y,d=p.r;for(let m=0;m<g.length;m++)u+=r[g[m]]}else a=h,l=e[a],c=t[a],d=n[a],u=r[a];else if(s.left&&s.right){const g=s.left.cx,p=s.left.cy,m=s.right.cx,_=s.right.cy,y=s.left.r,f=s.right.r,x=m-g,v=_-p,w=f-y,b=Math.sqrt(x*x+v*v);l=(g+m+x/b*w)/2,c=(p+_+v/b*w)/2,d=(b+y+f)/2,u=s.left.mass+s.right.mass}else o=s.left||s.right,l=o.cx,c=o.cy,d=o.r,u=o.mass;s.cx=l,s.cy=c,s.r=d,s.mass=u},"getAccumulateBodies"),vF=Pe((e,t,n)=>{const r=e.length,{X:i,Y:s,R:o,degrees:a,pinned:l,masses:c,nodeIds:d}=t,{scaling:u,defaultRadius:h,bucketSize:g}=n;t.bucketSize=g===void 0?Math.floor(Math.log(r)):g;let p=1/0,m=1/0,_=-1/0,y=-1/0;const f=Math.PI*(3-Math.sqrt(5));let x=0;for(let v=0;v<e.length;v++){const w=e[v];let{x:b,y:S,r:A}=w;const{mass:C}=w;if(isNaN(b)||isNaN(S)){const k=5*Math.sqrt(v),N=v*f;b=k*Math.cos(N),S=k*Math.sin(N)}A=A||h,i[v]=b,s[v]=S,o[v]=A,l[v]=w.pinned?1:0,c[v]=C===void 0?(1+a[v])*u:C,d[v]=v,A>x&&(x=A),b<p&&(p=b),S<m&&(m=S),b>_&&(_=b),S>y&&(y=S)}if(e.length>1&&(_-p<2*x||y-m<2*x)){const v=(p+_)/2,w=(m+y)/2;for(let b=0;b<r;b++)if(!l[b]){const S=5*Math.sqrt(b),A=b*f,C=v+S*Math.cos(A),k=w+S*Math.sin(A);i[b]=C,s[b]=k,C<p&&(p=C),k<m&&(m=k),C>_&&(_=C),k>y&&(y=k)}}Xv=Pe(v=>i[v],"getX"),Yv=Pe(v=>s[v],"getY"),xF=Pe(v=>o[v],"getR"),_F=kH(t),yF=AH(t,n)},"initialize");Qv.initialize=vF;var Kv,Jv,bF,wF,EF,ai,qh,Xh,Yh,CH={};function uy(e,t,n,{X:r,Y:i,R:s,fx:o,fy:a,bucketSize:l},{elasticity:c}){if(c===0)return n;n||(n=new Zv(t,{getX:Kv,getY:Jv,bucketSize:l})).postOrder(wF);for(let d=0;d<t.length;d++)ai=t[d],qh=r[ai]+o[ai],Xh=i[ai]+a[ai],Yh=s[ai],n.preOrder(EF);return n}Pl(CH,{default:()=>uy}),Pe(uy,"collisionForce");var TH=Pe(({X:e,Y:t,R:n,bucketSize:r})=>i=>{let s,o,a,l;const c=i.data;if(c!==null)if(r!==0){const d=mm(c,Kv,Jv,bF);s=d.x,o=d.y,a=d.r}else{const d=c;s=e[d],o=t[d],a=n[d]}else if(i.left&&i.right){const d=i.left.cx,u=i.left.cy,h=i.right.cx,g=i.right.cy,p=i.left.r,m=i.right.r,_=h-d,y=g-u,f=m-p,x=Math.sqrt(_*_+y*y);s=(d+h+_/x*f)/2,o=(u+g+y/x*f)/2,a=(x+p+m)/2}else l=i.left||i.right,l&&(s=l.cx,o=l.cy,a=l.r);i.cx=s,i.cy=o,i.r=a},"getMeasureBodies"),LH=Pe(({X:e,Y:t,R:n,fx:r,fy:i,bucketSize:s},{elasticity:o,margin:a})=>l=>{const c=l.data;if(c===null){const d=l.cx-qh,u=l.cy-Xh,h=l.r+Yh;return d*d+u*u>h*h}if(s!==0){const d=c;for(let u=0;u<d.length;u++){const h=d[u];if(h>ai){const g=n[h];let p=qh-e[h]-r[h],m=Xh-t[h]-i[h];const _=Yh+g+a;let y=p*p+m*m;if(y<_*_){p===0&&(p=Gn(),y+=p*p),m===0&&(m=Gn(),y+=m*m);const f=Math.sqrt(y),x=(_-f)*o/f,v=g/_;r[ai]+=p*x*v,i[ai]+=m*x*v,r[h]-=p*x*(1-v),i[h]-=m*x*(1-v)}}}}else{const d=l.data;if(d>ai){const u=n[d];let h=qh-e[d],g=Xh-t[d];const p=Yh+u+a;let m=h*h+g*g;if(m<p*p){h===0&&(h=Gn(),m+=h*h),g===0&&(g=Gn(),m+=g*g);const _=Math.sqrt(m),y=(p-_)*o/_,f=u/p;r[ai]+=h*y*f,i[ai]+=g*y*f,r[d]-=h*y*(1-f),i[d]-=g*y*(1-f)}}}},"getApplyForce");uy.initialize=(e,t,n)=>{const{X:r,Y:i,R:s}=t;Kv=Pe(o=>r[o],"getX"),Jv=Pe(o=>i[o],"getY"),bF=Pe(o=>s[o],"getR"),wF=TH(t),EF=LH(t,n)};var hy={};function gy(e,t,{X:n,Y:r,fx:i,fy:s},{gravity:o,cx:a,cy:l}){let c=0,d=0;const u=t.length;for(let h=0;h<u;h++)c+=n[h],d+=r[h];c=c/u-a,d=d/u-l;for(let h=0;h<u;h++){const g=t[h],p=a-n[g]||Gn(),m=l-r[g]||Gn(),_=o*e;i[g]+=p*_,s[g]+=m*_}}Pl(hy,{default:()=>gy,initialize:()=>SF}),Pe(gy,"center");var SF=Pe((e,t,n)=>{const{X:r,Y:i}=t;let s=n.cx,o=n.cy;const a=e.length;if(s===void 0||o===void 0){s=o=0;for(let l=0;l<a;l++)s+=r[l],o+=i[l];s/=a,o/=a}n.cx=s,n.cy=o},"initialize");gy.initialize=SF;var NH={};function Vf(e,t,{masses:n,X:r,Y:i,fx:s,fy:o},{charge:a}){const l=t.length;let c,d,u,h,g,p,m,_,y;for(let f=0;f<l;f++){c=t[f];for(let x=f+1;x<l;x++)if(f!==x){if(d=t[x],c===d)continue;u=r[c]-r[d]||Gn(),h=i[c]-i[d]||Gn(),g=u*u+h*h,g<1&&(g=Math.sqrt(1*g)),p=a*n[d],m=e*p/g,_=a*n[c],y=e*_/g,s[c]+=u*m,o[c]+=h*m,s[d]-=u*y,o[d]-=h*y}}}Pl(NH,{default:()=>Vf}),Pe(Vf,"repulsion"),Vf.initialize=()=>{};var IH={};function Gf(e,t,{masses:n,X:r,Y:i,R:s,fx:o,fy:a},{friction:l,charge:c}){const d=t.length;for(let u=0;u<d;u++)for(let h=u+1;h<d;h++)if(u!==h){const g=t[u],p=t[h],m=s[g],_=s[p],y=r[g]-r[p]||Gn(),f=i[g]-i[p]||Gn();let x=y*y+f*f,v=+c;x>=(m+_)*(m+_)?v*=n[g]*n[p]:x=l*((m+_)*(m+_));const w=v/x,b=e*y*w,S=e*f*w;o[g]+=b,a[g]+=S,o[p]-=b,a[p]-=S}}Pl(IH,{default:()=>Gf}),Pe(Gf,"repulsion"),Gf.initialize=()=>{};var dA=`#define GLSLIFY 1
attribute vec2 position;void main(){gl_Position=vec4(position,0.0,1.0);}`,MH=`precision highp float;precision highp sampler2D;precision highp float;
#define GLSLIFY 1
float PHI=1.61803398874989484820459;float gold_noise_1540259130(in vec2 xy,in float seed){return fract(tan(distance(xy*PHI,xy)*seed)*xy.x);}highp float randomSeedShift=1.0;highp float slide=1.0;uniform highp float randomSeed1;uniform highp float randomSeed2;highp float nrand(highp vec2 n){highp float result=fract(sin(dot((n.xy+1.0)*vec2(randomSeed1*slide,randomSeed2*randomSeedShift),vec2(12.9898,78.233)))*43758.5453);randomSeedShift=result;if(randomSeedShift>0.5){slide+=0.00009;}else{slide+=0.0009;}return result;}uniform float charge;uniform float minDist;uniform int totalNodes;uniform vec2 bodiesSize;uniform float alpha;uniform sampler2D nodes;uniform sampler2D properties;uniform sampler2D bodies;vec4 readMatrix(sampler2D matrix,vec2 matrixSize,vec2 matrixCoords){return texture2D(matrix,(matrixCoords+.5)/matrixSize);}const int max_its=10000;void main(){vec2 nodeMatrixCoord=vec2(gl_FragCoord)-vec2(.5,.5);vec2 nodePosition=readMatrix(bodies,bodiesSize,nodeMatrixCoord).xy;vec2 nodeVelocity=readMatrix(bodies,bodiesSize,nodeMatrixCoord).zw;vec2 nodeProperty=readMatrix(properties,bodiesSize,nodeMatrixCoord).xy;float pinned=readMatrix(nodes,bodiesSize,nodeMatrixCoord).w;int nodeIndex=int(floor(bodiesSize.x*nodeMatrixCoord.y+nodeMatrixCoord.x+.5));if(nodeIndex>=totalNodes)discard;if(pinned>0.)discard;float rc=nodeProperty.y;vec2 otherMatrixCoord=vec2(0.);for(int i=0;i<max_its;i++){if(i>=totalNodes)break;if(i!=nodeIndex){vec2 delta=readMatrix(bodies,bodiesSize,otherMatrixCoord).xy-nodePosition;if(delta==vec2(0.)){float rand1=nrand(nodeMatrixCoord);float rand2=nrand(nodeMatrixCoord);delta=1e-6*(vec2(rand1,rand2)-.5);}float dsq=dot(delta,delta);if(dsq<minDist)dsq=sqrt(minDist*dsq);dsq=max(0.00001,dsq);nodeVelocity-=alpha*4.*delta*charge*readMatrix(properties,bodiesSize,otherMatrixCoord).x/dsq;}otherMatrixCoord.x+=1.;if(otherMatrixCoord.x>=bodiesSize.x){otherMatrixCoord.x=0.;otherMatrixCoord.y+=1.;}}gl_FragColor=vec4(nodePosition,nodeVelocity);}`,PH=`precision highp float;precision highp sampler2D;precision highp float;
#define GLSLIFY 1
float PHI=1.61803398874989484820459;float gold_noise_1540259130(in vec2 xy,in float seed){return fract(tan(distance(xy*PHI,xy)*seed)*xy.x);}highp float randomSeedShift=1.0;highp float slide=1.0;uniform highp float randomSeed1;uniform highp float randomSeed2;highp float nrand(highp vec2 n){highp float result=fract(sin(dot((n.xy+1.0)*vec2(randomSeed1*slide,randomSeed2*randomSeedShift),vec2(12.9898,78.233)))*43758.5453);randomSeedShift=result;if(randomSeedShift>0.5){slide+=0.00009;}else{slide+=0.0009;}return result;}uniform float gravity;uniform float cx;uniform float cy;uniform float edgeStrength;uniform float edgeLength;uniform float minDegree;uniform float inertia;uniform float maxDisplacementSq;uniform int totalNodes;uniform vec2 adjacencySize;uniform vec2 bodiesSize;uniform float alpha;uniform sampler2D nodes;uniform sampler2D adjacency;uniform sampler2D properties;uniform sampler2D bodies;vec4 readMatrix(sampler2D matrix,vec2 matrixSize,vec2 matrixCoords){return texture2D(matrix,(matrixCoords+.5)/matrixSize);}const int max_its=10000;void main(){vec2 nodeMatrixCoord=vec2(gl_FragCoord)-vec2(.5,.5);vec2 nodePosition=readMatrix(bodies,bodiesSize,nodeMatrixCoord).xy;vec2 nodeVelocity=readMatrix(bodies,bodiesSize,nodeMatrixCoord).zw;float currentRadius=readMatrix(properties,bodiesSize,nodeMatrixCoord).y;int nodeIndex=int(floor(bodiesSize.x*nodeMatrixCoord.y+nodeMatrixCoord.x+.5));if(nodeIndex>=totalNodes)discard;vec2 nodeAdjacencyCoord=readMatrix(nodes,bodiesSize,nodeMatrixCoord).xy;float neighbours=readMatrix(nodes,bodiesSize,nodeMatrixCoord).z;float pinned=readMatrix(nodes,bodiesSize,nodeMatrixCoord).w;float currDegree=neighbours+minDegree;if(pinned>0.)discard;for(int i=0;i<max_its;i++){if(i>=int(neighbours))break;vec3 neighbourMatrixData=readMatrix(adjacency,adjacencySize,nodeAdjacencyCoord).xyz;vec2 neighbourMatrixCoord=neighbourMatrixData.xy;bool isTarget=neighbourMatrixData.z>1.;vec2 neighbourPosition=readMatrix(bodies,bodiesSize,neighbourMatrixCoord).xy;vec2 sourceP=isTarget ? neighbourPosition : nodePosition;vec2 targetP=isTarget ? nodePosition: neighbourPosition;vec2 delta=(targetP-sourceP);float d=sqrt(dot(delta,delta));float l0=edgeLength+currentRadius+readMatrix(properties,bodiesSize,neighbourMatrixCoord).y;if(d>l0){float otherDegree=readMatrix(nodes,bodiesSize,neighbourMatrixCoord).z+minDegree;float degreeRatio=1./min(currDegree,otherDegree);float diff=l0-d;float strength=edgeStrength;float targetDegree=isTarget ? currDegree : otherDegree;float ratio=!isTarget?(targetDegree/(currDegree+otherDegree)):(1.-targetDegree/(currDegree+otherDegree));float q=min(1.,alpha*strength*diff*diff/(d*d)*degreeRatio);nodeVelocity+=delta*q*(isTarget ?-1. : 1.)*ratio;}nodeAdjacencyCoord.x+=1.;if(nodeAdjacencyCoord.x>=adjacencySize.x){nodeAdjacencyCoord.x=0.;nodeAdjacencyCoord.y+=1.;}}vec2 deltac=vec2(cx,cy)-nodePosition;if(deltac==vec2(0.)){float rand1=nrand(nodeMatrixCoord);float rand2=nrand(nodeMatrixCoord);deltac=1e-6*(vec2(rand1,rand2)-.5);}nodeVelocity+=alpha*gravity*deltac;nodeVelocity*=inertia;float velSq=dot(nodeVelocity,nodeVelocity);if(velSq>maxDisplacementSq)nodeVelocity*=sqrt(maxDisplacementSq/velSq);nodePosition+=nodeVelocity;gl_FragColor=vec4(nodePosition,nodeVelocity);}`,FH={5126:"uniform1f",35664:"uniform2fv",35665:"uniform3fv",35666:"uniform4fv",5124:"uniform1i",35667:"uniform2iv",35668:"uniform3iv",35669:"uniform4iv",35674:"uniformMatrix2fv",35675:"uniformMatrix3fv",35676:"uniformMatrix4fv",35678:"uniform1i",35680:"uniform1i"};function py(e,t){const n=e.createProgram();if(t.forEach((r,i)=>{const s=e.createShader(i===0?e.VERTEX_SHADER:e.FRAGMENT_SHADER);if(e.shaderSource(s,r),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))throw`Could not compile WebGL program. 

${e.getShaderInfoLog(s)}`;e.attachShader(n,s)}),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const r=e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error("Error in program linking:"+r)}return n}function au(e,{data:t,width:n,height:r,type:i,format:s}){const o=n*r==0,a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,s,o?1:n,o?1:r,0,s,i,o?new Float32Array(4):t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),{texture:a,width:n,height:r,data:t,type:e.FLOAT,format:e.RGBA}}function AF(e,t){const n=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),{handle:n,texture:t}}function kF(e,t,n){e.useProgram(t);const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){const{name:o,size:a,type:l}=e.getActiveUniform(t,s),c=e.getUniformLocation(t,o);r[o]={size:a,value:n[o],type:l,location:c}}return r}function CF(e,t,n){let r=0;return Object.entries(t).forEach(([i,{location:s,type:o,value:a}])=>{let l=n[i]!==void 0?n[i]:a;o===e.SAMPLER_2D&&(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,l),l=r,r++),e[FH[o]](s,l)})}function TF(e,t,n){return Object.entries(n).reduce((r,[i,s])=>{const o=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),r[i]={buffer:o,value:s,location:e.getAttribLocation(t,i)},r},{})}Pe(py,"createProgram"),Pe(au,"createTexture"),Pe(AF,"createFrameBuffer"),Pe(kF,"createUniforms"),Pe(CF,"bindUniforms"),Pe(TF,"createAttributeLocs");var RH=-1e4,fm=Pe(e=>Math.ceil(Math.sqrt(e)),"computeNodesMatrixSize"),LF=Pe(e=>Math.ceil(Math.sqrt(2*e.length)),"computeAdjacencyMatrixSize"),uA=Pe((e,{nodeIds:t,X:n,Y:r})=>{const i=fm(t.length),s=new Float32Array(i*i*4);s.fill(RH);for(let o=0;o<t.length;o++){const a=4*o;s[a]=n[o],s[a+1]=r[o],s[a+2]=0,s[a+3]=0}return au(e,{type:e.FLOAT,format:e.RGBA,width:i,height:i,data:s})},"createBodyTexture"),DH=Pe((e,{nodeIds:t,edgeIds:n,degrees:r,pinned:i})=>{const s=fm(t.length),o=LF(n),a=new Float32Array(s*s*4);let l=0;for(let c=0;c<t.length;c++){const d=4*c,u=l,h=Math.floor(u/o),g=u%o;a[d]=g,a[d+1]=h,a[d+2]=r[c],a[d+3]=i[c],l+=r[c]}return au(e,{type:e.FLOAT,format:e.RGBA,width:s,height:s,data:a})},"createNodeTexture"),zH=Pe((e,{nodeIds:t,edgeIds:n},r)=>{const i=fm(t.length),s=LF(n),o=new Float32Array(s*s*4);let a=0;for(const l of t){const c=r.get(l)||[];for(const d of c){const u=Number(d),h=Math.abs(u)-1,g=Math.floor(h/i),p=h%i;o[a]=p,o[a+1]=g,o[a+2]=u<0?0:2,a+=4}}return au(e,{format:e.RGBA,type:e.FLOAT,width:s,height:s,data:o})},"createAdjacencyTexture"),OH=Pe((e,t,n)=>({bodyTexture:uA(e,t),outputTexture:uA(e,t),adjacencyTexture:zH(e,t,n),nodesTexture:DH(e,t)}),"createTopologyTextures"),BH=Pe((e,{nodeIds:t,masses:n,R:r})=>{const i=fm(t.length),s=new Float32Array(i*i*4);for(let o=0;o<t.length;o++){const a=n[o],l=r[o],c=4*o;s[c]=a,s[c+1]=l,s[c+2]=0,s[c+3]=0}return au(e,{width:i,height:i,data:s,format:e.RGBA,type:e.FLOAT})},"createPropertyTexture");function NF(e,{nodeIds:t,X:n,Y:r},i,s){for(let o=0;o<t.length;o++){const a=4*o;i.data[a]=n[o],i.data[a+1]=r[o],i.data[a+2]=0,i.data[a+3]=0,s.data[a]=n[o],s.data[a+1]=r[o],s.data[a+2]=0,s.data[a+3]=0}e.bindTexture(e.TEXTURE_2D,i.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,i.width,i.height,e.RGBA,e.FLOAT,i.data),e.bindTexture(e.TEXTURE_2D,s.texture),e.texSubImage2D(e.TEXTURE_2D,0,0,0,s.width,s.height,e.RGBA,e.FLOAT,s.data)}function IF(e,t,n){const r=OH(e,t,n),i=BH(e,t);return _H(iy({},r),{propertyTexture:i})}Pe(NF,"setNodesPositions"),Pe(IF,"createTextures");var jH=.2876/300,UH=Pe((e,t,n,r,i,s)=>{const{charge:o,theta:a,gravity:l,cx:c,cy:d,inertia:u,steps:h,edgeStrength:g,edgeLength:p,onUpdate:m,nextTick:_,maxDisplacement:y}=r,{X:f,Y:x,edgeIds:v,nodeIds:w}=n;let b=0,S=1,A=1-Math.pow(.05,1/h);const C=2*v.length,k=jH*e.length*h,N=Math.floor(k/1e3),R=N<1?h:Math.floor(h/N/60),B=Pe(()=>{m(),i(b)},"stop"),H=Pe(()=>{s.readPixels(0,0,W.width,W.height,s.RGBA,s.FLOAT,J),e.forEach((Me,We)=>{Me.pinned||(Me.x=f[We]=J[4*We],Me.y=x[We]=J[4*We+1])})},"updateNodes");if(!s.getExtension("OES_texture_float"))throw new Error("GPGPU Force layout: missing OES_texture_float extension in webgl");const F=[py(s,[dA,MH]),py(s,[dA,PH])],{bodyTexture:T,outputTexture:W,adjacencyTexture:G,nodesTexture:Y,propertyTexture:ee}=IF(s,n,t),J=new Float32Array(T.width*T.height*4),ue=[W,T].map(({texture:Me})=>AF(s,Me)),Ae=F.map(Me=>TF(s,Me,{position:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])})),ce=F.map((Me,We)=>{const he=We===0?T:W;return kF(s,Me,{seed:.9823,alpha:S,charge:o,theta:a,minDist:1,gravity:l,cx:c,cy:d,edgeStrength:g,edgeLength:p,minDegree:1,inertia:u,randomSeed1:.2,randomSeed2:.8,maxDisplacementSq:fH(y,2),bodiesSize:[T.width,T.height],adjacencySize:[G.width,G.height],nodes:Y.texture,adjacency:G.texture,properties:ee.texture,bodies:he.texture,totalNodes:e.length,totalEdges:C})});s.viewport(0,0,T.width,T.height);const _e=Pe(()=>{S+=(.001-S)*A;for(let Me=0;Me<2;Me++)s.bindFramebuffer(s.FRAMEBUFFER,ue[Me].handle),s.viewport(0,0,T.width,T.height),s.bindBuffer(s.ARRAY_BUFFER,Ae[Me].position.buffer),s.enableVertexAttribArray(Ae[Me].position.location),s.vertexAttribPointer(Ae[Me].position.location,2,s.FLOAT,!1,0,0),s.useProgram(F[Me]),CF(s,ce[Me],{alpha:S}),s.drawArrays(s.TRIANGLES,0,6);b%r.batch==0&&m(),b++},"step"),ze=Pe(()=>{const Me=Math.min(b+R,h);for(let We=b;We<Me;We++)_e();if(b>=h)return H(),B();setTimeout(()=>{_(ze)},k/h*R)},"frame");return{done:!1,start(){return w.length<=1&&(b=h),setTimeout(ze,0),this},step(){return _e(),H(),m(),this},setData(Me){return NF(s,Me,T,W),this},stop(){return B(),this},get iterations(){return b}}},"gpuSimulation");function MF(e,t,n){PF(e,t,n),FF(n)}function PF(e,t,{sources:n,targets:r,degrees:i,nodeIds:s,edgeIds:o}){const a={};for(let l=0;l<e.length;l++)a[l]=s[l]=l;for(let l=0;l<t.length;l++){const{source:c,target:d}=t[l],u=a[c],h=a[d];o[l]=l,n[l]=u,r[l]=h,i[u]++,i[h]++}}function FF({nodeIds:e,edgeIds:t,sources:n,targets:r,degrees:i,layer:s,layers:o,component:a,components:l,cluster:c,parent:d}){let u=0,h=1;const g=new Uint32Array(e.length);for(let x=0;x<e.length;x++)g[x]=i[x];const p=new Array(e.length);for(let x=0;x<t.length;x++){const v=t[x],w=n[v],b=r[v];p[w]=p[w]||[],p[b]=p[b]||[],p[w].push(b),p[b].push(w)}const m=new Uint8Array(e.length),_=new Uint8Array(e.length);d.fill(-1);let y=0;for(let x=0;x<e.length;x++)if(m[x]===0){const v=[x];for(;v.length!==0;){const w=v.pop();m[w]===0&&(v.push.apply(v,p[w]),m[w]=1,a[w]=y)}y++}const f=new Array(e.length);for(let x=0;x<e.length;x++)s[x]=0,f[x]=x;for(;f.length!==0;){const x=[],v=[];for(let w=0;w<f.length;w++)g[f[w]]<=u&&(x.push(w),v.push(f[w]));for(let w=0;w<v.length;w++){const b=v[w];_[b]=u,s[b]=h;const S=p[b];if(S)for(let A=0;A<S.length;A++)g[S[A]]--}for(let w=0;w<v.length;w++){const b=v[w],S=p[b];if(S)for(let A=0;A<S.length;A++){const C=S[A],k=s[C];if(k===void 0||k>h){d[b]=C;break}}}x.reverse();for(let w=0;w<x.length;w++)f.splice(x[w],1);if(h+=1,f.length>0){let w=1/0;for(let b=0;b<f.length;b++){const S=g[f[b]];S<w&&(w=S)}w>=u+1&&(u=w,h=1)}}m.fill(0);for(let x=0;x<e.length;x++){const v=e[x],w=s[v];if(d[v]===-1||s[d[v]]===w){const b=[v];for(m.fill(0);b.length!==0;){const S=b.pop();if(m[S])continue;if(s[S]>w){d[v]=S;break}const A=p[S];m[S]=1,A&&b.push.apply(b,A)}}}for(let x=0;x<e.length;x++){const v=e[x],w=a[v];l[w]=l[w]||[],l[w].push(v);const b=s[v]-1;o[b]=o[b]||[],o[b].push(v),c[v]=d[v]}}Pe(MF,"default"),Pe(PF,"initTopology"),Pe(FF,"decomposition");var RF=class{constructor(e,t=!0){this.bucketSize=0;const n=e.nodes.length,r=e.edges.length;Gv(n+r),this.X=new Array(n),this.Y=new Array(n),this.R=new Array(n),this.fx=new Float32Array(n),this.fy=new Float32Array(n),this.vx=new Float32Array(n),this.vy=new Float32Array(n),this.pinned=new Uint8Array(n),this.masses=new Float32Array(n),this.weights=new Float32Array(r),this.lengths=new Float32Array(r),this.sources=new Uint16Array(r),this.targets=new Uint16Array(r),this.degrees=new Uint32Array(n),this.layer=new Uint32Array(n),this.parent=new Int32Array(n),this.cluster=new Int32Array(n),this.component=new Uint16Array(n),this.components=[],this.layers=[],this.nodeIds=new Array(n),this.edgeIds=new Array(r),t&&MF(e.nodes,e.edges,this),this.movements=new Array(this.layers.length).fill(0),this.surfaces=new Array(this.layers.length).fill(0),this.movementsPrev=new Array(this.layers.length).fill(0),this.surfacesPrev=new Array(this.layers.length).fill(0)}};function Zh(e,t,n={}){let r,i;const s=new Map,o=Pe((u={nodes:[],edges:[]})=>(r=u.nodes,i=u.edges,Gv(YP(r.length,i.length)),s.clear(),r.forEach(h=>s.set(h.id,[])),i.forEach(h=>{s.get(h.source).push(h.target+1),s.get(h.target).push(-(h.source+1))}),new RF(u,!1)),"setGraph"),a=Pe((u={})=>new KP(u),"setOptions");let l,c=o(e),d=a(n);return sy.initialize(i,c),ay.initialize(r,c,d),hy.initialize(r,c,d),{setOptions:(u={})=>(d=a(u),this),setGraph:u=>(c=o(u),sy.initialize(i,c),ay.initialize(r,c,d),hy.initialize(r,c,d),l&&l.setData(c),this),start(){return l=UH(r,s,c,d,u=>{l&&!l.done&&cF(r,i,c,d),d.onEnd(u),l.done=!0},t).start(),this},iterations:()=>l.iterations,data:()=>c,stop(){return l&&l.stop(),this},step(u=1){return l&&l.step(),this}}}/**
* @preserve
* @linkurious/force-layout@0.6.3
* Ogma general-purpose force-directed layout
*/function hA(){var e=(()=>{var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=Math.pow,l=(M,D,P)=>D in M?t(M,D,{enumerable:!0,configurable:!0,writable:!0,value:P}):M[D]=P,c=(M,D)=>{for(var P in D||(D={}))s.call(D,P)&&l(M,P,D[P]);if(i)for(var P of i(D))o.call(D,P)&&l(M,P,D[P]);return M},d=(M,D)=>t(M,"name",{value:D,configurable:!0}),u={};((M,D)=>{for(var P in D)t(M,P,{get:D[P],enumerable:!0})})(u,{IntegratorType:()=>z,default:()=>wt});var h=class{constructor(M){let D=g();this.c=1,this.s0=D(" "),this.s1=D(" "),this.s2=D(" "),this.s0-=D(String(M)),this.s0<0&&(this.s0+=1),this.s1-=D(String(M)),this.s1<0&&(this.s1+=1),this.s2-=D(M),this.s2<0&&(this.s2+=1),D=null}next(){return()=>{const M=2091639*this.s0+23283064365386963e-26*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=M-(this.c=0|M)}}nextDouble(){const M=this.next();return()=>M()+11102230246251565e-32*(2097152*M()|0)}nextInt32(){const M=this.next();return()=>4294967296*M()|0}};function g(){let M=4022871197;return D=>{D=D.toString();for(let P=0;P<D.length;P++){M+=D.charCodeAt(P);let $=.02519603282416938*M;M=$>>>0,$-=M,$*=M,M=$>>>0,$-=M,M+=4294967296*$}return 23283064365386963e-26*(M>>>0)}}function p(M){return new h(M.toString()).next()}d(h,"Alea"),d(g,"Mash"),d(p,"impl");var m=p(42);function _(M){m=p(M)}function y(){return 1e-6*(m()-.5)}function f(M){for(let D=M.length-1;D>=0;D--){let P=Math.floor(Math.random()*(D+1));P=Math.max(Math.min(P,D),0);const $=M[D];M[D]=M[P],M[P]=$}return M}d(_,"setSeed"),d(y,"randomize"),d(f,"shuffle");var x=d(M=>M.x,"getX"),v=d(M=>M.y,"getY"),w=d(M=>M.r,"getR");function b(M,D=x,P=v,$=w){const q=f(M.slice()),O=q.length;let j,Q=[],K=0;for(;K<O;){const de=q[K];j&&C(j,D(de),P(de),$(de))?K++:(Q=S(Q,de,D,P,$),j=N(Q,D,P,$),K=0)}return j}function S(M,D,P,$,q){const O=P(D),j=$(D),Q=q(D),K={x:O,y:j,r:Q};if(k(K,M,P,$,q))return[D];for(let de=0;de<M.length;++de){const ne=M[de],re=P(ne),le=$(ne),fe=q(ne);if(!A(K,re,le,fe)&&k(B(re,le,fe,O,j,Q),M,P,$,q))return[M[de],D]}for(let de=0;de<M.length-1;de++)for(let ne=de+1;ne<M.length;ne++){const re=M[de],le=M[ne],fe=P(re),ie=$(re),me=q(re),we=P(le),ve=$(le),be=q(le);if(!A(B(fe,ie,me,we,ve,be),O,j,Q)&&!A(B(fe,ie,me,O,j,Q),we,ve,be)&&!A(B(we,ve,be,O,j,Q),fe,ie,me)&&k(H(fe,ie,me,we,ve,be,O,j,Q),M,P,$,q))return[M[de],M[ne],D]}throw new Error}function A(M,D,P,$){const q=M.r-$,O=D-M.x,j=P-M.y;return q>=0&&q*q>O*O+j*j}function C(M,D,P,$){const q=M.r-$+1e-6,O=D-M.x,j=P-M.y;return q>0&&q*q>O*O+j*j}function k(M,D,P,$,q){for(let O=0;O<D.length;++O){const j=D[O];if(!C(M,P(j),$(j),q(j)))return!1}return!0}function N(M,D,P,$){return M.length===1?R(D(M[0]),P(M[0]),$(M[0])):M.length===2?B(D(M[0]),P(M[0]),$(M[0]),D(M[1]),P(M[1]),$(M[1])):H(D(M[0]),P(M[0]),$(M[0]),D(M[1]),P(M[1]),$(M[1]),D(M[2]),P(M[2]),$(M[2]))}function R(M,D,P){return{x:M,y:D,r:P}}function B(M,D,P,$,q,O){const j=$-M,Q=q-D,K=O-P,de=Math.sqrt(j*j+Q*Q);return{x:(M+$+j/de*K)/2,y:(D+q+Q/de*K)/2,r:(de+P+O)/2}}function H(M,D,P,$,q,O,j,Q,K){const de=M-$,ne=M-j,re=D-q,le=D-Q,fe=O-P,ie=K-P,me=M*M+D*D-P*P,we=me-$*$-q*q+O*O,ve=me-j*j-Q*Q+K*K,be=ne*re-de*le,Ee=(re*ve-le*we)/(2*be)-M,Te=(le*fe-re*ie)/be,ke=(ne*we-de*ve)/(2*be)-D,Ce=(de*ie-ne*fe)/be,Je=Te*Te+Ce*Ce-1,Qe=2*(P+Ee*Te+ke*Ce),dt=Ee*Ee+ke*ke-P*P,ot=-(Je?(Qe+Math.sqrt(Qe*Qe-4*Je*dt))/(2*Je):dt/Qe);return{x:M+Ee+Te*ot,y:D+ke+Ce*ot,r:ot}}d(b,"med"),d(S,"extend"),d(A,"contains"),d(C,"containsWeak"),d(k,"containsWeakAll"),d(N,"enclose"),d(R,"from1"),d(B,"from2"),d(H,"from3");var F=[0,1],T=[0,2];for(let M=4;M<65535;M<<=2)for(let D=0,P=F.length;D<P;D++)F.push(F[D]|M),T.push((F[D]|M)<<1);function W(M,D){return(T[255&D]|F[255&M])+65536*(T[D>>8&255]|F[M>>8&255])+4294967296*(T[D>>16&255]|F[M>>16&255])}function G(M,D){let P=M^D,$=65535^P,q=65535^(M|D),O=M&(65535^D),j=P|$>>1,Q=P>>1^P,K=q>>1^$&O>>1^q,de=P&q>>1^O>>1^O;P=j,$=Q,q=K,O=de,j=P&P>>2^$&$>>2,Q=P&$>>2^$&(P^$)>>2,K^=P&q>>2^$&O>>2,de^=$&q>>2^(P^$)&O>>2,P=j,$=Q,q=K,O=de,j=P&P>>4^$&$>>4,Q=P&$>>4^$&(P^$)>>4,K^=P&q>>4^$&O>>4,de^=$&q>>4^(P^$)&O>>4,P=j,$=Q,q=K,O=de,K^=P&q>>8^$&O>>8,de^=$&q>>8^(P^$)&O>>8,P=K^K>>1,$=de^de>>1;let ne=M^D,re=$|65535^(ne|P);return ne=16711935&(ne|ne<<8),ne=252645135&(ne|ne<<4),ne=858993459&(ne|ne<<2),ne=1431655765&(ne|ne<<1),re=16711935&(re|re<<8),re=252645135&(re|re<<4),re=858993459&(re|re<<2),re=1431655765&(re|re<<1),(re<<1|ne)>>>0}d(W,"morton"),d(G,"hilbert");var Y=new Uint32Array(1024);function ee(M,D){const P=new Uint32Array(D.length);for(let q=0;q<1024;q++)Y[q]=0;const $=255;for(let q=0;q<D.length;q++){const O=D[q];Y[O&$]++,Y[256+(O>>8&$)]++,Y[512+(O>>16&$)]++,Y[768+(O>>24&$)]++}for(let q=0;q<4;q++){let O=0,j=0;const Q=256*q;for(let K=0;K<256;K++)O=Y[K+Q],Y[K+Q]=j,j+=O}for(let q=0;q<D.length;q++){const O=D[q];P[Y[O&$]++]=q}for(let q=0;q<D.length;q++){const O=P[q],j=D[O];M[Y[256+(j>>8&$)]++]=O}for(let q=0;q<D.length;q++){const O=M[q],j=D[O];P[Y[512+(j>>16&$)]++]=O}for(let q=0;q<D.length;q++){const O=P[q],j=D[O];M[Y[768+(j>>24&$)]++]=O}}d(ee,"radixSort");var J=class{constructor(M,D,P,$){this.left=null,this.right=null,this.data=null,this.code=M,this.data=D,this.left=P,this.right=$}};function ue(M,D,P,$,q){const O=new J(null,null,null,null),j=[O],Q=[$,q];for(;j.length!==0;){const K=Q.pop(),de=Q.pop(),ne=j.pop();if(K-de==0)ne.code=P[de],ne.data=M[D[de]];else{const re=_e(D,P,de,K);ne.code=re,de<=re&&(ne.left=new J(null,null,null,null),j.push(ne.left),Q.push(de,re)),K>re&&(ne.right=new J(null,null,null,null),j.push(ne.right),Q.push(re+1,K))}}return O}function Ae(M,D,P,$,q,O){const j=new J(null,null,null,null),Q=[j],K=[$,q];for(;Q.length!==0;){const de=K.pop(),ne=K.pop(),re=Q.pop();if(de-ne<O){const le=new Array(de-ne+1);for(let fe=ne,ie=0;fe<=de;fe++,ie++)le[ie]=M[D[fe]];re.code=P[ne],re.data=le}else{const le=_e(D,P,ne,de);re.code=le,ne<=le&&(re.left=new J(null,null,null,null),Q.push(re.left),K.push(ne,le)),de>le&&(re.right=new J(null,null,null,null),Q.push(re.right),K.push(le+1,de))}}return j}d(J,"Node"),d(ue,"buildIterative"),d(Ae,"buildIterativeBuckets");var ce=Math.clz32||d(function(D){let P=-2147483648;for(let $=0;$<31;$+=1){if(P&D)return $;P>>>=1}return 32},"clz");function _e(M,D,P,$){const q=D[M[P]],O=D[M[$]];if(q===O)return P;const j=ce(q^O);let Q,K,de,ne=P,re=$-P;do re=re+1>>1,Q=ne+re,Q<$&&(K=D[M[Q]],de=ce(q^K),de>j&&(ne=Q));while(re>1);return ne}d(_e,"findSplit");var ze,Me,We,he,ye,Ze,tt,ut,st,Z=class{constructor(M,{getX:D,getY:P,bucketSize:$=0,sfc:q=1}={}){this.bucketSize=0,this._root=null;const O=M.length,j=new Uint32Array(O);let Q=1/0,K=1/0,de=-1/0,ne=-1/0;this._x=D,this._y=P;const re=q===1?G:W;this._project=re;const le=new Uint32Array(O);for(let me=0;me<O;me++){const we=M[me],ve=D(we),be=P(we);ve<Q&&(Q=ve),be<K&&(K=be),ve>de&&(de=ve),be>ne&&(ne=be),le[me]=me}this._minX=Q,this._minY=K,this._maxX=de,this._maxY=ne;const fe=65535/Math.max(de-Q,1),ie=65535/Math.max(ne-K,1);this._hw=fe,this._hh=ie;for(let me=0;me<O;me++){const we=M[me];j[me]=re(fe*(D(we)-Q),ie*(P(we)-K))}ee(le,j),this._root=$===0?ue(M,le,j,0,O-1):Ae(M,le,j,0,O-1,$),this.bucketSize=$}get root(){return this._root}inOrder(M,D){let P=this._root;const $=[];let q=!1;for(;!q;)if(P)$.push(P),P=P.left;else if($.length!==0){if(P=$.pop(),M.call(D,P))break;P=P.right}else q=!0;return this}preOrder(M,D){const P=[this._root];for(;P.length!==0;){const $=P.pop();M.call(D,$)||($.right&&P.push($.right),$.left&&P.push($.left))}return this}postOrder(M,D){const P=[];let $,q=this._root;do{for(;q;)q.right&&P.push(q.right),P.push(q),q=q.left;q=P.pop(),$=P.length-1,q.right&&P[$]===q.right?(P[$]=q,q=q.right):(M.call(D,q),q=null)}while(P.length!==0);return this}map(M,D){const P=[];return this.inOrder($=>{P.push(M.call(D,$))}),P}height(){return te(this._root)}toString(M=D=>D.code.toString()){const D=[];return se(this._root,"",!0,P=>D.push(P),M),D.join("")}size(){let M=0;return this.preOrder(()=>{M++}),M}destroy(){return this._root=null,this}};function te(M){return M?1+Math.max(te(M.left),te(M.right)):0}function se(M,D,P,$,q){if(M){$(D+(P?"^-- ":"|-- ")+q(M)+`
`);const O=D+(P?"    ":"|   ");M.left&&se(M.left,O,!1,$,q),M.right&&se(M.right,O,!0,$,q)}}d(Z,"BVH"),d(te,"treeHeight"),d(se,"row");var oe=0;function ge(M,D,P,{X:$,Y:q,R:O,bucketSize:j}){oe=M,P===null&&(P=new Z(D,{getX:We,getY:he,bucketSize:j})).postOrder(ze);const Q=D.length;for(let K=0;K<Q;K++)Ze=D[K],tt=$[Ze],ut=q[Ze],st=O[Ze],P.preOrder(Me);return P}d(ge,"repulsion");var pe=d(({fx:M,fy:D,X:P,Y:$,R:q,masses:O,bucketSize:j},{charge:Q,theta:K})=>de=>{let ne=0,re=0,le=tt-de.cx||y(),fe=ut-de.cy||y(),ie=le*le+fe*fe,me=st+de.r;const we=de.data;if(we!==null){if(we===Ze)return!1;if(j!==0){const ve=we;for(let be=0;be<ve.length;be++){const Ee=ve[be];Ee!==Ze&&(le=tt-P[Ee]||y(),fe=ut-$[Ee]||y(),ie=le*le+fe*fe,me=st+q[Ee],ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*O[Ee],re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re)}}else ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*de.mass,re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re}else{const ve=me/K;if(ie>ve*ve)return ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*de.mass,re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re,!0}},"getApplyForce"),Oe=d(({X:M,Y:D,R:P,masses:$,bucketSize:q})=>O=>{let j,Q,K=0,de=0,ne=0,re=0;const le=O.data;if(le!==null)if(q!==0){const fe=le,ie=b(fe,We,he,ye);K=ie.x,de=ie.y,ne=ie.r;for(let me=0;me<fe.length;me++)re+=$[fe[me]]}else Q=le,K=M[Q],de=D[Q],ne=P[Q],re=$[Q];else if(O.left&&O.right){const fe=O.left.cx,ie=O.left.cy,me=O.right.cx,we=O.right.cy,ve=O.left.r,be=O.right.r,Ee=me-fe,Te=we-ie,ke=be-ve,Ce=Math.sqrt(Ee*Ee+Te*Te);K=(fe+me+Ee/Ce*ke)/2,de=(ie+we+Te/Ce*ke)/2,ne=(Ce+ve+be)/2,re=O.left.mass+O.right.mass}else j=O.left||O.right,K=j.cx,de=j.cy,ne=j.r,re=j.mass;O.cx=K,O.cy=de,O.r=ne,O.mass=re},"getAccumulateBodies"),Ie=d((M,D,P)=>{const $=M.length,{X:q,Y:O,R:j,degrees:Q,pinned:K,masses:de,nodeIds:ne}=D,{scaling:re,defaultRadius:le,bucketSize:fe}=P;D.bucketSize=fe===void 0?Math.floor(Math.log($)):fe;let ie=1/0,me=1/0,we=-1/0,ve=-1/0;const be=Math.PI*(3-Math.sqrt(5));let Ee=0;for(let Te=0;Te<M.length;Te++){const ke=M[Te];let{x:Ce,y:Je,r:Qe}=ke;const{mass:dt}=ke;if(isNaN(Ce)||isNaN(Je)){const ot=5*Math.sqrt(Te),Tt=Te*be;Ce=ot*Math.cos(Tt),Je=ot*Math.sin(Tt)}Qe=Qe||le,q[Te]=Ce,O[Te]=Je,j[Te]=Qe,K[Te]=ke.pinned?1:0,de[Te]=dt===void 0?(1+Q[Te])*re:dt,ne[Te]=Te,Qe>Ee&&(Ee=Qe),Ce<ie&&(ie=Ce),Je<me&&(me=Je),Ce>we&&(we=Ce),Je>ve&&(ve=Je)}if(M.length>1&&(we-ie<2*Ee||ve-me<2*Ee)){const Te=(ie+we)/2,ke=(me+ve)/2;for(let Ce=0;Ce<$;Ce++)if(!K[Ce]){const Je=5*Math.sqrt(Ce),Qe=Ce*be,dt=Te+Je*Math.cos(Qe),ot=ke+Je*Math.sin(Qe);q[Ce]=dt,O[Ce]=ot,dt<ie&&(ie=dt),ot<me&&(me=ot),dt>we&&(we=dt),ot>ve&&(ve=ot)}}We=d(Te=>q[Te],"getX"),he=d(Te=>O[Te],"getY"),ye=d(Te=>j[Te],"getR"),ze=Oe(D),Me=pe(D,P)},"initialize");function Fe(M,D,{masses:P,X:$,Y:q,fx:O,fy:j},{charge:Q}){const K=D.length;let de,ne,re,le,fe,ie,me,we,ve;for(let be=0;be<K;be++){de=D[be];for(let Ee=be+1;Ee<K;Ee++)if(be!==Ee){if(ne=D[Ee],de===ne)continue;re=$[de]-$[ne]||y(),le=q[de]-q[ne]||y(),fe=re*re+le*le,fe<1&&(fe=Math.sqrt(1*fe)),ie=Q*P[ne],me=M*ie/fe,we=Q*P[de],ve=M*we/fe,O[de]+=re*me,j[de]+=le*me,O[ne]-=re*ve,j[ne]-=le*ve}}}function nt(M,D,{sources:P,targets:$,X:q,Y:O,R:j,fx:Q,fy:K,degrees:de,weights:ne},{edgeStrength:re,edgeLength:le}){for(let fe=0;fe<D.length;fe++){const ie=D[fe],me=P[ie],we=$[ie],ve=1,be=de[me]+ve,Ee=de[we]+ve,Te=re*ne[ie];let ke=q[we]+Q[we]-q[me]-Q[me]||y(),Ce=O[we]+K[we]-O[me]-K[me]||y();const Je=ke*ke+Ce*Ce,Qe=Math.sqrt(Je),dt=le+j[me]+j[we];if(Qe<=dt)continue;const ot=dt-Qe,Tt=1/Math.min(be,Ee),Xt=Math.min(1,M*Te*(ot*ot/Je)*Tt);ke*=Xt,Ce*=Xt;const Ht=Ee/(Ee+be);Q[me]+=ke*Ht,K[me]+=Ce*Ht,Q[we]-=ke*(1-Ht),K[we]-=Ce*(1-Ht)}}ge.initialize=Ie,d(Fe,"repulsion"),Fe.initialize=()=>{},d(nt,"attraction");var rt,Rt,It,Mt,Wt,vt,lt,Ct,Pt,Dt=d((M,{edgeIds:D,sources:P,targets:$,degrees:q,weights:O})=>{for(let j=0;j<M.length;j++){const{source:Q,target:K,weight:de=1}=M[j];P[j]=Q,$[j]=K,O[j]=de,q[Q]++,q[K]++,D[j]=j,O[j]=de===void 0?1:de}},"initialize");function kt(M,D,P,{X:$,Y:q,R:O,fx:j,fy:Q,bucketSize:K},{elasticity:de}){if(de===0)return P;P||(P=new Z(D,{getX:rt,getY:Rt,bucketSize:K})).postOrder(Mt);for(let ne=0;ne<D.length;ne++)vt=D[ne],lt=$[vt]+j[vt],Ct=q[vt]+Q[vt],Pt=O[vt],P.preOrder(Wt);return P}nt.initialize=Dt,d(kt,"collisionForce");var bt=d(({X:M,Y:D,R:P,bucketSize:$})=>q=>{let O,j,Q,K;const de=q.data;if(de!==null)if($!==0){const ne=b(de,rt,Rt,It);O=ne.x,j=ne.y,Q=ne.r}else{const ne=de;O=M[ne],j=D[ne],Q=P[ne]}else if(q.left&&q.right){const ne=q.left.cx,re=q.left.cy,le=q.right.cx,fe=q.right.cy,ie=q.left.r,me=q.right.r,we=le-ne,ve=fe-re,be=me-ie,Ee=Math.sqrt(we*we+ve*ve);O=(ne+le+we/Ee*be)/2,j=(re+fe+ve/Ee*be)/2,Q=(Ee+ie+me)/2}else K=q.left||q.right,K&&(O=K.cx,j=K.cy,Q=K.r);q.cx=O,q.cy=j,q.r=Q},"getMeasureBodies"),Gt=d(({X:M,Y:D,R:P,fx:$,fy:q,bucketSize:O},{elasticity:j,margin:Q})=>K=>{const de=K.data;if(de===null){const ne=K.cx-lt,re=K.cy-Ct,le=K.r+Pt;return ne*ne+re*re>le*le}if(O!==0){const ne=de;for(let re=0;re<ne.length;re++){const le=ne[re];if(le>vt){const fe=P[le];let ie=lt-M[le]-$[le],me=Ct-D[le]-q[le];const we=Pt+fe+Q;let ve=ie*ie+me*me;if(ve<we*we){ie===0&&(ie=y(),ve+=ie*ie),me===0&&(me=y(),ve+=me*me);const be=Math.sqrt(ve),Ee=(we-be)*j/be,Te=fe/we;$[vt]+=ie*Ee*Te,q[vt]+=me*Ee*Te,$[le]-=ie*Ee*(1-Te),q[le]-=me*Ee*(1-Te)}}}}else{const ne=K.data;if(ne>vt){const re=P[ne];let le=lt-M[ne],fe=Ct-D[ne];const ie=Pt+re+Q;let me=le*le+fe*fe;if(me<ie*ie){le===0&&(le=y(),me+=le*le),fe===0&&(fe=y(),me+=fe*fe);const we=Math.sqrt(me),ve=(ie-we)*j/we,be=re/ie;$[vt]+=le*ve*be,q[vt]+=fe*ve*be,$[ne]-=le*ve*(1-be),q[ne]-=fe*ve*(1-be)}}}},"getApplyForce");function qt(M,D,{X:P,Y:$,fx:q,fy:O},{gravity:j,cx:Q,cy:K}){let de=0,ne=0;const re=D.length;for(let le=0;le<re;le++)de+=P[le],ne+=$[le];de=de/re-Q,ne=ne/re-K;for(let le=0;le<re;le++){const fe=D[le],ie=Q-P[fe]||y(),me=K-$[fe]||y(),we=j*M;q[fe]+=ie*we,O[fe]+=me*we}}kt.initialize=(M,D,P)=>{const{X:$,Y:q,R:O}=D;rt=d(j=>$[j],"getX"),Rt=d(j=>q[j],"getY"),It=d(j=>O[j],"getR"),Mt=bt(D),Wt=Gt(D,P)},d(qt,"center");var Er=d((M,D,P)=>{const{X:$,Y:q}=D;let O=P.cx,j=P.cy;const Q=M.length;if(O===void 0||j===void 0){O=j=0;for(let K=0;K<Q;K++)O+=$[K],j+=q[K];O/=Q,j/=Q}P.cx=O,P.cy=j},"initialize");function ht(M){let D=0,P=0;for(const j of M)D+=j.w*j.h,P=Math.max(P,j.w);M.sort((j,Q)=>Q.h-j.h);const $=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),P),h:1/0}];let q=0,O=0;for(const j of M)for(let Q=$.length-1;Q>=0;Q--){const K=$[Q];if(!(j.w>K.w||j.h>K.h)){if(j.x=K.x,j.y=K.y,O=Math.max(O,j.y+j.h),q=Math.max(q,j.x+j.w),j.w===K.w&&j.h===K.h){const de=$.pop();Q<$.length&&($[Q]=de)}else j.h===K.h?(K.x+=j.w,K.w-=j.w):j.w===K.w?(K.y+=j.h,K.h-=j.h):($.push({x:K.x+j.w,y:K.y,w:K.w-j.w,h:j.h}),K.y+=j.h,K.h-=j.h);break}}}function xt(M,D=1){return ht(M.map(P=>(P.w+=P.maxr+D,P.h+=P.maxr+D,P)).sort((P,$)=>P.w*P.h-$.w*$.h))}function gt(M,D=20,P,$,q){for(const ie of M){const{x:me,y:we,r:ve}=b(ie.ids,be=>P[be],be=>$[be],be=>q[be]);ie.cx=me,ie.cy=we,ie.radius=ve+D}const O=M.slice().sort((ie,me)=>ie.radius-me.radius),j=O.map(ie=>({x:ie.cx,y:ie.cy,r:ie.radius})),Q=O.pop();let K=3*Math.PI/2,de=Q.radius;const ne=2*Math.PI,{cx:re,cy:le}=Q,fe=[Q];for(;O.length!==0;){const ie=O[O.length-1],me=de+ie.radius,we=re+Math.cos(K)*me,ve=le+Math.sin(K)*me;fe.some(be=>{const Ee=be.cx-we,Te=be.cy-ve;return Math.sqrt(Ee*Ee+Te*Te)<be.radius+ie.radius})?de+=1:(ie.x=we-ie.w/2,ie.y=ve-ie.h/2,ie.cx=we,ie.cy=ve,j[O.length-1].x=we,j[O.length-1].y=ve,fe.push(O.pop()),K+=(2*ie.radius+1)/me*1%ne)}}qt.initialize=Er,d(ht,"potpack"),d(xt,"boxpack"),d(gt,"spiralpack");var jt=class{constructor(){this.ids=[],this.xmin=1/0,this.ymin=1/0,this.xmax=-1/0,this.ymax=-1/0,this.x=0,this.y=0,this.w=0,this.h=0,this.cx=0,this.cy=0,this.radius=0,this.mx=0,this.my=0,this.m=0,this.maxr=0}add(M,D,P,$){this.ids.push(M),D-$<this.xmin&&(this.xmin=D-$),P-$<this.ymin&&(this.ymin=P-$),D+$>this.xmax&&(this.xmax=D+$),P+$>this.ymax&&(this.ymax=P+$),$>this.maxr&&(this.maxr=$),this.mx+=$*D,this.my+=$*P,this.m+=$}measure(M=0){return this.w=this.xmax-this.xmin+2*M,this.h=this.ymax-this.ymin+2*M,this.cx=this.mx/this.m,this.cy=this.my/this.m,this.x=this.xmin,this.y=this.ymin,this.radius=Math.sqrt(this.w*this.w+this.h*this.h)/2,this}};function Jt(M,D){return M<D?M*D+Math.pow(D-M-1,2)/4:M*D+Math.pow(M-D-1,2)/4}function pn(M,D){return(M+D)*(M+D+1)/2+D}function zn({edgeIds:M,sources:D,targets:P,pinned:$,degrees:q,X:O,Y:j,R:Q},K=0,de=.5){const ne={},re={};for(const le of M){const fe=D[le],ie=P[le];fe!==ie&&(ne[fe]=ne[fe]||{},ne[ie]=ne[ie]||{},ne[fe][ie]=!0,ne[ie][fe]=!0)}Object.keys(ne).forEach(le=>{const fe=Number(le),ie=Object.keys(ne[Number(fe)]);if(ie.length===2){const[me,we]=ie,ve=Jt(Number(me),Number(we));ve in re||(re[ve]=[Number(we),Number(me)]),$[fe]||re[ve].push(fe)}}),Object.keys(re).forEach(le=>{const[fe,ie,...me]=re[Number(le)];if(me.length<3)return;const we=O[fe],ve=j[fe],be=O[ie],Ee=j[ie],Te=q[fe],ke=.25+.5*Te/(Te+q[ie]);let Ce=we+(be-we)*ke,Je=ve+(Ee-ve)*ke,Qe=-(Ee-ve),dt=be-we;const ot=Math.sqrt(Math.pow(we-be,2)+Math.pow(ve-Ee,2));Qe=-2*Qe/ot,dt=-2*dt/ot;const Tt=Math.acos(Qe/Math.sqrt(Qe*Qe+dt*dt));K>0&&(Tt<K||Tt>Math.PI-K&&Tt<=Math.PI?(Qe=2*Math.cos(Math.PI-K),dt=2*Math.sin(Math.PI-K)):(Tt>2*Math.PI-K||Tt>=Math.PI&&Tt<Math.PI+K)&&(Qe=2*Math.cos(K),dt=2*Math.sin(K)));let Xt=0,Ht=1;me.sort((ar,kn)=>Q[kn]-Q[ar]);let Bn=0,Ar=0;const kr=Math.max(Q[me[0]],Q[me[1]])/2;me.length%2==1&&(Xt=1,Ce-=Qe*kr,Je-=dt*kr);const jn=1+de;for(let ar=0;ar<me.length;ar++){const kn=(Xt+ar)%2,lr=me[ar],Cn=ar>=2?Q[lr]:kr,va=(kn?Bn:Ar)+Cn;O[lr]=Ce+Qe*Ht*va,j[lr]=Je+dt*Ht*va,kn?Bn+=Cn*jn:Ar+=Cn*jn,Ht=-Ht}})}function mn(M,D,P,$){let q=0;const O=[];for(const j of $){const Q=new jt;for(const K of j)Q.add(K,M[K],D[K],P[K]);O.push(Q.measure()),j.length>O[q].ids.length&&(q=O.length-1)}return{boxes:O,biggest:q}}function Mn(M,D,{X:P,Y:$,R:q,components:O,pinned:j,degrees:Q,sources:K,targets:de,edgeIds:ne},{update:re,onUpdate:le,placement:fe,placementOffset:ie,alignSiblings:me,siblingsMinAngle:we,siblingsOffset:ve}){if(me&&(zn({X:P,Y:$,R:q,degrees:Q,pinned:j,sources:K,targets:de,edgeIds:ne},we,ve),re(M,P,$)),fe){const{boxes:be,biggest:Ee}=mn(P,$,q,O);if(fe==="spiral")gt(be,ie,P,$,q);else{if(fe!=="box")return;xt(be,ie)}const Te=be[Ee].xmin-be[Ee].x,ke=be[Ee].ymin-be[Ee].y;for(const Ce of be){const{xmin:Je,ymin:Qe,x:dt,y:ot,ids:Tt}=Ce,Xt=Je-dt-Te,Ht=Qe-ot-ke;for(const Bn of Tt)P[Bn]-=Xt,$[Bn]-=Ht}re(M,P,$),le()}}function Sr(M,D,{X:P,Y:$,nodeIds:q,edgeIds:O,layers:j,movements:Q,movementsPrev:K,surfaces:de,surfacesPrev:ne},re,le,fe){const{nextTick:ie,cancelTick:me,batch:we,steps:ve,minMovement:be,update:Ee,onUpdate:Te,autoStop:ke}=re;let Ce=0,Je=1,Qe,dt=1-Math.pow(.05,1/ve),ot=!1;const Tt=d(()=>{ot=!0,me(Qe),Te(),fe(Ce)},"stop");let Xt=!1;const Ht=d(()=>{Je+=(.001-Je)*dt;const Bn=le(Je,q,O),Ar=j.length;let kr=!1,jn=!1;if(ke){kr=jn=!0;const{movementRatio:kn,surfaceRatio:lr}=ke;for(let Cn=0;Cn<Ar;Cn++)kr&&Math.abs(1-de[Cn]/ne[Cn])>lr&&(kr=!1),jn&&Math.abs(Q[Cn]-K[Cn])>kn&&(jn=!1)}kr&&jn&&!Xt&&(dt=1-Math.pow(.001,1/Math.max(10,Ce)),Xt=!0);const ar=ot||Je<.05||Bn!==0&&Bn<=be;if(Ce%we==0&&(Ee(M,P,$),Te()),++Ce>=ve||ar)return Tt();for(let kn=0;kn<Ar;kn++)K[kn]=Q[kn],ne[kn]=de[kn];Qe=ie(Ht)},"simulationStep");return{done:!1,start(){return Qe=setTimeout(Ht),this},stop(){return Tt(),this},get iterations(){return Ce}}}function Ri(M,D,{X:P,Y:$,R:q,degrees:O,nodeIds:j,edgeIds:Q,layers:K,layer:de,cluster:ne,masses:re,weights:le,sources:fe,targets:ie},{cx:me,cy:we,nextTick:ve,cancelTick:be,update:Ee,onUpdate:Te,batch:ke,maxIterations:Ce,steps:Je,minMovement:Qe},dt,ot){const Tt=K.slice();let Xt,Ht=0;function Bn(){be(Xt),Ee(M,P,$),Te(),ot(Ht)}d(Bn,"stop");const Ar={};for(let Yn=0;Yn<D.length;Yn++)Ar[Number(D[Yn].id)||Yn]=Yn;const kr=new Map;for(let Yn=0;Yn<Q.length;Yn++){const Di=Q[Yn];kr.set(pn(fe[Di],ie[Di]),Di)}for(let Yn=0;Yn<K.length;Yn++){const Di=K[Yn],As=Yn;for(let yi=0;yi<Di.length;yi++){const Tn=Di[yi],wn=ne[Tn];wn!==-1&&(re[wn]+=re[Tn])}for(let yi=0;yi<D.length;yi++){const Tn=D[yi],wn=Number(Tn.id)||yi,zi=Tn.source,So=Tn.target,cu=le[Ar[wn]];if(de[zi]===As&&de[So]===As){const _w=ne[zi],yw=ne[So];if(_w!==yw){const xw=kr.get(pn(_w,yw));xw!==void 0&&(le[xw]+=cu)}}}}j.length=0,Q.length=0;let jn=1;const ar=1-Math.pow(.1,1/Je/2),kn=(jn-.1)/Je;let lr,Cn,va=.5;function Om(){jn+=(0-jn)*ar;const Yn=dt(jn,j,Q);let Di=jn<=va||Yn<Qe;if(Ht===0||Di){const As=Tt.pop();if(As){lr&&(Cn=lr.reduce((Tn,wn)=>Math.max(Tn,me-P[wn],we-$[wn]),0)),j.push.apply(j,As);for(let Tn=0;Tn<As.length;Tn++){const wn=As[Tn],zi=ne[wn];if(zi!==-1){const So=O[wn]>1?2:1,cu=q[zi]+q[wn];re[zi]-=re[wn],P[wn]=P[zi]+So*cu*(2*m()-1),$[wn]=$[zi]+So*cu*(2*m()-1)}else lr&&(P[wn]=me+2*Cn*(1-2*m()),$[wn]=we+2*Cn*(1-2*m()))}lr=As;const yi=j.reduce((Tn,wn)=>(Tn[wn]=!0,Tn),{});Q.length=0;for(let Tn=0;Tn<D.length;Tn++){const{source:wn,target:zi,id:So}=D[Tn];yi[wn]&&yi[zi]&&Q.push(Ar[Number(So)])}Di=!1,Tt.length===0?(jn=.2,va=.1):(jn=.1+2*kn,va=.1)}}Ht%ke==0&&(Ee(M,P,$),Te()),++Ht>=1/0||Di?Bn():Xt=ve(Om)}return d(Om,"simulationStep"),{done:!1,start(){return Xt=setTimeout(Om),this},stop(){return Bn(),this},get iterations(){return Ht}}}function Ut(M,D,{X:P,Y:$,fx:q,fy:O,vx:j,vy:Q,masses:K,pinned:de},ne){let re=0,le=0;const fe=M.length,ie=1/8;for(let me=0;me<fe;me++){const we=M[me],ve=K[we],be=q[we]/ve,Ee=O[we]/ve;j[we]+=be*ie,Q[we]+=Ee*ie;const Te=.2*j[we]*ie+.5*be*ie*ie,ke=.2*Q[we]*ie+.5*Ee*ie*ie;q[we]=O[we]=0,de[we]||(P[we]+=Te,$[we]+=ke,re+=Math.abs(Te)*ve,le+=Math.abs(ke)*ve)}return(re*re+le*le)/fe}function An(M,D,{X:P,Y:$,fx:q,fy:O,pinned:j,layer:Q,layers:K,surfaces:de,movements:ne},{maxDisplacement:re}){ne.fill(0);let le=0;const fe=M.length;let ie=1/0,me=1/0,we=-1/0,ve=-1/0;const be=re*re;for(let ke=0;ke<fe;ke++){const Ce=M[ke],Je=q[Ce]*=D,Qe=O[Ce]*=D,dt=Q[Ce];let ot=Je,Tt=Qe;const Xt=P[Ce],Ht=$[Ce];if(ot*ot+Tt*Tt>be){const Ar=Math.sqrt(ot*ot+Tt*Tt)/re;Tt/=Ar,ot/=Ar}j[Ce]||(P[Ce]+=ot,$[Ce]+=Tt);const Bn=Math.sqrt(ot*ot+Tt*Tt);j[Ce]||(Xt<ie&&(ie=Xt),Ht<me&&(me=Ht),Xt>ie&&(we=Xt),Ht>me&&(ve=Ht),ne[dt-1]+=Bn),le+=dt*Bn}const Ee=Math.max(we-ie,0),Te=Math.max(ve-me,0);for(let ke=0;ke<K.length;ke++){const Ce=K[ke],Je=Ce.length;let Qe=1/0,dt=1/0,ot=-1/0,Tt=-1/0,Xt=0;for(let ar=0;ar<Je;ar++){const kn=Ce[ar];if(j[kn])continue;const lr=P[kn],Cn=$[kn];lr<Qe&&(Qe=lr),Cn<dt&&(dt=Cn),lr>ot&&(ot=lr),Cn>Tt&&(Tt=Cn),Xt++}const Ht=ot-Qe,Bn=Tt-dt,Ar=Math.max(1,Math.sqrt(a(Ht,2)+a(Bn,2)));de[ke]=Ar;const kr=Xt===0?0:ne[ke]/Xt,jn=Ee*Te||1;ne[ke]=kr>Xt?kr/jn:0}return le}function On(M,D,{X:P,Y:$,fx:q,fy:O,vx:j,vy:Q,pinned:K,masses:de},ne){const re=M.length;let le=0;for(let fe=0;fe<re;fe++){const ie=M[fe],me=de[ie],we=q[ie]/me,ve=O[ie]/me,be=j[ie]+1*we,Ee=Q[ie]+1*ve;let Te=1*be,ke=1*Ee;Te>1e4&&(Te=.1),ke>1e4&&(ke=.1),j[ie]=D*(be+j[ie])/2,Q[ie]=D*(Ee+Q[ie])/2,q[ie]=O[ie]=0,K[ie]||(P[ie]+=Te,$[ie]+=ke),le+=.5*(Te*Te+ke*ke)}return le}d(jt,"Component"),d(Jt,"unorderedPair"),d(pn,"orderedPair"),d(zn,"alignSiblings"),d(mn,"groupAndMeasure"),d(Mn,"postprocessing"),d(Sr,"singleLevel"),d(Ri,"multiLevel"),d(Ut,"euler"),d(An,"velocityVerlet"),d(On,"leapfrog");var z=(M=>(M[M.verlet=0]="verlet",M[M.euler=1]="euler",M))(z||{}),U=0,X=typeof window>"u",V=typeof performance<"u"&&performance.now?performance:Date,ae=X?M=>{const D=V.now(),P=Math.max(0,16-(D-U)),$=setTimeout(()=>M(D+P),P);return U=D+P,$}:window.requestAnimationFrame,Le=X?M=>clearTimeout(M):window.cancelAnimationFrame;function Xe(M,D,P){for(let $=0;$<M.length;$++){const q=M[$];q.x=D[$],q.y=P[$]}}d(Xe,"defaultUpdate");var je=d(M=>{},"noop"),Ue={movementRatio:7e-8,surfaceRatio:.0025},et=class{constructor(M={}){this.onUpdate=je,this.update=Xe,this.nextTick=ae,this.cancelTick=Le,this.onEnd=je,this.charge=10,this.maxIterations=300,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=1,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=300,this.scaling=1,this.defaultRadius=1,this.autoStop=Ue,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in M?M.autoStop&&(typeof M.autoStop=="boolean"?M.autoStop=Ue:M.autoStop=c(c({},M.autoStop),Ue)):M.steps;for(const D in M)M[D]!==void 0&&(this[D]=M[D])}};function pt(M,D,P){yt(M,D,P),ct(P)}function yt(M,D,{sources:P,targets:$,degrees:q,nodeIds:O,edgeIds:j}){const Q={};for(let K=0;K<M.length;K++)Q[K]=O[K]=K;for(let K=0;K<D.length;K++){const{source:de,target:ne}=D[K],re=Q[de],le=Q[ne];j[K]=K,P[K]=re,$[K]=le,q[re]++,q[le]++}}function ct({nodeIds:M,edgeIds:D,sources:P,targets:$,degrees:q,layer:O,layers:j,component:Q,components:K,cluster:de,parent:ne}){let re=0,le=1;const fe=new Uint32Array(M.length);for(let Ee=0;Ee<M.length;Ee++)fe[Ee]=q[Ee];const ie=new Array(M.length);for(let Ee=0;Ee<D.length;Ee++){const Te=D[Ee],ke=P[Te],Ce=$[Te];ie[ke]=ie[ke]||[],ie[Ce]=ie[Ce]||[],ie[ke].push(Ce),ie[Ce].push(ke)}const me=new Uint8Array(M.length),we=new Uint8Array(M.length);ne.fill(-1);let ve=0;for(let Ee=0;Ee<M.length;Ee++)if(me[Ee]===0){const Te=[Ee];for(;Te.length!==0;){const ke=Te.pop();me[ke]===0&&(Te.push.apply(Te,ie[ke]),me[ke]=1,Q[ke]=ve)}ve++}const be=new Array(M.length);for(let Ee=0;Ee<M.length;Ee++)O[Ee]=0,be[Ee]=Ee;for(;be.length!==0;){const Ee=[],Te=[];for(let ke=0;ke<be.length;ke++)fe[be[ke]]<=re&&(Ee.push(ke),Te.push(be[ke]));for(let ke=0;ke<Te.length;ke++){const Ce=Te[ke];we[Ce]=re,O[Ce]=le;const Je=ie[Ce];if(Je)for(let Qe=0;Qe<Je.length;Qe++)fe[Je[Qe]]--}for(let ke=0;ke<Te.length;ke++){const Ce=Te[ke],Je=ie[Ce];if(Je)for(let Qe=0;Qe<Je.length;Qe++){const dt=Je[Qe],ot=O[dt];if(ot===void 0||ot>le){ne[Ce]=dt;break}}}Ee.reverse();for(let ke=0;ke<Ee.length;ke++)be.splice(Ee[ke],1);if(le+=1,be.length>0){let ke=1/0;for(let Ce=0;Ce<be.length;Ce++){const Je=fe[be[Ce]];Je<ke&&(ke=Je)}ke>=re+1&&(re=ke,le=1)}}me.fill(0);for(let Ee=0;Ee<M.length;Ee++){const Te=M[Ee],ke=O[Te];if(ne[Te]===-1||O[ne[Te]]===ke){const Ce=[Te];for(me.fill(0);Ce.length!==0;){const Je=Ce.pop();if(me[Je])continue;if(O[Je]>ke){ne[Te]=Je;break}const Qe=ie[Je];me[Je]=1,Qe&&Ce.push.apply(Ce,Qe)}}}for(let Ee=0;Ee<M.length;Ee++){const Te=M[Ee],ke=Q[Te];K[ke]=K[ke]||[],K[ke].push(Te);const Ce=O[Te]-1;j[Ce]=j[Ce]||[],j[Ce].push(Te),de[Te]=ne[Te]}}d(et,"Settings"),d(pt,"default"),d(yt,"initTopology"),d(ct,"decomposition");var mt=class{constructor(M,D=!0){this.bucketSize=0;const P=M.nodes.length,$=M.edges.length;_(P+$),this.X=new Array(P),this.Y=new Array(P),this.R=new Array(P),this.fx=new Float32Array(P),this.fy=new Float32Array(P),this.vx=new Float32Array(P),this.vy=new Float32Array(P),this.pinned=new Uint8Array(P),this.masses=new Float32Array(P),this.weights=new Float32Array($),this.lengths=new Float32Array($),this.sources=new Uint16Array($),this.targets=new Uint16Array($),this.degrees=new Uint32Array(P),this.layer=new Uint32Array(P),this.parent=new Int32Array(P),this.cluster=new Int32Array(P),this.component=new Uint16Array(P),this.components=[],this.layers=[],this.nodeIds=new Array(P),this.edgeIds=new Array($),D&&pt(M.nodes,M.edges,this),this.movements=new Array(this.layers.length).fill(0),this.surfaces=new Array(this.layers.length).fill(0),this.movementsPrev=new Array(this.layers.length).fill(0),this.surfacesPrev=new Array(this.layers.length).fill(0)}};d(mt,"LayoutData");var Vt=class{constructor(M){this.promise=new Promise(M)}then(M){return this.promise.then(M)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};d(Vt,"SimulationPromise");var fn,Ft={euler:Ut,verlet:An,leapfrog:On};function wt(M,D={}){let P,$;const q=d((le={nodes:[],edges:[]})=>(P=le.nodes,$=le.edges,_(pn(P.length,$.length)),new mt(le)),"setGraph"),O=d((le={})=>new et(le),"setOptions");let j=q(M),Q=O(D);nt.initialize($,j),ge.initialize(P,j,Q),kt.initialize(P,j,Q),qt.initialize(P,j,Q);const K=Ft[Q.integrator]||An;let de=null;const ne=d((le,fe,ie)=>(de&&(de.destroy(),de=null),fe.length<=1?0:(Q.barnesHutOptimization?de=ge(le,fe,de,j):Fe(le,fe,j,Q),nt(le,ie,j,Q),de&&Q.elasticity!==0&&kt(0,fe,de,j,Q),qt(le,fe,j,Q),K(fe,Q.inertia,j,Q))),"step");let re;return{setOptions:(le={})=>(Q=O(le),this),setGraph:({nodes:le,edges:fe})=>(j=q(M),nt.initialize(fe,j),ge.initialize(le,j,Q),kt.initialize(le,j,Q),qt.initialize(le,j,Q),this),start(){return re=(Q.multilevel?Ri:Sr)(P,$,j,Q,ne,le=>{re.done||Mn(P,0,j,Q),Q.onEnd(le),re.done=!0}).start(),this},iterations:()=>re.iterations,data:()=>j,stop(){return re&&re.stop(),this},step(le=1){return ne(le,j.nodeIds,j.edgeIds),Q.update(P,j.X,j.Y),this}}}return d(wt,"force"),wt.run=(M,D)=>{let P;const $=new Vt(q=>{D.onEnd=q,P=wt(M,D).start()});return $.simulation=P,$.stop=()=>(P.stop(),$),$},fn=u,((M,D,P,$)=>{if(D&&typeof D=="object"||typeof D=="function")for(let q of r(D))s.call(M,q)||q===P||t(M,q,{get:()=>D[q],enumerable:!($=n(D,q))||$.enumerable});return M})(t({},"__esModule",{value:!0}),fn)})();return e.default.apply(this,arguments)}Pe(RF,"LayoutData"),Pe(Zh,"gpuLayout"),Zh.run=(e,t,n)=>{let r;const i=new GP(s=>{n.onEnd=s,r=Zh(e,t,n).start()});return i.simulation=r,i.stop=()=>(r.stop(),i),i};var $H=1.25,ph=!1,my=1,DF=(e,t)=>15.838515103680152*(e/=1e4)**2+8.314733774880047*e+1.7153697544446842*(t/=1e4)+.7256037599720837,Ta={start:0,steps:0,invalid:!1};function gA(e,t,n,r){const i=DF(e,t)*n;my=r/i*.5+.5*my}function pA(e,t,n=!1,r=!1){if(r)return{delay:0,batchSize:300};const i=my*DF(e,t);return n?{delay:30,batchSize:Math.max(1,Math.ceil(30/i))}:{delay:200,batchSize:Math.max(1,Math.ceil(200/i))}}var mA={name:"force",imports:{force:hA},configure(e,{graph:t,events:n}){const r=e.nodes._indexes,i=t.getNodeAttribute("x").getMultiple(r),s=t.getNodeAttribute("y").getMultiple(r),o=t.getNodeAttribute("radius").getMultiple(r),a=t.getNodeAttribute("layoutable").getMultiple(r),l=e.edges,c=[],d=[],u={};e.edgeStrength===void 0&&(e.edgeStrength=.75),e.gravity==null&&(e.gravity=.015),e.siblingsOffset==null&&(e.siblingsOffset=0),e.theta==null&&(e.theta=.62),e.autoStop=!!e.autoStop,e.alignSiblings=!!e.alignSiblings;const h=e.radiusRatio||$H;for(let p=0;p<e.nodes._indexes.length;p++){const m=e.nodes._indexes[p];u[m]=p,c.push({id:p,x:i[p],y:s[p],r:o[p]*h,pinned:!a[p]})}l.forEach(p=>{const m=u[p.getSource()._index],_=u[p.getTarget()._index];m!==_&&m!==void 0&&_!==void 0&&d.push({source:m,target:_})});const g=Yp(Se({},e));return delete g.nodes,delete g.edges,{graph:{nodes:c,edges:d},options:g,indexes:e.nodes._indexes,done:!1,x:i,y:s,chunkPeriod:250}},update:function(e,t){if(!t.simulation&&e){let n;t.done=!1,t.graph=e.graph,t.options=e.options,t.indexes=e.indexes;let r=!1;if(e.options.gpu){const l=QL(()=>{ao("GPU layout: WebGL context not available. Falling back on CPU."),t.simulation=void 0,t.options.gpu=!1,t.cleanUp&&t.cleanUp(),this._update(e,t)});l&&(n=l.gl,t.cleanUp=l.cleanUp),r=!!n}let i=Date.now();if(r){ph=!1;let l=0,c=0;const d=100;let{delay:u,batchSize:h}=pA(e.graph.nodes.length,e.graph.edges.length,ph,!1),g=performance.now();e.options.nextTick=p=>{const m=performance.now();l++,c++;const _=e.options.steps;if(l<h&&_&&c<_)return p();const y=pA(e.graph.nodes.length,e.graph.edges.length,ph,!1),f=c===h?1:0;u=y.delay,h=y.batchSize,e.options.batch=h,l=0;const x=m-g;gA(e.graph.nodes.length,e.graph.edges.length,h,x),g=m,setTimeout(p,u-f*d)}}else e.options.nextTick=l=>Date.now()-i<=t.chunkPeriod?l():(i=Date.now(),setTimeout(l,0));e.options.update=(l,c,d)=>{t.x=c,t.y=d},e.options.onEnd=()=>{t.done=!0,t.simulation=void 0,t.cleanUp&&t.cleanUp()},e.options.bucketSize=0;const s=r&&n?Zh(e.graph,n,e.options).start():hA(e.graph,e.options).start(),{X:o,Y:a}=s.data();t.simulation=s,t.x=o,t.y=a}return{graph:t.graph,indexes:t.indexes,x:t.x,y:t.y}},context:function(){return{done:!1,graph:{nodes:[],edges:[]},x:null,y:null,indexes:null,chunkPeriod:250}},setIdle(e=!1){ph=e,Ta.invalid=!0},stop:function(e){e.done=!0,e.simulation&&(e.simulation.stop(),delete e.simulation)},isRunning:function(e){return!e.done||(e.done=!1,!1)},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}},onStart(e){e.gpu&&(Ta.steps=e.steps,Ta.start=Date.now(),Ta.invalid=!1)},onStop(e){if(e.gpu&&!Ta.invalid){const{steps:t,start:n}=Ta;gA(e.nodes.size,e.edges.size,t,Date.now()-n)}}};function VH(e,t,n,r,i){return{x:e+i*(n-e),y:t+i*(r-t)}}var GH=10;function HH(e,t,n){let r,i,s=1/0;for(let o=0,a=t.length;o<a;o++){const l=t[o],c=t[(o+1)%a],d=Ev(e[0],e[1],l[0],l[1],c[0],c[1]);d<s&&(s=d,r=l,i=c)}return WH(e[0],e[1],r[0],r[1],i[0],i[1],n)}function WH(e,t,n,r,i,s,o){const a=OI(e,t,n,r,i,s);let l=-(r-s),c=n-i;const d=Math.sqrt(l*l+c*c);return l/=d,c/=d,[a.x-o*l,a.y-o*c]}function qH(e,t,n,r){for(let i=0;i<e.length;i++){const[s,o]=e[i],a=Math.abs(s-t),l=Math.abs(o-n);if(a+l<=r||!(a>r||l>r)&&a*a+l*l<=r*r)return!0}return!1}function XH(e,t,n){const r=DI(n.cx,n.cy,e,t,n.minX,n.minY,n.maxX,n.maxY);let i,s=1/0,o={x:n.maxX,y:t};for(const a of r)i=vn(e,t,a.x,a.y),i<s&&(s=i,o=a);return o}function YH(e){const t=e.bottomLeft(),n=e.topRight();return[[t.x,t.y],[t.x,n.y],[n.x,n.y],[n.x,t.y]]}function ZH(e,t,n,r){const i=[],s=[],o=[];return e.forEach((a,l)=>{r[l]&&(i.push(a),s.push(t[l]),o.push(n[l]))}),{ids:i,subgraphPositions:s,radii:o}}function QH(e,t,n){const{duration:r=0,margin:i=5,referenceNodes:s,nodes:o}=t,{ids:a,subgraphPositions:l,radii:c}=ZH(o.getId(),n,o.getAttribute("radius"),o.getAttribute("layoutable")),d=e.getNodes(a);let u=s;!u||u instanceof ws||(u=e.getNodes(u));const h=u||d.inverse(),g=h.getPosition().map(A=>[A.x,A.y]),p=d.getBoundingBox(),m=h.getBoundingBox();m.pad(m.maxScaledSize);const _={layoutName:"incremental",ids:d.getId(),positions:{before:l,current:l}};if(!d.size)return Promise.resolve(_);const y=em(l.map(A=>A.x),l.map(A=>A.y),c),[f,x]=y,v=y[2]+m.maxScaledSize+i;let w,b=0,S=0;if(qH(g,f,x,v))if(h.size<=3){if(lv(f,x,y[2],m.minX,m.minY,m.maxX,m.maxY)){const A=XH(f,x,m);w=vn(m.cx,m.cy,A.x,A.y);const C=VH(m.cx,m.cy,A.x,A.y,(w+v)/w);b=C.x-f,S=C.y-x}}else{const A=qx.from(g,B=>B[0],B=>B[1]),C=_d(A.triangles,g),k=g.length>3?_d(A.hull,g):YH(m),N=pN(h.getPosition(),GH,v,C,k);let R=HH([f,x],k,v);if(N.length>0){let B=Math.pow(f-R[0],2)+Math.pow(x-R[1],2);for(const H of N)b=f-H[0],S=x-H[1],w=b*b+S*S,w<B&&(B=w,R=H.slice(0,2));b=R[0]-f,S=R[1]-x}else b=R[0]-p.cx,S=R[1]-p.cy}if(b||S){const A=l.map(C=>(C.x+=b,C.y+=S,C));if(t.locate){typeof t.locate=="boolean"&&(t.locate={});const C=e.modules.locate.layoutDataBoundingBox({x:[...g.map(N=>N[0]),...A.map(N=>N.x)],y:[...g.map(N=>N[1]),...A.map(N=>N.y)],indexes:e.getNodes()._indexes}),k=e.modules.locate.computeConfigForBounds(C,t.locate);e.modules.camera.setView(k,{duration:r,easing:t.locate.easing,ignoreZoomLimits:!0})}return _.positions.current=A,d.setAttributes(A,r).then(()=>_)}return d.setAttributes(l,r).then(()=>_)}function KH(e,t,n){const r=cn(t);return r.duration=0,r.dryRun=!0,r.locate=!1,delete r.incremental,n(r).then(i=>QH(e,t,i.positions.current))}function JH(e,t,n){const{nodes:r,duration:i,centralNode:s}=t,o=r,a=o.reduce((c,d)=>(c[d._index]=!0,c),{}),l=e.getNodes();if(t.focusOnGroupShape)return n({nodes:o,duration:0}).then(()=>{const c=o.concat(s),d=c.getAttribute("layoutable");return c.setAttributes({layoutable:!1}),n({nodes:e.getNodes(),duration:i}).then(()=>c.setAttributes(d))});{const c=cn(t);return delete c.centralNode,c.incremental=!1,c.nodes=l,c.nodeMass=(d,u)=>(u+1)*(a[d._index]?1:2),n(c)}}function zF(e,t,n){const r=wP(t.modules.graph,e);if(typeof r.incremental!="boolean"&&"margin"in r.incremental&&!isFinite(r.incremental.margin))throw new Error("Incremental layout: margin has to be a positive number");const i=cn(r);return typeof r.incremental!="boolean"&&(i.margin=r.incremental.margin,i.referenceNodes=r.incremental.referenceNodes),i.centralNode&&!i.centralNode.getAttribute("layoutable")?JH(t,i,n):KH(t,i,n)}var e9=300,t9=1e4,n9=e=>(e.modules.layouts.register(mA),(t={})=>{if(t.incremental)return zF(t,e,e.layouts.force);if(t.edgeStrength!==void 0&&(!isFinite(t.edgeStrength)||t.edgeStrength<0))throw new Error("force layout: edgeStrength must be a positive number");if(t.steps!==void 0&&(!isFinite(t.steps)||t.steps<=0))throw new Error("force layout: 'steps' must be a positive integer");if(t.edgeLength!==void 0&&(!isFinite(t.edgeLength)||t.edgeLength<=0))throw new Error("force layout: 'edgeLength' must be positive");if(t.gravity!==void 0&&(!isFinite(t.gravity)||t.gravity<0||t.gravity>=1))throw new Error("force layout: 'gravity' must be between 0 and 1");if(t.charge!==void 0&&!isFinite(t.charge))throw new Error("force layout: 'charge' must be a number");if(t.radiusRatio!==void 0&&(!isFinite(t.radiusRatio)||t.radiusRatio<0))throw new Error("force layout: 'radiusRatio' must be a positive number");if(t.theta!==void 0&&(!isFinite(t.theta)||t.theta<0||t.theta>1))throw new Error("force layout: 'theta' must be between 0 and 1");if(!(t.cx===void 0&&t.cy===void 0||typeof t.cx=="number"&&typeof t.cy=="number"))throw new Error("force layout: both 'cx' and 'cy' must be numbers");if(t.siblingsOffset!==void 0&&!isFinite(t.siblingsOffset))throw new Error("force layout: 'siblingsOffset' must be a number");const n=!!t.gpu&&(t.nodes?Rn(t.nodes)?t.nodes.length:t.nodes.size:e.getNodes().size)>t9;return t.gpu=!n&&!!t.gpu,t.gpu&&(t.useWebWorker=!1,t.steps=e9),e.modules.layouts.start(mA.name,t)}),fA={name:"forceLink",configure:function(e,{graph:t,camera:n,graphics:r}){const i=e.nodes._indexes,s=e.edges._indexes,o={},a={},l=i.length,c=s.length;let d;var u=t.getObjectList(!0),h=t.getObjectList(!1);(e.nodes||e.edges)&&(delete(e=cn(e)).nodes,delete e.edges);const g=t.getNodeAttribute("innerStroke.width").getMultiple(i),p=t.getNodeAttribute("outerStroke.width").getMultiple(i),m=t.degrees(i),_=t.getNodeAttribute("x").getMultiple(i),y=t.getNodeAttribute("y").getMultiple(i),f=t.getNodeAttribute("radius").getMultiple(i),x=t.nodeList(i).getAttribute("layoutable"),v=typeof e.nodeMass=="function"?e.nodeMass:function(F,T,W){return T+1};delete e.nodeMass;const w=typeof e.edgeWeight=="function"?e.edgeWeight:function(F){return 1};delete e.edgeWeight,isFinite(e.scalingRatio)||delete e.scalingRatio;const b=i.reduce((F,T,W)=>(x[W]||(F[T]=!0),F),{});let S=0,A=0,C=0;const k=n.getZoom();for(d=0;d<i.length;++d){const F=i[d],T=_[d],W=y[d],G=f[d]+(g[d]+p[d])/k;o[F]={id:F,x:T,y:W,degree:m[d],size:G,pinned:!!b[F],mass:v(u.get(F),m[d],d)},C=Math.max(G,C)}if(l>1)for(d=0;d<l;d++){const F=o[i[d]];S+=F.x,A+=F.y}S/=l,A/=l;const N={x:S,y:A},R=t.edgeList(s),B=R.getSource()._indexes,H=R.getTarget()._indexes;for(d=0;d<c;d++){const F=s[d],T=B[d],W=H[d];o[T]&&o[W]&&(a[F]={source:T,target:W},a[F].weight=w(h.get(F)))}return{nodes:o,edges:a,maxSize:C,config:Yp(e),barycentre:N}},context:function(){return{chunkPeriod:250}},update:function(e,t){let n;!t.W&&e?(n={ppn:10,ppe:3,ppr:9,MAX_SUBDIVISION_RETRIES:3,maxForce:10,iterations:0,converged:!1,settings:{linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:100,strongGravityMode:!0,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5,startingIterations:10,iterationsPerRender:10,maxIterations:1e3,avgDistanceThreshold:.01,autoStop:!0,alignNodeSiblings:!0,nodeSiblingsScale:5,nodeSiblingsAngleMin:0}},t.W=n,function(F,T){const W=function(Y,ee){let J,ue,Ae,ce=Y.nodes,_e=Y.edges,ze=Y.maxSize,Me=Object.keys(Y.nodes),We=Object.keys(Y.edges),he=Me.length*n.ppn,ye=We.length*n.ppe,Ze={};const tt=Math.pow(10,Math.log(Math.max(ze,1))-6),ut=tt/2,st=Math.random,Z=ee.randomizeFactor||1;let te;te=ee.randomize==="locally"?ge=>ge+st()*Z:ee.randomize==="globally"?ge=>st()*Z:ge=>ge+st()*tt-ut;const se=new Float32Array(he),oe=new Float32Array(ye);for(J=ue=0,Ae=Me.length;J<Ae;J++){const ge=Me[J],pe=ce[ge];let Oe=pe.x,Ie=pe.y;pe.pinned||(Oe=te(Oe),Ie=te(Ie)),Ze[ge]=ue,se[ue]=Oe,se[ue+1]=Ie,se[ue+2]=0,se[ue+3]=0,se[ue+4]=0,se[ue+5]=0,se[ue+6]=pe.mass,se[ue+7]=1,se[ue+8]=pe.size,se[ue+9]=pe.pinned||0,ue+=n.ppn}for(J=ue=0,Ae=We.length;J<Ae;J++){const ge=_e[We[J]];oe[ue]=Ze[ge.source],oe[ue+1]=Ze[ge.target],oe[ue+2]=ge.weight||0,ue+=n.ppe}return{nodes:se,edges:oe}}(F,T);t.NodeMatrix=W.nodes,t.EdgeMatrix=W.edges,n.nodesLength=t.NodeMatrix.length,n.edgesLength=t.EdgeMatrix.length}(e,e.config),n.settings=function(F,T){for(const W in F)T[W]=F[W];return T}(e.config,n.settings),t.nodes=e.nodes,t.edges=e.edges,t.barycentre=e.barycentre):n=t.W;let r,i=t.NodeMatrix,s=t.EdgeMatrix;const o=0,a=1,l=2,c=3,d=4,u=5,h=6,g=7,p=8,m=9,_=0,y=1,f=2,x=0,v=1,w=2,b=3,S=4,A=5,C=6,k=7,N=8;function R(){let H,F,T,W,G,Y,ee,J,ue,Ae,ce,_e,ze,Me,We,he,ye;for(T=0;T<n.nodesLength;T+=n.ppn)i[T+d]=i[T+l],i[T+u]=i[T+c],i[T+l]=0,i[T+c]=0;if(n.settings.outboundAttractionDistribution){for(ue=0,T=0;T<n.nodesLength;T+=n.ppn)ue+=i[T+h];ue/=n.nodesLength}if(n.settings.barnesHutOptimize){let te,se,oe,ge,pe=1/0,Oe=-1/0,Ie=1/0,Fe=-1/0;for(r=[],T=0;T<n.nodesLength;T+=n.ppn)pe=Math.min(pe,i[T+o]),Oe=Math.max(Oe,i[T+o]),Ie=Math.min(Ie,i[T+a]),Fe=Math.max(Fe,i[T+a]);const nt=Oe-pe,rt=Fe-Ie;for(nt>rt?(Ie-=(nt-rt)/2,Fe=Ie+nt):(pe-=(rt-nt)/2,Oe=pe+rt),r[0+x]=-1,r[0+v]=(pe+Oe)/2,r[0+w]=(Ie+Fe)/2,r[0+b]=Math.max(Oe-pe,Fe-Ie),r[0+S]=-1,r[0+A]=-1,r[0+C]=0,r[0+k]=0,r[0+N]=0,H=1,T=0;T<n.nodesLength;T+=n.ppn)for(F=0,oe=n.MAX_SUBDIVISION_RETRIES;;){if(!(r[F+A]>=0)){if(r[F+x]<0){r[F+x]=T;break}if(r[F+A]=H*n.ppr,ee=r[F+b]/2,J=r[F+A],r[J+x]=-1,r[J+v]=r[F+v]-ee,r[J+w]=r[F+w]-ee,r[J+b]=ee,r[J+S]=J+n.ppr,r[J+A]=-1,r[J+C]=0,r[J+k]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]-ee,r[J+w]=r[F+w]+ee,r[J+b]=ee,r[J+S]=J+n.ppr,r[J+A]=-1,r[J+C]=0,r[J+k]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]+ee,r[J+w]=r[F+w]-ee,r[J+b]=ee,r[J+S]=J+n.ppr,r[J+A]=-1,r[J+C]=0,r[J+k]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]+ee,r[J+w]=r[F+w]+ee,r[J+b]=ee,r[J+S]=r[F+S],r[J+A]=-1,r[J+C]=0,r[J+k]=0,r[J+N]=0,H+=4,ge=F+x,te=i[r[ge]+o]<r[F+v]?i[r[ge]+a]<r[F+w]?r[F+A]:r[F+A]+n.ppr:i[r[ge]+a]<r[F+w]?r[F+A]+2*n.ppr:r[F+A]+3*n.ppr,r[F+C]=i[r[ge]+h],r[F+k]=i[r[ge]+o],r[F+N]=i[r[ge]+a],r[te+x]=r[F+x],r[F+x]=-1,se=i[T+o]<r[F+v]?i[T+a]<r[F+w]?r[F+A]:r[F+A]+n.ppr:i[T+a]<r[F+w]?r[F+A]+2*n.ppr:r[F+A]+3*n.ppr,te===se){if(oe--){F=te;continue}oe=n.MAX_SUBDIVISION_RETRIES;break}r[se+x]=T;break}te=i[T+o]<r[F+v]?i[T+a]<r[F+w]?r[F+A]:r[F+A]+n.ppr:i[T+a]<r[F+w]?r[F+A]+2*n.ppr:r[F+A]+3*n.ppr,r[F+k]=(r[F+k]*r[F+C]+i[T+o]*i[T+h])/(r[F+C]+i[T+h]),r[F+N]=(r[F+N]*r[F+C]+i[T+a]*i[T+h])/(r[F+C]+i[T+h]),r[F+C]+=i[T+h],F=te}}if(n.settings.barnesHutOptimize)for(Ae=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)for(F=0;;)if(r[F+A]>=0){if(he=Math.sqrt((i[T+o]-r[F+k])*(i[T+o]-r[F+k])+(i[T+a]-r[F+N])*(i[T+a]-r[F+N])),2*r[F+b]/he<n.settings.barnesHutTheta){if(ce=i[T+o]-r[F+k],_e=i[T+a]-r[F+N],n.settings.adjustSizes?he>0?(ye=Ae*i[T+h]*r[F+C]/he/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye):he<0&&(ye=-Ae*i[T+h]*r[F+C]/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye):he>0&&(ye=Ae*i[T+h]*r[F+C]/he/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye),r[F+S]<0)break;F=r[F+S];continue}F=r[F+A]}else{if(r[F+x]>=0&&r[F+x]!==T&&(ce=i[T+o]-i[r[F+0]+o],_e=i[T+a]-i[r[F+0]+a],he=Math.sqrt(ce*ce+_e*_e),n.settings.adjustSizes?he>0?(ye=Ae*i[T+h]*i[r[F+0]+h]/he/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye):he<0&&(ye=-Ae*i[T+h]*i[r[F+0]+h]/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye):he>0&&(ye=Ae*i[T+h]*i[r[F+0]+h]/he/he,i[T+l]+=ce*ye,i[T+c]+=_e*ye)),r[F+S]<0)break;F=r[F+S]}else for(Ae=n.settings.scalingRatio,W=0;W<n.nodesLength;W+=n.ppn)for(G=0;G<W;G+=n.ppn)ce=i[W+o]-i[G+o],_e=i[W+a]-i[G+a],n.settings.adjustSizes?(he=Math.sqrt(ce*ce+_e*_e)-i[W+p]-i[G+p],he>0?(ye=Ae*i[W+h]*i[G+h]/he/he,i[W+l]+=ce*ye,i[W+c]+=_e*ye,i[G+l]+=ce*ye,i[G+c]+=_e*ye):he<0&&(ye=100*Ae*i[W+h]*i[G+h],i[W+l]+=ce*ye,i[W+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye)):(he=Math.sqrt(ce*ce+_e*_e),he>0&&(ye=Ae*i[W+h]*i[G+h]/he/he,i[W+l]+=ce*ye,i[W+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye));for(J=n.settings.gravity/n.settings.scalingRatio,Ae=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)ye=0,ce=i[T+o],_e=i[T+a],he=Math.sqrt(ce*ce+_e*_e),n.settings.strongGravityMode?he>0&&(ye=Ae*i[T+h]*J):he>0&&(ye=Ae*i[T+h]*J/he),i[T+l]-=ce*ye,i[T+c]-=_e*ye;for(Ae=1*(n.settings.outboundAttractionDistribution?ue:1),Y=0;Y<n.edgesLength;Y+=n.ppe)W=s[Y+_],G=s[Y+y],ee=s[Y+f],We=Math.pow(ee,n.settings.edgeWeightInfluence),ce=i[W+o]-i[G+o],_e=i[W+a]-i[G+a],n.settings.adjustSizes?(he=Math.sqrt(ce*ce+_e*_e)-i[W+p]-i[G+p],n.settings.linLogMode?n.settings.outboundAttractionDistribution?he>0&&(ye=-Ae*We*Math.log(1+he)/he/i[W+h]):he>0&&(ye=-Ae*We*Math.log(1+he)/he):n.settings.outboundAttractionDistribution?he>0&&(ye=-Ae*We/i[W+h]):he>0&&(ye=-Ae*We)):(he=Math.sqrt(ce*ce+_e*_e),n.settings.linLogMode?n.settings.outboundAttractionDistribution?he>0&&(ye=-Ae*We*Math.log(1+he)/he/i[W+h]):he>0&&(ye=-Ae*We*Math.log(1+he)/he):n.settings.outboundAttractionDistribution?(he=1,ye=-Ae*We/i[W+h]):(he=1,ye=-Ae*We)),he>0&&(i[W+l]+=ce*ye,i[W+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye);let Ze,tt,ut,st,Z=0;if(n.settings.adjustSizes)for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(Ze=Math.sqrt(i[T+l]*i[T+l]+i[T+c]*i[T+c]),Ze>n.maxForce&&(i[T+l]=i[T+l]*n.maxForce/Ze,i[T+c]=i[T+c]*n.maxForce/Ze),tt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),ut=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,st=.1*Math.log(1+ut)/(1+Math.sqrt(tt)),ze=i[T+o],Me=i[T+a],i[T+o]=i[T+o]+i[T+l]*(st/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(st/n.settings.slowDown),ce=i[T+o],_e=i[T+a],he=Math.sqrt((ce-ze)*(ce-ze)+(_e-Me)*(_e-Me)),Z+=he);else for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(tt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),ut=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,st=i[T+g]*Math.log(1+ut)/(1+Math.sqrt(tt)),i[T+g]=Math.min(1,Math.sqrt(st*(i[T+l]*i[T+l]+i[T+c]*i[T+c])/(1+Math.sqrt(tt)))),ze=i[T+o],Me=i[T+a],i[T+o]=i[T+o]+i[T+l]*(st/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(st/n.settings.slowDown),ce=i[T+o],_e=i[T+a],he=Math.sqrt((ce-ze)*(ce-ze)+(_e-Me)*(_e-Me)),Z+=he);if(n.iterations++,n.settings.autoStop&&(n.converged=n.iterations>n.settings.maxIterations||Z/n.nodesLength<n.settings.avgDistanceThreshold,n.converged&&n.settings.alignNodeSiblings)){let te,se,oe={},ge={};for(Y=0;Y<n.edgesLength;Y+=n.ppe)W=s[Y+_],G=s[Y+y],W!==G&&(oe[W]=oe[W]||{},oe[G]=oe[G]||{},oe[W][G]=!0,oe[G][W]=!0);Object.keys(oe).forEach(bt=>{var Gt=~~bt;se=Object.keys(oe[Gt]),se.length==2&&(te=se[0]+";"+se[1],te in ge||(te=se[1]+";"+se[0],ge[te]||(ge[te]=[~~se[1],~~se[0]])),ge[te].push(Gt))});let pe,Oe,Ie,Fe,nt,rt,Rt,It,Mt,Wt,vt,lt,Ct,Pt,Dt,kt=n.settings.nodeSiblingsAngleMin;Object.keys(ge).forEach(bt=>{if(Oe=ge[bt].shift(),Ie=ge[bt].shift(),pe=ge[bt].filter(ht=>!i[ht+m]),pe.length==1)return;if(rt=i[Oe+o],Rt=i[Oe+a],It=i[Ie+o],Mt=i[Ie+a],Fe=Object.keys(oe[Oe]).length,nt=Object.keys(oe[Ie]).length,Wt=function(xt,gt,jt,Jt,pn){return(pn-Jt)*(xt-gt)/(jt-gt)+Jt}(Fe/(Fe+nt),0,1,1/4,3/4),lt=function(xt,gt,jt,Jt,pn){return{x:xt+(jt-xt)*pn,y:gt+(Jt-gt)*pn}}(rt,Rt,It,Mt,Wt),Ct=function(xt,gt,jt,Jt){return{xi:-(Jt-gt),yi:jt-xt,xiPrime:Jt-gt,yiPrime:-(jt-xt)}}(rt,Rt,It,Mt),vt=function(xt,gt,jt,Jt){const pn=jt-xt,zn=Jt-gt;return Math.sqrt(pn*pn+zn*zn)}(rt,Rt,It,Mt),Pt=function(xt,gt){return{x:(xt.xiPrime-xt.xi)/gt,y:(xt.yiPrime-xt.yi)/gt}}(Ct,vt),Dt=function(xt){return Math.acos(xt.x/Math.sqrt(xt.x*xt.x+xt.y*xt.y))}(Pt),2*kt>Math.PI)throw new Error("ForceLink.Worker - Invalid parameter: angleMin must be smaller than 2 PI.");kt>0&&(Dt<kt||Dt>Math.PI-kt&&Dt<=Math.PI?Pt={x:2*Math.cos(Math.PI-kt),y:2*Math.sin(Math.PI-kt)}:(Dt>2*Math.PI-kt||Dt>=Math.PI&&Dt<Math.PI+kt)&&(Pt={x:2*Math.cos(kt),y:2*Math.sin(kt)}));let Gt=0,qt=1,Er=1;pe.length%2==1&&(Er=0,Gt=1);for(let ht=0;ht<pe.length;ht++)i[pe[ht]+o]=lt.x+qt*Pt.x*Er*(Gt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),i[pe[ht]+a]=lt.y+qt*Pt.y*Er*(Gt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),qt=-qt,Er+=(ht+Gt)%2})}}function B(H){const F=Object.keys(H),T={};for(let W=0;W<i.length;W+=n.ppn){const G=F[W/n.ppn];T[G]={id:G,x:i[W+o],y:i[W+a],pinned:i[W+m]}}return T}return function(){if(n.settings.autoStop){const F=Date.now();for(;!(n.converged||Date.now()-F>=t.chunkPeriod);)R()}else{const F=n.iterations===0?n.settings.startingIterations:n.iterations+n.settings.iterationsPerRender;for(;n.iterations!==F;)R()}return{nodes:B(t.nodes),barycentre:t.barycentre}}()},isRunning:function(e){return!e.W.settings.autoStop||!e.W.converged||(e.W=void 0,!1)},stop:function(e){e.W&&(e.W.converged=!0)},onSync:function({nodes:e,barycentre:t},{graph:n}){const r=Object.keys(e),i=r.length;let s,o,a,l,c,d,u,h,g=0,p=0;const m=new Array(i),_=new Array(i),y=new Array(i),f=new Array(i),[x,v]=n.getAttributes(!0,["x","y"]);for(s=0;s<i;s++)o=r[s],a=e[o],h=parseInt(o),m[s]=h,f[s]=a.pinned,a.pinned?(l=x.get(h),c=v.get(h)):(l=a.x,c=a.y),_[s]=l,y[s]=c,g+=l,p+=c;for(d=g/i-t.x,u=p/i-t.y,s=0;s<i;s++)f[s]||(_[s]-=d,y[s]-=u);return{indexes:m,x:_,y}}},r9=e=>(e.modules.layouts.register(fA),(t={})=>t.incremental?zF(t,e,e.layouts.forceLink):e.modules.layouts.start(fA.name,t)),_A={name:"grid",configure:function(e,{graph:t,camera:n}){function r(b){return b===void 0||typeof b=="number"&&isFinite(b)&&b>0}const i=e.sortBy,s=e,o=s.nodes,a=Array.from(o._indexes),l=a.length,{rows:c,cols:d,rowDistance:u,colDistance:h}=function(S,A,C,k,N){if(!r(A))throw new TypeError('"rows" should be a positive integer');if(!r(C))throw new TypeError('"cols" should be a positive integer');if(!r(k))throw new TypeError('"rowDistance" should be a positive number');if(!r(N))throw new TypeError('"colDistance" should be a positive number');if(A)return{rows:A,cols:Math.ceil(S/A),rowDistance:k,colDistance:N};if(C)return{cols:C,rows:Math.ceil(S/C),rowDistance:k,colDistance:N};const R=Math.ceil(Math.sqrt(S));return{cols:R,rows:Math.ceil(S/R),rowDistance:k,colDistance:N}}(l,s.rows,s.cols,s.colDistance,s.rowDistance),g=function(S,A,C,k,N){return typeof S!="string"?k.map((R,B)=>B):S==="radius"?A.getAttribute(!0,"radius").getMultiple(k):S==="degree"?C.getDegree():S==="random"?k.map(()=>Math.random()):C.getData(S).map(R=>R||N)}(i,t,o,a,e.sortFallbackValue),p=o.getAttribute("layoutable"),m=a.reduce((b,S,A)=>(p[A]&&b.push({id:S,attr:g[A]}),b),[]),_=o.getBoundingBox(),y=.65*Math.max(_.maxScaledSize,_.maxFixedSize/n.getZoom());let f=_.minX+y,x=_.maxX-y,v=_.minY+y,w=_.maxY-y;return _.width<y*d*2&&(f=_.cx-y*d+y,x=_.cx+y*d-y),_.height<y*c*2&&(v=_.cy-y*c+y,w=_.cy+y*c-y),{sort:!!i,nodes:m,reverse:!!s.reverse,cols:d,rows:c,minX:f,maxX:x,minY:v,maxY:w,rowDistance:u,colDistance:h}},update:function({sort:e,nodes:t,maxX:n,minX:r,maxY:i,minY:s,reverse:o,rows:a,cols:l,rowDistance:c,colDistance:d}){e&&t.sort((y,f)=>{const x=y.attr,v=f.attr;return x<v?-1:x>v?1:0}),o&&t.reverse();let u=(n-r)/(l-1),h=(i-s)/(a-1);const g=r,p=s;isFinite(u)||(u=0),isFinite(h)||(h=0),c!==void 0&&isFinite(c)&&(u=c),d!==void 0&&isFinite(d)&&(h=d);let m=0,_=0;return t.forEach(y=>{y.x=g+m*u,y.y=p+_*h,m+=1,m===l&&(_+=1,m=0)}),t},onSync:function(e){return{indexes:e.map(({id:t})=>t),x:e.map(({x:t})=>t),y:e.map(({y:t})=>t)}}},i9=e=>(e.modules.layouts.register(_A),(t={})=>e.modules.layouts.start(_A.name,t)),eb={id:"__SENTINEL__",layer:-1,sink:!1,fixed:!1,siblingIndex:-1,parentIds:[],children:[],radius:0,ref:null},wc=e=>e.data===eb||!1,fy=e=>!wc(e),s9=[],o9=(e,t)=>({id:e,layer:t,data:eb,children:s9,ref:void 0,x:0,y:0}),a9=(e,t)=>({id:e,layer:-1,data:t,children:[],x:0,y:0}),yA=class{constructor(e,t,n){this.data=e,this.prev=t,this.next=n}toString(){return this.data}},OF=e=>e.reduce((t,n)=>(t[n]=!0,t),{});function l9(e,t){const n=[e],r=OF(n),i=[e];for(;n.length;){const s=n.shift();for(const o of t[s])r[o]||(r[o]=!0,i.push(o),n.push(o))}return i}function tb(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[r]=t[r]||[],t[n].push(r),t[r].push(n),t),{})}function c9(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[n].push(r),t),{})}function d9(e,t,n){const r=n||tb(t||[]);return e.filter(({id:i})=>!(i in r))}function u9(e,t){const n=OF(t);return e.filter(r=>!(r in n))}function Jr(e,t){e.forEach((n,r)=>{n.forEach((i,s,o)=>{t(i,s,o,r)})})}var xA=e=>{let t=Math.floor(e.length/2);return(e=[...e].sort((n,r)=>n-r)).length%2!=0?e[t]:(e[t-1]+e[t])/2};function h9(e,t,n){const r=tb(t);let i=Object.keys(r);const s=[];for(;i.length;){const o=l9(i[0],r);s.push(o),i=u9(i,o)}return n.skipSingletons?s:s.concat(d9(e,t,r).map(({id:o})=>[o]))}function g9(e,t,n){const r=t.reduce((o,a)=>(o[a.source]=o[a.source]||[],o[a.source].push(a),o),{}),{result:i}=e.reduce(function o(a,l){const{visited:c,stack:d,result:u}=a;if(c[l.id])return a;c[l.id]=d[l.id]=1;const h=r[l.id]||[];for(const g of h)d[g.target]?u.push(g):o(a,n[g.target]);return delete d[l.id],a},{visited:{},stack:{},result:[]}),s=i.reduce((o,{source:a,target:l})=>(o[a]=o[a]||{},o[a][l]=1,o),{});return t.map(o=>{const{source:a,target:l,id:c}=o;return s[a]&&s[a][l]?{id:c,source:l,target:a}:o})}function p9(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort((o,a)=>a.h-o.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,s=0;for(const o of e)for(let a=r.length-1;a>=0;a--){const l=r[a];if(!(o.w>l.w||o.h>l.h)){if(o.x=l.x,o.y=l.y,s=Math.max(s,o.y+o.h),i=Math.max(i,o.x+o.w),o.w===l.w&&o.h===l.h){const c=r.pop();a<r.length&&(r[a]=c)}else o.h===l.h?(l.x+=o.w,l.w-=o.w):o.w===l.w?(l.y+=o.h,l.h-=o.h):(r.push({x:l.x+o.w,y:l.y,w:l.w-o.w,h:o.h}),l.y+=o.h,l.h-=o.h);break}}return{w:i,h:s,fill:t/(i*s)||0}}var m9={down:()=>{},up:e=>e.y=-e.y,left:e=>{const t=e.x;e.x=-e.y,e.y=t},right:e=>{const t=e.x;e.x=e.y,e.y=-t}},Hf=(e,t)=>isFinite(e)&&e>0?e:t;function f9(e){return{nodesSeparation:Hf(e.nodesSeparation,0),componentsSeparation:Hf(e.componentsSeparation,25),layerSeparation:Hf(e.layerSeparation,50)}}function _9(e,{componentsSeparation:t,layerSeparation:n,packing:r}){const i=n/2,s=[];for(const o of e){const a=o.nodes;if(o.isFake&&o.w!==void 0&&o.h!==void 0){s.push({w:o.w,h:o.h,x:void 0,y:void 0,dag:o});continue}if(o.nodes.length===1){const g=2*a[0].data.radius;s.push({w:g+t,h:g+i,x:void 0,y:void 0,dag:o});continue}const l=a.reduce((g,{x:p,data:m})=>Math.min(g,p-m.radius||1),1/0),c=a.reduce((g,{x:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),d=a.reduce((g,{y:p,data:m})=>Math.min(g,p-m.radius||1),1/0),u=a.reduce((g,{y:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),h=(c+l)/2;a.forEach(g=>{g.x-=h}),s.push({w:Math.abs(c-l)+t,h:Math.abs(u-d)+i,minX:l,x:void 0,y:void 0,dag:o})}if(r!=="singleline")p9(s);else{let o=0;for(const a of s)a.x=o,a.y=0,o+=a.w}return s}function y9(e,t={}){const{componentsSeparation:n,layerSeparation:r}=f9(t);t.direction===void 0&&(t.direction="down");const i=_9(e,{layerSeparation:r,componentsSeparation:n,packing:t.packing});for(const s of i){const{x:o=0,y:a=0,w:l,dag:c}=s;for(const d of c.nodes)d.x+=o+l/2,d.y+=a,m9[t.direction](d)}}var x9=e=>e.reduce((t,{radius:n})=>Math.max(t,2*n),0);function v9(e,t){return Se({nodes:e.map(n=>St(Se({},n),{data:n})),isFake:!0},t)}function b9(e,t,n){const r=tb(t||[]),i=e.filter(({id:g})=>!(g in r)).sort((g,p)=>p.radius-g.radius),s=Math.sqrt(i.length);let o=Math.floor(s),a=Math.ceil(s);o*a<i.length&&(o<a?o++:a++);const l=Math.max(1,x9(i)),c=Math.max(n.nodesGridSeparation||0,1),d=l*a+c*(a-1),u=l*o+c*Math.max(o-1,0),h=v9(i,{w:d,h:u});return h.nodes.forEach((g,p)=>{const m=p%a,_=Math.floor(p/a);g.x=d*m/a,g.y=u*_/o}),h}function w9(e){if(!e||!e.length)throw Error("Cannot stratify empty data");for(const i of e){if(!i)throw Error('Node data is "null"');if(i.id==null)throw Error('Node id contains a "null" value')}const t=e.map(i=>a9(i.id,i)),n=t.reduce((i,s)=>{if(i[s.id])throw Error(`The connected component contains id duplicates: ${s.id}`);return i[s.id]=s,i},{}),r=[];for(const i of t){for(const s of i.data.parentIds){const o=n[s];if(!o)throw Error(`The node ${i.id} has a missing parent id ${s}`);o.children.push(i)}i.data.parentIds.length||r.push(i)}return{isFake:!1,nodes:E9(r)}}function E9(e){const t={},n=[];for(;e.length;){const r=e.pop();t[r.id]||(n.push(r),t[r.id]=!0,e.push(...r.children))}return n}function S9(e){if(e.sort((r,i)=>r-i),e.length===0)return 0;const t=Math.floor(e.length/2),n=Math.floor(e.length/2);return(e[t]+e[n])/2}function _y(e,t,n){const r={};return t.forEach((i,s)=>r[i.id]=s),e.map(i=>(n[i.id]||[]).map(s=>r[s]).sort()).reduce((i,s,o,a)=>{const l=s.length?s[s.length-1]:-1;for(let c=o+1;c<a.length;c++)i+=a[c].filter(d=>d<l).length;return i},0)}function A9(e,t,n,r,i){const s={};for(let o=0;o<e.length;o++)s[e[o].id]=S9((t[e[o].id]||[]).map(a=>n[a]))||0;i?e.sort((o,a)=>{const l=s[o.id]-s[a.id],c=r[o.id]===r[a.id],d=o.data.siblingIndex,u=a.data.siblingIndex;return c&&d>-1&&u>-1?d-u:l===0?n[a.id]-n[o.id]:l}):e.sort((o,a)=>{const l=s[o.id]-s[a.id];return l===0?n[a.id]-n[o.id]:l})}function vA({layers:e,topDown:t,topDownAdj:n,bottomUpAdj:r,idToIndex:i,crossings:s,sortSiblings:o}){const a=t?n:r;for(let l=t?0:e.length-1;t?l<e.length:l>=0;t?l++:l--){A9(e[l],a[l]||{},i,r[l],o);const c=l>0?_y(e[l-1],e[l],n[l-1]):0,d=l<e.length-1?_y(e[l],e[l+1],n[l]):0;d+c<(s[l]||0)+(s[l-1]||0)?(s[l]=d,l>0&&(s[l-1]=c),e[l].forEach((u,h)=>i[u.id]=h)):e[l].sort((u,h)=>i[u.id]-i[h.id])}}var k9=(e,t,n)=>{if(!n&&!t)return;const r={},i=e.map(()=>({})),s=e.map(()=>({}));e.forEach((c,d)=>{c.forEach((u,h)=>{r[u.id]=n?u.data.siblingIndex:h,u.children.forEach(g=>{const p=g.layer;p>d?(i[d][u.id]=i[d][u.id]||[],i[d][u.id].push(g.id),s[p][g.id]=s[p][g.id]||[],s[p][g.id].push(u.id)):(i[p][g.id]=i[p][g.id]||[],i[p][g.id].push(u.id),s[d][u.id]=s[d][u.id]||[],s[d][u.id].push(g.id))})})}),r[-1]=-1,n&&e.forEach(c=>c.sort((d,u)=>r[d.id]-r[u.id]));const o=e.slice(1).map((c,d)=>_y(e[d],c,i[d])),a=Math.max(...e.map(c=>c.length)),l=[[50,100],[100,10],[1e3,1],[5e3,0]].find(([c])=>a<c)[1];for(let c=0;c<l;c++)vA({layers:e,topDown:!0,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n}),vA({layers:e,topDown:!1,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n})};function C9(e){const t=e.nodes.reduce((n,r)=>r.data.fixed&&(n===null||n.layer>r.layer)?r:n,null);return t&&e.nodes.forEach(n=>n.ref=t.id),e}function T9(e){const t={},n={},r={};e.nodes.forEach(o=>{r[o.id]=o});const i=o=>{if(t[o.id])return n[o.id];t[o.id]=!0;let a=1/0;for(const l of o.children)a=Math.min(a,i(r[l.id])-1);return a===1/0&&(a=0),n[o.id]=a,a};e.nodes.forEach(o=>{o.data.parentIds.length===0&&i(o)});let s=1/0;e.nodes.forEach(o=>{s=Math.min(s,n[o.id])}),e.nodes.forEach(o=>{n[o.id]-=s,o.layer=n[o.id]})}function L9(e){e.nodes.forEach(t=>{t.layer=t.data.layer!=null?t.data.layer:t.layer})}function N9(e){if(e.nodes.every(t=>t.layer)){let t=e.nodes.reduce((n,r)=>Math.min(n,r.layer),1/0);e.nodes.forEach(n=>n.layer-=t)}}function I9(e){const t={};e.nodes.forEach(s=>{t[s.id]=[...t[s.id]||[],...s.children],s.children.forEach(o=>{t[o.id]=[...t[o.id]||[],s]})});const n=[];e.nodes.forEach(s=>{s.layer===0&&n.push(s)});const r={},i={};for(e.nodes.forEach(s=>{s.layer!==-1&&(i[s.id]=s.layer)});n.length;){const s=n.shift().id;for(const o of t[s])if(!r[o.id]){if(i[o.id]===void 0){const a=i[s]+1;i[o.id]=a,o.layer=a}r[o.id]=!0,n.push(o)}}}function M9(e){if(e.nodes.some(t=>t.data.sink)){const t=e.nodes.reduce((n,r)=>Math.max(n,r.layer),-1/0);e.nodes.forEach(n=>{n.data.sink&&(n.layer=t+1)})}}function P9(e){const t=[];e.nodes.forEach(r=>t[r.layer]=0);const n=Array.from(t).reduce((r,i,s)=>{if(s===0)return r.push(0),r;const o=r[s-1];return i!==void 0?(r.push(o),r):(r.push(o-1),r)},[]);e.nodes.forEach(r=>r.layer+=n[r.layer])}function F9(e){if(e.nodes.some(t=>"layer"in t.data&&t.data.layer<0))throw new Error("Some nodes have negative layering information");return e.nodes.some(t=>t.data&&!isNaN(t.data.layer)&&t.data.layer!==null)||T9(e),L9(e),I9(e),M9(e),N9(e),P9(e),e.nodes.forEach(t=>{const{below:n,above:r}=t.children.reduce((i,s)=>(t.layer>s.layer?i.above.push(s):i.below.push(s),i),{above:[],below:[]});r.forEach(i=>i.children.push(t)),t.children=n}),C9(e)}var R9=class{constructor(){this.byId={},this.byIndex={},this.length=0}append(e,t){let n;return this.head?(n=new yA(e,this.tail),this.tail=this.tail.next=n):(n=new yA(e),this.tail=this.head=n),this.byId[t]=n,this.byIndex[this.length++]=n,n}find(e){let t=this.head;do{if(t.data===e)return t;t=t.next}while(t)}forEach(e){let t=this.head,n=0;do e(t,n),n++;while(t=t.next)}},ei=-1,_n=1e-5,Wf=[],D9=class{constructor(t,n,r){this.edges=[],this.nodeMap={},this.nodeIndexTopDown={},this.nodeToLayer={},this.longEdges={},this.virt={},this.height={},this.breadth={},this.first=[],this.totalW={},this.mDist={},this.X={},this.block={},this.nodeList=new R9,this.nodeDistance=n,this.layerDistance=r,this.layers=t;const{breadth:i,virt:s,height:o,nodeToLayer:a,nodeIndexTopDown:l,nodeMap:c,longEdges:d,edges:u}=this;let h=0;Jr(this.layers,(_,y,f,x)=>{if(l[_.id]=h++,c[_.id]=_,a[_.id]=x,this.nodeList.append(_,_.id),_.children.forEach(w=>{const b=wc(w)||wc(_);u.push({source:_.id,target:w.id,virtual:b,id:u.length})}),d[_.id])return;const v=[_.id];if(d[_.id]=v,!fy(_))for(let w=0;w<_.children.length;w++){const b=_.children[w];if(fy(b))continue;let S=b;for(;wc(S);)v.push(S.id),d[S.id]=v,S=S.children[0]}});const g=this.adjacencyList=c9(u);this.N=t.reduce((_,y)=>_+y.length,0),this.Y=new Float32Array(t.length),this.first=t.map(_=>_[0]),t.forEach((_,y)=>o[y]=0),Jr(this.layers,(_,y,f,x)=>{const v=g[_.id]?g[_.id].length:0;s[_.id]=wc(_)&&v===1,this.nodeToLayer[_.id]=x,s[_.id]?i[_.id]=0:(i[_.id]=2*_.data.radius,o[x]=Math.max(o[x]||0,2*_.data.radius))});const p={},m={};u.forEach(_=>{const y=_.source,f=_.target;p[f]=p[f]||[],p[f].push(y),m[y]=m[y]||[],m[y].push(f)}),Object.values(p).forEach(_=>{_.sort((y,f)=>this.nodeIndexTopDown[y]-this.nodeIndexTopDown[f])}),Object.values(m).forEach(_=>{_.sort((y,f)=>this.nodeIndexTopDown[y]-this.nodeIndexTopDown[f])}),this.neighbours={prev:p,next:m}}computeMinNodeDistances(){const{layers:t,totalW:n}=this;Jr(t,r=>{n[r.id]=0}),Jr(t,r=>n[r.data.id]=0),this.layers.forEach(r=>{n[r[0].id]=0,r.slice(1).forEach((i,s)=>{const o=r[s],a=i.id;n[a]=n[o.id]+o.data.radius+i.data.radius+this.nodeDistance})})}decrossVirtualEdges(){this.layers.forEach(t=>{let n=-1;t.forEach(r=>{if(!this.virt[r.id])return;const i=this.neighbours.next[r.id][0];if(this.virt[i])if(n!==-1&&n>this.nodeIndexTopDown[i]){const s=this.longEdges[r.id];let o=0;for(o=0;o<s.length&&s[o]!==i;o++);const a=s.slice(o);a.forEach(c=>this.longEdges[c]=a);const l=s.slice(0,o);l.forEach(c=>this.longEdges[c]=l)}else n=this.nodeIndexTopDown[i]})})}placeLongEdges(){const{X:t,layers:n}=this;Jr(n,r=>t[r.id]=0);for(let r=1;r>=-1;r-=2){const i={};let s=0;const o={};Jr(n,d=>o[d.id]=0),o[eb.id]=0;const a=r;n.forEach(d=>{let u=a===1?d[0]:d[d.length-1];o[u.id]||(this.longEdges[u.id].forEach(p=>{o[p]=s}),s++);let h=a===1?0:d.length-1,g=h+a;for(;g>=0&&g<d.length;)u=d[g],o[u.id]||this.longEdges[u.id].forEach(p=>{o[p]=o[d[h].id]}),h=g,g+=a});const l={};n.forEach(d=>{for(let u=a===1?0:d.length-1;a===1?u<d.length:u>=0;u+=a){const h=d[u],g=o[h.id];l[g]=l[g]||[],l[g].push(h.id)}});const c={};this.nodeList.forEach(d=>c[d.data.id]=0);for(let d=0;d<s;d++){const u={done:!1,dist:0},h=l[d];for(const g of h)this.sortLongEdges(g,r,c,u,o,i);if(!u.done){const g=this.layers[this.nodeToLayer[l[d][0]]],p=[];g.forEach(m=>{for(const _ of this.neighbours.prev[m.id]||Wf){const y=Math.abs(c[_]-c[m.id]);p.push(y)}}),p.length!==0&&(u.dist=xA(p))}for(const g of h)c[g]-=r*u.dist}Jr(n,d=>t[d.id]+=c[d.id]/2)}}sortLongEdges(t,n,r,i,s,o){if(o[t])return!1;let a=!1,l=0;const{nodeToLayer:c,totalW:d}=this,u=this.longEdges[t];u.forEach(h=>o[h]=!0),u.forEach(h=>{const g=this.nodeList.byIndex[this.nodeIndexTopDown[h]-n];if(!g)return;const p=g.data.id,m=h,_=c[p]===c[m],y=s[p]===s[m];!_||!y||(this.sortLongEdges(p,n,r,i,s,o),(!a||n*(l-r[p])<n*(d[m]-d[p]))&&(a=!0,l=r[p]+d[m]-d[p]))}),u.forEach(h=>{r[h]=l;const g=this.nodeList.byId[h],p=n===1?g.next:g.prev;if(!p)return;const m=p.data.id,_=h,y=c[m]===c[_],f=s[m]!==s[_],x=n*(d[m]-d[_]-r[m]+r[_]);y&&f&&(!i.done||x>i.dist)&&(i.dist=x,i.done=!0)})}placeNonVirtualNodes(){const t={};Jr(this.layers,c=>t[c.id]=-1);const{X:n,totalW:r,virt:i,nodeIndexTopDown:s,mDist:o,nodeList:a}=this,l={};Jr(this.layers,(c,d,u,h)=>{if(!i[c.id])return void(l[c.id]=!1);let g=this.nodeList.byId[c.id].next;for(;g&&this.nodeToLayer[g.data.id]===h&&!i[g.data.id];)g=g.next;l[c.id]=this.nodeToLayer[g.data.id]===h&&n[g.data.id]-n[c.id]<r[g.data.id]-r[c.id]+_n}),Jr(this.layers,({id:c})=>{l[c]&&t[c]===-1&&this.longEdges[c].forEach(d=>{d!==c&&(t[d]=s[d]<s[c]?1:0)})}),Jr(this.layers,({id:c})=>o[c]=r[c]);for(let c=0;c<2;c++)for(let d=c?this.layers.length-1:0;d>=0&&d<this.layers.length;c?d--:d++){let u=ei;const h=this.layers[d];if(h.forEach(({id:g},p,m)=>{if(i[g]){if(u===ei){this.placeSequence(ei,g,m[0].id,a.byId[g].prev.data.id,c);for(let _=0;_<p;_++){const y=m[_].id;o[y]=o[g]-n[g]+n[y]}}else if(t[u]!==1-c){l[u]||this.placeSequence(u,g,a.byId[u].next.data.id,a.byId[g].prev.data.id,c);const _=c===1?this.neighbours.prev:this.neighbours.next,y=_[u][0],f=_[g][0];if(i[y]&&i[f])for(let x=s[y]+1;x<s[f];x++)t[a.byIndex[x].data.id]=c}u=g}}),u===ei)this.placeSequence(ei,ei,h[0].id,h[h.length-1].id,c),h.forEach(({id:g})=>o[g]=n[g]);else{this.placeSequence(u,ei,a.byId[u].next.data.id,h[h.length-1].id,c);for(let g=h.length-1;g>=0;g--){const p=h[g].id;if(p===u)break;o[p]=o[u]-n[u]+n[p]}}}}placeSequence(t,n,r,i,s,o=0){const a=this.nodeIndexTopDown[r],l=this.nodeIndexTopDown[i],{X:c,nodeIndexTopDown:d,mDist:u}=this;if(a===l)c[r]=this.placeNode(r,t,n,c[r],s);else if(a<l){const h=Math.floor((d[r]+d[i])/2),g=this.nodeList.byIndex[h],p=g.next.data.id,m=u[p]-u[g.data.id];this.placeSequence(t,n,r,g.data.id,s,o+1),this.placeSequence(t,n,p,i,s,o+1),this.combineSequences(t,n,r,i,p,g.data.id,s,m)}}calculateBends(t,n,r,i,s,o,a,l){let c=0;const d=[],{X:u,mDist:h,neighbours:g}=this,p=this.nodeIndexTopDown[r],m=this.nodeIndexTopDown[i];for(let _=this.nodeList.byId[o],y=this.nodeIndexTopDown[_.data.id];y>=p&&y<=m&&_;_=t===-1?_.prev:_.next,y=_&&this.nodeIndexTopDown[_.data.id]){const f=_.data.id,x=(n===0?g.prev[f]:g.next[f])||Wf;let v=0;for(const b of x)if(t*(u[b]-u[f])<_n)v++;else{v--;const S=u[b]+h[o]-h[f];t*(u[o]-S)>-_n?c++:(l===ei||t*(S-u[l]+h[l]-h[o])<_n)&&t*(S-u[s])<a-_n&&d.push({value:2,key:S})}const w=u[f]+h[o]-h[f];t*(u[o]-w)>-_n?c+=v:(l===ei||t*(w-u[l]+h[l]-h[o])<_n)&&t*(w-u[s])<a-_n&&d.push({value:v,key:w})}return l!==ei&&d.push({value:this.edges.length,key:u[l]-h[l]+h[o]}),d.sort(({key:_},{key:y})=>_-y),{res:c,bends:d.reduce((_,y,f)=>{if(f<d.length-1){const x=d[f+1];Math.abs(y.key-x.key)>_n?y.value>0&&_.push(y):y.value+=x.value}else y.value>0&&_.push(y);return _},[])}}combineSequences(t,n,r,i,s,o,a,l){const{X:c,mDist:d,nodeIndexTopDown:u}=this;let{res:h,bends:g}=this.calculateBends(-1,a,r,i,s,o,l,t),{res:p,bends:m}=this.calculateBends(1,a,r,i,o,s,l,n);for(g.length>0&&g.reverse();c[s]-c[o]<l-_n;){let f=0,x=0;if(h<p){const v=g.length;if(v>0){const w=g.pop();f=w.value,c[o]=w.key}(v===0||c[s]-c[o]>l+_n)&&(c[o]=c[s]-l)}else if(h>p){const v=m.length;if(v>0){const w=m.pop();x=w.value,c[s]=w.key}(v===0||c[s]-c[o]>l+_n)&&(c[s]=c[o]+l)}else{let v=(l-c[s]+c[o])/2;const w=g.length===0?v+1:c[o]-g[g.length-1].key,b=m.length===0?v+1:m[m.length-1].key-c[s];w<v+_n&&w<b+_n&&(f=g.pop().value),b<v+_n&&b<w+_n&&(x=m.pop().value),v=Math.min(v,w,b),c[o]-=v,c[s]+=v}h+=f,p+=x}let _,y=this.nodeList.byId[o].prev;for(;y&&u[_=y.data.id]>=u[r]&&c[o]-c[_]<d[o]-d[_];)c[_]=c[o]-d[o]+d[_],y=y.prev;for(y=this.nodeList.byId[s].next;y&&u[_=y.data.id]<=u[i]&&c[s]-c[_]>d[s]-d[_];)c[_]=c[s]-d[s]+d[_],y=y.next}placeNode(t,n,r,i,s){const{X:o,neighbours:a,mDist:l}=this,c=((s===0?a.prev:a.next)[t]||Wf).map(d=>o[d]);return c.length===0?o[t]:(i=xA(c),n!==ei&&(i=Math.max(i,o[n]+l[t]-l[n])),r!==ei&&(i=Math.min(i,o[r]+l[t]-l[r])),i)}moveLongEdge(t,n,r){const{X:i,virt:s,totalW:o,nodeList:a}=this,{id:l}=t.data;if(r[l]||!s[l])return;const c=this.longEdges[l];if(!c)return;c.forEach(_=>r[_]=!0);const d=c[0],u=c[c.length-1],h=[];n<0?h.push(i[d]<i[u]?i[d]:i[u],i[d]<i[u]?i[u]:i[d]):n>0?h.push(i[d]<i[u]?i[u]:i[d],i[d]<i[u]?i[d]:i[u]):h.push(i[d],i[u]);let g,p=h[0],m=!1;for(;!m&&h.length!==0;)g=h.pop(),m=!0,c.forEach(_=>{const y=this.layers[this.nodeToLayer[_]];if(_!==y[0].id){const f=a.byId[_].prev.data;g-i[f.data.id]<o[_]-o[f.data.id]&&this.moveLongEdge(f,-1,r),m=m&&g-i[f.data.id]>=o[_]-o[f.data.id]-_n}if(_!==y[y.length-1].id){const f=a.byId[_].next.data;g-i[f.data.id]>o[_]-o[f.data.id]&&this.moveLongEdge(f,1,r),m=m&&g-i[f.data.id]<=o[_]-o[f.data.id]+_n}});m||(g=p,c.forEach(_=>{const y=this.layers[this.nodeToLayer[_]];if(_!==y[0].id){const f=a.byId[_].prev.data;g=Math.max(g,i[f.data.id]+o[_]-o[f.data.id])}if(_!==y[y.length-1].id){const f=a.byId[_].next.data;g=Math.min(g,i[f.data.id]+o[_]-o[f.data.id])}})),c.forEach(_=>i[_]=g)}moveLongEdges(){const t={};this.layers.forEach(n=>{const r=Math.floor(n.length/2);for(let i=r;i<n.length;i++)this.moveLongEdge(n[i],0,t);for(let i=r-1;i>=0;i--)this.moveLongEdge(n[i],0,t)})}computeY(){const{Y:t,layers:n,height:r}=this;t[0]=0,n.slice(1).forEach((i,s)=>{t[s+1]=t[s]+r[s+1]+this.layerDistance})}straightenLongEdge(t,n){const{nodeList:r,longEdges:i,neighbours:s,X:o,Y:a,nodeToLayer:l,totalW:c}=this,d=i[t.id];if(n[t.id]||!s.prev[t.id]||s.prev[t.id].length!==1||!s.next[t.id]||s.next[t.id].length!==1||!(d&&d.length<2))return;n[t.id]=!0;const u=s.prev[t.id][0],h=s.next[t.id][0];if(l[h]===l[u])return;let g=o[u]+(o[h]-o[u])*(a[l[t.id]]-a[l[u]])/(a[l[h]]-a[l[u]]);if(t!==this.first[l[t.id]]){const m=r.byId[t.id].prev.data;if(g-o[m.id]<c[t.id]-c[m.id]-_n&&this.straightenLongEdge(m,n),g-o[m.id]<c[t.id]-c[m.id]-_n)return}const p=this.layers[l[t.id]];if(t!==p[p.length-1]){const m=r.byId[t.id].next.data;if(o[m.id]-g<c[m.id]-c[t.id]-_n&&this.straightenLongEdge(m,n),o[m.id]-g<c[m.id]-c[t.id]-_n)return}o[t.id]=g}straightenEdges(){const t={};this.layers.forEach(n=>{const r=Math.floor(n.length/2);for(let i=r;i<n.length;i++)this.straightenLongEdge(n[i],t);for(let i=r-1;i>=0;i--)this.straightenLongEdge(n[i],t)})}run(){this.computeMinNodeDistances(),this.decrossVirtualEdges(),this.placeLongEdges(),this.placeNonVirtualNodes(),this.moveLongEdges(),this.computeY(),this.straightenEdges(),Jr(this.layers,(t,n,r,i)=>{t.x=this.X[t.id],t.y=this.Y[i]})}},z9=(e,t=20,n=50)=>new D9(e,t,n).run(),O9=(e,{nodeDistance:t,layerDistance:n,nodeLookup:r,customSort:i,sortSiblings:s,shouldDecross:o=!0})=>{F9(e);const a=B9(e);return e.nodes.length>1?(k9(a,o,s),i&&a.forEach(l=>{l.sort((c,d)=>i(r[c.id],r[d.id]))}),z9(a,t,n)):(e.nodes[0].x=0,e.nodes[0].y=0),j9(e),e};function B9(e){return e.nodes.reduce((t,n)=>(t[n.layer]=t[n.layer]||[],t[n.layer].push(n),n.children=n.children.map(r=>{if(r.layer===n.layer+1)return r;let i=r;for(let s=r.layer-1;s>n.layer;s--){const o=o9(`${n.id}->${r.id}@${s}`,s);o.children=[i],t[s]=t[s]||[],t[s].push(o),i=o}return i}),t),[])}function j9(e){e.nodes.forEach(t=>{t.data&&(t.children=t.children.filter(fy))})}var qf=({id:e,layer:t,sink:n,siblingIndex:r,radius:i,layoutable:s})=>({id:e,layer:t!==void 0?t:void 0,sink:n,siblingIndex:r||0,radius:i||0,fixed:s===!1,parentIds:[],children:[],ref:null});function U9(e){const t={x:0,y:0};let n=0;for(const r of e)for(const i of r.nodes)t.x+=i.x||0,t.y+=i.y||0,n++;return t.x/=n,t.y/=n,t}function $9(e){const t={x:0,y:0};let n=0;for(const r in e)t.x+=e[r].x||0,t.y+=e[r].y||0,n++;return t.x/=n,t.y/=n,t}function V9(e,t,n){const r=U9(n),i=e.x-r.x,s=e.y-r.y;for(const o of n)for(const a of o.nodes){const l=t[a.id];!l||a.data&&a.data.fixed||(l.x=a.x+i,l.y=a.y+s)}}var G9=(e,t={})=>{const n=(e.edges||[]).filter(({source:l,target:c})=>l!==c),r={},i=new Map;for(const l of e.nodes)r[l.id]=l;const s=g9(e.nodes,n,r).filter(l=>{const c=i.get(l.source);if(!c){const d=new Map;return d.set(l.target,!0),i.set(l.source,d),!0}return!c.get(l.target)&&(c.set(l.target,!0),!0)}),o=h9(e.nodes,s,{skipSingletons:t.packing==="grid"}),a=s.reduce((l,c)=>(l[c.source]||(l[c.source]=qf(r[c.source])),l[c.target]||(l[c.target]=qf(r[c.target])),l[c.target].children.push(c.source),l[c.target].parentIds.push(c.source),l),{});return{components:o.map(l=>l.map(c=>a[c]||qf(r[c]))),lookup:r}};function H9(e,t,n){const r=[];for(const i of e){const s=w9(i);r.push(s),O9(s,{nodeDistance:n.nodesSeparation,layerDistance:n.layerSeparation,shouldDecross:n.shouldDecross,customSort:n.customSort,sortSiblings:!!n.sortSiblings,nodeLookup:t})}return r}var bA=(e,t={})=>{if(!e||!e.nodes)return e;const n=St(Se({direction:"down",packing:"fit",nodesGridSeparation:1},t),{shouldDecross:t.shouldDecross!==!1}),{components:r,lookup:i}=G9(e,n),s=$9(i),o=H9(r,i,n);if(n.packing==="grid"){const a=b9(e.nodes,e.edges,n);o.push(a)}return y9(o,n),V9(s,i,o),e},Xf={direction:"TB",nodeDistance:5,levelDistance:50,componentDistance:50,gapWidth:1,arrangeComponents:"fit",gridDistance:50,layer:"layer",siblingIndex:""},yy={name:"hierarchical",imports:{sequential:bA},configure:function(e,{graph:t,data:n}){function r(f,x,v=f.getNodes()){return x?x instanceof ws?x:f.getNodes(x):v}const i=St(Se(Se({},Xf),e),{nodeList:e.nodes});i.direction=e.direction||Xf.direction,i.layerSeparation=i.levelDistance,i.nodesSeparation=i.nodeDistance,i.componentsSeparation=i.componentDistance,i.gapDistance=i.gapWidth,i.packing=i.arrangeComponents;const s=Se({},i),o=i.edges,a=i.nodeList;if(["TB","BT","LR","RL"].indexOf(i.direction)===-1)throw new Error('direction should be one of the "TB", "BT", "LR", "RL"');if(["fit","grid","singleLine"].indexOf(i.packing)===-1)throw new Error('arrangeComponents should be one of the "fit", "grid", "singleLine"');i.nodesGridSeparation=e.gridDistance||Xf.gridDistance;const l=a.getId(),c=a.getAttribute("layoutable").reduce((f,x,v)=>(f[l[v]]=x,f),{}),d=a.getAttributes(["x","y"]).reduce((f,x,v)=>(f[l[v]]=x,f),{}),u=a.getAttribute("radius");if(typeof s.layer!="string")throw new Error("'layer' should be the valid data field name");if(s.siblingIndex===void 0&&(s.siblingIndex=""),typeof s.siblingIndex!="string")throw new Error("'siblingIndex' should be the valid data field name");const h=r(t,i.roots,t.nodeList()),g=n.getProperty(i.nodeList,s.layer),p=s.siblingIndex.length?n.getProperty(i.nodeList,s.siblingIndex):[],m=h.map(f=>{let x=-1;return i.nodeList.forEach((v,w)=>{v===f&&(x=w)}),x});for(const f of m)g[f]=0;const _=r(t,i.sinks,t.nodeList()).toArray().reduce((f,x)=>(f[x.getId()]=!0,f),{}),y=l.map(f=>_[f]);return{nodes:l,edges:o.map(f=>({id:f.getId(),source:f.getSource().getId(),target:f.getTarget().getId()})),options:Yp(i),layoutable:c,radiuses:u,siblingIndexes:p,layers:g,sinks:y,coords:d}},context:ft,update:function({nodes:e,edges:t,options:n,layoutable:r,radiuses:i,layers:s,siblingIndexes:o,sinks:a,coords:l}){const c=t.filter(({source:h,target:g})=>h in r&&g in r),d={nodes:e.map((h,g)=>({id:h,radius:i[g],layer:s[g],siblingIndex:o[g],sink:a[g],layoutable:r[h],x:l[h].x,y:l[h].y})),edges:c},{nodes:u}=bA(d,{packing:{fit:"fit",singleLine:"singleline",grid:"grid"}[n.arrangeComponents],direction:{TB:"down",BT:"up",RL:"left",LR:"right"}[n.direction],layerSeparation:n.layerSeparation,nodesSeparation:n.nodesSeparation,sortSiblings:o.length>0,componentsSeparation:n.componentsSeparation,nodesGridSeparation:n.nodesGridSeparation,evenDistribution:n.evenDistribution});return{positions:u}},isRunning:function(){return!1},onSync:function({positions:e},{graph:t}){return{indexes:e.map(({id:n})=>(t.getNode(n)||{_index:-1})._index),x:e.map(({x:n})=>n),y:e.map(({y:n})=>n)}}},W9=e=>(e.modules.layouts.register(yy),(t={})=>(t.useWebWorker=!1,e.modules.layouts.start(yy.name,t))),xy=(e,t)=>e-t,wA={name:"radial",imports:{minHeap:Gx,bellmanFord:Hx,dijkstra:Wx,johnson:u_,distance:vn,circleCircleIntersection:ov,circleSortCompare:av,weightedStress:bL,distanceStress:wL,constrainedStress:c_,stressMinimizationStep:d_,removeRadialOverlap:N_,linear:Qg,calculateRadii:VE},configure(e,{graph:t}){let n=e.nodes;const r=n.size;function i(b,S){return b!=null&&isFinite(b)?b:S}if(e.centralNode===void 0)throw new Error('radial layout: missing parameter "centralNode"');const s=t.getNode(e.centralNode);if(s===void 0)throw new Error('radial layout: parameter "centralNode" is not valid');e.radiusRatio=i(e.radiusRatio,Math.SQRT2),e.radiusDelta=i(e.radiusDelta,0),e.nodeGap=i(e.nodeGap,10),e.repulsion=r*i(e.repulsion,1);const o=s.getPosition(),a=i(e.centerX,o.x),l=i(e.centerY,o.y),c=s._index;n.includes(s)||(n=n.concat(s.toList()));let d=n._indexes;const u=n.getAttribute("layoutable");d=d.filter((b,S)=>u[S]||b===c),d.sort(xy);const h=d.length,g=q9(d,t.getConnectedComponents(n,{internalIndexes:!0}),c),p=t.degrees(d),m=new Float32Array(t.getNodeAttribute("x").getMultiple(d)),_=new Float32Array(t.getNodeAttribute("y").getMultiple(d)),y=t.getNodeAttribute("radius").getMultiple(d),f=t.getEdges()._indexes,x=t.getEdgeAttribute("source").getMultiple(f),v=t.getEdgeAttribute("target").getMultiple(f),w=t.getAdjacencyList({internalIndexes:!0,weight:1,indexes:d});return{centerIndex:c,centerIndexPos:0,cx:a,cy:l,D:null,indexes:d,components:g,normIndexes:null,radii:null,rings:null,x:m,y:_,degree:p,size:h,attributes:{size:y,adjacency:w,weights:v.map(()=>1),sources:x,targets:v},sortAttr:null,allowOverlap:!!e.allowOverlap,nodeGap:e.nodeGap,radiusRatio:e.radiusRatio,radiusDelta:e.radiusDelta,repulsion:e.repulsion,randomize:!("randomize"in e)||!!e.randomize,renderSteps:!!e.renderSteps,epsilon:i(e.epsilon,.001),maxSteps:i(e.maxIterations,100),iterationsPerRender:i(e.iterationsPerRender,20),step:-1,stress:Number.POSITIVE_INFINITY,prevStress:0,converged:!1,overlapRemoved:!1,done:!1}},context:()=>({data:null,gridPlacement(e,t,n=8){const r=e.length,i=new Float32Array(r),s=new Float32Array(r);let o=0;for(let h=0,g=e.length;h<g;h++){const p=t[e[h]];p>o&&(o=p)}const a=o*n,l=Math.ceil(Math.sqrt(r)),c=Math.ceil(r/l),d=-Math.floor((c-1)*a/2),u=-Math.floor((l-1)*a/2);for(let h=0;h<l;h++)for(let g=0;g<c;g++)i[h*c+g]=d+g*a,s[h*c+g]=u+h*a;return{x:i,y:s}},connectComponents(e,t,n,r,i,s){let o;function a(l,c){const d=new Uint32Array(l.length+1);return d.set(l),d[l.length]=c,d}for(let l=1;l<e.length;l++){const c=e[l];let d=0,u=0;c.forEach((p,m)=>{const _=i.get(p);_!=null&&_>d&&(u=m,d=_)}),o=c[u];const h=t[s.get(o)];h.weights=h.weights||[],h.nodes=a(h.nodes,n),h.weights.push(r);const g=t[s.get(n)];g.weights=g.weights||[],g.nodes=a(g.nodes,o),g.weights.push(r)}},correctSubgraphsDistances(e,t,n,r,i){const s=Array.prototype.reduce.call(e[n],(a,l,c)=>(c!==n&&l<r&&l>a&&(a=l),a),0),o=r-s-1;for(let a=1;a<t.length;a++){const l=t[a];for(let c=0,d=l.length;c<d;c++){const u=i.get(l[c]);u!=null&&(e[n][u]-=o,e[u][n]-=o)}}},initialize(e,t){e.data=t,t.step=0;const n=new Map,r=new Map;t.normIndexes=t.indexes.reduce((c,d,u)=>(c[u]=u,n.set(d,u),r.set(d,t.degree[u]),e.data&&d===t.centerIndex&&(e.data.centerIndexPos=u),c),new Uint32Array(t.indexes.length));const i=t.centerIndexPos,s=t.components[0].length;e.connectComponents(t.components,t.attributes.adjacency,t.centerIndex,s,r,n);const o=u_({sources:t.attributes.sources,targets:t.attributes.targets,weights:t.attributes.weights,indexes:t.indexes,adjacency:t.attributes.adjacency,undirected:!0});e.correctSubgraphsDistances(o,t.components,i,s,n),t.D=o;const a=o[i],l={};for(let c=0,d=t.normIndexes.length;c<d;c++)if(c!==i){const u=a[c];l[u]=l[u]||[],l[u].push(t.normIndexes[c])}t.rings=l,t.radii=VE(i,t.rings,t.attributes.size,t.nodeGap,t.radiusRatio,t.radiusDelta)},removeOverlaps(e,t){if(!e.data)return;const n=e.data.centerIndexPos,r=t.attributes.size,{rings:i,radii:s}=t,o=t.x[n],a=t.y[n];for(const l in i){const c=i[l];for(let d=0;d<c.length;d++){const u=c[d],h=s[l];let g=t.x[u]-o,p=t.y[u]-a;g+p===0&&(g=Math.sin(u)*Math.random()*.001,p=Math.cos(u)*Math.random()*.001);const m=Math.sqrt(g*g+p*p);if(m-h<0){const _=h/m;t.x[u]=o+g*_,t.y[u]=a+p*_}}}for(const l in i){const c=i[l],d=vn(o,a,t.x[c[0]],t.y[c[0]]);N_({X:t.x,Y:t.y,sizes:r,indexes:c,center:[o,a],R:d,gap:t.nodeGap,inPlace:!0})}}}),update(e,t){e||(e=t.data);const n=e.indexes,r=e.centerIndex;let i;e.x=e.x||new Float32Array(e.size),e.y=e.y||new Float32Array(e.size),e.step===-1&&t.initialize(t,e);const s=e.repulsion,o=a=>e.radii&&e.radii[a]||1;if(e.step===0&&e.randomize&&(i=t.gridPlacement(e.indexes,e.attributes.size),e.x=i.x,e.y=i.y),!e.converged){const a=e.maxSteps,l=e.iterationsPerRender;let c=e.step;const d=Math.min(c+l,a),{D:u,x:h,y:g,size:p,centerIndexPos:m,normIndexes:_}=e;for(;c<=d&&!e.converged;){const y=Qg(Math.min(c,a)/a);e.step=c++,i=d_(u,h,g,p,m,s,y,_,o),e.x=i.x,e.y=i.y,e.prevStress=e.stress,e.stress=c_(u,h,g,p,m,s,y,_),e.converged=e.converged||Math.abs(e.stress-e.prevStress)<=e.epsilon}}if(e.converged)if(e.overlapRemoved||e.allowOverlap){e.done=!0;const a=e.rings||{};e.rings=Object.keys(a).reduce((l,c)=>(l[c]=a[c].map(d=>n[d]),l),{})}else t.removeOverlaps(t,e,r),e.overlapRemoved=!0;return e},isRunning:({data:e})=>!(!e||e.converged&&(e.allowOverlap||e.done))||(e&&(e.step=-1),!1),onSync(e){if(e.renderSteps||e.done)return EA(e)},onEnd:e=>EA(e)};function EA(e){const t=e.x,n=e.y,r=e.indexes.length,i=t[e.centerIndexPos]-e.cx,s=n[e.centerIndexPos]-e.cy;for(let o=0;o<r;o++)t[o]-=i,n[o]-=s;return{indexes:e.indexes,x:t,y:n}}function q9(e,t,n){const r=e.slice().sort(xy),i=[];for(let s=0,o=t.length;s<o;s++){const a=[],l=t[s];let c=!1;for(let d=0,u=l.length;d<u;d++){const h=l[d];AL(r,h)!==-1&&(h===n&&(c=!0),a.push(h))}a.length!==0&&i[c?"unshift":"push"](a.sort(xy))}return i}var X9=e=>(e.modules.layouts.register(wA),t=>{if(t.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');if(t.maxIterations=t.maxIterations&&isFinite(t.maxIterations)?Math.floor(t.maxIterations):100,t.maxIterations<1)throw new RangeError("maxIterations must be a positive integer");if(t.iterationsPerRender=t.iterationsPerRender&&isFinite(t.iterationsPerRender)?Math.floor(t.iterationsPerRender):20,t.iterationsPerRender<1)throw new RangeError("iterationsPerRender must be a positive integer");if(t.epsilon=t.epsilon&&isFinite(t.epsilon)?t.epsilon:.001,t.epsilon<=0)throw new RangeError("epsilon has to be a positive number");return e.modules.layouts.start(wA.name,t)}),SA=St(Se({},yy),{name:"sequential"}),Y9=e=>(e.modules.layouts.register(SA),(t={})=>{t.useWebWorker=!1;const n=St(Se({},t),{evenDistribution:!0});return e.modules.layouts.start(SA.name,n)}),Z9=class extends Kt{constructor(){super(...arguments),this.watchNodeObjectProperty=e=>this._ogma.modules.watcher.watchNodeObjectProperty(e),this.watchEdgeObjectProperty=e=>this._ogma.modules.watcher.watchEdgeObjectProperty(e),this.watchNodeNonObjectProperty=e=>this._ogma.modules.watcher.watchNodeNonObjectProperty(e),this.watchEdgeNonObjectProperty=e=>this._ogma.modules.watcher.watchEdgeNonObjectProperty(e)}},Q9=class extends Kt{constructor(){super(...arguments),this.set=(e,t)=>this._ogma.modules.brand.set(e,t),this.remove=()=>{this._ogma.modules.brand.remove()}}},K9=class extends Kt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.connectNodes.enable(e),this),this.disable=()=>(this._ogma.modules.connectNodes.disable(),this),this.enabled=()=>this._ogma.modules.connectNodes.enabled()}},J9=class extends Kt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.lasso.enable(e),this),this.disable=()=>(this._ogma.modules.lasso.disable(),this),this.enabled=()=>this._ogma.modules.lasso.enabled()}},eW=class extends Kt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.legend.enable(e),this.disable=()=>this._ogma.modules.legend.disable(),this.enabled=()=>this._ogma.modules.legend.enabled(),this.getOptions=()=>this._ogma.modules.legend.getOptions(),this.export=e=>this._ogma.modules.legend.export(e)}},tW=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.rectangleSelect.enable(e)},this.disable=()=>{this._ogma.modules.rectangleSelect.disable()},this.enabled=()=>this._ogma.modules.rectangleSelect.enabled()}},nW=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.resizing.enable(e)},this.disable=()=>{this._ogma.modules.resizing.disable()},this.enabled=()=>this._ogma.modules.resizing.enabled()}},rW=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.rewiring.enable(e)},this.disable=()=>{this._ogma.modules.rewiring.disable()},this.enabled=()=>this._ogma.modules.rewiring.enabled()}},iW=class extends Kt{constructor(){super(...arguments),this.enable=(e={})=>{this._ogma.modules.snapping.enable(e)},this.disable=()=>{this._ogma.modules.snapping.disable()},this.enabled=()=>this._ogma.modules.snapping.enabled()}},sW=class extends Kt{constructor(){super(...arguments),this.setZoom=(e,t)=>this._ogma.modules.camera.setZoom(e,t),this.zoomIn=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomIn():this._ogma.modules.camera.zoomIn(e),this.zoomOut=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomOut():this._ogma.modules.camera.zoomOut(e),this.getZoom=()=>this._ogma.modules.camera.getZoom(),this.setCenter=(e,t)=>this._ogma.modules.camera.setCenter(e,t),this.move=(e,t)=>this._ogma.modules.camera.move(e,t),this.moveToBounds=(e,t)=>{if(!(e&&e instanceof Nn)){if(!Rn(e)||e.length!==4)throw new Error("ogma.view.zoomToBounds requires a BoundingBox as a parameter");{const[n,r,i,s]=e;e=Nn.from({minX:n,minY:r,maxX:i,maxY:s})}}return this._ogma.modules.camera.moveToBounds(e,t)},this.moveTo=(e,t)=>this._ogma.modules.camera.moveTo(e,t),this.getCenter=()=>this._ogma.modules.camera.getCenter(),this.setAngle=(e,t)=>this._ogma.modules.camera.setAngle(e,t),this.rotate=(e,t)=>this._ogma.modules.camera.rotate(e,t),this.getAngle=()=>this._ogma.modules.camera.getAngle(),this.set=(e,t)=>this._ogma.modules.camera.setView(e,t),this.get=()=>this._ogma.modules.camera.getView(),this.graphToScreenCoordinates=e=>this._ogma.modules.camera.graphToScreenCoordinates(e),this.screenToGraphCoordinates=e=>this._ogma.modules.camera.screenToGraphCoordinates(e),this.getImageData=()=>this._ogma.modules.graphics.getImageData(),this.getElementAt=e=>this._ogma.modules.captor.detectElementAt(e.x,e.y,!1,!0),this.getElementsInView=()=>{const{width:e,height:t}=this.get(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return this._ogma.modules.spatial.query(n.x,n.y,r.x,r.y)},this.getBounds=()=>{const{width:e,height:t}=this.getSize(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return{cx:(n.x+r.x)/2,cy:(n.y+r.y)/2,width:r.x-n.x,height:r.y-n.y,minX:n.x,minY:n.y,maxX:r.x,maxY:r.y}},this.getElementsInside=(e,t,n,r,i=!0)=>{const{spatial:s,camera:o}=this._ogma.modules;if(i){const a=o.graphToScreenCoordinates({x:e,y:t}),l=o.graphToScreenCoordinates({x:n,y:r});return s.queryProjected(a.x,a.y,l.x,l.y)}return s.queryProjected(e,t,n,r)},this.beforeNextFrame=()=>this._ogma.modules.dom.beforeNextFrame(),this.afterNextFrame=()=>this._ogma.modules.dom.afterNextFrame(),this.setFullScreen=e=>this._ogma.modules.dom.setFullScreen(e),this.isFullScreen=()=>this._ogma.modules.dom.isFullScreen(),this.forceResize=()=>this._ogma.modules.dom.forceResize(),this.getSize=()=>this._ogma.modules.dom.getDimensions(),this.setSize=e=>{if(!e||isNaN(e.width)||isNaN(e.height))throw new Error("Size must follow the format { width: number, height: number }");if(e.width<0)throw new Error("width must be positive");if(e.height<0)throw new Error("height must be positive");return this._ogma.modules.dom.setDimensions(e),Promise.resolve()},this.locateGraph=e=>this._ogma.modules.locate.locateGraph(e),this.locateRawGraph=(e,t)=>this._ogma.modules.locate.locateRawGraph(e,t),this.getGraphBoundingBox=({withTexts:e=!1}={})=>this._ogma.modules.locate.getGraphBoundingBox(e),this.animationInProgress=()=>this._ogma.modules.locate.isLocating()||this._ogma.modules.camera.animationInProgress(),this.getTextBoundingBox=e=>{if(!e)throw new Error("ogma.view.getTextBoundingBox: item must be a Node or an Edge");const t=e.getAttribute("text");return t==null||t===""?null:e.isNode?this._ogma.modules.labels.getTextsBoundingBox(e.toList()):this._ogma.modules.labels.getTextsBoundingBox(void 0,e.toList())},this.getNodeBadgeAt=(e,t)=>{if(!e)throw new Error("ogma.view.getNodeBadgeAt: node is not defined");return GI(t,e._index,this._ogma.modules.graphics.getAttributesManager(),this._ogma.modules.camera,this._ogma.modules.graphics.getGraphicsEngine())}}};function Tl(e,t,n){if(e!=null){if(Array.isArray(e))return e[0];if(t&&n){if(e==="source")return Tl(n.color.get(t.getSource()._index));if(e==="target")return Tl(n.color.get(t.getTarget()._index))}return e}}function vy(e){return e==null?null:typeof e=="string"||typeof e=="number"?`${e}`:e&&vy(e.content)}function oW(e){if(e!=null)return typeof e=="string"?e:e.style||"line"}var aW=["color","radius","shape","text.content","x","y"],lW=["color","width","shape.body","text.content"];function cW(e){return e!=="all"?{nodes:["x","y"],edges:[]}:{nodes:aW,edges:lW}}function dW(e,{nodes:t,edges:n}){const r=e.getOriginalAttributes();return{nodes:t.reduce((i,s)=>(i[s.getId()]={x:r.nodes.x.get(s._index),y:r.nodes.y.get(s._index),color:Tl(r.nodes.color.get(s._index)),radius:r.nodes.radius.get(s._index),shape:r.nodes.shape.get(s._index),text:{content:r.nodes.text.content.get(s._index)}},i),{}),edges:n.reduce((i,s)=>(i[s.getId()]={color:Tl(r.edges.color.get(s._index)),width:r.edges.width.get(s._index),shape:{type:r.edges.shape.body.get(s._index)},text:{content:r.edges.text&&r.edges.text.content&&r.edges.text.content.get(s._index)}},i),{})}}function uW(e){return{nodes:e.nodes.map(({id:t,attributes:n={},data:r})=>{const{color:i,radius:s,shape:o,text:a,x:l,y:c}=n;return{id:t,x:l,y:c,color:Tl(i),size:s,shape:o,text:vy(a),data:r}}),edges:e.edges.map(({id:t,source:n,target:r,attributes:i={},data:s})=>{const{color:o,width:a,text:l,shape:c}=i;return{id:t,source:n,target:r,color:Tl(o),size:a,shape:oW(c),text:vy(l),data:s}})}}function AA(e){return e instanceof Qi?e.getId():e}function kA(e){return e instanceof po?e.getId():e}function CA(e){return e instanceof ws?e.getId():e instanceof Qi?[e.getId()]:Rn(e)?e.map(AA):[AA(e)]}function TA(e){return e instanceof pa?e.getId():e instanceof po?[e.getId()]:Rn(e)?e.map(kA):[kA(e)]}var nb="visible";function hW(e,t){return e?CA(e):typeof t=="object"?CA(t.nodes):t||nb}function gW(e,t){return e?TA(e):typeof t=="object"?TA(t.edges):t||nb}function BF(e,t,n,r){const i=hW(t,r),s=gW(n,r);return{nodes:e.getNodes(i),edges:e.getEdges(s)}}function jF(e,{nodeAttributes:t,edgeAttributes:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const l=BF(e,r,i,s);return{nodes:l.nodes.toJSON({attributes:t,data:o}),edges:l.edges.toJSON({attributes:n,data:a})}}function _m(e,t,{styles:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const{nodes:l,edges:c}=cW(n),d=jF(e,{nodeAttributes:l,edgeAttributes:c,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a});if(n==="original"){const u=dW(t,BF(e,r,i,s));for(const h of d.nodes)h.id!=null&&(h.attributes=u[h.id]);for(const h of d.edges)h.id!=null&&(h.attributes=u[h.id])}return n==="all"&&d.edges.forEach(({source:u,target:h,attributes:g})=>{if(g){const p=e.getNode(u);if(g.color==="source"&&p){const _=p.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}const m=e.getNode(h);if(g.color==="target"&&m){const _=m.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}}}),uW(d)}function pW(e,t){for(let n=0;n<t.length;++n){if(e==null)return;e=e[t[n]]}return e}function mW(e,t,n){for(let r=0;r<t.length-1;++r){const i=t[r];let s=e[i];s===void 0&&(s={},e[i]=s),e=s}e[t[t.length-1]]=n}function fW(e){const t=Se({},e[0]);for(const n of e)for(const r of Object.keys(n))r in t||(t[r]=void 0);return Object.keys(t)}function LA(e,t){return e==null||Array.isArray(e)&&!e.length?t:e}function _W(e){return typeof e=="string"}function yW(e,t,n,r,i){const s=t==="edges",o={};return e.forEach((a,l)=>{const c=i.get(l),d=Ig(LA(n(c),t));if(!d.every(_W))throw Error(`The tab ${t} function returned an invalid value.`);const u=Ig(r(a.data,d));d.forEach((h,g)=>{const p=LA(u[g],{}),m=Jp(Se(Se({internal___id:a.id},s?{internal___source:a.source,internal___target:a.target}:{}),p)).reduce((_,{path:y,value:f})=>(_[y.join(".")]=f,_),{});o[h]=o[h]||[],o[h].push(m)})}),o}function xW(e){if(!e.length)return[];const t=fW(e),n=[t];for(const r of e)n.push(t.map(i=>r[i]));return n[0]=n[0].map(r=>r.replace("internal___","")),n}function vW(e,t,n){const r=new sN;let i=t?1:3;const s=[];for(let a=0;a<e.length;++a){const l=e[a],c=new Array(i);let d=l.data;if(n){const h={};n.forEach(g=>{const p=oa(g),m=pW(d,p);mW(h,p,m)}),d=h}const u=Jp(d);c[0]=l.id,t||(c[1]=l.source,c[2]=l.target);for(let h=0;h<u.length;++h){const{path:g,value:p}=u[h];g.length&&(r.has(g)?c[r.get(g)]=p:(r.set(g,i),c[i]=p,i++))}s.push(c)}const o=[];return o.push("id"),t||(o.push("source"),o.push("target")),r.keys().forEach(a=>o.push(a[a.length-1])),s.unshift(o),s.forEach(a=>a.length=i),s}var bW=/[=+\-@|%]/,wW=e=>e.length>0&&bW.test(e[0])?`'${e=e.replace("|","|")}`:e;function UF(e){return e===void 0?"":e instanceof Date?e.toISOString():wW(""+e)}var EW={what:void 0,dataProperties:void 0,separator:",",textSeparator:'"',download:!0,filename:"graph.csv",filter:"visible",nodes:void 0,edges:void 0,nodeData:Ii,edgeData:Ii,styles:"none"};function SW(e,t){const{what:n,dataProperties:r,nodes:i,edges:s,separator:o,textSeparator:a,download:l,nodeData:c,edgeData:d,filename:u,filter:h}=Zr(typeof t=="string"?{what:t}:t,EW),g=_m(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:i,edges:s,filter:h,nodeData:c,edgeData:d});try{const p=AW(g,{what:n,separator:o,textSeparator:a,dataProperties:r});return l&&wo(p,u,"text"),Promise.resolve(p)}catch(p){return Promise.reject(p)}}function AW(e,{what:t,separator:n,textSeparator:r,dataProperties:i}){const s=new RegExp(r,"g");if(r&&r!=='"'&&r!=="'")throw new TypeError(`Invalid argument :"textSeparator" is not single-quote or double-quote, was ${r}`);if(t!=="nodes"&&t!=="edges")throw new TypeError('missing argument: "what": should have value "nodes" or "edges"');const o=t==="nodes";return vW(o?e.nodes:e.edges,o,i).map(a=>a.map(l=>function(d){return r+UF(d).replace(s,`${r}${r}`).replace(/\n/g,"\\n").replace(/\r/g,"")+r}(l))).map(a=>a.join(n)).join(`
`)}var La=e=>Math.round(255*e);function NA(e,t){if(t==="integer"&&typeof e=="number"){if(e%1!=0)return"float"}else if(typeof e!="number")return typeof e=="boolean"?"boolean":"string";return t}var by=e=>typeof e=="object"&&e!==null&&e.constructor===Object;function wy(e,t={}){return qi(e,(n,r)=>{by(n)?wy(n,t):t[r]=n}),t}var kW={creator:void 0,description:void 0,styles:"all",download:!0,filename:"graph.gexf",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function CW(e,t={}){const{styles:n,nodes:r,edges:i,download:s,filename:o,creator:a,description:l,filter:c,nodeData:d,edgeData:u}=Zr(t,kW),h=TW(_m(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{creator:a,description:l});return s&&wo(h,o,"text"),Promise.resolve(h)}function TW(e,t){const n=uN(),r={},i={};let s,o=0,a=0;const l=n.createElement("gexf");l.setAttribute("xmlns","http://www.gexf.net/1.2draft"),l.setAttribute("xmlns:viz","http://www.gexf.net/1.2draft/viz"),l.setAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),l.setAttribute("xsi:schemaLocation","http://www.gexf.net/1.2draft http://www.gexf.net/1.2draft/gexf.xsd"),l.setAttribute("version","1.2");const c=n.createElement("meta");if(c.setAttribute("lastmodifieddate",PL()),t.creator){const m=n.createElement("creator");s=n.createTextNode(""+t.creator),m.appendChild(s),c.appendChild(m)}if(t.description){const m=n.createElement("description");s=n.createTextNode(""+t.description),m.appendChild(s),c.appendChild(m)}const d=n.createElement("graph");d.setAttribute("mode","static");const u=n.createElement("nodes");e.nodes.forEach(m=>{const _=n.createElement("node");if(_.setAttribute("id",String(m.id)),m.text&&_.setAttribute("label",qa(m.text)),by(m.data)){const f=wy(m.data),x=n.createElement("attvalues");Object.keys(f).forEach(v=>{v in r||(r[v]={id:o,type:"integer"},o++);const w=f[v];r[v].type=NA(w,r[v].type);const b=n.createElement("attvalue");b.setAttribute("for",r[v].id),b.setAttribute("value",qa(w)),x.appendChild(b)}),_.appendChild(x)}if(m.color){const f=yr(m.color);if(f){const x=n.createElement("viz:color");x.setAttribute("r",La(f[0])),x.setAttribute("g",La(f[1])),x.setAttribute("b",La(f[2])),x.setAttribute("a",f[3]),_.appendChild(x)}}const y=n.createElement("viz:position");if(y.setAttribute("x",m.x),y.setAttribute("y",-m.y),_.appendChild(y),m.size){const f=n.createElement("viz:size");f.setAttribute("value",m.size),_.appendChild(f)}u.appendChild(_)});const h=n.createElement("attributes");h.setAttribute("class","node"),Object.keys(r).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",r[m].id),_.setAttribute("title",m),_.setAttribute("type",r[m].type),h.appendChild(_)});const g=n.createElement("edges");e.edges.forEach(m=>{const _=n.createElement("edge");if(_.setAttribute("id",m.id.toString()),_.setAttribute("source",m.source),_.setAttribute("target",m.target),m.size&&_.setAttribute("weight",m.size),m.text&&_.setAttribute("label",qa(m.text)),by(m.data)){const y=wy(m.data),f=n.createElement("attvalues");Object.keys(y).forEach(x=>{x in i||(i[x]={id:a,type:"integer"},a++);const v=y[x];i[x].type=NA(v,i[x].type);const w=n.createElement("attvalue");w.setAttribute("for",i[x].id),w.setAttribute("value",qa(v)),f.appendChild(w)}),_.appendChild(f)}if(m.color){const y=yr(m.color);if(y){const f=n.createElement("viz:color");f.setAttribute("r",La(y[0])),f.setAttribute("g",La(y[1])),f.setAttribute("b",La(y[2])),f.setAttribute("a",y[3]),_.appendChild(f)}}if(m.size){const y=n.createElement("viz:size");y.setAttribute("value",m.size),_.appendChild(y)}g.appendChild(_)});const p=n.createElement("attributes");return p.setAttribute("class","edge"),Object.keys(i).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",i[m].id),_.setAttribute("title",m),_.setAttribute("type",i[m].type),p.appendChild(_)}),d.appendChild(h),d.appendChild(p),d.appendChild(u),d.appendChild(g),l.appendChild(c),l.appendChild(d),n.appendChild(l),`<?xml version="1.0" encoding="UTF-8"?>${n.serialize()}`}var LW={graphId:"G",directedEdges:!0,styles:"all",download:!0,filename:"graph.graphml",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function NW(e,t){const{styles:n,nodes:r,edges:i,download:s,filename:o,graphId:a,directedEdges:l,filter:c,nodeData:d,edgeData:u}=Zr(t,LW),h=IW(_m(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{graphId:a,directedEdges:l,noStyles:n==="none"});return s&&wo(h,o,"text"),Promise.resolve(h)}function IW(e,t){const n=hN();function r(h,g,p,m,_){p=p||{};const y=n.createElement(g);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;const x=p[f];x!==void 0&&y.setAttribute(f,x)}return(m!==void 0||_)&&(Object.prototype.toString.call(m)==="[object Object]"&&(m=JSON.stringify(m)),y.appendChild(n.createTextNode(m))),h.appendChild(y),y}const i=["id","source","target"],s=["size","x","y","shape","text","color"],o={size:{for:"all",type:"double"},x:{for:"node",type:"double"},y:{for:"node",type:"double"},shape:{for:"all",type:"string"},color:{for:"all",type:"string"},r:{for:"all",type:"int"},g:{for:"all",type:"int"},b:{for:"all",type:"int"},a:{for:"all",type:"double"},text:{for:"all",type:"string"}};t.noStyles&&(delete o.color,delete o.r,delete o.g,delete o.b,delete o.a,delete o.shape,s.pop());const a=[],l=[];function c(h,g){const p={id:h.id};s.forEach(m=>{let _=h[m];m==="y"&&_&&(_=-parseFloat(_)),_!==void 0&&(p[(g==="edge"?"edge_":"")+m]=_,m==="color"&&function(f,x){const v=yr(x);v&&(f.r=v[0],f.g=v[1],f.b=v[2])}(p,_))}),qi(h.data||{},(m,_)=>{s.indexOf(_)===-1&&i.indexOf(_)===-1&&(o[_]?o[_].for!==g&&(o[_].for="all"):o[_]={for:g,type:"string"},p[_]=m)}),g==="edge"?(p.source=h.source,p.target=h.target,l.push(p)):a.push(p)}e.nodes.forEach(h=>c(h,"node")),e.edges.forEach(h=>c(h,"edge"));const d=r(n,"graphml",{xmlns:"http://graphml.graphdrawing.org/xmlns","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd","xmlns:y":"http://www.yworks.com/xml/graphml","xmlns:java":"http://www.yworks.com/xml/yfiles-common/1.0/java","xmlns:sys":"http://www.yworks.com/xml/yfiles-common/markup/primitives/2.0","xmlns:x":"http://ww.yworks.com/xml/yfiles-common/markup/2.0"});qi(o,(h,g)=>{h.for!=="node"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"node",id:g}),h.for!=="edge"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"edge",id:"edge_"+g})}),r(d,"key",{id:"nodegraphics",for:"node","yfiles.type":"nodegraphics","attr.type":"string"}),r(d,"key",{id:"edgegraphics",for:"edge","yfiles.type":"edgegraphics","attr.type":"string"});const u=r(d,"graph",{edgedefault:t.directedEdges||t.directedEdges===void 0?"directed":"undirected",id:t.graphId?t.graphId:"G","parse.nodes":e.nodes.length,"parse.edges":e.edges.length,"parse.order":"nodesfirst"});return a.forEach(h=>{const g=r(u,"node",{id:h.id});(function(m,_){const y=r(m,"data",{key:"nodegraphics"}),f=r(y,"y:ShapeNode");r(f,"y:Geometry",{x:_.x,y:_.y,width:_.size,height:_.size}),t.noStyles||r(f,"y:Fill",{color:C_(_.color),transparent:!1}),r(f,"y:NodeLabel",null,_.text||""),r(f,"y:Shape",{type:_.shape})})(g,h),qi(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),l.forEach(h=>{const g=r(u,"edge",{id:h.id,source:h.source,target:h.target});(function(m,_){const y=r(m,"data",{key:"edgegraphics"}),f=r(y,"y:PolyLineEdge");r(f,"y:LineStyle",{type:_.edge_type,color:t.noStyles?void 0:C_(_.edge_color),width:_.edge_size}),r(f,"y:EdgeLabel",null,_.edge_label)})(g,h),qi(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),`<?xml version="1.0" encoding="UTF-8"?>
${rv(n)}`}var MW={nodeAttributes:["x","y","color","radius","shape","text"],edgeAttributes:["color","width","text"],nodeData:Ii,edgeData:Ii,filter:"visible",pretty:!1,download:!0,filename:"graph.json",anonymize:!1};function PW(e,t={}){t.anonymize&&(t={nodeAttributes:"all",edgeAttributes:"all",nodeData:vd,edgeData:vd,filter:t.filter||"all",download:t.download,pretty:t.pretty,filename:t.filename});const{nodeAttributes:n,edgeAttributes:r,nodeData:i,edgeData:s,filter:o,pretty:a,download:l,filename:c}=Zr(t,MW),d=jF(e.modules.graph,{nodeAttributes:n,edgeAttributes:r,filter:o,nodeData:i,edgeData:s}),u=a?JSON.stringify(d,null," "):JSON.stringify(d);return l&&wo(u,c,"text"),Promise.resolve(d)}function FW(e,t){return e.getBoundingBox().computeForZoom(t).extend(Nn.fromValues(e.getAttribute("x"),e.getAttribute("y"),e.map(n=>n.getAttribute("radius")+n.getAttribute("innerStroke.width")+n.getAttribute("outerStroke.width"))))}function RW(e,t,n){const r=t.view.graphToScreenCoordinates(n.bottomLeft()),i=t.view.graphToScreenCoordinates(n.topRight()),s=i.x-r.x,o=i.y-r.y,a=Math.min(e.width/s,e.height/o);e.width=s*a,e.height=o*a}function $F(e,t={}){const n=e.view.get(),r=typeof t.margin=="number"?t.margin:0,i={pixelRatio:t.pixelRatio||Fr(),angle:0,backgroundColor:null,zoom:0,x:0,y:0,width:0,height:0,hideImages:!1,renderBackground:!0,isBufferDisplayable:xd};if(t.width&&t.height?(i.width=t.width,i.height=t.height):(i.width=n.width,i.height=n.height),t.clip)i.zoom=n.zoom,i.x=n.x,i.y=n.y;else{const s=FW(e.getNodes(t.filter),n.zoom);if(t.texts){const o=e.modules.labels.getTextsBoundingBox();o.isValid()&&s.extend(o)}t.width!=null&&isFinite(t.width)&&t.height!=null&&isFinite(t.height)||RW(i,e,s),i.width=Math.max(i.width,2*r),i.height=Math.max(i.height,2*r),i.x=s.cx,i.y=s.cy,i.zoom=Math.min((i.width-2*r)/s.width,(i.height-2*r)/s.height)}return e.modules.geo.isEnabled()?i.backgroundColor=null:t.background!==void 0&&(i.backgroundColor=t.background),i}function Ey(e,t,n,r,i=!1){const s=St(Se({},n),{hideImages:i,angle:n.angle||0,currentTime:rr(),isBufferDisplayable:l=>t.texts||!wI(l)}),o={};if(t.badges===!1){const l={text:null,image:null};o.badges={topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}}const a=e.styles.getClass(Do);return a&&a.update({nodeAttributes:o}),e.modules.graphics.export(r,s,t.filter||nb,t)}var mh=e=>({download:!0,filter:"visible",filename:`graph.${e}`,clip:!1,margin:10,width:void 0,height:void 0,background:null,badges:!0,legend:void 0,texts:!0,preventOverlap:!0,images:!0,textWatermark:{content:"",fontFamily:"Arial",fontSize:48,fontStyle:void 0,fontColor:"red",repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageWatermark:{url:void 0,width:void 0,height:void 0,repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageCrossOrigin:void 0,layers:!0,pixelRatio:void 0}),DW={png:mh("png"),jpg:mh("jpg"),tiff:mh("tiff"),gif:mh("gif")};function zW(e){const{canvas:t,parameters:n}=e;return n.textWatermark.content&&IA(t,n.textWatermark,HW,WW),n.imageWatermark.url?UL(n.imageWatermark.url).then(r=>(r&&(n.imageWatermark.content=r,IA(t,n.imageWatermark,XW,qW)),e)):e}function OW(e){const{ogma:t,canvas:n,parameters:r}=e,i=t.modules.legend;let s=null;return r.legend===void 0&&(s=!!i.enabled()&&i.getCurrentOptions()),r.legend===!0&&(s={}),s&&i.exportOnCanvas(n,s,e.parameters.pixelRatio),e}function BW(e){const{canvas:t,parameters:n,view:r}=e;if(!r.renderBackground)return e;r.renderBackground=!1;const i=t.getContext("2d");return i.fillStyle=n.background,i.fillRect(0,0,t.width,t.height),e}function jW(e){const{ogma:t,view:n}=e;return t.modules.geo.isEnabled()?t.modules.geo.exportBackground(n).then(r=>{const i=n.width*n.pixelRatio,s=n.height*n.pixelRatio,o=Dn(i,s),a=o.getContext("2d");return a.drawImage(r,(i-r.width)/2,(s-r.height)/2),a.drawImage(e.canvas,0,0),e.canvas=o,e}):e}function UW(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,canvas:r,below:!0}).then(()=>e):e}function $W(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,below:!1,canvas:r}).then(()=>e):e}function VW(e){const{ogma:t,parameters:n,canvas:r,view:i}=e,s=r.getContext("2d");return Ey(t,n,i,"canvas",!n.images).then(o=>{try{const a=o.getContext("2d");if(!a)throw new Error("Failed to render graph");return a.getImageData(0,0,1,1),s.drawImage(o,0,0,r.width,r.height),e}catch(a){return ao(a),Ey(t,n,i,"canvas",!0).then(l=>(s.drawImage(l,0,0,r.width,r.height),e))}})}function GW({canvas:e,parameters:t,type:n}){const r=e.toDataURL("image/"+n);return t.download&&wo(r,t.filename,"dataURL"),r}function fh(e,t,n){const r=Zr(t,DW[n]);r.background===null&&(r.background=e.modules.graphics.getTransparentBackgroundColor());const i=$F(e,r);r.pixelRatio=i.pixelRatio;const s={ogma:e,parameters:r,canvas:Dn(i.width*i.pixelRatio,i.height*i.pixelRatio),view:i,type:n};return Promise.resolve().then(()=>s).then(BW).then(jW).then(UW).then(VW).then($W).then(zW).then(OW).then(GW)}function HW(e,t,n,r){e.textAlign="center",e.textBaseline="middle",e.fillText(t,n,r)}function WW(e,t,n){return{width:e.measureText(t).width,height:n}}function qW(e,t,n,r,i){return{width:r===void 0?t.width:r,height:i===void 0?t.height:i}}function XW(e,t,n,r,i,s){e.drawImage(t,n-i/2,r-s/2,i,s)}function IA(e,t,n,r){if(!t)return;if(typeof t!="object")t={content:t};else if(!t.content)return;const{fontFamily:i,fontSize:s,fontStyle:o,fontColor:a,repeat:l,alpha:c,space:d,content:u}=t;let h=t.angle;const g=e.getContext("2d"),p=e.width,m=e.height,_=t.x===void 0?p/2:t.x,y=t.y===void 0?m/2:t.y,f=t.height,x=t.width;h=h/180*Math.PI,ho(g,i,s,o),g.fillStyle=a,g.globalAlpha=c;const v=r(g,u,s,x,f);if(l){const w=v.width+d,b=v.height+d,S=Math.sqrt(p*p+m*m);g.save(),g.translate(0,0),g.rotate(h);for(let A=0;A<S;A+=w)for(let C=0;C<S;C+=b)n(g,u,A,C,v.width,v.height),C!==0&&n(g,u,A,-C,v.width,v.height);g.restore()}else g.save(),g.translate(_,y),g.rotate(h),n(g,u,0,0,v.width,v.height),g.restore()}var YW={download:!0,filename:"graph.svg",width:void 0,height:void 0,background:null,texts:!0,preventOverlap:!0,groupSemantically:!0,images:!0,badges:!0,embedFonts:!1,layers:!0,clip:!1,margin:10,prefix:"ogma"};function ZW(e,t){const n=Zr(t,YW),{background:r,filename:i,download:s,layers:o}=n,a=e.modules.graphics;r===null&&(n.background=a.getTransparentBackgroundColor());const l=$F(e,n);return Ey(e,n,l,"svg",!n.images).then(c=>(c.removeAttribute("pointer-events"),c.setAttribute("version","1.1"),c.setAttributeNS(x_,"xmlns",Qx),c.setAttributeNS(x_,"xmlns:xlink",jL),c)).then(c=>n.groupSemantically?KW(e,c,n):c).then(c=>eq(c,n)).then(c=>QW(e,l,c)).then(c=>MA(e,l,c,o,!0)).then(c=>MA(e,l,c,o,!1)).then(c=>{const d=`<?xml version="1.0" encoding="utf-8"?>${rv(c)}`;return s&&wo(d,i,"text/xml"),d})}function QW(e,t,n){return e.modules.geo.isEnabled()?e.modules.geo.exportBackground(St(Se({},t),{pixelRatio:1})).then(r=>{const i=Ot("image",{width:r.width,height:r.height,x:0,y:0,href:r.toDataURL()});return n.insertBefore(i,n.children[0]),n}):Promise.resolve(n)}function MA(e,t,n,r,i=!1){return r?e.modules.layers.export({view:t,svg:n,below:i}).then(()=>n):Promise.resolve(n)}function KW(e,t,n){const r=t.childNodes[2],i=r.childNodes,s={},o=n.prefix;for(let g=0;g<i.length;g++){const p=i[g],m=p.getAttribute(ni);m!=null&&(s[m]=s[m]||[],s[m].push(p))}const a=Object.keys(s),l=e.modules.graph,c=l.getNodeAttribute("id"),d=l.getEdgeAttribute("id"),u=Ot("g",{class:`${o}-edges`}),h=Ot("g",{class:`${o}-nodes`});for(let g=0;g<a.length;g++){const p=a[g],m=p.charAt(0)==="n",_=parseInt(p.substring(1)),y=s[p],f=qa((m?c:d).get(_).toString()),x=Ot("g");x.setAttribute(`data-${m?"node":"edge"}-id`,f),x.setAttribute("class",`${o}-${m?"node":"edge"}`);for(let v=0;v<y.length;v++){const w=y[v];x.appendChild(w),w.removeAttribute(ni)}(m?h:u).appendChild(x)}return r.appendChild(u),r.appendChild(h),t}function JW(e){const t=[].concat(Array.prototype.slice.call(e.getElementsByTagName("text")||[])),n=[],r={};for(let i=0;i<t.length;i++){const s=t[i].parentNode.getAttribute("font-family");if(typeof s=="string"){const o=s.split(",");for(let a=0;a<o.length;a++){const l=o[a].replace(/['"]/g,"");l===""||r[l]||(r[l]=!0,n.push(l))}}}return{list:n,map:r}}function eq(e,t){const n=JW(e).map;return KL().then(r=>r.filter(i=>n[i.name])).then(r=>JL(r,!!t.embedFonts)).then(r=>{if(r.length!==0){const i=Ot("style");for(let s=0;s<r.length;s++)i.appendChild(Kx(r[s]));e.childNodes[0].appendChild(i)}return e})}var tq={what:void 0,dataProperties:void 0,filter:"visible",nodes:void 0,edges:void 0,download:!0,filename:"graph.xlsx",tab:void 0,nodeData:void 0,edgeData:void 0};function nq(e,t={}){typeof t=="string"&&(t={what:t});const{what:n,nodes:r,edges:i,tab:s={nodes:()=>"nodes",edges:()=>"edges"},download:o,filename:a,dataProperties:l,filter:c,nodeData:d,edgeData:u}=Zr(t,tq);s.nodes||(s.nodes=()=>"nodes"),s.edges||(s.edges=()=>"edges");const h=_m(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:r,edges:i,filter:c,nodeData:p=>p,edgeData:p=>p}),g=rq(h,{what:n,tabFunctions:s,tabContentFunctions:{nodes:d||(p=>f_(yd(p||{}),l)),edges:u||(p=>f_(yd(p||{}),l))}},{nodes:e.modules.graph.getNodes(h.nodes.map(({id:p})=>p)),edges:e.modules.graph.getEdges(h.edges.map(({id:p})=>p))});return o&&wo(g,a,"blob"),Promise.resolve(g)}function rq(e,{what:t,tabFunctions:n,tabContentFunctions:r},i){const s=pi("XLSX")||pi("xlsx",{throwOnError:!0});if(!s)throw Error('The xlsx exports requires the "xlsx" peer dependency to be associated');const o=new sq;if(t){if(t!=="nodes"&&t!=="edges")throw new TypeError(`Invalid argument: "what" is not "nodes" or "edges", was ${t}`);t==="nodes"&&(e.edges=[]),t==="edges"&&(e.nodes=[])}const a={};for(const l of["nodes","edges"]){const c=yW(e[l],l,n[l],r[l],i[l]);for(const d of Object.keys(c))a[d]=[...a[d]||[],...c[d]]}for(const l of Object.keys(a))o.SheetNames.push(l),o.Sheets[l]=iq(s,xW(a[l]));return o.SheetNames.length===0&&(o.SheetNames=["nodes","edges"],o.Sheets.nodes={},o.Sheets.edges={}),bd([oq(s.write(o,{bookType:"xlsx",bookSST:!1,type:"binary"}))])}function iq(e,t){const n={},r={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(let i=0;i!==t.length;++i){const s=t[i];for(let o=0;o!==s.length;++o){const a=s[o];r.s.r>i&&(r.s.r=i),r.s.c>o&&(r.s.c=o),r.e.r<i&&(r.e.r=i),r.e.c<o&&(r.e.c=o);const l={v:UF(a)};n[e.utils.encode_cell({c:o,r:i})]=l}}return r.s.c<1e7&&(n["!ref"]=e.utils.encode_range(r)),n}var sq=class{constructor(){this.SheetNames=[],this.Sheets={}}};function oq(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r!==e.length;++r)n[r]=255&e.charCodeAt(r);return t}var aq=class{getNodesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getNodes()}getEdgesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getEdges()}},Sy={};Zd(Sy,{gexf:()=>VF,gexfFromUrl:()=>rb,graphml:()=>qF,graphmlFromUrl:()=>XF,janus:()=>GF,json:()=>HF,jsonFromUrl:()=>ib,neo4j:()=>WF});var Eo=Vx(vL()),VF=e=>Promise.resolve(Eo.gexf(e)),rb=e=>Kd(e).then(t=>Eo.gexf(t)),GF=e=>Promise.resolve(Eo.janus(e)),HF=(e,t)=>Promise.resolve(Eo.json(e,t)),ib=(e,t)=>Kd(e).then(n=>Eo.json(n,t)),WF=e=>Promise.resolve(Eo.neo4j(e)),qF=e=>Promise.resolve(Eo.graphml(e)),XF=e=>Kd(e).then(t=>Eo.graphml(t)),lq=class extends Kt{constructor(){super(...arguments),this.wait=e=>new Promise(t=>setTimeout(t,e)),this.initRandomGraph=e=>this._ogma.generate.random(e).then(this._ogma.setGraph).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.initGrid=e=>{const t=Math.ceil(Math.sqrt(e));return this._ogma.generate.grid({rows:t,columns:t}).then(n=>this._ogma.setGraph(n)).then(()=>this._ogma.view.locateGraph())},this.initLine=e=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:e?{x:0,y:50}:{x:50,y:0}}],edges:[{id:0,source:1,target:0}]}),this._ogma.view.locateGraph()),this.initSingleNode=()=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}}],edges:[]}),this._ogma.view.locateGraph()),this.initContinuousRenderLoop=({triggerKey:e="r",start:t=!0}={})=>{let n=t;const r=()=>{n&&this._ogma.modules.dom.beforeNextFrame().then(r)};document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n,r())}),r()},this.appendToBody=()=>{const e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",document.body.appendChild(e),this._ogma.setContainer(e)},this.loadFile=e=>(e.endsWith(".gexf")?rb(e):ib(e)).then(t=>this._ogma.setGraph(t)).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.enableLasso=e=>{this._ogma.events.on("dragStart",()=>{this._ogma.keyboard.isKeyPressed("ctrl")&&this._ogma.tools.lasso.enable(e)})},this.randomizeGraph=({minX:e=0,minY:t=0,maxX:n=500,maxY:r=500}={})=>this._ogma.getNodes().setAttributes(this._ogma.getNodes().map(()=>({x:e+Math.random()*(n-e),y:t+Math.random()*(r-t)})))}},cq=class{setContainer(e){this.modules.dom.setContainer(e)}getContainer(){return this.modules.dom.getContainer()}},dq=class extends Kt{constructor(){super(...arguments),this.once=(e,t)=>(this._ogma.modules.events.once(e,t),this),this.removeListener=e=>{this._ogma.modules.events.off(e)},this.onNodesAdded=e=>(this._ogma.events.on("addNodes",e),this._ogma),this.onBeforeNodesRemoved=e=>(this._ogma.events.on("beforeRemoveNodes",e),this._ogma),this.onNodesRemoved=e=>(this._ogma.events.on("removeNodes",e),this._ogma),this.onEdgesAdded=e=>(this._ogma.events.on("addEdges",e),this._ogma),this.onBeforeEdgesRemoved=e=>(this._ogma.events.on("beforeRemoveEdges",e),this._ogma),this.onEdgesRemoved=e=>(this._ogma.events.on("removeEdges",e),this._ogma),this.onGraphCleared=e=>(this._ogma.events.on("clearGraph",e),this._ogma),this.onNodesClassAdded=(e,t)=>(this._ogma.modules.classes.onNodeClassAdded(e,t),this._ogma),this.onNodesClassRemoved=(e,t)=>(this._ogma.modules.classes.onNodeClassRemoved(e,t),this._ogma),this.onEdgesClassAdded=(e,t)=>(this._ogma.modules.classes.onEdgeClassAdded(e,t),this._ogma),this.onEdgesClassRemoved=(e,t)=>(this._ogma.modules.classes.onEdgeClassRemoved(e,t),this._ogma),this.onNodeDragStart=e=>(this._ogma.events.on("nodesDragStart",e),this._ogma),this.onNodeDragProgress=e=>(this._ogma.events.on("nodesDragProgress",e),this._ogma),this.onNodeDragEnd=e=>(this._ogma.events.on("nodesDragEnd",e),this._ogma),this.onDrop=e=>(this._ogma.events.on("drop",e),this._ogma),this.onNodesSelected=e=>this.onNodesClassAdded(nn,e),this.onNodesUnselected=e=>this.onNodesClassRemoved(nn,e),this.onEdgesSelected=e=>this.onEdgesClassAdded(nn,e),this.onEdgesUnselected=e=>this.onEdgesClassRemoved(nn,e),this.onNodeDataChange=e=>(this._ogma.events.on("updateNodeData",e),this._ogma),this.onEdgeDataChange=e=>(this._ogma.events.on("updateEdgeData",e),this._ogma),this.onAnimate=e=>(this._ogma.events.on("animate",e),this._ogma),this.onMouseMove=e=>(this._ogma.events.on("mousemove",e),this._ogma),this.onMouseButtonDown=e=>(this._ogma.events.on("mousedown",e),this._ogma),this.onMouseButtonUp=e=>(this._ogma.events.on("mouseup",e),this._ogma),this.onClick=e=>(this._ogma.events.on("click",e),this._ogma),this.onDoubleClick=e=>(this._ogma.events.on("doubleclick",e),this._ogma),this.onMouseWheel=e=>(this._ogma.events.on("mousewheel",e),this._ogma),this.onHover=e=>(this._ogma.events.on("mouseover",e),this._ogma),this.onUnhover=e=>(this._ogma.events.on("mouseout",e),this._ogma),this.onDragStart=e=>(this._ogma.events.on("dragStart",e),this._ogma),this.onDragProgress=e=>(this._ogma.events.on("dragProgress",e),this._ogma),this.onDragEnd=e=>(this._ogma.events.on("dragEnd",e),this._ogma),this.onGestureStart=e=>(this._ogma.events.on("gestureStart",e),this._ogma),this.onGestureProgress=e=>(this._ogma.events.on("gestureProgress",e),this._ogma),this.onGestureEnd=e=>(this._ogma.events.on("gestureEnd",e),this._ogma),this.onRendererStateChange=e=>(this._ogma.events.on("rendererStateChange",e),this._ogma),this.onZoomProgress=e=>(this._ogma.events.on("zoom",e),this._ogma),this.onViewChanged=e=>(this._ogma.events.on("viewChanged",e),this._ogma),this.onNodesConnected=e=>(this._ogma.events.on("connectNodes",e),this._ogma),this.onGeoModeEnabled=e=>(this._ogma.events.on("geoEnabled",e),this._ogma),this.onGeoModeDisabled=e=>(this._ogma.events.on("geoDisabled",e),this._ogma),this.onGeoModeLoaded=e=>(this._ogma.events.on("geoLoaded",e),this._ogma),this.onLayoutStart=e=>(this._ogma.events.on("layoutStart",e),this._ogma),this.onLayoutComplete=e=>(this._ogma.events.on("layoutEnd",e),this._ogma),this.onLayoutComputed=e=>(this._ogma.events.on("layoutComputed",e),this._ogma),this.onTooltipShown=e=>(this._ogma.events.on("tooltipShow",e),this._ogma),this.onTooltipHidden=e=>(this._ogma.events.on("tooltipHide",e),this._ogma),this.onTransformationEnabled=e=>(this._ogma.events.on("transformationEnabled",e),this._ogma),this.onTransformationDisabled=e=>(this._ogma.events.on("transformationDisabled",e),this._ogma),this.onTransformationSetIndex=e=>(this._ogma.events.on("transformationSetIndex",e),this._ogma),this.onTransformationDestroyed=e=>(this._ogma.modules.events.on("transformationDestroyed",e),this._ogma),this.onTransformationRefreshed=e=>(this._ogma.events.on("transformationRefresh",e),this._ogma)}on(e,t){return this._ogma.modules.events.on(e,t),this}off(e){return this._ogma.modules.events.off(e),this}onKeyPress(e,t){return this._ogma.modules.keyboard.onKeyPress(e,t),this._ogma}},uq=class extends Kt{constructor(e){super(e),this.csv=t=>SW(this._ogma,t),this.xlsx=t=>(t&&t.dataProperties&&void 0,nq(this._ogma,t)),this.gexf=t=>CW(this._ogma,t),this.graphml=(t={})=>NW(this._ogma,t),this.json=(t={})=>PW(this._ogma,t),this.svg=(t={})=>ZW(this._ogma,t),this.png=(t={})=>fh(this._ogma,t,"png"),this.jpg=(t={})=>fh(this._ogma,t,"jpg"),this.tiff=(t={})=>fh(this._ogma,t,"tiff"),this.gif=(t={})=>fh(this._ogma,t,"gif"),e.styles.createClass({name:Do,isBuiltin:!0})}},Jn=Vx(fO()),hq=class extends Kt{constructor(){super(...arguments),this.balancedTree=e=>Promise.resolve(Jn.balancedTree.generate(Jn.balancedTree.configure(e))),this.barabasiAlbert=e=>Promise.resolve(Jn.barabasiAlbert.generate(Jn.barabasiAlbert.configure(e))),this.erdosRenyi=e=>Promise.resolve(Jn.erdosRenyi.generate(Jn.erdosRenyi.configure(e))),this.flower=e=>Promise.resolve(Jn.flower.generate(Jn.flower.configure(e))),this.grid=e=>Promise.resolve(Jn.grid.generate(Jn.grid.configure(e))),this.path=e=>Promise.resolve(Jn.path.generate(Jn.path.configure(e))),this.random=e=>Promise.resolve(Jn.random.generate(Jn.random.configure(e))),this.randomTree=e=>Promise.resolve(Jn.randomTree.generate(Jn.randomTree.configure(e)))}},gq=class{reloadFonts(){this.modules.graphics.reloadFonts()}},pq=class extends Kt{constructor(){super(...arguments),this.gexf=e=>VF(e),this.gexfFromUrl=e=>rb(e),this.janus=e=>GF(e),this.json=(e,t)=>HF(e,t),this.jsonFromUrl=(e,t)=>ib(e,t),this.neo4j=e=>WF(e),this.graphml=e=>qF(e),this.graphmlFromUrl=e=>XF(e)}},mq=class extends Kt{constructor(e){super(e),this.stop=()=>this._ogma.modules.layouts.stop(),this.concentric=uH(e),this.radial=X9(e),this.force=n9(e),this.forceLink=r9(e),this.hierarchical=W9(e),this.sequential=Y9(e),this.grid=i9(e)}},fq=class extends Kt{constructor(){super(...arguments),this.move=e=>this._ogma.modules.virtualMouse.move(e),this.down=e=>this._ogma.modules.virtualMouse.down(e),this.up=e=>this._ogma.modules.virtualMouse.up(e),this.click=e=>this._ogma.modules.virtualMouse.click(e),this.rightClick=e=>this._ogma.modules.virtualMouse.rightClick(e),this.doubleclick=e=>this._ogma.modules.virtualMouse.doubleclick(e),this.drag=(e,t)=>this._ogma.modules.virtualMouse.drag(e,t),this.wheel=e=>this._ogma.modules.virtualMouse.wheel(e)}},_q=class extends Kt{constructor(){super(...arguments),this.map=e=>this._ogma.modules.rules.createMapping(e),this.slices=e=>this._ogma.modules.rules.createSlices(e),this.template=e=>this._ogma.modules.rules.createTemplate(e)}},yq=class{clearSelection(){return this.modules.selection.clear()}getSelectedNodes(){return this.modules.selection.getSelectedNodes()}getNonSelectedNodes(){return this.modules.selection.getNonSelectedNodes()}getSelectedEdges(){return this.modules.selection.getSelectedEdges()}getNonSelectedEdges(){return this.modules.selection.getNonSelectedEdges()}},xq=class{setOptions(e){return this.modules.settings.update(e)}getOptions(){return this.modules.settings.get()}},vq=class extends Kt{constructor(){super(...arguments),this.setNodesVisibility=e=>this._ogma.modules.graphics.setNodesVisibility(e),this.setEdgesVisibility=e=>this._ogma.modules.graphics.setEdgesVisibility(e),this.setNodeTextsVisibility=e=>this._ogma.modules.graphics.setNodeTextsVisibility(e),this.setEdgeTextsVisibility=e=>this._ogma.modules.graphics.setEdgeTextsVisibility(e),this.addRule=(e={})=>this._ogma.modules.styleRules.addRule(e),this.getRuleList=()=>this._ogma.modules.styleRules.getRuleList(),this.addNodeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({nodeAttributes:n,nodeSelector:r})},this.addEdgeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({edgeAttributes:n,edgeSelector:r})},this.getNodeRules=()=>this.getRuleList().filter(e=>e.getDefinition().edgeAttributes===void 0),this.getEdgeRules=()=>this.getRuleList().filter(e=>e.getDefinition().nodeAttributes===void 0),this.createClass=e=>this._ogma.modules.classes.createClass(e),this.getClass=e=>this._ogma.modules.classes.getClassByName(e),this.getClassList=()=>this._ogma.modules.classes.getClassList(),this.setHoveredNodeAttributes=(e,t)=>{this._ogma.modules.hover.updateNodeAttributes(e,t)},this.setHoveredEdgeAttributes=(e,t)=>{this._ogma.modules.hover.updateEdgeAttributes(e,t)},this.setSelectedNodeAttributes=(e,t)=>this._ogma.modules.selection.setNodeAttributes(e,!!t),this.setSelectedEdgeAttributes=(e,t)=>this._ogma.modules.selection.setEdgeAttributes(e,!!t),this.setTheme=({nodeAttributes:e,edgeAttributes:t,selectedNodeAttributes:n,selectedEdgeAttributes:r,hoveredNodeAttributes:i,hoveredEdgeAttributes:s})=>{this._ogma.modules.pulses.setTheme(e&&e.pulse||{},t&&t.pulse||{}),this._ogma.modules.graphics.getAttributesManager().setDefaultAttributes(e||{},t||{}),this.setSelectedNodeAttributes(n||{}),this.setSelectedEdgeAttributes(r||{}),this.setHoveredNodeAttributes(i||{}),this.setHoveredEdgeAttributes(s||{})}}},bq=class extends Kt{constructor(){super(...arguments),this.onNodeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.node",e,t)},this.onNodeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.node",e,t)},this.onNodeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.node",e,t)},this.onNodeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.node",e,t)},this.onEdgeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.edge",e,t)},this.onEdgeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.edge",e,t)},this.onEdgeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.edge",e,t)},this.onEdgeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.edge",e,t)},this.onBackgroundClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.background",e,t)},this.onBackgroundRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.background",e,t)},this.onBackgroundDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.background",e,t)},this.refresh=()=>this._ogma.modules.tooltip.refresh(),this.isShown=()=>this._ogma.modules.tooltip.isShown(),this.hide=()=>{this._ogma.modules.tooltip.hide()},this.show=(e,t)=>this._ogma.modules.tooltip.show(e,t)}},wq=class extends Kt{constructor(e){super(e),this.lasso=new J9(e),this.connectNodes=new K9(e),this.legend=new eW(e),this.rectangleSelect=new tW(e),this.resize=new nW(e),this.rewire=new rW(e),this.snapping=new iW(e),this.tooltip=new bq(e),this.brand=new Q9(e)}};function Eq(e,t,n){const r=e.getEdge(t.id||"");return!r||r.getTransformation()===n}var np=e=>!0,Pd=e=>"";function Fd(e,t,n){return{}}var YF=class extends fa{constructor(e){super(e),this._checkEdgeDataUpdate=!0,this._checkNodeDataUpdate=!0,this._nodeSelector=e.nodeSelector||np,this._nodeGroupIdFunction=e.nodeGroupIdFunction||Pd,this._nodeGenerator=e.nodeGenerator||Fd,this._edgeSelector=e.edgeSelector||np,this._edgeGroupIdFunction=e.edgeGroupIdFunction||Pd,this._edgeGenerator=e.edgeGenerator||Fd,this._edgeSource=e.edgeSource,this._edgeTarget=e.edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._groupEdges=e.groupEdges}_computeNodeGroupId(e){if(this._nodeGroupIdFunction)return this._nodeSelector(e)?this._nodeGroupIdFunction(e):void 0}_computeEdgeGroupId(e){if(this._edgeGroupIdFunction)return this._edgeSelector(e)?this._edgeGroupIdFunction(e):void 0}_addMetaNodes(){const e=this._id,t=this._ogma,n=t.getNodes().reduce((a,l)=>l.getTransformation()===this?a.concat(l.getSubNodes()):a.concat(l.toList()),this._ogma.nodeList()),r=new Map;for(let a=0;a<n.size;++a){const l=n.get(a),c=this._computeNodeGroupId(l);if(c!==void 0){let d=r.get(c);d||(d={id:c,nodes:[]},r.set(c,d)),d.nodes.push(l)}}const i=go(r),s=i.map(({nodes:a})=>t.getNodes(a)),o=[];for(let a=0;a<i.length;++a){const l=i[a].id,c=s[a],d=this._nodeGenerator(c,l,this);d.id===void 0&&(d.id=rp(l,e)),d.position=Sv(c.getPosition()),o.push(d)}return t.addNodes(o.map(a=>({id:a.id,attributes:a.position})),{virtual:!0}).then(()=>{const a=t.getNodes(o.map(c=>c.id));a.replaceOriginalAttributes(o.map(c=>c.attributes),["x","y","radius"]);const l=a.getData();for(let c=0;c<l.length;c++){const d=l[c],u=o[c];l[c]=Vr(Vr(d,u.data),this._context.nodeDataUpdates.get(a._indexes[c]))}return this._checkNodeDataUpdate=!1,a.setData(null,l),a.setVisible(!0),this._ogma.modules.grouping.setSubElements(a,s),s.forEach((c,d)=>{this._ogma.modules.grouping.setMetaElement(c,a.get(d))}),a})}_addMetaEdges(){const e=this._id,t=this._ogma,n=t.getEdges(),r=new Map,i=this._ogma.modules.graphics.getAttributesManager().getUsedEdgeAttributes().filter(l=>l!=="curvature");for(let l=0;l<n.size;++l){const c=n.get(l),d=this._computeEdgeGroupId(c);if(d!==void 0){const u=this._edgeSource(c),h=this._edgeTarget(c),g=this._groupEdges?Aq(d,u.getId(),h.getId(),this._separateEdgesByDirection):String(c.getId());let p=r.get(g);p||(p={id:g,source:u,target:h,edges:[]},r.set(g,p)),p.edges.push(c)}}const s=go(r),o=s.map(({edges:l})=>t.getEdges(l)),a=[];for(let l=0;l<s.length;++l){const c=s[l],d=c.id,u=o[l],h=this._groupEdges?this._edgeGenerator(u,d,this):kq(u,i);if(h.id!=null&&!Eq(t,h,this))throw Error(`The id ${h.id} returned by the edgeGenerator function is not a unique id.`);h.id===void 0&&(h.id=rp(d,e)),h.source=c.source.getId(),h.target=c.target.getId(),a.push(h)}return t.addEdges(Sq(a),{virtual:!0}).then(()=>{const l=t.getEdges(a.map(d=>d.id));l.setAttributes(a.map(d=>d.attributes));const c=l.getData();for(let d=0;d<c.length;d++){const u=a[d],h=c[d];c[d]=Vr(h,u.data)}return this._checkEdgeDataUpdate=!1,l.setData(null,c),l.setVisible(!1),this._ogma.modules.grouping.setSubElements(l,o),o.forEach((d,u)=>{this._ogma.modules.grouping.setMetaElement(d,l.get(u))}),l})}_removeMetaEdge(e){e.forEach(t=>{const n=t.getSubEdges();if(!n)return;const r=t.getMetaEdge()||null;this._ogma.modules.grouping.setMetaElement(n,r),r&&this._ogma.modules.grouping.setSubElements(r.toList(),[n.concat((r.getSubEdges()||this._ogma.edgeList()).filter(i=>i!==t))]),n.filter(i=>i.getTarget().isVisible()&&i.getSource().isVisible()).setVisible(!0)})}_removeMetaNode(e){e.forEach(t=>{const n=t.getSubNodes();n&&(this._ogma.modules.grouping.setMetaElement(n,null),n.setVisible(!0))})}_checkChanges(e,t){const n=t?this._context.nodeDataUpdates:this._context.edgeDataUpdates;for(let r=0;r<e.length;r++){const i=t?e[r].nodes.filter(s=>s.getTransformation()===this):e[r].edges.filter(s=>s.getTransformation()===this);if(i.size)for(let s=0;s<i._indexes.length;s++){let o=n.get(i._indexes[s])||{};const a=e[r].property,l=e[r].newValues[s];a?Zi(o,a,l):o=l,n.set(i._indexes[s],o)}}}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._nodeGroupIdFunction=e.nodeGroupIdFunction||this._nodeGroupIdFunction,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._edgeGroupIdFunction=e.edgeGroupIdFunction||this._edgeGroupIdFunction,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._edgeSource=e.edgeSource||this._edgeSource,this._edgeTarget=e.edgeTarget||this._edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection!==void 0?!!e.separateEdgesByDirection:this._separateEdgesByDirection,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._groupEdges=e.groupEdges!==void 0?!!e.groupEdges:this._groupEdges}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodeDataUpdates:new Map,edgeDataUpdates:new Map})}initialize(e){super.initialize(e),this._ogma.events.on("updateNodeData",({changes:t})=>{this._checkNodeDataUpdate?this._checkChanges(t,!0):this._checkNodeDataUpdate=!0}),this._ogma.events.on("updateEdgeData",({changes:t})=>{this._checkEdgeDataUpdate?this._checkChanges(t,!1):this._checkEdgeDataUpdate=!0})}};function Sq(e){return e.map(({id:t,source:n,target:r})=>({id:t,source:n,target:r}))}function Aq(e,t,n,r){let i=t,s=n;return!r&&i.toString()>s.toString()&&(i=n,s=t),`${e}[${i}-${s}]`}function kq(e,t){const n=e.get(0);return{data:n.getData(),attributes:n.getAttributes(t)}}function rp(e,t){return`gen_grp_${t}_${e}`}var Cq=()=>"",PA=()=>({}),Tq=class extends fa{constructor(e){super(e),this._groupSelfLoopEdges=!1,this._isCleaningUp=!1,this._isRunning=!1,this._onPreAddGraph=ft,this._onBeforeAdd=t=>{if(this._isCleaningUp||!this.enabled)return;const{isNode:n,objects:r}=t;Lq(t.objects,n?this._groupNodes(r):this._groupEdges(r)),this._shouldSetVirtual=!0},this._onAfterAdd=t=>{this._shouldSetVirtual&&(this._shouldSetVirtual=!1,this._setVirtual(t.nodes||t.edges,!!t.nodes))},this._onRequestElementsToDelete=t=>{if(t.virtual)return;const n=t.elementsToRemove.isNode,r=n?this._ogma.getNodes:this._ogma.getEdges,i=n?this._context.metaNodesSet:this._context.metaEdgesSet,s=n?this._context.nodeGroups:this._context.edgeGroups,o=n?this._ogma.removeNodes:this._ogma.removeEdges,a=t.elementsToRemove.size,l=r(Array.from(i)),c=t.elementsToRemove.slice();if(t.elementsToRemove=t.elementsToRemove.subtract(l),t.elementsToRemove.size===a)return;const d=c.subtract(t.elementsToRemove);if(d.forEach(u=>{s.delete(u.getId())}),n){const u=d.getAdjacentEdges().filter(h=>h.isVirtual());this._ogma.removeEdges(u)}o(d,{virtual:!0})},this._nodeToGroupId=e.groupIdFunction||Cq,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||PA,this._edgeGenerator=e.edgeGenerator||PA,this._shouldSetVirtual=!1,this._selector=e.selector,this.shouldDo=e.enabled===void 0||!!e.enabled}initialize(e){super.initialize(e),this._ogma.events.on("preAddElements",this._onBeforeAdd).on("requestElementsToDelete",this._onRequestElementsToDelete).on("preAddGraph",this._onPreAddGraph).on(["postAddGraph","addNodes","addEdges"],this._onAfterAdd),this.shouldDo&&(this.enable(),this.shouldDo=!1)}enable(){return this.enabled?Promise.resolve():(this.enabled=!0,this.shouldDo=!0,this.shouldUndo=!1,this._isRunning=!0,this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>(this.resolve(),this._isRunning=!1,Promise.resolve())))}disable(){return this.enabled?(this.enabled=!1,this.shouldDo=!1,this.shouldUndo=!1,this.cleanup().then(()=>{Promise.resolve()})):Promise.resolve()}run(){return this.enabled||!this.shouldDo?Promise.resolve(this._context):this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>Promise.resolve(this._context))}undo(){return Promise.resolve(this._context)}getName(){return"node-clustering"}cleanup(){if(this._isRunning)return Promise.resolve();this._isCleaningUp=!0;const e=this._ogma.getNodes(Array.from(this._context.metaNodesSet)),t=this._ogma.getEdges(Array.from(this._context.metaEdgesSet)),n=this._getSubNodes(),r=this._getSubEdges();return this.resetContext(),this._ogma.removeNodes(e,{virtual:!0}).then(()=>this._ogma.removeEdges(t,{virtual:!0})).then(()=>this._ogma.addNodes(n)).then(()=>this._ogma.addEdges(r)).then(()=>{this._isCleaningUp=!1,Promise.resolve()})}resetContext(){this._isRunning||(super.resetContext(),this._context=St(Se({},this._context),{nodeGroups:new Map,edgeGroups:new Map,metaNodesSet:new Set,metaEdgesSet:new Set,nodeToGroupId:new Map}))}getSubNodes(e){const t=this._context.nodeGroups.get(e.getId());return t?t.nodes:[]}getSubEdges(e){const t=this._context.edgeGroups.get(e.getId());return t?t.edges:[]}_getSubNodes(){return Array.from(this._context.nodeGroups.values()).reduce((e,{nodes:t})=>(e.push(...t),e),[])}_getSubEdges(){return Array.from(this._context.edgeGroups.values()).reduce((e,{edges:t})=>(e.push(...t),e),[])}_setVirtual(e,t){if(!e)return;const n=t?this._context.metaNodesSet:this._context.metaEdgesSet,r=e.filter(i=>n.has(i.getId()));this._ogma.modules.graph.storage.fetch(t).getFlexArray("virtual").setMultiple(r._indexes,1),t?this._context.virtualNodes=this._context.virtualNodes.concat(r):this._context.virtualEdges=this._context.virtualEdges.concat(r)}setContext(e){}_computeEdgeGroupId(e,t){return e>t?`${t}:${e}`:`${e}:${t}`}_groupEdges(e){const t=this._id,n=new Map,r=this._context.nodeToGroupId;this._context.edgeGroups.forEach(a=>{a.newEdges=[],n.set(a.id,a)});const i=[];for(let a=0;a<e.length;++a){const l=e[a];let c=this._context.nodeToGroupId.get(l.source),d=this._context.nodeToGroupId.get(l.target);if(!c&&!d){i.push(l);continue}c=c||l.source,d=d||l.target;const u=this._computeEdgeGroupId(c,d);if(u!==void 0){const h=r.get(l.source)||l.source,g=r.get(l.target)||l.target;let p=n.get(u);p||(p={id:u,source:h,target:g,edges:[],newEdges:[]},n.set(u,p)),p.edges.push(l),p.newEdges.push(l)}}const s=go(n),o=s.map(({edges:a})=>a);for(let a=0;a<s.length;++a){const l=s[a];if(!l.newEdges.length)continue;const c=l.id,d=o[a],u=this._edgeGenerator(d,c,this);u.id===void 0&&(u.id=rp(c,t)),u.source=l.source,u.target=l.target,l.metaEdge=u,this._context.metaEdgesSet.add(u.id),this._context.edgeGroups.get(u.id)||this._context.edgeGroups.set(u.id,l),(this._groupSelfLoopEdges||u.source!==u.target)&&i.push(u)}return this._ogma.view.afterNextFrame().then(()=>{this._context.edgeGroups.forEach(({newEdges:a,metaEdge:l})=>{if(!(a.length&&l&&l.id&&l.attributes))return;const c=this._ogma.getEdge(l.id);c==null||c.setAttributes(l.attributes)})}),i}_groupNodes(e){const t=this._id,n=new Map;this._context.nodeGroups.forEach(l=>{l.newNodes=[],n.set(l.id,l)});const r=[];for(let l=0;l<e.length;l++){const c=e[l];if(this._selector&&!this._selector(c)){r.push(c);continue}c.id=jN(c.id);const d=this._nodeToGroupId(c);if(d!==void 0){let u=n.get(d);u||(u={id:d,nodes:[],newNodes:[]},n.set(d,u)),u.nodes.push(c),u.newNodes.push(c)}else this._context.nodeToGroupId.set(c.id,c.id)}const i=go(n),s=i.map(({nodes:l})=>l),o=i.map(({newNodes:l})=>l),a=[];for(let l=0;l<i.length;++l){if(!i[l].newNodes.length)continue;const c=i[l].id,d=s[l],u=this._nodeGenerator(d,c,this);i[l].metaNode=u,u.id===void 0&&(u.id=rp(c,t));for(const h of o[l])this._context.nodeToGroupId.set(h.id,u.id);this._context.metaNodesSet.add(u.id),this._context.nodeGroups.get(u.id)||this._context.nodeGroups.set(u.id,i[l]),a.push(u)}return a.push(...r),this._ogma.view.afterNextFrame().then(()=>{this._context.nodeGroups.forEach(({newNodes:l,metaNode:c})=>{if(!(l.length&&c&&c.id&&c.attributes))return;const d=this._ogma.getNode(c.id);d==null||d.setAttributes(c.attributes)})}),a}_setOptions(e){this._nodeToGroupId=e.groupIdFunction||this._nodeToGroupId,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._selector=e.selector||this._selector}};function Lq(e,t){const n=t.length;return e.length=n,e.splice(0,n,...t),e}var Nq=e=>({addNodeClustering:(t={})=>e.modules.transformations.add(new Tq(t))}),Iq=e=>({addNodeFilter:t=>e.modules.filters.addNodeFilter(t),addEdgeFilter:t=>e.modules.filters.addEdgeFilter(t),getNodeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="node-filter"),getEdgeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="edge-filter")}),Mq=class extends YF{constructor({selector:e=np,duration:t,enabled:n,groupIdFunction:r=Pd,generator:i=Fd,separateEdgesByDirection:s=!1}={}){super({nodeSelector:null,nodeGroupIdFunction:null,nodeGenerator:null,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}getName(){return"edge-grouping"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{metaEdges:this._ogma.edgeList(),subEdges:this._ogma.edgeList(),invalidMetaEdges:this._ogma.edgeList(),invalidSubEdges:this._ogma.edgeList()})}run(){let e,t;const n=this.getAnimationDuration();return this._addMetaEdges().then(r=>{e=r,t=e.getSubEdges().reduce((o,a)=>o.concat(a),this._ogma.createEdgeList());const i=this._context.invalidSubEdges.subtract(t),s=t.reduce((o,a)=>(o[a.getId()]=!0,o),{});return Promise.all([...e.map((o,a)=>{const l=o.getParallelEdges({filter:"visible"}),c=l.filter(d=>!s[d.getId()]).reduce((d,u)=>(d[u.getId()]=!0,d),{});return c[o.getId()]=!0,l.setAttribute("curvature",l.map(d=>this._ogma.modules.curvatureManager.computeCurvature(s[d.getId()]?o:d,"all",u=>c[u.getId()])),n)}),i.setAttribute("curvature",this._getCurvatures(i),n)])}).then(()=>(t.setVisible(!1),e.setVisible(!0),St(Se({},this._context),{metaEdges:e,subEdges:t,virtualEdges:e,invalidMetaEdges:this._context.metaEdges.subtract(e),invalidSubEdges:t})))}undo(){const{metaEdges:e,subEdges:t}=this._context,n=this.getAnimationDuration(!1);return this._removeMetaEdge(e),e.setVisible(!1),t.filter(r=>r.getSource().isVisible()&&r.getTarget().isVisible()).setVisible(!0),e.setVisible(!1),this._context.invalidSubEdges=this._context.subEdges,t.getParallelEdges().setAttribute("curvature",this._getCurvatures(t),n)}_getCurvatures(e){return e.map(t=>this._ogma.modules.curvatureManager.computeCurvature(t,"visible",n=>!0))}cleanup(){const{virtualEdges:e,invalidMetaEdges:t}=this._context;return this._ogma.removeEdges(e.concat(t),{virtual:!0}).then(()=>(this._context.metaEdges=this._ogma.edgeList(),this._context.virtualEdges=this._ogma.edgeList(),this._context.invalidMetaEdges=this._ogma.edgeList(),this._context.invalidSubEdges=this._ogma.edgeList(),Promise.resolve()))}_setOptions({selector:e,duration:t,enabled:n,groupIdFunction:r,generator:i,separateEdgesByDirection:s}){super._setOptions({nodeSelector:void 0,nodeGroupIdFunction:void 0,nodeGenerator:void 0,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}};function Ay(e,t,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;ZF(e,t,o,r,i,s%2),Ay(e,t,n,r,o-1,s+1),Ay(e,t,n,o+1,i,s+1)}function ZF(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,d=n-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1);ZF(e,t,n,Math.max(r,Math.floor(n-d*h/c+g)),Math.min(i,Math.floor(n+(c-d)*h/c+g)),s)}const o=t[2*n+s];let a=r,l=i;for(nc(e,t,r,n),t[2*i+s]>o&&nc(e,t,r,i);a<l;){for(nc(e,t,a,l),a++,l--;t[2*a+s]<o;)a++;for(;t[2*l+s]>o;)l--}t[2*r+s]===o?nc(e,t,r,l):(l++,nc(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function nc(e,t,n,r){Yf(e,n,r),Yf(t,2*n,2*r),Yf(t,2*n+1,2*r+1)}function Yf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Pq(e,t,n,r,i,s,o){const a=[0,e.length-1,0],l=[];let c,d;for(;a.length;){const u=a.pop(),h=a.pop(),g=a.pop();if(h-g<=o){for(let _=g;_<=h;_++)c=t[2*_],d=t[2*_+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[_]);continue}const p=Math.floor((g+h)/2);c=t[2*p],d=t[2*p+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[p]);const m=(u+1)%2;(u===0?n<=c:r<=d)&&(a.push(g),a.push(p-1),a.push(m)),(u===0?i>=c:s>=d)&&(a.push(p+1),a.push(h),a.push(m))}return l}function Fq(e,t,n,r,i,s){const o=[0,e.length-1,0],a=[],l=i*i;for(;o.length;){const c=o.pop(),d=o.pop(),u=o.pop();if(d-u<=s){for(let _=u;_<=d;_++)FA(t[2*_],t[2*_+1],n,r)<=l&&a.push(e[_]);continue}const h=Math.floor((u+d)/2),g=t[2*h],p=t[2*h+1];FA(g,p,n,r)<=l&&a.push(e[h]);const m=(c+1)%2;(c===0?n-i<=g:r-i<=p)&&(o.push(u),o.push(h-1),o.push(m)),(c===0?n+i>=g:r+i>=p)&&(o.push(h+1),o.push(d),o.push(m))}return a}function FA(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}var Rq=e=>e[0],Dq=e=>e[1],zq=class{constructor(e,t=Rq,n=Dq,r=64,i=Float64Array){this.nodeSize=r,this.points=e;const s=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(e.length),a=this.coords=new i(2*e.length);for(let l=0;l<e.length;l++)o[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);Ay(o,a,r,0,o.length-1,0)}range(e,t,n,r){return Pq(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return Fq(this.ids,this.coords,e,t,n,this.nodeSize)}};function Oq(e){return e&&e.then==="function"?e:Promise.resolve(e)}var QF=class extends YF{constructor({duration:e,enabled:t,padding:n=0,selector:r=np,groupIdFunction:i=Pd,edgeGroupIdFunction:s=Pd,nodeGenerator:o=Fd,edgeGenerator:a=Fd,separateEdgesByDirection:l=!1,groupSelfLoopEdges:c=!1,groupEdges:d=!0,restorePositions:u=!0,showContents:h=!1,onCreated:g}={}){super({nodeSelector:r,nodeGroupIdFunction:i,edgeGroupIdFunction:s,nodeGenerator:o,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGenerator:a,edgeSource:p=>_h(p.getSource()),edgeTarget:p=>_h(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._metaNodesIds=new Set,this._padding=n,this._showContents=typeof h!="function"?()=>h:h,this._restorePositions=u,this._onCreated=g||((p,m,_,y)=>{})}getName(){return"node-grouping"}get context(){return this._context}get padding(){return this._padding}set padding(e){this._padding=e,this._refresh()}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{metaNodes:this._ogma.nodeList(),metaEdges:this._ogma.edgeList(),subNodes:this._ogma.nodeList(),collapsedSubNodes:this._ogma.nodeList(),subEdges:this._ogma.edgeList(),subnodesVisibility:[],offsets:[]})}run(){let e,t;const n=this._ogma,r=this.getAnimationDuration();let i=n.createNodeList(),s=n.createNodeList(),o=n.createEdgeList();const a=[],l=this._ogma.modules.grouping,c=[],d=new Set,u=new Set;let h=[];return this._addMetaNodes().then(g=>(e=g,h=e.reduce((p,m)=>{const _=m.getSubNodes();return p.concat(_?_.isVisible():[])},[]),e.setVisible(!1),this._addMetaEdges())).then(g=>(t=g,e.forEach(p=>{const m=p.getSubNodes(),_=p.getPosition(),y=this._showContents(p);if(!m||m.map(f=>!f.isVisible()).every(f=>f))p.setVisible(!1);else if(m){if(y){d.add(p._index);const f=m.getAdjacentEdges({bothExtremities:!0});m.setVisible(!0),f.forEach(x=>u.add(x._index))}else{d.delete(p._index),l.removeVisibleGroup(p),a.push(...m.getPosition().map(x=>(x.x=x.x-_.x,x.y=x.y-_.y,x))),i=i.concat(m);const f=m.toArray();for(;f.length!==0;){const x=f.pop(),v=x.getSubNodes();v&&l.isVisibleGroup(x)&&(v.setVisible(!1),v.getAdjacentEdges({bothExtremities:!0}).setVisible(!1),f.push.apply(f,v.toArray()))}}s=s.concat(m)}}),o=t.getSubEdges().reduce((p,m)=>{const _=m.filter(y=>{if(u.has(y._index))return!1;const f=y.getSource().getMetaNode(),x=y.getTarget().getMetaNode();return!(f&&x&&l.isVisibleGroup(f)&&l.isVisibleGroup(x)&&f===x)});return p.concat(_)},n.createEdgeList()),i.setAttributes(i.getPosition().map((p,m)=>{const _=a[m];return p.x-=_.x,p.y-=_.y,p}),r))).then(()=>{i.setVisible(!1),o.setVisible(!1),e.setVisible(!0),this._ogma.modules.events.fire("groupingRun",{metaNodes:e,padding:isNaN(+this._padding)?e.map(g=>(0,this._padding)(g)||0):this._padding}),t.filter(g=>this._groupSelfLoopEdges||g.getSource()!==g.getTarget()).setVisible(!0)}).then(()=>{const g=new Set;e.forEach(p=>{const m=d.has(p._index),_=p.getSubNodes();if(_){const y=_.getAdjacentEdges({filter:"all",bothExtremities:!0});if(m){const f=_.reduce((x,v)=>{const w=l.getNodeDepth(v);return g.add(v._index),w<x?w:x},0);y.forEach(x=>u.add(x._index)),l.addVisibleGroup(p,R4+f),this._metaNodesIds.has(p.getId())||(this._metaNodesIds.add(p.getId()),c.push(Oq(this._onCreated(p,m,_,y)).then(n.view.afterNextFrame)))}}}),t.forEach(p=>{const m=Math.min(l.getNodeDepth(p.getSource()),l.getNodeDepth(p.getTarget()));p.setAttribute("layer",m)}),o=o.filter(p=>!u.has(p._index)),i=i.filter(p=>!g.has(p._index)),n.removeNodes(this.context.metaNodes.subtract(e),{virtual:!0}),n.removeEdges(this.context.metaEdges.subtract(t),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update()}).then(()=>Promise.all(c)).then(()=>({metaNodes:e,metaEdges:t,subnodesVisibility:h,collapsedSubNodes:i,virtualNodes:e,virtualEdges:t,subNodes:s,nodeDataUpdates:this._context.nodeDataUpdates,edgeDataUpdates:this._context.edgeDataUpdates,subEdges:o,offsets:a}))}undo(){const{metaNodes:e,metaEdges:t,subnodesVisibility:n,subNodes:r,offsets:i,collapsedSubNodes:s,subEdges:o}=this._context,a=this.getAnimationDuration(),l=this._ogma.modules.grouping,c=this._ogma.getNodes(s.getMetaNode()).getPosition(),d=c.map((u,h)=>Bq(u,i[h]));return r.forEach((u,h)=>u.setVisible(n[h])),o.setVisible(!0),l.setMetaElement(r,null),l.setMetaElement(o,null),e.setVisible(!1),t.setVisible(!1),s.setAttributes(c).then(()=>this._restorePositions?s.setAttributes(d,a):Promise.resolve(s))}cleanup(){const e=this._ogma,t=this._context,{metaNodes:n,metaEdges:r}=t;return Promise.all([()=>this._ogma.modules.grouping.resetOffsets(),e.removeEdges(r,{virtual:!0}),e.removeNodes(n,{virtual:!0})]).then(()=>Promise.resolve())}_setOptions({duration:e,enabled:t,padding:n,selector:r,groupIdFunction:i,nodeGenerator:s,edgeGroupIdFunction:o,edgeGenerator:a,separateEdgesByDirection:l,groupSelfLoopEdges:c,groupEdges:d,restorePositions:u,showContents:h,onCreated:g}={}){super._setOptions({nodeSelector:r,nodeGroupIdFunction:i,nodeGenerator:s,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGroupIdFunction:o,edgeGenerator:a,edgeSource:p=>_h(p.getSource()),edgeTarget:p=>_h(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._padding=n!==void 0?n:this.padding,this._showContents=h!==void 0?typeof h!="function"?()=>h:h:this._showContents,this._restorePositions=u===void 0?this._restorePositions:u,this._onCreated=g||this._onCreated}};function _h(e){return e.getMetaNode()||e}function Bq(e,t){return{x:e.x+t.x,y:e.y+t.y}}var jq=e=>e/360+.5,Uq=e=>{const t=Math.sin(e*Math.PI/180);return(e=.5-.25*Math.log((1+t)/(1-t))/Math.PI)<0?0:e>1?1:e},$q=256,Vq=class extends QF{constructor(e){super(St(Se({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=Vr(i.data,s):i.data=s,i}})),this._zoomLevels=e.zoomLevels?e.zoomLevels:[0,22],this._groupingRadius=e.radius===void 0?60:e.radius,this._generateIdFunction=e.groupIdFunction||(()=>""),this._shouldEnable=e.enabled,this._shouldRefreshClusters=!0}initialize(e){super.initialize(e);const t=this._ogma;this._ogma.modules.events.on("beforeGeoCameraMove",({zoom:n})=>{this.enabled&&t.geo.enabled()&&this.getClosestZoomLevel(n).zoom!==this._currentClusters.zoom&&(this._shouldRefreshClusters=!1,this._refresh())}),t.events.on("geoDisabled",()=>{this.isEnabled()&&this.disable(0).then(()=>{this._shouldEnable=!0})}),t.events.on("geoEnabled",()=>{this._shouldEnable&&this.enable(0)})}getPosition(e){return{x:e.getData(this._ogma.modules.geo.latitudePath),y:e.getData(this._ogma.modules.geo.longitudePath)}}getMercatorPosition(e){return{x:jq(e.getData(this._ogma.modules.geo.longitudePath)),y:Uq(e.getData(this._ogma.modules.geo.latitudePath))}}getNodeId(e){var t;return((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.id)||""}enable(e){return this._ogma&&!this._ogma.modules.geo.isEnabled()?(this._shouldEnable=!0,Promise.resolve()):super.enable(e)}disable(e){return this._shouldEnable=!1,super.disable(e)}getCoords(e){var t;const n=((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.center)||{x:0,y:0},r={};return this.setToPropertyPath(r,this._ogma.modules.geo.latitudePath,n.x),this.setToPropertyPath(r,this._ogma.modules.geo.longitudePath,n.y),r}setToPropertyPath(e,t,n){if(typeof t=="string")return this.setToPropertyPath(e,t.split("."),n);{let r=e;t.forEach((i,s)=>{s===t.length-1?r[i]=n:r[i]||(r[i]={}),r=r[i]})}}nodeToElement(e){return{nodeId:e._index,generatedId:this._generateIdFunction(e),nodes:this._ogma.nodeList(new Uint32Array([e._index])),radius:e.getAttribute("radius"),center:this.getPosition(e),mercatorCenter:this.getMercatorPosition(e),zoom:1/0}}getCluster(e){const t=e.reduce((i,s)=>({x:i.x+s.center.x/e.length,y:i.y+s.center.y/e.length}),{x:0,y:0}),n=e.reduce((i,s)=>({x:i.x+s.mercatorCenter.x/e.length,y:i.y+s.mercatorCenter.y/e.length}),{x:0,y:0}),r=e.reduce((i,s)=>{const o=t.x-s.center.x,a=t.y-s.center.y,l=s.radius+Math.sqrt(o*o+a*a);return Math.max(l,i)},0);return{nodes:this._ogma.nodeList(new Uint32Array(e.map(({nodeId:i})=>i))),generatedId:e[0].generatedId,center:t,mercatorCenter:n,radius:r}}onePassCluster(e){const t=e.map(s=>this.nodeToElement(s)),[n,r]=this._zoomLevels,i=[];for(let s=r;Math.abs(s-n)>.01;s-=1*(r-n)/19){const o=[],a=new zq(t,({mercatorCenter:l})=>l.x,({mercatorCenter:l})=>l.y,16,Float32Array);t.forEach(l=>{if(l.zoom<=s)return;const c=this._groupingRadius/($q*Math.pow(2,l.zoom-1));let d=a.within(l.mercatorCenter.x,l.mercatorCenter.y,c).map(u=>t[u]).filter(u=>u.zoom>s&&u&&u.generatedId===l.generatedId);d.length||(d=[l]),d.forEach(u=>u.zoom=s),o.push(St(Se({},this.getCluster(d)),{zoom:s,id:`${s.toFixed(2)}-${o.length}`}))}),i.push({zoom:s,clusters:o})}return i.map(({zoom:s,clusters:o})=>{const a=new Map;return o.forEach(l=>{l.nodes.forEach(({_index:c})=>a.set(c,l))}),{zoom:s,idToCluster:a}})}getClosestZoomLevel(e){return this._clustersByZoom.reduce((t,n)=>Math.abs(e-n.zoom)<Math.abs(e-t.zoom)?n:t)}run(){var e;this._shouldRefreshClusters&&(this._clustersByZoom=this.onePassCluster(this._ogma.getNodes().filter(n=>this._nodeSelector(n))));const t=((e=this._ogma.geo.getMap())==null?void 0:e.getZoom())||0;return this._currentClusters=this.getClosestZoomLevel(t),this.whenApplied().then(()=>{this._ogma.view.afterNextFrame().then(()=>{this._ogma.modules.geo.updateProjection()})}),this._shouldRefreshClusters=!0,super.run()}_setOptions(e){super._setOptions(St(Se({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=Vr(i.data,s):i.data=s,i},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`}})),this._groupingRadius=e.radius===void 0?this._groupingRadius:e.radius,this._generateIdFunction=e.groupIdFunction||this._generateIdFunction,this._shouldRefreshClusters=!0,this._shouldEnable=e.enabled,this._ogma.modules.geo.filter._refresh(),this._refresh()}},Gq=e=>({addNodeGrouping:(t={})=>{const n=new QF(t);return e.modules.transformations.add(n)},addEdgeGrouping:(t={})=>e.modules.transformations.add(new Mq(t)),addGeoClustering:t=>{if(e.modules.transformations.getList().find(n=>n.getName()==="geo-clustering"))throw new Error("Trying to add more than one geo clustering. Please refer to the documentation about this issue.");return e.modules.transformations.add(new Vq(t))}});function Hq(e){return e!=null}function RA(e,t){return{source:e.getId(),target:t.getId()}}var Wq=class extends fa{constructor(e){super(e);const{selector:t=Zp,neighborIdFunction:n=vd,nodeGenerator:r=()=>({}),edgeGenerator:i=RA}=e;this._generateIds=s=>t&&t(s)&&n(s)||null,this._nodeGenerator=r,this._edgeGenerator=i||RA}getName(){return"neighbor-generation"}run(){const e=this._id,t=this._ogma,n=this.getAnimationDuration(),r=t.getNodes(),i=new Map;for(let u=0;u<r.size;++u){const h=r.get(u),g=(qq(this._generateIds(h))||[]).filter(Hq);if(g)for(let p=0;p<g.length;++p){const m=g[p];let _=i.get(m);_||(_=[],i.set(m,_)),_.push(h)}}const s=new Array(i.size),o=[],a=Kp(i),l=go(i).map(u=>t.getNodes(u));for(let u=0;u<s.length;++u){const h=a[u],g=l[u],p=this._nodeGenerator(h,g);p.id=`_gen_${e}_${h}`;const m=Sv(g.getPosition());p.attributes=p.attributes||{},p.attributes.x=m.x,p.attributes.y=m.y,s[u]=p}let c,d;return t.addNodes(s.map(u=>({id:u.id,attributes:u.attributes})),{virtual:!0}).then(()=>{c=t.getNodes(s.map(u=>u.id)),c.replaceOriginalAttributes(s.map(u=>u.attributes),["x","y"]),c.setData(null,s.map(u=>u.data));for(let u=0;u<c.size;++u){const h=c.get(u),g=l[u];for(let p=0;p<g.size;++p){const m=g.get(p),_=this._edgeGenerator(m,h);_.source||_.target||(_.source=m.getId(),_.target=h.getId()),_.id||(_.id=`${_.source}-${_.target}`),o.push(_)}}return t.addEdges(o,{virtual:!0})}).then(()=>(d=t.getEdges(o.map(u=>u.id)),c.setVisible(!0),d.setVisible(!0),c.addClass(dn),d.addClass(dn),t.removeNodes(this._context.virtualNodes.subtract(c),{virtual:!0}),t.removeEdges(this._context.virtualEdges.subtract(d),{virtual:!0}),Promise.all([c.removeClass(dn,n),d.removeClass(dn,n)]))).then(()=>({virtualNodes:c,virtualEdges:d}))}undo(){const{virtualNodes:e,virtualEdges:t}=this._context;if(!t||!e)return Promise.resolve(this._context);const n=this.getAnimationDuration();return Promise.all([e.addClass(dn,n),t.addClass(dn,n)]).then(()=>{e.setVisible(!1),t.setVisible(!1)})}cleanup(){const{virtualEdges:e,virtualNodes:t}=this._context;if(e&&t){const n=t.filter(i=>!i.isVisible()),r=e.filter(i=>!i.isVisible());this._ogma.removeNodes(n,{virtual:!0}),this._ogma.removeEdges(r,{virtual:!0})}return Promise.resolve()}_setOptions(e){const{selector:t,neighborIdFunction:n,nodeGenerator:r,edgeGenerator:i}=e;this._generateIds=t?s=>t&&t(s)&&n(s)||null:this._generateIds,this._nodeGenerator=r||this._nodeGenerator,this._edgeGenerator=i||this._edgeGenerator,super._setOptions(e)}};function qq(e){return Array.isArray(e)?e:e?[e]:null}var Xq=class extends fa{constructor(e){super(e),this._selector=e.selector||xd,this._dataFunction=e.dataFunction||ft}run(){const e=this.getAnimationDuration(),t=this._ogma,n=t.getNodes().filter(this._selector?this._selector:d=>!0),r=[],i=new Map;for(let d=0;d<n.size;++d){const u=n.get(d),h=u.getAdjacentEdges(),g=this._dataFunction(u);for(let p=0;p<h.size;++p){const m=h.get(p),_=m.getSource(),y=m.getTarget();if(_!==y&&g!==void 0){const f=_===u?y:_;let x=i.get(f);x||(x=[],i.set(f,x)),x.push(g)}r.push(m)}}const s=t.getEdges(r),o=t.getNodes(Kp(i)),a=go(i),l=o.getData(),c=new Array(o.size);for(let d=0;d<c.length;++d){const u=a[d];let h=l[d];for(let g=0;g<u.length;++g)h=Vr(h,u[g]);c[d]=h}return Promise.all([n.addClass(dn,e),s.addClass(dn,e)]).then(()=>(n.setVisible(!1),s.setVisible(!1),o.setData(c),St(Se({},this._context),{hiddenNodes:n,hiddenEdges:s,nodesWithDataChange:o,oldDataList:l})))}getName(){return"neighbor-merging"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList(),nodesWithDataChange:this._ogma.nodeList(),oldDataList:[]})}undo(){const{hiddenNodes:e,hiddenEdges:t,nodesWithDataChange:n,oldDataList:r}=this._context;e.setVisible(!0),t.setVisible(!0),e.addClass(dn),t.addClass(dn);const i=this.getAnimationDuration();return Promise.all([e.removeClass(dn,i),t.removeClass(dn,i)]).then(()=>{n.setData(r)})}cleanup(){return Promise.resolve()}_setOptions(e){this._selector=e.selector||this._selector,this._dataFunction=e.dataFunction||this._dataFunction,super._setOptions(e)}},Yq=e=>({addNeighborGeneration:t=>e.modules.transformations.add(new Wq(t)),addNeighborMerging:t=>e.modules.transformations.add(new Xq(t))});function Zq(e,t){return e.size===t.size&&e.filter(n=>t.includes(n)).size>0}var Qq=class extends fa{constructor(e){super(e),this._selector=e.selector||(t=>!1),this._edgeGenerator=e.edgeGenerator||(()=>({}))}getName(){return"node-collapsing"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList()})}run(){const e=this._ogma,t=this.getAnimationDuration(),n=e.getNodes().filter(this._selector),r=n.getAdjacentEdges(),i=[],s=n.map(o=>o.getAdjacentNodes().filter(a=>!this._selector(a)));for(let o=0;o<n.size;o++)for(let a=o;a<n.size;a++){const l=n.get(o),c=n.get(a);if(this._ogma.modules.graph.getEdgesBetweenTwoNodes(l,c).size>0&&(s[o].size||s[a].size)&&!Zq(s[o],s[a]))throw Error(`addNodeCollapsing: invalid connected nodes [${l.getId()}] and [${c.getId()}] to be collapsed. The addNodeCollapsing function supports only disconnected nodes.`)}for(let o=0;o<n.size;++o){const a=n.get(o),l=s[o];for(let c=0;c<l.size-1;++c){const d=l.get(c),u=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,d);if(d!==a)for(let h=c+1;h<l.size;++h){const g=l.get(h),p=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,g),m=this._edgeGenerator(a,d,g,u,p);if(m){const _=Ig(m);for(let y=0;y<_.length;++y)i.push(Kq(e,_[y],y,a,d,g,u,p))}}}}return e.addEdges(i,{virtual:!0}).then(()=>this._ogma.getEdges(i.map(o=>o.id)).addClass(dn)).then(o=>Promise.all([o.removeClass(dn,t),n.addClass(dn,t),r.addClass(dn,t)])).then(([o])=>(n.setVisible(!1),r.setVisible(!1),o.setVisible(!0),e.removeEdges(this.context.virtualEdges.subtract(o),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update(),St(Se({},this._context),{virtualEdges:o,hiddenNodes:n,hiddenEdges:r})))}undo(){const{hiddenNodes:e,hiddenEdges:t}=this._context,n=this._ogma,r=this.getAnimationDuration(),i=this._context.virtualEdges||n.createEdgeList();return e.setVisible(!0),t.setVisible(!0),Promise.all([e.addClass(dn),t.addClass(dn)]).then(()=>Promise.all([i.addClass(dn,r),e.removeClass(dn,r),t.removeClass(dn,r)])).then(()=>{i.setVisible(!1)})}cleanup(){const e=this._context.virtualEdges||this._ogma.createEdgeList();return this._ogma.removeEdges(e,{virtual:!0})}_setOptions(e){this._selector=e.selector||this._selector,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,super._setOptions(e)}};function Kq(e,t,n,r,i,s,o,a){let l,c;if(t.source!==void 0&&(l=e.getNode(t.source),l!==i&&l!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid source [${t.source}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(t.target!==void 0&&(c=e.getNode(t.target),c!==i&&c!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid target [${t.target}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(l&&c&&l===c)throw new Error(`addNodeCollapsing: edge generator produced RawEdge with same source and target [${l.getId()}]`);if(l&&!c)c=l===i?s:i;else if(c&&!l)l=c===i?s:i;else if(!l&&!c){let d=!0;for(let u=0;u<o.size;++u)o.get(u).getSource()===i&&(d=!1);for(let u=0;u<a.size;++u)a.get(u).getTarget()===s&&(d=!1);d?(l=s,c=i):(l=i,c=s)}return l&&c?St(Se({},t),{id:`_gen_${r.getId()}_${l.getId()}_${c.getId()}_${n}`,source:l.getId(),target:c.getId()}):{}}var Jq=e=>({addNodeCollapsing:(t={})=>e.modules.transformations.add(new Qq(t))}),eX=class extends fa{constructor(e){super(e),this._nodeSelector=e.nodeSelector||(t=>!0),this._edgeSelector=e.edgeSelector||(t=>!0),this._nodeDataFunction=e.nodeDataFunction||null,this._edgeDataFunction=e.edgeDataFunction||null}getName(){return"virtual-properties"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodes:this._ogma.nodeList(),oldNodesData:[],edges:this._ogma.edgeList(),oldEdgesData:[]})}run(){const e=this._ogma,t=this._context;return this._nodeDataFunction&&(t.nodes=e.getNodes().filter(this._nodeSelector),t.oldNodesData=DA(t.nodes,this._nodeDataFunction)),this._edgeDataFunction&&(t.edges=e.getEdges().filter(this._edgeSelector),t.oldEdgesData=DA(t.edges,this._edgeDataFunction)),Promise.resolve(t)}undo(){const{nodes:e,oldNodesData:t,edges:n,oldEdgesData:r}=this._context;return e&&e.setData(t),n&&n.setData(r),Promise.resolve()}cleanup(){return Promise.resolve()}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._nodeDataFunction=e.nodeDataFunction||this._nodeDataFunction,this._edgeDataFunction=e.edgeDataFunction||this._edgeDataFunction,super._setOptions(e)}};function DA(e,t){const n=[];for(let r=0;r<e.size;++r){const i=e.get(r),s=i.getData(),o=t(i),a=Vr(s,o);n.push(s),i.setData(a)}return n}var tX=e=>({addVirtualProperties:t=>e.modules.transformations.add(new eX(t))}),nX=class extends Kt{constructor(e){super(e),this.getList=()=>this._ogma.modules.transformations.getList(),this.clear=()=>this._ogma.modules.transformations.clear(),this.getById=g=>this._ogma.modules.transformations.getById(g),this.afterNextUpdate=()=>this._ogma.modules.transformations.whenApplied();const{addNodeGrouping:t,addEdgeGrouping:n,addGeoClustering:r}=Gq(e);this.addNodeGrouping=t,this.addEdgeGrouping=n,this.addGeoClustering=r;const{addNodeClustering:i}=Nq(e);this.addNodeClustering=i;const{addNodeFilter:s,addEdgeFilter:o,getNodeFilters:a,getEdgeFilters:l}=Iq(e);this.addNodeFilter=s,this.addEdgeFilter=o,this.getNodeFilters=a,this.getEdgeFilters=l;const{addNeighborGeneration:c,addNeighborMerging:d}=Yq(e);this.addNeighborGeneration=c,this.addNeighborMerging=d;const{addNodeCollapsing:u}=Jq(e);this.addNodeCollapsing=u;const{addVirtualProperties:h}=tX(e);this.addVirtualProperties=h}},rX=class{constructor(e,t){this._ogma=e,dP==="webgl"&&Gc.cacheInitData(Gc.createInitData()),this.settings=new X$(e),this.events=new H$(e),this.dom=new v4(e,t.dimensions),this.animations=new LV(e),this.camera=new cP(e),this.graph=new dj(e),this.data=new E4(e),this.graphics=new O$(e),this.layers=new iH(e),this.individualAttributes=new q$(e),this.algorithms=new sH(e),this.position=new H7(e),this.touch=new _V(e),this.mouse=new mV(e),this.virtualMouse=new dG(e),this.spatial=new rV(e),this.captor=new HG(e),this.interactions=new zG(e),this.classes=new K$(e),this.cameraInteractions=new I$(e,!!t.debug),this.hover=new G7(e),this.keyboard=new s7(e),this.selection=new bV(e),this.styleRules=new mG(e),this.legend=new $7(e),this.sync=new wV(e),this.rules=new Q7(e),this.transformations=new xV(e),this.filters=new eH(e),this.locate=new uV(e),this.drag=new WG(e),this.grouping=new yV(e),this.pulses=new kV(e),this.curvatureManager=new GV(e),this.workers=new YV(e),this.layouts=new eG(e),this.watcher=new sG(e),this.rectangleSelect=new fG(e),this.labels=new DG(e,t),this.brand=new $V(e),this.lasso=new EP(e),this.rewiring=new XG(e),this.resizing=new YG(e),this.snapping=new uG(e),this.connectNodes=new QG(e),this.tooltip=new r7(e),this.geo=new VV(e),Object.keys(this).forEach(n=>{const r=this[n];r instanceof it&&(r._setModules(this),r.onMounted())}),e.onReady(()=>{Object.keys(this).forEach(n=>{const r=this[n];r instanceof it&&r.onReady(t)})})}destroy(){Object.keys(this).forEach(e=>{const t=this[e];t instanceof it&&t.destroy(this._ogma)})}},iX=1,sX=[aq,aH,cq,cj,gq,yq,xq],ky={version:"4.5.6",commit:"b3a42e658",buildTime:"Thu Nov 16 2023 17:02:44 GMT+0000 (Coordinated Universal Time)"},Cy=class{constructor(e={}){this.node=t=>new Qi(t,this),this.edge=t=>new po(t,this),this.nodeList=t=>new ws(t||new Uint32Array(0),this),this.edgeList=t=>new pa(t||new Uint32Array(0),this),this._onReady=[],this.build=ky,this._init(e)}_init(e){this._initParameters=e,this._debug=!!e.debug,this._token=iX++,this.modules=new rX(this,e),this.styles=new vq(this),this.algorithms=new oH(this),this.export=new uq(this),this.keyboard=new cH(this),this.generate=new hq(this),this.layouts=new mq(this),this.parse=new pq(this),this.transformations=new nX(this),this.tools=new wq(this),this.view=new sW(this),this.mouse=new fq(this),this.events=new dq(this),this.schema=new Z9(this),this.rules=new _q(this),this.geo=new lH(this),this.layers=new dH(this),this.debug=new lq(this),this._onReady.forEach(t=>t(this)),this.safelyBindToInstance(),this.modules.events.register(["destroy"]),this.build={version:"4.5.6",commit:"b3a42e658",buildTime:"Thu Nov 16 2023 17:02:44 GMT+0000 (Coordinated Universal Time)"}}safelyBindToInstance(){for(const e of Object.getOwnPropertyNames(Cy.prototype))typeof Cy.prototype[e]=="function"&&(this[e]=this[e].bind(this))}onReady(e){this._onReady.push(e)}_destroy(){if(!this._token)throw new Error('"destroy" called twice on the same instance of Ogma');this._onReady=[],this.modules.destroy(),this.modules=null}destroy(){this.modules.events.fire("destroy",{}),this._destroy()}isDestroyed(){return!this.modules}reset(){const e=this._initParameters;this._destroy(),this._init(e)}isDebug(){return this._debug}},ti=Cy;ti.libraries=NL,ti.geometry=hP,ti.parse=Sy,ti.build=ky,ti.algorithms=l_,ti.utils=h_,ti.algorithms=l_,ti.utils=h_,ti.parse=Sy,ti.build=ky,GO(ti,sX);var oX=ti,KF=Vx(vL()),aX=oX;KF.Neo4JEdgeData;KF.Neo4JNodeData;var Fl={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF=L;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cr=Object.prototype.hasOwnProperty,lX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zA={},OA={};function eR(e){return Cr.call(OA,e)?!0:Cr.call(zA,e)?!1:lX.test(e)?OA[e]=!0:(zA[e]=!0,!1)}function br(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qn[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var sb=/[\-:]([a-z])/g;function ob(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sb,ob);qn[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sb,ob);qn[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sb,ob);qn[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});qn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});var Qh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cX=["Webkit","ms","Moz","O"];Object.keys(Qh).forEach(function(e){cX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qh[t]=Qh[e]})});var dX=/["'&<>]/;function fr(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=dX.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var uX=/([A-Z])/g,hX=/^ms-/,Ty=Array.isArray;function Ji(e,t){return{insertionMode:e,selectedValue:t}}function gX(e,t,n){switch(t){case"select":return Ji(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ji(2,null);case"math":return Ji(3,null);case"foreignObject":return Ji(1,null);case"table":return Ji(4,null);case"thead":case"tbody":case"tfoot":return Ji(5,null);case"colgroup":return Ji(7,null);case"tr":return Ji(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ji(1,null):e}var BA=new Map;function tR(e,t,n){if(typeof n!="object")throw Error(_t(62));t=!0;for(var r in n)if(Cr.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=fr(r);i=fr((""+i).trim())}else{s=r;var o=BA.get(s);o!==void 0||(o=fr(s.replace(uX,"-$1").toLowerCase().replace(hX,"-ms-")),BA.set(s,o)),s=o,i=typeof i=="number"?i===0||Cr.call(Qh,r)?""+i:i+"px":fr((""+i).trim())}t?(t=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}t||e.push('"')}function Rr(e,t,n,r){switch(n){case"style":tR(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=qn.hasOwnProperty(n)?qn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',fr(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',fr(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',fr(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',fr(r),'"')}}else if(eR(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',fr(r),'"')}}}function Kh(e,t,n){if(t!=null){if(n!=null)throw Error(_t(60));if(typeof t!="object"||!("__html"in t))throw Error(_t(61));t=t.__html,t!=null&&e.push(""+t)}}function pX(e){var t="";return JF.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Zf(e,t,n,r){e.push(ji(n));var i=n=null,s;for(s in t)if(Cr.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Rr(e,r,s,o)}}return e.push(">"),Kh(e,i,n),typeof n=="string"?(e.push(fr(n)),null):n}var mX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,jA=new Map;function ji(e){var t=jA.get(e);if(t===void 0){if(!mX.test(e))throw Error(_t(65,e));t="<"+e,jA.set(e,t)}return t}function fX(e,t,n,r,i){switch(t){case"select":e.push(ji("select"));var s=null,o=null;for(d in n)if(Cr.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Rr(e,r,d,a)}}return e.push(">"),Kh(e,o,s),s;case"option":o=i.selectedValue,e.push(ji("option"));var l=a=null,c=null,d=null;for(s in n)if(Cr.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Rr(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:pX(a),Ty(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(' selected=""');break}}else""+o===n&&e.push(' selected=""');else c&&e.push(' selected=""');return e.push(">"),Kh(e,d,a),a;case"textarea":e.push(ji("textarea")),d=o=s=null;for(a in n)if(Cr.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(_t(91));default:Rr(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(">"),d!=null){if(s!=null)throw Error(_t(92));if(Ty(d)&&1<d.length)throw Error(_t(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s!==null&&e.push(fr(""+s)),null;case"input":e.push(ji("input")),l=d=a=s=null;for(o in n)if(Cr.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Rr(e,r,o,c)}return d!==null?Rr(e,r,"checked",d):l!==null&&Rr(e,r,"checked",l),s!==null?Rr(e,r,"value",s):a!==null&&Rr(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(ji("menuitem"));for(var h in n)if(Cr.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(_t(400));default:Rr(e,r,h,s)}return e.push(">"),null;case"title":e.push(ji("title")),s=null;for(u in n)if(Cr.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(_t(434));default:Rr(e,r,u,o)}return e.push(">"),s;case"listing":case"pre":e.push(ji(t)),o=s=null;for(l in n)if(Cr.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Rr(e,r,l,a)}if(e.push(">"),o!=null){if(s!=null)throw Error(_t(60));if(typeof o!="object"||!("__html"in o))throw Error(_t(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ji(t));for(var g in n)if(Cr.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,t));default:Rr(e,r,g,s)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Zf(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),Zf(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Zf(e,n,t,r);e.push(ji(t)),o=s=null;for(c in n)if(Cr.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":tR(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:eR(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",c,'="',fr(a),'"')}return e.push(">"),Kh(e,o,s),s}}function UA(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(_t(395));return e.push(n),e.push('"></template>')}function _X(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(_t(397))}}function yX(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(_t(397))}}var xX=/[<\u2028\u2029]/g;function Qf(e){return JSON.stringify(e).replace(xX,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function vX(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function $A(e,t,n,r){return n.generateStaticMarkup?(e.push(fr(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(fr(t)),e=!0),e)}var Xc=Object.assign,bX=Symbol.for("react.element"),nR=Symbol.for("react.portal"),rR=Symbol.for("react.fragment"),iR=Symbol.for("react.strict_mode"),sR=Symbol.for("react.profiler"),oR=Symbol.for("react.provider"),aR=Symbol.for("react.context"),lR=Symbol.for("react.forward_ref"),cR=Symbol.for("react.suspense"),dR=Symbol.for("react.suspense_list"),uR=Symbol.for("react.memo"),ab=Symbol.for("react.lazy"),wX=Symbol.for("react.scope"),EX=Symbol.for("react.debug_trace_mode"),SX=Symbol.for("react.legacy_hidden"),AX=Symbol.for("react.default_value"),VA=Symbol.iterator;function Ly(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rR:return"Fragment";case nR:return"Portal";case sR:return"Profiler";case iR:return"StrictMode";case cR:return"Suspense";case dR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aR:return(e.displayName||"Context")+".Consumer";case oR:return(e._context.displayName||"Context")+".Provider";case lR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uR:return t=e.displayName||null,t!==null?t:Ly(e.type)||"Memo";case ab:t=e._payload,e=e._init;try{return Ly(e(t))}catch{}}return null}var hR={};function GA(e,t){if(e=e.contextTypes,!e)return hR;var n={},r;for(r in e)n[r]=t[r];return n}var Uo=null;function ym(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(_t(401))}else{if(n===null)throw Error(_t(401));ym(e,n)}t.context._currentValue2=t.value}}function gR(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&gR(e)}function pR(e){var t=e.parent;t!==null&&pR(t),e.context._currentValue2=e.value}function mR(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(_t(402));e.depth===t.depth?ym(e,t):mR(e,t)}function fR(e,t){var n=t.parent;if(n===null)throw Error(_t(402));e.depth===n.depth?ym(e,n):fR(e,n),t.context._currentValue2=t.value}function ip(e){var t=Uo;t!==e&&(t===null?pR(e):e===null?gR(t):t.depth===e.depth?ym(t,e):t.depth>e.depth?mR(t,e):fR(t,e),Uo=e)}var HA={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function WA(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=HA,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Xc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&HA.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=Xc({},s,a)):Xc(s,a))}e.state=s}else s.queue=null}var kX={id:1,overflow:""};function Ny(e,t,n){var r=e.id;e=e.overflow;var i=32-Jh(r)-1;r&=~(1<<i),n+=1;var s=32-Jh(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Jh(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var Jh=Math.clz32?Math.clz32:LX,CX=Math.log,TX=Math.LN2;function LX(e){return e>>>=0,e===0?32:31-(CX(e)/TX|0)|0}function NX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IX=typeof Object.is=="function"?Object.is:NX,xs=null,lb=null,eg=null,Yt=null,Ec=!1,sp=!1,Rd=0,Zs=null,xm=0;function Lo(){if(xs===null)throw Error(_t(321));return xs}function qA(){if(0<xm)throw Error(_t(312));return{memoizedState:null,queue:null,next:null}}function cb(){return Yt===null?eg===null?(Ec=!1,eg=Yt=qA()):(Ec=!0,Yt=eg):Yt.next===null?(Ec=!1,Yt=Yt.next=qA()):(Ec=!0,Yt=Yt.next),Yt}function db(){lb=xs=null,sp=!1,eg=null,xm=0,Yt=Zs=null}function _R(e,t){return typeof t=="function"?t(e):t}function XA(e,t,n){if(xs=Lo(),Yt=cb(),Ec){var r=Yt.queue;if(t=r.dispatch,Zs!==null&&(n=Zs.get(r),n!==void 0)){Zs.delete(r),r=Yt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Yt.memoizedState=r,[r,t]}return[Yt.memoizedState,t]}return e=e===_R?typeof t=="function"?t():t:n!==void 0?n(t):t,Yt.memoizedState=e,e=Yt.queue={last:null,dispatch:null},e=e.dispatch=MX.bind(null,xs,e),[Yt.memoizedState,e]}function YA(e,t){if(xs=Lo(),Yt=cb(),t=t===void 0?null:t,Yt!==null){var n=Yt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!IX(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Yt.memoizedState=[e,t],e}function MX(e,t,n){if(25<=xm)throw Error(_t(301));if(e===xs)if(sp=!0,e={action:n,next:null},Zs===null&&(Zs=new Map),n=Zs.get(t),n===void 0)Zs.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function PX(){throw Error(_t(394))}function yh(){}var ZA={readContext:function(e){return e._currentValue2},useContext:function(e){return Lo(),e._currentValue2},useMemo:YA,useReducer:XA,useRef:function(e){xs=Lo(),Yt=cb();var t=Yt.memoizedState;return t===null?(e={current:e},Yt.memoizedState=e):t},useState:function(e){return XA(_R,e)},useInsertionEffect:yh,useLayoutEffect:function(){},useCallback:function(e,t){return YA(function(){return e},t)},useImperativeHandle:yh,useEffect:yh,useDebugValue:yh,useDeferredValue:function(e){return Lo(),e},useTransition:function(){return Lo(),[!1,PX]},useId:function(){var e=lb.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Jh(e)-1)).toString(32)+t;var n=tg;if(n===null)throw Error(_t(404));return t=Rd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Lo(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(_t(407));return n()}},tg=null,Kf=JF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function FX(e){return console.error(e),null}function Sc(){}function RX(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?FX:i,onAllReady:s===void 0?Sc:s,onShellReady:o===void 0?Sc:o,onShellError:a===void 0?Sc:a,onFatalError:l===void 0?Sc:l},n=op(t,0,null,n,!1,!1),n.parentFlushed=!0,e=ub(t,e,null,n,d,hR,null,kX),c.push(e),t}function ub(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&vR(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function op(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function Dd(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ap(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function QA(e,t,n,r,i){for(xs={},lb=t,Rd=0,e=n(r,i);sp;)sp=!1,Rd=0,xm+=1,Yt=null,e=n(r,i);return db(),e}function KA(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(_t(108,Ly(r)||"Unknown",a));r=Xc({},o,n)}t.legacyContext=r,Or(e,t,i),t.legacyContext=o}else Or(e,t,i)}function JA(e,t){if(e&&e.defaultProps){t=Xc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Iy(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=GA(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue2:i),WA(s,n,r,i),KA(e,t,s,n)}else{s=GA(n,t.legacyContext),i=QA(e,t,n,r,s);var o=Rd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)WA(i,n,r,s),KA(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=Ny(r,1,0);try{Or(e,t,i)}finally{t.treeContext=r}}else Or(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=fX(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=gX(o,n,r),My(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case SX:case EX:case iR:case sR:case rR:Or(e,t,r.children);return;case dR:Or(e,t,r.children);return;case wX:throw Error(_t(343));case cR:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=op(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=op(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(My(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,lp(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=Dd(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=ub(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case lR:if(r=QA(e,t,n.render,r,i),Rd!==0){n=t.treeContext,t.treeContext=Ny(n,1,0);try{Or(e,t,r)}finally{t.treeContext=n}}else Or(e,t,r);return;case uR:n=n.type,r=JA(n,r),Iy(e,t,n,r,i);return;case oR:if(i=r.children,n=n._context,r=r.value,s=n._currentValue2,n._currentValue2=r,o=Uo,Uo=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Or(e,t,i),e=Uo,e===null)throw Error(_t(403));r=e.parentValue,e.context._currentValue2=r===AX?e.context._defaultValue:r,e=Uo=e.parent,t.context=e;return;case aR:r=r.children,r=r(n._currentValue2),Or(e,t,r);return;case ab:i=n._init,n=i(n._payload),r=JA(n,r),Iy(e,t,n,r,void 0);return}throw Error(_t(130,n==null?n:typeof n,""))}}function Or(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case bX:Iy(e,t,n.type,n.props,n.ref);return;case nR:throw Error(_t(257));case ab:var r=n._init;n=r(n._payload),Or(e,t,n);return}if(Ty(n)){ek(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=VA&&n[VA]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);ek(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=$A(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=$A(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function ek(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=Ny(s,r,i);try{My(e,t,n[i])}finally{t.treeContext=s}}}function My(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Or(e,t,n)}catch(l){if(db(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=op(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=ub(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,ip(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,ip(s),l}}function DX(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,xR(this,t,e)}function yR(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(_t(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return yR(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function lp(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&lp(e,n)}else e.completedSegments.push(t)}function xR(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(_t(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Sc,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&lp(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(DX,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(lp(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function vR(e){if(e.status!==2){var t=Uo,n=Kf.current;Kf.current=ZA;var r=tg;tg=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){ip(o.context);try{Or(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,xR(a,o.blockedBoundary,l)}catch(p){if(db(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Dd(a,u);if(d===null?ap(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&hb(e,e.destination)}catch(p){Dd(e,p),ap(e,p)}finally{tg=r,Kf.current=n,n===ZA&&ip(t)}}}function xh(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)t.push(r[s]);i=vm(e,t,i)}for(;s<r.length-1;s++)t.push(r[s]);return s<r.length&&(i=t.push(r[s])),i;default:throw Error(_t(390))}}function vm(e,t,n){var r=n.boundary;if(r===null)return xh(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=fr(r),t.push(r),t.push('"')),t.push("></template>")),xh(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,UA(t,e.responseState,r),xh(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),UA(t,e.responseState,r.id),xh(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(_t(391));return vm(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function tk(e,t,n){return _X(t,e.responseState,n.formatContext,n.id),vm(e,t,n),yX(t,n.formatContext)}function nk(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)bR(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(_t(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function bR(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(_t(392));return tk(e,t,r)}return tk(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function hb(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){vm(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(_t(395));if(r.push(l),r.push('"'),c||d||u){r.push(",");var h=Qf(c||"");r.push(h)}if(d||u){r.push(",");var g=Qf(d||"");r.push(g)}if(u){r.push(",");var p=Qf(u);r.push(p)}if(!r.push(")<\/script>")){e.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var m=e.completedBoundaries;for(s=0;s<m.length;s++)if(!nk(e,t,m[s])){e.destination=null,s++,m.splice(0,s);return}m.splice(0,s);var _=e.partialBoundaries;for(s=0;s<_.length;s++){var y=_[s];e:{i=e,o=t;var f=y.completedSegments;for(a=0;a<f.length;a++)if(!bR(i,o,y,f[a])){a++,f.splice(0,a);var x=!1;break e}f.splice(0,a),x=!0}if(!x){e.destination=null,s++,_.splice(0,s);return}}_.splice(0,s);var v=e.completedBoundaries;for(s=0;s<v.length;s++)if(!nk(e,t,v[s])){e.destination=null,s++,v.splice(0,s);return}v.splice(0,s)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function zX(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return yR(r,e,t)}),n.clear(),e.destination!==null&&hb(e,e.destination)}catch(r){Dd(e,r),ap(e,r)}}function OX(){}function wR(e,t,n,r){var i=!1,s=null,o="",a={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,s=c}},l=!1;if(e=RX(e,vX(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,OX,void 0,function(){l=!0},void 0,void 0),vR(e),zX(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{hb(e,a)}catch(c){Dd(e,c),ap(e,c)}}if(i)throw s;if(!l)throw Error(_t(426));return o}Fl.renderToNodeStream=function(){throw Error(_t(207))};Fl.renderToStaticMarkup=function(e,t){return wR(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fl.renderToStaticNodeStream=function(){throw Error(_t(208))};Fl.renderToString=function(e,t){return wR(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fl.version="18.2.0";var gb={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=L;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Br=null,jr=0;function Ke(e,t){if(t.length!==0)if(512<t.length)0<jr&&(e.enqueue(new Uint8Array(Br.buffer,0,jr)),Br=new Uint8Array(512),jr=0),e.enqueue(t);else{var n=Br.length-jr;n<t.length&&(n===0?e.enqueue(Br):(Br.set(t.subarray(0,n),jr),e.enqueue(Br),t=t.subarray(n)),Br=new Uint8Array(512),jr=0),Br.set(t,jr),jr+=t.length}}function sn(e,t){return Ke(e,t),!0}function rk(e){Br&&0<jr&&(e.enqueue(new Uint8Array(Br.buffer,0,jr)),Br=null,jr=0)}var SR=new TextEncoder;function At(e){return SR.encode(e)}function Ge(e){return SR.encode(e)}function AR(e,t){typeof e.error=="function"?e.error(t):e.close()}var Tr=Object.prototype.hasOwnProperty,BX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ik={},sk={};function kR(e){return Tr.call(sk,e)?!0:Tr.call(ik,e)?!1:BX.test(e)?sk[e]=!0:(ik[e]=!0,!1)}function wr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var pb=/[\-:]([a-z])/g;function mb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pb,mb);Xn[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pb,mb);Xn[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pb,mb);Xn[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});var ng={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jX=["Webkit","ms","Moz","O"];Object.keys(ng).forEach(function(e){jX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ng[t]=ng[e]})});var UX=/["'&<>]/;function Vn(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=UX.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var $X=/([A-Z])/g,VX=/^ms-/,Py=Array.isArray,GX=Ge("<script>"),HX=Ge("<\/script>"),WX=Ge('<script src="'),qX=Ge('<script type="module" src="'),ok=Ge('" async=""><\/script>'),XX=/(<\/|<)(s)(cript)/gi;function YX(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function ZX(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?GX:Ge('<script nonce="'+Vn(t)+'">');var s=[];if(n!==void 0&&s.push(t,At((""+n).replace(XX,YX)),HX),r!==void 0)for(n=0;n<r.length;n++)s.push(WX,At(Vn(r[n])),ok);if(i!==void 0)for(r=0;r<i.length;r++)s.push(qX,At(Vn(i[r])),ok);return{bootstrapChunks:s,startInlineScript:t,placeholderPrefix:Ge(e+"P:"),segmentPrefix:Ge(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ui(e,t){return{insertionMode:e,selectedValue:t}}function QX(e){return Ui(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function KX(e,t,n){switch(t){case"select":return Ui(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ui(2,null);case"math":return Ui(3,null);case"foreignObject":return Ui(1,null);case"table":return Ui(4,null);case"thead":case"tbody":case"tfoot":return Ui(5,null);case"colgroup":return Ui(7,null);case"tr":return Ui(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ui(1,null):e}var fb=Ge("<!-- -->");function ak(e,t,n,r){return t===""?r:(r&&e.push(fb),e.push(At(Vn(t))),!0)}var lk=new Map,JX=Ge(' style="'),ck=Ge(":"),eY=Ge(";");function CR(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(Tr.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=At(Vn(r));i=At(Vn((""+i).trim()))}else{s=r;var o=lk.get(s);o!==void 0||(o=Ge(Vn(s.replace($X,"-$1").toLowerCase().replace(VX,"-ms-"))),lk.set(s,o)),s=o,i=typeof i=="number"?i===0||Tr.call(ng,r)?At(""+i):At(i+"px"):At(Vn((""+i).trim()))}t?(t=!1,e.push(JX,s,ck,i)):e.push(eY,s,ck,i)}}t||e.push(No)}var Ps=Ge(" "),Ma=Ge('="'),No=Ge('"'),dk=Ge('=""');function Dr(e,t,n,r){switch(n){case"style":CR(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Xn.hasOwnProperty(n)?Xn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=At(t.attributeName),t.type){case 3:r&&e.push(Ps,n,dk);break;case 4:r===!0?e.push(Ps,n,dk):r!==!1&&e.push(Ps,n,Ma,At(Vn(r)),No);break;case 5:isNaN(r)||e.push(Ps,n,Ma,At(Vn(r)),No);break;case 6:!isNaN(r)&&1<=r&&e.push(Ps,n,Ma,At(Vn(r)),No);break;default:t.sanitizeURL&&(r=""+r),e.push(Ps,n,Ma,At(Vn(r)),No)}}else if(kR(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ps,At(n),Ma,At(Vn(r)),No)}}}var Fs=Ge(">"),uk=Ge("/>");function rg(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(At(""+t))}}function tY(e){var t="";return ER.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var Jf=Ge(' selected=""');function e0(e,t,n,r){e.push($i(n));var i=n=null,s;for(s in t)if(Tr.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Dr(e,r,s,o)}}return e.push(Fs),rg(e,i,n),typeof n=="string"?(e.push(At(Vn(n))),null):n}var t0=Ge(`
`),nY=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,hk=new Map;function $i(e){var t=hk.get(e);if(t===void 0){if(!nY.test(e))throw Error(Et(65,e));t=Ge("<"+e),hk.set(e,t)}return t}var rY=Ge("<!DOCTYPE html>");function iY(e,t,n,r,i){switch(t){case"select":e.push($i("select"));var s=null,o=null;for(d in n)if(Tr.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Dr(e,r,d,a)}}return e.push(Fs),rg(e,o,s),s;case"option":o=i.selectedValue,e.push($i("option"));var l=a=null,c=null,d=null;for(s in n)if(Tr.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Dr(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:tY(a),Py(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(Jf);break}}else""+o===n&&e.push(Jf);else c&&e.push(Jf);return e.push(Fs),rg(e,d,a),a;case"textarea":e.push($i("textarea")),d=o=s=null;for(a in n)if(Tr.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:Dr(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(Fs),d!=null){if(s!=null)throw Error(Et(92));if(Py(d)&&1<d.length)throw Error(Et(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(t0),s!==null&&e.push(At(Vn(""+s))),null;case"input":e.push($i("input")),l=d=a=s=null;for(o in n)if(Tr.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Dr(e,r,o,c)}return d!==null?Dr(e,r,"checked",d):l!==null&&Dr(e,r,"checked",l),s!==null?Dr(e,r,"value",s):a!==null&&Dr(e,r,"value",a),e.push(uk),null;case"menuitem":e.push($i("menuitem"));for(var h in n)if(Tr.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:Dr(e,r,h,s)}return e.push(Fs),null;case"title":e.push($i("title")),s=null;for(u in n)if(Tr.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:Dr(e,r,u,o)}return e.push(Fs),s;case"listing":case"pre":e.push($i(t)),o=s=null;for(l in n)if(Tr.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Dr(e,r,l,a)}if(e.push(Fs),o!=null){if(s!=null)throw Error(Et(60));if(typeof o!="object"||!("__html"in o))throw Error(Et(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(t0,At(n)):e.push(At(""+n)))}return typeof s=="string"&&s[0]===`
`&&e.push(t0),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push($i(t));for(var g in n)if(Tr.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:Dr(e,r,g,s)}return e.push(uk),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return e0(e,n,t,r);case"html":return i.insertionMode===0&&e.push(rY),e0(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return e0(e,n,t,r);e.push($i(t)),o=s=null;for(c in n)if(Tr.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":CR(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:kR(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ps,At(c),Ma,At(Vn(a)),No)}return e.push(Fs),rg(e,o,s),s}}var sY=Ge("</"),oY=Ge(">"),aY=Ge('<template id="'),lY=Ge('"></template>'),cY=Ge("<!--$-->"),dY=Ge('<!--$?--><template id="'),uY=Ge('"></template>'),hY=Ge("<!--$!-->"),gY=Ge("<!--/$-->"),pY=Ge("<template"),mY=Ge('"'),fY=Ge(' data-dgst="');Ge(' data-msg="');Ge(' data-stck="');var _Y=Ge("></template>");function gk(e,t,n){if(Ke(e,dY),n===null)throw Error(Et(395));return Ke(e,n),sn(e,uY)}var yY=Ge('<div hidden id="'),xY=Ge('">'),vY=Ge("</div>"),bY=Ge('<svg aria-hidden="true" style="display:none" id="'),wY=Ge('">'),EY=Ge("</svg>"),SY=Ge('<math aria-hidden="true" style="display:none" id="'),AY=Ge('">'),kY=Ge("</math>"),CY=Ge('<table hidden id="'),TY=Ge('">'),LY=Ge("</table>"),NY=Ge('<table hidden><tbody id="'),IY=Ge('">'),MY=Ge("</tbody></table>"),PY=Ge('<table hidden><tr id="'),FY=Ge('">'),RY=Ge("</tr></table>"),DY=Ge('<table hidden><colgroup id="'),zY=Ge('">'),OY=Ge("</colgroup></table>");function BY(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ke(e,yY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,xY);case 2:return Ke(e,bY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,wY);case 3:return Ke(e,SY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,AY);case 4:return Ke(e,CY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,TY);case 5:return Ke(e,NY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,IY);case 6:return Ke(e,PY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,FY);case 7:return Ke(e,DY),Ke(e,t.segmentPrefix),Ke(e,At(r.toString(16))),sn(e,zY);default:throw Error(Et(397))}}function jY(e,t){switch(t.insertionMode){case 0:case 1:return sn(e,vY);case 2:return sn(e,EY);case 3:return sn(e,kY);case 4:return sn(e,LY);case 5:return sn(e,MY);case 6:return sn(e,RY);case 7:return sn(e,OY);default:throw Error(Et(397))}}var UY=Ge('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),$Y=Ge('$RS("'),VY=Ge('","'),GY=Ge('")<\/script>'),HY=Ge('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),WY=Ge('$RC("'),qY=Ge('","'),XY=Ge('")<\/script>'),YY=Ge('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),ZY=Ge('$RX("'),QY=Ge('"'),KY=Ge(")<\/script>"),n0=Ge(","),JY=/[<\u2028\u2029]/g;function r0(e){return JSON.stringify(e).replace(JY,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Yc=Object.assign,eZ=Symbol.for("react.element"),TR=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),NR=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),MR=Symbol.for("react.provider"),PR=Symbol.for("react.context"),FR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),DR=Symbol.for("react.suspense_list"),zR=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),tZ=Symbol.for("react.scope"),nZ=Symbol.for("react.debug_trace_mode"),rZ=Symbol.for("react.legacy_hidden"),iZ=Symbol.for("react.default_value"),pk=Symbol.iterator;function Fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case LR:return"Fragment";case TR:return"Portal";case IR:return"Profiler";case NR:return"StrictMode";case RR:return"Suspense";case DR:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case PR:return(e.displayName||"Context")+".Consumer";case MR:return(e._context.displayName||"Context")+".Provider";case FR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zR:return t=e.displayName||null,t!==null?t:Fy(e.type)||"Memo";case _b:t=e._payload,e=e._init;try{return Fy(e(t))}catch{}}return null}var OR={};function mk(e,t){if(e=e.contextTypes,!e)return OR;var n={},r;for(r in e)n[r]=t[r];return n}var $o=null;function bm(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));bm(e,n)}t.context._currentValue=t.value}}function BR(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&BR(e)}function jR(e){var t=e.parent;t!==null&&jR(t),e.context._currentValue=e.value}function UR(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?bm(e,t):UR(e,t)}function $R(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?bm(e,n):$R(e,n),t.context._currentValue=t.value}function cp(e){var t=$o;t!==e&&(t===null?jR(e):e===null?BR(t):t.depth===e.depth?bm(t,e):t.depth>e.depth?UR(t,e):$R(t,e),$o=e)}var fk={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function _k(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=fk,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Yc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&fk.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=Yc({},s,a)):Yc(s,a))}e.state=s}else s.queue=null}var sZ={id:1,overflow:""};function Ry(e,t,n){var r=e.id;e=e.overflow;var i=32-ig(r)-1;r&=~(1<<i),n+=1;var s=32-ig(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-ig(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var ig=Math.clz32?Math.clz32:lZ,oZ=Math.log,aZ=Math.LN2;function lZ(e){return e>>>=0,e===0?32:31-(oZ(e)/aZ|0)|0}function cZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dZ=typeof Object.is=="function"?Object.is:cZ,vs=null,yb=null,sg=null,Zt=null,Ac=!1,dp=!1,zd=0,Qs=null,wm=0;function Io(){if(vs===null)throw Error(Et(321));return vs}function yk(){if(0<wm)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function xb(){return Zt===null?sg===null?(Ac=!1,sg=Zt=yk()):(Ac=!0,Zt=sg):Zt.next===null?(Ac=!1,Zt=Zt.next=yk()):(Ac=!0,Zt=Zt.next),Zt}function vb(){yb=vs=null,dp=!1,sg=null,wm=0,Zt=Qs=null}function VR(e,t){return typeof t=="function"?t(e):t}function xk(e,t,n){if(vs=Io(),Zt=xb(),Ac){var r=Zt.queue;if(t=r.dispatch,Qs!==null&&(n=Qs.get(r),n!==void 0)){Qs.delete(r),r=Zt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Zt.memoizedState=r,[r,t]}return[Zt.memoizedState,t]}return e=e===VR?typeof t=="function"?t():t:n!==void 0?n(t):t,Zt.memoizedState=e,e=Zt.queue={last:null,dispatch:null},e=e.dispatch=uZ.bind(null,vs,e),[Zt.memoizedState,e]}function vk(e,t){if(vs=Io(),Zt=xb(),t=t===void 0?null:t,Zt!==null){var n=Zt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!dZ(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Zt.memoizedState=[e,t],e}function uZ(e,t,n){if(25<=wm)throw Error(Et(301));if(e===vs)if(dp=!0,e={action:n,next:null},Qs===null&&(Qs=new Map),n=Qs.get(t),n===void 0)Qs.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function hZ(){throw Error(Et(394))}function vh(){}var bk={readContext:function(e){return e._currentValue},useContext:function(e){return Io(),e._currentValue},useMemo:vk,useReducer:xk,useRef:function(e){vs=Io(),Zt=xb();var t=Zt.memoizedState;return t===null?(e={current:e},Zt.memoizedState=e):t},useState:function(e){return xk(VR,e)},useInsertionEffect:vh,useLayoutEffect:function(){},useCallback:function(e,t){return vk(function(){return e},t)},useImperativeHandle:vh,useEffect:vh,useDebugValue:vh,useDeferredValue:function(e){return Io(),e},useTransition:function(){return Io(),[!1,hZ]},useId:function(){var e=yb.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-ig(e)-1)).toString(32)+t;var n=og;if(n===null)throw Error(Et(404));return t=zd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Io(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},og=null,i0=ER.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function gZ(e){return console.error(e),null}function kc(){}function pZ(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?gZ:i,onAllReady:s===void 0?kc:s,onShellReady:o===void 0?kc:o,onShellError:a===void 0?kc:a,onFatalError:l===void 0?kc:l},n=up(t,0,null,n,!1,!1),n.parentFlushed=!0,e=bb(t,e,null,n,d,OR,null,sZ),c.push(e),t}function bb(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&WR(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function up(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function Od(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function hp(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,AR(e.destination,t)):(e.status=1,e.fatalError=t)}function wk(e,t,n,r,i){for(vs={},yb=t,zd=0,e=n(r,i);dp;)dp=!1,zd=0,wm+=1,Zt=null,e=n(r,i);return vb(),e}function Ek(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Et(108,Fy(r)||"Unknown",a));r=Yc({},o,n)}t.legacyContext=r,Ur(e,t,i),t.legacyContext=o}else Ur(e,t,i)}function Sk(e,t){if(e&&e.defaultProps){t=Yc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dy(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=mk(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue:i),_k(s,n,r,i),Ek(e,t,s,n)}else{s=mk(n,t.legacyContext),i=wk(e,t,n,r,s);var o=zd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)_k(i,n,r,s),Ek(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=Ry(r,1,0);try{Ur(e,t,i)}finally{t.treeContext=r}}else Ur(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=iY(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=KX(o,n,r),zy(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(sY,At(n),oY)}i.lastPushedText=!1}else{switch(n){case rZ:case nZ:case NR:case IR:case LR:Ur(e,t,r.children);return;case DR:Ur(e,t,r.children);return;case tZ:throw Error(Et(343));case RR:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=up(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=up(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(zy(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(fb),c.status=1,gp(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=Od(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=bb(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case FR:if(r=wk(e,t,n.render,r,i),zd!==0){n=t.treeContext,t.treeContext=Ry(n,1,0);try{Ur(e,t,r)}finally{t.treeContext=n}}else Ur(e,t,r);return;case zR:n=n.type,r=Sk(n,r),Dy(e,t,n,r,i);return;case MR:if(i=r.children,n=n._context,r=r.value,s=n._currentValue,n._currentValue=r,o=$o,$o=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Ur(e,t,i),e=$o,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue=r===iZ?e.context._defaultValue:r,e=$o=e.parent,t.context=e;return;case PR:r=r.children,r=r(n._currentValue),Ur(e,t,r);return;case _b:i=n._init,n=i(n._payload),r=Sk(n,r),Dy(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Ur(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case eZ:Dy(e,t,n.type,n.props,n.ref);return;case TR:throw Error(Et(257));case _b:var r=n._init;n=r(n._payload),Ur(e,t,n);return}if(Py(n)){Ak(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=pk&&n[pk]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Ak(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=ak(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=ak(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Ak(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=Ry(s,r,i);try{zy(e,t,n[i])}finally{t.treeContext=s}}}function zy(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Ur(e,t,n)}catch(l){if(vb(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=up(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=bb(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,cp(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,cp(s),l}}function mZ(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,HR(this,t,e)}function GR(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return GR(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function gp(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&gp(e,n)}else e.completedSegments.push(t)}function HR(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=kc,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&gp(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(mZ,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(gp(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function WR(e){if(e.status!==2){var t=$o,n=i0.current;i0.current=bk;var r=og;og=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){cp(o.context);try{Ur(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(fb),o.abortSet.delete(o),l.status=1,HR(a,o.blockedBoundary,l)}catch(p){if(vb(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Od(a,u);if(d===null?hp(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&wb(e,e.destination)}catch(p){Od(e,p),hp(e,p)}finally{og=r,i0.current=n,n===bk&&cp(t)}}}function bh(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ke(t,aY),Ke(t,e.placeholderPrefix),e=At(r.toString(16)),Ke(t,e),sn(t,lY);case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)Ke(t,r[s]);i=Em(e,t,i)}for(;s<r.length-1;s++)Ke(t,r[s]);return s<r.length&&(i=sn(t,r[s])),i;default:throw Error(Et(390))}}function Em(e,t,n){var r=n.boundary;if(r===null)return bh(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,sn(t,hY),Ke(t,pY),r&&(Ke(t,fY),Ke(t,At(Vn(r))),Ke(t,mY)),sn(t,_Y),bh(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;i=Ge(i.boundaryPrefix+s.toString(16)),r=r.id=i,gk(t,e.responseState,r),bh(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),gk(t,e.responseState,r.id),bh(e,t,n);else{if(sn(t,cY),n=r.completedSegments,n.length!==1)throw Error(Et(391));Em(e,t,n[0])}return sn(t,gY)}function kk(e,t,n){return BY(t,e.responseState,n.formatContext,n.id),Em(e,t,n),jY(t,n.formatContext)}function Ck(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)qR(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ke(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ke(t,WY):(e.sentCompleteBoundaryFunction=!0,Ke(t,HY)),r===null)throw Error(Et(395));return n=At(n.toString(16)),Ke(t,r),Ke(t,qY),Ke(t,e.segmentPrefix),Ke(t,n),sn(t,XY)}function qR(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return kk(e,t,r)}return kk(e,t,r),e=e.responseState,Ke(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ke(t,$Y):(e.sentCompleteSegmentFunction=!0,Ke(t,UY)),Ke(t,e.segmentPrefix),i=At(i.toString(16)),Ke(t,i),Ke(t,VY),Ke(t,e.placeholderPrefix),Ke(t,i),sn(t,GY)}function wb(e,t){Br=new Uint8Array(512),jr=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){Em(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ke(t,r[n]);n<r.length&&sn(t,r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(Ke(r,a.startInlineScript),a.sentClientRenderFunction?Ke(r,ZY):(a.sentClientRenderFunction=!0,Ke(r,YY)),l===null)throw Error(Et(395));Ke(r,l),Ke(r,QY),(c||d||u)&&(Ke(r,n0),Ke(r,At(r0(c||"")))),(d||u)&&(Ke(r,n0),Ke(r,At(r0(d||"")))),u&&(Ke(r,n0),Ke(r,At(r0(u)))),sn(r,KY)}i.splice(0,s);var h=e.completedBoundaries;for(s=0;s<h.length;s++)Ck(e,t,h[s]);h.splice(0,s),rk(t),Br=new Uint8Array(512),jr=0;var g=e.partialBoundaries;for(s=0;s<g.length;s++){var p=g[s];e:{i=e,o=t;var m=p.completedSegments;for(a=0;a<m.length;a++)if(!qR(i,o,p,m[a])){a++,m.splice(0,a);var _=!1;break e}m.splice(0,a),_=!0}if(!_){e.destination=null,s++,g.splice(0,s);return}}g.splice(0,s);var y=e.completedBoundaries;for(s=0;s<y.length;s++)Ck(e,t,y[s]);y.splice(0,s)}finally{rk(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function Tk(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return GR(r,e,t)}),n.clear(),e.destination!==null&&wb(e,e.destination)}catch(r){Od(e,r),hp(e,r)}}gb.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,s,o=new Promise(function(d,u){s=d,i=u}),a=pZ(e,ZX(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),QX(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var d=new ReadableStream({type:"bytes",pull:function(u){if(a.status===1)a.status=2,AR(u,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=u;try{wb(a,u)}catch(h){Od(a,h),hp(a,h)}}},cancel:function(){Tk(a)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,c=function(){Tk(a,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}WR(a)})};gb.version="18.2.0";var Rl,XR;Rl=Fl,XR=gb;Rl.version;var Oy=Rl.renderToString;Rl.renderToStaticMarkup;Rl.renderToNodeStream;Rl.renderToStaticNodeStream;XR.renderToReadableStream;const YR=L.createContext(void 0),sr=()=>{const e=L.useContext(YR);if(!e)throw new Error("useOgma must be used within an OgmaProvider");return e};var ZR={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function fZ(){if(Lk)return rc;Lk=1;var e=E,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,u={},h=null,g=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(u[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:g,props:u,_owner:i.current}}return rc.Fragment=n,rc.jsx=o,rc.jsxs=o,rc}(function(e){e.exports=fZ()})(ZR);const Nk=ZR.exports.jsx,Ik={},_Z=({options:e=Ik,children:t,graph:n,onReady:r},i)=>{const[s,o]=L.useState(!1),[a,l]=L.useState(),[c,d]=L.useState(null),[u,h]=L.useState(),[g,p]=L.useState(Ik);return L.useImperativeHandle(i,()=>a,[a]),L.useEffect(()=>{if(c){const m=new aX({container:c,graph:n,options:e});l(m),o(!0),r&&r(m)}},[l,c]),L.useLayoutEffect(()=>{const m=()=>a==null?void 0:a.view.forceResize();return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),L.useEffect(()=>{a&&(n&&a&&n!==u&&(h(n),a.setGraph(n)),e&&g!==e&&(p(e),a.setOptions(e)))},[n,e]),Nk(YR.Provider,{value:a,children:Nk("div",{style:{width:"100%",height:"100%"},ref:m=>d(m),children:s&&t})})},yZ=L.forwardRef(_Z),xZ=({selector:e,attributes:t},n)=>{const r=sr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addNodeRule(e,t):r.styles.addNodeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(xZ);const vZ=({selector:e,attributes:t},n)=>{const r=sr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addEdgeRule(e,t):r.styles.addEdgeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(vZ);function _a(e,t,n){t===e.isEnabled()&&(t?e.disable(n):e.enable(n))}function ya(e,t,n){const r=({target:l})=>{l===t&&e.onEnabled&&e.onEnabled(t)},i=({target:l})=>{l===t&&e.onDisabled&&e.onDisabled(t)},s=({target:l})=>{l===t&&e.onUpdated&&e.onUpdated(t)},o=({target:l,index:c})=>{l===t&&e.onSetIndex&&e.onSetIndex(t,c)},a=({target:l})=>{l===t&&(e.onDestroyed&&e.onDestroyed(t),n.events.off(r).off(i).off(s).off(o).off(a))};return n.events.on("transformationEnabled",r).on("transformationDisabled",i).on("transformationDestroyed",a).on("transformationSetIndex",o).on("transformationRefresh",s),()=>{n.events.off(r).off(i).off(s).off(o).off(a)}}function bZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeGrouping({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.groupIdFunction,e.groupSelfLoopEdges,e.edgeGenerator,e.nodeGenerator,e.groupEdges,e.padding,e.selector,e.showContents,e.separateEdgesByDirection]),null}L.forwardRef(bZ);function wZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeGrouping({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.selector,e.generator,e.groupIdFunction,e.separateEdgesByDirection]),null}L.forwardRef(wZ);function EZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeCollapsing({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.selector]),null}L.forwardRef(EZ);function SZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborMerging({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.dataFunction,e.selector]),null}L.forwardRef(SZ);function AZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborGeneration({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.nodeGenerator,e.neighborIdFunction,e.selector]),null}L.forwardRef(AZ);function kZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeFilter({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(kZ);function CZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeFilter({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(CZ);function By(e,t,n,r){return typeof n=="string"?n:Oy(typeof n=="function"?n(e,t):r)}function Ll(e,t){return typeof e=="function"?e(t):e}const pp=(e,t)=>`${e} ${e}--${t}`;function Mk(e="&times;",t){if(e){const n=typeof e=="string"?e:Oy(e);return`<div class=${t}>${n}</div>`}return""}function TZ(e,t,n,r){const{width:i,height:s}=r.view.getSize(),{x:o,y:a}=r.view.graphToScreenCoordinates(e);let l=t;const{width:c,height:d}=n;return t==="left"&&o-c<0?l="right":t==="right"&&o+c>i?l="left":t==="bottom"&&a+d>s?l="top":t==="top"&&a-d<0&&(l="bottom"),l==="right"||l==="left"?a+d/2>s?l="top":a-d/2<0&&(l="bottom"):o+c/2>i?l="left":o-c/2<0&&(l="right"),l}function LZ(){}const s0={x:-9999,y:-9999},NZ="ogma-popup--content",IZ="ogma-popup--close",MZ="ogma-popup--body",PZ="ogma-popup",FZ=({content:e,position:t,children:n,isOpen:r=!0,closeButton:i,onClose:s=LZ,placement:o="top",popupClass:a=PZ,closeButtonClass:l=IZ,contentClass:c=NZ,popupBodyClass:d=MZ,size:u,closeOnEsc:h=!0},g)=>{const p=sr(),[m,_]=L.useState(null);return L.useImperativeHandle(g,()=>m,[m]),L.useEffect(()=>{const y=Ll(t,p)||s0,f=By(p,y,e,n),x=p.layers.addOverlay({position:y||s0,element:`<div class="${pp(a,o)}"/>
          <div class="${d}">
            ${Mk(i,l)}
            <div class="${c} ">${f}</div>
          </div>
        </div>`,size:u||{width:"auto",height:"auto"},scaled:!1}),v=b=>{const S=x.element.querySelector(`.${l}`);b.target&&S.contains(b.target)&&(b.stopPropagation(),b.preventDefault(),s())},w=({code:b})=>{b===27&&s()};return h&&p.events.on("keyup",w),x.element.addEventListener("click",v),_(x),r||x.hide(),()=>{m&&(m.element.removeEventListener("click",v),p.events.off(w),m.destroy(),_(null))}},[]),L.useEffect(()=>{if(m){const y=Ll(t,p)||s0,f=By(p,y,e),{element:x}=m;x.className=pp(a,o),x.querySelector(`.${d}`).innerHTML=`
      ${Mk(i,l)}
      <div class="${c} ">${f}</div>`,m.setPosition(y),r?m.show():m.hide()}},[e,t,r,o]),!m||!n?null:bo.createPortal(n,m.element.querySelector(`.${d}`))};L.forwardRef(FZ);const RZ=({tooltipClass:e="ogma-tooltip",placement:t="right",position:n,size:r={width:"auto",height:"auto"},children:i,content:s,visible:o=!0},a)=>{const l=sr(),[c,d]=L.useState(),[u,h]=L.useState(),[g,p]=L.useState(""),[m,_]=L.useState(),y=L.useRef();return L.useImperativeHandle(a,()=>c,[c]),L.useEffect(()=>{const f=`<div class="${pp(e,t)}"><div class="${e}--content" /></div>`,x=Ll(n,l);h(x);const v=l.layers.addOverlay({position:x||{x:-9999,y:-9999},element:f,scaled:!1,size:r});return d(v),()=>{v.destroy()}},[]),L.useEffect(()=>{const f=By(l,u,s,i);if(c){f!==g&&(c.element.firstElementChild.innerHTML=f,p(f),_({width:c.element.offsetWidth,height:c.element.offsetHeight}));const x=Ll(n,l);u!==x&&h(x),o?c.show():c.hide()}return y.current=requestAnimationFrame(()=>{c&&u&&m&&(c.element.className=pp(e,TZ(u,t,m,l)),c.setPosition(u))}),()=>cancelAnimationFrame(y.current)},[i,s,n,o]),null};L.forwardRef(RZ);const DZ=({noClear:e=!1,isStatic:t=!1,render:n,index:r,visible:i},s)=>{const o=sr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=o.layers.addCanvasLayer(n,{isStatic:t,noClear:e},r);return l(c),()=>{c&&(c.destroy(),l(null))}},[]),L.useEffect(()=>{a&&(r!==void 0&&isFinite(r)&&a.moveTo(r),i===a.isHidden()&&i?a.show():a.hide())},[a,r,i]),null};L.forwardRef(DZ);const o0={x:-9999,y:-9999};L.forwardRef(({position:e,children:t,className:n="",size:r,scaled:i},s)=>{const o=sr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=Ll(e,o)||o0,d=document.createElement("div");d.className=n;const u=o.layers.addOverlay({position:c||o0,element:d,size:r||{width:"auto",height:"auto"},scaled:i});return l(u),()=>{a&&(a.destroy(),l(null))}},[]),L.useEffect(()=>{if(a){const c=Ll(e,o)||o0;n&&(a.element.className=n),a.setPosition(c)}},[e,n]),a?bo.createPortal(t,a.element):null});const zZ=L.forwardRef(({children:e,className:t="",index:n},r)=>{const i=sr(),[s,o]=L.useState(null);return L.useImperativeHandle(r,()=>s,[s]),L.useEffect(()=>{const a=document.createElement("div");a.className=t;const l=i.layers.addLayer(a,n);return o(l),()=>{s&&(s.destroy(),o(null))}},[]),L.useEffect(()=>{s&&(s.element.className=t)},[t]),s?bo.createPortal(e,s.element):null});var OZ=Object.defineProperty,BZ=(e,t,n)=>t in e?OZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t,n)=>(BZ(e,typeof t!="symbol"?t+"":t,n),n),jZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QR={exports:{}};(function(e){(function(t,n){e.exports=n()})("Vector",function(){var t=function(){var n=Math.PI*2,r=180/Math.PI,i=Math.PI/180;function s(c){return Math.round(c*1e8)/1e8}function o(c,d){var u=d.x-c.x,h=d.y-c.y;return Math.sqrt(u*u+h*h)}function a(c,d,u){var h=d.y-c.y,g=d.x-c.x,p=Math.atan2(h,g);if(u)for(;p<0;)p+=n;return p}function l(c,d){this.x=c!==void 0?c:0,this.y=d!==void 0?d:0}return l.fromRadians=function(c){var d=Math.cos(c),u=Math.sin(c);return new l(d,u)},l.fromDegrees=function(c){var d=c*(Math.PI/180);return l.fromRadians(d)},l.fromString=function(c){var d=c.split(",");return new l(parseFloat(d[0]),parseFloat(d[1]))},l.fromArray=function(c){return new l(c[0],c[1])},l.prototype={version:"2.0.1",clone:function(){return new l(this.x,this.y)},equals:function(c){return this.prototype===c.prototype&&this.x===c.x&&this.y===c.y},copy:function(c){return this.x=c.x,this.y=c.y,this},copyX:function(c){return this.x=c.x,this},copyY:function(c){return this.y=c.y,this},toDict:function(){return{x:this.x,y:this.y}},toArray:function(){return[this.x,this.y]},set:function(c,d){return c!==void 0&&(this.x=c),d!==void 0&&(this.y=d),this},flipXY:function(){return new l(this.y,this.x)},flipXYSelf:function(){return this.y=[this.x,this.x=this.y][0],this},invert:function(){return this.mulScalar(-1)},invertSelf:function(){return this.mulScalarSelf(-1),this},distanceFrom:function(c){return o(this,c)},radiansTo:function(c){return a(this,c,!0)},degreesTo:function(c){return a(this,c,!0)*r},toRadians:function(c){return a(l.zero,this,!0)},toDegrees:function(c){return this.toRadians()*r},rotateDegreesSelf:function(c){return this.rotateRadiansSelf(c*i)},rotateDegrees:function(c){return this.clone().rotateDegreesSelf(c)},rotateRadiansSelf:function(c){var d=Math.cos(c),u=Math.sin(c),h=this.x*d-this.y*u,g=this.x*u+this.y*d;return this.x=s(h),this.y=s(g),this},rotateRadians:function(c){return this.clone().rotateRadiansSelf(c)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalizeSelf:function(){var c=Math.sqrt(this.x*this.x+this.y*this.y);return c===0?this:(this.x/=c,this.y/=c,this)},normalize:function(){return this.clone().normalizeSelf()},addSelf:function(c){return typeof c=="number"?this.addScalarSelf(c):(this.x+=c.x,this.y+=c.y,this)},subSelf:function(c){return typeof c=="number"?this.subScalarSelf(c):(this.x-=c.x,this.y-=c.y,this)},divSelf:function(c){return typeof c=="number"?this.divScalarSelf(c):(this.x/=c.x,this.y/=c.y,this)},mulSelf:function(c){return typeof c=="number"?this.mulScalarSelf(c):(this.x*=c.x,this.y*=c.y,this)},addScalarSelf:function(c){return this.x+=c,this.y+=c,this},subScalarSelf:function(c){return this.x-=c,this.y-=c,this},divScalarSelf:function(c){return this.x/=c,this.y/=c,this},mulScalarSelf:function(c){return this.x*=c,this.y*=c,this},add:function(c){return this.clone().addSelf(c)},sub:function(c){return this.clone().subSelf(c)},mul:function(c){return this.clone().mulSelf(c)},div:function(c){return this.clone().divSelf(c)},addScalar:function(c){return this.clone().addScalarSelf(c)},subScalar:function(c){return this.clone().subScalarSelf(c)},mulScalar:function(c){return this.clone().mulScalarSelf(c)},divScalar:function(c){return this.clone().divScalarSelf(c)},clampSelf:function(c,d){return this.x<c.x&&(this.x=c.x),this.y<c.y&&(this.y=c.y),this.x>d.x&&(this.x=d.x),this.y>d.y&&(this.y=d.y),this},clamp:function(c,d){return this.clone().clampSelf(c,d)},applySelf:function(c){return this.x=c(this.x),this.y=c(this.y),this},apply:function(c){return this.clone().applySelf(c)},absSelf:function(){return this.applySelf(Math.abs)},abs:function(){return this.clone().absSelf()},roundSelf:function(){return this.applySelf(Math.round)},round:function(){return this.clone().roundSelf()},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},repairSelf:function(c,d){return(typeof this.x!="number"||isNaN(this.x+1))&&(this.x=c||0),(typeof this.y!="number"||isNaN(this.y+1))&&(this.y=d||0),this},repair:function(c,d){return this.clone().repairSelf(c,d)},toString:function(){return this.x+","+this.y},format:function(c){return c=c||"%x,%y",c=c.replace(new RegExp("%x","g"),this.x),c=c.replace(new RegExp("%y","g"),this.y),c}},l}();return t.zero=new t(0,0),t.one=new t(1,1),t.up=new t(0,-1),t.down=new t(0,1),t.left=new t(-1,0),t.right=new t(1,0),t.upLeft=new t(-1,-1),t.downLeft=new t(-1,1),t.upRight=new t(1,-1),t.downRight=new t(1,1),t.prototype.magnitude=t.prototype.length,Object.freeze&&(Object.freeze(t.zero),Object.freeze(t.one),Object.freeze(t.up),Object.freeze(t.down),Object.freeze(t.left),Object.freeze(t.right),Object.freeze(t.upLeft),Object.freeze(t.downLeft),Object.freeze(t.upRight),Object.freeze(t.downRight)),t})})(QR);var UZ=QR.exports;const li=Eb(UZ);let Sm=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Bd={strokeType:"plain",strokeColor:"black",strokeWidth:1,head:"none",tail:"none"},Pk={id:0,type:"Feature",properties:{type:"arrow",style:{...Bd}},geometry:{type:"LineString",coordinates:[[0,0],[100,100]]}},KR=(e=0,t=0,n=0,r=0,i={...Bd})=>({id:Sm(),type:"Feature",properties:{type:"arrow",style:{...Bd,...i}},geometry:{type:"LineString",coordinates:[[e,t],[n,r]]}}),$Z="http://www.w3.org/2000/svg";function Zc(e){return document.createElementNS($Z,e)}function JR(e){return e.geometry.bbox||VZ(e),e.geometry.bbox}function Ks(e){const t=JR(e);return{width:t[2]-t[0],height:t[3]-t[1]}}function Vo(e){const t=JR(e);return{x:t[0],y:t[1]}}function VZ(e){const[t,n]=e.geometry.coordinates[0][0],[r,i]=e.geometry.coordinates[0][2];e.geometry.bbox=[t,n,r,i]}function GZ(e,t,n,r,i){e.geometry.bbox=[t,n,t+r,n+i],e.geometry.coordinates=[[[t,n],[t+r,n],[t+r,n+i],[t,n+i],[t,n]]]}function Qc(e){const[t,n]=e.geometry.coordinates[0];return{x:t,y:n}}function a0(e,t){const[n,r]=e.geometry.coordinates[t==="start"?0:1];return{x:n,y:r}}function mp(e){const[t,n]=e.geometry.coordinates[1];return{x:t,y:n}}function eD(e,t,n){e.geometry.coordinates[0]=[t,n]}function tD(e,t,n){e.geometry.coordinates[1]=[t,n]}function fp(e){return{start:Qc(e),end:mp(e)}}function wh(e,t,n,r){t==="start"?eD(e,n,r):tD(e,n,r)}const nD=e=>parseInt(e.getAttribute("data-handle-id")||"-1");function l0(e,t,n){const r=Math.atan2(e.y-t.y,e.x-t.x);return{x:t.x+n*Math.cos(r),y:t.y+n*Math.sin(r)}}function rD(e,t=5,n=30){var r;const{start:i,end:s}=fp(e),o=new li(i.x,i.y),a=new li(s.x,s.y).sub(o),l=e.properties.style&&e.properties.style.strokeWidth?(r=e.properties.style)==null?void 0:r.strokeWidth:0;return Math.min(n,Math.max(3*l,a.length()*.1,t))}function Fk(e,t,n,r){const i=t.clone().normalize().invert().mul(r);if(!n||n==="none")return"";const s=e.clone().add(i.rotateRadians(Math.PI/8)),o=e.clone().add(i.rotateRadians(-Math.PI/8)),a=`${e.x} ${e.y}`;return`M ${s.x} ${s.y} L ${a} ${o.x} ${o.y} ${n==="arrow"?"":`${s.x} ${s.y}`}`}function HZ(e,t,n,r,i){const{start:s,end:o}=fp(e),{tail:a,head:l,strokeColor:c,strokeWidth:d}=e.properties.style||n,u=new li(s.x,s.y),h=new li(o.x,o.y),g=h.clone().sub(u),p=rD(e,r,i),m=Zc("path");m.setAttribute("data-annotation",`${e.id}`),m.setAttribute("data-annotation-type","arrow");const _=l==="arrow-plain"||a==="arrow";m.setAttribute("stroke",c||"none"),m.setAttribute("stroke-width",`${d}`),m.setAttribute("fill",_?c||"":"none"),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round");const y=Fk(u,g.clone().invert(),a,p),f=Fk(h,g,l,p),x=y+`M ${u.x} ${u.y} ${h.x} ${h.y}`+f;m.setAttribute("d",x),t.appendChild(m)}const En=-1,Sb="dragging",Ab="dragstart",jd="dragend",jy="select",Uy="unselect",WZ="hover",qZ="unhover",$y="remove",Vy="add",XZ="cancelDrawing",Gy="update",YZ="link";var iD={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,u||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var u=0,h=d.length,g=new Array(h);u<h;u++)g[u]=d[u].fn;return g},a.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,u,h,g){var p=n?n+l:l;if(!this._events[p])return!1;var m=this._events[p],_=arguments.length,y,f;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),_){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,u),!0;case 5:return m.fn.call(m.context,c,d,u,h),!0;case 6:return m.fn.call(m.context,c,d,u,h,g),!0}for(f=1,y=new Array(_-1);f<_;f++)y[f-1]=arguments[f];m.fn.apply(m.context,y)}else{var x=m.length,v;for(f=0;f<x;f++)switch(m[f].once&&this.removeListener(l,m[f].fn,void 0,!0),_){case 1:m[f].fn.call(m[f].context);break;case 2:m[f].fn.call(m[f].context,c);break;case 3:m[f].fn.call(m[f].context,c,d);break;case 4:m[f].fn.call(m[f].context,c,d,u);break;default:if(!y)for(v=1,y=new Array(_-1);v<_;v++)y[v-1]=arguments[v];m[f].fn.apply(m[f].context,y)}}return!0},a.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,u){var h=n?n+l:l;if(!this._events[h])return this;if(!c)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===c&&(!u||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var p=0,m=[],_=g.length;p<_;p++)(g[p].fn!==c||u&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(iD);var ZZ=iD.exports;const sD=Eb(ZZ);class oD extends sD{constructor(t,n){super(),$e(this,"ogma"),$e(this,"elements"),$e(this,"layer"),$e(this,"editor"),$e(this,"selectedId",En),$e(this,"hoveredId",En),$e(this,"ogmaOptions"),$e(this,"shouldDetect"),$e(this,"isDragging"),$e(this,"maxHandleScale",1.5),$e(this,"_onKeyUp",r=>{r.code===27&&this.selectedId!==En?this.unselect():(r.code===46||r.code===8)&&this.selectedId!==En&&this._canRemove()&&this.remove(this.selectedId)}),$e(this,"_onClickMouseMove",r=>{if(!r.domEvent||this.isDragging||!this.shouldDetect)return;const i=this.ogma.view.screenToGraphCoordinates(r),s=this.shouldDetect||!this.shouldDetect&&+this.selectedId>-1?this.detect(i,0):void 0;r.domEvent.type==="mousemove"?s?this.hover(s.id):this.hoveredId!==En&&this.unhover():s?this.select(s.id):this.selectedId!==En&&this.unselect()}),this.ogma=t,this.elements=[],this.shouldDetect=!0,this.isDragging=!1,this.ogmaOptions=t.getOptions(),t.events.on(["click","mousemove"],this._onClickMouseMove).on("keyup",this._onKeyUp).on("newFrame",()=>{this.refreshEditor()}),this.layer=t.layers.addSVGLayer({draw:r=>this.draw(r)}),this.layer.moveToTop(),this.editor=t.layers.addLayer(n),this.editor.hide()}_canRemove(){return!0}add(t){const n=this.getDefaultOptions(),r=Object.assign(t,{id:t.id===void 0?Sm():t.id,type:t.type,properties:{...n.properties,...t.properties||{},style:{...n.properties.style,...t.properties.style||{}}},geometry:{...n.geometry,...t.geometry}});return this.elements.push(r),this.layer.refresh(),this.emit(Vy,r),r}updateStyle(t,n){this.updateAnnotation(t,{properties:{style:n}})}updateGeometry(t,n){this.updateAnnotation(t,{geometry:n})}update(t,n){const r=this.getById(t);this.updateAnnotation(r,n)}updateAnnotation(t,n){if(!t)return;const r=t.id;Object.keys(n).forEach(i=>{if(i!=="id")if(i==="properties"){const s=n.properties||{style:{}};t.properties={...t.properties||{},...s||{},style:{...t.properties.style||{},...s.style||{}}}}else i==="geometry"?t.geometry={...t.geometry,...n.geometry}:t[i]=n[i]}),r===this.selectedId&&this.refreshEditor(),this.layer.refresh()}getById(t){for(let n=0;n<this.elements.length;n++){const r=this.elements[n];if(r.id===t)return r}}select(t){const n=this.getById(t);n&&(this.editor.show(),this.selectedId=t,this.refreshEditor(),this.layer.refresh(),this.emit(jy,n))}hover(t){const n=this.getById(t);n&&(this.editor.show(),this.hoveredId=t,this.refreshEditor(),this.layer.refresh(),this.emit(WZ,n))}getSelectedFeature(){return this.selectedId===En?null:this.getById(this.selectedId)}unselect(){const t=this.getById(this.selectedId);return t&&this.emit(Uy,t),this.selectedId=En,this.hoveredId===En&&this.editor.hide(),this.layer.refresh(),this}unhover(){const t=this.getById(this.hoveredId);return this.emit(qZ,t),this.hoveredId=En,this.selectedId===En&&this.editor.hide(),this.layer.refresh(),this}remove(t){const n=this.getById(t);t===this.hoveredId&&this.unhover(),t===this.selectedId&&this.unselect(),this.elements=this.elements.filter(r=>r.id!==t),n&&this.emit($y,n),this.layer.refresh()}disableDragging(){this.ogma.setOptions({interactions:{drag:{enabled:!1},pan:{enabled:!1}},detect:{nodes:!1,edges:!1,nodeTexts:!1,edgeTexts:!1}})}restoreDragging(){this.ogma.setOptions(this.ogmaOptions)}enableDetection(){this.shouldDetect=!0}disableDetection(){this.shouldDetect=!1}refreshLayer(){this.layer.refresh()}getElements(){return[...this.elements]}destroy(){this.ogma.events.off(this._onClickMouseMove).off(this._onKeyUp),this.layer.destroy()}}const Rk="handle-line",Dk="handle-start",zk="handle-end";class QZ extends oD{constructor(t,n={}){super(t,`
    <div class="arrow-handle">
      <div id="${Rk}" data-handle-id="0" class="handle line"></div>
      <div id="${Dk}" data-handle-id="1" class="handle"></div>
      <div id="${zk}" data-handle-id="2" class="handle"></div>
    </div>
  `),$e(this,"draggedHandle",En),$e(this,"start",{x:0,y:0}),$e(this,"end",{x:0,y:0}),$e(this,"arrow",{...Pk}),$e(this,"startX",0),$e(this,"startY",0),$e(this,"minArrowHeight",0),$e(this,"maxArrowHeight",0),$e(this,"handles",[]),$e(this,"onHandleMouseDown",r=>{const i=this.getById(this.selectedId)||this.getById(this.hoveredId);i&&(this.startDragging(i,r.clientX,r.clientY),this.draggedHandle=nD(r.target))}),$e(this,"onMouseUp",()=>{this.draggedHandle!==-1&&(this.restoreDragging(),this.isDragging=!1,this.draggedHandle=En,this.emit(jd,this.arrow))}),$e(this,"onMouseMove",r=>{if(!this.isDragging||this.draggedHandle===En)return;const i=this.handles[this.draggedHandle],s=this.ogma.view.getZoom(),o=(r.clientX-this.startX)/s,a=(r.clientY-this.startY)/s,l=i.id===Rk,c=i.id===Dk,d=i.id===zk;(l||c)&&eD(this.arrow,this.start.x+o,this.start.y+a),(l||d)&&tD(this.arrow,this.end.x+o,this.end.y+a),this.emit(Sb,this.arrow,l?"line":c?"start":"end"),this.refreshEditor(),this.layer.refresh()}),this.minArrowHeight=n.minArrowHeight||0,this.maxArrowHeight=n.maxArrowHeight||1e6,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".arrow-handle>.handle")),this.handles.forEach(r=>r.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp)}startDrawing(t,n,r=KR(t,n,t,n,Bd)){var i;this.add(r),this.hoveredId=r.id;const s=this.ogma.view.graphToScreenCoordinates({x:t,y:n}),o=((i=this.ogma.getContainer())==null?void 0:i.getBoundingClientRect())||{left:0,top:0};this.startDragging(this.getById(r.id),s.x+(o==null?void 0:o.left),s.y+o.top),this.draggedHandle=2}cancelDrawing(){this.isDragging&&(this.remove(this.arrow.id),this.emit(jd,this.arrow),this.restoreDragging(),this.isDragging=!1,this.draggedHandle=En)}startDragging(t,n,r){this.selectedId!==t.id&&this.select(this.hoveredId),this.arrow=t,this.startX=n,this.startY=r,this.start=Qc(this.arrow),this.end=mp(this.arrow),this.disableDragging(),this.emit(Ab,this.arrow),this.isDragging=!0}detect(t,n=0){return this.elements.find(r=>{const{start:i,end:s}=fp(r),o=new li(t.x,t.y).sub(new li((i.x+s.x)/2,(i.y+s.y)/2)),a=new li(s.x,s.y).sub(new li(i.x,i.y)),l=a.length(),c=a.normalize(),d=rD(r);return Math.abs(c.dot(o))<l/2+n&&Math.abs(c.rotateRadians(Math.PI/2).dot(o))<d/2+n})}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.selectedId!==En?this.getById(this.selectedId):this.getById(this.hoveredId),n=fp(t),r=this.ogma.view.graphToScreenCoordinates(n.start),i=this.ogma.view.graphToScreenCoordinates(n.end),s=Math.min(this.ogma.view.getZoom(),this.maxHandleScale),[o,a,l]=Array.prototype.slice.call(this.editor.element.querySelectorAll(".handle"));a.style.transform=`translate(${r.x}px, ${r.y}px) translate(-50%, -50%) scale(${s})`,l.style.transform=`translate(${i.x}px, ${i.y}px) translate(-50%, -50%) scale(${s}`;const c={x:(i.x+r.x)/2,y:(i.y+r.y)/2},d=new li(i.x-r.x,i.y-r.y),u=d.mul(1/d.length()),h=Math.atan2(u.y,u.x);o.style.width=`${d.length()/s}px`,o.style.left=`${c.x}px`,o.style.top=`${c.y}px`,o.style.transform=`translate(-50%, -50%) rotate(${h}rad) scale(${s}) `}getDefaultOptions(){return Pk}draw(t){t.innerHTML="";const n=Zc("g");this.elements.forEach(r=>HZ(r,n,Bd,this.minArrowHeight,this.maxArrowHeight)),t.appendChild(n)}destroy(){super.destroy(),document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp)}}const gl={font:"sans-serif",fontSize:"12",color:"black",background:"",strokeWidth:1,strokeColor:"#000",strokeType:"plain"},c0={id:0,type:"Feature",properties:{type:"text",content:"",style:{...gl}},geometry:{type:"Polygon",coordinates:[[[0,0],[100,0],[100,50],[0,50],[0,0]]]}},Ok={handleSize:3.5,placeholder:"Your text..."},aD=(e=0,t=0,n=100,r=50,i="",s={...gl})=>({id:Sm(),type:"Feature",properties:{type:"text",content:i,style:{...gl,...s}},geometry:{type:"Polygon",coordinates:[[[e,t],[e+n,t],[e+n,t+r],[e,t+r],[e,t]]]}});var lD={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jZ,()=>(()=>{var n={d:(z,U)=>{for(var X in U)n.o(U,X)&&!n.o(z,X)&&Object.defineProperty(z,X,{enumerable:!0,get:U[X]})},o:(z,U)=>Object.prototype.hasOwnProperty.call(z,U)},r={};function i(z){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i(z)}n.d(r,{default:()=>On});var s=/^((?:[a-z\d-]+\s+)*)([\d.]+(%|em|px)|(?:x+-)?large|(?:x+-)?small|medium)(?:\s*\/\s*(normal|[\d.]+(%|px|em)?))?(\s.+)?$/,o=/\bsmall-caps\b/,a=/\b(?:italic|oblique)\b/,l=/\bbold(?:er)?\b/,c=13.3333333,d={"xx-small":9,"x-small":10,smaller:13.3333,small:13,medium:16,large:18,larger:19.2,"x-large":24,"xx-large":32};function u(z){var U="",X=this;return X.style&&X.style!=="normal"&&(U+=X.style),X.variant&&X.variant!=="normal"&&(U+=(U?" ":"")+X.variant),X.weight&&X.weight!=="normal"&&(U+=(U?" ":"")+X.weight),X.size&&(U+=(U?" ":"")+X.size+"px",X.height!==X.size&&(U+="/"+X.height+"px")),X.family&&(U+=(U?" ":"")+X.family),z&&(U+="::"+X.baseline),z&&(U+="::"+X.color),U}var h={id:"",family:"sans-serif",height:14,size:12,variant:"",style:"",weight:"",baseline:"",color:null,toString:u,valueOf:u};function g(z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=s.exec(z);U.family=(X[6]||"").trim();var V=d[X[2]]||parseFloat(X[2]);X[3]==="%"?V*=.16:X[3]==="em"?V*=16:X[3]==="pt"&&(V*=c),U.size=V;var ae=parseFloat(X[4]);if(ae!=="normal"&&ae!=="inherit"&&ae?X[5]&&X[5]!=="em"?X[5]==="pt"?U.height=ae*c:X[5]==="%"?U.height=.01*V:U.height=ae:U.height=ae*V:U.height=Math.round(V*(7/6)),o.test(X[1])&&(U.variant="small-caps"),a.test(X[1])&&(U.style="italic"),l.test(X[1]))U.weight="bold";else{var Le=parseInt(/\b(\d+)\b/.exec(X[1]),10);Le>=100&&Le!==400&&(U.weight=Le)}return U}function p(){var z,U,X,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"12px/14px sans-serif",ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=14,Xe=12,je=null,Ue=null,et="";if(V&&V.nodeType){var pt=V&&(V.ownerDocument&&V.ownerDocument.defaultView||V.document&&V||V.defaultView),yt=pt.getComputedStyle(V,null);z=yt.getPropertyValue("font-family")||"",Xe=parseFloat(yt.getPropertyValue("font-size")),Le=yt.getPropertyValue("line-height"),je=yt.getPropertyValue("font-weight"),Ue=yt.getPropertyValue("font-style"),et=yt.getPropertyValue("font-variant")||""}else if(typeof V=="string"){var ct=g(V);z=ct.family,Xe=ct.size,Le=ct.height,et=ct.variant,Ue=ct.style,je=ct.weight}else i(V)==="object"&&(z=V.family,Xe=V.size,Le=V.height,et=V.variant,je=V.weight,Ue=V.style,U=V.baseline,X=V.color);ae.size&&ae.size<3&&(Xe*=ae.size),Le=Le!=="normal"&&Le?parseFloat(Le):Xe*(7/6),ae.height&&ae.height<3&&(Le*=ae.height);var mt=Object.create(h);return mt.family=ae.family||z||"sans-serif",mt.height=Le??14,mt.size=Xe??12,mt.variant=ae.variant||et||"",mt.style=ae.style||Ue||"",mt.weight=ae.weight||je||"",mt.baseline=U||0,ae.baseline!=null&&(mt.baseline=ae.baseline),mt.color=ae.color||X||"",mt.id=u.call(mt,!0),mt}const m={"\n":.28,"\r":.28," ":.28,"":.28,"":.28,"":0,"":.5,"":1,"":.5,"":1,"":.33,"":.25,"":.16,"":.56,"":.28,"":.2,"":.15,"":0,"":.16,"":.22,"":1,"\uFEFF":0};var _,y=function(z){var U=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(100,100)||z&&z.createElement("canvas");if(U&&U.getContext){var X=U.getContext("2d");if(X&&typeof X.measureText=="function")return function(V,ae){return X.font=String(ae),X.measureText(V).width}}}(typeof document<"u"?document:null)||(_={},function(z,U){if(!_[U]){var X=p(U);_[U]=X,/\bmonospace\b/.test(X.family)?X.size*=.6:(X.size*=.45,X.weight&&(X.size*=1.18))}return z.length*_[U].size}),f={},x={trim:!0,collapse:!0};function v(z,U,X){var V=Object.assign({},x,X),ae=String(z);if(!ae)return 0;if(ae in m){var Le=U.id+"/"+ae;return Le in f||(f[Le]=y("_".concat(ae,"_"),U)-y("__",U)),f[Le]}return V.trim&&V.collapse?V.trim?ae=ae.trim():V.collapse&&(ae=ae.replace(/\s+/g," ")):ae=ae.replace(/\n/g," "),y(ae,U)+U.size*(z.tracking||0)}function w(z){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},w(z)}function b(z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(U&&U.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),U&&S(z,U)}function S(z,U){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,V){return X.__proto__=V,X},S(z,U)}function A(z){var U=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var X,V=k(z);if(U){var ae=k(this).constructor;X=Reflect.construct(V,arguments,ae)}else X=V.apply(this,arguments);return C(this,X)}}function C(z,U){if(U&&(w(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(X){if(X===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(z)}function k(z){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},k(z)}function N(z,U){if(!(z instanceof U))throw new TypeError("Cannot call a class as a function")}function R(z,U){for(var X=0;X<U.length;X++){var V=U[X];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,Xe){if(w(Le)!=="object"||Le===null)return Le;var je=Le[Symbol.toPrimitive];if(je!==void 0){var Ue=je.call(Le,Xe);if(w(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),w(ae)==="symbol"?ae:String(ae)),V)}var ae}function B(z,U,X){return U&&R(z.prototype,U),X&&R(z,X),Object.defineProperty(z,"prototype",{writable:!1}),z}var H=function(){function z(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";N(this,z),this.value=U,this.weight=null,this.style=null,this.font=null,this.href=null,this.sub=!1,this.sup=!1}return B(z,[{key:"clone",value:function(){var U=new z(this.value);return U.value=this.value,U.weight=this.weight,U.style=this.style,U.font=this.font,U.href=this.href,U.sub=this.sub,U.sup=this.sup,U}},{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),z}(),F=function(z){b(X,z);var U=A(X);function X(){return N(this,X),U.apply(this,arguments)}return B(X)}(H),T=function(z){b(X,z);var U=A(X);function X(){return N(this,X),U.apply(this,arguments)}return B(X)}(H),W=function(z){b(X,z);var U=A(X);function X(){return N(this,X),U.apply(this,arguments)}return B(X)}(H),G=/^[\n\r\t\x20\xA0\u2000-\u200B\u205F\u3000]/,Y=/^[^\n\r\t\u0020\u2000-\u200B\u205F\u3000]{2,}/,ee=/^[\xA0\u2011\u202F\u2060\uFEFF]/,J=/^(?:[;\xAD%?]|,(?!\d))/,ue=/^[$\u2212]/;function Ae(z,U){U!==!1&&(z=z.trim());for(var X,V,ae=[],Le=z.charAt(0),Xe=0,je=1,Ue=z.length;je<Ue;je++){X=z.charAt(je),V=z.charAt(je+1);var et=G.test(Le),pt=G.test(X),yt=pt||et,ct=void 0;if((ue.test(X)&&!ee.test(Le)||J.test(Le+V)&&!ee.test(X))&&(yt=!0),Le!=="-"&&Le!==""&&Le!==""&&Le!==""||((ct=G.test(z.charAt(je-2)))&&!pt&&(yt=!1),!ct&&Y.test(X+V)&&(yt=!0)),yt){var mt=z.slice(Xe,je);/\u00AD$/.test(mt)?(ae.push(new H(mt.slice(0,-1))),ae.push(new W)):(ae.push(new H(mt)),ae.push(new F)),Xe=je}Le=X}return ae.push(new H(z.slice(Xe))),ae}const ce={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:""};var _e=/^[\n\r\x20\u2000-\u200B\u205F\u3000]/,ze=/^<\/([a-zA-Z0-9]+)([^>]*)>/,Me=/^<([a-zA-Z0-9]+)((?:\s[^=\s/]+(?:\s*=\s*(?:"[^"]+"|'[^']+'|[^>\\s]+))?)+)?\s*(\/?)>(\n*)/,We=/^<!--(.+?)-->/,he=/&(?:#(\d\d{2,})|#x([\da-fA-F]{2,})|([a-zA-Z][a-zA-Z1-4]{1,8}));/g,ye={b:function(z){z.weight="bold"},strong:function(z){z.weight="bold"},i:function(z){z.style="italic"},em:function(z){z.style="italic"},dfn:function(z){z.style="italic"},cite:function(z){z.style="italic"},code:function(z){z.family="monospace"},kbd:function(z){z.family="monospace"},samp:function(z){z.family="monospace"},var:function(z){z.family="monospace"},tt:function(z){z.family="monospace"},sub:function(z){z.sub=!0},sup:function(z){z.sup=!0}},Ze={div:1,li:1,blockquote:2,h1:2,h2:2,h3:2,h4:2,h5:2,h6:2,ul:2,ol:2,hr:2,p:2};function tt(z){return z.replace(he,function(U,X,V,ae){if(X||V){var Le=X?10:16;return String.fromCharCode(parseInt(X||V,Le))}return ae in ce?ce[ae]:U})}function ut(z){return z&&z.length>1&&(z[0]==='"'&&z[z.length-1]==='"'||z[0]==="'"&&z[z.length-1]==="'")?z.slice(1,-1):z}var st=/^\s*([^=\s&]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/;function Z(z){var U,X={};if(z){do if(U=st.exec(z)){var V=tt(ut(U[2]||"")).replace(/[ \r\n\t]+/g," ").trim();if(X[U[1]]=V,(z=z.slice(U[0].length)).length&&/^\S/.test(z[0]))throw new Error("Attribute error")}while(U&&z.length);if(/\S/.test(z))throw new Error("Attribute error")}return X}const te={copyright:"",textcopyright:"",dag:"",textdagger:"",ddag:"",textdaggerdbl:"",guillemotleft:"",guillemotright:"",guilsinglleft:"",guilsinglright:"",ldots:"",dots:"",textellipsis:"",lq:"",P:"",textparagraph:"",pounds:"",textsterling:"",quotedblbase:"",quotesinglbase:"",rq:"",S:"",sim:"~",textasciicircum:"^",textasciitilde:"",texttildelow:"~",textasteriskcentered:"*",textbackslash:"'",textbar:"|",textbardbl:"",textbigcircle:"",textbraceleft:"{",textbraceright:"}",textbullet:"",textdollar:"$",textemdash:"",textendash:"",texteuro:"",eurosym:"",euro:"",textexclamdown:"",textgreater:">",textless:"<",textordfeminine:"",textordmasculine:"",textperiodcentered:"",cdot:"",textquestiondown:"",textquotedblleft:"",textquotedblright:"",textquoteleft:"",textquoteright:"",textquotestraightbase:"",textquotestraightdblbase:"",textregistered:"",textthreequartersemdash:"-",texttrademark:"",texttwelveudash:"-",textunderscore:"_",textvisiblespace:"",gets:"",textleftarrow:"",to:"",textrightarrow:"",textdegree:"",infty:"",triangle:"",triangledown:"",blacktriangle:"",blacktriangledown:"",angle:"",sphericalangle:"",aleph:"",hbar:"",imath:"",jmath:"",ell:"",wp:"",Re:"",Im:"",mho:"",prime:"",emptyset:"",nabla:"",surd:"",partial:"",top:"",bot:"",vdash:"",dashv:"",forall:"",exists:"",nexists:"",neg:"",lnot:"",flat:"",natural:"",sharp:"",backslash:"\\",Box:"",Diamond:"",clubsuit:"",diamondsuit:"",heartsuit:"",spadesuit:"",Join:"",blacksquare:"",bigstar:"",diagdown:"",diagup:"",blacklozenge:"",rfloor:"",lfloor:"",rceil:"",lceil:"",rangle:"",langle:"",sum:"",int:"",oint:"",prod:"",coprod:"",bigcap:"",bigcup:"",bigsqcup:"",bigvee:"",bigwedge:"",bigodot:"",bigotimes:"",bigoplus:"",biguplus:"",alpha:"",beta:"",chi:"",delta:"",epsilon:"",eta:"",gamma:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",omega:"",phi:"",pi:"",psi:"",rho:"",sigma:"",tau:"",theta:"",upsilon:"",xi:"",zeta:"",Alpha:"",Beta:"",Chi:"",Delta:"",Epsilon:"",Eta:"",Gamma:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Omega:"",Phi:"",Pi:"",Psi:"",Rho:"",Sigma:"",Tau:"",Theta:"",Upsilon:"",Xi:"",Zeta:"",aa:"",AA:"",ae:"",AE:"",dh:"",DH:"",dj:"",DJ:"",ij:"",IJ:"",l:"",L:"",ng:"",NG:"",o:"",O:"",oe:"",OE:"",ss:"",SS:"SS",th:"",TH:""};var se=/^(\^|_|\\[^#$%&~_^\\{}()\s]+)(\{)?/,oe=/^%[^\n]+(?:\n|$)/,ge=/^[^#$%&~_^\\{}]+/,pe=/^\\([&{}$%#_])/,Oe=/(?:\\[\\@,!:;-]|-{2,3}|[!?]`|``?|,,|''?|~|<<|>>)/g,Ie={"---":"","--":"","!`":"","?`":"","``":"",",,":"","''":"","`":"","'":"","<<":"",">>":"","~":"","\\-":"","\\,":"","\\;":"","\\:":"","\\!":"","\\@":"\uFEFF","\\\\":"\\newline{}"},Fe={bf:function(z){z.weight="bold"},it:function(z){z.style="italic"},sl:function(z){z.style="italic"},color:function(z,U){z.color=U},href:function(z,U){z.href=U},"^":function(z){z.sup=!0},_:function(z){z.sub=!0},par:function(z){this.tokens.push(new T,new T)},newline:function(z){this.tokens.push(new T)},url:function(z,U){this.open_context().href=U,this.add_token(new H(U)),this.close_context()}};Fe.textsuperscript=Fe["^"],Fe.textsubscript=Fe._,Fe.textsl=Fe.sl,Fe.mathbf=Fe.bf,Fe.mathit=Fe.it,Fe.textbf=Fe.bf,Fe.textit=Fe.it,Fe.textcolor=Fe.color;var nt=/[\r\n\xA0]+/g;function rt(z,U){z.sup&&(z.baseline=.45,z.size=.7),z.sub&&(z.baseline=-.3,z.size=.7);var X=U;return(z.style||z.weight||z.baseline||z.color||z.size||z.family)&&(X=p(U,z)),X}function Rt(z,U,X){for(var V,ae,Le=z.width;Le+X.width>U&&z.length;)ae=(V=z[z.length-1]).width,V.width>X.width?(V.value=V.value.slice(0,-1),V.width=v(V,V.font),Le+=V.width):z.pop(),Le-=ae;z[z.length-1]instanceof W&&z.pop(),V=z[z.length-1]||V||{},X.font=p(X.font,V.bold,V.italic,""),X.href=z.length?V.href:null,X.rel=z.length?V.rel:null,X.target=z.length?V.target:null,z.push(X)}function It(z){return Math.round(1e6*z)/1e6}function Mt(z){return function(U){if(Array.isArray(U))return Wt(U)}(z)||function(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}(z)||function(U,X){if(U){if(typeof U=="string")return Wt(U,X);var V=Object.prototype.toString.call(U).slice(8,-1);return V==="Object"&&U.constructor&&(V=U.constructor.name),V==="Map"||V==="Set"?Array.from(U):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?Wt(U,X):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wt(z,U){(U==null||U>z.length)&&(U=z.length);for(var X=0,V=new Array(U);X<U;X++)V[X]=z[X];return V}var vt={center:"middle",right:"end"},lt={middle:.5,center:.5,bottom:1,end:1},Ct=function(z,U){return!z&&!U||z===U};function Pt(z,U){var X=[],V=U.font(),ae=V.size,Le=V.family,Xe=U.align(),je=U.createElement();if(z.length){var Ue=V.height,et=U.valign(),pt=U.height()(),yt=U.width()(0),ct=!isFinite(yt)&&z.length===1,mt=ct?null:U.x(),Vt=It(Ue/ae),fn=ct?null:It(Ue/(1.15*ae+(Ue-ae)/2));if(lt[et]&&isFinite(pt)){var Ft=et==="bottom"?1:.5;fn+=(pt*Ft-Ue*z.length*Ft)/ae}var wt=Xe==="justify",M=0;Xe==="right"?M=yt:Xe==="center"&&(M=yt/2);for(var D=[],P="tspan",$=null,q="",O=function(){if(q){var ke=je(P,$,q);D.push(ke)}P="tspan",$=null,q=""},j=0,Q=z.length;j<Q;j++){var K="",de="",ne=0,re=z[j];if(re.length){D=[];for(var le=0,fe=0,ie=void 0,me=0,we=re.length;me<we;me++){var ve=re[me],be=ve.font;ve.whitespace&&le++,fe+=ve.width,me&&!ve.tracking&&!ne&&Ct(be.id,K)&&Ct(ve.class,de)&&Ct(ie,ve.href)?q+=ve.value:(O(),q=ve.value,$={fontFamily:be.family!==Le?be.family:null,fontSize:be.size!==ae?be.size:null,fontWeight:be.weight||null,fontStyle:be.style||null,fontVariant:be.variant!=="normal"&&be.variant||null,fill:be.color||null,baselineShift:be.baseline?100*be.baseline+"%":null,className:ve.class||null},ne&&($.dx=It(ne),ne=0),ve.tracking&&(ne=be.size*ve.tracking),ve.href&&!ie?(ie=ve.href,P="a",$.href=ie,$.rel=ve.rel,$.target=ve.target):ie=null,K=be.id,de=ve.class)}if(O(),ct)X.push.apply(X,Mt(D));else{var Ee=null,Te=j===Q-1||re[re.length-1]instanceof T;wt&&re.length>1&&!Te&&(Ee=It((yt-fe)/le)),X.push(je.apply(void 0,["tspan",{wordSpacing:Ee,x:mt(j)+M,dy:It(j?Vt:fn)+"em"}].concat(Mt(D))))}}else X.push(je("tspan",{x:mt(j),dy:It(j?Vt:fn)+"em"},""))}}return je.apply(void 0,["text",{fontFamily:Le,fontSize:ae,textAnchor:vt[Xe]||"start"}].concat(X))}var Dt={middle:.5,center:.5,bottom:1,end:1};function kt(z,U,X){if(z.length){X.textBaseline="middle";var V=U.font(),ae=V.height,Le=V.size,Xe=U.valign(),je=U.height()(),Ue=U.width()(0),et=U.align(),pt=et==="justify",yt=.5*ae,ct=Dt[Xe];if(ct&&isFinite(je)){var mt=z.length*ae;yt+=je*ct-mt*ct}z.forEach(function(Vt,fn){var Ft=U.x()(fn),wt=fn*ae+yt,M=0,D=0;Vt.forEach(function(q){q.whitespace&&M++,D+=q.width});var P=0,$=fn===z.length-1||Vt[Vt.length-1]instanceof T;pt&&Vt.length>1&&!$&&(P=(Ue-D)/M),Vt.forEach(function(q){X.font=q.font;var O=q.font,j=O.baseline?Le*-O.baseline+.15*Le:0;X.fillStyle=function(de,ne){return de.color?de.color:ne.href?"#00C":"#000"}(O,q);var Q=0;if(et==="right"?Q+=Ue-D:et==="center"?Q+=Ue/2-D/2:et==="justify"&&(q.whitespace||q instanceof T)&&(Ft+=P),X.fillText(q.value,Ft+Q,wt+j),q.href){X.beginPath(),X.strokeStyle=X.fillStyle;var K=Math.floor(wt+.45*Le)+.5;X.moveTo(Ft+Q,K),X.lineTo(Ft+Q+q.width,K),X.stroke()}Ft+=q.width})})}}function bt(z){return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},bt(z)}function Gt(z){for(var U={},X=0;X<z.length;X++){var V=z[X];typeof V!="number"&&V!=null&&(typeof V=="string"?U.text=V:typeof V=="function"?U.fn=V:bt(V)==="object"&&V._groups?U.d3=V:V&&V.nodeType&&V.getContext?U.ctx=V.getContext("2d"):V&&V.fillText&&V.beginPath?U.ctx=V:V&&(U.text=V))}return U}function qt(z){return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},qt(z)}function Er(z,U){for(var X=0;X<U.length;X++){var V=U[X];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,Xe){if(qt(Le)!=="object"||Le===null)return Le;var je=Le[Symbol.toPrimitive];if(je!==void 0){var Ue=je.call(Le,Xe);if(qt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),qt(ae)==="symbol"?ae:String(ae)),V)}var ae}var ht=p(),xt=function(z){return typeof z=="function"?z:function(){return z}},gt=function(){function z(V){if(function(Le,Xe){if(!(Le instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,z),this.props={overflow:"ellipsis",lineclamp:null,align:"left",wordBreak:null,valign:"top",width:function(){return 1/0},height:function(){return 1/0},x:function(){return 0},font:null,tAnchor:0,parser:z.defaultparser},V)for(var ae in V)typeof this[ae]=="function"&&this[ae](V[ae])}var U,X;return U=z,X=[{key:"linebreak",value:function(V){var ae=this,Le=this.props.parser(String(V)),Xe=this.font(),je=function(Ue,et,pt){if(!Ue.length)return[];var yt=et.height(),ct=et.width(),mt=et.overflowLine(),Vt=et.overflowWrap(),fn=p(pt,!0,!1),Ft=isFinite(yt())?Math.floor(yt()/pt.height):1/0;if(!yt()&&!ct(0)||!Ft)return[];for(var wt=0,M=0,D=0,P=[],$=[],q=!1;wt<Ue.length&&M<Ft;){var O=Ue[wt],j=rt(O,pt);if(O.width=v(O,j),O.font=j,O.line=M,O.whitespace=O.value in m,O.value&&(O.value=O.value.replace(nt," ")),!(!D&&O.whitespace||q&&O.whitespace))if(O instanceof T)D=0,$=[],P.push(wt+1),M++;else if(O instanceof F||O instanceof W)$.push({index:wt,width:D});else if(O.whitespace||D+O.width<ct(M))D+=O.width;else if($.length){var Q=void 0,K=void 0;do{K=!0,Q=$.pop();var de=Ue[Q.index],ne=void 0;de instanceof W&&(ne=v("-",de.font),Q.width+ne>ct(M)&&(K=!$.length))}while(!K);P.push(Q.index+1),D=0,M++,wt=Q.index,$=[]}else if(Vt==="break-word"){var re=ct(M);if(D+O.width>re){var le=O.clone();do O.value=O.value.slice(0,-1),O.width=v(O,O.font),D+=O.width;while(O.value&&O.width>re);le.value=le.value.slice(O.value.length),Ue.splice(wt+1,0,new F,le)}P.push(wt+1),D=0,M++}else D+=O.width;wt++,q=O.whitespace}wt!==P[P.length-1]&&P.push(wt);var fe=0,ie=0,me=P.map(function(ke){for(var Ce,Je=fe;(Ce=Ue[Je])&&(Ce.whitespace||!Ce.value);)Je++;for(var Qe=ke,dt=null;Qe>Je&&(Ce=Ue[Qe-1])&&(Ce.whitespace||!(Ce.value||Ce instanceof W));)Ce instanceof T&&(dt=Ce),Qe--;Ce instanceof W&&(Ce.value="-",Ce.width=v("-",Ce.font)),fe=ke;var ot=Ue.slice(Je,Qe).filter(function(Tt){return Tt.value});return dt&&ot.push(dt),ot.width=ot.reduce(function(Tt,Xt){return Tt+Xt.width},0),ot.width>ie&&(ie=ot.width),ot});if(me.hasLineOverflow=!1,mt){var we=mt==="ellipsis"?"":mt;me.forEach(function(ke,Ce){var Je=ct(Ce);if(ke.width>Je){var Qe=new H(we);Qe.font=pt,Qe.width=v(we,fn),Rt(ke,Je,Qe),me.hasLineOverflow=!0}})}var ve=et.overflow()==="ellipsis"?"":et.overflow();if(ve&&wt!==Ue.length){var be=ct(me.length-1),Ee=me[me.length-1],Te=new H(ve);Te.font=pt,Te.width=v(ve,fn),Rt(Ee,be,Te),me.hasOverflow=!0}else me.hasOverflow=!1;return me.font=pt,me.width=ie,me}(Le,this,Xe);return je.height=je.length*Xe.height,je.render=function(Ue){return ae.render(je,Ue)},je.svg=je.render,je.draw=je.render,je}},{key:"font",value:function(V){return arguments.length?(this.props.font=p(V),this):this.props.font||p(ht)}},{key:"overflow",value:function(V){return arguments.length?(this.props.overflow=String(V),this):this.props.overflow}},{key:"overflowLine",value:function(V){return arguments.length?(this.props.lineclamp=String(V),this):this.props.lineclamp}},{key:"valign",value:function(V){return arguments.length?(this.props.valign=V,this):this.props.valign}},{key:"align",value:function(V){if(!arguments.length)return this.props.align;var ae=String(V).toLowerCase();return ae==="left"||ae==="start"?(this.props.align="left",this.props.tAnchor=0):ae==="center"||ae==="middle"?(this.props.align="center",this.props.tAnchor=-.5):ae==="end"||ae==="right"?(this.props.align="right",this.props.tAnchor=-1):ae==="justify"&&(this.props.align=V,this.props.tAnchor=0),this}},{key:"overflowWrap",value:function(V){if(!arguments.length)return this.props.overflowWrap||"normal";var ae=String(V).toLowerCase();return ae==="break-word"?this.props.overflowWrap="break-word":ae!=="normal"&&V!=null||(this.props.overflowWrap=null),this}},{key:"width",value:function(V){return arguments.length?(this.props.width=xt(V),this):this.props.width}},{key:"height",value:function(V){return arguments.length?(this.props.height=xt(V),this):this.props.height}},{key:"x",value:function(V){return arguments.length?(this.props.x=xt(V),this):this.props.x}},{key:"parser",value:function(V){if(!arguments.length)return this.props.parser;if(typeof V=="string"){var ae=z[V]||z[V+"parser"];typeof ae=="function"&&(V=ae)}if(typeof V!="function")throw new Error("Unknown parser: "+V);return this.props.parser=V,this}},{key:"createElement",value:function(V){return arguments.length?(this.props.createElement=V,this):this.props.createElement||z.createElement}},{key:"render",value:function(){var V=Gt(arguments);return typeof V.text=="string"&&(V.text=this.linebreak(V.text)),V.ctx?kt(V.text,this,V.ctx):Pt(V.text,this)}}],X&&Er(U.prototype,X),Object.defineProperty(U,"prototype",{writable:!1}),z}();function jt(z){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},jt(z)}function Jt(z,U){(U==null||U>z.length)&&(U=z.length);for(var X=0,V=new Array(U);X<U;X++)V[X]=z[X];return V}function pn(z,U){for(var X=0;X<U.length;X++){var V=U[X];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,Xe){if(jt(Le)!=="object"||Le===null)return Le;var je=Le[Symbol.toPrimitive];if(je!==void 0){var Ue=je.call(Le,Xe);if(jt(Ue)!=="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),jt(ae)==="symbol"?ae:String(ae)),V)}var ae}var zn=function(z){return typeof z=="function"?z:function(){return z}},mn=function(){function z(V){if(function(Le,Xe){if(!(Le instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,z),this.props={width:function(){return 1/0},height:function(){return 1/0},rotation:0,vAnchor:0,hAnchor:0},V)for(var ae in V)typeof this[ae]=="function"&&this[ae](V[ae]);this.render=this.render.bind(this)}var U,X;return U=z,X=[{key:"anchor",value:function(V){var ae=this.props,Le=ae.hAnchor,Xe=ae.vAnchor,je=ae.width,Ue=ae.height;if(!arguments.length)return[Le*je(0),Xe*Ue(0)];if(typeof V=="string"){var et=this.props;V.toLowerCase().trim().split(/\s+/).forEach(function(pt){pt==="top"&&(et.vAnchor=-0),pt==="middle"&&(et.vAnchor=-.5),pt==="bottom"&&(et.vAnchor=-1),pt==="left"&&(et.hAnchor=-0),pt==="center"&&(et.hAnchor=-.5),pt==="right"&&(et.hAnchor=-1)})}return this}},{key:"width",value:function(V){return arguments.length?(this.props.width=zn(V),this):this.props.width}},{key:"height",value:function(V){return arguments.length?(this.props.height=zn(V),this):this.props.height}},{key:"rotate",value:function(V){return arguments.length?(this.props.rotation=V,this):this.props.rotation}},{key:"createElement",value:function(V){return arguments.length?(this.props.createElement=V,this):this.props.createElement||z.createElement}},{key:"canvas",value:function(V,ae){var Le,Xe=V.getContext?V.getContext("2d"):V;return Xe.save(),Xe.rotate(this.rotate()*Math.PI/180),Xe.translate.apply(Xe,function(je){if(Array.isArray(je))return Jt(je)}(Le=this.anchor())||function(je){if(typeof Symbol<"u"&&je[Symbol.iterator]!=null||je["@@iterator"]!=null)return Array.from(je)}(Le)||function(je,Ue){if(je){if(typeof je=="string")return Jt(je,Ue);var et=Object.prototype.toString.call(je).slice(8,-1);return et==="Object"&&je.constructor&&(et=je.constructor.name),et==="Map"||et==="Set"?Array.from(je):et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Jt(je,Ue):void 0}}(Le)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ae(Xe),Xe.restore(),Xe}},{key:"render",value:function(){var V=Gt(arguments);if(V.d3)return V.d3.attr("transform","rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")"));if(V.ctx)return this.canvas(V.ctx,V.fn);if(V.text){var ae=typeof V.text.render=="function"?V.text.render():V.text;return this.createElement()("g",{transform:"rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")")},ae)}}}],X&&pn(U.prototype,X),Object.defineProperty(U,"prototype",{writable:!1}),z}(),Mn=Object.prototype.hasOwnProperty,Sr={};function Ri(z){return Sr[z]||(Sr[z]=z.replace(/([a-z])([A-Z])/g,function(U,X,V){return X+"-"+V.toLowerCase()})),Sr[z]}function Ut(z,U){if(Array.isArray(U))return U.forEach(function(X){return Ut(z,X)});typeof U=="string"&&(U=document.createTextNode(U)),z.appendChild(U)}function An(z,U){if(typeof document<"u"){var X=typeof z=="string"?document.createElementNS("http://www.w3.org/2000/svg",z):z;if(U&&X.setAttribute)for(var V in U)Mn.call(U,V)&&U[V]!=null&&X.setAttribute(V==="className"?"class":Ri(V),U[V]);for(var ae=arguments.length,Le=new Array(ae>2?ae-2:0),Xe=2;Xe<ae;Xe++)Le[Xe-2]=arguments[Xe];return Le!=null&&Le.length&&Le.forEach(function(je){Ut(X,je)}),X}}gt.createElement=An,gt.textparser=Ae,gt.defaultparser=Ae,gt.htmlparser=function(z){z=String(z||"").trim();for(var U,X,V={weight:null,style:null,sub:!1,sup:!1,href:null,color:null,rel:null,target:null},ae=[],Le=[],Xe=function(yt){for(var ct in V)V[ct]&&(yt[ct]=V[ct]);ae.push(yt)},je=function(yt){var ct=ae.length,mt=Ze[yt];if(ct&&mt){for(var Vt=ct-1;ae[Vt]&&(ae[Vt]instanceof F||_e.test(ae[Vt].value));)Vt--;for(;mt&&ae[Vt]&&ae[Vt]instanceof T;)Vt--,mt--;for(;mt-- >0;)ae.push(new T)}};z.length;){if(U=/^[^<]+/.exec(z))Ae(tt(U[0]),!1).forEach(Xe);else if(!(U=We.exec(z)))if(U=ze.exec(z))Le.length&&(V=Le.pop()),je(U[1]);else if(U=Me.exec(z)){var Ue=U[1];je(Ue),Le.push(V),V=Object.create(V),ye[Ue]&&ye[Ue](V,"");var et=Z(U[2]);Ue==="a"&&(et.href&&(V.href=et.href),et.rel&&(V.rel=et.rel),et.target&&(V.target=et.target)),et.class&&(V.class=V.class?V.class+" "+et.class:et.class),et.style&&(X=/(?:^|\s|;)color\s*:\s*([^;\s"']+)/.exec(et.style))&&X[1]&&(V.color=X[1]),Ue==="br"&&ae.push(new T)}else U=[z.slice(0,1)],Xe(new H(U[0]));z=z.slice(U[0].length)}for(var pt=ae[ae.length-1];pt instanceof T;)ae.pop(),pt=ae[ae.length-1];return ae},gt.latexparser=function(z){z=String(z||"").trim();var U=[0];z=z.replace(/\\verb,(.*?),/,function(Ft,wt){return U.push(wt),"\\verb,"+(U.length-1)+","}).replace(/\\\\\n/g,function(){return"\\\\"}).replace(Oe,function(Ft,wt,M){return M.charAt(wt-1)==="\\"?Ft:Ie[Ft]}).replace(/\n\s+/g,function(Ft){return/\n/.test(Ft.slice(1))?"\\par ":Ft}).replace(/\\symbol\{(\d+)\}/,function(Ft,wt,M,D){return D.charAt(M-1)==="\\"?Ft:String.fromCharCode(1*wt)}).replace(/(^|[^\\])(\^|_)(\d|[^{]\S*)/g,function(Ft,wt,M,D){return wt+M+"{"+D+"}"}).replace(/\\verb,(.*?),/,function(Ft,wt){return"\\verb,".concat(U[+wt],",")});for(var X,V={weight:null,italic:null,variant:null,sub:!1,sup:!1,href:null},ae=[],Le=[],Xe=function(Ft){for(var wt in V)V[wt]&&(Ft[wt]=V[wt]);return ae.push(Ft),Ft},je=function(){Le.push(V),V=Object.create(V)},Ue=function(){if(!Le.length)throw new Error("Unexpected }");V=Le.pop()},et={tokens:ae,open_context:je,close_context:Ue,add_token:Xe};z.length;){if(X=ge.exec(z))Ae(X[0],!1).forEach(Xe);else if(X=pe.exec(z))Xe(new H(X[1]));else if(!(X=oe.exec(z))){if(X=/^\{/.exec(z))je();else if(X=/^\}/.exec(z))Ue();else if(!(X=/^\$/.exec(z)))if(X=/^\\verb,([^,]+),/.exec(z))Xe(new H(X[1]));else if(X=se.exec(z)){var pt=X[1].slice(1)||X[1],yt=!!X[2];if(/^(La)?TeX$/i.test(pt)){je(),V.family="serif";var ct=void 0;pt==="LaTeX"&&((ct=Xe(new H("L"))).tracking=-.25,(ct=Xe(new H("A"))).size=.7,ct.baseline=.3,ct.tracking=-.1),(ct=Xe(new H("T"))).tracking=-.17,(ct=Xe(new H("E"))).baseline=-.22,ct.tracking=-.13,ct=Xe(new H("X")),Ue()}else if(pt in te)Xe(new H(te[pt])),yt&&je();else if(pt in Fe){var mt=[],Vt=Fe[pt].length-1,fn=void 0;if(Vt){for(yt=!1,z=z.slice(X[0].length-1);Vt--;){if(!(fn=/^\{([^}]+)\}/.exec(z)))throw new Error(pt+" is missing an argument");mt.push(fn[1]),z=z.slice(fn[0].length)}X[0]=/^\{/.exec(z)?"{":"",yt=!!X[0]}yt&&je(),Fe[pt].apply(et,[V].concat(mt))}else console.warn("unknown latex command",pt),Xe(new H(X[1])),yt&&je()}else X=[z.slice(0,1)],Xe(new H(X[0]))}z=z.slice(X[0].length)}return ae},gt.measureText=function(z,U,X){return v(z,p(U),X)},gt.Token=H,gt.Break=F,gt.LineBreak=T,gt.SoftHyphen=W,gt.Rotator=mn,mn.createElement=An;const On=gt;return r.default})())})(lD);var KZ=lD.exports;const Bk=Eb(KZ);function JZ(e,t){const n=Ks(e),{fontSize:r,font:i,padding:s=0}=e.properties.style||{};if(n.width===n.height&&n.width===0)return;const o=new Bk({font:`${r}px/${r}px ${i}`.replace(/(px)+/g,"px"),width:n.width-s*2,height:n.height-s*2,align:"left",valign:"top",x:0,overflow:"ellipsis",parser:"html",createElement:Bk.createElement}).linebreak(e.properties.content.replaceAll(`
`,"<br>")).render();o.setAttribute("transform",`translate(${s}, ${s})`),t.appendChild(o)}const jk=20;class eQ extends oD{constructor(t,n={}){super(t,`
    <div class="annotation-text-handle">
    <span class="handle line-handle top" data-handle-id="0"></span>
    <span class="handle line-handle bottom" data-handle-id="1"></span>
    <span class="handle line-handle left" data-handle-id="2"></span>
    <span class="handle line-handle right" data-handle-id="3"></span>
    <span class="handle top right point-handle top-right" data-handle-id="4"></span>
    <span class="handle left top point-handle top-left" data-handle-id="5"></span>
    <span class="handle bottom right point-handle bottom-right" data-handle-id="6"></span>
    <span class="handle left bottom left-handle point-handle bottom-left" data-handle-id="7"></span>
    <textarea wrap="off"></textarea>
    </div>
  `),$e(this,"textArea"),$e(this,"handleSize"),$e(this,"rect",{x:0,y:0,width:0,height:0}),$e(this,"annotation",{...c0}),$e(this,"startX",0),$e(this,"startY",0),$e(this,"handles",[]),$e(this,"draggedHandle",En),$e(this,"isFocused",!1),$e(this,"placeholder","Type your text here..."),$e(this,"_onFocus",()=>{this.textArea.value===this.placeholder&&(this.textArea.value=""),this.isFocused=!0}),$e(this,"_onBlur",()=>{this.isFocused=!1}),$e(this,"startDrawing",(i,s,o=aD(i,s,0,0,"",gl))=>{this.add(o);const a=this.ogma.view.graphToScreenCoordinates({x:i,y:s});this.select(o.id),this.startDragging(this.getById(o.id),a.x,a.y),this.draggedHandle=6}),$e(this,"cancelDrawing",()=>{this.isDragging&&(this.remove(this.annotation.id),this.annotation={...c0},this.draggedHandle=En,this.isDragging=!1,this.emit(jd,this.annotation))}),$e(this,"startDragging",(i,s,o)=>{this.annotation=i;const a=Vo(this.annotation),l=Ks(this.annotation);this.rect.x=a.x,this.rect.y=a.y,this.rect.width=l.width,this.rect.height=l.height,this.startX=s,this.startY=o,this.disableDragging(),this.textArea.classList.add("noevents"),this.textArea.setAttribute("disabled","disabled"),this.emit(Ab,this.annotation),this.isDragging=!0}),$e(this,"onHandleMouseDown",i=>{const s=this.getById(this.selectedId)||this.getById(this.hoveredId);s&&(this.selectedId!==s.id&&this.select(this.hoveredId),this.startDragging(s,i.clientX,i.clientY),this.draggedHandle=nD(i.target))}),$e(this,"onMouseMove",i=>{requestAnimationFrame(()=>this._onMouseMove(i))}),$e(this,"_onMouseMove",i=>{if(!this.isDragging)return;i.stopPropagation(),i.preventDefault();const s=this.handles[this.draggedHandle],o=s.classList.contains("top"),a=s.classList.contains("left"),l=s.classList.contains("right"),c=s.classList.contains("bottom"),d=s.classList.contains("line-handle"),u=this.ogma.view.getZoom(),h=(i.clientX-this.startX)/u,g=(i.clientY-this.startY)/u,p=a||d?this.rect.x+h:this.rect.x,m=o||d?this.rect.y+g:this.rect.y,_=Math.max(this.rect.width+h*(d?0:a?-1:l?1:0),jk),y=Math.max(this.rect.height+g*(d?0:o?-1:c?1:0),jk);GZ(this.annotation,p,m,_,y),this.emit(Sb,this.annotation,"text"),this.refreshEditor(),this.layer.refresh()}),$e(this,"onMouseUp",()=>{!this.isDragging||this.draggedHandle===En||(this.restoreDragging(),this.textArea.classList.remove("noevents"),this.textArea.removeAttribute("disabled"),this.emit(jd,this.annotation),this.isDragging=!1,this.draggedHandle=En)}),$e(this,"onViewChanged",()=>{const i=Math.max(2,this.handleSize/this.ogma.view.getZoom());document.documentElement.style.setProperty("--handle-width",`${i}px`)}),$e(this,"_onInput",()=>{const i=this.getById(this.selectedId);i&&(this.textArea.value=this.textArea.value.replace(/ +(?= )/g,""),this.textArea.focus(),i.properties.content=this.textArea.value,this.emit(Gy,i),this.layer.refresh())}),this.handleSize=Ok.handleSize,this.placeholder=Ok.placeholder;const r=this.textArea=this.editor.element.querySelector("textarea");r.addEventListener("input",this._onInput),r.addEventListener("focus",this._onFocus),r.addEventListener("blur",this._onBlur),r.spellcheck=!1,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".annotation-text-handle > .handle")),this.handles.forEach(i=>i.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove,!0),t.events.on(["viewChanged","zoom"],this.onViewChanged)}_canRemove(){return!this.isFocused}detect({x:t,y:n},r=0){return this.elements.find(i=>{const{x:s,y:o}=Vo(i),{width:a,height:l}=Ks(i);return s-r<t&&o-r<n&&s+a+r>t&&o+l+r>n})}draw(t){t.innerHTML="";const n="";this.elements.forEach((i,s)=>{const o=`class${s}`,a=Ks(i),l=Vo(i),c=i.id,{color:d,fontSize:u,font:h,strokeColor:g,strokeWidth:p,strokeType:m,background:_}=i.properties.style||gl;if(c===this.selectedId||this.selectedId===-1&&c===this.hoveredId)return;const y=Zc("g");y.setAttribute("fill",`${d}`),y.setAttribute("font-size",`${u}`),y.setAttribute("font-family",`${h}`);const f=Zc("rect");let x=!1;m&&m!=="none"&&(x=!0,f.setAttribute("stroke",g||"black"),f.setAttribute("stroke-width",`${p}`),m==="dashed"&&f.setAttribute("stroke-dasharray","5,5")),(_&&_.length||x)&&(x=!0,f.setAttribute("fill",_||"transparent")),x&&(f.setAttribute("width",`${a.width}`),f.setAttribute("height",`${a.height}`)),y.appendChild(f),JZ(i,y),y.setAttribute("transform",`translate(${l.x},${l.y})`),y.classList.add(o),y.setAttribute("data-annotation",`${i.id}`),y.setAttribute("data-annotation-type","text"),t.appendChild(y)});const r=Zc("style");r.innerHTML=n,t.firstChild&&t.insertBefore(r,t.firstChild)}getDefaultOptions(){return c0}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.getById(this.selectedId)||this.getById(this.hoveredId),n=Ks(t),r=this.ogma.view.graphToScreenCoordinates(Vo(t)),i=this.ogma.view.getZoom(),s=Math.min(i,this.maxHandleScale),{font:o,fontSize:a,color:l,background:c,padding:d=0}=t.properties.style||gl,u=a;this.textArea.value=t.properties.content,this.editor.element.style.transform=`translate(${r.x}px, ${r.y}px)translate(-50%, -50%)translate(${n.width/2*i}px, ${n.height/2*i}px)scale(${s})`,this.editor.element.style.width=`${n.width}px`,this.editor.element.style.height=`${n.height}px`,this.textArea.style.font=`${u} ${o}`,this.textArea.style.fontFamily=o||"sans-serif",this.textArea.style.fontSize=`${u}px`,this.textArea.style.padding=`${d}px`,this.textArea.style.lineHeight=`${u}px`,this.textArea.style.boxSizing="border-box",this.textArea.style.color=l||"black",this.textArea.style.background=c||"transparent",this.textArea.placeholder=this.placeholder,this.layer.refresh()}select(t){super.select(t),this.textArea.focus()}destroy(){super.destroy(),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove,!0),this.ogma.events.off(this.onViewChanged)}}class tQ{constructor(){$e(this,"links",{}),$e(this,"linksByTargetId",{}),$e(this,"linksByArrowId",{})}add(t,n,r,i,s){const o=Sm(),a=t.id,l={id:o,arrow:a,target:r,targetType:i,connectionPoint:s,side:n};return this.links[o]=l,this.linksByTargetId[r]||(this.linksByTargetId[r]=[]),this.linksByTargetId[r].push(o),this.linksByArrowId[a]||(this.linksByArrowId[a]={}),this.linksByArrowId[a][n]=o,t.properties.link=t.properties.link||{},t.properties.link[n]={id:r,side:n,type:i,magnet:s},this}arrowIsLinked(t,n){var r;return!!((r=this.linksByArrowId[t])!=null&&r[n])}remove(t,n){var r,i;const s=t.id,o=(r=this.linksByArrowId[s])==null?void 0:r[n];if((i=t.properties.link)==null||delete i[n],!o)return this;const a=this.links[o];delete this.links[o];const l=this.linksByTargetId[a.target];for(let c=0;c<l.length;c++)if(l[c]===o){l.splice(c,1);break}return delete this.linksByArrowId[s][n],this}getArrowLink(t,n){var r;const i=(r=this.linksByArrowId[t])==null?void 0:r[n];return i?this.links[i]:null}getTargetLinks(t){var n;return((n=this.linksByTargetId[t])==null?void 0:n.map(r=>this.links[r]))??[]}}const ri=e=>e.properties.type==="arrow",is=e=>e.properties.type==="text",Uk=e=>e.type==="FeatureCollection",nQ={magnetColor:"#3e8",detectMargin:20,magnetHandleRadius:5,magnetRadius:10,textPlaceholder:"Type here",arrowHandleSize:3.5,textHandleSize:3.5,minArrowHeight:20,maxArrowHeight:30},$k=["start","end"],Vk=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:0,y:.5},{x:1,y:.5},{x:0,y:1},{x:.5,y:1},{x:1,y:1}];class rQ extends sD{constructor(t,n={}){super(),$e(this,"arrows"),$e(this,"texts"),$e(this,"links",new tQ),$e(this,"layer"),$e(this,"annotations"),$e(this,"ogma"),$e(this,"options"),$e(this,"selected",null),$e(this,"updateTimeout",0),$e(this,"hoveredNode",null),$e(this,"dragged",null),$e(this,"textToMagnet"),$e(this,"activeLinks",[]),$e(this,"_render",r=>{if(!this.dragged||this.textToMagnet===void 0)return;r.beginPath(),r.fillStyle="green";const i=this.ogma.view.getZoom();Vk.forEach(s=>{if(!this.textToMagnet)return;const o=Ks(this.textToMagnet),a=Vo(this.textToMagnet),{x:l,y:c}=new li(s.x,s.y).mul({x:o.width,y:o.height}).add(a);r.moveTo(l,c),r.arc(l,c,this.options.magnetHandleRadius/i,0,Math.PI*2)}),r.fill(),r.closePath()}),$e(this,"_onFeatureDrag",(r,i)=>{const s=i;if(ri(r)&&s==="line")["start","end"].find(o=>{const a=o==="start"?Qc(r):mp(r);return this._snapToText(r,s,a)||this._findAndSnapToNode(r,o,a)});else if(ri(r)&&s!=="line"){const o=s==="start"?Qc(r):mp(r);this._snapToText(r,s,o)||this._findAndSnapToNode(r,s,o)}else is(r)&&(this.activeLinks.forEach(({arrow:o,side:a,connectionPoint:l})=>{const c=this.getAnnotation(o),d=Ks(r),u=Vo(r),h=new li(l.x,l.y).mul({x:d.width,y:d.height}).add(u);c.geometry.coordinates[a==="start"?0:1]=[h.x,h.y]}),this.activeLinks.length&&this.arrows.refreshLayer());this.layer.refresh()}),$e(this,"_onFeatureDragEnd",r=>{this.dragged!==null&&ri(r)&&Qc(this.dragged)&&$k.forEach(i=>{this.links.getArrowLink(r.id,i)&&this.emit(YZ,{arrow:r,link:this.links.getArrowLink(r.id,i)})}),(is(r)||ri(r))&&this.onUpdate(r),this.dragged=null,this.activeLinks=[],this.textToMagnet=void 0,this.annotations.forEach(i=>i.enableDetection()),this.layer.refresh()}),$e(this,"_onFeatureDragStart",r=>{this.textToMagnet=void 0,ri(r)?this.dragged=r:is(r)&&this.activeLinks.push(...this.links.getTargetLinks(r.id)),this.annotations.forEach(i=>{const s=i.getSelectedFeature();s&&s!==r&&i.unhover().unselect(),i.disableDetection()})}),$e(this,"_onNodesDragStart",()=>{this.arrows.unhover().unselect(),this.texts.unhover().unselect()}),$e(this,"_onNodesDrag",r=>{const{dx:i,dy:s}=r;this._moveNodes(r.nodes,i,s)}),$e(this,"_onLayoutEnd",r=>{r.ids.forEach((i,s)=>{this.links.getTargetLinks(i).forEach(o=>{const a=this.getAnnotation(o.arrow),l=o.side,c=a0(a,l==="start"?"end":"start"),d=r.positions.current[s],u=this.ogma.getNode(i).getAttribute("radius"),h=l0(c,d,+u);wh(a,l,h.x,h.y)})}),this.arrows.refreshLayer(),this.texts.refreshLayer()}),$e(this,"_onAdded",r=>{this.emit(Vy,r)}),$e(this,"_onRemoved",r=>{this.emit($y,r)}),$e(this,"_onUnselect",r=>{this.selected=null,this.emit(Uy,r)}),$e(this,"_onSelect",r=>{this.selected!==r&&(this.selected=r,this.emit(jy,this.selected))}),$e(this,"onUpdate",r=>{cancelAnimationFrame(this.updateTimeout),this.updateTimeout=requestAnimationFrame(()=>this._onUpdate(r))}),$e(this,"_onUpdate",r=>{this.emit(Gy,r)}),this.options=this.setOptions({...nQ,...n}),this.ogma=t,this.arrows=new QZ(t,this.options),this.texts=new eQ(t,this.options),this.annotations=[this.arrows,this.texts],this.annotations.forEach(r=>{r.on(Ab,this._onFeatureDragStart).on(Sb,this._onFeatureDrag).on(jd,this._onFeatureDragEnd).on(Gy,this.onUpdate).on(Uy,this._onUnselect).on(jy,this._onSelect).on(Vy,this._onAdded).on($y,this._onRemoved)}),this.ogma.events.on("nodesDragStart",this._onNodesDragStart).on("nodesDragProgress",this._onNodesDrag).on("layoutEnd",this._onLayoutEnd),this.layer=t.layers.addCanvasLayer(this._render),this.layer.moveToBottom()}_moveNodes(t,n,r){t.forEach(i=>{const s=this.links.getTargetLinks(i.getId()),o=i.getPosition();s.forEach(a=>{const l=this.getAnnotation(a.arrow),c=a.side,d=a0(l,c==="start"?"end":"start");let u=o;const h=+i.getAttribute("radius"),g=1e-6;(a.connectionPoint.x-(o.x-n)>g||a.connectionPoint.y-(o.y-r)>g)&&(u=l0(d,o,h)),wh(l,c,u.x,u.y)})}),this.arrows.refreshLayer()}_snapToText(t,n,r){const i=this.texts.detect(r,this.options.detectMargin);if(this.links.remove(t,n),!i)return!1;this.textToMagnet=i;const s=this.findMagnetPoint(Vk,i,r);return s?(wh(t,n,s.point.x,s.point.y),this.links.add(t,n,i.id,"text",s.magnet),!0):!1}_findAndSnapToNode(t,n,r){const i=this.ogma.view.graphToScreenCoordinates(r),s=this.ogma.view.getElementAt(i);this.links.remove(t,n),s&&s.isNode?(this.hoveredNode=s,this.hoveredNode.setSelected(!0),this._snapToNode(t,n,s,i)):(this.hoveredNode&&this.hoveredNode.setSelected(!1),this.hoveredNode=null)}_snapToNode(t,n,r,i){const s=r.getPositionOnScreen(),o=+r.getAttribute("radius"),a=o*this.ogma.view.getZoom(),l=i.x-s.x,c=i.y-s.y,d=Math.sqrt(l*l+c*c),u=r.getPosition();if(d<a+this.options.detectMargin){let h=u;if(d>a/2){const g=a0(t,n==="end"?"start":"end");h=l0(g,h,o)}wh(t,n,h.x,h.y),this.links.add(t,n,r.getId(),"node",h)}}getSelected(){return this.selected}findMagnetPoint(t,n,r){let i;for(const s of t){const o=Ks(n),a=Vo(n),l=new li(s.x,s.y).mul({x:o.width,y:o.height}).add(a),c=l.sub(r).length(),d=this.options.magnetRadius*this.ogma.view.getZoom();if(c<Math.max(d,this.options.magnetHandleRadius)){i={point:l,magnet:s};break}}return i}setOptions(t={}){return this.options={...this.options||{},...t},this.options}select(t){const n=this.getAnnotations().features.find(r=>r.id===t);return n?(ri(n)?this.arrows.select(n.id):is(n)&&this.texts.select(n.id),this):this}unselect(){return this.selected?(ri(this.selected)?this.arrows.unselect():is(this.selected)&&this.texts.unselect(),this):this}add(t){if(Uk(t))return t.features.forEach(n=>this.add(n)),this;switch(t.properties.type){case"text":this.texts.add(t);break;default:this.arrows.add(t),this.loadLink(t);break}return this}remove(t){return Uk(t)?(t.features.forEach(n=>this.remove(n)),this):(ri(t)?(this.links.remove(t,"start"),this.links.remove(t,"end"),this.arrows.remove(t.id)):this.texts.remove(t.id),this)}loadLink(t){if(t.properties.link)for(const n of $k){const r=t.properties.link[n];if(r)if(this.getAnnotation(r.id))this.links.add(t,n,r.id,r.type,r.magnet);else{if(!this.ogma.getNode(r.id))continue;this.links.add(t,n,r.id,r.type,r.magnet)}}}startArrow(t,n,r){this.cancelDrawing(),this.arrows.startDrawing(t,n,r)}startText(t,n,r){this.cancelDrawing(),this.texts.startDrawing(t,n,r)}cancelDrawing(){this.annotations.forEach(t=>t.cancelDrawing()),this.emit(XZ)}updateStyle(t,n){const r=this.getAnnotations().features.find(i=>i.id===t);return r?(ri(r)?this.arrows.updateStyle(r,n):is(r)&&this.texts.updateStyle(r,n),this.onUpdate(r),this):this}getAnnotations(){const t={type:"FeatureCollection",features:[]};return this.annotations.forEach(n=>{t.features=[...t.features,...n.getElements()]}),t}getAnnotation(t){return this.getAnnotations().features.find(n=>n.id===t)}destroy(){this.annotations.forEach(t=>t.destroy()),this.layer.destroy()}}const Hy=[8,10,12,14,16,24,32,48,64,72],Gk="none",cD="#333333",d0=["#FFFFFF","#F44E3B","#FE9200","#FCDC00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#1E88E5","#333333","#808080","#cccccc"],iQ=["Roboto","Helvetica Neue","Helvetica","Arial","sans-serif","Georgia, serif","Menlo","Monaco","Consolas","Courier New","monospace"].sort((e,t)=>e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())),dD={head:"arrow",strokeColor:cD,strokeWidth:5},sQ=.25,uD={font:"Roboto",fontSize:Hy[2].toString(),padding:Hy[2]*sQ,color:cD,strokeType:Gk,background:Gk};function oQ(e){return e.reduce((t,n)=>t+n,0)/e.length}function Hk(e,t=0,n=1){return t+(n-t)*e}function Wk(e,t=0,n=1){return(e-t)/(n-t)}const hD=L.createContext(void 0),gD=()=>L.useContext(hD),aQ=(e,t)=>{switch(t.type){case"add":return{...e,features:[...e.features,t.payload]};case"remove":return{...e,features:e.features.filter(n=>n.id!==t.payload.id)};case"update":return{...e,features:e.features.map(n=>n.id===t.payload.id?t.payload:n)};default:return e}},lQ=({children:e})=>{const t=sr(),[n,r]=L.useReducer(aQ,{type:"FeatureCollection",features:[]}),[i,s]=L.useState(null),[o,a]=L.useState(dD),[l,c]=L.useState(uD),[d,u]=L.useState(),[h,g]=L.useState(1),[p,m]=L.useState(1);return L.useEffect(()=>{if(!t)return;const _=new rQ(t,{minArrowHeight:1}),y=oQ(t.getNodes().getAttribute("radius"))/5,f=h;return a({...o,strokeWidth:(o.strokeWidth||1)*f}),g(f),m(y),_.on("select",x=>{ri(x)?a({...x.properties.style||{}}):is(x)&&c({...x.properties.style||{}}),s(x)}).on("unselect",()=>{s(null)}),u(_),()=>{d==null||d.destroy()}},[t]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="arrow"&&d.updateStyle(i.id,o)},[d,o]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="text"&&d.updateStyle(i.id,l)},[d,l]),at.jsx(hD.Provider,{value:{annotations:n,updateAnnotations:r,currentAnnotation:i,setCurrentAnnotation:s,textStyle:l,setTextStyle:c,arrowStyle:o,setArrowStyle:a,arrowWidthFactor:h,setArrowWidthFactor:g,textSizeFactor:p,setTextSizeFactor:m,editor:d,setEditor:u},children:e})};function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function cQ(e){if(Array.isArray(e))return e}function dQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Wy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pD(e,t){if(e){if(typeof e=="string")return Wy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wy(e,t)}}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Re(e,t){return cQ(e)||dQ(e,t)||pD(e,t)||uQ()}function hQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function De(e,t){if(e==null)return{};var n=hQ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var gQ={},Qo={},mD={};function pQ(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var mQ=pQ,fD={};(function(e){e.__esModule=!0,e.default=void 0;function t(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,l,c){return l&&t(a.prototype,l),c&&t(a,c),a}var r=typeof process<"u"&&gQ&&!0,i=function(l){return Object.prototype.toString.call(l)==="[object String]"},s=function(){function a(c){var d=c===void 0?{}:c,u=d.name,h=u===void 0?"stylesheet":u,g=d.optimizeForSpeed,p=g===void 0?r:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;o(i(h),"`name` must be a string"),this._name=h,this._deletedRulePlaceholder="#"+h+"-deleted-rule____{}",o(typeof p=="boolean","`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=p,this._isBrowser=_,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var y=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=y?y.getAttribute("content"):null}var l=a.prototype;return l.setOptimizeForSpeed=function(d){o(typeof d=="boolean","`setOptimizeForSpeed` accepts a boolean"),o(this._rulesCount===0,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=d,this.inject()},l.isOptimizeForSpeed=function(){return this._optimizeForSpeed},l.inject=function(){var d=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(h,g){return typeof g=="number"?d._serverSheet.cssRules[g]={cssText:h}:d._serverSheet.cssRules.push({cssText:h}),g},deleteRule:function(h){d._serverSheet.cssRules[h]=null}}},l.getSheetForTag=function(d){if(d.sheet)return d.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===d)return document.styleSheets[u]},l.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},l.insertRule=function(d,u){if(o(i(d),"`insertRule` accepts only strings"),!this._isBrowser)return typeof u!="number"&&(u=this._serverSheet.cssRules.length),this._serverSheet.insertRule(d,u),this._rulesCount++;if(this._optimizeForSpeed){var h=this.getSheet();typeof u!="number"&&(u=h.cssRules.length);try{h.insertRule(d,u)}catch{return r||console.warn(`StyleSheet: illegal rule: 

`+d+`

See https://stackoverflow.com/q/20007992 for more info`),-1}}else{var g=this._tags[u];this._tags.push(this.makeStyleTag(this._name,d,g))}return this._rulesCount++},l.replaceRule=function(d,u){if(this._optimizeForSpeed||!this._isBrowser){var h=this._isBrowser?this.getSheet():this._serverSheet;if(u.trim()||(u=this._deletedRulePlaceholder),!h.cssRules[d])return d;h.deleteRule(d);try{h.insertRule(u,d)}catch{r||console.warn(`StyleSheet: illegal rule: 

`+u+`

See https://stackoverflow.com/q/20007992 for more info`),h.insertRule(this._deletedRulePlaceholder,d)}}else{var g=this._tags[d];o(g,"old rule at index `"+d+"` not found"),g.textContent=u}return d},l.deleteRule=function(d){if(!this._isBrowser){this._serverSheet.deleteRule(d);return}if(this._optimizeForSpeed)this.replaceRule(d,"");else{var u=this._tags[d];o(u,"rule at index `"+d+"` not found"),u.parentNode.removeChild(u),this._tags[d]=null}},l.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(d){return d&&d.parentNode.removeChild(d)}),this._tags=[]):this._serverSheet.cssRules=[]},l.cssRules=function(){var d=this;return this._isBrowser?this._tags.reduce(function(u,h){return h?u=u.concat(Array.prototype.map.call(d.getSheetForTag(h).cssRules,function(g){return g.cssText===d._deletedRulePlaceholder?null:g})):u.push(null),u},[]):this._serverSheet.cssRules},l.makeStyleTag=function(d,u,h){u&&o(i(u),"makeStyleTag acceps only strings as second parameter");var g=document.createElement("style");this._nonce&&g.setAttribute("nonce",this._nonce),g.type="text/css",g.setAttribute("data-"+d,""),u&&g.appendChild(document.createTextNode(u));var p=document.head||document.getElementsByTagName("head")[0];return h?p.insertBefore(g,h):p.appendChild(g),g},n(a,[{key:"length",get:function(){return this._rulesCount}}]),a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheet: "+l+".")}})(fD);(function(e){e.__esModule=!0,e.default=void 0;var t=r(mQ),n=r(fD);function r(a){return a&&a.__esModule?a:{default:a}}var i=function(l){return l.replace(/\/style/gi,"\\/style")},s=function(){function a(c){var d=c===void 0?{}:c,u=d.styleSheet,h=u===void 0?null:u,g=d.optimizeForSpeed,p=g===void 0?!1:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;this._sheet=h||new n.default({name:"styled-jsx",optimizeForSpeed:p}),this._sheet.inject(),h&&typeof p=="boolean"&&(this._sheet.setOptimizeForSpeed(p),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=_,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var l=a.prototype;return l.add=function(d){var u=this;this._optimizeForSpeed===void 0&&(this._optimizeForSpeed=Array.isArray(d.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(_,y){return _[y]=0,_},{}));var h=this.getIdAndRules(d),g=h.styleId,p=h.rules;if(g in this._instancesCounts){this._instancesCounts[g]+=1;return}var m=p.map(function(_){return u._sheet.insertRule(_)}).filter(function(_){return _!==-1});this._indices[g]=m,this._instancesCounts[g]=1},l.remove=function(d){var u=this,h=this.getIdAndRules(d),g=h.styleId;if(o(g in this._instancesCounts,"styleId: `"+g+"` not found"),this._instancesCounts[g]-=1,this._instancesCounts[g]<1){var p=this._fromServer&&this._fromServer[g];p?(p.parentNode.removeChild(p),delete this._fromServer[g]):(this._indices[g].forEach(function(m){return u._sheet.deleteRule(m)}),delete this._indices[g]),delete this._instancesCounts[g]}},l.update=function(d,u){this.add(u),this.remove(d)},l.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},l.cssRules=function(){var d=this,u=this._fromServer?Object.keys(this._fromServer).map(function(g){return[g,d._fromServer[g]]}):[],h=this._sheet.cssRules();return u.concat(Object.keys(this._indices).map(function(g){return[g,d._indices[g].map(function(p){return h[p].cssText}).join(d._optimizeForSpeed?"":`
`)]}).filter(function(g){return!!g[1]}))},l.createComputeId=function(){var d={};return function(u,h){if(!h)return"jsx-"+u;var g=String(h),p=u+g;return d[p]||(d[p]="jsx-"+(0,t.default)(u+"-"+g)),d[p]}},l.createComputeSelector=function(d){d===void 0&&(d=/__jsx-style-dynamic-selector/g);var u={};return function(h,g){this._isBrowser||(g=i(g));var p=h+g;return u[p]||(u[p]=g.replace(d,h)),u[p]}},l.getIdAndRules=function(d){var u=this,h=d.children,g=d.dynamic,p=d.id;if(g){var m=this.computeId(p,g);return{styleId:m,rules:Array.isArray(h)?h.map(function(_){return u.computeSelector(m,_)}):[this.computeSelector(m,h)]}}return{styleId:this.computeId(p),rules:Array.isArray(h)?h:[h]}},l.selectFromServer=function(){var d=Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]'));return d.reduce(function(u,h){var g=h.id.slice(2);return u[g]=h,u},{})},a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheetRegistry: "+l+".")}})(mD);(function(e){e.__esModule=!0,e.default=s,e.flush=o;var t=E,n=r(mD);function r(a){return a&&a.__esModule?a:{default:a}}var i=new n.default;function s(a){return typeof window>"u"?(i.add(a),null):((0,t.useLayoutEffect)(function(){return i.add(a),function(){i.remove(a)}},[a.id,String(a.dynamic)]),null)}s.dynamic=function(a){return a.map(function(l){var c=l[0],d=l[1];return i.computeId(c,d)}).join(" ")};function o(){var a=i.cssRules();return i.flush(),a}})(Qo);var I=Qo.default||Qo;I.flush=Qo.flush;var _p={};(function(e){e.__esModule=!0,e.default=i,e.flushToHTML=s;var t=r(E),n=Qo.default||Qo;n.flush=Qo.flush;function r(o){return o&&o.__esModule?o:{default:o}}function i(o){return o===void 0&&(o={}),(0,n.flush)().map(function(a){var l=a[0],c=a[1];return t.default.createElement("style",{id:"__"+l,key:"__"+l,nonce:o.nonce?o.nonce:void 0,dangerouslySetInnerHTML:{__html:c}})})}function s(o){return o===void 0&&(o={}),(0,n.flush)().reduce(function(a,l){var c=l[0],d=l[1];return a+='<style id="__'+c+'"'+(o.nonce?' nonce="'+o.nonce+'"':"")+">"+d+"</style>",a},"")}})(_p);var _D=_p.default||_p;_D.flushToHTML=_p.flushToHTML;function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}var yD={sans:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace"},yp={xs:{min:"0",max:"650px"},sm:{min:"650px",max:"900px"},md:{min:"900px",max:"1280px"},lg:{min:"1280px",max:"1920px"},xl:{min:"1920px",max:"10000px"}},xD={gap:"16pt",gapNegative:"-16pt",gapHalf:"8pt",gapHalfNegative:"-8pt",gapQuarter:"4pt",gapQuarterNegative:"-4pt",pageMargin:"16pt",pageWidth:"750pt",pageWidthWithMargin:"782pt",breakpointMobile:yp.xs.max,breakpointTablet:yp.sm.max,radius:"5px",unit:"16px"},fQ={accents_1:"#fafafa",accents_2:"#eaeaea",accents_3:"#999",accents_4:"#888",accents_5:"#666",accents_6:"#444",accents_7:"#333",accents_8:"#111",background:"#fff",foreground:"#000",selection:"#79ffe1",secondary:"#666",code:"#f81ce5",border:"#eaeaea",error:"#e00",errorLight:"#ff1a1a",errorLighter:"#f7d4d6",errorDark:"#c50000",success:"#0070f3",successLight:"#3291ff",successLighter:"#d3e5ff",successDark:"#0761d1",warning:"#f5a623",warningLight:"#f7b955",warningLighter:"#ffefcf",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#0070f3"},_Q={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.02)",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 5px 10px rgba(0, 0, 0, 0.12)",shadowMedium:"0 8px 30px rgba(0, 0, 0, 0.12)",shadowLarge:"0 30px 60px rgba(0, 0, 0, 0.12)",portalOpacity:.25},yQ=yD,xQ=yp,vQ=xD,kb={type:"light",font:yQ,layout:vQ,palette:fQ,breakpoints:xQ,expressiveness:_Q},bQ={accents_1:"#111",accents_2:"#333",accents_3:"#444",accents_4:"#666",accents_5:"#888",accents_6:"#999",accents_7:"#eaeaea",accents_8:"#fafafa",background:"#000",foreground:"#fff",selection:"#f81ce5",secondary:"#888",code:"#79ffe1",border:"#333",error:"#e00",errorLighter:"#f7d4d6",errorLight:"#ff1a1a",errorDark:"#c50000",success:"#0070f3",successLighter:"#d3e5ff",successLight:"#3291ff",successDark:"#0761d1",warning:"#f5a623",warningLighter:"#ffefcf",warningLight:"#f7b955",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#3291ff"},wQ={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 0 0 1px #333",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 0 0 1px #333",shadowMedium:"0 0 0 1px #333",shadowLarge:"0 0 0 1px #333",portalOpacity:.75},EQ=yD,SQ=yp,AQ=xD,vD={type:"dark",font:EQ,layout:AQ,palette:bQ,breakpoints:SQ,expressiveness:wQ},Eh=function(t){return t&&qy(t)==="object"},kQ=function e(t,n){if(!Eh(n)||!Eh(t))return t;for(var r=Object.keys(t),i={},s=0,o=r;s<o.length;s++){var a=o[s],l=t[a],c=n[a];Array.isArray(l)&&Array.isArray(c)?i[a]=c.concat(l):Eh(l)&&Eh(c)?i[a]=e(l,xe({},c)):c?i[a]=c:i[a]=l}return i},bD=function(){return[kb,vD]},CQ=function(){return kb},Am=function(t){if(!t)return!1;var n=bD(),r=n.find(function(i){return i.type===t});return!r},TQ=function(t){if(!t)return!1;var n=typeof t=="string",r=n?t:t.type;return!Am(r)},LQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return!!t.find(function(n){return Am(n.type)})},Cb=function(t,n){if(!Am(n.type))throw new Error("Duplicate or unavailable theme type");return kQ(t,n)},NQ=function(t){return Cb(vD,t)},IQ=function(t){return Cb(kb,t)},MQ={isPresetTheme:TQ,isAvailableThemeType:Am,hasUserCustomTheme:LQ,getPresets:bD,getPresetStaticTheme:CQ,create:Cb,createFromDark:NQ,createFromLight:IQ},PQ=MQ.getPresetStaticTheme(),FQ=E.createContext(PQ),Be=function(){return E.useContext(FQ)},RQ=function(t){var n=t.children,r=t.isRight,i=Be();return E.createElement("span",{className:I.dynamic([["3089782703",[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]]])+" "+((r?"right":"")||"")},n,E.createElement(I,{id:"3089782703",dynamic:[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]},"span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:initial;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none;margin:0;padding:0 ".concat(i.layout.gapHalf,";color:").concat(i.palette.accents_4,";background-color:").concat(i.palette.accents_1,";border-top-left-radius:").concat(i.layout.radius,";border-bottom-left-radius:").concat(i.layout.radius,";border-top:1px solid ").concat(i.palette.border,";border-left:1px solid ").concat(i.palette.border,";border-bottom:1px solid ").concat(i.palette.border,";font-size:inherit;line-height:1;}span.right.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";border-left:0;border-right:1px solid ").concat(i.palette.border,";}")))},qk=E.memo(RQ),wD=function(t){var n=t.children,r=Be();return E.createElement("label",{className:I.dynamic([["1278828862",[r.palette.accents_6]]])},n,E.createElement(I,{id:"1278828862",dynamic:[r.palette.accents_6]},"label.__jsx-style-dynamic-selector{display:block;font-weight:normal;color:".concat(r.palette.accents_6,";padding:0 0 0 1px;margin-bottom:0.5em;font-size:1em;line-height:1.5;}label.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}label.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};wD.displayName="GeistInputBlockLabel";var DQ=E.memo(wD),ED=function(t){var n=t.icon,r=t.clickable,i=t.onClick;return E.createElement("span",{onClick:i,className:I.dynamic([["4247656379",[r?"pointer":"default",r?"auto":"none"]]])+" input-icon"},n,E.createElement(I,{id:"4247656379",dynamic:[r?"pointer":"default",r?"auto":"none"]},".input-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:0;line-height:1;position:relative;cursor:".concat(r?"pointer":"default",";pointer-events:").concat(r?"auto":"none",";}.input-icon.__jsx-style-dynamic-selector svg{width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))};ED.displayName="GeistInputIcon";var Xk=E.memo(ED),zQ=function(t){var n=t.onClick,r=t.disabled,i=t.visible,s=Be(),o=function(l){l.preventDefault(),l.stopPropagation(),l.nativeEvent.stopImmediatePropagation(),n&&n(l)};return E.createElement("div",{onClick:o,className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])+" "+"clear-icon ".concat(i?"visible":"")},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])})),E.createElement(I,{id:"1567030211",dynamic:[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:".concat(r?"not-allowed":"pointer",";-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;margin:0;padding:0;color:").concat(s.palette.accents_3,";visibility:hidden;opacity:0;}.visible.__jsx-style-dynamic-selector{visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r?s.palette.accents_3:s.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))},OQ=E.memo(zQ),SD=function(t,n){var r={default:{color:t.foreground,borderColor:t.border,hoverBorder:t.accents_5},secondary:{color:t.foreground,borderColor:t.secondary,hoverBorder:t.secondary},success:{color:t.foreground,borderColor:t.successLight,hoverBorder:t.success},warning:{color:t.foreground,borderColor:t.warningLight,hoverBorder:t.warning},error:{color:t.error,borderColor:t.error,hoverBorder:t.errorDark}};return n?r[n]:r.default},AD={disabled:!1,readOnly:!1,clearable:!1,iconClickable:!1,type:"default",htmlType:"text",autoComplete:"off",className:"",placeholder:"",initialValue:""},ur=function(t){return"".concat(t)},BQ={getScaleableProps:function(){},SCALES:{pl:ur,pr:ur,pb:ur,pt:ur,px:ur,py:ur,mb:ur,ml:ur,mr:ur,mt:ur,mx:ur,my:ur,width:ur,height:ur,font:ur},unit:"16px"},kD=E.createContext(BQ),He=function(){return E.useContext(kD)},CD=function(){return Math.random().toString(32).slice(2,10)},Kc=function(t,n){var r=E.Children.map(t,function(i){return E.isValidElement(i)?i.type:null});return(r||[]).includes(n)},fi=function(t,n){var r=[],i=E.Children.map(t,function(o){return E.isValidElement(o)&&o.type===n?(r.push(o),null):o}),s=r.length>=0?r:void 0;return[i,s]},TD=function(t,n,r){var i=[],s=Array.isArray(r),o=E.Children.map(t,function(l){return E.isValidElement(l)?l.props?s?r.includes(l.props[n])?(i.push(l),null):l:l.props[n]===r?(i.push(l),null):l:l:null}),a=i.length>=0?i:void 0;return[o,a]},jQ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(E.Children.count(t)===0)return[];var i=r.length===0,s=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)};return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(i)return s(o,n);var a=r.find(function(l){return l===o.type});return a?s(o,n):o})},UQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(E.Children.count(t)===0)return[];var r=n.length===0,i=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)},s=0;return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(s=s+1,r)return i(o,{index:s});var a=n.find(function(l){return l===o.type});return a?i(o,{index:s}):(s=s-1,o)})},$Q=function(t){return t?typeof t!="function"?t:t():null},LD=function(t,n){if(!t||!n)return!1;for(var r=n;r;){if(r===t)return!0;r=r.parentNode}return!1},ND=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},Yk=function(){return ND()?navigator.platform.toUpperCase().indexOf("MAC")>=0:!1},VQ=function(t){return t!==void 0&&!Number.isNaN(+t)},GQ=["children"];function HQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=WQ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function WQ(e,t){if(e){if(typeof e=="string")return Zk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zk(e,t)}}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qQ=function(t){if(t===1)return t;var n=Math.abs((t-1)/2);return t>1?1+n:1-n},qe=function(t){var n=L.forwardRef(function(r,i){var s,o,a,l,c,d,u,h,g,p,m,_,y,f,x,v,w,b,S,A,C,k,N,R,B,H,F,T,W,G,Y,ee,J=r.children,ue=De(r,GQ),Ae=Be(),ce=Ae.layout,_e=ue.paddingLeft,ze=ue.pl,Me=ue.paddingRight,We=ue.pr,he=ue.paddingTop,ye=ue.pt,Ze=ue.paddingBottom,tt=ue.pb,ut=ue.marginTop,st=ue.mt,Z=ue.marginRight,te=ue.mr,se=ue.marginBottom,oe=ue.mb,ge=ue.marginLeft,pe=ue.ml,Oe=ue.px,Ie=ue.py,Fe=ue.mx,nt=ue.my,rt=ue.width,Rt=ue.height,It=ue.font,Mt=ue.w,Wt=ue.h,vt=ue.margin,lt=ue.padding,Ct=ue.unit,Pt=Ct===void 0?ce.unit:Ct,Dt=ue.scale,kt=Dt===void 0?1:Dt,bt=function(ht){return function(xt,gt){xt===0&&(xt=1,gt=gt||0);var jt=qQ(kt)*xt;if(typeof ht>"u")return typeof gt<"u"?"".concat(gt):"calc(".concat(jt," * ").concat(Pt,")");if(!VQ(ht))return"".concat(ht);var Jt=jt*Number(ht);return"calc(".concat(Jt," * ").concat(Pt,")")}},Gt=function(ht){if(!Array.isArray(ht))return ue[ht];var xt=void 0,gt=HQ(ht),jt;try{for(gt.s();!(jt=gt.n()).done;){var Jt=jt.value,pn=ue[Jt];typeof pn<"u"&&(xt=pn)}}catch(zn){gt.e(zn)}finally{gt.f()}return xt},qt={unit:Pt,SCALES:{pt:bt((s=(o=he??ye)!==null&&o!==void 0?o:Ie)!==null&&s!==void 0?s:lt),pr:bt((a=(l=Me??We)!==null&&l!==void 0?l:Oe)!==null&&a!==void 0?a:lt),pb:bt((c=(d=Ze??tt)!==null&&d!==void 0?d:Ie)!==null&&c!==void 0?c:lt),pl:bt((u=(h=_e??ze)!==null&&h!==void 0?h:Oe)!==null&&u!==void 0?u:lt),px:bt((g=(p=(m=(_=Oe??_e)!==null&&_!==void 0?_:Me)!==null&&m!==void 0?m:ze)!==null&&p!==void 0?p:We)!==null&&g!==void 0?g:lt),py:bt((y=(f=(x=(v=Ie??he)!==null&&v!==void 0?v:Ze)!==null&&x!==void 0?x:ye)!==null&&f!==void 0?f:tt)!==null&&y!==void 0?y:lt),mt:bt((w=(b=ut??st)!==null&&b!==void 0?b:nt)!==null&&w!==void 0?w:vt),mr:bt((S=(A=Z??te)!==null&&A!==void 0?A:Fe)!==null&&S!==void 0?S:vt),mb:bt((C=(k=se??oe)!==null&&k!==void 0?k:nt)!==null&&C!==void 0?C:vt),ml:bt((N=(R=ge??pe)!==null&&R!==void 0?R:Fe)!==null&&N!==void 0?N:vt),mx:bt((B=(H=(F=(T=Fe??ge)!==null&&T!==void 0?T:Z)!==null&&F!==void 0?F:pe)!==null&&H!==void 0?H:te)!==null&&B!==void 0?B:vt),my:bt((W=(G=(Y=(ee=nt??ut)!==null&&ee!==void 0?ee:se)!==null&&Y!==void 0?Y:st)!==null&&G!==void 0?G:oe)!==null&&W!==void 0?W:vt),width:bt(rt??Mt),height:bt(Rt??Wt),font:bt(It)},getScaleableProps:Gt};return E.createElement(kD.Provider,{value:qt},E.createElement(t,xe({},ue,{ref:i}),J))});return n.displayName="Scaleable".concat(t.displayName||"Wrapper"),n};function XQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=YQ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function YQ(e,t){if(e){if(typeof e=="string")return Qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qk(e,t)}}function Qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZQ=["paddingLeft","pl","paddingRight","pr","paddingTop","pt","paddingBottom","pb","marginTop","mt","marginRight","mr","marginBottom","mb","marginLeft","ml","px","py","mx","my","width","height","font","unit","scale","size"],Ve=function(t){if(!t)return{};var n=Object.keys(t).filter(function(a){return a!==""}),r={},i=XQ(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;ZQ.includes(o)||(r[o]=t[o])}}catch(a){i.e(a)}finally{i.f()}return r},QQ=["label","labelRight","type","htmlType","icon","iconRight","iconClickable","onIconClick","initialValue","onChange","readOnly","value","onClearClick","clearable","className","onBlur","onFocus","autoComplete","placeholder","children","disabled"],KQ=function(t,n){return xe({},n,{target:t,currentTarget:t})},Tb=E.forwardRef(function(e,t){var n=e.label,r=e.labelRight,i=e.type,s=e.htmlType,o=e.icon,a=e.iconRight,l=e.iconClickable,c=e.onIconClick,d=e.initialValue,u=e.onChange,h=e.readOnly,g=e.value,p=e.onClearClick,m=e.clearable,_=e.className,y=e.onBlur,f=e.onFocus,x=e.autoComplete,v=e.placeholder,w=e.children,b=e.disabled,S=De(e,QQ),A=Be(),C=He(),k=C.SCALES,N=L.useRef(null);L.useImperativeHandle(t,function(){return N.current});var R=L.useState(d),B=Re(R,2),H=B[0],F=B[1],T=L.useState(!1),W=Re(T,2),G=W[0],Y=W[1],ee=L.useMemo(function(){return g!==void 0},[g]),J=L.useMemo(function(){return r?"right-label":n?"left-label":""},[n,r]),ue=L.useMemo(function(){return a?"right-icon":o?"left-icon":""},[o,a]),Ae=L.useMemo(function(){return SD(A.palette,i)},[A.palette,i]),ce=Ae.color,_e=Ae.borderColor,ze=Ae.hoverBorder,Me=function(te){b||h||(F(te.target.value),u&&u(te))},We=function(te){if(F(""),p&&p(te),!!N.current){var se=KQ(N.current,te);se.target.value="",u&&u(se),N.current.focus()}},he=function(te){Y(!0),f&&f(te)},ye=function(te){Y(!1),y&&y(te)},Ze=function(te){b||c&&c(te)},tt=L.useMemo(function(){return{clickable:l,onClick:Ze}},[l,Ze]);L.useEffect(function(){ee&&F(g)});var ut=ee?{value:H}:{defaultValue:d},st=xe({},S,ut);return E.createElement("div",{className:I.dynamic([["3855354928",[k.height(2.25),k.font(.875),k.width(1,"initial"),k.pt(0),k.pr(0),k.pb(0),k.pl(0),k.mt(0),k.mr(0),k.mb(0),k.ml(0),k.width(1,"initial"),A.layout.radius,_e,A.palette.accents_1,A.palette.accents_2,ze,k.font(.875),ce,A.palette.accents_3,A.palette.background,ce]]])+" with-label"},w&&E.createElement(DQ,null,w),E.createElement("div",{className:I.dynamic([["3855354928",[k.height(2.25),k.font(.875),k.width(1,"initial"),k.pt(0),k.pr(0),k.pb(0),k.pl(0),k.mt(0),k.mr(0),k.mb(0),k.ml(0),k.width(1,"initial"),A.layout.radius,_e,A.palette.accents_1,A.palette.accents_2,ze,k.font(.875),ce,A.palette.accents_3,A.palette.background,ce]]])+" "+"input-container ".concat(_)},n&&E.createElement(qk,null,n),E.createElement("div",{className:I.dynamic([["3855354928",[k.height(2.25),k.font(.875),k.width(1,"initial"),k.pt(0),k.pr(0),k.pb(0),k.pl(0),k.mt(0),k.mr(0),k.mb(0),k.ml(0),k.width(1,"initial"),A.layout.radius,_e,A.palette.accents_1,A.palette.accents_2,ze,k.font(.875),ce,A.palette.accents_3,A.palette.background,ce]]])+" "+"input-wrapper ".concat(G?"hover":""," ").concat(b?"disabled":""," ").concat(J)},o&&E.createElement(Xk,xe({icon:o},tt)),E.createElement("input",xe({type:s,ref:N,placeholder:v,disabled:b,readOnly:h,onFocus:he,onBlur:ye,onChange:Me,autoComplete:x},st,{className:I.dynamic([["3855354928",[k.height(2.25),k.font(.875),k.width(1,"initial"),k.pt(0),k.pr(0),k.pb(0),k.pl(0),k.mt(0),k.mr(0),k.mb(0),k.ml(0),k.width(1,"initial"),A.layout.radius,_e,A.palette.accents_1,A.palette.accents_2,ze,k.font(.875),ce,A.palette.accents_3,A.palette.background,ce]]])+" "+(st&&st.className!=null&&st.className||"".concat(b?"disabled":""," ").concat(ue))})),m&&E.createElement(OQ,{visible:!!(N.current&&N.current.value!==""),disabled:b||h,onClick:We}),a&&E.createElement(Xk,xe({icon:a},tt))),r&&E.createElement(qk,{isRight:!0},r)),E.createElement(I,{id:"3855354928",dynamic:[k.height(2.25),k.font(.875),k.width(1,"initial"),k.pt(0),k.pr(0),k.pb(0),k.pl(0),k.mt(0),k.mr(0),k.mb(0),k.ml(0),k.width(1,"initial"),A.layout.radius,_e,A.palette.accents_1,A.palette.accents_2,ze,k.font(.875),ce,A.palette.accents_3,A.palette.background,ce]},".with-label.__jsx-style-dynamic-selector{display:inline-block;box-sizing:border-box;-webkit-box-align:center;--input-height:".concat(k.height(2.25),";font-size:").concat(k.font(.875),";width:").concat(k.width(1,"initial"),";height:var(--input-height);padding:").concat(k.pt(0)," ").concat(k.pr(0)," ").concat(k.pb(0)," ").concat(k.pl(0),";margin:").concat(k.mt(0)," ").concat(k.mr(0)," ").concat(k.mb(0)," ").concat(k.ml(0),";}.input-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:").concat(k.width(1,"initial"),";height:var(--input-height);}.input-wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:").concat(A.layout.radius,";border:1px solid ").concat(_e,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;}.input-wrapper.left-label.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;}.input-wrapper.right-label.__jsx-style-dynamic-selector{border-top-right-radius:0;border-bottom-right-radius:0;}.input-wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(A.palette.accents_1,";border-color:").concat(A.palette.accents_2,";cursor:not-allowed;}input.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}.input-wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(ze,";}input.__jsx-style-dynamic-selector{margin:0.25em 0.625em;padding:0;box-shadow:none;font-size:").concat(k.font(.875),";background-color:transparent;border:none;color:").concat(ce,";outline:none;border-radius:0;width:100%;min-width:0;-webkit-appearance:none;}input.left-icon.__jsx-style-dynamic-selector{margin-left:0;}input.right-icon.__jsx-style-dynamic-selector{margin-right:0;}.__jsx-style-dynamic-selector::-webkit-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(A.palette.accents_3,";}.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(A.palette.accents_3,";}.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(A.palette.accents_3,";}.__jsx-style-dynamic-selector::placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(A.palette.accents_3,";}.__jsx-style-dynamic-selector::-ms-reveal{display:none !important;}input.__jsx-style-dynamic-selector:-webkit-autofill,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(A.palette.background," inset !important;-webkit-text-fill-color:").concat(ce," !important;}")))});Tb.defaultProps=AD;Tb.displayName="GeistInput";var km=qe(Tb),or=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n},ID=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};or("default","secondary","success","warning","error","abort","secondary-light","success-light","warning-light","error-light");or("default","secondary","success","warning","error");or("default","secondary","success","warning","error","dark","lite");or("default","secondary","success","warning","error","dark","lite","alert","purple","violet","cyan");or("default","silent","prevent");or("hover","click");or("top","topStart","topEnd","left","leftStart","leftEnd","bottom","bottomStart","bottomEnd","right","rightStart","rightEnd");or("start","center","end","left","right");var JQ=["type","disabled","readOnly","onFocus","onBlur","className","initialValue","onChange","value","placeholder","resize"];or("none","both","horizontal","vertical","initial","inherit");var eK={initialValue:"",type:"default",disabled:!1,readOnly:!1,className:"",resize:"none"},Lb=E.forwardRef(function(e,t){var n=e.type,r=e.disabled,i=e.readOnly,s=e.onFocus,o=e.onBlur,a=e.className,l=e.initialValue,c=e.onChange,d=e.value,u=e.placeholder,h=e.resize,g=De(e,JQ),p=Be(),m=He(),_=m.SCALES,y=L.useRef(null);L.useImperativeHandle(t,function(){return y.current});var f=L.useMemo(function(){return d!==void 0},[d]),x=L.useState(l),v=Re(x,2),w=v[0],b=v[1],S=L.useState(!1),A=Re(S,2),C=A[0],k=A[1],N=L.useMemo(function(){return SD(p.palette,n)},[p.palette,n]),R=N.color,B=N.borderColor,H=N.hoverBorder,F=function(J){r||i||(b(J.target.value),c&&c(J))},T=function(J){k(!0),s&&s(J)},W=function(J){k(!1),o&&o(J)};L.useEffect(function(){f&&b(d)});var G=f?{value:w}:{defaultValue:l},Y=xe({},g,G);return E.createElement("div",{className:I.dynamic([["4034828312",[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),H,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+"wrapper ".concat(C?"hover":""," ").concat(r?"disabled":""," ").concat(a)},E.createElement("textarea",xe({ref:y,disabled:r,placeholder:u,readOnly:i,onFocus:T,onBlur:W,onChange:F},Y,{className:I.dynamic([["4034828312",[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),H,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+(Y&&Y.className!=null&&Y.className||"")})),E.createElement(I,{id:"4034828312",dynamic:[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),H,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]},".wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:".concat(p.layout.radius,";border:1px solid ").concat(B,";color:").concat(R,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;min-width:12.5rem;max-width:95vw;--textarea-font-size:").concat(_.font(.875),";--textarea-height:").concat(_.height(1,"auto"),";width:").concat(_.width(1,"initial"),";height:var(--textarea-height);margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}.wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(H,";}.wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(p.palette.accents_1,";border-color:").concat(p.palette.accents_2,";cursor:not-allowed;}textarea.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:none;display:block;font-family:").concat(p.font.sans,";font-size:var(--textarea-font-size);width:100%;height:var(--textarea-height);border:none;outline:none;padding:").concat(_.pt(.5)," ").concat(_.pr(.5)," ").concat(_.pb(.5)," ").concat(_.pl(.5),";resize:").concat(h,";}.disabled.__jsx-style-dynamic-selector>textarea.__jsx-style-dynamic-selector{cursor:not-allowed;}textarea.__jsx-style-dynamic-selector:-webkit-autofill,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(p.palette.background," inset !important;}")))});Lb.defaultProps=eK;Lb.displayName="GeistTextarea";var tK=qe(Lb),nK=function(t){var n=t.visible;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"}},n?E.createElement(E.Fragment,null,E.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"}),E.createElement("path",{d:"M1 1l22 22"})):E.createElement(E.Fragment,null,E.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),E.createElement("circle",{cx:"12",cy:"12",r:"3"})))},rK=E.memo(nK),iK=["hideToggle","children"],sK=xe({},AD,{hideToggle:!1}),Nb=E.forwardRef(function(e,t){var n=e.hideToggle,r=e.children,i=De(e,iK),s=L.useRef(null),o=L.useState(!1),a=Re(o,2),l=a[0],c=a[1];L.useImperativeHandle(t,function(){return s.current});var d=function(){c(function(p){return!p}),s&&s.current&&s.current.focus()},u=L.useMemo(function(){return xe({},i,{ref:s,iconClickable:!0,onIconClick:d,htmlType:l?"text":"password"})},[i,d,l,s]),h=L.useMemo(function(){return n?null:E.createElement(rK,{visible:l})},[n,l]);return E.createElement(km,xe({iconRight:h},u),r)});Nb.defaultProps=sK;Nb.displayName="GeistInputPassword";km.Textarea=tK;km.Password=Nb;var oK={visible:!1},MD=E.createContext(oK),PD=function(){return E.useContext(MD)},aK=function(t){var n=t.children,r=t.height;return E.createElement("span",{className:I.dynamic([["822089635",[r]]])},n,E.createElement(I,{id:"822089635",dynamic:[r]},"span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:".concat(r,";min-width:0;}")))};const Ib=E.memo(aK);var lK={},Mb=function(t){var n=t.value,r=t.children,i=t.isLabelOnly,s=Be(),o=He(),a=o.SCALES,l=PD(),c=l.value,d=l.updateValue,u=l.updateVisible,h=function(){d&&d(n),u&&u(!1)},g=L.useMemo(function(){return c===n},[n,c]);return E.createElement("div",{onClick:h,className:I.dynamic([["2003094915",[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]]])+" "+"item ".concat(g?"active":"")},i?E.createElement(Ib,{height:a.height(2)},r):r,E.createElement(I,{id:"2003094915",dynamic:[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;background-color:".concat(s.palette.background,";color:").concat(s.palette.foreground,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:pointer;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(i?a.height(2.5):a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.75)," ").concat(a.pb(0)," ").concat(a.pl(.75),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.item.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(s.layout.radius,";border-top-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:last-of-type{border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:hover{background-color:").concat(s.palette.accents_1,";}.item.active.__jsx-style-dynamic-selector{background-color:").concat(s.palette.accents_1,";color:").concat(s.palette.success,";}")))};Mb.defaultProps=lK;Mb.displayName="GeistAutoCompleteItem";var Pb=qe(Mb),cK=function(){var t=L.useState(!1),n=Re(t,2),r=n[0],i=n[1];return L.useEffect(function(){i(ND())},[]),{isBrowser:r,isServer:!r}},Kk=function(t){var n=document.createElement("div");return n.setAttribute("id",t),n},lu=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CD(),n=arguments.length>1?arguments[1]:void 0,r="geist-ui-".concat(t),i=cK(),s=i.isBrowser,o=L.useState(s?Kk(r):null),a=Re(o,2),l=a[0],c=a[1];return L.useEffect(function(){var d=n?n():null,u=d||document.body,h=u.querySelector("#".concat(r)),g=h||Kk(r);h||u.appendChild(g),c(g)},[]),l},Fb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;L.useEffect(function(){var r=function(){return t()};return n&&r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}},[])},dK=["children","className","visible","enterTime","leaveTime","clearTime","name"],uK={visible:!1,enterTime:60,leaveTime:60,clearTime:60,className:"",name:"transition"},xa=function(t){var n=t.children,r=t.className,i=t.visible,s=t.enterTime,o=t.leaveTime,a=t.clearTime,l=t.name,c=De(t,dK),d=L.useState(""),u=Re(d,2),h=u[0],g=u[1],p=L.useState(i),m=Re(p,2),_=m[0],y=m[1];return L.useEffect(function(){var f=i?"enter":"leave",x=i?s:o;i&&!_&&y(!0),g("".concat(l,"-").concat(f));var v=setTimeout(function(){g("".concat(l,"-").concat(f," ").concat(l,"-").concat(f,"-active")),clearTimeout(v)},x),w=setTimeout(function(){i||(g(""),y(!1)),clearTimeout(w)},x+a);return function(){clearTimeout(v),clearTimeout(w)}},[i,_]),!E.isValidElement(n)||!_?null:E.cloneElement(n,xe({},c,{className:"".concat(n.props.className," ").concat(r," ").concat(h)}))};xa.defaultProps=uK;xa.displayName="GeistCssTransition";var FD=function(t){L.useEffect(function(){var n=function(i){return t(i)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}},[t])},hK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r={attributes:!1,childList:!0,subtree:!0};L.useEffect(function(){if(!(!t||!t.current)){var i=!1,s=function(){i||n.apply(void 0,arguments)},o=new MutationObserver(s);return o.observe(t.current,r),function(){i=!0,o.disconnect()}}},[t])},Jk={},Pi=function(t,n){var r=n?" [".concat(n,"]"):" ",i="[Geist UI]".concat(r,": ").concat(t);typeof console>"u"||Jk[i]||(Jk[i]=!0,console.warn(i))},RD={top:-1e3,left:-1e3,right:-1e3,width:0},gK=function(t){if(!t)return{top:0,left:0};var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{top:r,left:i}},eC=function(t,n){if(!t||!t.current)return RD;var r=t.current.getBoundingClientRect(),i=n?n():null,s=i||document.documentElement,o=gK(i),a=o.top,l=o.left;return xe({},r,{width:r.width||r.right-r.left,top:r.bottom+s.scrollTop-a,left:r.left+s.scrollLeft-l})},DD=E.memo(function(e){var t=e.children,n=e.parent,r=e.visible,i=e.disableMatchWidth,s=e.getPopupContainer,o=lu("dropdown",s),a=L.useState(RD),l=Re(a,2),c=l[0],d=l[1];if(!n)return null;var u=function(){var m=eC(n,s),_=m.top,y=m.left,f=m.right,x=m.width;d({top:_,left:y,right:f,width:x})};Fb(u),FD(function(){var p=eC(n,s),m=p.top,_=p.left,y=m!==c.top||_!==c.left;y&&u()}),hK(n,function(){u()}),L.useEffect(function(){if(!(!n||!n.current))return n.current.addEventListener("mouseenter",u),function(){!n||!n.current||n.current.removeEventListener("mouseenter",u)}},[n]);var h=function(m){m.stopPropagation(),m.nativeEvent.stopImmediatePropagation(),m.preventDefault()},g=function(m){m.preventDefault()};return o?bo.createPortal(E.createElement(xa,{visible:r},E.createElement("div",{onClick:h,onMouseDown:g,className:I.dynamic([["2976859150",[c.top+2,c.left,c.width,c.width]]])+" "+"dropdown ".concat(i?"disable-match":"width-match")},t,E.createElement(I,{id:"2976859150",dynamic:[c.top+2,c.left,c.width,c.width]},".dropdown.__jsx-style-dynamic-selector{position:absolute;top:".concat(c.top+2,"px;left:").concat(c.left,"px;z-index:1100;}.width-match.__jsx-style-dynamic-selector{width:").concat(c.width,"px;}.disable-match.__jsx-style-dynamic-selector{min-width:").concat(c.width,"px;}")))),o):null}),pK={className:"",dropdownStyle:{}},Rb=function(t){var n=t.children,r=t.visible,i=t.className,s=t.dropdownStyle,o=t.disableMatchWidth,a=t.getPopupContainer,l=Be(),c=PD(),d=c.ref,u=L.useMemo(function(){return!r||E.Children.count(n)===0},[n,r]),h=function(p){p.preventDefault(),p.stopPropagation(),p.nativeEvent.stopImmediatePropagation()};return E.createElement(DD,{parent:d,visible:r,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{style:s,onClick:h,className:I.dynamic([["155200262",[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]]])+" "+"auto-complete-dropdown ".concat(i)},n,E.createElement(I,{id:"155200262",dynamic:[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]},".auto-complete-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(u?"none":l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";overflow-y:auto;max-height:15rem;overflow-anchor:none;}"))))};Rb.defaultProps=pK;Rb.displayName="GeistAutoCompleteDropdown";var mK={className:""},Db=function(t){var n=t.children,r=t.className,i=Be(),s=He(),o=s.SCALES;return E.createElement("div",{className:I.dynamic([["2266351824",[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")},n,E.createElement(I,{id:"2266351824",dynamic:[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;padding:".concat(i.layout.gapHalf,";line-height:1;background-color:").concat(i.palette.background,";color:").concat(i.palette.accents_5,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;border-radius:").concat(i.layout.radius,";font-size:").concat(o.font(.875),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(.875)," ").concat(o.pr(.875)," ").concat(o.pb(.875)," ").concat(o.pl(.875),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};Db.defaultProps=mK;Db.displayName="GeistAutoCompleteSearch";var xp=qe(Db),fK={hidden:!1,className:""},Ud=function(t){var n=t.children,r=t.hidden,i=t.className;return r?null:E.createElement(xp,{className:i},n)};Ud.defaultProps=fK;Ud.displayName="GeistAutoCompleteEmpty";var _K=["children","type","color","className","spaceRatio"],yK={type:"default",className:"",spaceRatio:1},xK=function(t,n,r){var i={default:n.accents_6,secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r||i[t]},zb=function(t){var n=t.children,r=t.type,i=t.color,s=t.className,o=t.spaceRatio,a=De(t,_K),l=Be(),c=He(),d=c.SCALES,u=L.useMemo(function(){return xK(r,l.palette,i)},[r,l.palette,i]);return E.createElement("div",xe({},Ve(a),{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" "+"loading-container ".concat(s)}),E.createElement("span",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" loading"},n&&E.createElement("label",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])},n),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])})),E.createElement(I,{id:"2201634259",dynamic:[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]},".loading-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:".concat(d.font(1),";width:").concat(d.width(1,"100%"),";height:").concat(d.height(1,"100%"),";min-height:1em;padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}label.__jsx-style-dynamic-selector{margin-right:0.5em;color:").concat(l.palette.accents_5,";line-height:1;}label.__jsx-style-dynamic-selector *{margin:0;}.loading.__jsx-style-dynamic-selector{position:absolute;top:50%;left:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}i.__jsx-style-dynamic-selector{width:0.25em;height:0.25em;border-radius:50%;background-color:").concat(u,";margin:0 calc(0.25em / 2 * ").concat(o,");display:inline-block;-webkit-animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;}i.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:0.2s;animation-delay:0.2s;}i.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:0.4s;animation-delay:0.4s;}@-webkit-keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}@keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}")))};zb.defaultProps=yK;zb.displayName="GeistLoading";var Ob=qe(zb),_i=function(t){var n=L.useState(function(){return typeof t=="function"?t():t}),r=Re(n,2),i=r[0],s=r[1],o=L.useRef(t);L.useEffect(function(){o.current=i},[i]);var a=function(c){var d=typeof c=="function"?c(o.current):c;o.current=d,s(d)};return[i,a,o]},vK=["options","initialValue","onSelect","onSearch","onChange","searching","children","type","value","clearable","disabled","dropdownClassName","dropdownStyle","disableMatchWidth","disableFreeSolo","getPopupContainer"],bK={options:[],initialValue:"",disabled:!1,clearable:!1,type:"default",disableMatchWidth:!1,disableFreeSolo:!1,className:""},wK=function(t){return t.map(function(n,r){var i="auto-complete-item-".concat(r);if(E.isValidElement(n))return E.cloneElement(n,{key:i});var s=n;return E.createElement(Pb,{key:i,value:s.value,isLabelOnly:!0},s.label)})},EK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t===void 0?null:t?E.createElement(Ob,{scale:+n/2}):E.createElement("span",null)},Bb=E.forwardRef(function(e,t){var n=e.options,r=e.initialValue,i=e.onSelect,s=e.onSearch,o=e.onChange,a=e.searching,l=e.children,c=e.type,d=e.value,u=e.clearable,h=e.disabled,g=e.dropdownClassName,p=e.dropdownStyle,m=e.disableMatchWidth,_=e.disableFreeSolo,y=e.getPopupContainer,f=De(e,vK),x=L.useRef(),v=He(),w=v.SCALES,b=v.getScaleableProps,S=L.useRef(null),A=L.useRef(null),C=_i(r),k=Re(C,3),N=k[0],R=k[1],B=k[2],H=L.useState(r),F=Re(H,2),T=F[0],W=F[1],G=L.useState(!1),Y=Re(G,2),ee=Y[0],J=Y[1];L.useImperativeHandle(t,function(){return A.current});var ue=fi(l,xp),Ae=Re(ue,2),ce=Ae[1],_e=fi(l,Ud),ze=Re(_e,2),Me=ze[1],We=L.useMemo(function(){var se=ce&&E.Children.count(ce)>0,oe=Me&&E.Children.count(Me)>0;return a?se?ce:E.createElement(xp,null,"Searching..."):n.length===0?N===""?null:oe?Me:E.createElement(Ud,null,"No Options"):wK(n)},[a,n]),he=L.useMemo(function(){return u&&a===void 0},[u,a]),ye=function(oe){h||(W(oe),i&&i(oe),R(oe),A.current&&A.current.focus())},Ze=function(oe){return J(oe)},tt=function(oe){J(!0),s&&s(oe.target.value),R(oe.target.value)},ut=function(){_&&(!N||N===""||N!==T&&R(T))};L.useEffect(function(){o&&o(N)},[N]),L.useEffect(function(){d!==void 0&&R(d)},[d]);var st=L.useMemo(function(){return{ref:S,value:N,updateValue:ye,visible:ee,updateVisible:Ze}},[N,ee]),Z=function(oe){clearTimeout(x.current),J(oe),oe?s&&s(B.current):x.current=window.setTimeout(function(){ut(),clearTimeout(x.current)},100)},te=xe({},Ve(f),{disabled:h,value:N});return E.createElement(MD.Provider,{value:st},E.createElement("div",{ref:S,className:I.dynamic([["2878925540",[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]]])+" auto-complete"},E.createElement(km,xe({ref:A,type:c,onChange:tt,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)},clearable:he,width:w.width(1,"initial"),height:w.height(2.25),iconRight:EK(a,b("scale"))},te)),E.createElement(Rb,{visible:ee,disableMatchWidth:m,className:g,dropdownStyle:p,getPopupContainer:y},We),E.createElement(I,{id:"2878925540",dynamic:[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]},".auto-complete.__jsx-style-dynamic-selector{width:".concat(w.width(1,"max-content"),";height:").concat(w.height(1,"auto"),";padding:").concat(w.pt(0)," ").concat(w.pr(0)," ").concat(w.pb(0)," ").concat(w.pl(0),";margin:").concat(w.mt(0)," ").concat(w.mr(0)," ").concat(w.mb(0)," ").concat(w.ml(0),";}.auto-complete.__jsx-style-dynamic-selector .loading{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"))))});Bb.defaultProps=bK;Bb.displayName="GeistAutoComplete";var Cm=qe(Bb);Cm.Item=Pb;Cm.Option=Pb;Cm.Searching=xp;Cm.Empty=Ud;var SK=["src","stacked","text","isSquare","className"],AK={stacked:!1,text:"",isSquare:!1,className:""},kK=function(t){return t.length<=4?t:t.slice(0,3)},jb=function(t){var n=t.src,r=t.stacked,i=t.text,s=t.isSquare,o=t.className,a=De(t,SK),l=Be(),c=He(),d=c.SCALES,u=!n,h=s?l.layout.radius:"50%",g=r?d.ml(-.625):d.ml(0),p=Ve(a);return E.createElement("span",{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+"avatar ".concat(o)},!u&&E.createElement("img",xe({alt:"avatar",src:n,draggable:!1},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-img")})),u&&E.createElement("span",xe({},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-text")}),kK(i)),E.createElement(I,{id:"2295275975",dynamic:[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]},".avatar.__jsx-style-dynamic-selector{display:inline-block;position:relative;overflow:hidden;border:1px solid ".concat(l.palette.accents_2,";border-radius:").concat(h,";vertical-align:top;background-color:").concat(l.palette.background,";box-sizing:border-box;width:").concat(d.width(1.75)||d.height(1.75),";height:").concat(d.height(1.75)||d.width(1.75),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(g,";}.avatar-img.__jsx-style-dynamic-selector{display:inline-block;object-fit:cover;width:100%;height:100%;border-radius:").concat(h,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.avatar-text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;font-size:").concat(d.font(1),";text-align:center;-webkit-transform:translate(-50%,-50%) scale(0.65);-ms-transform:translate(-50%,-50%) scale(0.65);transform:translate(-50%,-50%) scale(0.65);white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};jb.defaultProps=AK;jb.displayName="GeistAvatar";var zD=qe(jb),CK={className:""},Ub=function(t){var n=t.count,r=t.className,i=t.children,s=Be(),o=He(),a=o.SCALES;return E.createElement("div",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" "+"avatar-group ".concat(r)},i,n&&E.createElement("span",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" count"},"+",n),E.createElement(I,{id:"1135268764",dynamic:[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]},".avatar-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(a.width(1,"max-content"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.avatar-group.__jsx-style-dynamic-selector .avatar{margin-left:-").concat(a.ml(.625),";}.count.__jsx-style-dynamic-selector{font-size:").concat(a.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:5.5px;color:").concat(s.palette.accents_7,";}")))};Ub.defaultProps=CK;Ub.displayName="GeistAvatarGroup";var TK=qe(Ub);zD.Group=TK;var LK=["type","className","children","dot"],NK={type:"default",dot:!1,className:""},IK=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary};return r[t]},$b=function(t){var n=t.type,r=t.className,i=t.children,s=t.dot,o=De(t,LK),a=Be(),l=He(),c=l.SCALES,d=L.useMemo(function(){return IK(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!n||n==="default"?a.palette.background:"white"},[n,a.palette.background]);return E.createElement("span",xe({},Ve(o),{className:I.dynamic([["427831233",[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]]])+" "+"badge ".concat(s?"dot":""," ").concat(r)}),!s&&i,E.createElement(I,{id:"427831233",dynamic:[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]},".badge.__jsx-style-dynamic-selector{display:inline-block;border-radius:16px;font-variant:tabular-nums;line-height:1;vertical-align:middle;background-color:".concat(d,";color:").concat(u,";border:0;font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(.25)," ").concat(c.pr(.4375)," ").concat(c.pb(.25)," ").concat(c.pl(.4375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.dot.__jsx-style-dynamic-selector{padding:").concat(c.py(.25)," ").concat(c.px(.25),";border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};$b.defaultProps=NK;$b.displayName="GeistBadge";var OD=qe($b);or("topLeft","topRight","bottomLeft","bottomRight");var MK={placement:"topRight",className:""},PK=function(t){var n={topLeft:{top:"0",left:"0",value:"translate(-50%, -50%)",origin:"0% 0%"},topRight:{top:"0",right:"0",value:"translate(50%, -50%)",origin:"100% 0%"},bottomLeft:{left:"0",bottom:"0",value:"translate(-50%, 50%)",origin:"0% 100%"},bottomRight:{right:"0",bottom:"0",value:"translate(50%, 50%)",origin:"100% 100%"}};return n[t]},Vb=function(t){var n=t.children,r=t.placement,i=fi(n,OD),s=Re(i,2),o=s[0],a=s[1],l=L.useMemo(function(){return PK(r)},[r]),c=l.top,d=l.bottom,u=l.left,h=l.right,g=l.value,p=l.origin;return E.createElement("div",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])+" anchor"},o,E.createElement("sup",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])},a),E.createElement(I,{id:"1121745930",dynamic:[c||"auto",u||"auto",h||"auto",d||"auto",g,p]},".anchor.__jsx-style-dynamic-selector{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;}sup.__jsx-style-dynamic-selector{position:absolute;top:".concat(c||"auto",";left:").concat(u||"auto",";right:").concat(h||"auto",";bottom:").concat(d||"auto",";-webkit-transform:").concat(g,";-ms-transform:").concat(g,";transform:").concat(g,";-webkit-transform-origin:").concat(p,";-ms-transform-origin:").concat(p,";transform-origin:").concat(p,";z-index:1;}")))};Vb.defaultProps=MK;Vb.displayName="GeistBadgeAnchor";OD.Anchor=Vb;var FK={className:""},Gb=function(t){var n=t.children,r=t.className,i=He(),s=i.SCALES;return E.createElement("div",{className:I.dynamic([["1571781185",[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]]])+" "+"separator ".concat(r)},n,E.createElement(I,{id:"1571781185",dynamic:[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]},".separator.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(s.width(1,"auto"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(.5)," ").concat(s.mb(0)," ").concat(s.ml(.5),";}")))};Gb.defaultProps=FK;Gb.displayName="GeistBreadcrumbsSeparator";var Jc=qe(Gb),RK=function(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(n,function(s,o,a,l){return"".concat(o).concat(o).concat(a).concat(a).concat(l).concat(l)}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!i)throw new Error("Geist UI: Unsupported ".concat(t," color."));return[Number.parseInt(i[1],16),Number.parseInt(i[2],16),Number.parseInt(i[3],16)]},DK=function(t){if(t.charAt(0)==="#")return RK(t);var n=t.replace(/ /g,""),r=t.substr(0,4),i=n.match(/\((.+)\)/);if(!r.startsWith("rgb")||!i)throw console.log(t),new Error('Geist UI: Only support ["RGB", "RGBA", "HEX"] color.');return i[1].split(",").map(function(s){return Number.parseFloat(s)})},hs=function(t,n){if(!/^#|rgb|RGB/.test(t))return t;var r=DK(t),i=Re(r,3),s=i[0],o=i[1],a=i[2],l=n>1?1:n<0?0:n;return"rgba(".concat(s,", ").concat(o,", ").concat(a,", ").concat(l,")")},zK={separator:"/",className:""},Hb=function(t){var n=t.separator,r=t.children,i=t.className,s=Be(),o=He(),a=o.SCALES,l=L.useMemo(function(){return hs(s.palette.link,.85)},[s.palette.link]),c=E.Children.toArray(r),d=c.map(function(u,h){if(!E.isValidElement(u))return u;var g=c[h-1],p=E.isValidElement(g)&&g.type===Jc,m=u.type===Jc;return!p&&!m&&h>0?E.createElement(E.Fragment,{key:h},E.createElement(Jc,null,n),u):u});return E.createElement("nav",{className:I.dynamic([["2351830500",[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]]])+" "+(i||"")},d,E.createElement(I,{id:"2351830500",dynamic:[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]},"nav.__jsx-style-dynamic-selector{line-height:inherit;color:".concat(s.palette.accents_4,";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:").concat(a.font(1),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}nav.__jsx-style-dynamic-selector .link:hover{color:").concat(l,";}nav.__jsx-style-dynamic-selector>span:last-of-type{color:").concat(s.palette.accents_6,";}nav.__jsx-style-dynamic-selector>.separator:last-child{display:none;}nav.__jsx-style-dynamic-selector svg{width:1em;height:1em;margin:0 4px;}nav.__jsx-style-dynamic-selector .breadcrums-item{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};Hb.defaultProps=zK;Hb.displayName="GeistBreadcrumbs";var BD=qe(Hb),jD=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3000088640 icon"},E.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6",className:"jsx-3000088640"}),E.createElement("path",{d:"M15 3h6v6",className:"jsx-3000088640"}),E.createElement("path",{d:"M10 14L21 3",className:"jsx-3000088640"}),E.createElement(I,{id:"3000088640"},".icon.jsx-3000088640{margin:0 0.3125em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:currentColor;}"))};jD.displayName="GeistLinkIcon";var OK=E.memo(jD),BK=["href","color","underline","pure","children","className","block","icon"],jK={href:"",color:!1,pure:!1,icon:!1,underline:!1,block:!1,className:""},Wb=E.forwardRef(function(e,t){var n=e.href,r=e.color,i=e.underline,s=e.pure,o=e.children,a=e.className,l=e.block,c=e.icon,d=De(e,BK),u=Be(),h=He(),g=h.SCALES,p=r||l?u.palette.link:"inherit",m=r||l?u.palette.successLight:"inherit",_=i?"underline":"none";return s&&Pi('Props "pure" is deprecated, now the default Link is pure.'),E.createElement("a",xe({href:n},Ve(d),{ref:t,className:I.dynamic([["3960817863",[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?hs(u.palette.link,.1):"unset",m]]])+" "+"link ".concat(l?"block":""," ").concat(a)}),o,c&&E.createElement(OK,null),E.createElement(I,{id:"3960817863",dynamic:[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?hs(u.palette.link,.1):"unset",m]},".link.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;line-height:inherit;color:".concat(p,";-webkit-text-decoration:none;text-decoration:none;border-radius:").concat(l?u.layout.radius:0,";-webkit-transition:color 200ms ease 0ms;transition:color 200ms ease 0ms;font-size:").concat(g.font(1,"inherit"),";width:").concat(g.width(1,"fit-content"),";height:").concat(g.height(1,"auto"),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";}.block.__jsx-style-dynamic-selector{padding:").concat(g.pt(.268)," ").concat(g.pr(.5625)," ").concat(g.pb(.268)," ").concat(g.pl(.5625),";}.link.__jsx-style-dynamic-selector:hover,.link.__jsx-style-dynamic-selector:active,.link.__jsx-style-dynamic-selector:focus{-webkit-text-decoration:").concat(_,";text-decoration:").concat(_,";}.link.__jsx-style-dynamic-selector:hover{background-color:").concat(l?hs(u.palette.link,.1):"unset",";color:").concat(m,";}")))});Wb.defaultProps=jK;Wb.displayName="GeistLink";var qb=qe(Wb),UK=["href","nextLink","onClick","children","className"],$K={nextLink:!1,className:""},Xb=E.forwardRef(function(e,t){var n=e.href,r=e.nextLink,i=e.onClick,s=e.children,o=e.className,a=De(e,UK),l=L.useMemo(function(){return n!==void 0||r},[n,r]),c=fi(s,Jc),d=Re(c,1),u=d[0],h=function(p){i&&i(p)};return l?E.createElement(qb,xe({className:"breadcrums-item ".concat(o),href:n,onClick:h,ref:t},a),u):E.createElement("span",{className:"breadcrums-item ".concat(o),onClick:h},u)});Xb.defaultProps=$K;Xb.displayName="GeistBreadcrumbsItem";BD.Item=Xb;BD.Separator=Jc;var VK={x:0,y:0},Yb=function(t){var n=t.x,r=t.y,i=t.color,s=t.onCompleted,o=L.useRef(null),a=Number.isNaN(+r)?0:r-10,l=Number.isNaN(+n)?0:n-10;return L.useEffect(function(){if(o.current)return o.current.addEventListener("animationend",s),function(){o.current&&o.current.removeEventListener("animationend",s)}}),E.createElement("div",{ref:o,className:"jsx-3424889537 drip"},E.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",style:{top:a,left:l},className:"jsx-3424889537"},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-3424889537"},E.createElement("g",{fill:i,className:"jsx-3424889537"},E.createElement("rect",{width:"100%",height:"100%",rx:"10",className:"jsx-3424889537"})))),E.createElement(I,{id:"3424889537"},".drip.jsx-3424889537{position:absolute;left:0;right:0;top:0;bottom:0;}svg.jsx-3424889537{position:absolute;-webkit-animation:350ms ease-in expand-jsx-3424889537;animation:350ms ease-in expand-jsx-3424889537;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;width:1rem;height:1rem;}@-webkit-keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}@keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}"))};Yb.defaultProps=VK;Yb.displayName="GeistButtonDrip";var UD=function(t){var n=t.color;return E.createElement("div",{className:"jsx-3416748964 btn-loading"},E.createElement(Ob,{color:n}),E.createElement(I,{id:"3416748964"},".btn-loading.jsx-3416748964{position:absolute;top:0;left:0;right:0;bottom:0;z-index:2;background-color:var(--geist-ui-button-bg);}"))};UD.displayName="GeistButtonLoading";var GK=["isRight","isSingle","children","className"],HK={isRight:!1,className:""},vp=function(t){var n=t.isRight,r=t.isSingle,i=t.children,s=t.className,o=De(t,GK);return E.createElement("span",xe({},Ve(o),{className:"jsx-643337184 "+"icon ".concat(n?"right":""," ").concat(r?"single":""," ").concat(s)}),i,E.createElement(I,{id:"643337184"},".icon.jsx-643337184{position:absolute;left:var(--geist-ui-button-icon-padding);right:auto;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--geist-ui-button-color);z-index:1;}.right.jsx-643337184{right:var(--geist-ui-button-icon-padding);left:auto;}.icon.jsx-643337184 svg{background:transparent;height:calc(var(--geist-ui-button-height) / 2.35);width:calc(var(--geist-ui-button-height) / 2.35);}.single.jsx-643337184{position:static;-webkit-transform:none;-ms-transform:none;transform:none;}"))};vp.defaultProps=HK;vp.displayName="GeistButtonIcon";var WK=function(t,n,r){var i=r.icon,s=r.iconRight,o=i||s,a=!!s,l=t?"calc(var(--geist-ui-button-height) / 2 + var(--geist-ui-button-icon-padding) * .5)":0;return o?E.Children.count(n)===0?E.createElement(vp,{isRight:a,isSingle:!0},o):E.createElement(E.Fragment,null,E.createElement(vp,{isRight:a},o),E.createElement("div",{className:I.dynamic([["3568181479",[l,l]]])+" "+"text ".concat(a?"right":"left")},n,E.createElement(I,{id:"3568181479",dynamic:[l,l]},".left.__jsx-style-dynamic-selector{padding-left:".concat(l,";}.right.__jsx-style-dynamic-selector{padding-right:").concat(l,";}")))):E.createElement("div",{className:"text"},n)},qK=function(t,n){return n.isButtonGroup?xe({},t,{auto:!0,shadow:!1,ghost:n.ghost||t.ghost,type:n.type||t.type,disabled:n.disabled||t.disabled}):t},XK={isButtonGroup:!1,disabled:!1},$D=E.createContext(XK),YK=function(){return E.useContext($D)},ZK=function(t,n){var r={secondary:{bg:t.background,border:t.foreground,color:t.foreground},success:{bg:t.background,border:t.success,color:t.success},warning:{bg:t.background,border:t.warning,color:t.warning},error:{bg:t.background,border:t.error,color:t.error}};return r[n]||null},VD=function(t,n){var r=n.type,i=n.disabled,s=n.ghost,o={default:{bg:t.background,border:t.border,color:t.accents_5},secondary:{bg:t.foreground,border:t.foreground,color:t.background},success:{bg:t.success,border:t.success,color:"#fff"},warning:{bg:t.warning,border:t.warning,color:"#fff"},error:{bg:t.error,border:t.error,color:"#fff"},abort:{bg:"transparent",border:"transparent",color:t.accents_5}};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};var a=r==null?void 0:r.replace("-light",""),l=o.default;return s?ZK(t,a)||l:o[a]||l},QK=function(t,n){var r={secondary:{bg:t.foreground,border:t.background,color:t.background},success:{bg:t.success,border:t.background,color:"white"},warning:{bg:t.warning,border:t.background,color:"white"},error:{bg:t.error,border:t.background,color:"white"}},i=n.replace("-light","");return r[i]||null},GD=function(t,n){var r=n.type,i=n.disabled,s=n.loading,o=n.shadow,a=n.ghost,l=VD(t,n),c=hs(l.bg,.85),d={default:{bg:t.background,border:t.foreground},secondary:{bg:t.background,border:t.foreground},success:{bg:t.background,border:t.success},warning:{bg:t.background,border:t.warning},error:{bg:t.background,border:t.error},abort:{bg:"transparent",border:"transparent",color:t.accents_5},"secondary-light":xe({},l,{bg:c}),"success-light":xe({},l,{bg:c}),"warning-light":xe({},l,{bg:c}),"error-light":xe({},l,{bg:c})};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};if(s)return xe({},l,{color:"transparent"});if(o)return l;var u=(a?QK(t,r):d[r])||d.default;return xe({},u,{color:u.color||u.border})},KK=function(t,n){return t?{cursor:"not-allowed",events:"auto"}:n?{cursor:"default",events:"none"}:{cursor:"pointer",events:"auto"}},JK=function(t,n){var r=n.type,i=r.endsWith("light"),s=GD(t,n);return hs(i?s.bg:t.accents_2,.65)},eJ=["children","disabled","type","loading","shadow","ghost","effect","onClick","auto","icon","htmlType","iconRight","className"],tJ={type:"default",htmlType:"button",ghost:!1,loading:!1,shadow:!1,auto:!1,effect:!0,disabled:!1,className:""},Zb=E.forwardRef(function(e,t){var n=Be(),r=He(),i=r.SCALES,s=L.useRef(null);L.useImperativeHandle(t,function(){return s.current});var o=L.useState(!1),a=Re(o,2),l=a[0],c=a[1],d=L.useState(0),u=Re(d,2),h=u[0],g=u[1],p=L.useState(0),m=Re(p,2),_=m[0],y=m[1],f=YK(),x=qK(e,f),v=x.children,w=x.disabled;x.type;var b=x.loading,S=x.shadow,A=x.ghost,C=x.effect,k=x.onClick,N=x.auto,R=x.icon,B=x.htmlType,H=x.iconRight,F=x.className,T=De(x,eJ),W=L.useMemo(function(){return VD(n.palette,x)},[n.palette,x]),G=W.bg,Y=W.border,ee=W.color,J=L.useMemo(function(){return GD(n.palette,x)},[n.palette,x]),ue=L.useMemo(function(){return KK(w,b)},[w,b]),Ae=ue.cursor,ce=ue.events,_e=L.useMemo(function(){return JK(n.palette,x)},[n.palette,x]),ze=function(){c(!1),g(0),y(0)},Me=function(tt){if(!(w||b)){var ut=!S&&!A&&C;if(ut&&s.current){var st=s.current.getBoundingClientRect();c(!0),g(tt.clientX-st.left),y(tt.clientY-st.top)}k&&k(tt)}},We=L.useMemo(function(){return WK(N,v,{icon:R,iconRight:H})},[N,v,R,H]),he=N?i.pl(1.15):i.pl(1.375),ye=N?i.pr(1.15):i.pr(1.375);return E.createElement("button",xe({ref:s,type:B,disabled:w,onClick:Me},Ve(T),{className:I.dynamic([["1191936485",[i.height(2.5),n.layout.radius,i.font(.875),ee,G,Y,Ae,ce,S?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),ee,G,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),ye,i.pb(0),he,i.mt(0),i.mr(0),i.mb(0),i.ml(0),J.color,J.color,J.bg,J.border,Ae,ce,S?n.expressiveness.shadowMedium:"none",S?"-1px":"0px"]]])+" "+"btn ".concat(F)}),b&&E.createElement(UD,{color:ee}),We,l&&E.createElement(Yb,{x:h,y:_,color:_e,onCompleted:ze}),E.createElement(I,{id:"1191936485",dynamic:[i.height(2.5),n.layout.radius,i.font(.875),ee,G,Y,Ae,ce,S?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),ee,G,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),ye,i.pb(0),he,i.mt(0),i.mr(0),i.mb(0),i.ml(0),J.color,J.color,J.bg,J.border,Ae,ce,S?n.expressiveness.shadowMedium:"none",S?"-1px":"0px"]},".btn.__jsx-style-dynamic-selector{box-sizing:border-box;display:inline-block;line-height:".concat(i.height(2.5),";border-radius:").concat(n.layout.radius,";font-weight:400;font-size:").concat(i.font(.875),";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;text-transform:capitalize;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;white-space:nowrap;-webkit-transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;position:relative;overflow:hidden;color:").concat(ee,";background-color:").concat(G,";border:1px solid ").concat(Y,";cursor:").concat(Ae,";pointer-events:").concat(ce,";box-shadow:").concat(S?n.expressiveness.shadowSmall:"none",";--geist-ui-button-icon-padding:").concat(i.pl(.727),";--geist-ui-button-height:").concat(i.height(2.5),";--geist-ui-button-color:").concat(ee,";--geist-ui-button-bg:").concat(G,";min-width:").concat(N?"min-content":i.width(12.5),";width:").concat(N?"auto":"initial",";height:").concat(i.height(2.5),";padding:").concat(i.pt(0)," ").concat(ye," ").concat(i.pb(0)," ").concat(he,";margin:").concat(i.mt(0)," ").concat(i.mr(0)," ").concat(i.mb(0)," ").concat(i.ml(0),";}.btn.__jsx-style-dynamic-selector:hover,.btn.__jsx-style-dynamic-selector:focus{color:").concat(J.color,";--geist-ui-button-color:").concat(J.color,";background-color:").concat(J.bg,";border-color:").concat(J.border,";cursor:").concat(Ae,";pointer-events:").concat(ce,";box-shadow:").concat(S?n.expressiveness.shadowMedium:"none",";-webkit-transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);-ms-transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);}.btn.__jsx-style-dynamic-selector .text{position:relative;z-index:1;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;line-height:inherit;top:-1px;}.btn.__jsx-style-dynamic-selector .text p,.btn.__jsx-style-dynamic-selector .text pre,.btn.__jsx-style-dynamic-selector .text div{margin:0;}")))});Zb.defaultProps=tJ;Zb.displayName="GeistButton";var Ko=qe(Zb),HD=function(t,n){var r=L.useRef(n);L.useEffect(function(){r.current=n},[r]),L.useEffect(function(){var i=function(o){var a=t.current;!o||!a||a.contains(o.target)||r.current(o)};return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}},[t])},WD=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i={default:{color:t.accents_5,bgColor:t.background,borderLeftColor:t.accents_2,hoverBgColor:t.accents_1,hoverBorder:t.accents_2},secondary:{color:t.background,bgColor:t.foreground,borderLeftColor:t.accents_7,hoverBgColor:t.accents_7,hoverBorder:t.accents_7},success:{color:t.background,bgColor:t.success,borderLeftColor:t.successDark,hoverBgColor:t.successDark,hoverBorder:t.successDark},warning:{color:t.background,bgColor:t.warning,borderLeftColor:t.warningDark,hoverBgColor:t.warningDark,hoverBorder:t.warningDark},error:{color:t.background,bgColor:t.error,borderLeftColor:t.errorDark,hoverBgColor:t.errorDark,hoverBorder:t.errorDark}};return r?xe({},i.default,{bgColor:t.accents_1,color:t.accents_4}):n?i[n]:i.default},qD=function(t){var n=t.color,r=t.height;return E.createElement("svg",{stroke:n,style:{color:n},viewBox:"0 0 24 24",width:r,height:r,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3359574434"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-3359574434"}),E.createElement(I,{id:"3359574434"},"svg.jsx-3359574434{-webkit-transform:scale(0.6);-ms-transform:scale(0.6);transform:scale(0.6);}"))};qD.displayName="GeistButtonDropdownIcon";var nJ={type:"default",auto:!1,disabled:!1,loading:!1},XD=E.createContext(nJ),rJ=function(){return E.useContext(XD)},iJ=["children","onClick","className","main","type"],sJ={main:!1,type:"default",onClick:function(){},className:""},Tm=function(t){var n=t.children,r=t.onClick,i=t.className,s=t.main,o=t.type,a=De(t,iJ),l=Be(),c=rJ(),d=c.type,u=c.disabled,h=c.loading,g=s?d:o,p=WD(l.palette,g,u),m=function(f){u||h||r&&r(f)},_=L.useMemo(function(){return h?"default":u?"not-allowed":"pointer"},[h,u]);return E.createElement("button",xe({onClick:m},Ve(a),{className:I.dynamic([["772098729",[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]]])+" "+(i||"")}),h?E.createElement(Ob,null):n,E.createElement(I,{id:"772098729",dynamic:[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]},"button.__jsx-style-dynamic-selector{position:relative;-webkit-appearance:button;text-rendering:auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;text-align:center;cursor:".concat(_,";box-sizing:border-box;margin:0;border:none;background-color:").concat(p.bgColor,";color:").concat(p.color,";width:100%;height:var(--geist-ui-dropdown-height);min-width:var(--geist-ui-dropdown-min-width);padding:var(--geist-ui-dropdown-padding);font-size:var(--geist-ui-dropdown-font-size);}button.__jsx-style-dynamic-selector:hover{border-color:").concat(p.hoverBorder,";background-color:").concat(p.hoverBgColor,";}")))};Tm.defaultProps=sJ;Tm.displayName="GeistButtonDropdownItem";var oJ=["children","type","auto","className","disabled","loading"],aJ={type:"default",auto:!1,loading:!1,disabled:!1,className:""},tC=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},Qb=function(t){var n=t.children,r=t.type,i=t.auto,s=t.className,o=t.disabled,a=t.loading,l=De(t,oJ),c=He(),d=c.SCALES,u=L.useRef(null),h=Be(),g=WD(h.palette,r),p=fi(n,Tm)[1],m=TD(p,"main",!0),_=Re(m,2),y=_[0],f=_[1],x=L.useState(!1),v=Re(x,2),w=v[0],b=v[1],S=L.useCallback(function(R){R.preventDefault(),tC(R),!(o||a)&&b(!w)},[w]),A={type:r,auto:i,disabled:o,loading:a},C=L.useMemo(function(){return o||a?h.palette.accents_1:w?g.hoverBgColor:g.bgColor},[w,g,h.palette]),k=i?d.pl(1.15):d.pl(1.375),N=i?d.pr(1.15):d.pr(1.375);return HD(u,function(){return b(!1)}),E.createElement(XD.Provider,{value:A},E.createElement("div",xe({ref:u,onClick:tC},Ve(l),{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),k,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" "+"btn-dropdown ".concat(s)}),f,E.createElement("details",{open:w,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),k,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement("summary",{onClick:S,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),k,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement(qD,{color:g.color,height:d.height(2.5)})),E.createElement("div",{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),k,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" content"},y)),E.createElement(I,{id:"3157107390",dynamic:[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),k,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]},".btn-dropdown.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;position:relative;box-sizing:border-box;border:1px solid ".concat(h.palette.border,";border-radius:").concat(h.layout.radius,";--geist-ui-dropdown-height:").concat(d.height(2.5),";--geist-ui-dropdown-min-width:").concat(i?"min-content":d.width(12.5),";--geist-ui-dropdown-padding:").concat(d.pt(0)," ").concat(N," ").concat(d.pb(0)," ").concat(k,";--geist-ui-dropdown-font-size:").concat(d.font(.875),";}.btn-dropdown.__jsx-style-dynamic-selector>button{border-top-left-radius:").concat(h.layout.radius,";border-bottom-left-radius:").concat(h.layout.radius,";}details.__jsx-style-dynamic-selector{border-top-right-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";overflow:hidden;}summary.__jsx-style-dynamic-selector{box-sizing:border-box;-webkit-tap-highlight-color:transparent;list-style:none;outline:none;color:").concat(g.color,";background-color:").concat(C,";height:").concat(d.height(2.5),";border-left:1px solid ").concat(g.borderLeftColor,";cursor:").concat(o||a?"not-allowed":"pointer",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:auto;padding:0 1px;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;}summary.__jsx-style-dynamic-selector:hover{border-color:").concat(g.hoverBorder,";background-color:").concat(g.hoverBgColor,";}.content.__jsx-style-dynamic-selector{position:absolute;right:0;left:0;z-index:90;width:100%;border-radius:").concat(h.layout.radius,";box-shadow:").concat(h.expressiveness.shadowLarge,";-webkit-transform:translateY(").concat(h.layout.gapHalf,");-ms-transform:translateY(").concat(h.layout.gapHalf,");transform:translateY(").concat(h.layout.gapHalf,");background-color:").concat(h.palette.background,";}.content.__jsx-style-dynamic-selector>button:first-of-type{border-top-left-radius:").concat(h.layout.radius,";border-top-right-radius:").concat(h.layout.radius,";}.content.__jsx-style-dynamic-selector>button:last-of-type{border-bottom-left-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";}"))))};Qb.displayName="GeistButtonDropdown";Qb.defaultProps=aJ;var lJ=qe(Qb);lJ.Item=Tm;var cJ=["disabled","type","ghost","vertical","children","className"],dJ={disabled:!1,vertical:!1,ghost:!1,type:"default",className:""},uJ=function(t,n){var r=n.ghost,i=n.type;if(!r&&i!=="default")return t.background;var s={default:t.border,success:t.success,secondary:t.secondary,error:t.error,warning:t.warning},o=i.replace("-light","");return s[o]||s.default},Kb=function(t){var n=Be(),r=He(),i=r.SCALES,s=t.disabled,o=t.type,a=t.ghost,l=t.vertical,c=t.children,d=t.className,u=De(t,cJ),h=L.useMemo(function(){return{disabled:s,type:o,ghost:a,isButtonGroup:!0}},[s,o]),g=L.useMemo(function(){return uJ(n.palette,t)},[n,o,s,a]);return E.createElement($D.Provider,{value:h},E.createElement("div",xe({},Ve(u),{className:I.dynamic([["809583503",[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]]])+" "+"btn-group ".concat(l?"vertical":"horizontal"," ").concat(d)}),c,E.createElement(I,{id:"809583503",dynamic:[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]},".btn-group.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:".concat(n.layout.radius,";border:1px solid ").concat(g,";background-color:transparent;overflow:hidden;width:").concat(i.width(1,"auto"),";height:").concat(i.height(1,"min-content"),";margin:").concat(i.mt(.313)," ").concat(i.mr(.313)," ").concat(i.mb(.313)," ").concat(i.ml(.313),";padding:").concat(i.pt(0)," ").concat(i.pr(0)," ").concat(i.pb(0)," ").concat(i.pl(0),";}.vertical.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.btn-group.__jsx-style-dynamic-selector .btn{border:none;}.btn-group.__jsx-style-dynamic-selector .btn .text{top:0;}.horizontal.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid ").concat(g,";}.horizontal.__jsx-style-dynamic-selector .btn:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0;}.vertical.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-top:1px solid ").concat(g,";}.vertical.__jsx-style-dynamic-selector .btn:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;}"))))};Kb.defaultProps=dJ;Kb.displayName="GeistButtonGroup";var hJ=qe(Kb),gJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,i=t/n,s=(Number.isNaN(i)?0:i)*100;if(s>100)return 100;if(s<0)return 0;if(!"".concat(s).includes("."))return s;var o="".concat(s).split(".")[1];return o.length<r?s:+s.toFixed(r)},YD=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;return L.useMemo(function(){return gJ(t,n,r)},[t,n,r])},pJ=["value","limit","color","className"],mJ={value:0,limit:100,color:"",className:""},fJ=function(t,n){return t<33?n.cyan:t<66?n.warning:n.errorDark},Jb=function(t){var n=t.value,r=t.limit,i=t.color,s=t.className,o=De(t,pJ),a=Be(),l=He(),c=l.SCALES,d=YD(n,r),u=L.useMemo(function(){return i&&i!==""?i:fJ(d,a.palette)},[i,d,a.palette]);return E.createElement("div",xe({title:"".concat(d,"%")},Ve(o),{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])+" "+"capacity ".concat(s)}),E.createElement("span",{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])}),E.createElement(I,{id:"2706946339",dynamic:[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]},".capacity.__jsx-style-dynamic-selector{width:".concat(c.width(3.125),";height:").concat(c.height(.625),";border-radius:").concat(a.layout.radius,";overflow:hidden;background-color:").concat(a.palette.accents_2,";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}span.__jsx-style-dynamic-selector{width:").concat(d,"%;background-color:").concat(u,";height:100%;margin:0;padding:0;display:block;}")))};Jb.defaultProps=mJ;Jb.displayName="GeistCapacity";qe(Jb);var _J=function(t,n,r){var i={default:{color:n.foreground,bgColor:n.background},dark:{color:n.background,bgColor:n.foreground},secondary:{color:n.background,bgColor:n.secondary},success:{color:n.background,bgColor:n.success},warning:{color:n.background,bgColor:n.warning},error:{color:n.background,bgColor:n.error},lite:{color:n.foreground,bgColor:n.background},alert:{color:"white",bgColor:n.alert},purple:{color:"white",bgColor:n.purple},violet:{color:"white",bgColor:n.violet},cyan:{color:"black",bgColor:n.cyan}},s=t==="default"&&!r;return xe({},i[t],{borderColor:s?n.border:"transparent"})},yJ=["children","className","disableAutoMargin"],xJ={disableAutoMargin:!1,className:""},e1=function(t){var n=t.children,r=t.className,i=t.disableAutoMargin,s=De(t,yJ),o=Be(),a=He(),l=a.SCALES;return E.createElement("footer",xe({},Ve(s),{className:I.dynamic([["1602358380",[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]]])+" "+"".concat(i?"":"auto-margin"," ").concat(r)}),n,E.createElement(I,{id:"1602358380",dynamic:[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]},"footer.__jsx-style-dynamic-selector{padding:".concat(l.py(.66)," ").concat(l.px(1.31),";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:inherit;background-color:inherit;font-size:").concat(l.font(.875),";border-top:1px solid ").concat(o.palette.border,";border-bottom-left-radius:").concat(o.layout.radius,";border-bottom-right-radius:").concat(o.layout.radius,";min-height:").concat(l.height(3.3),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.auto-margin.__jsx-style-dynamic-selector *{margin-top:0;margin-bottom:0;margin-right:").concat(o.layout.gapQuarter,";}")))};e1.defaultProps=xJ;e1.displayName="GeistCardFooter";var t1=qe(e1),vJ=["className","children"],bJ={className:""},n1=function(t){var n=t.className,r=t.children,i=De(t,vJ),s=He(),o=s.SCALES;return E.createElement("div",xe({},Ve(i),{className:I.dynamic([["490544004",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"490544004",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1)," ").concat(o.pr(1)," ").concat(o.pb(1)," ").concat(o.pl(1),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector>p:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>p:last-child{margin-bottom:0;}")))};n1.defaultProps=bJ;n1.displayName="GeistCardContent";var bp=qe(n1),wJ=["opacity"],EJ={opacity:.5},r1=E.memo(function(e){var t=e.opacity,n=De(e,wJ),r=Be();return E.createElement("div",xe({},Ve(n),{className:I.dynamic([["2946022605",[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]]])+" skeleton"}),E.createElement(I,{id:"2946022605",dynamic:[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]},".skeleton.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background-image:linear-gradient( 270deg, ".concat(r.palette.accents_1,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_1," );background-size:400% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;opacity:").concat(t,";-webkit-transition:opacity 300ms ease-out;transition:opacity 300ms ease-out;}@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}")))});r1.defaultProps=EJ;r1.displayName="GeistImageSkeleton";var SJ=["src","disableSkeleton","className","maxDelay"],AJ={disableSkeleton:!1,className:"",maxDelay:3e3},i1=function(t){var n=t.src,r=t.disableSkeleton,i=t.className,s=t.maxDelay,o=De(t,SJ),a=He(),l=a.SCALES,c=a.getScaleableProps,d=c(["width","w"]),u=c(["height","h"]),h=!r&&d&&u,g=Be(),p=L.useState(!0),m=Re(p,2),_=m[0],y=m[1],f=L.useState(!0),x=Re(f,2),v=x[0],w=x[1],b=L.useRef(null),S=function(){h&&y(!1)};return L.useEffect(function(){h&&b.current&&b.current.complete&&(y(!1),w(!1))}),L.useEffect(function(){var A=setTimeout(function(){h&&w(!1),clearTimeout(A)},s);return function(){return clearTimeout(A)}},[_]),E.createElement("div",{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])+" "+"image ".concat(i)},v&&h&&E.createElement(r1,{opacity:_?.5:0}),E.createElement("img",xe({ref:b,onLoad:S,src:n},Ve(o),{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])})),E.createElement(I,{id:"932238951",dynamic:[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]},".image.__jsx-style-dynamic-selector{position:relative;border-radius:".concat(g.layout.radius,";overflow:hidden;max-width:100%;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0,"auto")," ").concat(l.mb(0)," ").concat(l.ml(0,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";}img.__jsx-style-dynamic-selector{width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";object-fit:scale-down;display:block;}")))};i1.defaultProps=AJ;i1.displayName="GeistImage";var ZD=qe(i1),kJ=function(){return E.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-4165143638"},E.createElement("path",{d:"M5 10.2H19V21H5V10.2Z",className:"jsx-4165143638"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C13.933 12 15.5 10.3882 15.5 8.4C15.5 6.41177 13.933 4.8 12 4.8C10.067 4.8 8.5 6.41177 8.5 8.4C8.5 10.3882 10.067 12 12 12ZM12 13.8C14.8995 13.8 17.25 11.3823 17.25 8.4C17.25 5.41766 14.8995 3 12 3C9.10051 3 6.75 5.41766 6.75 8.4C6.75 11.3823 9.10051 13.8 12 13.8Z",className:"jsx-4165143638"}),E.createElement(I,{id:"4165143638"},"svg.jsx-4165143638{width:1em;height:1em;}"))},CJ=E.memo(kJ),TJ=function(t,n){return t?{color:n.background,barBgColor:n.foreground,inputBgColor:n.accents_8,borderColor:n.accents_7,titleColor:n.accents_2}:{color:n.foreground,barBgColor:n.background,inputBgColor:n.accents_1,borderColor:n.border,titleColor:n.accents_5}},LJ=["url","title","children","showFullLink","invert","anchorProps","className"],NJ={className:"",showFullLink:!1,anchorProps:{},invert:!1},IJ=function(t){try{return new URL(t).host}catch{return t}},MJ=function(t,n){return E.createElement("div",{className:I.dynamic([["524099755",[n.titleColor]]])+" title"},t,E.createElement(I,{id:"524099755",dynamic:[n.titleColor]},".title.__jsx-style-dynamic-selector{color:".concat(n.titleColor,";font-size:0.75em;}")))},PJ=function(t,n,r,i){return E.createElement("div",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" address-input"},E.createElement("span",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" https"},E.createElement(CJ,null)),E.createElement(qb,xe({href:t,title:t,target:"_blank"},i),n?t:IJ(t)),E.createElement(I,{id:"2765629350",dynamic:[r.inputBgColor]},".address-input.__jsx-style-dynamic-selector{height:1.75em;max-width:60%;min-width:40%;background-color:".concat(r.inputBgColor,";color:inherit;border-radius:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0 10px;overflow:hidden;position:relative;}.address-input.__jsx-style-dynamic-selector *{font-size:0.75em;color:inherit;}.address-input.__jsx-style-dynamic-selector a{max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;color:inherit;}.https.__jsx-style-dynamic-selector{width:0.75em;height:0.75em;font-size:1em;margin-right:0.31em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:-1px;color:inherit;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))},s1=E.forwardRef(function(e,t){var n=e.url,r=e.title,i=e.children,s=e.showFullLink,o=e.invert,a=e.anchorProps,l=e.className,c=De(e,LJ),d=Be(),u=He(),h=u.SCALES,g=L.useMemo(function(){return TJ(o,d.palette)},[o,d.palette]),p=L.useMemo(function(){return n?PJ(n,s,g,a):r?MJ(r,g):null},[n,s,r,g,a]);return E.createElement("div",xe({ref:t},Ve(c),{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" "+"browser ".concat(l)}),E.createElement("header",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])},E.createElement("div",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" traffic"},E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" close"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" mini"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" full"})),p),i,E.createElement(I,{id:"3239040194",dynamic:[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]},".browser.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:".concat(d.expressiveness.shadowLarge,";max-width:100%;border-radius:").concat(d.layout.radius,";overflow:hidden;font-size:").concat(h.font(1),";width:").concat(h.width(1,"max-content"),";height:").concat(h.height(1,"auto"),";margin:").concat(h.mt(0)," ").concat(h.mr(0,"auto")," ").concat(h.mb(0)," ").concat(h.ml(0,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";}.browser.__jsx-style-dynamic-selector .image{border-top-left-radius:0;border-top-right-radius:0;}header.__jsx-style-dynamic-selector{height:2.5em;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;color:").concat(g.color,";background-color:").concat(g.barBgColor,";border-bottom:1px solid ").concat(g.borderColor,";}.traffic.__jsx-style-dynamic-selector{width:auto;position:absolute;left:").concat(d.layout.gapHalf,";top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);bottom:0;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:inherit;}.traffic.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{border-radius:50%;width:0.75em;height:0.75em;max-width:20px;max-height:20px;display:inline-block;margin-right:0.5em;}.close.__jsx-style-dynamic-selector{background-color:#ff5f56;}.mini.__jsx-style-dynamic-selector{background-color:#ffbd2e;}.full.__jsx-style-dynamic-selector{background-color:#27c93f;}")))});s1.defaultProps=NJ;s1.displayName="GeistImageBrowser";var FJ=qe(s1);ZD.Browser=FJ;var RJ=["children","hoverable","className","shadow","type"],DJ={type:"default",hoverable:!1,shadow:!1,className:""},o1=function(t){var n=t.children,r=t.hoverable,i=t.className,s=t.shadow,o=t.type,a=De(t,RJ),l=Be(),c=He(),d=c.SCALES,u=L.useMemo(function(){return s?l.expressiveness.shadowMedium:r?l.expressiveness.shadowSmall:"none"},[r,s,l.expressiveness]),h=L.useMemo(function(){return _J(o,l.palette,s)},[o,l.palette,s]),g=h.color,p=h.bgColor,m=h.borderColor,_=fi(n,t1),y=Re(_,2),f=y[0],x=y[1],v=fi(f,ZD),w=Re(v,2),b=w[0],S=w[1],A=Kc(b,bp);return E.createElement("div",xe({},Ve(a),{className:I.dynamic([["4234389955",[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]]])+" "+"card ".concat(i)}),S,A?b:E.createElement(bp,null,b),x,E.createElement(I,{id:"4234389955",dynamic:[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]},".card.__jsx-style-dynamic-selector{background:".concat(l.palette.background,";-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border-radius:").concat(l.layout.radius,";box-shadow:").concat(s?l.expressiveness.shadowSmall:"none",";box-sizing:border-box;color:").concat(g,";background-color:").concat(p,";border:1px solid ").concat(m,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.card.__jsx-style-dynamic-selector:hover{box-shadow:").concat(u,";}.card.__jsx-style-dynamic-selector img{width:100%;}.card.__jsx-style-dynamic-selector .image{border-bottom-left-radius:0;border-bottom-right-radius:0;}")))};o1.defaultProps=DJ;o1.displayName="GeistCard";var Lm=qe(o1);Lm.Footer=t1;Lm.Actions=t1;Lm.Content=bp;Lm.Body=bp;var zJ={disabledAll:!1,inGroup:!1,values:[]},QD=E.createContext(zJ),OJ=function(){return E.useContext(QD)},KD=function(t){var n=t.fill,r=t.bg,i=t.disabled,s=t.checked,o=Be(),a=L.useMemo(function(){return{propsFill:n,propsBg:r}},[o.palette]),l=a.propsFill,c=a.propsBg;return E.createElement(E.Fragment,null,s?E.createElement("svg",{viewBox:"0 0 17 16",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M12.1429 0H3.85714C1.7269 0 0 1.79086 0 4V12C0 14.2091 1.7269 16 3.85714 16H12.1429C14.2731 16 16 14.2091 16 12V4C16 1.79086 14.2731 0 12.1429 0Z",fill:l,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])}),E.createElement("path",{d:"M16 3L7.72491 11L5 8",stroke:c,strokeWidth:"1.5",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})):E.createElement("svg",{viewBox:"0 0 12 12",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M8.5 0.5H3.5C1.84315 0.5 0.5 1.84315 0.5 3.5V8.5C0.5 10.1569 1.84315 11.5 3.5 11.5H8.5C10.1569 11.5 11.5 10.1569 11.5 8.5V3.5C11.5 1.84315 10.1569 0.5 8.5 0.5Z",stroke:o.palette.accents_5,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})),E.createElement(I,{id:"996181129",dynamic:[i?.4:1,i?"not-allowed":"pointer"]},"svg.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(0.86 * var(--checkbox-size));height:calc(0.86 * var(--checkbox-size));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:".concat(i?.4:1,";cursor:").concat(i?"not-allowed":"pointer",";}")))};KD.displayName="GeistCheckboxIcon";var BJ=E.memo(KD),jJ=function(t,n){var r={default:{fill:t.foreground,bg:t.background},secondary:{fill:t.foreground,bg:t.background},success:{fill:t.success,bg:t.background},warning:{fill:t.warning,bg:t.background},error:{fill:t.error,bg:t.background}};return n?r[n]:r.default},UJ=["checked","initialChecked","disabled","onChange","className","children","type","value"],$J={disabled:!1,type:"default",initialChecked:!1,className:"",value:""},a1=function(t){var n=t.checked,r=t.initialChecked,i=t.disabled,s=t.onChange,o=t.className,a=t.children,l=t.type,c=t.value,d=De(t,UJ),u=Be(),h=He(),g=h.SCALES,p=L.useState(r),m=Re(p,2),_=m[0],y=m[1],f=OJ(),x=f.updateState,v=f.inGroup,w=f.disabledAll,b=f.values,S=v&&w||i;v&&n&&Pi('Remove props "checked" when [Checkbox] component is in the group.',"Checkbox"),v&&L.useEffect(function(){var R=b.includes(c);R!==_&&y(R)},[b.join(",")]);var A=L.useMemo(function(){return jJ(u.palette,l)},[u.palette,l]),C=A.fill,k=A.bg,N=L.useCallback(function(R){if(!S){var B={target:{checked:!_},stopPropagation:R.stopPropagation,preventDefault:R.preventDefault,nativeEvent:R};v&&x&&x&&x(c,!_),y(!_),s&&s(B)}},[x,s,S,_]);return L.useEffect(function(){n!==void 0&&y(n)},[n]),E.createElement("label",{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])+" "+"checkbox ".concat(o)},E.createElement(BJ,{fill:C,bg:k,disabled:S,checked:_}),E.createElement("input",xe({type:"checkbox",disabled:S,checked:_,onChange:N},Ve(d),{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])})),E.createElement("span",{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])+" text"},a),E.createElement(I,{id:"4126727675",dynamic:[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]},".checkbox.__jsx-style-dynamic-selector{--checkbox-size:".concat(g.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:").concat(S?"not-allowed":"pointer",";opacity:").concat(S?.75:1,";line-height:var(--checkbox-size);width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"var(--checkbox-size)"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}.text.__jsx-style-dynamic-selector{font-size:var(--checkbox-size);line-height:var(--checkbox-size);padding-left:calc(var(--checkbox-size) * 0.5);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:").concat(S?"not-allowed":"pointer",";}input.__jsx-style-dynamic-selector{opacity:0;outline:none;position:absolute;width:0;height:0;margin:0;padding:0;z-index:-1;font-size:0;background-color:transparent;}")))};a1.defaultProps=$J;a1.displayName="GeistCheckbox";var VJ=qe(a1);function GJ(e){if(Array.isArray(e))return Wy(e)}function HJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qr(e){return GJ(e)||HJ(e)||pD(e)||WJ()}var qJ=["disabled","onChange","value","children","className"],XJ={disabled:!1,className:""},l1=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=De(t,qJ),l=He(),c=l.SCALES,d=L.useState([]),u=Re(d,2),h=u[0],g=u[1];i||(i=[],Pi('Props "value" is required.',"Checkbox Group"));var p=function(y,f){var x=h.filter(function(w){return w!==y}),v=f?[].concat(qr(x),[y]):x;g(v),r&&r(v)},m=L.useMemo(function(){return{updateState:p,disabledAll:n,inGroup:!0,values:h}},[n,h]);return L.useEffect(function(){g(i)},[i.join(",")]),E.createElement(QD.Provider,{value:m},E.createElement("div",xe({},Ve(a),{className:I.dynamic([["1727163828",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]]])+" "+"group ".concat(o)}),s,E.createElement(I,{id:"1727163828",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.group.__jsx-style-dynamic-selector label{margin-right:calc(").concat(c.font(1)," * 2);--checkbox-size:").concat(c.font(1),";}.group.__jsx-style-dynamic-selector label:last-of-type{margin-right:0;}"))))};l1.defaultProps=XJ;l1.displayName="GeistCheckboxGroup";var YJ=qe(l1);VJ.Group=YJ;var ZJ=["children","block","className"],QJ={block:!1,className:""},c1=function(t){var n=t.children,r=t.block,i=t.className,s=De(t,ZJ),o=He(),a=o.SCALES,l=Ve(s);return r?E.createElement(E.Fragment,null,E.createElement("pre",xe({},l,{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])+" "+(l&&l.className!=null&&l.className||i||"")}),E.createElement("code",{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])},n)),E.createElement(I,{id:"1286851807",dynamic:[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]},"pre.__jsx-style-dynamic-selector{max-width:100%;font-size:".concat(a.font(.875),";width:").concat(a.width(1,"initial"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(1)," ").concat(a.pr(1.3)," ").concat(a.pb(1)," ").concat(a.pl(1.3),";margin:").concat(a.mt(1.3)," ").concat(a.mr(0)," ").concat(a.mb(1.3)," ").concat(a.ml(0),";}.dark.__jsx-style-dynamic-selector{color:white;background:black;}.dark.__jsx-style-dynamic-selector code.__jsx-style-dynamic-selector{color:white;}"))):E.createElement("code",l,n)};c1.defaultProps=QJ;c1.displayName="GeistCode";qe(c1);var KJ=function(t){var n=t.active;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"},className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])},E.createElement("path",{d:"M6 9l6 6 6-6",className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])}),E.createElement(I,{id:"2249786880",dynamic:[n?"-180deg":"0"]},"svg.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;-webkit-transform:rotateZ(".concat(n?"-180deg":"0",");-ms-transform:rotateZ(").concat(n?"-180deg":"0",");transform:rotateZ(").concat(n?"-180deg":"0",");width:1.5em;height:1.5em;}")))},JJ=E.memo(KJ),eee=function(t){var n={width:0,height:0};if(!t||typeof window>"u")return n;var r=t.getBoundingClientRect(),i=window.getComputedStyle(t),s=i.width,o=i.height,a=function(c,d){if(!c)return 0;var u=c.includes("px")?+c.split("px")[0]:c.includes("%")?+c.split("%")[0]*d*.01:c;return Number.isNaN(+u)?0:+u};return{width:a("".concat(s),r.width),height:a("".concat(o),r.height)}},JD=function(t){var n=L.useState({width:0,height:0}),r=Re(n,2),i=r[0],s=r[1],o=function(){var l=eee(t.current),c=l.width,d=l.height;s({width:c,height:d})};return L.useEffect(function(){return o()},[t.current]),[i,o]},tee={isExpanded:!1,delay:200},Nm=function(t){var n=t.isExpanded,r=t.delay,i=t.children,s=L.useState(n?"auto":"0"),o=Re(s,2),a=o[0],l=o[1],c=L.useState(n),d=Re(c,2),u=d[0],h=d[1],g=L.useState(n),p=Re(g,2),m=p[0],_=p[1],y=L.useRef(null),f=L.useRef(),x=L.useRef(),v=L.useRef(),w=JD(y),b=Re(w,2),S=b[0],A=b[1];return L.useEffect(function(){return l("".concat(S.height,"px"))},[S.height]),L.useEffect(function(){return n?_(n):(A(),l("".concat(S.height,"px"))),f.current=window.setTimeout(function(){h(n),clearTimeout(f.current)},30),n?v.current=window.setTimeout(function(){l("auto"),clearTimeout(v.current)},r):x.current=window.setTimeout(function(){_(n),clearTimeout(x.current)},r/2),function(){clearTimeout(f.current),clearTimeout(x.current),clearTimeout(v.current)}},[n]),E.createElement("div",{className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" "+"container ".concat(u?"expanded":"")},E.createElement("div",{ref:y,className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" content"},i),E.createElement(I,{id:"1918690829",dynamic:[m?"visible":"hidden",r,a]},".container.__jsx-style-dynamic-selector{padding:0;margin:0;height:0;overflow:hidden;visibility:".concat(m?"visible":"hidden",";-webkit-transition:height ").concat(r,"ms ease;transition:height ").concat(r,"ms ease;}.expanded.__jsx-style-dynamic-selector{height:").concat(a,";visibility:visible;}")))};Nm.defaultProps=tee;Nm.displayName="GeistExpand";var nee={values:[]},e3=E.createContext(nee),ree=function(){return E.useContext(e3)},iee=["children","title","subtitle","initialVisible","shadow","className","index"],see={className:"",shadow:!1,initialVisible:!1},d1=function(t){var n=t.children,r=t.title,i=t.subtitle,s=t.initialVisible,o=t.shadow,a=t.className,l=t.index,c=De(t,iee),d=Be(),u=He(),h=u.SCALES,g=ree(),p=g.values,m=g.updateValues,_=_i(s),y=Re(_,3),f=y[0],x=y[1],v=y[2];r||Pi('"title" is required.',"Collapse"),L.useEffect(function(){if(p.length){var b=!!p.find(function(S){return S===l});x(b)}},[p.join(",")]);var w=function(){var S=!v.current;x(S),m&&m(l,S)};return E.createElement("div",xe({},Ve(c),{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" "+"collapse ".concat(o?"shadow":""," ").concat(a)}),E.createElement("div",{role:"button",onClick:w,className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" view"},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" title"},E.createElement("h3",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])},r)," ",E.createElement(JJ,{active:f})),i&&E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" subtitle"},i)),E.createElement(Nm,{isExpanded:f},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" content"},n)),E.createElement(I,{id:"3106940587",dynamic:[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]},".collapse.__jsx-style-dynamic-selector{border-top:1px solid ".concat(d.palette.border,";border-bottom:1px solid ").concat(d.palette.border,";font-size:").concat(h.font(1),";width:").concat(h.width(1,"auto"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.shadow.__jsx-style-dynamic-selector{box-shadow:").concat(d.expressiveness.shadowSmall,";border:none;border-radius:").concat(d.layout.radius,";padding:").concat(d.layout.gap,";}.view.__jsx-style-dynamic-selector{cursor:pointer;outline:none;}.title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(d.palette.foreground,";}.title.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0;font-size:1.5em;}.subtitle.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_5,";margin:0;}.subtitle.__jsx-style-dynamic-selector>*{margin:0;}.content.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.6em;padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};d1.defaultProps=see;d1.displayName="GeistCollapse";var t3=qe(d1),oee=["children","accordion","className"],aee={accordion:!0,className:""},u1=function(t){var n=t.children,r=t.accordion,i=t.className,s=De(t,oee),o=He(),a=o.SCALES,l=_i([]),c=Re(l,3),d=c[0],u=c[1],h=c[2],g=function(y,f){var x=h.current.find(function(v){return v===y});if(r)return u(f?[y]:[]);if(f)return x?void 0:u([].concat(qr(h.current),[y]));u(h.current.filter(function(v){return v!==y}))},p=L.useMemo(function(){return{values:d,updateValues:g}},[d.join(",")]),m=L.useMemo(function(){return UQ(n,[t3])},[n]);return E.createElement(e3.Provider,{value:p},E.createElement("div",xe({},Ve(s),{className:I.dynamic([["2415399140",[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"collapse-group ".concat(i)}),m,E.createElement(I,{id:"2415399140",dynamic:[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},".collapse-group.__jsx-style-dynamic-selector{width:".concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.6)," ").concat(a.pb(0)," ").concat(a.pl(.6),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.collapse-group.__jsx-style-dynamic-selector>div + div{border-top:none;}"))))};u1.defaultProps=aee;u1.displayName="GeistCollapseGroup";var lee=qe(u1);t3.Group=lee;var cee=["title","content","className"],dee={title:"Title",content:"",className:""},h1=function(t){var n=t.title,r=t.content,i=t.className,s=De(t,cee),o=Be(),a=He(),l=a.SCALES;return E.createElement("dl",xe({},Ve(s),{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])+" "+"description ".concat(i)}),E.createElement("dt",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},n),E.createElement("dd",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},r),E.createElement(I,{id:"2323318745",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]},".description.__jsx-style-dynamic-selector{font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}dt.__jsx-style-dynamic-selector{font-size:0.75em;line-height:1em;margin-bottom:0.5em;text-transform:uppercase;white-space:nowrap;color:").concat(o.palette.accents_5,";font-weight:500;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}dd.__jsx-style-dynamic-selector{font-size:0.875em;margin:0;line-height:1.1em;color:").concat(o.palette.foreground,";font-weight:500;}dd.__jsx-style-dynamic-selector p,dt.__jsx-style-dynamic-selector p{margin:0;}")))};h1.defaultProps=dee;h1.displayName="GeistDescription";qe(h1);var uee=["children","caption","shadow","className"],hee={caption:"",shadow:!1,className:""},g1=function(t){var n=t.children,r=t.caption,i=t.shadow,s=t.className,o=De(t,uee),a=Be(),l=He(),c=l.SCALES,d=L.useMemo(function(){return i&&a.type!=="dark"},[a.type,i]);return E.createElement("div",xe({},Ve(o),{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" "+"display ".concat(s)}),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" content"},n),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" caption"},r),E.createElement(I,{id:"2213400331",dynamic:[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]},".display.__jsx-style-dynamic-selector{display:block;max-width:100%;font-size:".concat(c.font(.875),";width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(2.5)," ").concat(c.mr(0,"auto")," ").concat(c.mb(2.5)," ").concat(c.ml(0,"auto"),";}.content.__jsx-style-dynamic-selector{display:block;margin:0 auto;border-radius:4px;overflow:hidden;width:").concat(c.width(1,"max-content"),";box-shadow:").concat(d?a.expressiveness.shadowLarge:"none",";max-width:100%;}.content.__jsx-style-dynamic-selector pre{margin:0;-webkit-transition:min-width ease 0.2s;transition:min-width ease 0.2s;}.content.__jsx-style-dynamic-selector img{display:block;}.caption.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.5em;color:").concat(a.palette.accents_5,";margin:").concat(i?"2.5em":"1.3em"," auto 0;text-align:center;max-width:85%;}")))};g1.defaultProps=hee;g1.displayName="GeistDisplay";qe(g1);var gee=["type","align","children","className"],pee={align:"center",type:"default",className:""},mee=function(t,n){var r={default:n.border,lite:n.accents_1,success:n.successLight,warning:n.warningLight,error:n.errorLight,secondary:n.secondary,dark:n.foreground};return r[t]},p1=function(t){var n=t.type,r=t.align,i=t.children,s=t.className,o=De(t,gee),a=Be(),l=He(),c=l.SCALES,d=L.useMemo(function(){return mee(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!r||r==="center"?"":r==="left"||r==="start"?"start":"end"},[r]),h=n==="default"?a.palette.foreground:d;return E.createElement("div",xe({role:"separator"},Ve(o),{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"divider ".concat(s)}),i&&E.createElement("span",{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"text ".concat(u)},i),E.createElement(I,{id:"3410666717",dynamic:[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]},".divider.__jsx-style-dynamic-selector{max-width:100%;background-color:".concat(d,";position:relative;font-size:").concat(c.font(1),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(.0625),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(.5)," ").concat(c.mr(0)," ").concat(c.mb(.5)," ").concat(c.ml(0),";}.text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;min-height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:0 0.75em;font-size:inherit;font-weight:bold;text-transform:capitalize;background-color:").concat(a.palette.background,";color:").concat(h,";z-index:10;}.text.start.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:7%;}.text.end.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:auto;right:7%;}")))};p1.defaultProps=pee;p1.displayName="GeistDivider";qe(p1);var fee=["type","children","className"],_ee={type:"default",className:""},yee=function(t,n){var r={default:n.palette.accents_2,success:n.palette.success,warning:n.palette.warning,error:n.palette.error};return r[t]||r.default},m1=function(t){var n=t.type,r=t.children,i=t.className,s=De(t,fee),o=Be(),a=He(),l=a.SCALES,c=L.useMemo(function(){return yee(n,o)},[n,o]);return E.createElement("span",xe({},Ve(s),{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" "+"dot ".concat(i)}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" icon"}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" label"},r),E.createElement(I,{id:"4266900845",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]},".dot.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.icon.__jsx-style-dynamic-selector{width:0.625em;height:0.625em;min-width:calc(0.625 * 12px);min-height:calc(0.625 * 12px);line-height:0.625em;border-radius:50%;background-color:").concat(c,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.label.__jsx-style-dynamic-selector{margin-left:0.5em;font-size:1em;line-height:1em;text-transform:capitalize;}")))};m1.defaultProps=_ee;m1.displayName="GeistDot";qe(m1);var xee={scrollLayer:!1},ic=new Map,vee=function(){return typeof window>"u"||!window.navigator?!1:/iP(ad|hone|od)/.test(window.navigator.platform)},nC=function(t){return t.touches&&t.touches.length>1?!0:(t.preventDefault(),!1)},n3=function(t,n){if(typeof document>"u")return[!1,function(d){return d}];var r=t||L.useRef(document.body),i=L.useState(!1),s=Re(i,2),o=s[0],a=s[1],l=xe({},xee,n||{}),c=function(){return l.scrollLayer?!1:vee()};return L.useEffect(function(){if(!(!r||!r.current)){var d=r.current.style.overflow;if(o){if(ic.has(r.current))return;c()?document.addEventListener("touchmove",nC,{passive:!1}):r.current.style.overflow="hidden",ic.set(r.current,{last:d});return}if(ic.has(r.current)){if(c())document.removeEventListener("touchmove",nC);else{var u=ic.get(r.current);r.current.style.overflow=u.last}ic.delete(r.current)}}},[o,r]),[o,a]},wp;(function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Equal=187]="Equal",e[e.Minus=189]="Minus",e[e.Backquote=192]="Backquote",e[e.Backslash=220]="Backslash"})(wp||(wp={}));var $d;(function(e){e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl"})($d||($d={}));var bee=function(){return{CtrlCmd:Yk()?"metaKey":"ctrlKey",WinCtrl:Yk()?"ctrlKey":"metaKey"}},wee=function(t){var n=t.filter(function(i){return!!$d[i]}),r={CtrlCmd:!1,Shift:!1,Alt:!1,WinCtrl:!1};return n.forEach(function(i){var s=$d[i];r[s]=!0}),r},r3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Array.isArray(n)?n:[n],s=r.disableGlobalEvent,o=s===void 0?!1:s,a=r.capture,l=a===void 0?!1:a,c=r.stopPropagation,d=c===void 0?!1:c,u=r.preventDefault,h=u===void 0?!0:u,g=r.event,p=g===void 0?"keydown":g,m=wee(i),_=i.filter(function(b){return!$d[b]})[0],y=bee(),f=y.CtrlCmd,x=y.WinCtrl,v=function(S){m.Shift&&!S.shiftKey||m.Alt&&!S.altKey||m.CtrlCmd&&!S[f]||m.WinCtrl&&!S[x]||_&&S.keyCode!==_||(d&&S.stopPropagation(),h&&S.preventDefault(),t&&t(S))};L.useEffect(function(){return o||document.addEventListener(p,v),function(){document.removeEventListener(p,v)}},[o]);var w=function(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return S!==p?function(){}:A!==l?function(){}:function(C){return v(C)}};return{bindings:{onKeyDown:w("keydown"),onKeyDownCapture:w("keydown",!0),onKeyPress:w("keypress"),onKeyPressCapture:w("keypress",!0),onKeyUp:w("keyup"),onKeyUpCapture:w("keyup",!0)}}},Eee=["children","onClick","visible","width","onContentClick"],See={onClick:function(){},visible:!1,onContentClick:function(){}},Im=E.memo(function(e){var t=e.children,n=e.onClick,r=e.visible,i=e.width,s=e.onContentClick,o=De(e,Eee),a=Be(),l=_i(!1),c=Re(l,3),d=c[1],u=c[2],h=function(m){u.current||n&&n(m)},g=function(){if(u.current)var m=setTimeout(function(){d(!1),clearTimeout(m)},0)};return E.createElement(xa,{name:"backdrop-wrapper",visible:r,clearTime:300},E.createElement("div",xe({onClick:h,onMouseUp:g},Ve(o),{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" backdrop"}),E.createElement("div",{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" layer"}),E.createElement("div",{onClick:s,onMouseDown:function(){return d(!0)},className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" content"},t),E.createElement(I,{id:"2429486860",dynamic:[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]},".backdrop.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:1000;-webkit-overflow-scrolling:touch;box-sizing:border-box;text-align:center;}.content.__jsx-style-dynamic-selector{position:relative;z-index:1001;outline:none;max-width:90%;width:".concat(i,";margin:20px auto;vertical-align:middle;display:inline-block;}.backdrop.__jsx-style-dynamic-selector:before{display:inline-block;width:0;height:100%;vertical-align:middle;content:'';}.layer.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;opacity:").concat(a.expressiveness.portalOpacity,";background-color:black;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);pointer-events:none;z-index:1000;}.backdrop-wrapper-enter.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}.backdrop-wrapper-enter-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}"))))});Im.defaultProps=See;Im.displayName="GeistBackdrop";or("top","right","bottom","left");var Aee=function(t){var n={top:{initial:"translate3d(0, -100%, 0)",hidden:"translate3d(0, -100%, 0)",visible:"translate3d(0, 0, 0)"},left:{initial:"translate3d(-100%, 0, 0)",hidden:"translate3d(-100%, 0, 0)",visible:"translate3d(0, 0, 0)"},bottom:{initial:"translate3d(0, 100%, 0)",hidden:"translate3d(0, 100%, 0)",visible:"translate3d(0, 0, 0)"},right:{initial:"translate3d(100%, 0, 0)",hidden:"translate3d(100%, 0, 0)",visible:"translate3d(0, 0, 0)"}};return n[t]},kee=["className","children","visible","placement"],Cee={className:"",visible:!1},f1=function(t){var n=t.className,r=t.children,i=t.visible,s=t.placement,o=De(t,kee),a=Be(),l=He(),c=l.SCALES,d=L.useRef(null),u=L.useRef(null),h=L.useRef(null),g=L.useMemo(function(){return Aee(s)},[s]);L.useEffect(function(){if(i){var m=document.activeElement,_=LD(d.current,m);_||u.current&&u.current.focus()}},[i]);var p=function(_){var y=_.keyCode===9;if(!(!i||!y)){var f=document.activeElement;_.shiftKey?f===u.current&&h.current&&h.current.focus():f===h.current&&u.current&&u.current.focus()}};return E.createElement(xa,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",xe({role:"dialog",tabIndex:-1,onKeyDown:p,ref:d},Ve(o),{className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" "+"wrapper ".concat(s," ").concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab start"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:h,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab end"}),E.createElement(I,{id:"3022633861",dynamic:[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]},".wrapper.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;max-width:100%;vertical-align:middle;overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;background-color:".concat(a.palette.background,";color:").concat(a.palette.foreground,";border-radius:calc(3 * ").concat(a.layout.radius,");box-shadow:").concat(a.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:").concat(g.initial,";-ms-transform:").concat(g.initial,";transform:").concat(g.initial,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.6,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);font-size:").concat(c.font(1),";--modal-wrapper-padding-left:").concat(c.pl(1.3125),";--modal-wrapper-padding-right:").concat(c.pr(1.3125),";padding:").concat(c.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(c.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.top.__jsx-style-dynamic-selector,.bottom.__jsx-style-dynamic-selector{width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";}.left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"100%"),";}.top.__jsx-style-dynamic-selector{bottom:auto;border-top-left-radius:0;border-top-right-radius:0;}.left.__jsx-style-dynamic-selector{right:auto;border-top-left-radius:0;border-bottom-left-radius:0;}.bottom.__jsx-style-dynamic-selector{top:auto;border-bottom-left-radius:0;border-bottom-right-radius:0;}.right.__jsx-style-dynamic-selector{left:auto;border-top-right-radius:0;border-bottom-right-radius:0;}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.2,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0.4;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};f1.defaultProps=Cee;f1.displayName="GeistDrawerWrapper";var Tee=["visible","keyboard","disableBackdropClick","onClose","onContentClick","wrapClassName","children"],Lee={wrapClassName:"",keyboard:!0,disableBackdropClick:!1,placement:"right"},_1=function(t){var n=t.visible,r=t.keyboard,i=t.disableBackdropClick,s=t.onClose,o=t.onContentClick,a=t.wrapClassName,l=t.children,c=De(t,Tee),d=lu("drawer"),u=L.useState(!1),h=Re(u,2),g=h[0],p=h[1],m=n3(null,{scrollLayer:!0}),_=Re(m,2),y=_[1],f=function(){s&&s(),p(!1),y(!1)};L.useEffect(function(){typeof n>"u"||(p(n),y(n))},[n]);var x=r3(function(){r&&f()},wp.Escape,{disableGlobalEvent:!0}),v=x.bindings,w=function(){i||f()};return d?bo.createPortal(E.createElement(Im,xe({onClick:w,onContentClick:o,visible:g,width:"100%"},v),E.createElement(f1,xe({visible:g,className:a},Ve(c)),l)),d):null};_1.defaultProps=Lee;_1.displayName="GeistDrawer";var y1=qe(_1),Nee=["className","children"],Iee={className:""},x1=function(t){var n=t.className,r=t.children,i=De(t,Nee),s=Be(),o=He(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("h2",xe({},Ve(i),{className:I.dynamic([["2865939188",[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2865939188",dynamic:[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"h2.__jsx-style-dynamic-selector{line-height:1.6;font-weight:normal;text-align:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;word-break:break-word;text-transform:capitalize;font-size:".concat(a.font(1.5),";color:").concat(s.palette.foreground,";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};x1.defaultProps=Iee;x1.displayName="GeistModalTitle";var i3=qe(x1),Mee=["className","children"],Pee={className:""},v1=function(t){var n=t.className,r=t.children,i=De(t,Mee),s=Be(),o=He(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("p",xe({},Ve(i),{className:I.dynamic([["2550488204",[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2550488204",dynamic:[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"p.__jsx-style-dynamic-selector{font-weight:normal;display:inline-block;text-align:center;word-break:break-word;text-transform:uppercase;color:".concat(s.palette.accents_5,";font-size:").concat(a.font(.875),";line-height:1.5em;width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"1.5em"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};v1.defaultProps=Pee;v1.displayName="GeistModalSubtitle";var s3=qe(v1),Fee=["className","children"],Ree={className:""},b1=function(t){var n=t.className,r=t.children,i=De(t,Fee),s=He(),o=s.SCALES;return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ve(i),{className:I.dynamic([["498745028",[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]]])+" "+"content ".concat(n)}),r),E.createElement(I,{id:"498745028",dynamic:[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]},".content.__jsx-style-dynamic-selector{position:relative;text-align:left;font-size:".concat(o.font(1),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3125)," ").concat(o.pr(1.3125)," ").concat(o.pb(.6625)," ").concat(o.pl(1.3125),";margin:").concat(o.mt(0)," ").concat(o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)")," ").concat(o.mb(0)," ").concat(o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)"),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};b1.defaultProps=Ree;b1.displayName="GeistModalContent";var o3=qe(b1);y1.Title=i3;y1.Subtitle=s3;y1.Content=o3;var Dee=["className","children"],zee={className:""},Vd=function(t){var n=t.className,r=t.children,i=De(t,Dee);return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ve(i),{className:"jsx-4105044205 "+"title ".concat(n)}),r),E.createElement(I,{id:"4105044205"},".title.jsx-4105044205{line-height:1.5;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;word-break:break-word;font-weight:600;-webkit-letter-spacing:-0.020625em;-moz-letter-spacing:-0.020625em;-ms-letter-spacing:-0.020625em;letter-spacing:-0.020625em;font-size:1.25em;width:auto;}"))};Vd.defaultProps=zee;Vd.displayName="GeistFieldsetTitle";var Oee=["className","children"],Bee={className:""},Gd=function(t){var n=t.className,r=t.children,i=De(t,Oee);return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ve(i),{className:"jsx-2265168013 "+(n||"")}),r),E.createElement(I,{id:"2265168013"},"div.jsx-2265168013{font-size:0.875em;line-height:1.6;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;margin:0.75em 0;}"))};Gd.defaultProps=Bee;Gd.displayName="GeistFieldsetSubtitle";var jee=["className","children"],Uee={className:""},w1=function(t){var n=t.className,r=t.children,i=De(t,jee),s=Be(),o=He(),a=o.SCALES;return E.createElement("footer",xe({},Ve(i),{className:I.dynamic([["903731644",[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"903731644",dynamic:[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"footer.__jsx-style-dynamic-selector{background-color:".concat(s.palette.accents_1,";border-top:1px solid ").concat(s.palette.border,";border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:").concat(s.palette.accents_6,";padding:").concat(s.layout.gapHalf," ").concat(s.layout.gap,";box-sizing:border-box;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(2.875),";padding:").concat(a.pt(.625)," ").concat(a.pr(1.31)," ").concat(a.pb(.625)," ").concat(a.pl(1.31),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};w1.defaultProps=Uee;w1.displayName="GeistFieldsetFooter";var a3=qe(w1),$ee=["className","children"],Vee={className:""},E1=function(t){var n=t.className,r=t.children,i=De(t,$ee),s=He(),o=s.SCALES;return E.createElement("div",xe({},Ve(i),{className:I.dynamic([["93049118",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"93049118",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3)," ").concat(o.pr(1.3)," ").concat(o.pb(1.3)," ").concat(o.pl(1.3),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector > *:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector > *:last-child{margin-bottom:0;}")))};E1.defaultProps=Vee;E1.displayName="GeistFieldsetContent";var Ep=qe(E1),Gee={inGroup:!1,currentValue:""},l3=E.createContext(Gee),Hee=function(){return E.useContext(l3)},Wee=["className","title","subtitle","children","value","label"],qee={value:"",label:"",disabled:!1,title:"",subtitle:"",className:""},S1=function(t){var n=t.className,r=t.title,i=t.subtitle,s=t.children,o=t.value,a=t.label,l=De(t,Wee),c=Be(),d=He(),u=d.SCALES,h=Hee(),g=h.inGroup,p=h.currentValue,m=h.register,_=L.useState(g),y=Re(_,2),f=y[0],x=y[1],v=fi(s,a3),w=Re(v,2),b=w[0],S=w[1],A=Kc(b,Vd),C=Kc(b,Gd),k=Kc(b,Ep);g&&(a||Pi('Props "label" is required when in a group.',"Fieldset Group"),(!o||o==="")&&(o=a),L.useEffect(function(){m&&m({value:o,label:a})},[]),L.useEffect(function(){!p||p===""||x(p!==o)},[p]));var N=L.useMemo(function(){return E.createElement(E.Fragment,null,b,!A&&r&&E.createElement(Vd,null,r),!C&&i&&E.createElement(Gd,null,i))},[b,A,C,r,i]);return E.createElement("div",xe({},Ve(l),{className:I.dynamic([["3253250630",[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+"fieldset ".concat(n)}),k?N:E.createElement(Ep,null,N),S&&S,E.createElement(I,{id:"3253250630",dynamic:[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},".fieldset.__jsx-style-dynamic-selector{background-color:".concat(c.palette.background,";border:1px solid ").concat(c.palette.border,";border-radius:").concat(c.layout.radius,";overflow:hidden;display:").concat(f?"none":"block",";font-size:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}")))};S1.defaultProps=qee;S1.displayName="GeistFieldset";var Dl=qe(S1),Xee=["className","children","value","onChange"],Yee={className:""},A1=function(t){var n=t.className,r=t.children,i=t.value,s=t.onChange,o=De(t,Xee),a=Be(),l=He(),c=l.SCALES,d=L.useState(i),u=Re(d,2),h=u[0],g=u[1],p=_i([]),m=Re(p,3),_=m[0],y=m[1],f=m[2],x=function(S){var A=f.current.find(function(C){return C.value===S.value});A&&Pi('The "value" of each "Fieldset" must be unique.',"Fieldset"),y([].concat(qr(f.current),[S]))},v=L.useMemo(function(){return{currentValue:h,inGroup:!0,register:x}},[h]),w=L.useCallback(function(b){g(b),s&&s(b)},[s]);return E.createElement(l3.Provider,{value:v},E.createElement("div",xe({},Ve(o),{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+"group ".concat(n)}),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-tabs"},_.map(function(b){return E.createElement("button",{onClick:function(){return w(b.value)},key:b.value,className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+((h===b.value?"active":"")||"")},b.label)})),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-content"},r),E.createElement(I,{id:"3411776855",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0,0)," ").concat(c.ml(0),";}.group-tabs.__jsx-style-dynamic-selector{white-space:nowrap;overflow-y:hidden;overflow-x:auto;font-size:").concat(c.font(1),";margin-bottom:-1px;}.group-content.__jsx-style-dynamic-selector{border-top-left-radius:0;overflow:hidden;}.group-content.__jsx-style-dynamic-selector .fieldset{border-top-left-radius:0;}button.__jsx-style-dynamic-selector{height:2.7em;line-height:2.7em;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(a.palette.accents_3,";background-color:").concat(a.palette.accents_1,";font-size:0.875em;white-space:nowrap;text-transform:capitalize;-webkit-appearance:none;cursor:pointer;margin:0;padding:0 1.45em;overflow:hidden;-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;border-radius:0;border:1px solid ").concat(a.palette.border,";-webkit-text-decoration:none;text-decoration:none;outline:none;}button.active.__jsx-style-dynamic-selector{border-bottom-color:transparent;background-color:").concat(a.palette.background,";color:").concat(a.palette.foreground,";cursor:default;}button.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector:last-of-type{border-top-right-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector+button.__jsx-style-dynamic-selector{border-left:0;}"))))};A1.defaultProps=Yee;A1.displayName="GeistFieldsetGroup";var Zee=qe(A1);Dl.Title=Vd;Dl.Subtitle=Gd;Dl.Footer=a3;Dl.Group=Zee;Dl.Content=Ep;Dl.Body=Ep;var Qee={toasts:[],toastHovering:!1,updateToasts:function(t){return t},updateToastHoverStatus:function(){}},Kee=E.createContext(Qee),Jee=function(){return E.useContext(Kee)},ete=["xs","sm","md","lg","xl","justify","direction","alignItems","alignContent","children","className"],tte={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,className:""},sc=function(t){var n=t===0?"display: none;":"display: inherit;";if(typeof t=="number"){var r=4.166666666666667*t,i=r>100?"100%":r<0?"0":"".concat(r,"%");return{grow:0,display:n,width:i,basis:i}}return{grow:1,display:n,width:"100%",basis:"0"}},Mm=function(t){var n=t.xs,r=t.sm,i=t.md,s=t.lg,o=t.xl,a=t.justify,l=t.direction,c=t.alignItems,d=t.alignContent,u=t.children,h=t.className,g=De(t,ete),p=Be(),m=He(),_=m.SCALES,y=L.useMemo(function(){var x={justify:a,direction:l,alignItems:c,alignContent:d,xs:n,sm:r,md:i,lg:s,xl:o},v=Object.keys(x).reduce(function(w,b){return x[b]!==void 0&&x[b]!==!1?"".concat(w," ").concat(b):w},"");return v.trim()},[a,l,c,d,n,r,i,s,o]),f=L.useMemo(function(){return{xs:sc(n),sm:sc(r),md:sc(i),lg:sc(s),xl:sc(o)}},[n,r,i,s,o]);return E.createElement("div",xe({},Ve(g),{className:I.dynamic([["2419486498",[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]]])+" "+"item ".concat(y," ").concat(h)}),u,E.createElement(I,{id:"2419486498",dynamic:[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]},".item.__jsx-style-dynamic-selector{font-size:".concat(_.font(1,"inherit"),";height:").concat(_.height(1,"auto"),";}.justify.__jsx-style-dynamic-selector{-webkit-box-pack:").concat(a,";-webkit-justify-content:").concat(a,";-ms-flex-pack:").concat(a,";justify-content:").concat(a,";}.direction.__jsx-style-dynamic-selector{-webkit-flex-direction:").concat(l,";-ms-flex-direction:").concat(l,";flex-direction:").concat(l,";}.alignContent.__jsx-style-dynamic-selector{-webkit-align-content:").concat(d,";-ms-flex-line-pack:").concat(d,";align-content:").concat(d,";}.alignItems.__jsx-style-dynamic-selector{-webkit-align-items:").concat(c,";-webkit-box-align:").concat(c,";-ms-flex-align:").concat(c,";align-items:").concat(c,";}.xs.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xs.grow,";-webkit-flex-grow:").concat(f.xs.grow,";-ms-flex-positive:").concat(f.xs.grow,";flex-grow:").concat(f.xs.grow,";max-width:").concat(f.xs.width,";-webkit-flex-basis:").concat(f.xs.basis,";-ms-flex-preferred-size:").concat(f.xs.basis,";flex-basis:").concat(f.xs.basis,";").concat(f.xs.display,";}@media only screen and (min-width:").concat(p.breakpoints.sm.min,"){.sm.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.sm.grow,";-webkit-flex-grow:").concat(f.sm.grow,";-ms-flex-positive:").concat(f.sm.grow,";flex-grow:").concat(f.sm.grow,";max-width:").concat(f.sm.width,";-webkit-flex-basis:").concat(f.sm.basis,";-ms-flex-preferred-size:").concat(f.sm.basis,";flex-basis:").concat(f.sm.basis,";").concat(f.sm.display,";}}@media only screen and (min-width:").concat(p.breakpoints.md.min,"){.md.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.md.grow,";-webkit-flex-grow:").concat(f.md.grow,";-ms-flex-positive:").concat(f.md.grow,";flex-grow:").concat(f.md.grow,";max-width:").concat(f.md.width,";-webkit-flex-basis:").concat(f.md.basis,";-ms-flex-preferred-size:").concat(f.md.basis,";flex-basis:").concat(f.md.basis,";").concat(f.md.display,";}}@media only screen and (min-width:").concat(p.breakpoints.lg.min,"){.lg.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.lg.grow,";-webkit-flex-grow:").concat(f.lg.grow,";-ms-flex-positive:").concat(f.lg.grow,";flex-grow:").concat(f.lg.grow,";max-width:").concat(f.lg.width,";-webkit-flex-basis:").concat(f.lg.basis,";-ms-flex-preferred-size:").concat(f.lg.basis,";flex-basis:").concat(f.lg.basis,";").concat(f.lg.display,";}}@media only screen and (min-width:").concat(p.breakpoints.xl.min,"){.xl.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xl.grow,";-webkit-flex-grow:").concat(f.xl.grow,";-ms-flex-positive:").concat(f.xl.grow,";flex-grow:").concat(f.xl.grow,";max-width:").concat(f.xl.width,";-webkit-flex-basis:").concat(f.xl.basis,";-ms-flex-preferred-size:").concat(f.xl.basis,";flex-basis:").concat(f.xl.basis,";").concat(f.xl.display,";}}")))};Mm.defaultProps=tte;Mm.displayName="GeistGridBasicItem";var nte=["children","className"],rte={className:""},k1=function(t){var n=t.children,r=t.className,i=De(t,nte),s=He(),o=s.SCALES,a={styles:E.createElement(I,{id:"1271839607",dynamic:[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]},"div.__jsx-style-dynamic-selector{margin:".concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";box-sizing:border-box;padding:").concat(o.pt(0,"var(--grid-gap-unit)")," ").concat(o.pr(0,"var(--grid-gap-unit)")," ").concat(o.pb(0,"var(--grid-gap-unit)")," ").concat(o.pl(0,"var(--grid-gap-unit)"),";}")),className:I.dynamic([["1271839607",[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]]])},l=a.className,c=a.styles;return E.createElement(Mm,xe({className:"".concat(l," ").concat(r)},Ve(i)),n,c)};k1.defaultProps=rte;k1.displayName="GeistGrid";var C1=qe(k1),ite=["gap","wrap","children","className"],ste={gap:0,wrap:"wrap",className:""},T1=function(t){var n=t.gap,r=t.wrap,i=t.children,s=t.className,o=De(t,ite),a=He(),l=a.unit,c=a.SCALES,d=L.useMemo(function(){return"calc(".concat(n," * ").concat(l," * 1/3)")},[n,l]),u={styles:E.createElement(I,{id:"3631618093",dynamic:[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]},"div.__jsx-style-dynamic-selector{--grid-gap-unit:".concat(d,";--grid-container-margin:calc(-1 * var(--grid-gap-unit));--grid-container-width:calc(100% + var(--grid-gap-unit) * 2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:").concat(r,";-ms-flex-wrap:").concat(r,";flex-wrap:").concat(r,";box-sizing:border-box;width:").concat(c.width(1,"var(--grid-container-width)"),";margin:").concat(c.mt(0,"var(--grid-container-margin)")," ").concat(c.mr(0,"var(--grid-container-margin)")," ").concat(c.mb(0,"var(--grid-container-margin)")," ").concat(c.ml(0,"var(--grid-container-margin)"),";}")),className:I.dynamic([["3631618093",[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]]])},h=u.className,g=u.styles;return E.createElement(Mm,xe({className:"".concat(h," ").concat(s)},Ve(o)),i,g)};T1.defaultProps=ste;T1.displayName="GeistGridContainer";var ote=qe(T1);C1.Container=ote;var ate=["command","shift","option","ctrl","children","className"],lte={command:!1,shift:!1,option:!1,ctrl:!1,className:""},L1=function(t){var n=t.command,r=t.shift,i=t.option,s=t.ctrl,o=t.children,a=t.className,l=De(t,ate),c=Be(),d=He(),u=d.SCALES;return E.createElement("kbd",xe({},Ve(l),{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+(a||"")}),n&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),r&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),i&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),s&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},""),o&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},o),E.createElement(I,{id:"921453049",dynamic:[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},"kbd.__jsx-style-dynamic-selector{line-height:2em;text-align:center;display:inline-block;color:".concat(c.palette.accents_5,";background-color:").concat(c.palette.accents_1,";font-family:").concat(c.font.sans,";border-radius:").concat(c.layout.radius,";border:1px solid ").concat(c.palette.accents_2,";font-size:").concat(u.font(.875),";width:").concat(u.width(1,"fit-content"),";height:").concat(u.height(1,"auto"),";min-width:2em;min-height:2em;padding:").concat(u.pt(0)," ").concat(u.pr(.34)," ").concat(u.pb(0)," ").concat(u.pl(.34),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}span.__jsx-style-dynamic-selector{line-height:2em;font-size:1em;text-align:center;}span.__jsx-style-dynamic-selector+span.__jsx-style-dynamic-selector{margin-left:0.3em;}")))};L1.defaultProps=lte;L1.displayName="GeistKeyboard";qe(L1);var cte=["className","children","visible"],dte={className:"",visible:!1},N1=function(t){var n=t.className,r=t.children,i=t.visible,s=De(t,cte),o=Be(),a=He(),l=a.SCALES,c=L.useRef(null),d=L.useRef(null),u=L.useRef(null);L.useEffect(function(){if(i){var g=document.activeElement,p=LD(c.current,g);p||d.current&&d.current.focus()}},[i]);var h=function(p){var m=p.keyCode===9;if(!(!i||!m)){var _=document.activeElement;p.shiftKey?_===d.current&&u.current&&u.current.focus():_===u.current&&d.current&&d.current.focus()}};return E.createElement(xa,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",xe({role:"dialog",tabIndex:-1,onKeyDown:h,ref:c},Ve(s),{className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" "+"wrapper ".concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:d,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),E.createElement(I,{id:"4268738715",dynamic:[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]},".wrapper.__jsx-style-dynamic-selector{max-width:100%;vertical-align:middle;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;box-sizing:border-box;background-color:".concat(o.palette.background,";color:").concat(o.palette.foreground,";border-radius:").concat(o.layout.radius,";box-shadow:").concat(o.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, -webkit-transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;width:100%;font-size:").concat(l.font(1),";height:").concat(l.height(1,"auto"),";--modal-wrapper-padding-left:").concat(l.pl(1.3125),";--modal-wrapper-padding-right:").concat(l.pr(1.3125),";padding:").concat(l.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(l.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};N1.defaultProps=dte;N1.displayName="GeistModalWrapper";var ute={},c3=E.createContext(ute),hte=function(){return E.useContext(c3)},gte=["className","children","onClick","passive","disabled"],pte={className:"",passive:!1,disabled:!1},I1=E.forwardRef(function(e,t){var n=e.className,r=e.children,i=e.onClick,s=e.passive,o=e.disabled,a=De(e,gte),l=Be(),c=He(),d=c.SCALES,u=L.useRef(null),h=hte(),g=h.close;L.useImperativeHandle(t,function(){return u.current});var p=function(b){if(!o){var S=Object.assign({},b,{close:function(){return g&&g()}});i&&i(S)}},m=L.useMemo(function(){return s?l.palette.accents_5:l.palette.foreground},[l.palette,s,o]),_=L.useMemo(function(){return o?l.palette.accents_1:l.palette.background},[l.palette,o]),y={styles:E.createElement(I,{id:"930885138",dynamic:[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]},"button.btn.__jsx-style-dynamic-selector{font-size:".concat(d.font(.75),";border:none;color:").concat(m,";background-color:").concat(l.palette.background,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:1;-ms-flex:1;flex:1;height:").concat(d.height(3.5625),";border-radius:0;min-width:0;}button.btn.__jsx-style-dynamic-selector:hover,button.btn.__jsx-style-dynamic-selector:focus{color:").concat(o?m:l.palette.foreground,";background-color:").concat(o?_:l.palette.accents_1,";}")),className:I.dynamic([["930885138",[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]]])},f=y.className,x=y.styles,v=xe({},a,{effect:!1,ref:u});return E.createElement(Ko,xe({className:"".concat(f," ").concat(n),onClick:p,disabled:o},v),r,x)});I1.defaultProps=pte;I1.displayName="GeistModalAction";var d3=qe(I1),mte=["children"],u3=function(t){var n=t.children,r=De(t,mte),i=Be(),s=L.useRef(null),o=L.useState("auto"),a=Re(o,2),l=a[0],c=a[1];return L.useEffect(function(){s.current&&c("".concat(s.current.clientHeight,"px"))},[s]),E.createElement(E.Fragment,null,E.createElement("div",{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),E.createElement("footer",xe({ref:s},Ve(r),{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),n),E.createElement(I,{id:"2914444644",dynamic:[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]},"footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;width:100%;height:auto;position:absolute;bottom:0;left:0;right:0;border-top:1px solid ".concat(i.palette.border,";border-bottom-left-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";}footer.__jsx-style-dynamic-selector>button.btn + button.btn{border-left:1px solid ").concat(i.palette.border,";}div.__jsx-style-dynamic-selector{height:").concat(l,";-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}")))};u3.displayName="GeistModalActions";var fte=E.memo(u3),_te={wrapClassName:"",keyboard:!0,disableBackdropClick:!1},M1=function(t){var n=t.visible,r=t.onClose,i=t.children,s=t.keyboard,o=t.wrapClassName,a=t.onContentClick,l=t.disableBackdropClick,c=lu("modal"),d=He(),u=d.SCALES,h=n3(null,{scrollLayer:!0}),g=Re(h,2),p=g[1],m=L.useState(!1),_=Re(m,2),y=_[0],f=_[1],x=fi(i,d3),v=Re(x,2),w=v[0],b=v[1],S=b&&E.Children.count(b)>0,A=function(){r&&r(),f(!1),p(!1)};L.useEffect(function(){typeof n>"u"||(f(n),p(n))},[n]);var C=r3(function(){s&&A()},wp.Escape,{disableGlobalEvent:!0}),k=C.bindings,N=function(){l||A()},R=L.useMemo(function(){return{close:A}},[]);return c?bo.createPortal(E.createElement(c3.Provider,{value:R},E.createElement(Im,xe({onClick:N,onContentClick:a,visible:y,width:u.width(26)},k),E.createElement(N1,{visible:y,className:o},w,S&&E.createElement(fte,null,b)))),c):null};M1.defaultProps=_te;M1.displayName="GeistModal";var Pm=qe(M1);Pm.Title=i3;Pm.Subtitle=s3;Pm.Content=o3;Pm.Action=d3;var yte=["children","type","label","filled","className"],xte={type:"default",label:"note",filled:!1,className:""},vte=function(t,n,r){var i={secondary:r.palette.secondary,success:r.palette.success,warning:r.palette.warning,error:r.palette.error},s=i[t];if(!n)return{color:s||r.palette.foreground,borderColor:s||r.palette.border,bgColor:r.palette.background};var o=s?"white":r.palette.background;return{color:o,borderColor:s||r.palette.foreground,bgColor:s||r.palette.foreground}},P1=function(t){var n=t.children,r=t.type,i=t.label,s=t.filled,o=t.className,a=De(t,yte),l=Be(),c=He(),d=c.SCALES,u=L.useMemo(function(){return vte(r,s,l)},[r,s,l]),h=u.color,g=u.borderColor,p=u.bgColor;return E.createElement("div",xe({},Ve(a),{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" "+"note ".concat(o)}),i&&E.createElement("span",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" label"},E.createElement("b",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])},i,":")),n,E.createElement(I,{id:"1082065680",dynamic:[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]},".note.__jsx-style-dynamic-selector{line-height:1.8;border:1px solid ".concat(g,";color:").concat(h,";background-color:").concat(p,";border-radius:").concat(l.layout.radius,";font-size:").concat(d.font(.875),";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(.667)," ").concat(d.pr(1.32)," ").concat(d.pb(.667)," ").concat(d.pl(1.32),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.note.__jsx-style-dynamic-selector p{margin:0;}.label.__jsx-style-dynamic-selector{text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1.5;padding-right:0.38em;}")))};P1.defaultProps=xte;P1.displayName="GeistNote";qe(P1);var bte=["className","children"],wte={className:""},F1=function(t){var n=t.className,r=t.children,i=De(t,bte),s=He(),o=s.SCALES;return E.createElement("main",xe({},Ve(i),{className:I.dynamic([["3887979816",[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"3887979816",dynamic:[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"main.__jsx-style-dynamic-selector{font-size:".concat(o.font(1),";width:").concat(o.width(1,"100%"),";height:").concat(o.height(1,"100%"),";padding:").concat(o.pt(3.125)," ").concat(o.pr(0)," ").concat(o.pb(3.125)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};F1.defaultProps=wte;F1.displayName="GeistPageContent";var Sp=qe(F1),Ete=["children","render","dotBackdrop","className"];or("default","effect","effect-seo");var Ste={render:"default",dotBackdrop:!1},Ate=function(){return E.createElement("span",{className:"jsx-3167743014"},E.createElement(I,{id:"3167743014"},"body{background-image:radial-gradient(#e3e3e3 1px,transparent 0), radial-gradient(#e3e3e3 1px,transparent 0);background-position:0 0,25px 25px;background-attachment:fixed;background-size:50px 50px;}"))},R1=function(t){var n=t.children,r=t.render,i=t.dotBackdrop,s=t.className,o=De(t,Ete),a=Be(),l=He(),c=l.SCALES,d=L.useMemo(function(){return a.type==="dark"?!1:i},[i,a.type]),u=L.useState(r!=="default"),h=Re(u,2),g=h[0],p=h[1];if(L.useEffect(function(){p(!1)},[]),g){var m=r==="effect-seo";return m?E.createElement("div",{"aria-hidden":"true",className:"jsx-3942095687 hidden"},n,E.createElement(I,{id:"3942095687"},".hidden.jsx-3942095687{opacity:0;display:none;}")):null}var _=Kc(n,Sp);return E.createElement("section",xe({},Ve(o),{className:I.dynamic([["1515698274",[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]]])+" "+(s||"")}),_?n:E.createElement(Sp,null,n),d&&E.createElement(Ate,null),E.createElement(I,{id:"1515698274",dynamic:[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]},"section.__jsx-style-dynamic-selector{max-width:100vw;min-height:100vh;box-sizing:border-box;position:relative;font-size:".concat(c.font(1),";width:").concat(c.width(1,"calc(100% - 100pt)"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(1.34)," ").concat(c.pb(0)," ").concat(c.pl(1.34),";margin:").concat(c.mt(0)," ").concat(c.mr(0,"auto")," ").concat(c.mb(0)," ").concat(c.ml(0,"auto"),";}")))};R1.defaultProps=Ste;R1.displayName="GeistPage";var Fm=qe(R1),kte=["children","center","className"],Cte={center:!1,className:""},D1=function(t){var n=t.children,r=t.center,i=t.className,s=De(t,kte),o=He(),a=o.SCALES;return E.createElement("header",xe({},Ve(s),{className:I.dynamic([["3053482948",[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"".concat(r?"center":""," ").concat(i)}),n,E.createElement(I,{id:"3053482948",dynamic:[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"header.__jsx-style-dynamic-selector{font-size:".concat(a.font(1),";width:").concat(a.width(1,"100%"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.center.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};D1.defaultProps=Cte;D1.displayName="GeistPageHeader";var Tte=qe(D1),Lte=["children"],Nte={className:""},z1=function(t){var n=t.children,r=De(t,Lte),i=He(),s=i.SCALES;return E.createElement("footer",xe({},Ve(r),{className:I.dynamic([["3447440073",[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]]])}),n,E.createElement(I,{id:"3447440073",dynamic:[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]},"footer.__jsx-style-dynamic-selector{position:absolute;bottom:0;font-size:".concat(s.font(1),";width:").concat(s.width(1,"100%"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(0)," ").concat(s.mb(0)," ").concat(s.ml(0),";}")))};z1.defaultProps=Nte;z1.displayName="GeistPageFooter";var Ite=qe(z1);Fm.Header=Tte;Fm.Content=Sp;Fm.Body=Sp;Fm.Footer=Ite;var Mte=["active","children","disabled","onClick"],Jo=function(t){var n=t.active,r=t.children,i=t.disabled,s=t.onClick,o=De(t,Mte),a=Be(),l=L.useMemo(function(){return[hs(a.palette.success,.1),hs(a.palette.success,.8)]},[a.palette.success]),c=Re(l,2),d=c[0],u=c[1],h=function(p){i||s&&s(p)};return E.createElement("li",{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])},E.createElement("button",xe({onClick:h},Ve(o),{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])+" "+"".concat(n?"active":""," ").concat(i?"disabled":"")}),r),E.createElement(I,{id:"1657796974",dynamic:[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]},"li.__jsx-style-dynamic-selector{margin-right:0.428em;display:inline-block;}button.__jsx-style-dynamic-selector{border:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;text-transform:capitalize;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-align:center;vertical-align:middle;box-shadow:none;outline:none;height:var(--pagination-size);min-width:var(--pagination-size);font-size:inherit;cursor:pointer;color:".concat(a.palette.success,";border-radius:").concat(a.layout.radius,";background-color:").concat(a.palette.background,";-webkit-transition:all linear 200ms 0ms;transition:all linear 200ms 0ms;}button.__jsx-style-dynamic-selector:hover{background-color:").concat(d,";}.active.__jsx-style-dynamic-selector{font-weight:bold;background-color:").concat(a.palette.success,";color:").concat(a.palette.background,";box-shadow:").concat(a.expressiveness.shadowSmall,";}.active.__jsx-style-dynamic-selector:hover{background-color:").concat(u,";box-shadow:").concat(a.expressiveness.shadowMedium,";}.disabled.__jsx-style-dynamic-selector{color:").concat(a.palette.accents_4,";cursor:not-allowed;}.disabled.__jsx-style-dynamic-selector:hover{background-color:").concat(a.palette.accents_2,";}button.__jsx-style-dynamic-selector svg{width:1.3em;height:1.3em;}")))};Jo.displayName="GeistPaginationItem";or("prev","next","click");var Pte={},h3=E.createContext(Pte),g3=function(){return E.useContext(h3)},Fte=["children"],Ap=function(t){var n=t.children,r=De(t,Fte),i=g3(),s=i.update,o=i.isFirst;return E.createElement(Jo,xe({onClick:function(){return s&&s("prev")},disabled:o},Ve(r)),n)};Ap.displayName="GeistPaginationPrevious";var Rte=["children"],kp=function(t){var n=t.children,r=De(t,Rte),i=g3(),s=i.update,o=i.isLast;return E.createElement(Jo,xe({onClick:function(){return s&&s("next")},disabled:o},Ve(r)),n)};kp.displayName="GeistPaginationNext";var Xy=function(t){var n=t.isBefore,r=t.onClick,i=L.useState(!1),s=Re(i,2),o=s[0],a=s[1];return E.createElement(Jo,{onClick:function(c){return r&&r(c)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},o?E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])+" more"},E.createElement("path",{d:"M13 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("path",{d:"M6 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})):E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])},E.createElement("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"19",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"5",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})),E.createElement(I,{id:"2928474255",dynamic:[n?"180deg":"0deg"]},"svg.__jsx-style-dynamic-selector{color:currentColor;stroke:currentColor;width:1em;height:1em;}.more.__jsx-style-dynamic-selector{-webkit-transform:rotate(".concat(n?"180deg":"0deg",");-ms-transform:rotate(").concat(n?"180deg":"0deg",");transform:rotate(").concat(n?"180deg":"0deg",");}")))};Xy.displayName="GeistPaginationEllipsis";var p3=function(t){var n=t.limit,r=t.count,i=t.current,s=t.setPage,o=L.useMemo(function(){var y=n%2===0?n-1:n;return y-2},[n]),a=(o+1)/2,l=L.useMemo(function(){var y=r>n;return[y&&i>a+1,y&&i<r-a]},[i,o,a,r,n]),c=Re(l,2),d=c[0],u=c[1],h=L.useMemo(function(){return qr(new Array(o))},[o]),g=L.useCallback(function(y,f){return E.createElement(Jo,{key:"pagination-item-".concat(y),active:y===f,onClick:function(){return s(y)}},y)},[]),p=h.map(function(y,f){var x=f+2;return g(x,i)}),m=h.map(function(y,f){var x=a-(f+1),v=i-x;return E.createElement(Jo,{key:"pagination-middle-".concat(f),active:f+1===a,onClick:function(){return s(v)}},v)}),_=h.map(function(y,f){var x=r-(o-f);return g(x,i)});return r<=n?E.createElement(E.Fragment,null,qr(new Array(r)).map(function(y,f){var x=f+1;return E.createElement(Jo,{key:"pagination-item-".concat(x),active:x===i,onClick:function(){return s(x)}},x)})):E.createElement(E.Fragment,null,g(1,i),d&&E.createElement(Xy,{key:"pagination-ellipsis-before",isBefore:!0,onClick:function(){return s(function(f){return f-5>=1?f-5:1})}}),d&&u?m:d?_:p,u&&E.createElement(Xy,{key:"pagination-ellipsis-after",onClick:function(){return s(function(f){return f+5<=r?f+5:r})}}),g(r,i))};p3.displayName="GeistPaginationPages";var Dte={initialPage:1,count:1,limit:7},O1=function(t){var n=t.page,r=t.initialPage,i=t.count,s=t.limit,o=t.children,a=t.onChange,l=He(),c=l.SCALES,d=_i(r),u=Re(d,3),h=u[0],g=u[1],p=u[2],m=fi(o,Ap),_=Re(m,2),y=_[1],f=fi(o,kp),x=Re(f,2),v=x[1],w=L.useMemo(function(){var N=function(F){return E.Children.count(F)>0},R=E.createElement(Ap,null,"prev"),B=E.createElement(kp,null,"next");return[N(y)?y:R,N(v)?v:B]},[y,v]),b=Re(w,2),S=b[0],A=b[1],C=function(R){R==="prev"&&p.current>1&&g(function(B){return B-1}),R==="next"&&p.current<i&&g(function(B){return B+1})},k=L.useMemo(function(){return{isFirst:h<=1,isLast:h>=i,update:C}},[h]);return L.useEffect(function(){a&&a(h)},[h]),L.useEffect(function(){n!==void 0&&g(n)},[n]),E.createElement(h3.Provider,{value:k},E.createElement("nav",{className:I.dynamic([["3826701357",[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])},S,E.createElement(p3,{count:i,current:h,limit:s,setPage:g}),A),E.createElement(I,{id:"3826701357",dynamic:[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"nav.__jsx-style-dynamic-selector{font-variant:tabular-nums;font-feature-settings:'tnum';--pagination-size:".concat(c.font(2),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}nav.__jsx-style-dynamic-selector button:last-of-type{margin-right:0;}")))};O1.defaultProps=Dte;O1.displayName="GeistPagination";var m3=qe(O1);m3.Previous=Ap;m3.Next=kp;var zte=function(t,n){var r={default:n.background,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary,dark:n.foreground,lite:n.background},i=t==="lite"||t==="default"?n.foreground:n.background;return{color:i,bgColor:r[t]}},Ote={top:"-1000px",left:"-1000px",transform:"none"},Bte=function(t,n,r){var i={top:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, -100%)"},topStart:{top:"".concat(n.top-r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, -100%)"},topEnd:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, -100%)"},bottom:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, 0)"},bottomStart:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, 0)"},bottomEnd:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, 0)"},left:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -50%)"},leftStart:{top:"".concat(n.top,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, 0)"},leftEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -100%)"},right:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -50%)"},rightStart:{top:"".concat(n.top,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, 0)"},rightEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -100%)"}};return i[t]||i.top},jte=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"3px",s={top:{top:"auto",right:"auto",left:"50%",bottom:"".concat(i),transform:"translate(-50%, 100%) rotate(-90deg)"},topStart:{top:"auto",right:"auto",left:"".concat(n),bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},topEnd:{top:"auto",right:"".concat(n),left:"auto",bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},bottom:{top:"".concat(i),right:"auto",left:"50%",bottom:"auto",transform:"translate(-50%, -100%) rotate(90deg)"},bottomStart:{top:"".concat(i),right:"auto",left:"".concat(n),bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},bottomEnd:{top:"".concat(i),right:"".concat(n),left:"auto",bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},left:{top:"50%",right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftStart:{top:"".concat(r),right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftEnd:{top:"auto",right:"0",left:"auto",bottom:"".concat(r),transform:"translate(100%, 50%) rotate(180deg)"},right:{top:"50%",right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightStart:{top:"".concat(r),right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightEnd:{top:"auto",right:"auto",left:"0",bottom:"".concat(r),transform:"translate(-100%, 50%) rotate(0deg)"}};return s[t]||s.top},Ute=function(t){var n=t.placement,r=t.shadow,i=Be(),s=L.useMemo(function(){return jte(n,"var(--tooltip-icon-offset-x)","var(--tooltip-icon-offset-y)")},[n]),o=s.transform,a=s.top,l=s.left,c=s.right,d=s.bottom,u=L.useMemo(function(){return!r||i.type!=="dark"?"var(--tooltip-content-bg)":i.palette.accents_2},[i.type,r]);return E.createElement("span",{className:I.dynamic([["2440507693",[u,l,a,c,d,o]]])},E.createElement(I,{id:"2440507693",dynamic:[u,l,a,c,d,o]},"span.__jsx-style-dynamic-selector{width:0;height:0;border-style:solid;border-width:6px 7px 6px 0;border-color:transparent ".concat(u," transparent transparent;position:absolute;left:").concat(l,";top:").concat(a,";right:").concat(c,";bottom:").concat(d,";-webkit-transform:").concat(o,";-ms-transform:").concat(o,";transform:").concat(o,";}")))},$te={top:-1e3,left:-1e3,right:-1e3,bottom:-1e3,width:0,height:0},f3=function(t){if(!t||!t.current)return $te;var n=t.current.getBoundingClientRect();return xe({},n,{width:n.width||n.right-n.left,height:n.height||n.bottom-n.top,top:n.top+document.documentElement.scrollTop,bottom:n.bottom+document.documentElement.scrollTop,left:n.left+document.documentElement.scrollLeft,right:n.right+document.documentElement.scrollLeft})},Vte=function(t){var n=t.children,r=t.parent,i=t.visible,s=t.offset,o=t.iconOffset,a=t.placement,l=t.type,c=t.className,d=t.hideArrow,u=Be(),h=He(),g=h.SCALES,p=lu("tooltip"),m=L.useRef(null),_=L.useState(Ote),y=Re(_,2),f=y[0],x=y[1],v=L.useMemo(function(){return zte(l,u.palette)},[l,u.palette]),w=l==="default";if(!r)return null;var b=function(){var C=Bte(a,f3(r),s);x(C)};Fb(b),FD(function(){return b()}),L.useEffect(function(){b()},[i]);var S=function(C){C.stopPropagation(),C.nativeEvent.stopImmediatePropagation()};return p?bo.createPortal(E.createElement(xa,{visible:i},E.createElement("div",{ref:m,onClick:S,className:I.dynamic([["2387841858",[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" "+"tooltip-content ".concat(c)},E.createElement("div",{className:I.dynamic([["2387841858",[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" inner"},!d&&E.createElement(Ute,{placement:a,shadow:w}),n),E.createElement(I,{id:"2387841858",dynamic:[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]},".tooltip-content.__jsx-style-dynamic-selector{--tooltip-icon-offset-x:".concat(o.x,";--tooltip-icon-offset-y:").concat(o.y,";--tooltip-content-bg:").concat(v.bgColor,";box-sizing:border-box;position:absolute;top:").concat(f.top,";left:").concat(f.left,";-webkit-transform:").concat(f.transform,";-ms-transform:").concat(f.transform,";transform:").concat(f.transform,";background-color:var(--tooltip-content-bg);color:").concat(v.color,";border-radius:").concat(u.layout.radius,";padding:0;z-index:1000;box-shadow:").concat(w?u.expressiveness.shadowMedium:"none",";width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"auto"),";}.inner.__jsx-style-dynamic-selector{box-sizing:border-box;position:relative;font-size:").concat(g.font(1),";padding:").concat(g.pt(.65)," ").concat(g.pr(.9)," ").concat(g.pb(.65)," ").concat(g.pl(.9),";height:100%;}")))),p):null},Gte=["children","initialVisible","text","offset","placement","portalClassName","enterDelay","leaveDelay","trigger","type","className","onVisibleChange","hideArrow","visible"],Hte={initialVisible:!1,hideArrow:!1,type:"default",trigger:"hover",placement:"top",enterDelay:100,leaveDelay:150,offset:12,className:"",portalClassName:"",onVisibleChange:function(){}},B1=function(t){var n=t.children,r=t.initialVisible,i=t.text,s=t.offset,o=t.placement,a=t.portalClassName,l=t.enterDelay,c=t.leaveDelay,d=t.trigger,u=t.type,h=t.className,g=t.onVisibleChange,p=t.hideArrow,m=t.visible,_=De(t,Gte),y=L.useRef(),f=L.useRef(null),x=L.useState(r),v=Re(x,2),w=v[0],b=v[1],S=L.useMemo(function(){if(!(f!=null&&f.current))return{x:"0.75em",y:"0.75em"};var R=f3(f);return{x:"".concat(R.width?R.width/2:0,"px"),y:"".concat(R.height?R.height/2:0,"px")}},[f==null?void 0:f.current]),A={type:u,visible:w,offset:s,placement:o,hideArrow:p,iconOffset:S,parent:f,className:a},C=function(B){var H=function(){clearTimeout(y.current),y.current=void 0},F=function(G){b(G),g(G),H()};if(H(),B){y.current=window.setTimeout(function(){return F(!0)},l);return}var T=d==="click"?0:c;y.current=window.setTimeout(function(){return F(!1)},T)},k=function(B){return d==="hover"&&C(B)},N=function(){return d==="click"&&C(!w)};return HD(f,function(){return d==="click"&&C(!1)}),L.useEffect(function(){m!==void 0&&C(m)},[m]),E.createElement("div",xe({ref:f,onClick:N,onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}},Ve(_),{className:"jsx-418573366 "+"tooltip ".concat(h)}),n,E.createElement(Vte,A,i),E.createElement(I,{id:"418573366"},".tooltip.jsx-418573366{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:inline-block;}"))};B1.defaultProps=Hte;B1.displayName="GeistTooltip";var Wte=qe(B1),qte={disableItemsAutoClose:!1,onItemClick:function(){}},_3=E.createContext(qte),Xte=function(){return L.useContext(_3)},Yte=["content","children","trigger","placement","initialVisible","portalClassName","disableItemsAutoClose","onVisibleChange","visible"],Zte={disableItemsAutoClose:!1,trigger:"click",placement:"bottom",portalClassName:"",initialVisible:!1,hideArrow:!1,type:"default",enterDelay:100,leaveDelay:150,offset:12,className:"",onVisibleChange:function(){}},j1=function(t){var n=t.content,r=t.children,i=t.trigger,s=t.placement,o=t.initialVisible,a=t.portalClassName,l=t.disableItemsAutoClose,c=t.onVisibleChange,d=t.visible,u=De(t,Yte),h=He(),g=h.SCALES,p=L.useState(o),m=Re(p,2),_=m[0],y=m[1],f=L.useMemo(function(){return $Q(n)},[n]),x=function(){w(!1)},v=L.useMemo(function(){return{onItemClick:x,disableItemsAutoClose:l}},[l]),w=function(S){y(S),c(S)};return L.useEffect(function(){d!==void 0&&w(d)},[d]),E.createElement(_3.Provider,{value:v},E.createElement(Wte,xe({text:f,trigger:i,placement:s,portalClassName:"popover ".concat(a),visible:_,onVisibleChange:w},u),r,E.createElement(I,{id:"622655983",dynamic:[g.pt(.9),g.pr(0),g.pb(.9),g.pl(0)]},".tooltip-content.popover > .inner{padding:".concat(g.pt(.9)," ").concat(g.pr(0)," ").concat(g.pb(.9)," ").concat(g.pl(0),";}"))))};j1.defaultProps=Zte;j1.displayName="GeistPopover";var y3=qe(j1),Qte=["children","line","title","className","onClick","disableAutoClose"],Kte={line:!1,title:!1,disableAutoClose:!1,className:""},U1=function(t){var n=t.children,r=t.line,i=t.title,s=t.className,o=t.onClick,a=t.disableAutoClose,l=De(t,Qte),c=Be(),d=He(),u=d.SCALES,h=Xte(),g=h.disableItemsAutoClose,p=h.onItemClick,m=!!o,_=a||g||i||r,y=function(x){if(o&&o(x),_)return x.stopPropagation();p(x)};return E.createElement(E.Fragment,null,E.createElement("div",xe({onClick:y},Ve(l),{className:I.dynamic([["190621384",[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]]])+" "+"item ".concat(r?"line":""," ").concat(i?"title":""," ").concat(s)}),n,E.createElement(I,{id:"190621384",dynamic:[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(c.palette.accents_5,";-webkit-transition:color,background-color 150ms linear;transition:color,background-color 150ms linear;line-height:1.25em;font-size:").concat(u.font(.875),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";padding:").concat(u.pt(.5)," ").concat(u.pr(.75)," ").concat(u.pb(.5)," ").concat(u.pl(.75),";cursor:").concat(m?"pointer":"default",";}.item.__jsx-style-dynamic-selector:hover{color:").concat(c.palette.foreground,";}.item.line.__jsx-style-dynamic-selector{line-height:0;padding:0;background-color:").concat(c.palette.border,";height:").concat(u.height(.0625),";margin:").concat(u.mt(.35)," ").concat(u.mr(0)," ").concat(u.mb(.35)," ").concat(u.ml(0),";width:").concat(u.width(1,"100%"),";}.item.title.__jsx-style-dynamic-selector{font-weight:500;font-size:").concat(u.font(.925),";color:").concat(c.palette.foreground,";}"))),i&&E.createElement($1,{line:!0,title:!1}))};U1.defaultProps=Kte;U1.displayName="GeistPopoverItem";var $1=qe(U1);y3.Item=$1;y3.Option=$1;var Jte=["value","max","className","type","colors","fixedTop","fixedBottom"],ene={value:0,max:100,type:"default",fixedTop:!1,fixedBottom:!1,className:""},tne=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s={default:n.foreground,success:n.success,secondary:n.secondary,warning:n.warning,error:n.error},o=Object.keys(i);if(o.length===0)return s[r];var a=o.find(function(l){return t<=+l});return!a||Number.isNaN(+a)?s[r]:i[+a]},V1=function(t){var n=t.value,r=t.max,i=t.className,s=t.type,o=t.colors,a=t.fixedTop,l=t.fixedBottom,c=De(t,Jte),d=Be(),u=He(),h=u.SCALES,g=YD(n,r),p=tne(g,d.palette,s,o),m=a||l;return E.createElement("div",{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+"progress ".concat(i," ").concat(m?"fixed":"")},E.createElement("div",{title:"".concat(g,"%"),className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" inner"}),E.createElement("progress",xe({value:n,max:r},Ve(c),{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+(i||"")})),E.createElement(I,{id:"1239801602",dynamic:[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]},"progress.__jsx-style-dynamic-selector{position:fixed;top:-1000px;opacity:0;visibility:hidden;pointer-events:none;}.progress.__jsx-style-dynamic-selector{position:relative;background-color:".concat(d.palette.accents_2,";border-radius:").concat(d.layout.radius,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(.625),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.fixed.__jsx-style-dynamic-selector{position:fixed;top:").concat(a?0:"unset",";bottom:").concat(l?0:"unset",";left:0;border-radius:0;}.fixed.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{border-radius:0;}.inner.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;height:100%;bottom:0;-webkit-transition:all 100ms ease-in;transition:all 100ms ease-in;border-radius:").concat(d.layout.radius,";background-color:").concat(p,";width:").concat(g,"%;}")))};V1.defaultProps=ene;V1.displayName="GeistProgress";qe(V1);var nne={disabledAll:!1,inGroup:!1},x3=E.createContext(nne),rne=function(){return E.useContext(x3)},ine=["className","children"],sne={className:""},G1=function(t){var n=t.className,r=t.children,i=De(t,ine),s=Be(),o=He(),a=o.SCALES;return E.createElement("span",xe({},Ve(i),{className:I.dynamic([["2489497926",[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]]])+" "+(n||"")}),r,E.createElement(I,{id:"2489497926",dynamic:[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]},"span.__jsx-style-dynamic-selector{color:".concat(s.palette.accents_3,";font-size:").concat(a.font(.85,"calc(var(--radio-size) * 0.85)"),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)"),";}")))};G1.defaultProps=sne;G1.displayName="GeistRadioDescription";var H1=qe(G1),one=function(t,n){var r={default:{label:t.foreground,border:t.border,bg:t.foreground},secondary:{label:t.foreground,border:t.border,bg:t.foreground},success:{label:t.success,border:t.success,bg:t.success},warning:{label:t.warning,border:t.warning,bg:t.warning},error:{label:t.error,border:t.error,bg:t.error}};return n?r[n]:r.default},ane=["className","checked","onChange","disabled","type","value","children"],lne={type:"default",disabled:!1,className:""},W1=function(t){var n=t.className,r=t.checked,i=t.onChange,s=t.disabled,o=t.type,a=t.value,l=t.children,c=De(t,ane),d=Be(),u=He(),h=u.SCALES,g=L.useState(!!r),p=Re(g,2),m=p[0],_=p[1],y=rne(),f=y.value,x=y.disabledAll,v=y.inGroup,w=y.updateState,b=fi(l,H1),S=Re(b,2),A=S[0],C=S[1];v&&(r!==void 0&&Pi('Remove props "checked" if in the Radio.Group.',"Radio"),a===void 0&&Pi('Props "value" must be deinfed if in the Radio.Group.',"Radio"),L.useEffect(function(){_(f===a)},[f,a]));var k=L.useMemo(function(){return one(d.palette,o)},[d.palette,o]),N=k.label,R=k.border,B=k.bg,H=L.useMemo(function(){return s||x},[s,x]),F=function(W){if(!H){var G={target:{checked:!m},stopPropagation:W.stopPropagation,preventDefault:W.preventDefault,nativeEvent:W};_(!m),v&&w&&w(a),i&&i(G)}};return L.useEffect(function(){r!==void 0&&_(!!r)},[r]),E.createElement("div",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]]])+" "+"radio ".concat(n)},E.createElement("label",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]]])},E.createElement("input",xe({type:"radio",value:a,checked:m,onChange:F},Ve(c),{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]]])})),E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]]])+" name"},E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]]])+" "+"point ".concat(m?"active":"")}),A),C&&C),E.createElement(I,{id:"293719529",dynamic:[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),H?d.palette.accents_4:N,H?"not-allowed":"pointer",R,H?d.palette.accents_4:B]},"input.__jsx-style-dynamic-selector{opacity:0;visibility:hidden;overflow:hidden;width:1px;height:1px;top:-1000px;right:-1000px;position:fixed;font-size:0;}.radio.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;--radio-size:".concat(h.font(1),";width:").concat(h.width(1,"initial"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:").concat(H?d.palette.accents_4:N,";cursor:").concat(H?"not-allowed":"pointer",";}.name.__jsx-style-dynamic-selector{font-size:var(--radio-size);font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.point.__jsx-style-dynamic-selector{height:var(--radio-size);width:var(--radio-size);border-radius:50%;border:1px solid ").concat(R,";-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;position:relative;display:inline-block;-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);margin-right:calc(var(--radio-size) * 0.375);}.point.__jsx-style-dynamic-selector:before{content:'';position:absolute;left:-1px;top:-1px;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);height:var(--radio-size);width:var(--radio-size);border-radius:50%;background-color:").concat(H?d.palette.accents_4:B,";}.point.active.__jsx-style-dynamic-selector:before{-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;}")))};W1.defaultProps=lne;W1.displayName="GeistRadio";var q1=qe(W1),cne=["disabled","onChange","value","children","className","initialValue","useRow"],dne={disabled:!1,className:"",useRow:!1},X1=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=t.initialValue,l=t.useRow,c=De(t,cne),d=He(),u=d.SCALES,h=L.useState(a),g=Re(h,2),p=g[0],m=g[1],_=function(x){m(x),r&&r(x)},y=L.useMemo(function(){return{updateState:_,disabledAll:n,inGroup:!0,value:p}},[n,p]);return L.useEffect(function(){i!==void 0&&m(i)},[i]),E.createElement(x3.Provider,{value:y},E.createElement("div",xe({},Ve(c),{className:I.dynamic([["1223822443",[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]]])+" "+"radio-group ".concat(o)}),s),E.createElement(I,{id:"1223822443",dynamic:[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]},".radio-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:".concat(l?"col":"column",";-ms-flex-direction:").concat(l?"col":"column",";flex-direction:").concat(l?"col":"column",";--radio-group-gap:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.radio-group.__jsx-style-dynamic-selector .radio{margin-top:").concat(l?0:"var(--radio-group-gap)",";margin-left:").concat(l?"var(--radio-group-gap)":0,";--radio-size:").concat(u.font(1),";}.radio-group.__jsx-style-dynamic-selector .radio:first-of-type{margin:0;}")))};X1.defaultProps=dne;X1.displayName="GeistRadioGroup";var une=qe(X1);q1.Group=une;q1.Description=H1;q1.Desc=H1;var v3=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},E.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))};v3.displayName="GeistRatingIcon";var hne=["type","className","icon","count","value","initialValue","onValueChange","locked","onLockedChange"];ID(2,3,4,5,6,7,8,9,10);ID(0,1,2,3,4,5,6,7,8,9,10);var gne={type:"default",className:"",icon:E.createElement(v3,null),count:5,initialValue:1,locked:!1},pne=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},Y1=function(t){var n=t.type,r=t.className,i=t.icon,s=t.count,o=t.value,a=t.initialValue,l=t.onValueChange,c=t.locked,d=t.onLockedChange,u=De(t,hne),h=Be(),g=He(),p=g.SCALES,m=L.useMemo(function(){return pne(n,h.palette)},[n,h.palette]),_=L.useState(a),y=Re(_,2),f=y[0],x=y[1],v=L.useState(c),w=Re(v,2),b=w[0],S=w[1],A=function(B){S(B),d&&d(B)},C=function(B){x(B);var H=B>s?s:B;l&&l(H)},k=function(B){if(b)return A(!1);C(B),A(!0)},N=function(B){b||C(B)};return L.useEffect(function(){typeof o>"u"||x(o<0?0:o)},[o]),E.createElement("div",xe({},Ve(u),{className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"rating ".concat(r)}),qr(Array(s)).map(function(R,B){return E.createElement("div",{key:B,onMouseEnter:function(){return N(B+1)},onClick:function(){return k(B+1)},className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"icon-box ".concat(B+1<=f?"hovered":"")},i)}),E.createElement(I,{id:"884600549",dynamic:[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]},".rating.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;--rating-font-size:".concat(p.font(1),";font-size:var(--rating-font-size);width:").concat(p.width(1,"auto"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(0)," ").concat(p.pr(0)," ").concat(p.pb(0)," ").concat(p.pl(0),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}.icon-box.__jsx-style-dynamic-selector{box-sizing:border-box;color:").concat(m,";width:calc(var(--rating-font-size) * 1.5);height:calc(var(--rating-font-size) * 1.5);margin-right:calc(var(--rating-font-size) * 1 / 5);cursor:").concat(b?"default":"pointer",";}.icon-box.__jsx-style-dynamic-selector svg{width:100%;height:100%;fill:transparent;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform,color,fill 30ms linear;-webkit-transition:transform,color,fill 30ms linear;transition:transform,color,fill 30ms linear;}.hovered.__jsx-style-dynamic-selector svg{fill:").concat(m,";-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}")))};Y1.defaultProps=gne;Y1.displayName="GeistRating";qe(Y1);var b3=function(){return E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-2742933678"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-2742933678"}),E.createElement(I,{id:"2742933678"},"svg.jsx-2742933678{color:inherit;stroke:currentColor;-webkit-transition:all 200ms ease;transition:all 200ms ease;width:1.214em;height:1.214em;}"))};b3.displayName="GeistSelectIcon";var mne=E.memo(b3),fne={visible:!1,disableAll:!1},w3=E.createContext(fne),E3=function(){return E.useContext(w3)},_ne={className:"",dropdownStyle:{}},Z1=E.forwardRef(function(e,t){var n=e.visible,r=e.children,i=e.className,s=e.dropdownStyle,o=e.disableMatchWidth,a=e.getPopupContainer,l=Be(),c=L.useRef(null),d=E3(),u=d.ref;return L.useImperativeHandle(t,function(){return c.current}),E.createElement(DD,{parent:u,visible:n,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{ref:c,style:s,className:I.dynamic([["2782510679",[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]]])+" "+"select-dropdown ".concat(i)},r,E.createElement(I,{id:"2782510679",dynamic:[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]},".select-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";max-height:17em;overflow-y:auto;overflow-anchor:none;padding:0.38em 0;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}"))))});Z1.defaultProps=_ne;Z1.displayName="GeistSelectDropdown";var yne=function(t){var n=t.onClick,r=Be(),i=function(o){o.preventDefault(),o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),n&&n(o)};return E.createElement("div",{onClick:i,className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])+" clear-icon"},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])})),E.createElement(I,{id:"1984024521",dynamic:[r.palette.accents_3,r.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{padding:0 0 0 0.5em;margin:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;cursor:pointer;box-sizing:border-box;-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;color:".concat(r.palette.accents_3,";visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:1em;height:1em;}")))},xne=E.memo(yne),S3=function(t){var n=t.disabled,r=t.onClear,i=t.children,s=Be();return E.createElement(C1,null,E.createElement("div",{className:I.dynamic([["3357578496",[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]]])+" item"},i,!!r&&E.createElement(xne,{onClick:r})),E.createElement(I,{id:"3357578496",dynamic:[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]},".item.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;justify-items:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0 0.5em;font-size:var(--select-font-size);height:calc(var(--select-font-size) * 2);border-radius:".concat(s.layout.radius,";background-color:").concat(s.palette.accents_2,";color:").concat(n?s.palette.accents_4:s.palette.accents_6,";}.item.__jsx-style-dynamic-selector>div:not(.clear-icon),.item.__jsx-style-dynamic-selector>div:not(.clear-icon):hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}")))};S3.displayName="GeistSelectMultipleValue";var vne=function(t,n){var r={default:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},secondary:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},success:{border:t.successLight,borderActive:t.successDark,iconBorder:t.success,placeholderColor:t.accents_3},warning:{border:t.warningLight,borderActive:t.warningDark,iconBorder:t.warning,placeholderColor:t.accents_3},error:{border:t.errorLight,borderActive:t.errorDark,iconBorder:t.error,placeholderColor:t.error}};return n?r[n]:r.default},A3=E.forwardRef(function(e,t){var n=e.visible,r=e.onBlur,i=e.onFocus,s=L.useRef(null);return L.useImperativeHandle(t,function(){return s.current}),L.useEffect(function(){if(n){var o;(o=s.current)===null||o===void 0||o.focus()}},[n]),E.createElement(E.Fragment,null,E.createElement("input",{ref:s,type:"search",role:"combobox","aria-haspopup":"listbox",readOnly:!0,unselectable:"on","aria-expanded":n,onBlur:r,onFocus:i,className:"jsx-2813108835"}),E.createElement(I,{id:"2813108835"},"input.jsx-2813108835{position:fixed;top:-10000px;left:-10000px;opacity:0;z-index:-1;width:0;height:0;padding:0;font-size:0;border:none;}"))});A3.displayName="GeistSelectInput";var bne=["children","type","disabled","initialValue","value","icon","onChange","pure","multiple","clearable","placeholder","className","dropdownClassName","dropdownStyle","disableMatchWidth","getPopupContainer","onDropdownVisibleChange"],wne={disabled:!1,type:"default",icon:mne,pure:!1,multiple:!1,clearable:!0,className:"",disableMatchWidth:!1,onDropdownVisibleChange:function(){}},Q1=E.forwardRef(function(e,t){var n=e.children,r=e.type,i=e.disabled,s=e.initialValue,o=e.value,a=e.icon,l=e.onChange,c=e.pure,d=e.multiple,u=e.clearable,h=e.placeholder,g=e.className,p=e.dropdownClassName,m=e.dropdownStyle,_=e.disableMatchWidth,y=e.getPopupContainer,f=e.onDropdownVisibleChange,x=De(e,bne),v=Be(),w=He(),b=w.SCALES,S=L.useRef(null),A=L.useRef(null),C=L.useRef(null),k=L.useState(!1),N=Re(k,2),R=N[0],B=N[1],H=L.useState(!1),F=Re(H,2),T=F[0],W=F[1],G=_i(function(){return!d||Array.isArray(s)?s:typeof s>"u"?[]:[s]}),Y=Re(G,3),ee=Y[0],J=Y[1],ue=Y[2],Ae=L.useMemo(function(){return Array.isArray(ee)?ee.length===0:!ee},[ee]),ce=L.useMemo(function(){return vne(v.palette,r)},[v.palette,r]),_e=ce.border,ze=ce.borderActive,Me=ce.iconBorder,We=ce.placeholderColor,he=function(se){f(se),B(se)},ye=function(se){J(function(oe){return Array.isArray(oe)?oe.includes(se)?oe.filter(function(ge){return ge!==se}):[].concat(qr(oe),[se]):se}),l&&l(ue.current),d||he(!1)},Ze=L.useMemo(function(){return{value:ee,visible:R,updateValue:ye,updateVisible:he,ref:S,disableAll:i}},[R,i,S,ee,d]),tt=function(se){se.stopPropagation(),se.nativeEvent.stopImmediatePropagation(),se.preventDefault(),!i&&(he(!R),se.preventDefault())},ut=function(se){R&&se.preventDefault()};L.useEffect(function(){o!==void 0&&J(o)},[o]),L.useImperativeHandle(t,function(){return{focus:function(){var se;return(se=A.current)===null||se===void 0?void 0:se.focus()},blur:function(){var se;return(se=A.current)===null||se===void 0?void 0:se.blur()},scrollTo:function(se){var oe;return(oe=C.current)===null||oe===void 0?void 0:oe.scrollTo(se)}}},[A,C]);var st=L.useMemo(function(){var te=TD(n,"value",ee),se=Re(te,2),oe=se[1];return E.Children.map(oe,function(ge){if(!E.isValidElement(ge))return null;var pe=E.cloneElement(ge,{preventAllEvents:!0});return d?E.createElement(S3,{disabled:i,onClear:u?function(){return ye(ge.props.value)}:null},pe):pe})},[ee,n,d]),Z=function(){he(!1),W(!1)};return E.createElement(w3.Provider,{value:Ze},E.createElement("div",xe({ref:S,onClick:tt,onMouseDown:ut},Ve(x),{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]]])+" "+"select ".concat(T||R?"active":""," ").concat(d?"multiple":""," ").concat(g)}),E.createElement(A3,{ref:A,visible:R,onBlur:Z,onFocus:function(){return W(!0)}}),Ae&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]]])+" value placeholder"},E.createElement(Ib,{height:"var(--select-height)"},h)),ee&&!d&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]]])+" value"},st),ee&&d&&E.createElement(C1.Container,{gap:.5},st),E.createElement(Z1,{ref:C,visible:R,className:p,dropdownStyle:m,disableMatchWidth:_,getPopupContainer:y},n),!c&&E.createElement("div",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]]])+" icon"},E.createElement(a,{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]]])})),E.createElement(I,{id:"3282295248",dynamic:[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,We,v.layout.gapQuarter,R?"180":"0",Me]},".select.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;position:relative;cursor:".concat(i?"not-allowed":"pointer",";max-width:90vw;overflow:hidden;-webkit-transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;border:1px solid ").concat(_e,";border-radius:").concat(v.layout.radius,";background-color:").concat(i?v.palette.accents_1:v.palette.background,";--select-font-size:").concat(b.font(.875),";--select-height:").concat(b.height(2.25),";min-width:11.5em;width:").concat(b.width(1,"initial"),";height:var(--select-height);padding:").concat(b.pt(0)," ").concat(b.pr(.334)," ").concat(b.pb(0)," ").concat(b.pl(.667),";margin:").concat(b.mt(0)," ").concat(b.mr(0)," ").concat(b.mb(0)," ").concat(b.ml(0),";}.multiple.__jsx-style-dynamic-selector{height:auto;min-height:var(--select-height);padding:").concat(b.pt(.334)," ").concat(b.pr(.334)," ").concat(b.pb(.334)," ").concat(b.pl(.667),";}.select.active.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover{border-color:").concat(i?v.palette.border:ze,";}.select.active.icon.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover .icon.__jsx-style-dynamic-selector{color:").concat(i?v.palette.accents_5:ze,";}.value.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0;margin-right:1.25em;font-size:var(--select-font-size);color:").concat(i?v.palette.accents_4:v.palette.foreground,";width:calc(100% - 1.25em);}.value.__jsx-style-dynamic-selector>div,.value.__jsx-style-dynamic-selector>div:hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}.placeholder.__jsx-style-dynamic-selector{color:").concat(We,";}.icon.__jsx-style-dynamic-selector{position:absolute;right:").concat(v.layout.gapQuarter,";font-size:var(--select-font-size);top:50%;bottom:0;-webkit-transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);-ms-transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);pointer-events:none;-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(Me,";}"))))});Q1.defaultProps=wne;Q1.displayName="GeistSelect";var Cc=qe(Q1),Ene=["value","className","children","disabled","divider","label","preventAllEvents"],Sne={disabled:!1,divider:!1,label:!1,className:"",preventAllEvents:!1},K1=function(t){var n=t.value,r=t.className,i=t.children,s=t.disabled,o=t.divider,a=t.label,l=t.preventAllEvents,c=De(t,Ene),d=Be(),u=He(),h=u.SCALES,g=E3(),p=g.updateValue,m=g.value,_=g.disableAll,y=L.useMemo(function(){return s||_},[s,_]),f=L.useMemo(function(){return a||o},[a,o]);!f&&n===void 0&&Pi('The props "value" is required.',"Select Option");var x=L.useMemo(function(){return m?typeof m=="string"?n===m:m.includes("".concat(n)):!1},[n,m]),v=L.useMemo(function(){return y?d.palette.accents_1:x?d.palette.accents_2:d.palette.background},[x,y,d.palette]),w=L.useMemo(function(){return y||f||x?v:d.palette.accents_1},[x,y,d.palette,f,v]),b=L.useMemo(function(){return y?d.palette.accents_4:x?d.palette.foreground:d.palette.accents_5},[x,y,d.palette]),S=function(C){l||(C.stopPropagation(),C.nativeEvent.stopImmediatePropagation(),C.preventDefault(),!(y||f)&&p&&p(n))};return E.createElement("div",xe({onClick:S},Ve(c),{className:I.dynamic([["199367556",[v,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]]])+" "+"option ".concat(o?"divider":""," ").concat(a?"label":""," ").concat(r)}),E.createElement(Ib,{height:h.height(2.25)},i),E.createElement(I,{id:"199367556",dynamic:[v,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]},".option.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:100%;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;background-color:".concat(v,";color:").concat(b,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:").concat(y?"not-allowed":"pointer",";-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;--select-font-size:").concat(h.font(.75),";font-size:var(--select-font-size);width:").concat(h.width(1,"100%"),";height:").concat(h.height(2.25),";padding:").concat(h.pt(0)," ").concat(h.pr(.667)," ").concat(h.pb(0)," ").concat(h.pl(.667),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.option.__jsx-style-dynamic-selector:hover{background-color:").concat(w,";color:").concat(d.palette.accents_7,";}.divider.__jsx-style-dynamic-selector{line-height:0;overflow:hidden;border-top:1px solid ").concat(d.palette.border,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(1,0),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(.5)," ").concat(h.mr(0)," ").concat(h.mb(.5)," ").concat(h.ml(0),";}.label.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_7,";border-bottom:1px solid ").concat(d.palette.border,";text-transform:capitalize;cursor:default;font-size:").concat(h.font(.875),";width:").concat(h.width(1,"100%"),";font-weight:500;}")))};K1.defaultProps=Sne;K1.displayName="GeistSelectOption";var Ane=qe(K1);Cc.Option=Ane;var kne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},s=L.useRef(!1),o=_i(0),a=Re(o,3),l=a[1],c=a[2],d=_i(0),u=Re(d,3),h=u[1],g=u[2],p=function(){return{startX:c.current,currentX:g.current}},m=function(x){x.stopPropagation(),x.stopImmediatePropagation(),s.current=!0,!(!t||!t.current)&&(l(t.current.getBoundingClientRect().x),r(p()))},_=function(x){s.current&&(x.type==="touchmove"?h(x.changedTouches[0].clientX):h(x.clientX),n(p()))},y=function(){s.current&&(s.current=!1,i(p()))};L.useEffect(function(){if(!(!t||!t.current))return t.current.addEventListener("mousedown",m),t.current.addEventListener("touchstart",m),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",y),window.addEventListener("touchend",y),function(){window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",y),window.removeEventListener("touchend",y),!(!t||!t.current)&&(t.current.removeEventListener("mousedown",m),t.current.removeEventListener("touchstart",m))}},[t])},Cne={left:0,disabled:!1,isClick:!1},J1=E.forwardRef(function(e,t){var n=e.children,r=e.disabled,i=e.left,s=e.isClick,o=Be();return E.createElement("div",{ref:t,className:I.dynamic([["3479628597",[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]]])+" "+"dot ".concat(r?"disabled":""," ").concat(s?"click":"")},n,E.createElement(I,{id:"3479628597",dynamic:[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]},".dot.__jsx-style-dynamic-selector{position:absolute;left:".concat(i,"%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);height:calc(var(--slider-font-size) * 1.25);min-width:calc(var(--slider-font-size) * 1.25);line-height:calc(var(--slider-font-size) * 1.25);border-radius:calc(var(--slider-font-size) * 0.625);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:700;font-size:calc(var(--slider-font-size) * 0.75);z-index:100;background-color:").concat(o.palette.success,";color:").concat(o.palette.background,";text-align:center;padding:0 calc(0.57 * var(--slider-font-size));}.dot.disabled.__jsx-style-dynamic-selector{cursor:not-allowed !important;background-color:").concat(o.palette.accents_2,";color:").concat(o.palette.accents_4,";}.dot.click.__jsx-style-dynamic-selector{-webkit-transition:all 200ms ease;transition:all 200ms ease;}.dot.__jsx-style-dynamic-selector:hover{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}.dot.__jsx-style-dynamic-selector:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}")))});J1.defaultProps=Cne;J1.displayName="GeistSliderDot";var Tne=function(t,n,r){var i=n-t,s=i%r?Math.ceil:Math.floor,o=s(i/r)-1;return o>=99?[]:qr(new Array(o)).map(function(a,l){return r*(l+1)*100/i})},Lne=function(t){var n=t.step,r=t.max,i=t.min,s=Be(),o=L.useMemo(function(){return Tne(i,r,n)},[i,r,n]);return E.createElement(E.Fragment,null,o.map(function(a,l){return E.createElement("span",{key:"".concat(a,"-").concat(l),style:{left:"".concat(a,"%")},className:I.dynamic([["324900419",[s.palette.background]]])})}),E.createElement(I,{id:"324900419",dynamic:[s.palette.background]},"span.__jsx-style-dynamic-selector{position:absolute;width:2px;height:100%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:".concat(s.palette.background,";}")))},Nne=function(t,n){var r={default:{bg:t.accents_8},secondary:{bg:t.accents_8},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},Ine=["hideValue","disabled","type","step","max","min","initialValue","value","onChange","className","showMarkers"],Mne={hideValue:!1,type:"default",initialValue:0,step:1,min:0,max:100,disabled:!1,showMarkers:!1,className:""},u0=function(t){if(!t||!t.current)return 0;var n=t.current.getBoundingClientRect();return n.width||n.right-n.left},Pne=function(t,n,r,i,s){if(i<0)return n;if(i>s)return t;var o=s/(t-n)*r;if(o<=0)return n;var a=Math.round(i/o)*r+n;return Number.isInteger(a)?a:Number.parseFloat(a.toFixed(1))},ew=function(t){var n=t.hideValue,r=t.disabled,i=t.type,s=t.step,o=t.max,a=t.min,l=t.initialValue,c=t.value,d=t.onChange,u=t.className,h=t.showMarkers,g=De(t,Ine),p=Be(),m=He(),_=m.SCALES,y=L.useState(l),f=Re(y,2),x=f[0],v=f[1],w=_i(0),b=Re(w,3),S=b[1],A=b[2],C=_i(0),k=Re(C,3),N=k[1],R=k[2],B=L.useState(!1),H=Re(B,2),F=H[0],T=H[1],W=L.useRef(null),G=L.useRef(null),Y=L.useMemo(function(){return(x-a)/(o-a)*100},[x,o,a]),ee=function(he){var ye=u0(W),Ze=(he-a)/(o-a)*ye;N(Ze)},J=L.useCallback(function(We){var he=Pne(o,a,s,We,A.current);v(he),d&&d(he)},[o,a,s,A]),ue=L.useMemo(function(){return Nne(p.palette,i)},[p.palette,i]),Ae=ue.bg,ce=function(he){if(!r){var ye=he.currentX-he.startX,Ze=ye+R.current;J(Ze)}},_e=function(){T(!1),S(u0(W))},ze=function(he){if(!r){var ye=he.currentX-he.startX,Ze=ye+R.current,tt=Ze<0?0:Math.min(Ze,A.current);N(tt)}},Me=function(he){if(!r&&!(!W||!W.current)){T(!0),S(u0(W));var ye=he.clientX-W.current.getBoundingClientRect().x;N(ye),J(ye)}};return kne(G,ce,_e,ze),L.useEffect(function(){c!==void 0&&c!==x&&v(c)},[c,x]),L.useEffect(function(){l&&ee(l)},[]),E.createElement("div",xe({onClick:Me,ref:W},Ve(g),{className:I.dynamic([["219401708",[r?p.palette.accents_2:Ae,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]]])+" "+"slider ".concat(u)}),E.createElement(J1,{disabled:r,ref:G,isClick:F,left:Y},n||x),h&&E.createElement(Lne,{max:o,min:a,step:s}),E.createElement(I,{id:"219401708",dynamic:[r?p.palette.accents_2:Ae,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]},".slider.__jsx-style-dynamic-selector{border-radius:50px;background-color:".concat(r?p.palette.accents_2:Ae,";position:relative;cursor:").concat(r?"not-allow":"pointer",";--slider-font-size:").concat(_.font(1),";width:").concat(_.width(1,"100%"),";height:").concat(_.height(.5),";padding:").concat(_.pt(0)," ").concat(_.pr(0)," ").concat(_.pb(0)," ").concat(_.pl(0),";margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}")))};ew.defaultProps=Mne;ew.displayName="GeistSlider";var Fne=qe(ew),Rne=function(t,n,r){var i={default:{color:n.foreground,border:n.border,bgColor:n.background},success:{color:n.success,border:n.success,bgColor:n.background},warning:{color:n.warning,border:n.warning,bgColor:n.background},error:{color:n.error,border:n.error,bgColor:n.background},secondary:{color:n.secondary,border:n.secondary,bgColor:n.background},lite:{color:n.foreground,border:n.border,bgColor:n.accents_1},dark:{color:n.background,border:n.foreground,bgColor:n.foreground}},s=["success","warning","error","secondary"],o=i[t],a=s.includes(t);return!r||!a?o:xe({},o,{color:o.bgColor,bgColor:o.color})},k3=function(){return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentcolor"},className:"jsx-418323402"},E.createElement("path",{d:"M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z",className:"jsx-418323402"}),E.createElement(I,{id:"418323402"},"svg.jsx-418323402{width:calc(var(--snippet-font-size) * 1.69);height:calc(var(--snippet-font-size) * 1.69);}"))};k3.displayName="GeistSnippetIcon";var Dne=E.memo(k3),zne={onError:function(){return Pi("Failed to copy.","use-clipboard")}},One=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zne,n=lu("clipboard"),r=function(o,a){if(!(!o||!a)){var l=window.getSelection();if(l){o.style.whiteSpace="pre",o.textContent=a;var c=window.document.createRange();l.removeAllRanges(),c.selectNode(o),l.addRange(c);try{window.document.execCommand("copy")}catch{t.onError&&t.onError()}l.removeAllRanges(),o&&(o.textContent="")}}},i=L.useCallback(function(s){r(n,s)},[n]);return{copy:i}},Bne={delay:2e3},h0=[],rC=0,g0,jne=function(){var t=Jee(),n=t.updateToasts,r=t.toastHovering,i=t.toasts,s=_i(r),o=Re(s,3),a=o[1],l=o[2];L.useEffect(function(){return a(r)},[r]);var c=function(h,g){g<=rC||(clearTimeout(g0),rC=g,g0=window.setTimeout(function(){n(function(p){return h0.length<p.length?p:(h0=[],[])}),clearTimeout(g0)},h+350))},d=function(h){var g="toast-".concat(CD()),p=h.delay||Bne.delay,m=function(f,x){n(function(v){return v.map(function(w){return w.id!==f?w:xe({},w,{willBeDestroy:!0})})}),h0.push(f),c(x,performance.now())};n(function(y){var f=xe({},h,{id:g,delay:p,cancel:function(x){function v(){return x.apply(this,arguments)}return v.toString=function(){return x.toString()},v}(function(){return m(g,p)})});return[].concat(qr(y),[f])});var _=function y(f,x){var v=window.setTimeout(function(){if(l.current)return y(f,x),clearTimeout(v);m(f,x),clearTimeout(v)},x)};_(g,p)};return[i,d]},Une=["type","filled","children","symbol","toastText","toastType","text","copy","className"],$ne={filled:!1,symbol:"$",toastText:"Copied to clipboard!",toastType:"success",copy:"default",type:"default",className:""},Vne=function(t){return t.reduce(function(n,r){return r?n?"".concat(n,`
`).concat(r):r:n},"")},tw=function(t){var n=t.type,r=t.filled,i=t.children,s=t.symbol,o=t.toastText,a=t.toastType,l=t.text,c=t.copy,d=t.className,u=De(t,Une),h=Be(),g=He(),p=g.SCALES,m=One(),_=m.copy,y=jne(),f=Re(y,2),x=f[1],v=L.useRef(null),w=l&&Array.isArray(l),b=L.useMemo(function(){return Rne(n,h.palette,r)},[n,h.palette,r]),S=L.useMemo(function(){return c!=="prevent"},[c]),A=L.useMemo(function(){return w?Vne(l):i?v.current?v.current.textContent:"":l},[v.current,i,l]),C=L.useMemo(function(){var N=s.trim();return N?"".concat(N," "):""},[s]),k=function(){!A||!S||(_(A),c!=="silent"&&x({text:o,type:a}))};return E.createElement("div",xe({},Ve(u),{className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" "+"snippet ".concat(d)}),w?l.map(function(N,R){return E.createElement("pre",{key:"snippet-".concat(R,"-").concat(N),className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},N)}):E.createElement("pre",{ref:v,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},i||l),S&&E.createElement("div",{onClick:k,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" copy"},E.createElement(Dne,null)),E.createElement(I,{id:"1687463382",dynamic:[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]},".snippet.__jsx-style-dynamic-selector{position:relative;max-width:100%;color:".concat(b.color,";background-color:").concat(b.bgColor,";border:1px solid ").concat(b.border,";border-radius:").concat(h.layout.radius,";--snippet-font-size:").concat(p.font(.8125),";--snippet-padding-top:").concat(p.pt(.667),";font-size:var(--snippet-font-size);width:").concat(p.width(1,"initial"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(.667)," ").concat(p.pr(2.667)," ").concat(p.pb(.667)," ").concat(p.pl(.667),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}pre.__jsx-style-dynamic-selector{margin:0;padding:0;border:none;background-color:transparent;color:").concat(b.color,";font-size:inherit;}pre.__jsx-style-dynamic-selector::before{content:'").concat(C,"';-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}pre.__jsx-style-dynamic-selector *{margin:0;padding:0;font-size:inherit;color:inherit;}.copy.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;bottom:0;height:calc(100% - 2px);background-color:").concat(b.bgColor,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:").concat(w?"flex-start":"center",";-webkit-box-align:").concat(w?"flex-start":"center",";-ms-flex-align:").concat(w?"flex-start":"center",";align-items:").concat(w?"flex-start":"center",";width:calc(3.281 * var(--snippet-font-size));color:inherit;-webkit-transition:opacity 0.2s ease 0s;transition:opacity 0.2s ease 0s;border-radius:").concat(h.layout.radius,";cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:").concat(w?"var(--snippet-padding-top)":0,";}.copy.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};tw.defaultProps=$ne;tw.displayName="GeistSnippet";qe(tw);var Gne=["inline","className"],Hne={inline:!1,className:""},nw=function(t){var n=t.inline,r=t.className,i=De(t,Gne),s=He(),o=s.SCALES;return E.createElement("span",xe({},Ve(i),{className:I.dynamic([["1994396435",[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")}),E.createElement(I,{id:"1994396435",dynamic:[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"span.__jsx-style-dynamic-selector{display:".concat(n?"inline-block":"block",";width:").concat(o.width(1),";height:").concat(o.height(1),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};nw.defaultProps=Hne;nw.displayName="GeistSpacer";qe(nw);var Wne=["className"],qne={className:""},Xne=function(t){return qr(new Array(12)).map(function(n,r){return E.createElement("span",{key:"spinner-".concat(r),className:I.dynamic([["3296107463",[t.palette.foreground,t.layout.radius]]])},E.createElement(I,{id:"3296107463",dynamic:[t.palette.foreground,t.layout.radius]},"span.__jsx-style-dynamic-selector{background-color:".concat(t.palette.foreground,";position:absolute;top:-3.9%;width:24%;height:8%;left:-10%;border-radius:").concat(t.layout.radius,";-webkit-animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;}span.__jsx-style-dynamic-selector:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s;-webkit-transform:rotate(0deg) translate(146%);-ms-transform:rotate(0deg) translate(146%);transform:rotate(0deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s;-webkit-transform:rotate(30deg) translate(146%);-ms-transform:rotate(30deg) translate(146%);transform:rotate(30deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s;-webkit-transform:rotate(60deg) translate(146%);-ms-transform:rotate(60deg) translate(146%);transform:rotate(60deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(4){-webkit-animation-delay:-0.9s;animation-delay:-0.9s;-webkit-transform:rotate(90deg) translate(146%);-ms-transform:rotate(90deg) translate(146%);transform:rotate(90deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(5){-webkit-animation-delay:-0.8s;animation-delay:-0.8s;-webkit-transform:rotate(120deg) translate(146%);-ms-transform:rotate(120deg) translate(146%);transform:rotate(120deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(6){-webkit-animation-delay:-0.7s;animation-delay:-0.7s;-webkit-transform:rotate(150deg) translate(146%);-ms-transform:rotate(150deg) translate(146%);transform:rotate(150deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(7){-webkit-animation-delay:-0.6s;animation-delay:-0.6s;-webkit-transform:rotate(180deg) translate(146%);-ms-transform:rotate(180deg) translate(146%);transform:rotate(180deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(8){-webkit-animation-delay:-0.5s;animation-delay:-0.5s;-webkit-transform:rotate(210deg) translate(146%);-ms-transform:rotate(210deg) translate(146%);transform:rotate(210deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(9){-webkit-animation-delay:-0.4s;animation-delay:-0.4s;-webkit-transform:rotate(240deg) translate(146%);-ms-transform:rotate(240deg) translate(146%);transform:rotate(240deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(10){-webkit-animation-delay:-0.3s;animation-delay:-0.3s;-webkit-transform:rotate(270deg) translate(146%);-ms-transform:rotate(270deg) translate(146%);transform:rotate(270deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(11){-webkit-animation-delay:-0.2s;animation-delay:-0.2s;-webkit-transform:rotate(300deg) translate(146%);-ms-transform:rotate(300deg) translate(146%);transform:rotate(300deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(12){-webkit-animation-delay:-0.1s;animation-delay:-0.1s;-webkit-transform:rotate(330deg) translate(146%);-ms-transform:rotate(330deg) translate(146%);transform:rotate(330deg) translate(146%);}@-webkit-keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}@keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}")))})},rw=function(t){var n=t.className,r=De(t,Wne),i=Be(),s=He(),o=s.SCALES;return E.createElement("div",xe({},Ve(r),{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"spinner ".concat(n)}),E.createElement("div",{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" container"},Xne(i)),E.createElement(I,{id:"1153799566",dynamic:[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".spinner.__jsx-style-dynamic-selector{display:block;box-sizing:border-box;width:".concat(o.width(1.25),";height:").concat(o.height(1.25),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.container.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;left:50%;top:50%;}")))};rw.defaultProps=qne;rw.displayName="GeistSpinner";qe(rw);var Yne={className:""},Zne=function(t,n){var r=n.filter(function(o){return!o.width}).length,i=n.reduce(function(o,a){return a.width?o+a.width:o},0),s=(t-i)/r;return s<=0?E.createElement("colgroup",null):E.createElement("colgroup",null,n.map(function(o,a){return E.createElement("col",{key:"colgroup-".concat(a),width:o.width||s})}))},iw=function(t){var n=Be(),r=t,i=r.columns,s=r.width,o=L.useMemo(function(){return i.find(function(l){return!!l.width})},[i]),a=L.useMemo(function(){return o?Zne(s,i):E.createElement("colgroup",null)},[o,s]);return E.createElement(E.Fragment,null,a,E.createElement("thead",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},E.createElement("tr",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},i.map(function(l,c){return E.createElement("th",{key:"table-th-".concat(l.prop,"-").concat(c),className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" "+(l.className||"")},E.createElement("div",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" thead-box"},l.label))}))),E.createElement(I,{id:"134865897",dynamic:[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]},"thead.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;font-size:inherit;}th.__jsx-style-dynamic-selector{padding:0 0.5em;font-size:calc(0.75 * var(--table-font-size));font-weight:normal;text-align:left;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;vertical-align:middle;min-height:calc(2.5 * var(--table-font-size));color:".concat(n.palette.accents_5,";background:").concat(n.palette.accents_1,";border-bottom:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-radius:0;}th.__jsx-style-dynamic-selector:nth-child(1){border-bottom:1px solid ").concat(n.palette.border,";border-left:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-left-radius:").concat(n.layout.radius,";border-bottom-left-radius:").concat(n.layout.radius,";}th.__jsx-style-dynamic-selector:last-child{border-bottom:1px solid ").concat(n.palette.border,";border-right:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-right-radius:").concat(n.layout.radius,";border-bottom-right-radius:").concat(n.layout.radius,";}.thead-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-align:center;min-height:calc(2.5 * var(--table-font-size));text-transform:uppercase;}")))};iw.defaultProps=Yne;iw.displayName="GeistTableHead";var Qne=function(t){var n=t.columns,r=t.row,i=t.rowIndex,s=t.emptyText,o=t.onCellClick;return E.createElement(E.Fragment,null,n.map(function(a,l){var c=r[a.prop],d=c||s,u=a.renderHandler(c,r,i);return E.createElement("td",{key:"row-td-".concat(l,"-").concat(a.prop),onClick:function(){return o&&o(c,i,l)},className:a.className},E.createElement("div",{className:"cell"},u||d))}))},Kne={columns:[],updateColumn:function(){}},C3=E.createContext(Kne),T3=function(){return E.useContext(C3)},Jne={className:""},sw=function(t){var n=t.data,r=t.hover,i=t.emptyText,s=t.onRow,o=t.onCell,a=t.rowClassName,l=Be(),c=T3(),d=c.columns,u=function(g,p){s&&s(g,p)};return E.createElement("tbody",{className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])},n.map(function(h,g){var p=a(h,g);return E.createElement("tr",{key:"tbody-row-".concat(g),onClick:function(){return u(h,g)},className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])+" "+"".concat(r?"hover":""," ").concat(p)},E.createElement(Qne,{columns:d,row:h,rowIndex:g,emptyText:i,onCellClick:o}))}),E.createElement(I,{id:"1102342339",dynamic:[l.palette.accents_1,l.palette.border,l.palette.accents_6]},"tr.__jsx-style-dynamic-selector{-webkit-transition:background-color 0.25s ease;transition:background-color 0.25s ease;font-size:inherit;}tr.hover.__jsx-style-dynamic-selector:hover{background-color:".concat(l.palette.accents_1,";}tr.__jsx-style-dynamic-selector td{padding:0 0.5em;border-bottom:1px solid ").concat(l.palette.border,";color:").concat(l.palette.accents_6,";font-size:calc(0.875 * var(--table-font-size));text-align:left;}tr.__jsx-style-dynamic-selector .cell{min-height:calc(3.125 * var(--table-font-size));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;}")))};sw.defaultProps=Jne;sw.displayName="GeistTableBody";var ere={className:"",render:function(){}},Rm=function(t){var n=t,r=n.children,i=n.prop,s=n.label,o=n.width,a=n.className,l=n.render,c=T3(),d=c.updateColumn,u="".concat(i).trim();return u||Pi('The props "prop" is required.',"Table.Column"),L.useEffect(function(){d({label:r||s,prop:u,width:o,className:a,renderHandler:l})},[r,s,i,o,a,l]),null};Rm.defaultProps=ere;Rm.displayName="GeistTableColumn";var tre=["children","data","initialData","hover","emptyText","onRow","onCell","onChange","className","rowClassName"],nre={hover:!0,initialData:[],emptyText:"",className:"",rowClassName:function(){return""}};function Dm(e){var t=e,n=t.children,r=t.data,i=t.initialData,s=t.hover,o=t.emptyText,a=t.onRow,l=t.onCell;t.onChange;var c=t.className,d=t.rowClassName,u=De(t,tre),h=He(),g=h.SCALES,p=L.useRef(null),m=JD(p),_=Re(m,2),y=_[0].width,f=_[1],x=L.useState([]),v=Re(x,2),w=v[0],b=v[1],S=L.useState(i),A=Re(S,2),C=A[0],k=A[1],N=function(H){b(function(F){var T=F.find(function(W){return W.prop===H.prop});return T?F.map(function(W){return W.prop!==H.prop?W:H}):[].concat(qr(F),[H])})},R=L.useMemo(function(){return{columns:w,updateColumn:N}},[w]);return L.useEffect(function(){typeof r>"u"||k(r)},[r]),Fb(function(){return f()}),E.createElement(C3.Provider,{value:R},E.createElement("table",xe({ref:p},Ve(u),{className:I.dynamic([["2132340556",[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]]])+" "+(c||"")}),E.createElement(iw,{columns:w,width:y}),E.createElement(sw,{data:C,hover:s,emptyText:o,onRow:a,onCell:l,rowClassName:d}),n,E.createElement(I,{id:"2132340556",dynamic:[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]},"table.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;--table-font-size:".concat(g.font(1),";font-size:var(--table-font-size);width:").concat(g.width(1,"100%"),";height:").concat(g.height(1,"auto"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}"))))}Dm.defaultProps=nre;Dm.displayName="GeistTable";Dm.Column=Rm;var rre=qe(Dm);rre.Column=Rm;var ire={inGroup:!1},L3=E.createContext(ire),sre=function(){return E.useContext(L3)},ore=["initialValue","value","hideDivider","children","onChange","className"],are={className:"",hideDivider:!1},ow=function(t){var n=t.initialValue,r=t.value,i=t.hideDivider,s=t.children,o=t.onChange,a=t.className,l=De(t,ore),c=Be(),d=He(),u=d.SCALES,h=L.useState(n),g=Re(h,2),p=g[0],m=g[1],_=L.useState([]),y=Re(_,2),f=y[0],x=y[1],v=function(A){x(function(C){var k=C.find(function(N){return N.value===A.value});return k?C.map(function(N){return N.value!==A.value?N:xe({},N,A)}):[].concat(qr(C),[A])})},w=L.useMemo(function(){return{register:v,currentValue:p,inGroup:!0}},[p]);L.useEffect(function(){typeof r>"u"||m(r)},[r]);var b=function(A){m(A),o&&o(A)};return E.createElement(L3.Provider,{value:w},E.createElement("div",xe({},Ve(l),{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"tabs ".concat(a)}),E.createElement("header",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])},E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"scroll-container ".concat(i?"hide-divider":"")},f.map(function(S){var A=S.cell,C=S.value;return E.createElement(A,{key:C,value:p,onClick:b,className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])})}))),E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" content"},s),E.createElement(I,{id:"4088875350",dynamic:[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]},".tabs.__jsx-style-dynamic-selector{font-size:".concat(u.font(1),";width:").concat(u.width(1,"initial"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-y:hidden;overflow-x:scroll;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;position:relative;}.scroll-container.__jsx-style-dynamic-selector{width:100%;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid ").concat(c.palette.border,";}header.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}.hide-divider.__jsx-style-dynamic-selector{border-color:transparent;}.content.__jsx-style-dynamic-selector{padding-top:0.625rem;}"))))};ow.defaultProps=are;ow.displayName="GeistTabs";var N3=qe(ow),lre={disabled:!1},aw=function(t){var n=t.children,r=t.value,i=t.label,s=t.disabled,o=Be(),a=He(),l=a.SCALES,c=sre(),d=c.register,u=c.currentValue,h=L.useMemo(function(){return u===r},[u,r]),g=function(m){var _=m.value,y=m.onClick,f=function(){s||y&&y(r)};return E.createElement("div",{role:"button",key:r,onClick:f,className:I.dynamic([["1613686401",[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]]])+" "+"tab ".concat(r===_?"active":""," ").concat(s?"disabled":"")},i,E.createElement(I,{id:"1613686401",dynamic:[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]},".tab.__jsx-style-dynamic-selector{box-sizing:border-box;cursor:pointer;outline:0;-webkit-transition:all 200ms ease;transition:all 200ms ease;text-transform:capitalize;white-space:nowrap;color:".concat(o.palette.accents_6,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:").concat(l.font(1),";line-height:1.25em;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(.334)," ").concat(l.pr(.218)," ").concat(l.pb(.334)," ").concat(l.pl(.218),";margin:").concat(l.mt(0)," ").concat(l.mr(.5334)," ").concat(l.mb(0)," ").concat(l.ml(.5334),";}.tab.__jsx-style-dynamic-selector:after{position:absolute;content:'';bottom:-1px;left:0;right:0;width:100%;height:2px;border-radius:4px;-webkit-transform:scaleX(0.75);-ms-transform:scaleX(0.75);transform:scaleX(0.75);background-color:transparent;-webkit-transition:all 200ms ease;transition:all 200ms ease;}.tab.active.__jsx-style-dynamic-selector:after{background-color:").concat(o.palette.foreground,";-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);}.tab.__jsx-style-dynamic-selector svg{max-height:1em;margin-right:5px;}.tab.__jsx-style-dynamic-selector:first-of-type{margin-left:0;}.tab.active.__jsx-style-dynamic-selector{color:").concat(o.palette.foreground,";}.tab.disabled.__jsx-style-dynamic-selector{color:").concat(o.palette.accents_3,";cursor:not-allowed;}")))};return g.displayName="GeistTabsInternalCell",L.useEffect(function(){d&&d({value:r,cell:g})},[r,i,s,g]),h?E.createElement(E.Fragment,null,n):null};aw.defaultProps=lre;aw.displayName="GeistTabsItem";var I3=qe(aw);N3.Item=I3;N3.Tab=I3;var cre=["type","children","className","invert"],dre={type:"default",invert:!1,className:""},ure=function(t,n,r){var i={default:{color:n.foreground},success:{color:n.success},warning:{color:n.warning},error:{color:n.error},secondary:{color:n.secondary},dark:{color:n.foreground,bgColor:n.background},lite:{color:n.foreground,bgColor:n.accents_2}},s=r||t==="lite",o=xe({},i[t],{bgColor:i[t].bgColor||n.background,borderColor:s?"transparent":i[t].color});return r?xe({},o,{color:o.bgColor,bgColor:o.color}):o},lw=function(t){var n=t.type,r=t.children,i=t.className,s=t.invert,o=De(t,cre),a=Be(),l=He(),c=l.SCALES,d=L.useMemo(function(){return ure(n,a.palette,s)},[n,a.palette,s]),u=d.color,h=d.bgColor,g=d.borderColor;return E.createElement("span",xe({},Ve(o),{className:I.dynamic([["3652870078",[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])+" "+(i||"")}),r,E.createElement(I,{id:"3652870078",dynamic:[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"span.__jsx-style-dynamic-selector{display:inline-block;border:1px solid ".concat(g,";background-color:").concat(h,";color:").concat(u,";box-sizing:border-box;line-height:1em;border-radius:").concat(c.height(.3125),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1.75),";padding:").concat(c.pt(.375)," ").concat(c.pr(.375)," ").concat(c.pb(.375)," ").concat(c.pl(.375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}")))};lw.defaultProps=dre;lw.displayName="GeistTag";qe(lw);var hre=["children","tag","className","type"],gre={type:"default",className:""},pre=function(t,n){var r={default:"inherit",secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},zm=function(t){var n=t.children,r=t.tag,i=t.className,s=t.type,o=De(t,hre),a=r,l=Be(),c=He(),d=c.SCALES,u=c.getScaleableProps,h=u("font"),g=u(["margin","marginLeft","marginRight","mx","ml","mr"]),p=u(["margin","marginTop","marginBottom","my","mt","mb"]),m=u(["padding","paddingLeft","paddingRight","pl","pr","px"]),_=u(["padding","paddingTop","paddingBottom","pt","pb","py"]),y=L.useMemo(function(){return pre(s,l.palette)},[s,l.palette]),f=L.useMemo(function(){var x=[{value:g,className:"mx"},{value:p,className:"my"},{value:m,className:"px"},{value:_,className:"py"},{value:h,className:"font"}],v=x.reduce(function(w,b){return typeof b.value>"u"?w:"".concat(w," ").concat(b.className)},"");return"".concat(v," ").concat(i).trim()},[g,p,m,_,h,i]);return E.createElement(a,xe({},Ve(o),{className:I.dynamic([["3155699851",[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]]])+" "+(f||"")}),n,E.createElement(I,{id:"3155699851",dynamic:[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]},"".concat(r,".__jsx-style-dynamic-selector{color:").concat(y,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";}.font.__jsx-style-dynamic-selector{font-size:").concat(d.font(1,"inherit"),";}.mx.__jsx-style-dynamic-selector{margin-left:").concat(d.ml(0,"revert"),";margin-right:").concat(d.mr(0,"revert"),";}.my.__jsx-style-dynamic-selector{margin-top:").concat(d.mt(0,"revert"),";margin-bottom:").concat(d.mb(0,"revert"),";}.px.__jsx-style-dynamic-selector{padding-left:").concat(d.pl(0,"revert"),";padding-right:").concat(d.pr(0,"revert"),";}.py.__jsx-style-dynamic-selector{padding-top:").concat(d.pt(0,"revert"),";padding-bottom:").concat(d.pb(0,"revert"),";}")))};zm.defaultProps=gre;zm.displayName="GeistTextChild";var mre=["h1","h2","h3","h4","h5","h6","p","b","small","i","span","del","em","blockquote","children","className"],fre={h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,p:!1,b:!1,small:!1,i:!1,span:!1,del:!1,em:!1,blockquote:!1,className:"",type:"default"},_re=function e(t,n){if(!t.length)return n;var r=t.slice(1,t.length);return E.createElement(zm,{tag:t[0]},e(r,n))},cw=function(t){var n=t.h1,r=t.h2,i=t.h3,s=t.h4,o=t.h5,a=t.h6,l=t.p,c=t.b,d=t.small,u=t.i,h=t.span,g=t.del,p=t.em,m=t.blockquote,_=t.children,y=t.className,f=De(t,mre),x={h1:n,h2:r,h3:i,h4:s,h5:o,h6:a,p:l,blockquote:m},v={span:h,small:d,b:c,em:p,i:u,del:g},w=Object.keys(x).filter(function(k){return x[k]}),b=Object.keys(v).filter(function(k){return v[k]}),S=L.useMemo(function(){return w[0]?w[0]:b[0]?b[0]:"p"},[w,b]),A=b.filter(function(k){return k!==S}),C=L.useMemo(function(){return A.length?_re(A,_):_},[A,_]);return E.createElement(zm,xe({className:y,tag:S},f),C)};cw.defaultProps=fre;cw.displayName="GeistText";qe(cw);var yre=function(t,n){var r={default:{bg:t.success},secondary:{bg:t.secondary},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},xre=["initialChecked","checked","disabled","onChange","type","className"],vre={type:"default",disabled:!1,initialChecked:!1,className:""},dw=function(t){var n=t.initialChecked,r=t.checked,i=t.disabled,s=t.onChange,o=t.type,a=t.className,l=De(t,xre),c=Be(),d=He(),u=d.SCALES,h=L.useState(n),g=Re(h,2),p=g[0],m=g[1],_=L.useCallback(function(x){if(!i){var v={target:{checked:!p},stopPropagation:x.stopPropagation,preventDefault:x.preventDefault,nativeEvent:x};m(!p),s&&s(v)}},[i,p,s]),y=L.useMemo(function(){return yre(c.palette,o)},[c.palette,o]),f=y.bg;return L.useEffect(function(){r!==void 0&&m(r)},[r]),E.createElement("label",xe({},Ve(l),{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+(a||"")}),E.createElement("input",{type:"checkbox",disabled:i,checked:p,onChange:_,className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])}),E.createElement("div",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+"toggle ".concat(p?"checked":""," ").concat(i?"disabled":"")},E.createElement("span",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" inner"})),E.createElement(I,{id:"4106206985",dynamic:[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]},"label.__jsx-style-dynamic-selector{-webkit-tap-highlight-color:transparent;display:inline-block;vertical-align:middle;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:".concat(i?"not-allowed":"pointer",";--toggle-font-size:").concat(u.font(1),";--toggle-height:").concat(u.height(.875),";width:").concat(u.width(1.75),";height:var(--toggle-height);padding:").concat(u.pt(.1875)," ").concat(u.pr(0)," ").concat(u.pb(.1875)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}input.__jsx-style-dynamic-selector{overflow:hidden;visibility:hidden;height:0;opacity:0;width:0;position:absolute;background-color:transparent;z-index:-1;}.toggle.__jsx-style-dynamic-selector{height:var(--toggle-height);width:100%;border-radius:var(--toggle-height);-webkit-transition-delay:0.12s;transition-delay:0.12s;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-property:background,border;transition-property:background,border;-webkit-transition-timing-function:cubic-bezier(0,0,0.2,1);transition-timing-function:cubic-bezier(0,0,0.2,1);position:relative;border:1px solid transparent;background-color:").concat(c.palette.accents_2,";padding:0;}.inner.__jsx-style-dynamic-selector{width:calc(var(--toggle-height) - 2px);height:calc(var(--toggle-height) - 2px);position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:1px;box-shadow:rgba(0,0,0,0.2) 0 1px 2px 0,rgba(0,0,0,0.1) 0 1px 3px 0;-webkit-transition:left 280ms cubic-bezier(0,0,0.2,1);transition:left 280ms cubic-bezier(0,0,0.2,1);border-radius:50%;background-color:").concat(c.palette.background,";}.disabled.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_2,";background-color:").concat(c.palette.accents_1,";}.disabled.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{background-color:").concat(c.palette.accents_2,";}.disabled.checked.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_4,";background-color:").concat(c.palette.accents_4,";}.checked.__jsx-style-dynamic-selector{background-color:").concat(f,";}.checked.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{left:calc(100% - (var(--toggle-height) - 2px));box-shadow:none;}")))};dw.defaultProps=vre;dw.displayName="GeistToggle";qe(dw);var bre={width:22,height:22},uw=function(t){var n=t.color,r=t.width,i=t.height,s=Be();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement("path",{d:"M13 2v7h7",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};uw.defaultProps=bre;uw.displayName="GeistTreeFileIcon";var wre={initialExpand:!1,isImperative:!1},Ere=E.createContext(wre),M3=function(){return E.useContext(Ere)},P3=function(t){var n=t.count;return n===0?null:E.createElement(E.Fragment,null,qr(new Array(n)).map(function(r,i){return E.createElement("span",{key:"indent-".concat(i),className:I.dynamic([["2622387629",[i+1]]])+" indent"},E.createElement(I,{id:"2622387629",dynamic:[i+1]},"span.indent.__jsx-style-dynamic-selector{left:calc(-1.875rem * ".concat(i+1," + 0.75rem);}")))}))},Sre=function(t,n){return E.Children.toArray(t).sort(function(r,i){return!E.isValidElement(r)||!E.isValidElement(i)?0:r.type!==i.type?r.type!==n?1:-1:"".concat(r.props.name).charCodeAt(0)-"".concat(i.props.name).charCodeAt(0)})},F3=function(t,n){return n?"".concat(n,"/").concat(t):t},R3=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},Are=["name","parentPath","level","extra","className"],kre={level:0,className:"",parentPath:""},hw=function(t){var n=t.name,r=t.parentPath,i=t.level,s=t.extra,o=t.className,a=De(t,Are),l=Be(),c=M3(),d=c.onFileClick,u=L.useMemo(function(){return F3(n,r)},[]),h=function(p){R3(p),d&&d(u)};return E.createElement("div",xe({onClick:h},Ve(a),{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" "+"file ".concat(o)}),E.createElement("div",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" names"},E.createElement(P3,{count:i}),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" icon"},E.createElement(uw,null)),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" name"},n,s&&E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" extra"},s))),E.createElement(I,{id:"4220802947",dynamic:[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]},".file.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:calc(1.875rem * ".concat(i,");}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(l.palette.accents_2,";margin-left:-1px;}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:0.5rem;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(l.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(l.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};hw.defaultProps=kre;hw.displayName="GeistTreeFile";var Cre={width:22,height:22},gw=function(t){var n=t.color,r=t.width,i=t.height,s=Be();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M2.707 7.454V5.62C2.707 4.725 3.469 4 4.409 4h4.843c.451 0 .884.17 1.204.474l.49.467c.126.12.296.186.473.186h8.399c.94 0 1.55.695 1.55 1.59v.737m-18.661 0h-.354a.344.344 0 00-.353.35l.508 11.587c.015.34.31.609.668.609h17.283c.358 0 .652-.269.667-.61L22 7.805a.344.344 0 00-.353-.35h-.278m-18.662 0h18.662",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};gw.defaultProps=Cre;gw.displayName="GeistTreeFolderIcon";var Tre={width:12,height:12,active:!1},pw=function(t){var n=t.color,r=t.width,i=t.height,s=t.active,o=Be();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])},E.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),!s&&E.createElement("path",{d:"M12 8v8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement("path",{d:"M8 12h8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||o.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||o.palette.accents_8,";}")))};pw.defaultProps=Tre;pw.displayName="GeistTreeStatusIcon";var Lre=["name","children","parentPath","level","extra","className"],Nre={level:0,className:"",parentPath:""},D3=function e(t){var n=t.name,r=t.children,i=t.parentPath,s=t.level,o=t.extra,a=t.className,l=De(t,Lre),c=Be(),d=M3(),u=d.initialExpand,h=d.isImperative,g=L.useState(u),p=Re(g,2),m=p[0],_=p[1];L.useEffect(function(){return _(u)},[]);var y=L.useMemo(function(){return F3(n,i)},[]),f=function(){return _(!m)},x=jQ(r,{parentPath:y,level:s+1},[e,hw]),v=h?x:Sre(x,e);return E.createElement("div",xe({onClick:f},Ve(l),{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" "+"folder ".concat(a)}),E.createElement("div",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" names"},E.createElement(P3,{count:s}),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" status"},E.createElement(pw,{active:m})),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" icon"},E.createElement(gw,null)),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" name"},n,o&&E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" extra"},o))),E.createElement(Nm,{isExpanded:m},E.createElement("div",{onClick:R3,className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" content"},v)),E.createElement(I,{id:"1983983326",dynamic:[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]},".folder.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:calc(1.875rem * ".concat(s,");position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(c.palette.accents_2,";margin-left:-1px;}.status.__jsx-style-dynamic-selector{position:absolute;left:calc(-1.125rem);top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:0.875rem;height:0.875rem;z-index:10;background-color:").concat(c.palette.background,";}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;margin-right:0.5rem;}.status.__jsx-style-dynamic-selector,.icon.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(c.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(c.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}.content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:auto;}")))};D3.defaultProps=Nre;D3.displayName="GeistTreeFolder";var Ire=or("directory","file");Ire[0];var Mre=["src","text","name","children","className","altText"],Pre={className:""},mw=function(t){var n=t.src,r=t.text,i=t.name,s=t.children,o=t.className,a=t.altText,l=De(t,Mre),c=Be(),d=He(),u=d.SCALES,h=d.getScaleableProps,g=h("scale");return E.createElement("div",xe({},Ve(l),{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" "+"user ".concat(o)}),E.createElement(zD,{src:n,scale:g,text:r,alt:a}),E.createElement("div",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" names"},E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" name"},i),E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" social"},s)),E.createElement(I,{id:"3188576998",dynamic:[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]},".user.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;--user-font-size:".concat(u.font(1),";font-size:var(--user-font-size);width:").concat(u.width(1,"max-content"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(.5)," ").concat(u.pb(0)," ").concat(u.pl(.5),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.names.__jsx-style-dynamic-selector{font-size:inherit;margin-left:").concat(c.layout.gapHalf,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;white-space:nowrap;}.name.__jsx-style-dynamic-selector{font-size:calc(0.89 * var(--user-font-size));color:").concat(c.palette.accents_8,";line-height:1.1em;text-transform:capitalize;font-weight:500;max-width:15rem;text-overflow:ellipsis;overflow:hidden;}.social.__jsx-style-dynamic-selector{font-size:calc(0.75 * var(--user-font-size));color:").concat(c.palette.accents_6,";}.social.__jsx-style-dynamic-selector *:first-child{margin-top:0;}.social.__jsx-style-dynamic-selector *:last-child{margin-bottom:0;}")))};mw.defaultProps=Pre;mw.displayName="GeistUser";var Fre=qe(mw),Rre=["href","className","children"],Dre={className:""},fw=E.forwardRef(function(e,t){var n=e.href,r=e.className,i=e.children,s=De(e,Rre);return E.createElement("div",xe({},Ve(s),{className:"jsx-3263947648 "+(r||"")}),E.createElement(qb,{ref:t,href:n,color:!0,target:"_blank",rel:"noopener"},i),E.createElement(I,{id:"3263947648"},"div.jsx-3263947648 a:hover{opacity:0.7;}"))});fw.defaultProps=Dre;fw.displayName="GeistUserLink";Fre.Link=fw;or("xs","sm","md","lg","xl","mobile");or("up","down","default");var zre=function(t){var n=t.children,r=Be();return E.createElement(E.Fragment,null,n,E.createElement(I,{id:"2379574914",dynamic:[r.palette.background,r.palette.foreground,r.palette.background,r.font.sans,r.font.sans,r.palette.link,r.expressiveness.linkStyle,r.expressiveness.linkHoverStyle,r.layout.gapHalf,r.layout.gapHalf,r.layout.gapHalf,r.layout.gap,r.palette.foreground,r.palette.accents_4,r.palette.code,r.font.mono,r.layout.gap,r.layout.gap,r.layout.gap,r.palette.accents_2,r.layout.radius,r.font.mono,r.palette.foreground,r.palette.accents_2,r.palette.accents_1,r.layout.gap,r.layout.gap,r.palette.accents_5,r.palette.accents_1,r.layout.radius,r.palette.border,r.palette.selection,r.palette.foreground]},"html,body{background-color:".concat(r.palette.background,";color:").concat(r.palette.foreground,";}html{font-size:16px;--geist-icons-background:").concat(r.palette.background,";}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.5;margin:0;padding:0;min-height:100%;position:relative;overflow-x:hidden;font-family:").concat(r.font.sans,";}#__next{overflow-x:hidden;}*,*:before,*:after{box-sizing:inherit;text-rendering:geometricPrecision;-webkit-tap-highlight-color:transparent;}p,small{font-weight:400;color:inherit;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;font-family:").concat(r.font.sans,";}p{margin:1em 0;font-size:1em;line-height:1.625em;}small{margin:0;line-height:1.5;font-size:0.875em;}b{font-weight:600;}span{font-size:inherit;color:inherit;font-weight:inherit;}img{max-width:100%;}a{cursor:pointer;font-size:inherit;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(r.palette.link,";-webkit-text-decoration:").concat(r.expressiveness.linkStyle,";text-decoration:").concat(r.expressiveness.linkStyle,";}a:hover{-webkit-text-decoration:").concat(r.expressiveness.linkHoverStyle,";text-decoration:").concat(r.expressiveness.linkHoverStyle,";}ul,ol{padding:0;list-style-type:none;margin:").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gap,";color:").concat(r.palette.foreground,";}ol{list-style-type:decimal;}li{margin-bottom:0.625em;font-size:1em;line-height:1.625em;}ul li:before{content:'';display:inline-block;color:").concat(r.palette.accents_4,";position:absolute;margin-left:-0.9375em;}h1,h2,h3,h4,h5,h6{color:inherit;margin:0 0 0.7rem 0;}h1{font-size:3rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;line-height:1.5;font-weight:700;}h2{font-size:2.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h3{font-size:1.5rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h4{font-size:1.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h5{font-size:1rem;-webkit-letter-spacing:-0.01em;-moz-letter-spacing:-0.01em;-ms-letter-spacing:-0.01em;letter-spacing:-0.01em;font-weight:600;}h6{font-size:0.875rem;-webkit-letter-spacing:-0.005em;-moz-letter-spacing:-0.005em;-ms-letter-spacing:-0.005em;letter-spacing:-0.005em;font-weight:600;}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;color:inherit;margin:0;}button:focus,input:focus,select:focus,textarea:focus{outline:none;}code{color:").concat(r.palette.code,";font-family:").concat(r.font.mono,";font-size:0.9em;white-space:pre-wrap;}code:before,code:after{content:'\\`';}pre{padding:calc(").concat(r.layout.gap," * 0.75) ").concat(r.layout.gap,";margin:").concat(r.layout.gap," 0;border:1px solid ").concat(r.palette.accents_2,";border-radius:").concat(r.layout.radius,";font-family:").concat(r.font.mono,";white-space:pre;overflow:auto;line-height:1.5;text-align:left;font-size:13px;-webkit-overflow-scrolling:touch;}pre code{color:").concat(r.palette.foreground,";font-size:0.8125rem;line-height:1.25em;white-space:pre;}pre code:before,pre code:after{display:none;}pre p{margin:0;}pre::-webkit-scrollbar{display:none;width:0;height:0;background:transparent;}hr{border-color:").concat(r.palette.accents_2,";}details{background-color:").concat(r.palette.accents_1,";border:none;}details:focus,details:hover,details:active{outline:none;}summary{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;list-style:none;outline:none;}summary::marker,summary::before{display:none;}summary::-moz-list-bullet{font-size:0;}summary:focus,summary:hover,summary:active{outline:none;list-style:none;}blockquote{padding:calc(0.667 * ").concat(r.layout.gap,") ").concat(r.layout.gap,";color:").concat(r.palette.accents_5,";background-color:").concat(r.palette.accents_1,";border-radius:").concat(r.layout.radius,";margin:1.5em 0;border:1px solid ").concat(r.palette.border,";}blockquote *:first-child{margin-top:0;}blockquote *:last-child{margin-bottom:0;}::selection{background-color:").concat(r.palette.selection,";color:").concat(r.palette.foreground,";}")))},Ore=E.memo(zre);Ore.flush=_D;const Bre=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",fr:"",children:at.jsx("path",{d:"M6 12h12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),jre=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:at.jsx("path",{d:"M 9 12 h 12 m 2 0 l -3 -3 m 3 3 l -3 3 m -10 -6 l -3 3 m 0 0 l 3 3",transform:"translate(-3,0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Ure=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:at.jsx("path",{d:"M9 12h13m0 0l-3-3m3 3l-3 3",transform:"translate(-3 0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),$re=iQ.map(e=>({value:e,label:e})),Vre=Hy.map(e=>({value:`${e}`,label:e})),p0=({color:e,setColor:t,hasTransparent:n})=>{const[r,i]=L.useState(d0);L.useEffect(()=>{i(n?["none",...d0.slice(0,-1)]:[...d0])},[n]);const[s,o]=L.useState(e);return at.jsx("span",{className:"colorpicker",children:r.map(a=>at.jsx("div",{className:a===s?"selected":"",style:{width:12,height:12,borderRadius:10,backgroundColor:a==="none"?"#fff":a,margin:5,cursor:"pointer"},onClick:()=>{o(a),t&&t(a)}},a))})},Gre=()=>{const{editor:e}=gD(),t=sr();function n(i){const s=t.getOptions();t.setOptions({cursor:{default:"crosshair"}}),t.events.once("click",o=>{const{x:a,y:l}=t.view.screenToGraphCoordinates(o),c=i==="arrow"?KR(a,l,a,l,{...dD}):aD(a,l,0,0,"...",{...uD});setTimeout(()=>{ri(c)&&e.startArrow(a,l,c),is(c)&&e.startText(a,l,c)},50),e.once("add",()=>{t.setOptions(s)})})}function r(){const i=document.createElement("a");i.href=URL.createObjectURL(new Blob([JSON.stringify(e.getAnnotations())],{type:"text/plain"})),i.download="annotations.json",i.click()}return at.jsxs(at.Fragment,{children:[at.jsx(Ko,{onClick:()=>n("arrow"),children:"Add arrow"}),at.jsx(Ko,{onClick:()=>n("text"),children:"Add text"}),at.jsx(Ko,{onClick:()=>r(),children:"Save"})]})},Hre=({minThickness:e,maxThickness:t})=>{const{currentAnnotation:n,arrowStyle:r,setArrowStyle:i,textStyle:s,setTextStyle:o}=gD();function a(m){const _={head:"none",tail:"none"};m==="one"&&(_.head="arrow"),m==="both"&&(_.head="arrow",_.tail="arrow"),i({...r,..._})}function l(m){const _=Hk(Wk(m,0,100),e,t);console.log(_),i({...r,strokeWidth:_})}function c(m){i({...r,strokeColor:m})}function d(m){o({...s,font:m})}function u(m){o({...s,fontSize:`${m}`})}function h(m){o({...s,background:m})}function g(m){o({...s,color:m})}function p(m){return m.preventDefault(),m.stopPropagation(),!1}return at.jsx(zZ,{children:at.jsxs("div",{className:"ui",children:[!n&&at.jsx("span",{className:"add-buttons",children:at.jsx(Gre,{})}),at.jsxs("div",{className:"tweakpanel",onMouseDown:p,onClick:p,children:[n&&ri(n)&&at.jsxs("span",{className:"rows",children:[at.jsx("span",{children:"Shape"}),at.jsxs(hJ,{children:[at.jsx(Ko,{onClick:()=>a("none"),icon:at.jsx(Bre,{})}),at.jsx(Ko,{onClick:()=>a("one"),icon:at.jsx(Ure,{})}),at.jsx(Ko,{onClick:()=>a("both"),icon:at.jsx(jre,{})})]}),at.jsx("span",{children:"Color"}),at.jsx(p0,{color:r.strokeColor,setColor:m=>c(m)}),at.jsx("span",{children:"Thickness"}),at.jsx(Fne,{min:0,max:100,onChange:m=>l(m),initialValue:Math.floor(Hk(Wk(r.strokeWidth||0,e,t),0,100))})]}),n&&is(n)&&at.jsxs("span",{className:"rows",children:[at.jsx("span",{children:"Font"}),at.jsx(Cc,{onChange:m=>d(m),initialValue:s.font,children:$re.map(m=>at.jsx(Cc.Option,{value:m.value,children:m.label},m.value))}),at.jsx("span",{children:"Size"}),at.jsx(Cc,{onChange:m=>u(m),initialValue:s.fontSize,children:Vre.map(m=>at.jsx(Cc.Option,{value:m.value,children:m.label},m.value))}),at.jsx("span",{children:"Color"}),at.jsx(p0,{color:s.color,setColor:m=>g(m)}),at.jsx("span",{children:"Background"}),at.jsx(p0,{hasTransparent:!0,color:s.background,setColor:m=>h(m)})]})]})]})})};function Wre(){const[e]=L.useState({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:{x:100,y:100}}],edges:[]});return at.jsx("div",{className:"App",children:at.jsx(yZ,{graph:e,children:at.jsx(lQ,{children:at.jsx(Hre,{minThickness:1,maxThickness:10})})})})}m0.createRoot(document.getElementById("root")).render(at.jsx(Wre,{}))});export default qre();
