var SD=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ore=SD((Xre,Ma)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function kD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var QA={exports:{}},Sp={},KA={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd=Symbol.for("react.element"),AD=Symbol.for("react.portal"),CD=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),LD=Symbol.for("react.profiler"),ND=Symbol.for("react.provider"),ID=Symbol.for("react.context"),MD=Symbol.for("react.forward_ref"),PD=Symbol.for("react.suspense"),FD=Symbol.for("react.memo"),RD=Symbol.for("react.lazy"),mw=Symbol.iterator;function DD(e){return e===null||typeof e!="object"?null:(e=mw&&e[mw]||e["@@iterator"],typeof e=="function"?e:null)}var JA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eC=Object.assign,tC={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=tC,this.updater=n||JA}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nC(){}nC.prototype=Nl.prototype;function Uy(e,t,n){this.props=e,this.context=t,this.refs=tC,this.updater=n||JA}var $y=Uy.prototype=new nC;$y.constructor=Uy;eC($y,Nl.prototype);$y.isPureReactComponent=!0;var fw=Array.isArray,rC=Object.prototype.hasOwnProperty,Vy={current:null},iC={key:!0,ref:!0,__self:!0,__source:!0};function sC(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)rC.call(t,r)&&!iC.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gd,type:e,key:s,ref:o,props:i,_owner:Vy.current}}function zD(e,t){return{$$typeof:Gd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gd}function OD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _w=/\/+/g;function Rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OD(""+e.key):t.toString(36)}function bh(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gd:case AD:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Rm(o,0):r,fw(i)?(n="",e!=null&&(n=e.replace(_w,"$&/")+"/"),bh(i,t,n,"",function(c){return c})):i!=null&&(Gy(i)&&(i=zD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_w,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",fw(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Rm(s,a);o+=bh(s,t,n,l,i)}else if(l=DD(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Rm(s,a++),o+=bh(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cu(e,t,n){if(e==null)return e;var r=[],i=0;return bh(e,r,"","",function(s){return t.call(n,s,i++)}),r}function BD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xr={current:null},wh={transition:null},jD={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:wh,ReactCurrentOwner:Vy};Lt.Children={map:cu,forEach:function(e,t,n){cu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cu(e,function(){t++}),t},toArray:function(e){return cu(e,function(t){return t})||[]},only:function(e){if(!Gy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lt.Component=Nl;Lt.Fragment=CD;Lt.Profiler=LD;Lt.PureComponent=Uy;Lt.StrictMode=TD;Lt.Suspense=PD;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jD;Lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eC({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Vy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)rC.call(t,l)&&!iC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Gd,type:e.type,key:i,ref:s,props:r,_owner:o}};Lt.createContext=function(e){return e={$$typeof:ID,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ND,_context:e},e.Consumer=e};Lt.createElement=sC;Lt.createFactory=function(e){var t=sC.bind(null,e);return t.type=e,t};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(e){return{$$typeof:MD,render:e}};Lt.isValidElement=Gy;Lt.lazy=function(e){return{$$typeof:RD,_payload:{_status:-1,_result:e},_init:BD}};Lt.memo=function(e,t){return{$$typeof:FD,type:e,compare:t===void 0?null:t}};Lt.startTransition=function(e){var t=wh.transition;wh.transition={};try{e()}finally{wh.transition=t}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(e,t){return xr.current.useCallback(e,t)};Lt.useContext=function(e){return xr.current.useContext(e)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(e){return xr.current.useDeferredValue(e)};Lt.useEffect=function(e,t){return xr.current.useEffect(e,t)};Lt.useId=function(){return xr.current.useId()};Lt.useImperativeHandle=function(e,t,n){return xr.current.useImperativeHandle(e,t,n)};Lt.useInsertionEffect=function(e,t){return xr.current.useInsertionEffect(e,t)};Lt.useLayoutEffect=function(e,t){return xr.current.useLayoutEffect(e,t)};Lt.useMemo=function(e,t){return xr.current.useMemo(e,t)};Lt.useReducer=function(e,t,n){return xr.current.useReducer(e,t,n)};Lt.useRef=function(e){return xr.current.useRef(e)};Lt.useState=function(e){return xr.current.useState(e)};Lt.useSyncExternalStore=function(e,t,n){return xr.current.useSyncExternalStore(e,t,n)};Lt.useTransition=function(){return xr.current.useTransition()};Lt.version="18.2.0";KA.exports=Lt;var L=KA.exports;const E=kD(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD=L,$D=Symbol.for("react.element"),VD=Symbol.for("react.fragment"),GD=Object.prototype.hasOwnProperty,HD=UD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WD={key:!0,ref:!0,__self:!0,__source:!0};function oC(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)GD.call(t,r)&&!WD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:$D,type:e,key:s,ref:o,props:i,_owner:HD.current}}Sp.Fragment=VD;Sp.jsx=oC;Sp.jsxs=oC;QA.exports=Sp;var at=QA.exports,d0={},aC={exports:{}},Yr={},lC={exports:{}},cC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,q){var te=G.length;G.push(q);e:for(;0<te;){var J=te-1>>>1,ue=G[J];if(0<i(ue,q))G[J]=q,G[te]=ue,te=J;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var q=G[0],te=G.pop();if(te!==q){G[0]=te;e:for(var J=0,ue=G.length,Te=ue>>>1;J<Te;){var ce=2*(J+1)-1,_e=G[ce],ze=ce+1,Ye=G[ze];if(0>i(_e,te))ze<ue&&0>i(Ye,_e)?(G[J]=Ye,G[ze]=te,J=ze):(G[J]=_e,G[ce]=te,J=ce);else if(ze<ue&&0>i(Ye,te))G[J]=Ye,G[ze]=te,J=ze;else break e}}return q}function i(G,q){var te=G.sortIndex-q.sortIndex;return te!==0?te:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,h=3,g=!1,p=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(G){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=G)r(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(c)}}function v(G){if(m=!1,x(G),!p)if(n(l)!==null)p=!0,T(w);else{var q=n(c);q!==null&&H(v,q.startTime-G)}}function w(G,q){p=!1,m&&(m=!1,y(k),k=-1),g=!0;var te=h;try{for(x(q),u=n(l);u!==null&&(!(u.expirationTime>q)||G&&!N());){var J=u.callback;if(typeof J=="function"){u.callback=null,h=u.priorityLevel;var ue=J(u.expirationTime<=q);q=e.unstable_now(),typeof ue=="function"?u.callback=ue:u===n(l)&&r(l),x(q)}else r(l);u=n(l)}if(u!==null)var Te=!0;else{var ce=n(c);ce!==null&&H(v,ce.startTime-q),Te=!1}return Te}finally{u=null,h=te,g=!1}}var b=!1,S=null,k=-1,C=5,A=-1;function N(){return!(e.unstable_now()-A<C)}function R(){if(S!==null){var G=e.unstable_now();A=G;var q=!0;try{q=S(!0,G)}finally{q?B():(b=!1,S=null)}}else b=!1}var B;if(typeof f=="function")B=function(){f(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,F=W.port2;W.port1.onmessage=R,B=function(){F.postMessage(null)}}else B=function(){_(R,0)};function T(G){S=G,b||(b=!0,B())}function H(G,q){k=_(function(){G(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||g||(p=!0,T(w))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var te=h;h=q;try{return G()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=h;h=G;try{return q()}finally{h=te}},e.unstable_scheduleCallback=function(G,q,te){var J=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?J+te:J):te=J,G){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=te+ue,G={id:d++,callback:q,priorityLevel:G,startTime:te,expirationTime:ue,sortIndex:-1},te>J?(G.sortIndex=te,t(c,G),n(l)===null&&G===n(c)&&(m?(y(k),k=-1):m=!0,H(v,te-J))):(G.sortIndex=ue,t(l,G),p||g||(p=!0,T(w))),G},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(G){var q=h;return function(){var te=h;h=q;try{return G.apply(this,arguments)}finally{h=te}}}})(cC);lC.exports=cC;var XD=lC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC=L,Hr=XD;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uC=new Set,Jc={};function ha(e,t){gl(e,t),gl(e+"Capture",t)}function gl(e,t){for(Jc[e]=t,e=0;e<t.length;e++)uC.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u0=Object.prototype.hasOwnProperty,YD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},xw={};function qD(e){return u0.call(xw,e)?!0:u0.call(yw,e)?!1:YD.test(e)?xw[e]=!0:(yw[e]=!0,!1)}function ZD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QD(e,t,n,r){if(t===null||typeof t>"u"||ZD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wn[e]=new vr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wn[t]=new vr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wn[e]=new vr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wn[e]=new vr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wn[e]=new vr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wn[e]=new vr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wn[e]=new vr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wn[e]=new vr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wn[e]=new vr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hy=/[\-:]([a-z])/g;function Wy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hy,Wy);Wn[t]=new vr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hy,Wy);Wn[t]=new vr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hy,Wy);Wn[t]=new vr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wn[e]=new vr(e,1,!1,e.toLowerCase(),null,!1,!1)});Wn.xlinkHref=new vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wn[e]=new vr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xy(e,t,n,r){var i=Wn.hasOwnProperty(t)?Wn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QD(t,n,i,r)&&(n=null),r||i===null?qD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bs=dC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Fa=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),hC=Symbol.for("react.provider"),gC=Symbol.for("react.context"),qy=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),p0=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),vw=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=vw&&e[vw]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Object.assign,Dm;function oc(e){if(Dm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dm=t&&t[1]||""}return`
`+Dm+e}var zm=!1;function Om(e,t){if(!e||zm)return"";zm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{zm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oc(e):""}function KD(e){switch(e.tag){case 5:return oc(e.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function m0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fa:return"Fragment";case Pa:return"Portal";case h0:return"Profiler";case Yy:return"StrictMode";case g0:return"Suspense";case p0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gC:return(e.displayName||"Context")+".Consumer";case hC:return(e._context.displayName||"Context")+".Provider";case qy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zy:return t=e.displayName||null,t!==null?t:m0(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return m0(e(t))}catch{}}return null}function JD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return m0(t);case 8:return t===Yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function co(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ez(e){var t=mC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uu(e){e._valueTracker||(e._valueTracker=ez(e))}function fC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f0(e,t){var n=t.checked;return gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=co(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _C(e,t){t=t.checked,t!=null&&Xy(e,"checked",t,!1)}function _0(e,t){_C(e,t);var n=co(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y0(e,t.type,n):t.hasOwnProperty("defaultValue")&&y0(e,t.type,co(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ww(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function y0(e,t,n){(t!=="number"||ig(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ac=Array.isArray;function nl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+co(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function x0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ew(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(ac(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:co(n)}}function yC(e,t){var n=co(t.value),r=co(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function v0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hu,vC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ed(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tz=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(e){tz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tc[t]=Tc[e]})});function bC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tc.hasOwnProperty(e)&&Tc[e]?(""+t).trim():t+"px"}function wC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=bC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nz=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b0(e,t){if(t){if(nz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function w0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E0=null;function Qy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var S0=null,rl=null,il=null;function kw(e){if(e=Xd(e)){if(typeof S0!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Lp(t),S0(e.stateNode,e.type,t))}}function EC(e){rl?il?il.push(e):il=[e]:rl=e}function SC(){if(rl){var e=rl,t=il;if(il=rl=null,kw(e),t)for(e=0;e<t.length;e++)kw(t[e])}}function kC(e,t){return e(t)}function AC(){}var Bm=!1;function CC(e,t,n){if(Bm)return e(t,n);Bm=!0;try{return kC(e,t,n)}finally{Bm=!1,(rl!==null||il!==null)&&(AC(),SC())}}function td(e,t){var n=e.stateNode;if(n===null)return null;var r=Lp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var k0=!1;if(gs)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){k0=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{k0=!1}function rz(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Lc=!1,sg=null,og=!1,A0=null,iz={onError:function(e){Lc=!0,sg=e}};function sz(e,t,n,r,i,s,o,a,l){Lc=!1,sg=null,rz.apply(iz,arguments)}function oz(e,t,n,r,i,s,o,a,l){if(sz.apply(this,arguments),Lc){if(Lc){var c=sg;Lc=!1,sg=null}else throw Error(Ne(198));og||(og=!0,A0=c)}}function ga(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function TC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Aw(e){if(ga(e)!==e)throw Error(Ne(188))}function az(e){var t=e.alternate;if(!t){if(t=ga(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Aw(i),e;if(s===r)return Aw(i),t;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function LC(e){return e=az(e),e!==null?NC(e):null}function NC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=NC(e);if(t!==null)return t;e=e.sibling}return null}var IC=Hr.unstable_scheduleCallback,Cw=Hr.unstable_cancelCallback,lz=Hr.unstable_shouldYield,cz=Hr.unstable_requestPaint,xn=Hr.unstable_now,dz=Hr.unstable_getCurrentPriorityLevel,Ky=Hr.unstable_ImmediatePriority,MC=Hr.unstable_UserBlockingPriority,ag=Hr.unstable_NormalPriority,uz=Hr.unstable_LowPriority,PC=Hr.unstable_IdlePriority,kp=null,Yi=null;function hz(e){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(kp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:mz,gz=Math.log,pz=Math.LN2;function mz(e){return e>>>=0,e===0?32:31-(gz(e)/pz|0)|0}var gu=64,pu=4194304;function lc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=lc(a):(s&=o,s!==0&&(r=lc(s)))}else o=n&~i,o!==0?r=lc(o):s!==0&&(r=lc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ci(t),i=1<<n,r|=e[n],t&=~i;return r}function fz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _z(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ci(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fz(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function C0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function FC(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function jm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ci(t),e[t]=n}function yz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ci(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Jy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ci(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $t=0;function RC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var DC,ex,zC,OC,BC,T0=!1,mu=[],Js=null,eo=null,to=null,nd=new Map,rd=new Map,js=[],xz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tw(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function Bl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Xd(t),t!==null&&ex(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vz(e,t,n,r,i){switch(t){case"focusin":return Js=Bl(Js,e,t,n,r,i),!0;case"dragenter":return eo=Bl(eo,e,t,n,r,i),!0;case"mouseover":return to=Bl(to,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,Bl(nd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rd.set(s,Bl(rd.get(s)||null,e,t,n,r,i)),!0}return!1}function jC(e){var t=Mo(e.target);if(t!==null){var n=ga(t);if(n!==null){if(t=n.tag,t===13){if(t=TC(n),t!==null){e.blockedOn=t,BC(e.priority,function(){zC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Eh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=L0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);E0=r,n.target.dispatchEvent(r),E0=null}else return t=Xd(n),t!==null&&ex(t),e.blockedOn=n,!1;t.shift()}return!0}function Lw(e,t,n){Eh(e)&&n.delete(t)}function bz(){T0=!1,Js!==null&&Eh(Js)&&(Js=null),eo!==null&&Eh(eo)&&(eo=null),to!==null&&Eh(to)&&(to=null),nd.forEach(Lw),rd.forEach(Lw)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,T0||(T0=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,bz)))}function id(e){function t(i){return jl(i,e)}if(0<mu.length){jl(mu[0],e);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&jl(Js,e),eo!==null&&jl(eo,e),to!==null&&jl(to,e),nd.forEach(t),rd.forEach(t),n=0;n<js.length;n++)r=js[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)jC(n),n.blockedOn===null&&js.shift()}var sl=bs.ReactCurrentBatchConfig,cg=!0;function wz(e,t,n,r){var i=$t,s=sl.transition;sl.transition=null;try{$t=1,tx(e,t,n,r)}finally{$t=i,sl.transition=s}}function Ez(e,t,n,r){var i=$t,s=sl.transition;sl.transition=null;try{$t=4,tx(e,t,n,r)}finally{$t=i,sl.transition=s}}function tx(e,t,n,r){if(cg){var i=L0(e,t,n,r);if(i===null)Zm(e,t,r,dg,n),Tw(e,r);else if(vz(i,e,t,n,r))r.stopPropagation();else if(Tw(e,r),t&4&&-1<xz.indexOf(e)){for(;i!==null;){var s=Xd(i);if(s!==null&&DC(s),s=L0(e,t,n,r),s===null&&Zm(e,t,r,dg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zm(e,t,r,null,n)}}var dg=null;function L0(e,t,n,r){if(dg=null,e=Qy(r),e=Mo(e),e!==null)if(t=ga(e),t===null)e=null;else if(n=t.tag,n===13){if(e=TC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dg=e,null}function UC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dz()){case Ky:return 1;case MC:return 4;case ag:case uz:return 16;case PC:return 536870912;default:return 16}default:return 16}}var $s=null,nx=null,Sh=null;function $C(){if(Sh)return Sh;var e,t=nx,n=t.length,r,i="value"in $s?$s.value:$s.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Sh=i.slice(e,1<r?1-r:void 0)}function kh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fu(){return!0}function Nw(){return!1}function qr(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fu:Nw,this.isPropagationStopped=Nw,this}return gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),t}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rx=qr(Il),Wd=gn({},Il,{view:0,detail:0}),Sz=qr(Wd),Um,$m,Ul,Ap=gn({},Wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ix,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ul&&(Ul&&e.type==="mousemove"?(Um=e.screenX-Ul.screenX,$m=e.screenY-Ul.screenY):$m=Um=0,Ul=e),Um)},movementY:function(e){return"movementY"in e?e.movementY:$m}}),Iw=qr(Ap),kz=gn({},Ap,{dataTransfer:0}),Az=qr(kz),Cz=gn({},Wd,{relatedTarget:0}),Vm=qr(Cz),Tz=gn({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),Lz=qr(Tz),Nz=gn({},Il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iz=qr(Nz),Mz=gn({},Il,{data:0}),Mw=qr(Mz),Pz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rz[e])?!!t[e]:!1}function ix(){return Dz}var zz=gn({},Wd,{key:function(e){if(e.key){var t=Pz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ix,charCode:function(e){return e.type==="keypress"?kh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oz=qr(zz),Bz=gn({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pw=qr(Bz),jz=gn({},Wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ix}),Uz=qr(jz),$z=gn({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vz=qr($z),Gz=gn({},Ap,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hz=qr(Gz),Wz=[9,13,27,32],sx=gs&&"CompositionEvent"in window,Nc=null;gs&&"documentMode"in document&&(Nc=document.documentMode);var Xz=gs&&"TextEvent"in window&&!Nc,VC=gs&&(!sx||Nc&&8<Nc&&11>=Nc),Fw=" ",Rw=!1;function GC(e,t){switch(e){case"keyup":return Wz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function Yz(e,t){switch(e){case"compositionend":return HC(t);case"keypress":return t.which!==32?null:(Rw=!0,Fw);case"textInput":return e=t.data,e===Fw&&Rw?null:e;default:return null}}function qz(e,t){if(Ra)return e==="compositionend"||!sx&&GC(e,t)?(e=$C(),Sh=nx=$s=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return VC&&t.locale!=="ko"?null:t.data;default:return null}}var Zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zz[e.type]:t==="textarea"}function WC(e,t,n,r){EC(r),t=ug(t,"onChange"),0<t.length&&(n=new rx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ic=null,sd=null;function Qz(e){rT(e,0)}function Cp(e){var t=Oa(e);if(fC(t))return e}function Kz(e,t){if(e==="change")return t}var XC=!1;if(gs){var Gm;if(gs){var Hm="oninput"in document;if(!Hm){var zw=document.createElement("div");zw.setAttribute("oninput","return;"),Hm=typeof zw.oninput=="function"}Gm=Hm}else Gm=!1;XC=Gm&&(!document.documentMode||9<document.documentMode)}function Ow(){Ic&&(Ic.detachEvent("onpropertychange",YC),sd=Ic=null)}function YC(e){if(e.propertyName==="value"&&Cp(sd)){var t=[];WC(t,sd,e,Qy(e)),CC(Qz,t)}}function Jz(e,t,n){e==="focusin"?(Ow(),Ic=t,sd=n,Ic.attachEvent("onpropertychange",YC)):e==="focusout"&&Ow()}function e5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cp(sd)}function t5(e,t){if(e==="click")return Cp(t)}function n5(e,t){if(e==="input"||e==="change")return Cp(t)}function r5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Li=typeof Object.is=="function"?Object.is:r5;function od(e,t){if(Li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u0.call(t,i)||!Li(e[i],t[i]))return!1}return!0}function Bw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jw(e,t){var n=Bw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bw(n)}}function qC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZC(){for(var e=window,t=ig();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ig(e.document)}return t}function ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i5(e){var t=ZC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qC(n.ownerDocument.documentElement,n)){if(r!==null&&ox(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jw(n,s);var o=jw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var s5=gs&&"documentMode"in document&&11>=document.documentMode,Da=null,N0=null,Mc=null,I0=!1;function Uw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I0||Da==null||Da!==ig(r)||(r=Da,"selectionStart"in r&&ox(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&od(Mc,r)||(Mc=r,r=ug(N0,"onSelect"),0<r.length&&(t=new rx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Da)))}function _u(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var za={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Wm={},QC={};gs&&(QC=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Tp(e){if(Wm[e])return Wm[e];if(!za[e])return e;var t=za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in QC)return Wm[e]=t[n];return e}var KC=Tp("animationend"),JC=Tp("animationiteration"),eT=Tp("animationstart"),tT=Tp("transitionend"),nT=new Map,$w="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(e,t){nT.set(e,t),ha(t,[e])}for(var Xm=0;Xm<$w.length;Xm++){var Ym=$w[Xm],o5=Ym.toLowerCase(),a5=Ym[0].toUpperCase()+Ym.slice(1);yo(o5,"on"+a5)}yo(KC,"onAnimationEnd");yo(JC,"onAnimationIteration");yo(eT,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(tT,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l5=new Set("cancel close invalid load scroll toggle".split(" ").concat(cc));function Vw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,oz(r,t,void 0,e),e.currentTarget=null}function rT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,c),s=l}}}if(og)throw e=A0,og=!1,A0=null,e}function en(e,t){var n=t[D0];n===void 0&&(n=t[D0]=new Set);var r=e+"__bubble";n.has(r)||(iT(t,e,2,!1),n.add(r))}function qm(e,t,n){var r=0;t&&(r|=4),iT(n,e,r,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[yu]){e[yu]=!0,uC.forEach(function(n){n!=="selectionchange"&&(l5.has(n)||qm(n,!1,e),qm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,qm("selectionchange",!1,t))}}function iT(e,t,n,r){switch(UC(t)){case 1:var i=wz;break;case 4:i=Ez;break;default:i=tx}n=i.bind(null,t,n,e),i=void 0,!k0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}CC(function(){var c=s,d=Qy(n),u=[];e:{var h=nT.get(e);if(h!==void 0){var g=rx,p=e;switch(e){case"keypress":if(kh(n)===0)break e;case"keydown":case"keyup":g=Oz;break;case"focusin":p="focus",g=Vm;break;case"focusout":p="blur",g=Vm;break;case"beforeblur":case"afterblur":g=Vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Az;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Uz;break;case KC:case JC:case eT:g=Lz;break;case tT:g=Vz;break;case"scroll":g=Sz;break;case"wheel":g=Hz;break;case"copy":case"cut":case"paste":g=Iz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Pw}var m=(t&4)!==0,_=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var f=c,x;f!==null;){x=f;var v=x.stateNode;if(x.tag===5&&v!==null&&(x=v,y!==null&&(v=td(f,y),v!=null&&m.push(ld(f,v,x)))),_)break;f=f.return}0<m.length&&(h=new g(h,p,null,n,d),u.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==E0&&(p=n.relatedTarget||n.fromElement)&&(Mo(p)||p[ps]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(p=n.relatedTarget||n.toElement,g=c,p=p?Mo(p):null,p!==null&&(_=ga(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(m=Iw,v="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(m=Pw,v="onPointerLeave",y="onPointerEnter",f="pointer"),_=g==null?h:Oa(g),x=p==null?h:Oa(p),h=new m(v,f+"leave",g,n,d),h.target=_,h.relatedTarget=x,v=null,Mo(d)===c&&(m=new m(y,f+"enter",p,n,d),m.target=x,m.relatedTarget=_,v=m),_=v,g&&p)t:{for(m=g,y=p,f=0,x=m;x;x=ba(x))f++;for(x=0,v=y;v;v=ba(v))x++;for(;0<f-x;)m=ba(m),f--;for(;0<x-f;)y=ba(y),x--;for(;f--;){if(m===y||y!==null&&m===y.alternate)break t;m=ba(m),y=ba(y)}m=null}else m=null;g!==null&&Gw(u,h,g,m,!1),p!==null&&_!==null&&Gw(u,_,p,m,!0)}}e:{if(h=c?Oa(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=Kz;else if(Dw(h))if(XC)w=n5;else{w=e5;var b=Jz}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=t5);if(w&&(w=w(e,c))){WC(u,w,n,d);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&y0(h,"number",h.value)}switch(b=c?Oa(c):window,e){case"focusin":(Dw(b)||b.contentEditable==="true")&&(Da=b,N0=c,Mc=null);break;case"focusout":Mc=N0=Da=null;break;case"mousedown":I0=!0;break;case"contextmenu":case"mouseup":case"dragend":I0=!1,Uw(u,n,d);break;case"selectionchange":if(s5)break;case"keydown":case"keyup":Uw(u,n,d)}var S;if(sx)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ra?GC(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(VC&&n.locale!=="ko"&&(Ra||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ra&&(S=$C()):($s=d,nx="value"in $s?$s.value:$s.textContent,Ra=!0)),b=ug(c,k),0<b.length&&(k=new Mw(k,e,null,n,d),u.push({event:k,listeners:b}),S?k.data=S:(S=HC(n),S!==null&&(k.data=S)))),(S=Xz?Yz(e,n):qz(e,n))&&(c=ug(c,"onBeforeInput"),0<c.length&&(d=new Mw("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=S))}rT(u,t)})}function ld(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ug(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=td(e,n),s!=null&&r.unshift(ld(e,s,i)),s=td(e,t),s!=null&&r.push(ld(e,s,i))),e=e.return}return r}function ba(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gw(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=td(n,s),l!=null&&o.unshift(ld(n,l,a))):i||(l=td(n,s),l!=null&&o.push(ld(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var c5=/\r\n?/g,d5=/\u0000|\uFFFD/g;function Hw(e){return(typeof e=="string"?e:""+e).replace(c5,`
`).replace(d5,"")}function xu(e,t,n){if(t=Hw(t),Hw(e)!==t&&n)throw Error(Ne(425))}function hg(){}var M0=null,P0=null;function F0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var R0=typeof setTimeout=="function"?setTimeout:void 0,u5=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,h5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(e){return Ww.resolve(null).then(e).catch(g5)}:R0;function g5(e){setTimeout(function(){throw e})}function Qm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),id(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);id(t)}function no(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ml,cd="__reactProps$"+Ml,ps="__reactContainer$"+Ml,D0="__reactEvents$"+Ml,p5="__reactListeners$"+Ml,m5="__reactHandles$"+Ml;function Mo(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[Hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xw(e);e!==null;){if(n=e[Hi])return n;e=Xw(e)}return t}e=n,n=e.parentNode}return null}function Xd(e){return e=e[Hi]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Oa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Lp(e){return e[cd]||null}var z0=[],Ba=-1;function xo(e){return{current:e}}function on(e){0>Ba||(e.current=z0[Ba],z0[Ba]=null,Ba--)}function Qt(e,t){Ba++,z0[Ba]=e.current,e.current=t}var uo={},ir=xo(uo),Ir=xo(!1),ea=uo;function pl(e,t){var n=e.type.contextTypes;if(!n)return uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return e=e.childContextTypes,e!=null}function gg(){on(Ir),on(ir)}function Yw(e,t,n){if(ir.current!==uo)throw Error(Ne(168));Qt(ir,t),Qt(Ir,n)}function sT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ne(108,JD(e)||"Unknown",i));return gn({},n,r)}function pg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uo,ea=ir.current,Qt(ir,e),Qt(Ir,Ir.current),!0}function qw(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=sT(e,t,ea),r.__reactInternalMemoizedMergedChildContext=e,on(Ir),on(ir),Qt(ir,e)):on(Ir),Qt(Ir,n)}var ns=null,Np=!1,Km=!1;function oT(e){ns===null?ns=[e]:ns.push(e)}function f5(e){Np=!0,oT(e)}function vo(){if(!Km&&ns!==null){Km=!0;var e=0,t=$t;try{var n=ns;for($t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ns=null,Np=!1}catch(i){throw ns!==null&&(ns=ns.slice(e+1)),IC(Ky,vo),i}finally{$t=t,Km=!1}}return null}var ja=[],Ua=0,mg=null,fg=0,ii=[],si=0,ta=null,ss=1,os="";function Ao(e,t){ja[Ua++]=fg,ja[Ua++]=mg,mg=e,fg=t}function aT(e,t,n){ii[si++]=ss,ii[si++]=os,ii[si++]=ta,ta=e;var r=ss;e=os;var i=32-Ci(r)-1;r&=~(1<<i),n+=1;var s=32-Ci(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ss=1<<32-Ci(t)+i|n<<i|r,os=s+e}else ss=1<<s|n<<i|r,os=e}function ax(e){e.return!==null&&(Ao(e,1),aT(e,1,0))}function lx(e){for(;e===mg;)mg=ja[--Ua],ja[Ua]=null,fg=ja[--Ua],ja[Ua]=null;for(;e===ta;)ta=ii[--si],ii[si]=null,os=ii[--si],ii[si]=null,ss=ii[--si],ii[si]=null}var Gr=null,$r=null,ln=!1,ki=null;function lT(e,t){var n=li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,$r=no(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ta!==null?{id:ss,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gr=e,$r=null,!0):!1;default:return!1}}function O0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B0(e){if(ln){var t=$r;if(t){var n=t;if(!Zw(e,t)){if(O0(e))throw Error(Ne(418));t=no(n.nextSibling);var r=Gr;t&&Zw(e,t)?lT(r,n):(e.flags=e.flags&-4097|2,ln=!1,Gr=e)}}else{if(O0(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,ln=!1,Gr=e}}}function Qw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function vu(e){if(e!==Gr)return!1;if(!ln)return Qw(e),ln=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!F0(e.type,e.memoizedProps)),t&&(t=$r)){if(O0(e))throw cT(),Error(Ne(418));for(;t;)lT(e,t),t=no(t.nextSibling)}if(Qw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$r=no(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Gr?no(e.stateNode.nextSibling):null;return!0}function cT(){for(var e=$r;e;)e=no(e.nextSibling)}function ml(){$r=Gr=null,ln=!1}function cx(e){ki===null?ki=[e]:ki.push(e)}var _5=bs.ReactCurrentBatchConfig;function wi(e,t){if(e&&e.defaultProps){t=gn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var _g=xo(null),yg=null,$a=null,dx=null;function ux(){dx=$a=yg=null}function hx(e){var t=_g.current;on(_g),e._currentValue=t}function j0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ol(e,t){yg=e,dx=$a=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function ui(e){var t=e._currentValue;if(dx!==e)if(e={context:e,memoizedValue:t,next:null},$a===null){if(yg===null)throw Error(Ne(308));$a=e,yg.dependencies={lanes:0,firstContext:e}}else $a=$a.next=e;return t}var Po=null;function gx(e){Po===null?Po=[e]:Po.push(e)}function dT(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gx(t)):(n.next=i.next,i.next=n),t.interleaved=n,ms(e,r)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ds=!1;function px(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ms(e,n)}return i=r.interleaved,i===null?(t.next=t,gx(r)):(t.next=i.next,i.next=t),r.interleaved=t,ms(e,n)}function Ah(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jy(e,n)}}function Kw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xg(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,g=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){u=p.call(g,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(g,u,h):p,h==null)break e;u=gn({},u,h);break e;case 2:Ds=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ra|=o,e.lanes=o,e.memoizedState=u}}function Jw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var hT=new dC.Component().refs;function U0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ip={isMounted:function(e){return(e=e._reactInternals)?ga(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_r(),i=so(e),s=cs(r,i);s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,i),t!==null&&(Ti(t,e,i,r),Ah(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_r(),i=so(e),s=cs(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ro(e,s,i),t!==null&&(Ti(t,e,i,r),Ah(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_r(),r=so(e),i=cs(n,r);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,r),t!==null&&(Ti(t,e,r,n),Ah(t,e,r))}};function eE(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!od(n,r)||!od(i,s):!0}function gT(e,t,n){var r=!1,i=uo,s=t.contextType;return typeof s=="object"&&s!==null?s=ui(s):(i=Mr(t)?ea:ir.current,r=t.contextTypes,s=(r=r!=null)?pl(e,i):uo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ip,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function tE(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ip.enqueueReplaceState(t,t.state,null)}function $0(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hT,px(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ui(s):(s=Mr(t)?ea:ir.current,i.context=pl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(U0(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ip.enqueueReplaceState(i,i.state,null),xg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $l(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===hT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function nE(e){var t=e._init;return t(e._payload)}function pT(e){function t(y,f){if(e){var x=y.deletions;x===null?(y.deletions=[f],y.flags|=16):x.push(f)}}function n(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=oo(y,f),y.index=0,y.sibling=null,y}function s(y,f,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<f?(y.flags|=2,f):x):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,f,x,v){return f===null||f.tag!==6?(f=of(x,y.mode,v),f.return=y,f):(f=i(f,x),f.return=y,f)}function l(y,f,x,v){var w=x.type;return w===Fa?d(y,f,x.props.children,v,x.key):f!==null&&(f.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rs&&nE(w)===f.type)?(v=i(f,x.props),v.ref=$l(y,f,x),v.return=y,v):(v=Mh(x.type,x.key,x.props,null,y.mode,v),v.ref=$l(y,f,x),v.return=y,v)}function c(y,f,x,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=af(x,y.mode,v),f.return=y,f):(f=i(f,x.children||[]),f.return=y,f)}function d(y,f,x,v,w){return f===null||f.tag!==7?(f=Ho(x,y.mode,v,w),f.return=y,f):(f=i(f,x),f.return=y,f)}function u(y,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=of(""+f,y.mode,x),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case du:return x=Mh(f.type,f.key,f.props,null,y.mode,x),x.ref=$l(y,null,f),x.return=y,x;case Pa:return f=af(f,y.mode,x),f.return=y,f;case Rs:var v=f._init;return u(y,v(f._payload),x)}if(ac(f)||zl(f))return f=Ho(f,y.mode,x,null),f.return=y,f;bu(y,f)}return null}function h(y,f,x,v){var w=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:a(y,f,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case du:return x.key===w?l(y,f,x,v):null;case Pa:return x.key===w?c(y,f,x,v):null;case Rs:return w=x._init,h(y,f,w(x._payload),v)}if(ac(x)||zl(x))return w!==null?null:d(y,f,x,v,null);bu(y,x)}return null}function g(y,f,x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(x)||null,a(f,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case du:return y=y.get(v.key===null?x:v.key)||null,l(f,y,v,w);case Pa:return y=y.get(v.key===null?x:v.key)||null,c(f,y,v,w);case Rs:var b=v._init;return g(y,f,x,b(v._payload),w)}if(ac(v)||zl(v))return y=y.get(x)||null,d(f,y,v,w,null);bu(f,v)}return null}function p(y,f,x,v){for(var w=null,b=null,S=f,k=f=0,C=null;S!==null&&k<x.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var A=h(y,S,x[k],v);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(y,S),f=s(A,f,k),b===null?w=A:b.sibling=A,b=A,S=C}if(k===x.length)return n(y,S),ln&&Ao(y,k),w;if(S===null){for(;k<x.length;k++)S=u(y,x[k],v),S!==null&&(f=s(S,f,k),b===null?w=S:b.sibling=S,b=S);return ln&&Ao(y,k),w}for(S=r(y,S);k<x.length;k++)C=g(S,y,k,x[k],v),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),f=s(C,f,k),b===null?w=C:b.sibling=C,b=C);return e&&S.forEach(function(N){return t(y,N)}),ln&&Ao(y,k),w}function m(y,f,x,v){var w=zl(x);if(typeof w!="function")throw Error(Ne(150));if(x=w.call(x),x==null)throw Error(Ne(151));for(var b=w=null,S=f,k=f=0,C=null,A=x.next();S!==null&&!A.done;k++,A=x.next()){S.index>k?(C=S,S=null):C=S.sibling;var N=h(y,S,A.value,v);if(N===null){S===null&&(S=C);break}e&&S&&N.alternate===null&&t(y,S),f=s(N,f,k),b===null?w=N:b.sibling=N,b=N,S=C}if(A.done)return n(y,S),ln&&Ao(y,k),w;if(S===null){for(;!A.done;k++,A=x.next())A=u(y,A.value,v),A!==null&&(f=s(A,f,k),b===null?w=A:b.sibling=A,b=A);return ln&&Ao(y,k),w}for(S=r(y,S);!A.done;k++,A=x.next())A=g(S,y,k,A.value,v),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),f=s(A,f,k),b===null?w=A:b.sibling=A,b=A);return e&&S.forEach(function(R){return t(y,R)}),ln&&Ao(y,k),w}function _(y,f,x,v){if(typeof x=="object"&&x!==null&&x.type===Fa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case du:e:{for(var w=x.key,b=f;b!==null;){if(b.key===w){if(w=x.type,w===Fa){if(b.tag===7){n(y,b.sibling),f=i(b,x.props.children),f.return=y,y=f;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rs&&nE(w)===b.type){n(y,b.sibling),f=i(b,x.props),f.ref=$l(y,b,x),f.return=y,y=f;break e}n(y,b);break}else t(y,b);b=b.sibling}x.type===Fa?(f=Ho(x.props.children,y.mode,v,x.key),f.return=y,y=f):(v=Mh(x.type,x.key,x.props,null,y.mode,v),v.ref=$l(y,f,x),v.return=y,y=v)}return o(y);case Pa:e:{for(b=x.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(y,f.sibling),f=i(f,x.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else t(y,f);f=f.sibling}f=af(x,y.mode,v),f.return=y,y=f}return o(y);case Rs:return b=x._init,_(y,f,b(x._payload),v)}if(ac(x))return p(y,f,x,v);if(zl(x))return m(y,f,x,v);bu(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(y,f.sibling),f=i(f,x),f.return=y,y=f):(n(y,f),f=of(x,y.mode,v),f.return=y,y=f),o(y)):n(y,f)}return _}var fl=pT(!0),mT=pT(!1),Yd={},qi=xo(Yd),dd=xo(Yd),ud=xo(Yd);function Fo(e){if(e===Yd)throw Error(Ne(174));return e}function mx(e,t){switch(Qt(ud,t),Qt(dd,e),Qt(qi,Yd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:v0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=v0(t,e)}on(qi),Qt(qi,t)}function _l(){on(qi),on(dd),on(ud)}function fT(e){Fo(ud.current);var t=Fo(qi.current),n=v0(t,e.type);t!==n&&(Qt(dd,e),Qt(qi,n))}function fx(e){dd.current===e&&(on(qi),on(dd))}var un=xo(0);function vg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jm=[];function _x(){for(var e=0;e<Jm.length;e++)Jm[e]._workInProgressVersionPrimary=null;Jm.length=0}var Ch=bs.ReactCurrentDispatcher,ef=bs.ReactCurrentBatchConfig,na=0,hn=null,Ln=null,Pn=null,bg=!1,Pc=!1,hd=0,y5=0;function Zn(){throw Error(Ne(321))}function yx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Li(e[n],t[n]))return!1;return!0}function xx(e,t,n,r,i,s){if(na=s,hn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ch.current=e===null||e.memoizedState===null?w5:E5,e=n(r,i),Pc){s=0;do{if(Pc=!1,hd=0,25<=s)throw Error(Ne(301));s+=1,Pn=Ln=null,t.updateQueue=null,Ch.current=S5,e=n(r,i)}while(Pc)}if(Ch.current=wg,t=Ln!==null&&Ln.next!==null,na=0,Pn=Ln=hn=null,bg=!1,t)throw Error(Ne(300));return e}function vx(){var e=hd!==0;return hd=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?hn.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function hi(){if(Ln===null){var e=hn.alternate;e=e!==null?e.memoizedState:null}else e=Ln.next;var t=Pn===null?hn.memoizedState:Pn.next;if(t!==null)Pn=t,Ln=e;else{if(e===null)throw Error(Ne(310));Ln=e,e={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Pn===null?hn.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function gd(e,t){return typeof t=="function"?t(e):t}function tf(e){var t=hi(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=Ln,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((na&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,hn.lanes|=d,ra|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Li(r,t.memoizedState)||(Nr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,hn.lanes|=s,ra|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nf(e){var t=hi(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Li(s,t.memoizedState)||(Nr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _T(){}function yT(e,t){var n=hn,r=hi(),i=t(),s=!Li(r.memoizedState,i);if(s&&(r.memoizedState=i,Nr=!0),r=r.queue,bx(bT.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Pn!==null&&Pn.memoizedState.tag&1){if(n.flags|=2048,pd(9,vT.bind(null,n,r,i,t),void 0,null),Fn===null)throw Error(Ne(349));na&30||xT(n,t,i)}return i}function xT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vT(e,t,n,r){t.value=n,t.getSnapshot=r,wT(t)&&ET(e)}function bT(e,t,n){return n(function(){wT(t)&&ET(e)})}function wT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Li(e,n)}catch{return!0}}function ET(e){var t=ms(e,1);t!==null&&Ti(t,e,1,-1)}function rE(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:e},t.queue=e,e=e.dispatch=b5.bind(null,hn,e),[t.memoizedState,e]}function pd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hn.updateQueue,t===null?(t={lastEffect:null,stores:null},hn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ST(){return hi().memoizedState}function Th(e,t,n,r){var i=$i();hn.flags|=e,i.memoizedState=pd(1|t,n,void 0,r===void 0?null:r)}function Mp(e,t,n,r){var i=hi();r=r===void 0?null:r;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,r!==null&&yx(r,o.deps)){i.memoizedState=pd(t,n,s,r);return}}hn.flags|=e,i.memoizedState=pd(1|t,n,s,r)}function iE(e,t){return Th(8390656,8,e,t)}function bx(e,t){return Mp(2048,8,e,t)}function kT(e,t){return Mp(4,2,e,t)}function AT(e,t){return Mp(4,4,e,t)}function CT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function TT(e,t,n){return n=n!=null?n.concat([e]):null,Mp(4,4,CT.bind(null,t,e),n)}function wx(){}function LT(e,t){var n=hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function NT(e,t){var n=hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function IT(e,t,n){return na&21?(Li(n,t)||(n=FC(),hn.lanes|=n,ra|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function x5(e,t){var n=$t;$t=n!==0&&4>n?n:4,e(!0);var r=ef.transition;ef.transition={};try{e(!1),t()}finally{$t=n,ef.transition=r}}function MT(){return hi().memoizedState}function v5(e,t,n){var r=so(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},PT(e))FT(t,n);else if(n=dT(e,t,n,r),n!==null){var i=_r();Ti(n,e,r,i),RT(n,t,r)}}function b5(e,t,n){var r=so(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(PT(e))FT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Li(a,o)){var l=t.interleaved;l===null?(i.next=i,gx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=dT(e,t,i,r),n!==null&&(i=_r(),Ti(n,e,r,i),RT(n,t,r))}}function PT(e){var t=e.alternate;return e===hn||t!==null&&t===hn}function FT(e,t){Pc=bg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function RT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Jy(e,n)}}var wg={readContext:ui,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},w5={readContext:ui,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:ui,useEffect:iE,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Th(4194308,4,CT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Th(4194308,4,e,t)},useInsertionEffect:function(e,t){return Th(4,2,e,t)},useMemo:function(e,t){var n=$i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=v5.bind(null,hn,e),[r.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:rE,useDebugValue:wx,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=rE(!1),t=e[0];return e=x5.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hn,i=$i();if(ln){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),Fn===null)throw Error(Ne(349));na&30||xT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,iE(bT.bind(null,r,s,e),[e]),r.flags|=2048,pd(9,vT.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=$i(),t=Fn.identifierPrefix;if(ln){var n=os,r=ss;n=(r&~(1<<32-Ci(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=y5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},E5={readContext:ui,useCallback:LT,useContext:ui,useEffect:bx,useImperativeHandle:TT,useInsertionEffect:kT,useLayoutEffect:AT,useMemo:NT,useReducer:tf,useRef:ST,useState:function(){return tf(gd)},useDebugValue:wx,useDeferredValue:function(e){var t=hi();return IT(t,Ln.memoizedState,e)},useTransition:function(){var e=tf(gd)[0],t=hi().memoizedState;return[e,t]},useMutableSource:_T,useSyncExternalStore:yT,useId:MT,unstable_isNewReconciler:!1},S5={readContext:ui,useCallback:LT,useContext:ui,useEffect:bx,useImperativeHandle:TT,useInsertionEffect:kT,useLayoutEffect:AT,useMemo:NT,useReducer:nf,useRef:ST,useState:function(){return nf(gd)},useDebugValue:wx,useDeferredValue:function(e){var t=hi();return Ln===null?t.memoizedState=e:IT(t,Ln.memoizedState,e)},useTransition:function(){var e=nf(gd)[0],t=hi().memoizedState;return[e,t]},useMutableSource:_T,useSyncExternalStore:yT,useId:MT,unstable_isNewReconciler:!1};function yl(e,t){try{var n="",r=t;do n+=KD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function rf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function V0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var k5=typeof WeakMap=="function"?WeakMap:Map;function DT(e,t,n){n=cs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sg||(Sg=!0,J0=r),V0(e,t)},n}function zT(e,t,n){n=cs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){V0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V0(e,t),typeof r!="function"&&(io===null?io=new Set([this]):io.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sE(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new k5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=B5.bind(null,e,t,n),t.then(e,e))}function oE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function aE(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cs(-1,1),t.tag=2,ro(n,t,1))),n.lanes|=1),e)}var A5=bs.ReactCurrentOwner,Nr=!1;function gr(e,t,n,r){t.child=e===null?mT(t,null,n,r):fl(t,e.child,n,r)}function lE(e,t,n,r,i){n=n.render;var s=t.ref;return ol(t,i),r=xx(e,t,n,r,s,i),n=vx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(ln&&n&&ax(t),t.flags|=1,gr(e,t,r,i),t.child)}function cE(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Nx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,OT(e,t,s,r,i)):(e=Mh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(o,r)&&e.ref===t.ref)return fs(e,t,i)}return t.flags|=1,e=oo(s,r),e.ref=t.ref,e.return=t,t.child=e}function OT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(od(s,r)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,fs(e,t,i)}return G0(e,t,n,r,i)}function BT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Ga,zr),zr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(Ga,zr),zr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qt(Ga,zr),zr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Qt(Ga,zr),zr|=r;return gr(e,t,i,n),t.child}function jT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function G0(e,t,n,r,i){var s=Mr(n)?ea:ir.current;return s=pl(t,s),ol(t,i),n=xx(e,t,n,r,s,i),r=vx(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fs(e,t,i)):(ln&&r&&ax(t),t.flags|=1,gr(e,t,n,i),t.child)}function dE(e,t,n,r,i){if(Mr(n)){var s=!0;pg(t)}else s=!1;if(ol(t,i),t.stateNode===null)Lh(e,t),gT(t,n,r),$0(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ui(c):(c=Mr(n)?ea:ir.current,c=pl(t,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tE(t,o,r,c),Ds=!1;var h=t.memoizedState;o.state=h,xg(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Ir.current||Ds?(typeof d=="function"&&(U0(t,n,d,r),l=t.memoizedState),(a=Ds||eE(t,n,a,r,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,uT(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:wi(t.type,a),o.props=c,u=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ui(l):(l=Mr(n)?ea:ir.current,l=pl(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&tE(t,o,r,l),Ds=!1,h=t.memoizedState,o.state=h,xg(t,r,o,i);var p=t.memoizedState;a!==u||h!==p||Ir.current||Ds?(typeof g=="function"&&(U0(t,n,g,r),p=t.memoizedState),(c=Ds||eE(t,n,c,r,h,p,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return H0(e,t,n,r,s,i)}function H0(e,t,n,r,i,s){jT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&qw(t,n,!1),fs(e,t,s);r=t.stateNode,A5.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fl(t,e.child,null,s),t.child=fl(t,null,a,s)):gr(e,t,a,s),t.memoizedState=r.state,i&&qw(t,n,!0),t.child}function UT(e){var t=e.stateNode;t.pendingContext?Yw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yw(e,t.context,!1),mx(e,t.containerInfo)}function uE(e,t,n,r,i){return ml(),cx(i),t.flags|=256,gr(e,t,n,r),t.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function X0(e){return{baseLanes:e,cachePool:null,transitions:null}}function $T(e,t,n){var r=t.pendingProps,i=un.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qt(un,i&1),e===null)return B0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Rp(o,r,0,null),e=Ho(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=X0(n),t.memoizedState=W0,e):Ex(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return C5(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=oo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oo(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?X0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=W0,r}return s=e.child,e=s.sibling,r=oo(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ex(e,t){return t=Rp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wu(e,t,n,r){return r!==null&&cx(r),fl(t,e.child,null,n),e=Ex(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function C5(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=rf(Error(Ne(422))),wu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Rp({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&fl(t,e.child,null,o),t.child.memoizedState=X0(o),t.memoizedState=W0,s);if(!(t.mode&1))return wu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=rf(s,r,void 0),wu(e,t,o,r)}if(a=(o&e.childLanes)!==0,Nr||a){if(r=Fn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(e,i),Ti(r,e,i,-1))}return Lx(),r=rf(Error(Ne(421))),wu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=j5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,$r=no(i.nextSibling),Gr=t,ln=!0,ki=null,e!==null&&(ii[si++]=ss,ii[si++]=os,ii[si++]=ta,ss=e.id,os=e.overflow,ta=t),t=Ex(t,r.children),t.flags|=4096,t)}function hE(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),j0(e.return,t,n)}function sf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function VT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(gr(e,t,r.children,n),r=un.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hE(e,n,t);else if(e.tag===19)hE(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Qt(un,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&vg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&vg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sf(t,!0,n,null,s);break;case"together":sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=oo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function T5(e,t,n){switch(t.tag){case 3:UT(t),ml();break;case 5:fT(t);break;case 1:Mr(t.type)&&pg(t);break;case 4:mx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Qt(_g,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Qt(un,un.current&1),t.flags|=128,null):n&t.child.childLanes?$T(e,t,n):(Qt(un,un.current&1),e=fs(e,t,n),e!==null?e.sibling:null);Qt(un,un.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return VT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(un,un.current),r)break;return null;case 22:case 23:return t.lanes=0,BT(e,t,n)}return fs(e,t,n)}var GT,Y0,HT,WT;GT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Y0=function(){};HT=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Fo(qi.current);var s=null;switch(n){case"input":i=f0(e,i),r=f0(e,r),s=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),s=[];break;case"textarea":i=x0(e,i),r=x0(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hg)}b0(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};WT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Vl(e,t){if(!ln)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function L5(e,t,n){var r=t.pendingProps;switch(lx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(t),null;case 1:return Mr(t.type)&&gg(),Qn(t),null;case 3:return r=t.stateNode,_l(),on(Ir),on(ir),_x(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki!==null&&(n_(ki),ki=null))),Y0(e,t),Qn(t),null;case 5:fx(t);var i=Fo(ud.current);if(n=t.type,e!==null&&t.stateNode!=null)HT(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return Qn(t),null}if(e=Fo(qi.current),vu(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Hi]=t,r[cd]=s,e=(t.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<cc.length;i++)en(cc[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":bw(r,s),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},en("invalid",r);break;case"textarea":Ew(r,s),en("invalid",r)}b0(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&xu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&xu(r.textContent,a,e),i=["children",""+a]):Jc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(n){case"input":uu(r),ww(r,s,!0);break;case"textarea":uu(r),Sw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Hi]=t,e[cd]=r,GT(e,t,!1,!1),t.stateNode=e;e:{switch(o=w0(n,r),n){case"dialog":en("cancel",e),en("close",e),i=r;break;case"iframe":case"object":case"embed":en("load",e),i=r;break;case"video":case"audio":for(i=0;i<cc.length;i++)en(cc[i],e);i=r;break;case"source":en("error",e),i=r;break;case"img":case"image":case"link":en("error",e),en("load",e),i=r;break;case"details":en("toggle",e),i=r;break;case"input":bw(e,r),i=f0(e,r),en("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),en("invalid",e);break;case"textarea":Ew(e,r),i=x0(e,r),en("invalid",e);break;default:i=r}b0(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vC(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ed(e,l):typeof l=="number"&&ed(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Jc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",e):l!=null&&Xy(e,s,l,o))}switch(n){case"input":uu(e),ww(e,r,!1);break;case"textarea":uu(e),Sw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+co(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?nl(e,!!r.multiple,s,!1):r.defaultValue!=null&&nl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qn(t),null;case 6:if(e&&t.stateNode!=null)WT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=Fo(ud.current),Fo(qi.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hi]=t,(s=r.nodeValue!==n)&&(e=Gr,e!==null))switch(e.tag){case 3:xu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hi]=t,t.stateNode=r}return Qn(t),null;case 13:if(on(un),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ln&&$r!==null&&t.mode&1&&!(t.flags&128))cT(),ml(),t.flags|=98560,s=!1;else if(s=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ne(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[Hi]=t}else ml(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qn(t),s=!1}else ki!==null&&(n_(ki),ki=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||un.current&1?In===0&&(In=3):Lx())),t.updateQueue!==null&&(t.flags|=4),Qn(t),null);case 4:return _l(),Y0(e,t),e===null&&ad(t.stateNode.containerInfo),Qn(t),null;case 10:return hx(t.type._context),Qn(t),null;case 17:return Mr(t.type)&&gg(),Qn(t),null;case 19:if(on(un),s=t.memoizedState,s===null)return Qn(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Vl(s,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vg(e),o!==null){for(t.flags|=128,Vl(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Qt(un,un.current&1|2),t.child}e=e.sibling}s.tail!==null&&xn()>xl&&(t.flags|=128,r=!0,Vl(s,!1),t.lanes=4194304)}else{if(!r)if(e=vg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ln)return Qn(t),null}else 2*xn()-s.renderingStartTime>xl&&n!==1073741824&&(t.flags|=128,r=!0,Vl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xn(),t.sibling=null,n=un.current,Qt(un,r?n&1|2:n&1),t):(Qn(t),null);case 22:case 23:return Tx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zr&1073741824&&(Qn(t),t.subtreeFlags&6&&(t.flags|=8192)):Qn(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function N5(e,t){switch(lx(t),t.tag){case 1:return Mr(t.type)&&gg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _l(),on(Ir),on(ir),_x(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fx(t),null;case 13:if(on(un),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));ml()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return on(un),null;case 4:return _l(),null;case 10:return hx(t.type._context),null;case 22:case 23:return Tx(),null;case 24:return null;default:return null}}var Eu=!1,nr=!1,I5=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Va(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(e,t,r)}else n.current=null}function q0(e,t,n){try{n()}catch(r){yn(e,t,r)}}var gE=!1;function M5(e,t){if(M0=cg,e=ZC(),ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var g;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)h=u,u=g;for(;;){if(u===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(g=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P0={focusedElem:e,selectionRange:n},cg=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,_=p.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:wi(t.type,m),_);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(v){yn(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return p=gE,gE=!1,p}function Fc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&q0(t,n,s)}i=i.next}while(i!==r)}}function Pp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Z0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XT(e){var t=e.alternate;t!==null&&(e.alternate=null,XT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hi],delete t[cd],delete t[D0],delete t[p5],delete t[m5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YT(e){return e.tag===5||e.tag===3||e.tag===4}function pE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Q0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hg));else if(r!==4&&(e=e.child,e!==null))for(Q0(e,t,n),e=e.sibling;e!==null;)Q0(e,t,n),e=e.sibling}function K0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(K0(e,t,n),e=e.sibling;e!==null;)K0(e,t,n),e=e.sibling}var Un=null,Ei=!1;function As(e,t,n){for(n=n.child;n!==null;)qT(e,t,n),n=n.sibling}function qT(e,t,n){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(kp,n)}catch{}switch(n.tag){case 5:nr||Va(n,t);case 6:var r=Un,i=Ei;Un=null,As(e,t,n),Un=r,Ei=i,Un!==null&&(Ei?(e=Un,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Ei?(e=Un,n=n.stateNode,e.nodeType===8?Qm(e.parentNode,n):e.nodeType===1&&Qm(e,n),id(e)):Qm(Un,n.stateNode));break;case 4:r=Un,i=Ei,Un=n.stateNode.containerInfo,Ei=!0,As(e,t,n),Un=r,Ei=i;break;case 0:case 11:case 14:case 15:if(!nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&q0(n,t,o),i=i.next}while(i!==r)}As(e,t,n);break;case 1:if(!nr&&(Va(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yn(n,t,a)}As(e,t,n);break;case 21:As(e,t,n);break;case 22:n.mode&1?(nr=(r=nr)||n.memoizedState!==null,As(e,t,n),nr=r):As(e,t,n);break;default:As(e,t,n)}}function mE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new I5),t.forEach(function(r){var i=U5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,Ei=!1;break e;case 3:Un=a.stateNode.containerInfo,Ei=!0;break e;case 4:Un=a.stateNode.containerInfo,Ei=!0;break e}a=a.return}if(Un===null)throw Error(Ne(160));qT(s,o,i),Un=null,Ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZT(t,e),t=t.sibling}function ZT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yi(t,e),zi(e),r&4){try{Fc(3,e,e.return),Pp(3,e)}catch(m){yn(e,e.return,m)}try{Fc(5,e,e.return)}catch(m){yn(e,e.return,m)}}break;case 1:yi(t,e),zi(e),r&512&&n!==null&&Va(n,n.return);break;case 5:if(yi(t,e),zi(e),r&512&&n!==null&&Va(n,n.return),e.flags&32){var i=e.stateNode;try{ed(i,"")}catch(m){yn(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_C(i,s),w0(a,o);var c=w0(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?wC(i,u):d==="dangerouslySetInnerHTML"?vC(i,u):d==="children"?ed(i,u):Xy(i,d,u,c)}switch(a){case"input":_0(i,s);break;case"textarea":yC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?nl(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?nl(i,!!s.multiple,s.defaultValue,!0):nl(i,!!s.multiple,s.multiple?[]:"",!1))}i[cd]=s}catch(m){yn(e,e.return,m)}}break;case 6:if(yi(t,e),zi(e),r&4){if(e.stateNode===null)throw Error(Ne(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){yn(e,e.return,m)}}break;case 3:if(yi(t,e),zi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{id(t.containerInfo)}catch(m){yn(e,e.return,m)}break;case 4:yi(t,e),zi(e);break;case 13:yi(t,e),zi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ax=xn())),r&4&&mE(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nr=(c=nr)||d,yi(t,e),nr=c):yi(t,e),zi(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Xe=e,d=e.child;d!==null;){for(u=Xe=d;Xe!==null;){switch(h=Xe,g=h.child,h.tag){case 0:case 11:case 14:case 15:Fc(4,h,h.return);break;case 1:Va(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){yn(r,n,m)}}break;case 5:Va(h,h.return);break;case 22:if(h.memoizedState!==null){_E(u);continue}}g!==null?(g.return=h,Xe=g):_E(u)}d=d.sibling}e:for(d=null,u=e;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bC("display",o))}catch(m){yn(e,e.return,m)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(m){yn(e,e.return,m)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:yi(t,e),zi(e),r&4&&mE(e);break;case 21:break;default:yi(t,e),zi(e)}}function zi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YT(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ed(i,""),r.flags&=-33);var s=pE(e);K0(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pE(e);Q0(e,a,o);break;default:throw Error(Ne(161))}}catch(l){yn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P5(e,t,n){Xe=e,QT(e)}function QT(e,t,n){for(var r=(e.mode&1)!==0;Xe!==null;){var i=Xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Eu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nr;a=Eu;var c=nr;if(Eu=o,(nr=l)&&!c)for(Xe=i;Xe!==null;)o=Xe,l=o.child,o.tag===22&&o.memoizedState!==null?yE(i):l!==null?(l.return=o,Xe=l):yE(i);for(;s!==null;)Xe=s,QT(s),s=s.sibling;Xe=i,Eu=a,nr=c}fE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Xe=s):fE(e)}}function fE(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nr||Pp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jw(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jw(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&id(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}nr||t.flags&512&&Z0(t)}catch(h){yn(t,t.return,h)}}if(t===e){Xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function _E(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Xe=n;break}Xe=t.return}}function yE(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pp(4,t)}catch(l){yn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){yn(t,i,l)}}var s=t.return;try{Z0(t)}catch(l){yn(t,s,l)}break;case 5:var o=t.return;try{Z0(t)}catch(l){yn(t,o,l)}}}catch(l){yn(t,t.return,l)}if(t===e){Xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Xe=a;break}Xe=t.return}}var F5=Math.ceil,Eg=bs.ReactCurrentDispatcher,Sx=bs.ReactCurrentOwner,di=bs.ReactCurrentBatchConfig,Nt=0,Fn=null,Sn=null,Hn=0,zr=0,Ga=xo(0),In=0,md=null,ra=0,Fp=0,kx=0,Rc=null,Lr=null,Ax=0,xl=1/0,ts=null,Sg=!1,J0=null,io=null,Su=!1,Vs=null,kg=0,Dc=0,e_=null,Nh=-1,Ih=0;function _r(){return Nt&6?xn():Nh!==-1?Nh:Nh=xn()}function so(e){return e.mode&1?Nt&2&&Hn!==0?Hn&-Hn:_5.transition!==null?(Ih===0&&(Ih=FC()),Ih):(e=$t,e!==0||(e=window.event,e=e===void 0?16:UC(e.type)),e):1}function Ti(e,t,n,r){if(50<Dc)throw Dc=0,e_=null,Error(Ne(185));Hd(e,n,r),(!(Nt&2)||e!==Fn)&&(e===Fn&&(!(Nt&2)&&(Fp|=n),In===4&&Us(e,Hn)),Pr(e,r),n===1&&Nt===0&&!(t.mode&1)&&(xl=xn()+500,Np&&vo()))}function Pr(e,t){var n=e.callbackNode;_z(e,t);var r=lg(e,e===Fn?Hn:0);if(r===0)n!==null&&Cw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cw(n),t===1)e.tag===0?f5(xE.bind(null,e)):oT(xE.bind(null,e)),h5(function(){!(Nt&6)&&vo()}),n=null;else{switch(RC(r)){case 1:n=Ky;break;case 4:n=MC;break;case 16:n=ag;break;case 536870912:n=PC;break;default:n=ag}n=sL(n,KT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KT(e,t){if(Nh=-1,Ih=0,Nt&6)throw Error(Ne(327));var n=e.callbackNode;if(al()&&e.callbackNode!==n)return null;var r=lg(e,e===Fn?Hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ag(e,r);else{t=r;var i=Nt;Nt|=2;var s=eL();(Fn!==e||Hn!==t)&&(ts=null,xl=xn()+500,Go(e,t));do try{z5();break}catch(a){JT(e,a)}while(!0);ux(),Eg.current=s,Nt=i,Sn!==null?t=0:(Fn=null,Hn=0,t=In)}if(t!==0){if(t===2&&(i=C0(e),i!==0&&(r=i,t=t_(e,i))),t===1)throw n=md,Go(e,0),Us(e,r),Pr(e,xn()),n;if(t===6)Us(e,r);else{if(i=e.current.alternate,!(r&30)&&!R5(i)&&(t=Ag(e,r),t===2&&(s=C0(e),s!==0&&(r=s,t=t_(e,s))),t===1))throw n=md,Go(e,0),Us(e,r),Pr(e,xn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Co(e,Lr,ts);break;case 3:if(Us(e,r),(r&130023424)===r&&(t=Ax+500-xn(),10<t)){if(lg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){_r(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=R0(Co.bind(null,e,Lr,ts),t);break}Co(e,Lr,ts);break;case 4:if(Us(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Ci(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F5(r/1960))-r,10<r){e.timeoutHandle=R0(Co.bind(null,e,Lr,ts),r);break}Co(e,Lr,ts);break;case 5:Co(e,Lr,ts);break;default:throw Error(Ne(329))}}}return Pr(e,xn()),e.callbackNode===n?KT.bind(null,e):null}function t_(e,t){var n=Rc;return e.current.memoizedState.isDehydrated&&(Go(e,t).flags|=256),e=Ag(e,t),e!==2&&(t=Lr,Lr=n,t!==null&&n_(t)),e}function n_(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function R5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Li(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Us(e,t){for(t&=~kx,t&=~Fp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ci(t),r=1<<n;e[n]=-1,t&=~r}}function xE(e){if(Nt&6)throw Error(Ne(327));al();var t=lg(e,0);if(!(t&1))return Pr(e,xn()),null;var n=Ag(e,t);if(e.tag!==0&&n===2){var r=C0(e);r!==0&&(t=r,n=t_(e,r))}if(n===1)throw n=md,Go(e,0),Us(e,t),Pr(e,xn()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e,Lr,ts),Pr(e,xn()),null}function Cx(e,t){var n=Nt;Nt|=1;try{return e(t)}finally{Nt=n,Nt===0&&(xl=xn()+500,Np&&vo())}}function ia(e){Vs!==null&&Vs.tag===0&&!(Nt&6)&&al();var t=Nt;Nt|=1;var n=di.transition,r=$t;try{if(di.transition=null,$t=1,e)return e()}finally{$t=r,di.transition=n,Nt=t,!(Nt&6)&&vo()}}function Tx(){zr=Ga.current,on(Ga)}function Go(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,u5(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(lx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gg();break;case 3:_l(),on(Ir),on(ir),_x();break;case 5:fx(r);break;case 4:_l();break;case 13:on(un);break;case 19:on(un);break;case 10:hx(r.type._context);break;case 22:case 23:Tx()}n=n.return}if(Fn=e,Sn=e=oo(e.current,null),Hn=zr=t,In=0,md=null,kx=Fp=ra=0,Lr=Rc=null,Po!==null){for(t=0;t<Po.length;t++)if(n=Po[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Po=null}return e}function JT(e,t){do{var n=Sn;try{if(ux(),Ch.current=wg,bg){for(var r=hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bg=!1}if(na=0,Pn=Ln=hn=null,Pc=!1,hd=0,Sx.current=null,n===null||n.return===null){In=1,md=t,Sn=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=oE(o);if(g!==null){g.flags&=-257,aE(g,o,a,s,t),g.mode&1&&sE(s,c,t),t=g,l=c;var p=t.updateQueue;if(p===null){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}else{if(!(t&1)){sE(s,c,t),Lx();break e}l=Error(Ne(426))}}else if(ln&&a.mode&1){var _=oE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),aE(_,o,a,s,t),cx(yl(l,a));break e}}s=l=yl(l,a),In!==4&&(In=2),Rc===null?Rc=[s]:Rc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=DT(s,l,t);Kw(s,y);break e;case 1:a=l;var f=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(io===null||!io.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=zT(s,a,t);Kw(s,v);break e}}s=s.return}while(s!==null)}nL(n)}catch(w){t=w,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function eL(){var e=Eg.current;return Eg.current=wg,e===null?wg:e}function Lx(){(In===0||In===3||In===2)&&(In=4),Fn===null||!(ra&268435455)&&!(Fp&268435455)||Us(Fn,Hn)}function Ag(e,t){var n=Nt;Nt|=2;var r=eL();(Fn!==e||Hn!==t)&&(ts=null,Go(e,t));do try{D5();break}catch(i){JT(e,i)}while(!0);if(ux(),Nt=n,Eg.current=r,Sn!==null)throw Error(Ne(261));return Fn=null,Hn=0,In}function D5(){for(;Sn!==null;)tL(Sn)}function z5(){for(;Sn!==null&&!lz();)tL(Sn)}function tL(e){var t=iL(e.alternate,e,zr);e.memoizedProps=e.pendingProps,t===null?nL(e):Sn=t,Sx.current=null}function nL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=N5(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Sn=null;return}}else if(n=L5(n,t,zr),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);In===0&&(In=5)}function Co(e,t,n){var r=$t,i=di.transition;try{di.transition=null,$t=1,O5(e,t,n,r)}finally{di.transition=i,$t=r}return null}function O5(e,t,n,r){do al();while(Vs!==null);if(Nt&6)throw Error(Ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(yz(e,s),e===Fn&&(Sn=Fn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,sL(ag,function(){return al(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=di.transition,di.transition=null;var o=$t;$t=1;var a=Nt;Nt|=4,Sx.current=null,M5(e,n),ZT(n,e),i5(P0),cg=!!M0,P0=M0=null,e.current=n,P5(n),cz(),Nt=a,$t=o,di.transition=s}else e.current=n;if(Su&&(Su=!1,Vs=e,kg=i),s=e.pendingLanes,s===0&&(io=null),hz(n.stateNode),Pr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sg)throw Sg=!1,e=J0,J0=null,e;return kg&1&&e.tag!==0&&al(),s=e.pendingLanes,s&1?e===e_?Dc++:(Dc=0,e_=e):Dc=0,vo(),null}function al(){if(Vs!==null){var e=RC(kg),t=di.transition,n=$t;try{if(di.transition=null,$t=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,kg=0,Nt&6)throw Error(Ne(331));var i=Nt;for(Nt|=4,Xe=e.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var d=Xe;switch(d.tag){case 0:case 11:case 15:Fc(8,d,s)}var u=d.child;if(u!==null)u.return=d,Xe=u;else for(;Xe!==null;){d=Xe;var h=d.sibling,g=d.return;if(XT(d),d===c){Xe=null;break}if(h!==null){h.return=g,Xe=h;break}Xe=g}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Xe=y;break e}Xe=s.return}}var f=e.current;for(Xe=f;Xe!==null;){o=Xe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Xe=x;else e:for(o=f;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pp(9,a)}}catch(w){yn(a,a.return,w)}if(a===o){Xe=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Xe=v;break e}Xe=a.return}}if(Nt=i,vo(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(kp,e)}catch{}r=!0}return r}finally{$t=n,di.transition=t}}return!1}function vE(e,t,n){t=yl(n,t),t=DT(e,t,1),e=ro(e,t,1),t=_r(),e!==null&&(Hd(e,1,t),Pr(e,t))}function yn(e,t,n){if(e.tag===3)vE(e,e,n);else for(;t!==null;){if(t.tag===3){vE(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(io===null||!io.has(r))){e=yl(n,e),e=zT(t,e,1),t=ro(t,e,1),e=_r(),t!==null&&(Hd(t,1,e),Pr(t,e));break}}t=t.return}}function B5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_r(),e.pingedLanes|=e.suspendedLanes&n,Fn===e&&(Hn&n)===n&&(In===4||In===3&&(Hn&130023424)===Hn&&500>xn()-Ax?Go(e,0):kx|=n),Pr(e,t)}function rL(e,t){t===0&&(e.mode&1?(t=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):t=1);var n=_r();e=ms(e,t),e!==null&&(Hd(e,t,n),Pr(e,n))}function j5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rL(e,n)}function U5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),rL(e,n)}var iL;iL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ir.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,T5(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,ln&&t.flags&1048576&&aT(t,fg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lh(e,t),e=t.pendingProps;var i=pl(t,ir.current);ol(t,n),i=xx(null,t,r,e,i,n);var s=vx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(r)?(s=!0,pg(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,px(t),i.updater=Ip,t.stateNode=i,i._reactInternals=t,$0(t,r,e,n),t=H0(null,t,r,!0,s,n)):(t.tag=0,ln&&s&&ax(t),gr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=V5(r),e=wi(r,e),i){case 0:t=G0(null,t,r,e,n);break e;case 1:t=dE(null,t,r,e,n);break e;case 11:t=lE(null,t,r,e,n);break e;case 14:t=cE(null,t,r,wi(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wi(r,i),G0(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wi(r,i),dE(e,t,r,i,n);case 3:e:{if(UT(t),e===null)throw Error(Ne(387));r=t.pendingProps,s=t.memoizedState,i=s.element,uT(e,t),xg(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=yl(Error(Ne(423)),t),t=uE(e,t,r,n,i);break e}else if(r!==i){i=yl(Error(Ne(424)),t),t=uE(e,t,r,n,i);break e}else for($r=no(t.stateNode.containerInfo.firstChild),Gr=t,ln=!0,ki=null,n=mT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ml(),r===i){t=fs(e,t,n);break e}gr(e,t,r,n)}t=t.child}return t;case 5:return fT(t),e===null&&B0(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,F0(r,i)?o=null:s!==null&&F0(r,s)&&(t.flags|=32),jT(e,t),gr(e,t,o,n),t.child;case 6:return e===null&&B0(t),null;case 13:return $T(e,t,n);case 4:return mx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fl(t,null,r,n):gr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wi(r,i),lE(e,t,r,i,n);case 7:return gr(e,t,t.pendingProps,n),t.child;case 8:return gr(e,t,t.pendingProps.children,n),t.child;case 12:return gr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Qt(_g,r._currentValue),r._currentValue=o,s!==null)if(Li(s.value,o)){if(s.children===i.children&&!Ir.current){t=fs(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=cs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),j0(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),j0(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ol(t,n),i=ui(i),r=r(i),t.flags|=1,gr(e,t,r,n),t.child;case 14:return r=t.type,i=wi(r,t.pendingProps),i=wi(r.type,i),cE(e,t,r,i,n);case 15:return OT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wi(r,i),Lh(e,t),t.tag=1,Mr(r)?(e=!0,pg(t)):e=!1,ol(t,n),gT(t,r,i),$0(t,r,i,n),H0(null,t,r,!0,e,n);case 19:return VT(e,t,n);case 22:return BT(e,t,n)}throw Error(Ne(156,t.tag))};function sL(e,t){return IC(e,t)}function $5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(e,t,n,r){return new $5(e,t,n,r)}function Nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function V5(e){if(typeof e=="function")return Nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qy)return 11;if(e===Zy)return 14}return 2}function oo(e,t){var n=e.alternate;return n===null?(n=li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mh(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Nx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fa:return Ho(n.children,i,s,t);case Yy:o=8,i|=8;break;case h0:return e=li(12,n,t,i|2),e.elementType=h0,e.lanes=s,e;case g0:return e=li(13,n,t,i),e.elementType=g0,e.lanes=s,e;case p0:return e=li(19,n,t,i),e.elementType=p0,e.lanes=s,e;case pC:return Rp(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hC:o=10;break e;case gC:o=9;break e;case qy:o=11;break e;case Zy:o=14;break e;case Rs:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=li(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ho(e,t,n,r){return e=li(7,e,r,t),e.lanes=n,e}function Rp(e,t,n,r){return e=li(22,e,r,t),e.elementType=pC,e.lanes=n,e.stateNode={isHidden:!1},e}function of(e,t,n){return e=li(6,e,null,t),e.lanes=n,e}function af(e,t,n){return t=li(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function G5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ix(e,t,n,r,i,s,o,a,l){return e=new G5(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=li(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(s),e}function H5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oL(e){if(!e)return uo;e=e._reactInternals;e:{if(ga(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(Mr(n))return sT(e,n,t)}return t}function aL(e,t,n,r,i,s,o,a,l){return e=Ix(n,r,!0,e,i,s,o,a,l),e.context=oL(null),n=e.current,r=_r(),i=so(n),s=cs(r,i),s.callback=t??null,ro(n,s,i),e.current.lanes=i,Hd(e,i,r),Pr(e,r),e}function Dp(e,t,n,r){var i=t.current,s=_r(),o=so(i);return n=oL(n),t.context===null?t.context=n:t.pendingContext=n,t=cs(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ro(i,t,o),e!==null&&(Ti(e,i,o,s),Ah(e,i,o)),o}function Cg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mx(e,t){bE(e,t),(e=e.alternate)&&bE(e,t)}function W5(){return null}var lL=typeof reportError=="function"?reportError:function(e){console.error(e)};function Px(e){this._internalRoot=e}zp.prototype.render=Px.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));Dp(e,t,null,null)};zp.prototype.unmount=Px.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ia(function(){Dp(null,e,null,null)}),t[ps]=null}};function zp(e){this._internalRoot=e}zp.prototype.unstable_scheduleHydration=function(e){if(e){var t=OC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<js.length&&t!==0&&t<js[n].priority;n++);js.splice(n,0,e),n===0&&jC(e)}};function Fx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wE(){}function X5(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Cg(o);s.call(c)}}var o=aL(t,r,e,0,null,!1,!1,"",wE);return e._reactRootContainer=o,e[ps]=o.current,ad(e.nodeType===8?e.parentNode:e),ia(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Cg(l);a.call(c)}}var l=Ix(e,0,!1,null,null,!1,!1,"",wE);return e._reactRootContainer=l,e[ps]=l.current,ad(e.nodeType===8?e.parentNode:e),ia(function(){Dp(t,l,n,r)}),l}function Bp(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cg(o);a.call(l)}}Dp(t,o,e,i)}else o=X5(n,t,e,i,r);return Cg(o)}DC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lc(t.pendingLanes);n!==0&&(Jy(t,n|1),Pr(t,xn()),!(Nt&6)&&(xl=xn()+500,vo()))}break;case 13:ia(function(){var r=ms(e,1);if(r!==null){var i=_r();Ti(r,e,1,i)}}),Mx(e,1)}};ex=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=_r();Ti(t,e,134217728,n)}Mx(e,134217728)}};zC=function(e){if(e.tag===13){var t=so(e),n=ms(e,t);if(n!==null){var r=_r();Ti(n,e,t,r)}Mx(e,t)}};OC=function(){return $t};BC=function(e,t){var n=$t;try{return $t=e,t()}finally{$t=n}};S0=function(e,t,n){switch(t){case"input":if(_0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Lp(r);if(!i)throw Error(Ne(90));fC(r),_0(r,i)}}}break;case"textarea":yC(e,n);break;case"select":t=n.value,t!=null&&nl(e,!!n.multiple,t,!1)}};kC=Cx;AC=ia;var Y5={usingClientEntryPoint:!1,Events:[Xd,Oa,Lp,EC,SC,Cx]},Gl={findFiberByHostInstance:Mo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q5={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LC(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||W5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{kp=ku.inject(q5),Yi=ku}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y5;Yr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fx(t))throw Error(Ne(200));return H5(e,t,null,n)};Yr.createRoot=function(e,t){if(!Fx(e))throw Error(Ne(299));var n=!1,r="",i=lL;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ix(e,1,!1,null,null,n,!1,r,i),e[ps]=t.current,ad(e.nodeType===8?e.parentNode:e),new Px(t)};Yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=LC(t),e=e===null?null:e.stateNode,e};Yr.flushSync=function(e){return ia(e)};Yr.hydrate=function(e,t,n){if(!Op(t))throw Error(Ne(200));return Bp(null,e,t,!0,n)};Yr.hydrateRoot=function(e,t,n){if(!Fx(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lL;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=aL(t,null,e,1,n??null,i,!1,s,o),e[ps]=t.current,ad(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zp(t)};Yr.render=function(e,t,n){if(!Op(t))throw Error(Ne(200));return Bp(null,e,t,!1,n)};Yr.unmountComponentAtNode=function(e){if(!Op(e))throw Error(Ne(40));return e._reactRootContainer?(ia(function(){Bp(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};Yr.unstable_batchedUpdates=Cx;Yr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Op(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return Bp(e,t,n,!1,r)};Yr.version="18.2.0-next-9e3b772b8-20220608";function cL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cL)}catch(e){console.error(e)}}cL(),aC.exports=Yr;var bo=aC.exports,EE=bo;d0.createRoot=EE.createRoot,d0.hydrateRoot=EE.hydrateRoot;var Z5=Object.create,jp=Object.defineProperty,Q5=Object.defineProperties,K5=Object.getOwnPropertyDescriptor,J5=Object.getOwnPropertyDescriptors,dL=Object.getOwnPropertyNames,SE=Object.getOwnPropertySymbols,eO=Object.getPrototypeOf,uL=Object.prototype.hasOwnProperty,tO=Object.prototype.propertyIsEnumerable,kE=(e,t,n)=>t in e?jp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))uL.call(t,n)&&kE(e,n,t[n]);if(SE)for(var n of SE(t))tO.call(t,n)&&kE(e,n,t[n]);return e},St=(e,t)=>Q5(e,J5(t)),hL=(e,t)=>function(){return t||(0,e[dL(e)[0]])((t={exports:{}}).exports,t),t.exports},qd=(e,t)=>{for(var n in t)jp(e,n,{get:t[n],enumerable:!0})},nO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of dL(t))uL.call(e,i)||i===n||jp(e,i,{get:()=>t[i],enumerable:!(r=K5(t,i))||r.enumerable});return e},Rx=(e,t,n)=>(n=e!=null?Z5(eO(e)):{},nO(!t&&e&&e.__esModule?n:jp(n,"default",{value:e,enumerable:!0}),e)),gL=hL({"node_modules/@linkurious/ogma-parsers/dist/ogma-parsers.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Parsers
* @description Parsers for Ogma
* @version 0.0.18 (built on Mon Nov 13 2023 16:35:06 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2023. All rights reserved.
* @preserve
*/function s(Z,ee,se){se=se||ee,ee in Z&&(Z.attributes[se]=Z[ee])}function o(Z,ee,se){if(Z&&typeof Z=="object"){if(Array.isArray(Z))return Z.forEach(oe=>o(oe,ee,se));if(function(he){return he.type==="vertex"||he._type==="vertex"||he.inE||he.outE||he._inE||he._outE}(Z)){const oe={};Z.properties&&Object.keys(Z.properties).forEach(pe=>{oe[pe]=Z.properties[pe][0].value});const he=l(Z);ee.push({id:he,data:{id:Z.id+"",categories:[Z.label],properties:oe}});for(const pe in Z)pe!=="properties"&&o(Z[pe],ee,se);return}if(function(he){return he.type==="edge"||he._type==="edge"||he.inV||he.outV||he._outV||he._inV}(Z)){const oe=l(Z);se.push({id:oe,source:a(Z,["inV","_inV"]),target:a(Z,["outV","_outV"]),data:{id:oe,type:Z.label,properties:Z.properties||{}}});for(const he in Z)he!=="properties"&&o(Z[he],ee,se);return}Object.keys(Z).forEach(oe=>o(Z[oe],ee,se))}}function a(Z,ee){for(const se of ee)if(Z[se])return l(Z[se])}function l(Z){if(typeof Z=="string"||isFinite(Z))return String(Z);const ee=Z;return String(ee.id||ee._id)}const c=Z=>Z.charCodeAt(0),d=c(" "),u=c("<"),h=c(">"),g=c('"'),p=c(`
`),m=c("\r"),_=c("/"),y=c("\\"),f=c("a"),x=c("z"),v=c("A"),w=c("Z"),b=c("0"),S=c("9"),k=c(":"),C=-1,A=-2,N=-3,R=-4;function B(Z,ee,se,oe){const he=oe.length;if(se-ee!==he)return!1;for(let pe=0;pe<he;++pe)if(Z[ee+pe]!==oe[pe])return!1;return!0}function W(Z,ee,se,oe){return F(Z.tags,ee,se,oe)}function F(Z,ee,se,oe){const he=Z.length;for(let pe=0;pe<he;++pe)if(B(ee,se,oe,Z[pe]))return pe;return Z.push(ee.slice(se,oe)),he}function T(Z,ee,se){let oe=G(ee,se),he=ee[oe];if(he===h||he===_)return oe;let pe=oe;oe=te(ee,oe);const De=function(Pe,nt,rt,Rt){return F(Pe.attributes,nt,rt,Rt)}(Z,ee,pe,oe);for(;ee[oe]!==g;)++oe;for(++oe,pe=oe;(he=ee[oe])!==g;)he===y&&++oe,++oe;return Z.tokens.push(N,De,pe,oe),oe+1}function H(Z){return Z===d||Z===p||Z===m}function G(Z,ee){for(;H(Z[ee]);)++ee;return ee}function q(Z){return Z>=f&&Z<=x||Z>=v&&Z<=w||Z===k||Z>=b&&Z<=S}function te(Z,ee){for(;q(Z[ee]);)++ee;return ee}function J(Z,ee){const se=["return {","  id: undefined,","  attributes: {","    text: undefined,","    color: undefined,",`    ${Z?"radius":"width"}: undefined`,Z?"  ,x: undefined":"",Z?"  ,y: undefined":"","  },"];Z||se.push("  source: undefined,","  target: undefined,");const oe=Object.keys(ee);oe.length&&se.push("  data: {");for(let he=0;he<oe.length;++he){const pe=ee[oe[he]],De=pe.title;se.push(`  "${De}": ${pe.default!==void 0?JSON.stringify(pe.default):void 0}${he===oe.length-1?"":","}`)}return oe.length&&se.push("}"),se.push("};"),new Function(se.join(`
`))}function ue(Z){return Z.indexOf("\\")===-1||(Z=Z.replace(/\\"/g,'"')),Z}function Te(Z,ee){let se=0;for(let oe=0;oe<20;++oe){const he=se+Z[oe]+ee[oe];se=+(he>=10),Z[oe]=he%10}}const ce=new class{constructor(){this._decimalPowerOfTwo=new Uint8Array(20),this._binaryNumber=new Uint8Array(64),this._decimalNumber=new Uint8Array(20)}int64ToString({low:ee,high:se}){if(ee===0&&se===0)return"0";(function(Ie,Pe,nt){for(let rt=0;rt<32;++rt)nt[rt]=+!!(Ie&1<<rt);for(let rt=0;rt<32;++rt)nt[rt+32]=+!!(Pe&1<<rt);return nt})(ee,se,this._binaryNumber),this._decimalNumber.fill(0),this._decimalPowerOfTwo.fill(0),this._decimalPowerOfTwo[0]=1;const oe=this._binaryNumber[63]===1;oe&&function(Ie){for(let Pe=0;Pe<64;++Pe)Ie[Pe]^=1;for(let Pe=0;Pe<64&&!(Ie[Pe]^=1);++Pe);}(this._binaryNumber);for(let De=0;De<64;++De)this._binaryNumber[De]&&Te(this._decimalNumber,this._decimalPowerOfTwo),Te(this._decimalPowerOfTwo,this._decimalPowerOfTwo);const he=[];let pe=this._decimalNumber.length-1;for(oe&&he.push("-");!this._decimalNumber[pe];)pe-=1;for(let De=pe;De>=0;--De)he.push(String(this._decimalNumber[De]));return he.join("")}};function _e(Z){return ce.int64ToString(Z)}function ze(Z){return typeof Z=="object"&&"high"in Z&&"low"in Z}const Ye=Z=>"start"in Z&&"end"in Z&&"type"in Z,qe=Z=>"segments"in Z;function ge(Z,ee,se,oe){if(ee)if(Array.isArray(ee))ee.forEach(he=>ge(Z,he,se,oe));else if(qe(ee))(function(pe,De,Ie,Pe){De.segments.forEach(nt=>{ge(pe,nt.start,Ie,Pe),ge(pe,nt.end,Ie,Pe),ge(pe,nt.relationship,Ie,Pe)})})(Z,ee,se,oe);else if(function(pe){if(typeof pe!="object"||pe===null)throw new Error("Ogma can only retrieve nodes and relationships from Neo4j. Please make sure that your Cypher query returns nodes and edges, not values.");const De=Object.keys(pe.properties);for(const Ie of De){const Pe=pe.properties[Ie];ze(Pe)&&(pe.properties[Ie]=_e(Pe))}if(pe.identity!==void 0){if(ze(pe.identity)&&(pe.identity=_e(pe.identity)),function(Pe){return"start"in Pe&&"end"in Pe}(pe)){const Ie=pe.start.identity||pe.start,Pe=pe.end.identity||pe.end;ze(Ie)&&(pe.start=_e(Ie)),ze(Pe)&&(pe.end=_e(Pe))}}else pe.id&&(pe.identity=pe.id)}(ee),Ye(ee))oe.has(ee.identity)||(oe.add(ee.identity),Z.edges.push({id:ee.identity,source:ee.start,target:ee.end,data:{neo4jType:ee.type,neo4jProperties:ee.properties}}));else{const he=ee;se.has(he.identity)||(se.add(he.identity),Z.nodes.push({id:he.identity,attributes:{},data:{neo4jLabels:he.labels,neo4jProperties:he.properties}}))}}const ye={boolean:Z=>Z.toLowerCase()==="true",int:parseFloat,long:parseFloat,float:parseFloat,double:parseFloat,string:Z=>Z};function Ze(Z,ee,se){const oe=Z.getElementsByTagName("data"),he={};for(let pe=0;pe<oe.length;pe++){const De=oe[pe],Ie=De.getAttribute("key");if(Ie===null)continue;const Pe=ee[Ie];typeof Pe>"u"?he[Ie]=De.textContent:De.textContent&&De.textContent.length!==0&&(he[Pe.name]=Pe.parse(De.textContent))}for(const pe in se)pe in he||(he[pe]=se[pe]);return he}function tt(Z){return Z.color?Z.color:Z.r&&Z.g&&Z.b?`rgb(${Z.r}, ${Z.g}, ${Z.b})`:void 0}const ut=new Set(["x","y","size","color","r","g","b","label"]);function st(Z){const ee={};for(const se in Z)ut.has(se)||Z[se]===void 0||(ee[se]=Z[se]);return ee}i.gexf=function(ee){if(ee.indexOf("<gexf")===-1)throw new Error("not a GEXF file");const se=function(O){const j=new Int32Array(O.length);for(let Q=0,K=O.length;Q<K;++Q)j[Q]=O.charCodeAt(Q);return j}(ee),oe=function(O,j){let Q,K;const de={tags:[],attributes:[],tokens:[]},ne=de.tokens;let re=G(O,j);for(;re<O.length;){let le=O[re];if(le===u){if(re=G(O,++re),O[re]===_)for(ne.push(A);O[++re]!==h;);else{Q=re,re=te(O,Q);const fe=W(de,O,Q,re);for(ne.push(C,fe),le=O[re];le!==h&&le!==_;)re=T(de,O,re),le=O[re];if(le===_)for(ne.push(A);O[++re]!==h;);}re+=1}else{for(Q=re;O[++re]!==u;);for(K=re-1;H(O[K]);)--K;ne.push(R,Q,K+1)}re=G(O,re)}return de}(se,ee.indexOf("<gexf ")),he={},pe={};oe.tags.forEach((X,O)=>{const j=String.fromCharCode.apply(null,X);he[j]=O}),oe.attributes.forEach((X,O)=>{const j=String.fromCharCode.apply(null,X);pe[j]=O});const De=he.attributes,Ie=he.attribute,Pe=he.node,nt=he.edge,rt=he.default,Rt=he["viz:position"],It=he["viz:size"],Mt=he["viz:color"],Wt=he.attvalue,vt=pe.class,lt=pe.id,Ct=pe.type,Pt=pe.title,Dt=pe.label,At=pe.source,bt=pe.target,Gt=pe.x,Xt=pe.y,Er=pe.r,ht=pe.g,xt=pe.b,gt=pe.a,jt=pe.value,Jt=pe.for,pn=pe.weight,zn={float:1,double:1,integer:2,boolean:3,string:4,"list-string":5};let mn=0;const Mn=oe.tokens,Sr=Mn.length,Fi=new Array(16);let Ut=0,kn=0,On=0,z=!0;const U={},Y={};let V,ae,Le="",We="",Be="",je={attributes:{}},et=0,pt=0,yt=0,ct=1,mt="",Vt=!1,fn=!0,Ft=null,wt=null;const M=[],D=[];let P=0,$={};for(;mn<Sr;){const X=Mn[mn];if(X===C)kn=Ut,Ut=Mn[mn+1],Fi[On]=Ut,On+=1,Ut===Pe?(Ft||(Ft=J(!0,U)),je=Ft(),fn=!0,$=U):Ut===nt&&(wt||(wt=J(!1,Y)),je=wt(),fn=!1,$=Y),mn+=2;else if(X===A){if(Le&&Ut===Ie){$=z?U:Y;const O=zn[We];let j=V;j&&(O===1?j=+j:O===2?j=0|+j:O===3?j=j==="true":O===5&&(j=j.split(" ").filter(Q=>Q))),$[Le]={title:Be||Le,default:j,type:O},Le="",Be="",We="",V=void 0}else if(Ut===Pe&&On===4)Vt&&je.attributes&&(je.attributes.color=`rgba(${et}, ${pt}, ${yt}, ${ct})`,et=0,pt=0,yt=0,ct=1,Vt=!1),je.id||(je.id=++P),M.push(je);else if(Ut===nt&&On===4)je.id||(je.id=++P),D.push(je);else if(Ut===Wt&&On===6&&mt){const O=(fn?U:Y)[mt];if(O){if(ae===void 0)ae=O.default;else{const j=O.type;j&&(j===1?ae=+ae:j===2?ae=0|+ae:j===3?ae=ae==="true":j===5?ae=ae.split(" ").filter(Q=>Q).map(Q=>ue(Q)):typeof se=="string"&&(ae=ue(ae)))}je.data[$[mt].title]=ae}mt="",ae=null}On-=1,Ut=kn,kn=Fi[On-2],mn+=1}else if(X===N){const O=Mn[mn+1],j=ee.substring(Mn[mn+2],Mn[mn+3]);if(Ut===De)O===vt&&(z=j!=="edge"&&j!=="edges");else if(Ut===Ie)O===lt?Le=j:O===Ct?We=j:O===Pt&&(Be=j);else if(Ut!==Pe&&Ut!==nt||On!==4)if(Ut===Rt&&On===5){if(O===Gt)je.attributes.x=parseFloat(j);else if(O===Xt){const Q=parseFloat(j);je.attributes.y=Q===0?Q:-Q}}else Ut===Mt&&On===5?(Vt=!0,O===Er?et=parseInt(j):O===ht?pt=parseInt(j):O===xt?yt=parseInt(j):O===gt&&(ct=parseFloat(j))):Ut===It&&On===5?O===jt&&(fn?je.attributes.radius=+j:je.attributes.width=+j):Ut===Wt&&On===6&&(O===Jt||O===lt?mt=j:O===jt&&(ae=j));else O===lt?je.id=j:O===Dt?je.attributes.text=j:O===At?je.source=j:O===bt?je.target=j:O===pn&&(je.attributes.width=+j);mn+=4}else{if(X!==R)throw new Error(`at index ${mn}: token ${X}`);{const O=ee.substring(Mn[mn+1],Mn[mn+2]);Ut===rt&&(V=O),mn+=3}}}return{nodes:M,edges:D}},i.graphml=function(ee,se){if(!se){if(typeof DOMParser>"u")throw new Error("DOMParser is not available. You need to provide a DOMParser instance as second argument, if you are not in the browser environment");se=new DOMParser}const oe=se.parseFromString(ee,"application/xml"),he=oe.getElementsByTagName("key"),pe=oe.getElementsByTagName("node"),De=oe.getElementsByTagName("edge"),{definitions:Ie,defaults:Pe}=function(Mt){const Wt={graph:{},node:{},edge:{}},vt={graph:{},node:{},edge:{}};for(let lt=0;lt<Mt.length;lt++){const Ct=Mt[lt],Pt=Ct.getAttribute("for")||"node",Dt=Ct.getAttribute("id"),At=Ct.getAttribute("attr.name"),bt=Ct.getAttribute("attr.type")||"string",Gt=Ct.getElementsByTagName("default"),Xt=Gt.length!==0?Gt[0].textContent:void 0;Wt[Pt][Dt]={name:At,parse:ye[bt]},typeof Xt<"u"&&(vt[Pt][At]=Xt)}return{definitions:Wt,defaults:vt}}(he),nt=[],rt=new Set;for(let It=0;It<pe.length;It++){const Mt=pe[It],Wt=Mt.getAttribute("id"),vt=Mt.getAttribute("href")||void 0,lt=Ze(Mt,Ie.node,Pe.node);rt.add(Wt);const Ct={id:Wt,attributes:{x:lt.x,y:lt.y,radius:lt.size,color:tt(lt),text:lt.label},data:st(lt)};lt.x!==void 0&&(Ct.attributes.x=lt.x),lt.y!==void 0&&(Ct.attributes.y=lt.y),lt.size!==void 0&&(Ct.attributes.radius=lt.size),lt.label!==void 0&&(Ct.attributes.text=lt.label);const Pt=tt(lt);Pt!==void 0&&(Ct.attributes.color=Pt),vt!==void 0&&(Ct.data.href=vt),nt.push(Ct)}const Rt=[];for(let It=0;It<De.length;It++){const Mt=De[It],Wt=Mt.getAttribute("id")||It,vt=Mt.getAttribute("source"),lt=Mt.getAttribute("target"),Ct=Mt.getAttribute("xlink:href")||void 0;if(!rt.has(vt)||!rt.has(lt))throw new Error(`Invalid edge: ${vt} -> ${lt}`);const Pt=Ze(Mt,Ie.edge,Pe.edge),Dt={id:Wt,source:vt,target:lt,attributes:{},data:st(Pt)},At=tt(Pt);At!==void 0&&(Dt.attributes.color=At),Ct!==void 0&&(Dt.data.href=Ct),Rt.push(Dt)}return{nodes:nt,edges:Rt}},i.janus=function(ee){const se=[],oe=[];return o(typeof ee=="string"?JSON.parse(ee):ee,se,oe),{nodes:se,edges:oe}},i.json=function(ee,se=oe=>oe){const oe=se(JSON.parse(ee)),he=oe.nodes||[],pe=oe.edges||[];for(let De=0;De<he.length;De++){const Ie=he[De];Ie.attributes||(Ie.attributes={}),typeof Ie.size=="string"&&(Ie.size=+Ie.size),typeof Ie.x=="string"&&(Ie.x=+Ie.x),typeof Ie.y=="string"&&(Ie.y=+Ie.y),s(Ie,"x"),s(Ie,"y"),s(Ie,"size","radius"),s(Ie,"color"),s(Ie,"text")}for(let De=0;De<pe.length;De++){const Ie=pe[De];Ie.attributes||(Ie.attributes={}),typeof Ie.size=="string"&&(Ie.size=+Ie.size),s(Ie,"size","width"),s(Ie,"color"),s(Ie,"text")}return{nodes:he,edges:pe}},i.neo4j=function(ee){let se=typeof ee=="string"?JSON.parse(ee):ee;const oe={nodes:[],edges:[]},he=new Set,pe=new Set;return(De=>"queryKeys"in De&&"values"in De)(se)&&(se=function(Ie){const Pe=[];return Ie.values.forEach(nt=>{const{nodes:rt=[],relationships:Rt=[],segments:It=[]}=nt.adapted,Mt=[{segments:It,properties:{}}];Pe.push({_fields:[...rt,...Rt,...Mt]})}),{records:Pe}}(se)),se.records.forEach(({_fields:De})=>De.forEach(Ie=>ge(oe,Ie,he,pe))),oe},Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaParsers={})}}),rO=hL({"node_modules/@linkurious/ogma-generators/dist/ogma-generators.umd.js"(e,t){var n,r;n=e,r=function(i){/**
* Ogma Generators
* @description Graphs Generators for Ogma
* @version 0.0.13 (built on Tue Nov 14 2023 10:49:46 GMT+0000 (Coordinated Universal Time))
* @author Alexander Milevski - Leo Nicolle - Sylvain Milan - Marco Liberati
* @license (c) Linkurious 2023. All rights reserved.
* @preserve
*/const s=Object.freeze(Object.defineProperty({__proto__:null,configure:({nodes:b=10,edges:S=10,texts:k=!1,scale:C=100}={})=>({nodes:b,edges:S,texts:k,scale:C}),generate:function({nodes:S,scale:k,texts:C,edges:A}){const N=[],R=[];for(let B=0;B<S;B++)N.push({id:B,attributes:{x:Math.random()*k,y:Math.random()*k,text:C?`Node ${B}`:void 0}});for(let B=0;B<A;B++)R.push({id:B,source:Math.random()*S|0,target:Math.random()*S|0,attributes:{text:C?`Edge ${B}`:void 0}});return{nodes:N,edges:R}}},Symbol.toStringTag,{value:"Module"})),o=Object.freeze(Object.defineProperty({__proto__:null,configure:({rows:b=4,columns:S=4,columnDistance:k=20,rowDistance:C=20,xmin:A=0,ymin:N=0}={})=>({rows:b,columns:S,columnDistance:k,rowDistance:C,xmin:A,ymin:N}),generate:function({rows:S,columns:k,columnDistance:C,rowDistance:A,xmin:N,ymin:R}){const B={nodes:[],edges:[]};let W=0;for(let F=0;F<S;++F)for(let T=0;T<k;++T){const H=F*k+T;B.nodes.push({id:H,attributes:{x:N+T*C,y:R+F*A}}),T!==k-1&&(B.edges.push({id:W,source:H,target:F*k+T+1}),W++),F!==S-1&&(B.edges.push({id:W,source:H,target:(F+1)*k+T}),W++)}return B}},Symbol.toStringTag,{value:"Module"})),a=Object.freeze(Object.defineProperty({__proto__:null,configure:({length:b=5,scale:S=100}={})=>({length:b,scale:S}),generate:function({length:S,scale:k}){const C={nodes:[],edges:[]};if(S<=0)return C;C.nodes.push({id:0,attributes:{x:Math.random()*k,y:Math.random()*k}});for(let A=1;A<S;++A)C.nodes.push({id:A,attributes:{x:Math.random()*k,y:Math.random()*k}}),C.edges.push({id:A-1,source:A-1,target:A});return C}},Symbol.toStringTag,{value:"Module"}));function l(b){return typeof b=="number"&&isFinite(b)?b:void 0}const c=Object.freeze(Object.defineProperty({__proto__:null,configure:function({children:S=2,height:k=3}={}){if(!function(A){return typeof A=="number"&&isFinite(A)&&A>0?A:void 0}(S))throw new TypeError('Invalid argument: "children" is not a positive number, was '+S);if(!function(A){return typeof A=="number"&&isFinite(A)&&A>=0?A:void 0}(k))throw new TypeError('Invalid argument: "height" is not a positive number, was '+k);return{children:S,height:k}},generate:function({children:S,height:k}){k+=1;const C=Math.pow(S,k),A=[],N=[];let R=1,B=0,W=0;for(let F=0;F<k;++F){const T=C/(R+1)/1.5;for(let H=0;H<R;++H){const G=B++;if(A.push({id:G,attributes:{x:(H+1)*T*10,y:20*F}}),F!==k-1)for(let q=0;q<S;++q)N.push({id:W,source:G,target:G*S+q+1}),W+=1}R*=S}return{nodes:A,edges:N}}},Symbol.toStringTag,{value:"Module"})),d=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=20,edges:k,p:C,scale:A=100}={}){if(!l(S)||S<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+S);if(k!==void 0&&C!==void 0)throw new TypeError("Invalid argument: choose between options.edges and options.p");return k===void 0&&C===void 0&&(C=.1),C===void 0&&(C=-1),k===void 0&&(k=-1),{nodes:S,p:C,edges:k,scale:A}},generate:function(S){const k={nodes:[],edges:[]},C=S.nodes,A=S.p,N=S.scale;if(A>=0){let R=0;for(let B=0;B<C;B++){k.nodes.push({id:B,attributes:{x:Math.random()*N,y:Math.random()*N}});for(let W=0;W<B;W++)Math.random()<A&&k.edges.push({id:R++,source:B,target:W})}}else{const R=[],B=S.edges;for(let F=0;F<C;F++){k.nodes.push({id:F,attributes:{x:100*Math.random(),y:100*Math.random()}});for(let T=F+1;T<C;T++)R.push({source:F,target:T})}let W=R.length-1;for(let F=0;F<B;F++){const T=R.splice(Math.floor(Math.random()*W),1)[0];T.id=F,k.edges.push(T),W--}}return k}},Symbol.toStringTag,{value:"Module"})),u=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=40,m0:k=5,m:C=1,scale:A=100}={}){if(!l(S)||S<3)throw new TypeError("Invalid argument: options.nodes is not a number >= 3, was "+S);if(!l(k)||k>=S)throw new TypeError(`Invalid argument: options.m0 is not a number < ${S}, was ${k}`);if(!l(k)||C>=k)throw new TypeError(`Invalid argument: options.m is not a number <= ${k}, was ${C}`);if(!l(A)||A<0)throw new TypeError("Invalid argument: options.scale is not a number or is less than 0");return{nodes:S,m0:k,m:C,scale:A}},generate:function({scale:S,nodes:k,m0:C,m:A}){const N={nodes:[],edges:[]},R={},B=[],W=S/10;let F=0;for(let T=0;T<C;T++)N.nodes.push({id:T,attributes:{x:Math.random()*W,y:Math.random()*W}}),B[T]=0;for(let T=0;T<C;T++)for(let H=T+1;H<C;H++){const G={id:F++,source:T,target:H};R[G.source+"-"+G.target]=G,N.edges.push(G),B[T]++,B[H]++}for(let T=C;T<k;T++){N.nodes.push({id:T,attributes:{x:Math.random()*S,y:Math.random()*S}}),B[T]=0;let H=0;for(let q=0;q<T;q++)H+=B[q];let G=0;for(let q=0;q<A;q++){const te=Math.random();let J=0;for(let ue=0;ue<T;ue++)if(!R[`${T}-${ue}`]&&!R[`${ue}-${T}`]&&(J=T===1?1:J+B[ue]/H+G/(T-q),te<=J)){G+=B[ue]/H;const Te={id:F++,source:T,target:ue};R[`${Te.source}-${Te.target}`]=Te,N.edges.push(Te),B[T]++,B[ue]++;break}}}return N}},Symbol.toStringTag,{value:"Module"})),h=Object.freeze(Object.defineProperty({__proto__:null,configure:function({nodes:S=50,width:k=100,height:C=100,x:A=0,y:N=0}={}){if(!isFinite(S)||S<1)throw new RangeError("Tree generator: number of nodes must be a positive integer");return{nodes:S,width:k,height:C,x:A,y:N}},generate:function({nodes:S,x:k,y:C,width:A,height:N}){const R=k-A/2,B=C-N/2;return{nodes:new Array(S).fill(0).map((W,F)=>({id:F,attributes:{x:R+Math.random()*A,y:B+Math.random()*N}})),edges:new Array(S-1).fill(0).map((W,F)=>({id:F,source:Math.floor(Math.sqrt(F)),target:F+1}))}}},Symbol.toStringTag,{value:"Module"})),g=5,p=10,m=10,_=2.7,y=.2;function f(b){return Math.pow(_,b)*p}function x(b){return g+f(b)/m}function v(b,S,k,C,A){if(k===0)return A;const N=f(k),R=x(k),B=R*y;let W=-Math.PI;const F=2*Math.PI/S,T=C.attributes.x||0,H=C.attributes.y||0;for(let G=0;G<S;++G){const q={id:A,attributes:{x:T+N*Math.cos(W),y:H+N*Math.sin(W),radius:R}},te={id:A,source:C.id,target:A,attributes:{width:B}};b.nodes.push(q),b.edges.push(te),A=v(b,S,k-1,q,A+1),W+=F}return A}const w=Object.freeze(Object.defineProperty({__proto__:null,configure:function({depth:S=3,breadth:k=3,nodes:C}){return C!==void 0?(k=5,S=Math.ceil(Math.log(C)/Math.log(5))):C=-1,{depth:S,breadth:k,nodes:C}},generate:function({depth:S,breadth:k,nodes:C}){const A={id:0,attributes:{x:0,y:0,radius:x(S+1)}},N={nodes:[A],edges:[]};return v(N,k,S,A,1),C!==void 0&&C>=0&&(N.nodes=N.nodes.slice(0,C),N.edges=N.edges.slice(0,Math.max(C-1,0))),N}},Symbol.toStringTag,{value:"Module"}));i.balancedTree=c,i.barabasiAlbert=u,i.erdosRenyi=d,i.flower=w,i.grid=o,i.path=a,i.random=s,i.randomTree=h,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})},typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):r((n=typeof globalThis<"u"?globalThis:n||self).ogmaGenerators={})}}),Kt=class{constructor(e){this._ogma=e}},r_={};function pL(e,t,n,r,i,s){let o=0;for(let a=0;a<r;a++)for(let l=0;l<r;l++){const c=s[a],d=s[l];if(c!==d){const u=e[c][d]*i,h=1/(u*u);if(h){const g=t[c]-t[d],p=n[c]-n[d];o+=h*Math.pow(u-Math.sqrt(g*g+p*p),2)}}}return o}function mL(e,t,n,r,i,s,o){let a=0;if(i===-1)return 0;for(let l=0;l<r;l++)for(let c=0;c<r;c++){const d=o[l],u=o[c];if(d!==u&&(d===i||u===i)){const h=e[d][u]*s,g=1/(h*h);if(g){const p=t[d]-t[u],m=n[d]-n[u];a+=g*Math.pow(h-Math.sqrt(p*p+m*m),2)}}}return a}function i_(e,t,n,r,i,s,o,a){o=o||0;let l=0,c=0;for(let d=0;d<r;d++)for(let u=0;u<r;u++){const h=a[d],g=a[u];if(h!==g){const p=e[h][g]*s,m=1/(p*p);if(m){const _=t[h]-t[g],y=n[h]-n[g],f=m*Math.pow(p-Math.sqrt(_*_+y*y),2);l+=f,h!==i&&g!==i||(c+=f)}}}return(1-o)*l+o*c}function s_(e,t,n,r,i,s,o,a,l){o=o||0;const c=t,d=n;(i=i===void 0?-1:i)===-1&&(o=0);const u=t[i],h=n[i];for(let g=0;g<r;g++){const p=a[g],m=l(e[i][g]),_=o/(m*m);if(m===0)continue;let y=0,f=0,x=0;const v=t[p],w=n[p];for(let S=0;S<r;S++){const k=a[S];if(k!==p){const C=e[p][k]*s,A=1/(C*C),N=t[k],R=n[k];if(A!==0){const B=v-N,W=w-R,F=B*B+W*W,T=F<1e-12?0:1/Math.sqrt(F);f+=(1-o)*A*(N+C*(v-N)*T),x+=(1-o)*A*(R+C*(w-R)*T)}y+=A}}const b=(1-o)*y+_;if(b!==0){const S=v-u,k=w-h;let C=S*S+k*k;C=C<1e-12?0:1/Math.sqrt(C);const A=m===0?0:_*(m*C);c[p]=(f+A*t[p])/b,d[p]=(x+A*n[p])/b}}return{x:c,y:d}}function iO(e,t,n,r,i,s,o,a){o=o||0;const l=t,c=n;let d;(i=i===void 0?-1:i)===-1&&(o=0);for(let u=0;u<r;u++){const h=a[u];let g=0,p=0,m=0;const _=t[h],y=n[h];for(let f=0;f<r;f++){const x=a[f];let v=0;if(x!==h){let w=0;const b=e[h][x]*s,S=1/(b*b);h!==i&&x!==i||(w=S);const k=(1-o)*S+o*w;if(g+=k,S!==0){const C=t[x],A=n[x],N=_-C,R=y-A,B=N*N+R*R;B>1e-6&&(v=1/Math.sqrt(B)),p+=k*(C+b*(_-C)*v),m+=k*(A+b*(y-A)*v)}}}d=g,d!==0&&(l[h]=p/d,c[h]=m/d)}return{x:l,y:c}}function Dx(e=(i,s)=>i-s,t=[],n={},r=i=>i){let i=t.length;function s(a){for(;;){const l=2*a+1,c=l+1;let d=a;if(l<i&&e(t[l],t[d])<0&&(d=l),c<i&&e(t[c],t[d])<0&&(d=c),d===a)return a;const u=t[d];t[d]=t[a],t[a]=u,n[r(t[d])]=d,n[r(u)]=a,a=d}}return{get keys(){return n},get size(){return i},heapify:s,pop(){if(i<=0)return;if(i===1)return i--,t[0];const a=t[0];return t[0]=t[i-1],i--,s(0),a},decreaseKey(a,l){for(l!==void 0&&(t[a]=l,n[r(l)]=a);a>0;){const c=a-1>>1;if(!(e(t[c],t[a])>0))break;{const d=t[a];t[a]=t[c],t[c]=d,n[r(t[a])]=a,n[r(d)]=c,a=c}}return a},min:()=>t[0],remove(a){return this.decreaseKey(a,Number.NEGATIVE_INFINITY),this.pop()},push(a){i++;let l=i-1;for(t[l]=a;l>0;){const c=l-1>>1;if(!(e(t[c],t[l])>0))break;{const d=t[l];t[l]=t[c],t[c]=d,n[r(t[l])]=l,n[r(d)]=c,l=c}}return l},empty:()=>i<=0,toArray:()=>t.slice(0,i)}}function zx({sources:e,targets:t,weights:n,source:r,target:i,undirected:s=!1,indexes:o,N:a}){if(!(a=o?o.length:a)||!isFinite(a)||a===0)throw new Error("Invalid number of nodes "+a);const l=new Float32Array(a),c=new Int32Array(a),d={},u=Number.POSITIVE_INFINITY;if(!n){n=[];for(let m=0;m<a;m++)n[m]=1}if(!o){o=new Uint32Array(a);for(let m=0;m<a;m++)o[m]=m+1}for(let m=0;m<a;m++)l[m]=u,c[m]=-1,d[o[m]]=m;l[d[r]]=0;let h=!1;for(let m=1;m<=a;m++){for(let _=0;_<n.length;_++){const y=e[_],f=t[_],x=d[y],v=d[f];if(x!==void 0&&v!==void 0){const w=n[_];let b=l[x]+w;l[x]!==u&&b<l[v]&&(l[v]=b,c[v]=y,h=!0),s&&(b=l[v]+w,l[v]!==u&&b<l[x]&&(l[x]=b,c[x]=f,h=!0))}}if(!h)break}if(h)for(let m=0;m<n.length;m++){const _=e[m],y=t[m],f=d[_],x=d[y];if(f!==void 0&&x!==void 0){const v=n[m];if(l[f]+v<l[x])return null}}let g=null,p=null;if(i!==void 0){const m=d[i];if(m!==void 0&&l[m]!==u){g=[];for(let _=i;_!==-1;_=c[d[_]])g.push(_);g=g.reverse(),p=l[m]}}return{distances:l,path:g,pathLength:p}}function Ox(e,t,n,r,i,s,o){r=r||e.map((_,y)=>y+1);const a=r.length,l=new Float32Array(a),c=new Int32Array(a),d=new Uint32Array(a),u=Number.POSITIVE_INFINITY,h={};if(a===0)return{distances:l,path:null,pathLength:null};if(!i){i={};for(let _=0;_<a;_++)i[r[_]]=_}for(let _=0;_<a;_++)l[_]=u,c[_]=-1,d[_]=h[_]=_;const g=Dx((_,y)=>l[_]-l[y],d,h);for(l[i[t]]=0,g.decreaseKey(h[i[t]]);g.size!==0;){const _=g.pop(),y=l[_],f=e[_];if(y===u)break;for(let x=0,v=f.nodes.length;x<v;x++){const w=f.nodes[x],b=s?1:o?o(r[_],w):f.weights?f.weights[x]:1,S=i[w];if(S===void 0)continue;const k=y+b;k<l[S]&&(l[S]=k,c[S]=_,g.decreaseKey(h[S]))}}let p=null,m=null;if(n!==void 0){const _=i[n];if(l[_]!==u){p=[];for(let y=_;y!==-1;y=c[y])p.push(r[y]);p.reverse(),m=l[n]}}return{distances:l,path:p,pathLength:m}}function o_({sources:e,targets:t,weights:n,indexes:r,adjacency:i,undirected:s,ignoreWeights:o}){const a=Number.POSITIVE_INFINITY,l=r?r.length:i.length;if(!r){r=new Uint32Array(l);for(let m=0;m<l;m++)r[m]=m+1}const c=new Array(l),d={};for(let m=0;m<l;m++){c[m]=new Float32Array(l);for(let _=0;_<l;_++)c[m][_]=m===_?0:a;d[r[m]]=m}const u=l,h=n.length;e=e.slice(),t=t.slice(),n=n.slice();for(let m=0;m<l;m++)e[h+m]=u,t[h+m]=r[m],n[h+m]=0,o&&(n[m]=1);const g=zx({sources:e,targets:t,weights:n,undirected:s,N:l+1,source:u});if(g===null)throw new Error("Graph has negative weight loops");const p=g.distances;for(let m=0;m<n.length;m++){const _=d[e[m]],y=d[t[m]];_!==void 0&&y!==void 0&&(n[m]=n[m]+p[_]-p[y])}e=e.slice(0,h),t=t.slice(0,h),n=n.slice(0,h);for(let m=0;m<l;m++){const _=r[m],{distances:y}=Ox(i,_,void 0,r,d,!!o);for(let f=0;f<l;f++)c[m][f]=m===f?0:y[f]}return c}qd(r_,{CyclesFinder:()=>SN,Quadtree:()=>yN,bellmanFord:()=>zx,betweenness:()=>AN,circlePack:()=>hN,circleSpread:()=>lB,constrainedStress:()=>i_,convexhull:()=>oB,detectCyclesDirected:()=>wN,detectCyclesUndirected:()=>XB,detectCyclesUndirectedDFS:()=>YB,dijkstra:()=>Ox,distanceStress:()=>mL,johnson:()=>o_,kruskal:()=>kN,largestEmptyCircle:()=>aN,minDisk:()=>Zp,minHeap:()=>Dx,removeRadialOverlap:()=>k_,stressMinimizationStep:()=>s_,stressMinimizationStepGeneral:()=>iO,weightedStress:()=>pL});var ds=11102230246251565e-32,Kn=134217729,sO=(3+8*ds)*ds;function lf(e,t,n,r,i){let s,o,a,l,c=t[0],d=r[0],u=0,h=0;d>c==d>-c?(s=c,c=t[++u]):(s=d,d=r[++h]);let g=0;if(u<e&&h<n)for(d>c==d>-c?(o=c+s,a=s-(o-c),c=t[++u]):(o=d+s,a=s-(o-d),d=r[++h]),s=o,a!==0&&(i[g++]=a);u<e&&h<n;)d>c==d>-c?(o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u]):(o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h]),s=o,a!==0&&(i[g++]=a);for(;u<e;)o=s+c,l=o-s,a=s-(o-l)+(c-l),c=t[++u],s=o,a!==0&&(i[g++]=a);for(;h<n;)o=s+d,l=o-s,a=s-(o-l)+(d-l),d=r[++h],s=o,a!==0&&(i[g++]=a);return s===0&&g!==0||(i[g++]=s),g}function oO(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Zd(e){return new Float64Array(e)}var aO=(3+16*ds)*ds,lO=(2+12*ds)*ds,cO=(9+64*ds)*ds*ds,wa=Zd(4),AE=Zd(8),CE=Zd(12),TE=Zd(16),cr=Zd(4);function dO(e,t,n,r,i,s,o){let a,l,c,d,u,h,g,p,m,_,y,f,x,v,w,b,S,k;const C=e-i,A=n-i,N=t-s,R=r-s;v=C*R,h=Kn*C,g=h-(h-C),p=C-g,h=Kn*R,m=h-(h-R),_=R-m,w=p*_-(v-g*m-p*m-g*_),b=N*A,h=Kn*N,g=h-(h-N),p=N-g,h=Kn*A,m=h-(h-A),_=A-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,wa[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,wa[1]=x-(y+u)+(u-b),k=f+y,u=k-f,wa[2]=f-(k-u)+(y-u),wa[3]=k;let B=oO(4,wa),W=lO*o;if(B>=W||-B>=W||(u=e-C,a=e-(C+u)+(u-i),u=n-A,c=n-(A+u)+(u-i),u=t-N,l=t-(N+u)+(u-s),u=r-R,d=r-(R+u)+(u-s),a===0&&l===0&&c===0&&d===0)||(W=cO*o+sO*Math.abs(B),B+=C*d+R*a-(N*c+A*l),B>=W||-B>=W))return B;v=a*R,h=Kn*a,g=h-(h-a),p=a-g,h=Kn*R,m=h-(h-R),_=R-m,w=p*_-(v-g*m-p*m-g*_),b=l*A,h=Kn*l,g=h-(h-l),p=l-g,h=Kn*A,m=h-(h-A),_=A-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),k=f+y,u=k-f,cr[2]=f-(k-u)+(y-u),cr[3]=k;const F=lf(4,wa,4,cr,AE);v=C*d,h=Kn*C,g=h-(h-C),p=C-g,h=Kn*d,m=h-(h-d),_=d-m,w=p*_-(v-g*m-p*m-g*_),b=N*c,h=Kn*N,g=h-(h-N),p=N-g,h=Kn*c,m=h-(h-c),_=c-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),k=f+y,u=k-f,cr[2]=f-(k-u)+(y-u),cr[3]=k;const T=lf(F,AE,4,cr,CE);v=a*d,h=Kn*a,g=h-(h-a),p=a-g,h=Kn*d,m=h-(h-d),_=d-m,w=p*_-(v-g*m-p*m-g*_),b=l*c,h=Kn*l,g=h-(h-l),p=l-g,h=Kn*c,m=h-(h-c),_=c-m,S=p*_-(b-g*m-p*m-g*_),y=w-S,u=w-y,cr[0]=w-(y+u)+(u-S),f=v+y,u=f-v,x=v-(f-u)+(y-u),y=x-b,u=x-y,cr[1]=x-(y+u)+(u-b),k=f+y,u=k-f,cr[2]=f-(k-u)+(y-u),cr[3]=k;const H=lf(T,CE,4,cr,TE);return TE[H-1]}function Au(e,t,n,r,i,s){const o=(t-s)*(n-i),a=(e-i)*(r-s),l=o-a,c=Math.abs(o+a);return Math.abs(l)>=aO*c?l:-dO(e,t,n,r,i,s,c)}var LE=Math.pow(2,-52),Cu=new Uint32Array(512),Bx=class{static from(e,t=mO,n=fO){const r=e.length,i=new Float64Array(2*r);for(let s=0;s<r;s++){const o=e[s];i[2*s]=t(o),i[2*s+1]=n(o)}return new Bx(i)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:r,_hullHash:i}=this,s=e.length>>1;let o=1/0,a=1/0,l=-1/0,c=-1/0;for(let C=0;C<s;C++){const A=e[2*C],N=e[2*C+1];A<o&&(o=A),N<a&&(a=N),A>l&&(l=A),N>c&&(c=N),this._ids[C]=C}const d=(o+l)/2,u=(a+c)/2;let h,g,p,m=1/0;for(let C=0;C<s;C++){const A=cf(d,u,e[2*C],e[2*C+1]);A<m&&(h=C,m=A)}const _=e[2*h],y=e[2*h+1];m=1/0;for(let C=0;C<s;C++){if(C===h)continue;const A=cf(_,y,e[2*C],e[2*C+1]);A<m&&A>0&&(g=C,m=A)}let f=e[2*g],x=e[2*g+1],v=1/0;for(let C=0;C<s;C++){if(C===h||C===g)continue;const A=gO(_,y,f,x,e[2*C],e[2*C+1]);A<v&&(p=C,v=A)}let w=e[2*p],b=e[2*p+1];if(v===1/0){for(let N=0;N<s;N++)this._dists[N]=e[2*N]-e[0]||e[2*N+1]-e[1];Ha(this._ids,this._dists,0,s-1);const C=new Uint32Array(s);let A=0;for(let N=0,R=-1/0;N<s;N++){const B=this._ids[N];this._dists[B]>R&&(C[A++]=B,R=this._dists[B])}return this.hull=C.subarray(0,A),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Au(_,y,f,x,w,b)<0){const C=g,A=f,N=x;g=p,f=w,x=b,p=C,w=A,b=N}const S=pO(_,y,f,x,w,b);this._cx=S.x,this._cy=S.y;for(let C=0;C<s;C++)this._dists[C]=cf(e[2*C],e[2*C+1],S.x,S.y);Ha(this._ids,this._dists,0,s-1),this._hullStart=h;let k=3;n[h]=t[p]=g,n[g]=t[h]=p,n[p]=t[g]=h,r[h]=0,r[g]=1,r[p]=2,i.fill(-1),i[this._hashKey(_,y)]=h,i[this._hashKey(f,x)]=g,i[this._hashKey(w,b)]=p,this.trianglesLen=0,this._addTriangle(h,g,p,-1,-1,-1);for(let C,A,N=0;N<this._ids.length;N++){const R=this._ids[N],B=e[2*R],W=e[2*R+1];if(N>0&&Math.abs(B-C)<=LE&&Math.abs(W-A)<=LE||(C=B,A=W,R===h||R===g||R===p))continue;let F=0;for(let te=0,J=this._hashKey(B,W);te<this._hashSize&&(F=i[(J+te)%this._hashSize],F===-1||F===n[F]);te++);F=t[F];let T,H=F;for(;T=n[H],Au(B,W,e[2*H],e[2*H+1],e[2*T],e[2*T+1])>=0;)if(H=T,H===F){H=-1;break}if(H===-1)continue;let G=this._addTriangle(H,R,n[H],-1,-1,r[H]);r[R]=this._legalize(G+2),r[H]=G,k++;let q=n[H];for(;T=n[q],Au(B,W,e[2*q],e[2*q+1],e[2*T],e[2*T+1])<0;)G=this._addTriangle(q,R,T,r[R],-1,r[q]),r[R]=this._legalize(G+2),n[q]=q,k--,q=T;if(H===F)for(;T=t[H],Au(B,W,e[2*T],e[2*T+1],e[2*H],e[2*H+1])<0;)G=this._addTriangle(T,R,H,-1,r[H],r[T]),this._legalize(G+2),r[T]=G,n[H]=H,k--,H=T;this._hullStart=t[R]=H,n[H]=t[q]=R,n[R]=q,i[this._hashKey(B,W)]=R,i[this._hashKey(e[2*H],e[2*H+1])]=H}this.hull=new Uint32Array(k);for(let C=0,A=this._hullStart;C<k;C++)this.hull[C]=A,A=n[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(uO(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:r}=this;let i=0,s=0;for(;;){const o=n[e],a=e-e%3;if(s=a+(e+2)%3,o===-1){if(i===0)break;e=Cu[--i];continue}const l=o-o%3,c=a+(e+1)%3,d=l+(o+2)%3,u=t[s],h=t[e],g=t[c],p=t[d];if(hO(r[2*u],r[2*u+1],r[2*h],r[2*h+1],r[2*g],r[2*g+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=u;const m=n[d];if(m===-1){let y=this._hullStart;do{if(this._hullTri[y]===d){this._hullTri[y]=e;break}y=this._hullPrev[y]}while(y!==this._hullStart)}this._link(e,m),this._link(o,n[s]),this._link(s,d);const _=l+(o+1)%3;i<Cu.length&&(Cu[i++]=_)}else{if(i===0)break;e=Cu[--i]}}return s}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,r,i,s){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,s),this.trianglesLen+=3,o}};function uO(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function cf(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function hO(e,t,n,r,i,s,o,a){const l=e-o,c=t-a,d=n-o,u=r-a,h=i-o,g=s-a,p=d*d+u*u,m=h*h+g*g;return l*(u*m-p*g)-c*(d*m-p*h)+(l*l+c*c)*(d*g-u*h)<0}function gO(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l),g=(c*d-a*u)*h,p=(o*u-l*d)*h;return g*g+p*p}function pO(e,t,n,r,i,s){const o=n-e,a=r-t,l=i-e,c=s-t,d=o*o+a*a,u=l*l+c*c,h=.5/(o*c-a*l);return{x:e+(c*d-a*u)*h,y:t+(o*u-l*d)*h}}function Ha(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const s=e[i],o=t[s];let a=i-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=s}else{let i=n+1,s=r;Hl(e,n+r>>1,i),t[e[n]]>t[e[r]]&&Hl(e,n,r),t[e[i]]>t[e[r]]&&Hl(e,i,r),t[e[n]]>t[e[i]]&&Hl(e,n,i);const o=e[i],a=t[o];for(;;){do i++;while(t[e[i]]<a);do s--;while(t[e[s]]>a);if(s<i)break;Hl(e,i,s)}e[n+1]=e[s],e[s]=o,r-i+1>=s-n?(Ha(e,t,i,r),Ha(e,t,n,s-1)):(Ha(e,t,n,s-1),Ha(e,t,i,r))}}function Hl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mO(e){return e[0]}function fO(e){return e[1]}var a_={};qd(a_,{BUTTON_MAPPING:()=>Hx,BoundingBox:()=>Nn,DummyCanvas:()=>UL,DummyCanvasRenderingContext2D:()=>$L,DummyDomElement:()=>NL,DummyFileReader:()=>Ph,DummyTextNode:()=>qx,DummyXHR:()=>Ng,ElementSet:()=>Kd,EventTarget:()=>Jd,FlexArray:()=>Rg,IndexList:()=>ZL,Map2:()=>QL,PathMap:()=>KL,PrioritySet:()=>oN,SVG_NS:()=>Vx,Table:()=>E_,XLINK:()=>PL,XML_NS:()=>p_,applyCursorStyle:()=>Pg,baseURI:()=>BL,binaryIndexOf:()=>yL,cancelAnimFrame:()=>fL,clamp:()=>Wr,clearCanvas:()=>y_,componentsToRGBA:()=>nN,computeMax:()=>Xa,computeMin:()=>as,computeSum:()=>YL,concatenateArrays:()=>bO,createBlob:()=>vd,createCanvas:()=>Dn,createDummyDomElement:()=>Ig,createDummyXmlDocument:()=>iN,createElement:()=>m_,createSvgElement:()=>Ot,createTextNode:()=>Gx,createWorker:()=>tN,createXmlDocument:()=>sN,dataUrlToBlob:()=>IL,debounce:()=>SO,deepCopy:()=>cn,displayPixelsOnScreen:()=>ZO,ensureTransferable:()=>Wp,escapeDOMAttribute:()=>Wa,extendList:()=>CO,fadeElement:()=>jL,fetch:()=>Qd,fetchBinary:()=>zL,fetchBinaryAsBase64:()=>OL,flatten:()=>_d,flattenArray:()=>_L,forEach:()=>Xi,formatAngle:()=>Fg,formatHex:()=>Fh,formatWorkerMessage:()=>eN,getBaseLog:()=>qL,getCurrentTime:()=>rr,getDate:()=>AL,getDocument:()=>ys,getDocumentFontRules:()=>HL,getEmbeddedFontRules:()=>WL,getFlattenedKeys:()=>la,getGlContext:()=>GL,getImage:()=>FL,getLeafValues:()=>Hp,getOptions:()=>Zr,getPixelRatio:()=>Fr,getProperty:()=>an,getStyle:()=>LL,getTime:()=>CL,getValues:()=>zc,getWebglContext:()=>Wx,hash8:()=>c_,indexArrayToArray:()=>fd,indexByName:()=>TO,insertSortAsc:()=>dc,insertSortDesc:()=>vO,isArray:()=>Rn,isBlob:()=>MO,isHTMLElement:()=>DL,isInteger:()=>EO,isLittleEndian:()=>Gp,isObject:()=>bn,isRawObject:()=>aa,isWebGLSupported:()=>VL,lerp:()=>zt,mapKeys:()=>Yp,mapValues:()=>go,merge:()=>Vr,mergeValues:()=>Lg,mix:()=>x_,nextPowerOfTwo:()=>Gs,objToValueList:()=>qp,parseColor:()=>yr,parseColorHex:()=>Yx,parseColorRgba:()=>Xx,pick:()=>u_,processQueue:()=>kO,promiseQueue:()=>vL,promptDownload:()=>wo,propertyPathToString:()=>l_,removeFromArray:()=>wO,requestAnimFrame:()=>jx,resizeElement:()=>Mg,resolvePath:()=>XL,rgbaToRgb:()=>La,serializeXMLDocument:()=>Zx,setAttributes:()=>$x,setCtxFont:()=>ho,setElementSize:()=>da,setKeys:()=>UO,setProperty:()=>Zi,setValues:()=>gc,smartRequire:()=>gi,throttle:()=>Vp,toArray:()=>Tg,toHexa:()=>w_,toPropertyPath:()=>oa,traverse:()=>wL,unflatten:()=>d_,unorderedHash:()=>AO,workerIsAvailable:()=>JL});var _O=(()=>{let e=0;return typeof requestAnimationFrame<"u"?requestAnimationFrame:function(t){const n=Date.now(),r=Math.min(16,Math.max(0,16-(n-e))),i=e=n+r;return setTimeout(()=>t(i),r)}})(),yO=typeof cancelAnimationFrame<"u"?cancelAnimationFrame:function(e){return clearTimeout(e)};function jx(e,t){return _O(n=>{e.call(t,n)})}function fL(e){e&&yO(e)}var xO=typeof global=="object"&&global!==null&&global.it!==void 0,_s=typeof document<"u",sa=typeof window<"u",Up=sa&&!window.__OGMA_HEADLESS,$p=Up&&_s;function dc(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])>t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function vO(e,t){for(let n=1,r=e.length;n<r;n++){const i=e[n];let s=n;for(;s>0&&t.get(e[s-1])<t.get(i);)e[s]=e[s-1],--s;e[s]=i}return e}function Rn(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Tg(e){return Array.isArray(e)?e:[e]}function _L(e){const t=[];for(let n=0;n<e.length;++n){const r=e[n];if(Array.isArray(r))for(let i=0;i<r.length;++i)t.push(r[i]);else t.push(r)}return t}function bO(...e){if(e.length===0)return[];const t=e[0].constructor;let n=0;for(const s of e)n+=s.length;const r=new t(n);let i=0;for(const s of e){for(let o=0;o<s.length;o++)r[i+o]=s[o];i+=s.length}return r}function wO(e,t){const n=e.indexOf(t);return n!==-1&&(e.splice(n,1),!0)}function yL(e,t){let n,r,i=0,s=e.length-1;for(;i<=s;)if(n=(i+s)/2|0,r=e[n],r<t)i=n+1;else{if(!(r>t))return n;s=n-1}return-1}var fd=(e,t)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return n};function EO(e){return typeof e=="number"&&e%1==0}function l_(e){return Array.isArray(e)?e.join("."):e}function oa(e){if(!e)return[];if(typeof e=="string")return e.split(".");if(Array.isArray(e)){for(let t=0;t<e.length;++t)if(typeof e[t]!="string")throw new TypeError(`${e[t]} is not a string`);return e.slice()}throw new TypeError(`invalid property path "${e}": expected string or array of strings`)}function Vp(e,t,n){let r,i,s;if(t===0)return function(){e.apply(n,arguments)};const o=function(){r=!1,i&&(s.apply(n,i),i=null)};return s=function(){let a;return r?i=arguments:(a=e.apply(n,arguments),setTimeout(o,t),r=!0),a},s}function SO(e,t,n){let r,i,s,o,a;const l=t===0||t===void 0?100:t;function c(){const u=Date.now()-o;u<l&&u>=0?r=setTimeout(c,l-u):(r=null,n||(a=e.apply(s,i),s=i=null))}const d=function(){s=this,i=arguments,o=Date.now();const u=n&&!r;return r||(r=setTimeout(c,t)),u&&(a=e.apply(s,i),s=i=null),a};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(a=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},d}function xL(e,t,n,r,i){n(e[t],t,e,r,i).then(s=>{t===e.length-1?r(s):xL(e,t+1,n,r,i)}).catch(i)}function kO(e,t){return new Promise((n,r)=>xL(e,0,t,n,r))}function Gp(){return new Uint8Array(new Uint32Array([305419896]).buffer)[0]===120}function vL(e){return e.reduce((t,n)=>t.then(n),Promise.resolve())}function c_(e,t,n,r,i,s,o,a){return e+i+256*(t+s)+65536*(n+o)+16777216*(r+a)}function AO(e,t){return e<t?e*t+Math.pow(t-e-1,2)/4:e*t+Math.pow(e-t-1,2)/4}function aa(e){return!(e===null||typeof e!="object"||Rn(e)||e instanceof RegExp||typeof HTMLElement<"u"&&e instanceof HTMLElement)}function zc(e){const t=Object.keys(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=e[t[r]];return n}function Xi(e,t,n){if(Array.isArray(e))return e.forEach(t,n);if(!aa(e))throw new Error("forEach: invalid argument "+JSON.stringify(e));const r=Object.keys(e);if(n!==void 0)for(let i=0;i<r.length;++i){const s=r[i];t.call(n,e[s],s)}else for(let i=0;i<r.length;++i){const s=r[i];t(e[s],s)}}function cn(e){if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;++i)r[i]=cn(e[i]);return r}if(!bn(e))return e;const t={},n=Object.keys(e);for(const r of n)t[r]=cn(e[r]);return t}function CO(e,t){t.forEach(n=>{e.indexOf(n)===-1&&e.push(n)})}function Zi(e,t,n){const r=typeof t=="string"?t.split("."):t;for(let i=0;i<r.length-1;++i){const s=r[i];let o=e[s];o||(o={},e[s]=o),e=o}e[r[r.length-1]]=n}function an(e,t){const n=oa(t);if(!n.length)return e;if(e){for(let r=0;r<n.length-1;++r){const i=e[n[r]];if(!i)return;e=i}return e[n[n.length-1]]}}function _d(e,t,n="."){t||(t=s=>!aa(s));const r={},i=Object.keys(e);for(let s=0;s<i.length;++s){const o=i[s],a=e[o];if(t(a))r[o]=a;else{const l=_d(a,t),c=Object.keys(l);for(let d=0;d<c.length;d++){const u=c[d];r[`${o}${n}${u}`]=l[u]}}}return r}function d_(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;++r){const i=n[r];Zi(t,i,e[i])}return t}function la(e,t,n=[]){const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=e[s],a=t?t+s:s;bn(o)?la(o,a+".",n):n.push(a)}return n}var bL=Object.prototype.hasOwnProperty;function wL(e,t){const n=[e];let r;for(;n.length>0;)if(r=n.pop(),r)if(bn(r))for(const i in r)bL.call(r,i)&&n.push(r[i]);else t(r)}function TO(e){const t={};return wL(e,n=>t[n.getName()]=n),t}function Hp(e,t=[]){if(bn(e)){const n=Object.keys(e);for(const r of n)Hp(e[r],t)}else t.push(e);return t}function Wp(e){for(const t in e)typeof e[t]=="function"&&delete e[t];return e}function Zr(e,t){if(e===void 0)return cn(t);if(!aa(e))return e;const n={},r=Object.keys(t);for(const i of r){const s=t[i],o=e[i];aa(s)?n[i]=Zr(o,s):n[i]=o===void 0?cn(s):o}return n}function bn(e){return e&&(e.constructor===Object||!e.constructor)}function Lg(e,t){if(!bn(t)||!bn(e))return t;const n=Object.assign({},e),r=Object.keys(t);for(const i of r)n[i]=Lg(n[i],t[i]);return n}function u_(e,t){return t==null?e:t.reduce((n,r)=>(n[r]=e[r],n),{})}var Vr=(...e)=>{const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)bL.call(r,i)&&(Array.isArray(t[i])&&Array.isArray(r[i])?t[i]=Array.from(new Set(t[i].concat(r[i]))):bn(t[i])&&bn(r[i])?t[i]=Vr(t[i],r[i]):t[i]=r[i])}return t},LO={},EL=LO,h_={},SL={},g_=e=>null;if(typeof global=="object"&&(h_=global),typeof window=="object"&&(SL=window),typeof Ma=="object"&&typeof Ma.require=="function"){const e=Ma.require.bind(Ma);g_=t=>{try{return e(t)}catch{return null}}}else typeof h_.require=="function"&&(g_=e=>{const t=Ma.require;try{return t(e)}catch{return null}});function gi(e,{throwOnError:t}={}){let n=null;if(!n&&e&&(n=EL[e]),!n&&e&&(n=g_(e)),!n&&e&&(n=SL[e]),!n&&e&&(n=h_[e]),!n&&t){const r=[`unable to find module "${e}"; make sure one of these statements is true:`,`- Ogma.libraries['${e}'] is set to the right library`,`- require('${e}') returns the right library`,`- window['${e}'] is set to the right library`].join(`
`);throw new Error(r)}return n}var kL=typeof performance<"u"&&performance.now?()=>0|performance.now():()=>Date.now(),NO=kL();function rr(){return kL()-NO}function AL(){const e=new Date,t=e.getDate(),n=e.getMonth()+1;return`${e.getFullYear()}-${n<10?"0"+n:n}-${t<10?"0"+t:t}`}function CL(){const e=new Date;return`[${Tu((e.getUTCHours()-(e.getTimezoneOffset()/60|0))%24)}:${Tu(e.getUTCMinutes())}:${Tu(e.getUTCSeconds())}:${Tu(e.getUTCMilliseconds(),3)}]`}function Tu(e,t=2){let n=Math.pow(10,t-1),r=String(e);for(;n>1;)e<n&&(r="0"+r),n/=10;return r}function ao(e){!xO&&console.warn(CL()+" "+e)}function IO(e,t){t.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})})}var df,ca,Ux,TL,ft=()=>{},yd=()=>!1,Xp=()=>!0,xd=()=>null,Ni=e=>e,uc=class{constructor(){this.method=null,this.url=null,this.status=0,this.readyState=0,this.headers={},this.responseText=null,this.response=null,uc.onCreate&&uc.onCreate(this)}open(e,t){this.method=e,this.url=t,uc.onSend&&uc.onSend(this)}respond(e,t,n){this.readyState=4,this.status=e,this.headers=t,this.responseText=n,this.response=n,this.onreadystatechange()}send(){this.readyState=4}},Ng=uc;Ng.onCreate=ft,Ng.onSend=ft;var hc=class{constructor(){this.onload=ft,hc.onCreate&&hc.onCreate(this)}readAsDataURL(e){this._blob=e,hc.onRead&&hc.onRead(this)}load(e){this.result=typeof e=="function"?e(this._blob):e,this.onload&&this.onload()}},Ph=hc;function ys(){return ca||{createElementNS:()=>null,createElement:()=>null,implementation:{createDocument(){throw new Error('unable to create XML document; if you use Node JS install the "xmldom" package')}}}}function LL(e,t){if(document&&document.defaultView){let n=e.style[t];if((!n||n==="auto")&&ys().defaultView){const r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return n==="auto"?null:n?n.toString():null}return null}Ph.onCreate=ft,Ph.onRead=ft,df=gi("xmldom"),ca=_s?document:df?new df.DOMImplementation().createDocument():null,Ux=typeof XMLHttpRequest<"u"?XMLHttpRequest:Ng,TL=typeof FileReader<"u"?FileReader:Ph;var NL=class{constructor(){this.onmousewheel=ft,this.__dummy=!0,this.style={},this.clientWidth=0,this.clientHeight=0,this.childNodes=[],this.style={width:"0px",height:"0px",top:void 0,left:void 0,position:"",backgroundColor:void 0}}get offsetWidth(){return parseFloat(this.style.width||"0")}get offsetHeight(){return parseFloat(this.style.height||"0")}get firstChild(){return null}get parentNode(){return null}get classList(){return{length:0,value:"",add(){},remove(){},contains:e=>!1,item:null}}get innerHTML(){return""}set innerHTML(e){}appendChild(e){return this.childNodes.push(e),e}removeChild(){}addEventListener(){}removeEventListener(){}insertBefore(){}contains(e){return!1}};function Ig(){return new NL}var Fr=sa?()=>window.devicePixelRatio:()=>1;function IL(e){const t=";base64,";let n,r,i;if(e.indexOf(t)===-1)return n=e.split(","),r=n[0].split(":")[1],i=decodeURIComponent(n[1]),vd(i,r);n=e.split(t),r=n[0].split(":")[1],i=window.atob(n[1]);const s=i.length,o=new Uint8Array(s);for(let a=0;a<s;++a)o[a]=i.charCodeAt(a);return vd([o],r)}var ML=class{constructor(e,t){this.data=e,this.type=t}};function vd(e,t){return typeof Blob<"u"?new Blob(e,{type:t}):new ML(e,t)}function MO(e){return typeof Blob<"u"&&e instanceof Blob||e instanceof ML}function PO(e,t){return t==="blob"?e:t==="dataURL"?IL(e):vd([e],"text/xml")}function wo(e,t,n){if(!Up)return e;let r=null,i=null,s=null;window.Blob?(r=PO(e,n),i=window.URL.createObjectURL(r)):s="data:text/xml;charset=UTF-8,"+encodeURIComponent('<?xml version="1.0" encoding="UTF-8"?>')+encodeURIComponent(e);const o=document.createElement("a");return o.setAttribute("href",i||s),o.setAttribute("download",t),document.body.appendChild(o),o.click(),document.body.removeChild(o),i&&setTimeout(()=>window.URL.revokeObjectURL(i),0),e}function Mg(e,t,n,r=Fr()){if(da(e,t+"px",n+"px"),e.tagName==="IMG"||e.tagName==="CANVAS"){const i=e;i.width=t*r,i.height=n*r}}function $x(e,t){Xi(t,(n,r)=>{n!==void 0&&e.setAttribute(r,n)})}var Vx="http://www.w3.org/2000/svg",p_="http://www.w3.org/2000/xmlns/",PL="http://www.w3.org/1999/xlink",FO=1;function Ot(e,t){const n=ca.createElementNS(Vx,e);return n.style||(n.style={}),t&&$x(n,t),n}function m_(e){const t=ca.createElement("div"),n=e.trim().replace(/\s+/g," ");if(t.innerHTML=n,!t.firstChild||t.firstChild.nodeType!==FO)throw new Error(`Failed to create element from: "${e}". Expected an HTML string`);return t.firstChild}function Gx(e){if(ca)return ca.createTextNode(e)}function FL(e){return typeof Image>"u"?Promise.resolve(null):new Promise(t=>{const n=new Image;n.src=e,n.onload=()=>t(n),n.onerror=()=>t(null)})}function RL(e){if(e.indexOf("http://")===0||e.indexOf("https://")===0)return e;const t=window.location.origin,n=window.location.pathname,r=n.lastIndexOf("/");return r===-1?t+"/"+e:t+n.substr(0,r)+"/"+e}function Qd(e){return new Promise((t,n)=>{const r=new Ux;r.open("GET",RL(e),!0),r.onreadystatechange=function(){if(r.readyState===4){const i=r.status;i===200?t(r.responseText):n(i!==0?new Error(`cannot retrieve file at url "${e}"; the server responded with status code ${i}.`):new Error(`cannot send XMLHttpRequest to url "${e}"; if you're using the local file protocol this is most likely the cause.`))}},r.onerror=function(){n(new Error(`cannot retrieve file at url "${e}"; the XMLHttpRequest failed.`))},r.send()})}function DL(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Pg(e,t){e.style.cursor=t,e.style.cursor!==t&&(e.style.cursor=`-webkit-${t}`)}function zL(e){return new Promise((t,n)=>{const r=new Ux;r.responseType="blob",r.open("GET",RL(e),!0),r.onreadystatechange=()=>{if(r.readyState===4){if(r.status===200)return t(r.response);n(r.status)}},r.onerror=i=>n(i),r.send()})}function OL(e){return zL(e).then(t=>new Promise((n,r)=>{const i=new TL;i.onerror=r,i.onload=()=>n(i.result),i.readAsDataURL(t)}))}function Wa(e,t=!0){const n=t?"&#13;":`
`;return(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,n).replace(/[\r\n]/g,n)}var Hx={0:"left",1:"middle",2:"right"};function BL(e){if(e.baseURI)return e.baseURI;const t=e.getElementsByTagName("base");return t.length>0?t[0].href:e.URL||(e.location?e.location.href:"")}function jL(e,t,n,r){return new Promise(i=>{let s=t;const o=Date.now(),a=(n-t)*Math.min(1,1/(r/16));(function l(){Date.now()-o<r?(s=Math.min(1,Math.max(0,s+a)),e.style.opacity=s.toString(),jx(l)):i()})()})}function da(e,t,n){e.style.width=t,e.style.height=n}var f_=300,__=150,UL=class{constructor(){this.style={},this.width=f_,this.height=__,this.__context=new $L,this.style={},this.width=f_,this.height=__}get __dummy(){return!0}get parentNode(){return null}getContext(e){return e==="2d"?this.__context:null}toDataURL(e="png"){return`data:image/${e};base64,`}addEventListener(){}removeEventListener(){}getBoundingClientRect(){return{left:0,top:0,bottom:0,right:0,width:this.width,height:this.height}}},$L=class{constructor(){this._fontSize=10}set font(e){const t=e.match(/\d+/);t&&(this._fontSize=parseFloat(t[0]))}set fillStyle(e){}set textBaseline(e){}set textAlign(e){}set strokeStyle(e){}set lineWidth(e){}fill(){}stroke(){}clearRect(){}fillRect(){}strokeRect(){}beginPath(){}closePath(){}moveTo(){}lineTo(){}rect(){}arc(){}save(){}restore(){}clip(){}translate(){}rotate(){}fillText(){}setLineDash(){}quadraticCurveTo(){}bezierCurveTo(){}drawImage(){}measureText(e){return{width:e.length*Math.ceil(.625*this._fontSize)}}getImageData(){return{width:0,height:0,data:new Uint8ClampedArray(0)}}},Lu=gi("canvas")||gi("canvas-prebuilt");function Dn(e=f_,t=__){if(_s){const r=document.createElement("canvas");return r.width=e,r.height=t,r}if(Lu){let r=null;return r="createCanvas"in Lu?Lu.createCanvas(e,t):new Lu(e,t),r.style={},r}const n=new UL;return n.width=e,n.height=t,n}function y_(e,t,n=e.width,r=e.height){t.clearRect(0,0,n,r)}function ho(e,t,n,r=""){e.font=`${r} ${n}px ${t}`}function VL(){return Wx(Dn(),{},"webgl")!==null}var GL=(e,t,n)=>{const r=Dn();if(!r)return null;const i=r.getContext(e,t);return i?(r.addEventListener("webglcontextlost",n),{context:i,cleanUp:()=>r.removeEventListener("webglcontextlost",n)}):null};function Wx(e,t,n){let r=e.getContext(n,t);return r||(r=e.getContext("experimental-webgl",t)),r||null}function RO(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].cssText+`
`;return t}function HL(){const e=ys(),t=e.styleSheets||[],n=BL(e),r=[],i=[];for(let o=0;o<t.length;o++){const a=t[o];a.href==null?r.push({href:n,content:RO(a.cssRules)}):i.push(a.href)}const s=/@font-face\s*\{[^}]+\}/g;return Promise.all(i.map(o=>Qd(o).then(a=>({href:o,content:a})).catch(xd))).then(o=>o.concat(r)).then(o=>{const a=[];for(let l=0;l<o.length;l++){const c=o[l];if(c!==null){const{href:d,content:u}=c,h=u.match(s);if(h){const g=zO(h,d);a.push.apply(a,g)}}}return a})}function WL(e,t){return Promise.all(e.map(({formats:n,originalRule:r})=>Promise.all(n.map(({format:i,url:s})=>t?OL(s).then(o=>({format:i,src:o})).catch(xd):{format:i,src:s})).then(i=>{const s=[];for(const o of i)o!==null&&s.push(`url('${o.src}') format('${o.format}')`);if(s.length!==0){const o=`src: ${s.join(",")}`;return r.replace(/@font-face\s*{([^}]*);?}/,`@font-face{$1;${o}}`).replace(/\s+/," ").replace(/;+/,";")}return r})))}var DO={"embedded-opentype":!0,svg:!0};function zO(e,t){const n=/url\(['"]?([^'")]+)['"]?\)\s+format\(['"]?([^'")]+)['"]?\)/g,r=/font-family\s*:\s*['"]?([^;'"]+)['"]?;/,i=[];for(let s=0;s<e.length;s++){const o=e[s],a=o.match(r);if(a){const l=a[1],c=[];let d;for(;d=n.exec(o);){const u=d[1],h=d[2];DO[h.toLowerCase()]||c.push({format:h,url:XL(u,t)})}i.push({name:l,formats:c,originalRule:o})}}return i}function XL(e,t){if(/^http(s)?:/.test(e))return e;if(e[0]==="/"){const i=t.match(/((\w+:\/\/)([^/]+))/);return i?i[1]+e:e}const n=e.split("/"),r=t.split("/");for(t[t.length-1]!=="/"&&r.pop();n[0]==="..";)n.shift(),r.pop();return r.concat(n).join("/").replace(/[\w](\/{2,})/g,i=>i[0]+"/")}function Gs(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function YL(e){let t=0;for(let n=0;n<e.length;++n)t+=e[n];return t}function Wr(e,t,n){return Math.max(t,Math.min(n,e))}function x_(e,t,n){return e+(t-e)*n}function zt(e,t,n){return e*(1-n)+t*n}function Xa(e){if(!e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i>t&&(t=i)}return t}function as(e){if(!e.length)return 1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n){const i=e[n];i<t&&(t=i)}return t}var qL=(e,t)=>Math.log(e)/Math.log(t),Fg=e=>e<-Math.PI?e+2*Math.PI:e>Math.PI?e-2*Math.PI:e,NE=4,ZL=class{constructor(){this._buffer=new Uint32Array(NE),this._capacity=NE,this._size=0,this._busy=!1}isBusy(){return this._busy}markBusy(){return this._busy=!0,this}sliceAndReset(){this._busy=!1;const e=this.slice(0,this._size);return this.reset(),e}reset(){return this._size=0,this}reserve(e){return e>this._capacity&&this._setCapacity(Gs(e)),this}_setCapacity(e){const t=new Uint32Array(e);t.set(this._buffer),this._buffer=t,this._capacity=e}push(e){return this._size===this._capacity&&this._setCapacity(2*this._capacity),this._buffer[this._size++]=e,this}pushUnchecked(e){return this._buffer[this._size++]=e,this}slice(e=0,t=this._size){return this._buffer.slice(e,t)}getBuffer(){return this._buffer}getLength(){return this._size}getCapacity(){return this._capacity}setLength(e){return this._size=e,this}isEmpty(){return this._size===0}},IE=(e,t)=>(e+t)*(e+t+1)/2+t;function Wl(e,t){const n=e<t?e:t;return 67108864*n+(e+t-n)}function Yp(e){if(e.keys)return Array.from(e.keys());const t=[];return e.forEach((n,r)=>t.push(r)),t}function go(e){if(e.values)return Array.from(e.values());const t=[];return e.forEach(n=>t.push(n)),t}var QL=class{constructor(){this._map=new Map}reset(){this._map.clear()}set(e,t,n){this._map.set(IE(e,t),n)}get(e,t){return this._map.get(IE(e,t))}};function OO(e){return e instanceof RegExp||e instanceof Date}var BO=typeof HTMLElement>"u"?e=>!1:e=>e instanceof HTMLElement,jO=function(e){return typeof e!="object"||e===null||Rn(e)||OO(e)};function qp(e,t=[],n=[]){if(!BO(e)){if(jO(e))t.push({path:n.slice(),value:e});else{const r=Object.keys(e);for(let i=0;i<r.length;++i){const s=r[i],o=n.slice();o.push(s),qp(e[s],t,o)}}return t}}var KL=class{constructor(){this._keys=[],this._values=[],this._size=0,this._cachedPath=[],this._cachedIndex=-1}get size(){return this._size}set(e,t){const n=this._getIndex(e);n!==-1?this._values[n]=t:(uf(this._cachedPath,e)&&(this._cachedIndex=this._keys.length),this._keys.push(e),this._values.push(t),this._size+=1)}get(e){const t=this._getIndex(e);if(t!==-1)return this._values[t]}has(e){return this._getIndex(e)!==-1}keys(){return this._keys.slice()}_getIndex(e){if(uf(e,this._cachedPath))return this._cachedIndex;this._cachedPath=e.slice();const t=this._keys;for(let n=0;n<t.length;++n)if(uf(t[n],e))return this._cachedIndex=n,n;return this._cachedIndex=-1,-1}};function uf(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var UO=function(t){return Array.from(t.keys())},gc=function(t){return Array.from(t.values())},Cs=()=>(e,t)=>e[t],Ts=()=>(e,t,n)=>{e[t]=n},ME={1:hf(1),2:hf(2),4:hf(4),8:Cs(),16:Cs(),32:Cs(),int8:Cs(),int16:Cs(),int32:Cs(),float:Cs(),any:Cs()},PE={1:gf(1),2:gf(2),4:gf(4),8:Ts(),16:Ts(),32:Ts(),int8:Ts(),int16:Ts(),int32:Ts(),float:Ts(),any:Ts()};function hf(e){const t=8/e,n=(1<<e)-1;return(r,i)=>r[i/t|0]>>i%t*e&n}function gf(e){const t=8/e,n=Math.pow(2,e)-1;return(r,i,s)=>{const o=i%t*e,a=i/t|0,l=s<<o,c=255-(n-s<<o);r[a]=r[a]&c|l}}function $O(e,t){return e===void 0&&t!=="any"&&t!=="resource"?0:e}var VO={get(e){return this._getArrayElt(this._buffer,e)},set(e,t){this._setArrayElt(this._buffer,e,t)}},GO={get(e){return this._byIndex[this._getArrayElt(this._buffer,e)]},set(e,t){let n=this._byName[t];n===void 0&&(n=this._nextIndex++,this._byIndex.push(t),this._getElementBitSize()>this._elementSize&&this.increaseElementSize(),this._byName[t]=n),this._setArrayElt(this._buffer,e,n)}},HO=0,Rg=class{constructor(e){this._id=HO++,this._initialized=!1;const t=e.name,n=e.storage,r=e.size||0,i=$O(e.default,n),s=Math.max(8,FE(r+1)),o=n==="resource"?1:n;this._name=t,this._storage=n,this._getArrayElt=ME[o],this._setArrayElt=PE[o],this._elementSize=o,this._nbElements=s,this._fallback=null,this._byName=void 0,this._byIndex=void 0,this._nextIndex=void 0,this._defaultValue=i,this._BASE_VALUE=n==="any"?void 0:0,this._methods=VO,this._initialized=!1,this._buffer=null,n==="resource"&&(this._methods=GO,this._byName=Object.create(null),this._byIndex=[],this._nextIndex=1,this._byName[i]=0,this._byIndex.push(i))}getValues(){return Object.keys(this._byName||{})}getName(){return this._name||""}setDefaultValue(e){this._defaultValue=e,this._storage==="resource"&&(this._byName[e]=0,this._byIndex[0]=e)}get(e){return this._get(e)}set(e,t){this._set(e,t)}_get(e){return this._defaultValue}_set(e,t){t!==this._defaultValue&&(this._initialize(),this._set(e,t))}setFallback(e){this._fallback=e,this.get=this._getWithFallback}_getWithFallback(e){const t=this._get(e);return t===void 0&&this._fallback?this._fallback.get(e):t}_initialize(){this._initialized=!0,this._buffer=pf(this._nbElements,this._elementSize),this._get=this._methods.get,this._set=this._methods.set,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(0)}grow(e){const t=FE(e+1);if(!(t<=this._nbElements)){if(this._initialized)if(this._elementSize==="any")for(let n=this._nbElements;n<t;++n)this._buffer.push(this._defaultValue);else{const n=pf(t,this._elementSize);n.set(this._buffer),this._buffer=n,this._storage!=="resource"&&this._defaultValue!==this._BASE_VALUE&&this._reset(this._nbElements)}this._nbElements=t}}increaseElementSize(){const e=this._elementSize;if(typeof e!="number"||e===32)throw new Error("FlexArray: cannot increase element size");const t=2*e,n=ME[t],r=PE[t];if(this._initialized){const i=this._nbElements,s=this._getArrayElt,o=this._buffer,a=pf(i,t);if(e>=8)a.set(o);else for(let l=0;l<i;++l)r(a,l,s(o,l));this._buffer=a}this._elementSize=t,this._getArrayElt=n,this._setArrayElt=r}buffer(){if(!this._buffer)throw new Error("FlexArray: buffer not instantiated");return this._buffer}elementBitSize(){return this._elementSize}capacity(){return this._nbElements}byteSize(){return this._nbElements*this._elementSize/8}isInitialized(){return this._initialized||this._fallback&&this._fallback.isInitialized()}getMultiple(e,t){const n=e.length;t===void 0&&(t=new Array(n));for(let r=0,i=n;r<i;++r)t[r]=this.get(e[r]);return t}fill(e,t){for(let n=0,r=e.length;n<r;++n)this.set(e[n],t)}setMultiple(e,t,n){if(n||!Array.isArray(t)&&!ArrayBuffer.isView(t))for(let r=0,i=e.length;r<i;++r)this.set(e[r],t);else for(let r=0,i=e.length;r<i;++r)this.set(e[r],t[r])}reset(){return this._initialized&&this._reset(0),this}_reset(e){const t=this._storage==="resource"?0:this._defaultValue;if(this._buffer)if(typeof this._elementSize!="number"||this._elementSize>=8)this._buffer.fill(t,e);else{const n=8/this._elementSize;let r=0;for(let i=0;i<n;++i)r<<=this._elementSize,r+=t;if(e===void 0)this._buffer.fill(r);else{const i=e+(8-e%8);for(let s=e;s<i;++s)this._setArrayElt(this._buffer,s,t);this._buffer.fill(r,i/8)}}}_getElementBitSize(){if(this._nextIndex)return Math.pow(2,Math.ceil(Math.log2(Math.log2(this._nextIndex))))}};function FE(e){let t=2;for(;t<e;)t*=2;return t}function pf(e,t){return t==="any"?new Array(e):t==="float"?new Float32Array(e):t==="int8"?new Int8Array(e):t==="int16"?new Int16Array(e):t==="int32"?new Int32Array(e):t===32?new Uint32Array(e):t===16?new Uint16Array(e):new Uint8Array(Math.ceil(e/8*t))}var RE=class{constructor(e){this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._flexArrays=[],this._defaultValues=[],this._flexArraysByName={},this._indexLists=[],this._name=e?"node":"edge",this._nextIndex=1,this._freeIndexes=[],this._indexesToBeFreed=[],this._idToIndex=Object.create(null),this._indexToId=[void 0],this._idFlexArray=new Rg({storage:"int32"}),this._idFlexArray.get=t=>this._indexToId[t],this._idFlexArray.getMultiple=t=>{const n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=this._indexToId[t[r]];return n},this._flexArraysByName.id=this._idFlexArray}addElements(e){const t=[];for(let n=0,r=e.length;n<r;++n){const i=e[n];let s=this._idToIndex[i];s===void 0&&(s=this._getNextIndex(),this._idToIndex[i]=s,this._indexToId[s]=i),t.push(s)}for(const n of this._flexArrays)n.grow(this._nextIndex);for(const n of this._indexLists)n.reserve(this._nextIndex);return new Uint32Array(t)}removeElements(e){for(let t=0,n=e.length;t<n;++t){const r=e[t],i=this._indexToId[r];i!==void 0&&(delete this._idToIndex[i],this._removeIndex(r))}}clear(){this._idToIndex=Object.create(null),this._indexToId=[void 0],this._nextIndex=1,this._freeIndexes=[];for(const e of this._flexArrays)e.reset();for(const e of this._indexLists)e.reset()}has(e){return this._indexToId[e]!==void 0}getIndex(e,t=!1){const n=this._idToIndex[e];if(n===void 0&&t)throw new Error(`${this._name} id "${e}" not found`);return n}createFlexArray(e,t){const{name:n}=e;if(n&&t&&this._flexArraysByName[n])throw new Error(`${this._name} flexArray "${n}" already exists`);let r=e.default;r===void 0&&e.storage!=="any"&&e.storage!=="resource"&&(r=0);const i=this._nextIndex,s={storage:e.storage,size:i,name:n,default:r};let o;return o=(r===void 0&&e.storage!=="any"&&e.storage,new Rg(s)),this._flexArrays.push(o),this._defaultValues.push(e.default),n&&t&&(this._flexArraysByName[n]=o),o}getFlexArray(e){return this._flexArraysByName[e]}getAllFlexArrays(){return this._flexArraysByName}createIndexList(){const e=new ZL;return e.reserve(this._nextIndex),this._indexLists.push(e),e}getId(e){return this._indexToId[e]}getMaxIndex(){return this._nextIndex-1}_removeIndex(e){this._indexesToBeFreed.push(e)}_getNextIndex(){let e=this._freeIndexes.pop();return e===void 0&&(e=this._nextIndex++),e}freeIndexes(){for(const e of this._indexesToBeFreed)this._indexToId[e]=void 0,this._freeIndexes.push(e);for(let e=0;e<this._flexArrays.length;++e){const t=this._flexArrays[e],n=this._defaultValues[e];for(const r of this._indexesToBeFreed)t.set(r,n)}this._indexesToBeFreed=[]}},bd=gi("web-worker"),JL=!!bd||typeof Worker<"u"&&typeof Blob<"u";function eN(e){return bd?v_(e):e}function v_(e){if(ArrayBuffer.isView(e))return Array.from(e);if(Array.isArray(e)){for(let t=0;t<e.length;t++)e[t]=v_(e[t]);return e}if(bn(e)){const t=Object.keys(e);for(const n of t)e[n]=v_(e[n]);return e}return e}function tN(e){return bd?XO(e):WO(e)}function WO(e){const t=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(t);return new Worker(n)}function XO(e){if(bd)return new bd("data:application/javascript,"+e.replace(/\n/g,""))}var YO=/^rgba?\((\d+),?\s*(\d+),?\s*(\d+),?\s*((\d+)?\.?\d+)*\)$/;function Xx(e,t=[0,0,0,0]){const n=YO.exec(e);return n?(t[0]=parseInt(n[1])/255,t[1]=parseInt(n[2])/255,t[2]=parseInt(n[3])/255,t[3]=n[4]===void 0?1:parseFloat(n[4]),t):null}function Fh(e){return e<16?"0"+e.toString(16):e.toString(16)}function nN([e,t,n,r=1]){return`rgba(${256*e|0},${256*t|0},${256*n|0},${r})`}function Yx(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,r,i,s)=>r+r+i+i+s+s);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1]:null}var mf=["AliceBlue","#F0F8FF","AntiqueWhite","#FAEBD7","Aqua","#00FFFF","Aquamarine","#7FFFD4","Azure","#F0FFFF","Beige","#F5F5DC","Bisque","#FFE4C4","Black","#000000","BlanchedAlmond","#FFEBCD","Blue","#0000FF","BlueViolet","#8A2BE2","Brown","#A52A2A","BurlyWood","#DEB887","CadetBlue","#5F9EA0","Chartreuse","#7FFF00","Chocolate","#D2691E","Coral","#FF7F50","CornflowerBlue","#6495ED","Cornsilk","#FFF8DC","Crimson","#DC143C","Cyan","#00FFFF","DarkBlue","#00008B","DarkCyan","#008B8B","DarkGoldenRod","#B8860B","DarkGray","#A9A9A9","DarkGrey","#A9A9A9","DarkGreen","#006400","DarkKhaki","#BDB76B","DarkMagenta","#8B008B","DarkOliveGreen","#556B2F","DarkOrange","#FF8C00","DarkOrchid","#9932CC","DarkRed","#8B0000","DarkSalmon","#E9967A","DarkSeaGreen","#8FBC8F","DarkSlateBlue","#483D8B","DarkSlateGray","#2F4F4F","DarkSlateGrey","#2F4F4F","DarkTurquoise","#00CED1","DarkViolet","#9400D3","DeepPink","#FF1493","DeepSkyBlue","#00BFFF","DimGray","#696969","DimGrey","#696969","DodgerBlue","#1E90FF","FireBrick","#B22222","FloralWhite","#FFFAF0","ForestGreen","#228B22","Fuchsia","#FF00FF","Gainsboro","#DCDCDC","GhostWhite","#F8F8FF","Gold","#FFD700","GoldenRod","#DAA520","Gray","#808080","Grey","#808080","Green","#008000","GreenYellow","#ADFF2F","HoneyDew","#F0FFF0","HotPink","#FF69B4","IndianRed","#CD5C5C","Indigo","#4B0082","Ivory","#FFFFF0","Khaki","#F0E68C","Lavender","#E6E6FA","LavenderBlush","#FFF0F5","LawnGreen","#7CFC00","LemonChiffon","#FFFACD","LightBlue","#ADD8E6","LightCoral","#F08080","LightCyan","#E0FFFF","LightGoldenRodYellow","#FAFAD2","LightGray","#D3D3D3","LightGrey","#D3D3D3","LightGreen","#90EE90","LightPink","#FFB6C1","LightSalmon","#FFA07A","LightSeaGreen","#20B2AA","LightSkyBlue","#87CEFA","LightSlateGray","#778899","LightSlateGrey","#778899","LightSteelBlue","#B0C4DE","LightYellow","#FFFFE0","Lime","#00FF00","LimeGreen","#32CD32","Linen","#FAF0E6","Magenta","#FF00FF","Maroon","#800000","MediumAquaMarine","#66CDAA","MediumBlue","#0000CD","MediumOrchid","#BA55D3","MediumPurple","#9370DB","MediumSeaGreen","#3CB371","MediumSlateBlue","#7B68EE","MediumSpringGreen","#00FA9A","MediumTurquoise","#48D1CC","MediumVioletRed","#C71585","MidnightBlue","#191970","MintCream","#F5FFFA","MistyRose","#FFE4E1","Moccasin","#FFE4B5","NavajoWhite","#FFDEAD","Navy","#000080","OldLace","#FDF5E6","Olive","#808000","OliveDrab","#6B8E23","Orange","#FFA500","OrangeRed","#FF4500","Orchid","#DA70D6","PaleGoldenRod","#EEE8AA","PaleGreen","#98FB98","PaleTurquoise","#AFEEEE","PaleVioletRed","#DB7093","PapayaWhip","#FFEFD5","PeachPuff","#FFDAB9","Peru","#CD853F","Pink","#FFC0CB","Plum","#DDA0DD","PowderBlue","#B0E0E6","Purple","#800080","RebeccaPurple","#663399","Red","#FF0000","RosyBrown","#BC8F8F","RoyalBlue","#4169E1","SaddleBrown","#8B4513","Salmon","#FA8072","SandyBrown","#F4A460","SeaGreen","#2E8B57","SeaShell","#FFF5EE","Sienna","#A0522D","Silver","#C0C0C0","SkyBlue","#87CEEB","SlateBlue","#6A5ACD","SlateGray","#708090","SlateGrey","#708090","Snow","#FFFAFA","SpringGreen","#00FF7F","SteelBlue","#4682B4","Tan","#D2B48C","Teal","#008080","Thistle","#D8BFD8","Tomato","#FF6347","Turquoise","#40E0D0","Violet","#EE82EE","Wheat","#F5DEB3","White","#FFFFFF","WhiteSmoke","#F5F5F5","Yellow","#FFFF00","YellowGreen","#9ACD32"],Xl=[0,0,0,0],wd=new Map;wd.set(null,[0,0,0,0]),wd.set("transparent",[0,0,0,0]);for(let e=0;e<mf.length;e+=2){const t=mf[e].toLowerCase(),n=mf[e+1];wd.set(t,Yx(n))}var b_,yr=e=>{let t=wd.get(e);if(t===void 0){const n=e+"",r=n.charAt(0)==="#"?Yx(n):Xx(n);wd.set(e,r),t=r}return t},w_=e=>{const t=yr(e);if(!t)return null;const[n,r,i]=t;return`#${Fh(255*n)}${Fh(255*r)}${Fh(255*i)}`},La=e=>{let t=1,n=e;return n&&Xx(e,Xl)&&(n=`rgb(${255*+Xl[0]},${255*+Xl[1]},${255*+Xl[2]})`,t=parseFloat(Xl[3].toString())),{color:n,opacity:t}},DE=gi("xmldom");b_=typeof XMLSerializer<"u"?XMLSerializer:DE?DE.XMLSerializer:null;var rN=class{constructor(e){this._attributes={},this._children=[],this._name=e}setAttribute(e,t){this._attributes[e]=t}appendChild(e){this._children.push(e)}get tagName(){return this._name}get children(){return this._children}get childNodes(){return this._children}get firstChild(){return this._children[0]||null}serialize(){const e=this._name,t=this._attributes,n=this._children,r=Object.keys(t).filter(s=>t[s]!==void 0).map(s=>` ${s}="${""+t[s]}"`).join(""),i=n.map(s=>s.serialize()).join("");return i.length?`<${e}${r}>${i}</${e}>`:`<${e}${r}/>`}cloneNode(e){const t=new rN(this._name),n=Object.keys(this._attributes);for(const r of n)t.setAttribute(r,this._attributes[r]);if(e)for(let r=0;r<this._children.length;r++)t.appendChild(this._children[r].cloneNode(e));return t}},qx=class{constructor(e){this._text=e}serialize(){return this._text}cloneNode(){return new qx(this._text)}},qO=class{constructor(){this._children=[],this._meta=[],this._children=[],this._meta=[]}appendChild(e){this._children.push(e)}serialize(){return this._meta.concat(this._children.map(e=>e.serialize())).join("")}createElement(e){return new rN(e)}createTextNode(e){return new qx(e)}},iN=()=>new qO;function Zx(e){if(b_)return new b_().serializeToString(e)}var sN=()=>ys().implementation.createDocument("","",null),oN=class{constructor(e){this._heap=[],this._size=0,this._keyToValue=e,this._keyToIndex=new Int32Array(e.length),this._keyToIndex.fill(-1)}add(e){let t=this._keyToIndex[e];t===-1&&(t=this._size++,this._heap[t]=e),this._keyToIndex[e]=this._bubble(t)}removeMin(){if(this._size===0)return NaN;const e=this._heap[0];return this._heap[0]=this._heap[--this._size],this._bubble(0),e}isEmpty(){return this._size===0}has(e){return this._keyToIndex[e]!==-1}_bubble(e){const t=this._indexToValue(e),n=this._getParentIndex(e),r=this._indexToValue(n);let i=e;if(e!==0&&r>t)i=this._swap(e,n);else{const s=this._getLeftChildIndex(e),o=this._getRightChildIndex(e),a=this._indexToValue(s),l=this._indexToValue(o),c=Math.min(t,a,l);c===t||(i=c===a?this._swap(e,s):this._swap(e,o))}return i===e?e:this._bubble(i)}_indexToValue(e){return e>=this._size?1/0:this._keyToValue[this._heap[e]]}_getParentIndex(e){return(e-1)/2|0}_getLeftChildIndex(e){return 2*e+1}_getRightChildIndex(e){return 2*e+2}_swap(e,t){const n=this._heap[e],r=this._heap[t];return this._heap[e]=r,this._heap[t]=n,this._keyToIndex[n]=t,this._keyToIndex[r]=e,t}},Kd=class{constructor(e,t){this._graph=e,this._nodes={elementList:e.nodeList,flexArray:e.createNodeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!0)},this._edges={elementList:e.edgeList,flexArray:e.createEdgeAttribute({storage:1,name:t},!!t),indexList:e.createIndexList(!1)}}_get(e){return e.isNode?this._nodes:this._edges}addOrRemoveElements(e,t){return t?this.addElements(e):this.removeElements(e)}addElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength();for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];n.get(o)!==1&&(n.set(o,1),r.pushUnchecked(o))}return t(r.slice(i))}removeElements(e){const{elementList:t,flexArray:n,indexList:r}=this._get(e),i=r.getLength(),s=r.getBuffer();if(i>s.length)return this.clear(),this.addElements(e),e;let o=0;for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];n.get(l)!==0&&(n.set(l,0),o+=1)}if(o===i)return t(r.sliceAndReset());if(o===0)return t();{const a=this._graph.acquireIndexList(e.isNode);let l=0;for(let c=0;c<i;++c){const d=s[c];n.get(d)===0?(l+=1,a.pushUnchecked(d)):s[c-l]=d}return r.setLength(i-o),t(a.sliceAndReset())}}hasElement(e){return!!this._get(e).flexArray.get(e._index)}clear(){this._nodes.indexList.isEmpty()||(this._nodes.indexList.reset(),this._nodes.flexArray.reset()),this._edges.indexList.isEmpty()||(this._edges.indexList.reset(),this._edges.flexArray.reset())}isEmpty(){return this._nodes.indexList.isEmpty()&&this._edges.indexList.isEmpty()}getElements(){return{nodes:this._nodes.elementList(this._nodes.indexList.slice()),edges:this._edges.elementList(this._edges.indexList.slice())}}};function ZO(e,t,n,r=0){t===void 0&&(t=n=Math.sqrt(e.length/4)),n===void 0&&(n=t);const i=document.createElement("canvas"),s=i.getContext("2d");if(s){const o=s.createImageData(t,n);i.style.imageRendering="pixelated",i.style.border="1px solid black",i.style.margin="2px",i.style.position="absolute",i.style.top=i.style.left="0px",i.width=t,i.height=n,o.data.set(e),s.putImageData(o,0,0);const a=document.getElementById("graph-container");a&&(a.style.position="static"),setTimeout(()=>document.body.appendChild(i),r)}}var Qx=()=>({minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),Nn=class{constructor(e={}){const{xValues:t=[],yValues:n=[],scaledSizeValues:r=[],fixedSizeValues:i=[]}=e;this.minX=as(t),this.minY=as(n),this.maxX=Xa(t),this.maxY=Xa(n),this.minScaledSize=as(r),this.maxScaledSize=Xa(r),this.minFixedSize=as(i),this.maxFixedSize=Xa(i),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY}reset(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.minScaledSize=1/0,this.maxScaledSize=-1/0,this.minFixedSize=1/0,this.maxFixedSize=-1/0,this.width=0,this.height=0,this.cx=0,this.cy=0,this}addPoint(e,t,n,r){return this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,t),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,t),n!==void 0&&r!==void 0&&(r==="scaled"?(this.minScaledSize=Math.min(this.minScaledSize,n),this.maxScaledSize=Math.max(this.maxScaledSize,n)):(this.minFixedSize=Math.min(this.minFixedSize,n),this.maxFixedSize=Math.max(this.maxFixedSize,n))),this.cx=this.minX+(this.maxX-this.minX)/2,this.cy=this.minY+(this.maxY-this.minY)/2,this.width=this.maxX-this.minX,this.height=this.maxY-this.minY,this}computeForZoom(e){const t=Math.max(this.maxScaledSize,this.maxFixedSize/e);return Nn.from({minX:this.minX-t/2,minY:this.minY-t/2,maxX:this.maxX+t/2,maxY:this.maxY+t/2,width:this.width+t,height:this.height+t})}static from({minX:e,minY:t,maxX:n,maxY:r,width:i,height:s}={}){const o=new Nn;return e!=null&&(o.minX=e),t!=null&&(o.minY=t),n!=null&&(o.maxX=n),r!=null&&(o.maxY=r),n!=null&&e!=null&&(o.width=i||(n-e)/2,o.cx=(e+n)/2),r!=null&&t!=null&&(o.height=s||(r-t)/2,o.cy=(t+r)/2),o}static fromValues(e,t,n){let r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let c=0;c<e.length;c++){const d=e[c],u=t[c],h=n[c];d-h<r&&(r=d-h),u-h<i&&(i=u-h),d+h>s&&(s=d+h),u+h>o&&(o=u+h),h>a&&(a=h)}const l=Nn.from({minX:r,minY:i,maxX:s,maxY:o});return l.maxScaledSize=a,l}pad(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,this.width+=2*e,this.height+=2*e,this}isValid(){return isFinite(this.width)&&isFinite(this.height)}extend(e){return this.addPoint(e.minX,e.minY),this.addPoint(e.maxX,e.maxY),this}bottomLeft(){return{x:this.minX,y:this.minY}}topRight(){return{x:this.maxX,y:this.maxY}}},Jd=class{on(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");if(typeof t!="function")throw new TypeError("Event handler must be function");const n=this._events=this._events||{};return(n[e]=n[e]||[]).push(t),this}off(e,t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=this._events=this._events||{},r=n[e];if(Rn(r))if(typeof t!="function")n[e]=null;else{const i=r.indexOf(t);i!==-1&&r.splice(i,1),r.length===0&&(n[e]=null)}return this}fire(e,...t){if(typeof e!="string")throw new TypeError("Event name must be string");const n=(this._events=this._events||{})[e];if(Rn(n)){const r=t;for(let i=0;i<n.length;i++){const s=n[i];s&&s.apply(this,r)}}return this}once(e,t){const n=this,r=function(...i){t.apply(n,i),n.off(e,r)};return r.handler=t,this.on(e,r)}hasListener(e,t){if(!e||!t)return!1;const n=(this._events=this._events||{})[e];if(Rn(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];if(s===t||s.handler===t)return!0}return!1}clearEvents(){this._events={}}getListeners(e){return(this._events=this._events||{})[e]}},QO=8,E_=class{constructor(){this._BIG_LIST=255,this._MAX_LIST_SIZE=8,this._capacity=QO,this._buffer=new Uint32Array(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(t){return t===void 0&&(t=this._nextIndex++),t>=this._capacity&&this._reserve(t+1),this._sizes[t]=0,t}get(t){const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){const i=this._buffer[r];return this._bigLists[i]}throw new Error(`Table: ${t} out of bounds (${n})`)}size(t){const n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(t){const n=this._sizes,r=this._bigLists,i=this._buffer,s=this._MAX_LIST_SIZE,o=t.length,a=new Array(o);for(let l=0;l<o;l++){const c=t[l],d=n[c];a[l]=d<=s?d:r[i[c*s]].length}return a}addTo(t,n){const r=this._sizes[t],i=t*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=n,this._sizes[t]=r+1;else if(r===this._BIG_LIST){const s=this._buffer[i];this._bigLists[s].push(n)}else{const s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(n),this._bigLists.push(s),this._sizes[t]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}return this}removeFrom(t,n){return this.removeFromAndGetSize(t,n),this}removeFromAndGetSize(t,n){const r=this._MAX_LIST_SIZE*t;let i=this._sizes[t];if(i<=this._MAX_LIST_SIZE){for(let s=r,o=r+i;s<o;++s)if(this._buffer[s]===n)return i-=1,this._buffer[s]=this._buffer[o-1],this._sizes[t]=i,i}else if(i===this._BIG_LIST){const s=this._buffer[r],o=this._bigLists[s],a=o.indexOf(n);if(a!==-1)return o.splice(a,1),o.length}throw new Error('topology: Table: "removeFrom" failed, should not happen')}reserve(t){return this._capacity<t&&this._reserve(t),this}_reserve(t){this._capacity=Math.pow(2,Math.ceil(Math.log2(t))),this._buffer=zE(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=zE(this._sizes,this._capacity)}};function zE(e,t){const n=new e.constructor(t);return n.set(e),n}function aN(e,t=1,n=0,r,i){if(!r||!i){const u=e.map(g=>[g.x,g.y]),h=Bx.from(u,g=>g.x,g=>g.y);r=fd(h.triangles,u),i=fd(h.hull,u)}if(!i)return[];const s=n*n,o=[],a={};for(let u=0;u<r.length;u+=3)if(KO(i,Kx(r[u],r[u+1],r[u+2]))){const h=eB(r[u],r[u+1],r[u+2]);h>s&&(o.push(u),a[u]=h)}if(o.length===0)return[];o.sort((u,h)=>a[u]-a[h]);let l=o[0],c=a[l];const d=[];for(let u=0;u<o.length;u++){const h=o[u],g=a[h];g>c&&g>s&&(l=h,c=g,d.push(l),d.length>t&&d.shift())}return d.map(u=>JO(r[u],r[u+1],r[u+2]))}function KO(e,t){const n=e.length,r=e[n-1],[i,s]=t;let[o,a]=r,l=!1;for(let c=0;c<n;c++){const d=e[c],[u,h]=d;h>s!=a>s&&i<(o-u)*(s-h)/(a-h)+u&&(l=!l),o=u,a=h}return l}function JO(e,t,n){const r=Kx(e,t,n);let i=0;for(let s=0;s<3;s++){const o=arguments[s],a=o[0]-r[0],l=o[1]-r[1],c=Math.sqrt(a*a+l*l);c>i&&(i=c)}return[r[0],r[1],i]}function eB(e,t,n){const[r,i]=Kx(e,t,n),[s,o]=e,a=r-s,l=i-o;return a*a+l*l}function Kx(e,t,n){const r=[(e[0]+t[0])/2,(e[1]+t[1])/2],i=[(t[0]+n[0])/2,(t[1]+n[1])/2],s=-1/((t[1]-e[1])/(t[0]-e[0])),o=-1/((n[1]-t[1])/(n[0]-t[0])),a=r[1]-s*r[0],l=(a-(i[1]-o*i[0]))/(o-s);return[l,s*l+a]}function Zp(e,t,n,r){let i;if(r)i=r;else{i=new Uint32Array(e.length);for(let h=0,g=e.length;h<g;h++)i[h]=h}function s(h,g,p,m,_,y){const f=p-y+1e-9*Math.max(p,y,1),x=m-h,v=_-g;return f>0&&f*f>x*x+v*v}function o(h,g,p,m,_,y,f){for(let x=0;x<m.length;++x){const v=m[x];if(!s(h,g,p,_[v],y[v],f[v]))return!1}return!0}function a(h,g,p,m,_,y){const f=m-h,x=_-g,v=y-p,w=Math.sqrt(f*f+x*x);return[(h+m+f/w*v)/2,(g+_+x/w*v)/2,(w+p+y)/2]}function l(h,g,p,m,_,y,f,x,v){const w=h-m,b=h-f,S=g-_,k=g-x,C=y-p,A=v-p,N=h*h+g*g-p*p,R=N-m*m-_*_+y*y,B=N-f*f-x*x+v*v,W=b*S-w*k,F=(S*B-k*R)/(2*W)-h,T=(k*C-S*A)/W,H=(b*R-w*B)/(2*W)-g,G=(w*A-b*C)/W,q=T*T+G*G-1,te=2*(p+F*T+H*G),J=F*F+H*H-p*p,ue=-(Math.abs(q)>1e-6?(te+Math.sqrt(te*te-4*q*J))/(2*q):J/te);return[h+F+T*ue,g+H+G*ue,ue]}function c(h,g,p,m){switch(h.length){case 1:const _=h[0];return function(S,k,C){return[S,k,C]}(g[_],p[_],m[_]);case 2:const[y,f]=h;return a(g[y],p[y],m[y],g[f],p[f],m[f]);case 3:const[x,v,w]=h;return l(g[x],p[x],m[x],g[v],p[v],m[v],g[w],p[w],m[w]);default:return null}}function d(h,g,p,m,_,y){const f=p-y,x=m-h,v=_-g;return f<0||f*f<x*x+v*v}function u(h,g,p,m,_){const y=p[g],f=m[g],x=_[g];if(o(y,f,x,h,p,m,_))return[g];for(let v=0;v<h.length;++v){const w=h[v],b=p[w],S=m[w],k=_[w];if(d(y,f,x,b,S,k)){const[C,A,N]=a(b,S,k,y,f,x);if(o(C,A,N,h,p,m,_))return[h[v],g]}}for(let v=0;v<h.length-1;++v)for(let w=v+1;w<h.length;++w){const b=h[v],S=h[w],k=p[b],C=m[b],A=_[b],N=p[S],R=m[S],B=_[S],W=a(k,C,A,N,R,B);if(d(W[0],W[1],W[2],y,f,x)){const F=a(k,C,A,y,f,x);if(d(F[0],F[1],F[2],N,R,B)){const T=a(N,R,B,y,f,x);if(d(T[0],T[1],T[2],k,C,A)){const H=l(k,C,A,N,R,B,y,f,x);if(o(H[0],H[1],H[2],h,p,m,_))return[b,S,g]}}}}throw new Error}return i=function(g){for(let p=g.length-1;p>=0;p--){let m=Math.floor(Math.random()*(p+1));m=Math.max(Math.min(m,p),0);const _=g[p];g[p]=g[m],g[m]=_}return g}(i),n=n||new Array(e.length).fill(0),function(g,p,m,_,y){let f=null,x=[],v=0;for(;v<p;){const w=g[v];f&&s(f[0],f[1],f[2],m[w],_[w],y[w])?v++:(x=u(x,w,m,_,y),f=c(x,m,_,y),v=0)}return f}(i,i.length,e,t,n)}var lN=[1/0,1/0,-1/0,-1/0];function Dg(e,t,n,r,i,s={x:0,y:0}){const o=Math.cos(i),a=Math.sin(i),l=e-n,c=t-r;return s.x=o*l-a*c+n,s.y=a*l+o*c+r,s}function tB(e,t,n=0,r={x:0,y:0}){return r.x=e.x+n*Math.sin(t),r.y=e.y+n*Math.cos(t),r}function vn(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}function Rh(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}function cN(e){const t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e}function S_(e){return 180*e/Math.PI}function nB(e){return e*Math.PI/180}function dN(e,t){return e.minX-=t,e.minY-=t,e.maxX+=t,e.maxY+=t,e.width===void 0&&(e.width=e.maxX-e.minX),e.height===void 0&&(e.height=e.maxY-e.minY),e.width+=2*t,e.height+=2*t,e}function Jx(e,t,n,r,i,s){const o=r-e,a=i-t,l=Math.sqrt(o*o+a*a);if(l>n+s||l<Math.abs(n-s))return null;const c=(n*n-s*s+l*l)/(2*l),d=e+o*c/l,u=t+a*c/l,h=Math.sqrt(n*n-c*c),g=h/l*-a,p=o*(h/l);return[[d+g,u+p],[d-g,u-p]]}function ev(e,t,n,r,i,s){if(e-i>=0&&n-i<0)return 1;if(e-i<0&&n-i>=0)return-1;if(e-i==0&&n-i==0)return t-r>=0||r-s>=0?t-r:r-t;const o=(e-i)*(r-s)-(n-i)*(t-s);return o<0?1:o>0?-1:(e-i)*(e-i)+(t-s)*(t-s)-((n-i)*(n-i)+(r-s)*(r-s))}function rB([e,t,n],r,i){const s=Math.abs(e-r),o=Math.abs(t-i);return s+o<=n||!(s>n||o>n)&&Math.sqrt(s*s+o*o)<n+1e-12}function iB(e,t,n,r){const i=e[0]-t,s=e[1]-n,o=e[2]-r;return i*i+s*s<o*o+1e-6}function tv(e,t,n,r,i,s,o){const a=e-Math.max(r,Math.min(s,e)),l=t-Math.max(i,Math.min(o,t));return a*a+l*l<n*n}function uN(e,t,n,r,i,s,o,a={x:0,y:0}){const l=a||{x:0,y:0};let c,d,u,h;if(n===e){const y=e-i,f=o*o-y*y;if(f<0)return null;const x=Math.sqrt(f);c=e,u=e,d=s+x,h=s-x}else{const y=(r-t)/(n-e),f=t-y*e,x=f-s,v=y*y+1,w=2*(y*x-i),b=w*w-4*v*(i*i+x*x-o*o);if(b<0)return null;const S=-w,k=Math.sqrt(b),C=2*v;c=(S+k)/C,u=(S-k)/C,d=y*c+f,h=y*u+f}const g=e-c,p=t-d,m=e-u,_=t-h;return g*g+p*p<m*m+_*_?(l.x=c,l.y=d):(l.x=u,l.y=h),l}function k_({X:e,Y:t,sizes:n,indexes:r,R:i,center:s,gap:o=0,epsilon:a=.001,maxLoops:l=5,inPlace:c=!0}){const d=r.length,u=s[0],h=s[1];let g=d;c||(e=e.slice(),t=t.slice());const p=Jx,m=ev,_=r.slice().sort((A,N)=>m(e[A],t[A],e[N],t[N],u,h)),y=_[d-1],f=e[y],x=t[y];let v=!1;for(let A=0;A<g-1;A++){let N=A%d,R=(A+1)%d;A===-1&&(N=d-1,R=0),N=_[N],R=_[R];const B=e[N],W=t[N];let F=e[R],T=t[R];const H=n[N]+n[R]+o;let G=m(B,W,F,T,u,h);if(G===-1&&v&&(G=1),!(H>i)){if(G===1||H-vn(B,W,F,T)>a){const q=p(u,h,i,B,W,H);if(q){const te=q[0];v=F>u&&te[0]<u,F=e[R]=te[0],T=t[R]=te[1]}}else v=!1;if(A%d==d-2){const q=_[d-1],te=_[0];if(t[q]>h&&t[te]>h&&e[q]-n[q]<e[te]+n[q]){let J=0;for(g=Math.min(d*l,g+d);t[_[q]]>h&&t[_[0]]>h&&e[_[q]]<e[_[0]]&&++J<d;){const ue=_.pop();ue&&_.unshift(ue)}}}}}const w=f-u,b=x-h,S=e[y]-u,k=t[y]-h,C=w===S?0:Math.abs(Math.acos((w*S+b*k)/(Math.sqrt(w*w+b*b)*Math.sqrt(S*S+k*k))));if(C!==0){const A=Math.sin(-C),N=Math.cos(-C);let R;for(let B=0;B<d;B++){R=_[B];const W=e[R]-u,F=t[R]-h;e[R]=W*N-F*A+u,t[R]=W*A+F*N+h}}return{X:e,Y:t}}function OE(e,t,n,r,i,s){const o={},a=n[e];let l=a,c=0;const d=a*i;for(const u in t){const h=t[u];let g=0,p=0;for(let f=0,x=h.length;f<x;f++){const v=n[h[f]];p=Math.max(p,v),g+=2*v+r}const m=g/(2*Math.PI),_=p+l,y=s?c+Math.max(s,_):c*i;c=Math.max(_,c,m,d,y),o[u]=c,l=p}return o[0]=0,o[Number.POSITIVE_INFINITY]=c,o}function sB(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function BE(e){const t=e.length,n=[0,1];let r=2;for(let i=2;i<t;i++){for(;r>1&&sB(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function oB(e){const t=e.length;if(t<3)return null;const n=new Array(t),r=new Array(t);for(let u=0;u<t;u++)n[u]=[+e[u][0],+e[u][1],u];n.sort((u,h)=>u[0]-h[0]||u[1]-h[1]);for(let u=0;u<t;u++)r[u]=[n[u][0],-n[u][1]];const i=BE(n),s=BE(r),o=s[s.length-1],a=i[i.length-1],l=s[0]===i[0],c=o===a?1:0,d=[];for(let u=i.length-1;u>=0;--u)d.push(e[n[i[u]][2]]);for(let u=+l;u<s.length-c;u++)d.push(e[n[s[u]][2]]);return d}var jE=e=>--e*e*e+1,UE=(e,t,n)=>{const r=e-n[0],i=t-n[1];return r*r+i*i},aB=(e,t)=>{let n=1/0,r=-1/0;for(let i=0;i<e.length;i++){const s=e[i],o=t?t[s]:s;n=Math.min(o,n),r=Math.max(o,r)}return{min:n,max:r}};function lB({X:e,Y:t,R:n,center:r,maxSteps:i=1e3,padding:s=5,epsilon:o=1e-9,damping:a=2,pinned:l,indexes:c,onUpdate:d,pushSmallerOut:u=!0}){const h=c?c.length:e.length;let g=c;if(isFinite(l)||(l=-1),g===void 0){g=new Uint32Array(h);for(let v=0;v<h;v++)g[v]=v}else g=c;if(l!==-1)r=[e[l],t[l]];else if(!r){let v=0,w=0;for(let b=0;b<h;b++)v+=e[g[b]],w+=t[g[b]];r=[v/h,w/h]}const{min:p,max:m}=aB(g,n);function _(v,w){let b=0;for(let A=0;A<h-1;A++)for(let N=A+1;N<h;N++){if(A===N)continue;const R=g[A],B=g[N],W=e[R],F=t[R],T=n[R],H=e[B],G=t[B],q=n[B],te=H-W,J=G-F,ue=T+q+s,Te=te*te+J*J;if(Te<ue*ue-v){const ce=(ue-Math.sqrt(Te))*w,_e=1/Te,ze=te*_e*ce,Ye=J*_e*ce,qe=ze*ze+Ye*Ye;if(B!==l){const ge=T/p;b+=qe*ge,e[B]+=ze*ge,t[B]+=Ye*ge}if(R!==l){const ge=q/p;b+=qe*ge,e[R]-=ze*ge,t[R]-=Ye*ge}}}const S=v*a*(1-w),k=r[0],C=r[1];for(let A=0;A<h;A++){const N=g[A];if(N!==l){const R=e[N],B=t[N],W=n[N],F=u?S*(W/m):S,T=(R-k)*F,H=(B-C)*F;b+=T*T+H*H,e[N]-=T,t[N]-=H}}return b}g.sort((v,w)=>n[w]*UE(e[w],t[w],r)-n[v]*UE(e[v],t[v],r));let y=0,f=0;const x=jE(1/h);for(let v=0;v<i&&(y=_(x,jE((v+1)/i)),d&&setTimeout(()=>d(e,t)),!(Math.abs(y-f)<o));v++)f=y;return{X:e,Y:t}}var Nu=e=>({data:e,next:null,prev:null});function hN(e,t=0,n=0){const r=e.length;if(r===0)return e;const i=e[0];if(i.x=t,i.y=n,r===1)return e;const s=e[1];if(i.x=t-s.radius,s.x=t+i.radius,s.y=n,r===2)return e;const o=e[2];$E(s,i,o);let a=Nu(i),l=Nu(s),c=Nu(o);a.next=c.prev=l,l.next=a.prev=c,c.next=l.prev=a;e:for(let d=3;d<r;d++){c=Nu(e[d]),$E(a.data,l.data,e[d]);let u=l.next,h=a.prev,g=l.data.radius,p=a.data.radius;do if(g<=p){if(VE(u.data,c.data)){l=u,a.next=l,l.prev=a,--d;continue e}g+=u.data.radius,u=u.next}else{if(VE(h.data,c.data)){a=h,a.next=l,l.prev=a,--d;continue e}p+=h.data.radius,h=h.prev}while(u!==h.next);c.prev=a,c.next=l,a.next=l.prev=l=c;let m=GE(a);for(;(c=c.next)!==l;){const _=GE(c);_<m&&(a=c,m=_)}l=a.next}return e}function $E(e,t,n){const r=e.x-t.x;let i,s;const o=e.y-t.y,a=r*r+o*o;let l,c;a?(s=t.radius+n.radius,s*=s,c=e.radius+n.radius,c*=c,s>c?(i=(a+c-s)/(2*a),l=Math.sqrt(Math.max(0,c/a-i*i)),n.x=e.x-i*r-l*o,n.y=e.y-i*o+l*r):(i=(a+s-c)/(2*a),l=Math.sqrt(Math.max(0,s/a-i*i)),n.x=t.x+i*r-l*o,n.y=t.y+i*o+l*r)):(n.x=t.x+n.radius,n.y=t.y)}var cB=1e-6;function VE(e,t){const n=e.radius+t.radius-cB,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function GE(e){const t=e.data,n=e.next.data,r=t.radius+n.radius,i=(t.x*n.radius+n.x*t.radius)/r,s=(t.y*n.radius+n.y*t.radius)/r;return i*i+s*s}var dB=16,uB=class{constructor(e=Int32Array,t=dB,n=8){this._BIG_LIST=new Uint8Array([-1])[0],this._ArrayType=e,this._capacity=t,this._MAX_LIST_SIZE=n,this._freeIndex=-1,this.clear()}clear(){this._buffer=new this._ArrayType(this._capacity*this._MAX_LIST_SIZE),this._sizes=new Uint8Array(this._capacity),this._bigLists=[],this._nextIndex=0,this._idToIndex={},this._constList=new Array(this._MAX_LIST_SIZE)}addEntry(e){let t;return this._freeIndex===-1?t=this._nextIndex++:(t=this._freeIndex,this._freeIndex=-1),this._idToIndex[e]=t,t>=this._capacity&&this._expand(t+1),this._sizes[t]=0,t}getItems(e){const t=this._idToIndex[e];if(t===void 0)return;const n=this._sizes[t],r=this._MAX_LIST_SIZE*t;if(n<=this._MAX_LIST_SIZE){this._constList.length=n;for(let i=0,s=n;i<s;++i)this._constList[i]=this._buffer[r+i];return this._constList}if(n===this._BIG_LIST){let i=this._buffer[r];return this._bigLists[i]}}removeEntry(e){const t=this._idToIndex[e];if(this._sizes[t]===this._BIG_LIST){const n=this._MAX_LIST_SIZE*t,r=this._buffer[n];this._bigLists[r].length=0}this._sizes[t]=0,this._freeIndex=t}size(e){const t=this._idToIndex[e];let n=this._sizes[t];return n<=this._MAX_LIST_SIZE?n:this._bigLists[this._buffer[t*this._MAX_LIST_SIZE]].length}sizes(e){const t=this._sizes,n=this._bigLists,r=this._buffer,i=this._MAX_LIST_SIZE,s=e.length,o=new Array(s);for(let a=0;a<s;a++){const l=this._idToIndex[e[a]],c=t[l];o[a]=c<=i?c:n[r[l*i]].length}return o}addTo(e,t){const n=this._idToIndex[e],r=this._sizes[n],i=n*this._MAX_LIST_SIZE;if(r<this._MAX_LIST_SIZE)this._buffer[i+r]=t,this._sizes[n]=r+1;else if(r===this._BIG_LIST){let s=this._buffer[i];this._bigLists[s].push(t)}else{let s=new Array(this._MAX_LIST_SIZE);for(let o=0;o<this._MAX_LIST_SIZE;++o)s[o]=this._buffer[i+o];s.push(t),this._bigLists.push(s),this._sizes[n]=this._BIG_LIST,this._buffer[i]=this._bigLists.length-1}}removeFrom(e,t){this.removeFromAndGetSize(e,t)}removeFromAndGetSize(e,t){const n=this._idToIndex[e];let r=this._sizes[n],i=this._MAX_LIST_SIZE*n;if(r<=this._MAX_LIST_SIZE){for(let s=i,o=i+r;s<o;++s)if(this._buffer[s]===t)return r-=1,this._buffer[s]=this._buffer[o-1],this._sizes[n]=r,r}else if(r===this._BIG_LIST){let s=this._buffer[i],o=this._bigLists[s],a=o.indexOf(t);if(a!==-1)return o.splice(a,1),o.length}}reserve(e){this._capacity<e&&this._expand(e)}_expand(e){this._capacity=Math.pow(2,Math.ceil(Math.log2(e))),this._buffer=HE(this._buffer,this._capacity*this._MAX_LIST_SIZE),this._sizes=HE(this._sizes,this._capacity)}has(e){const t=this._idToIndex[e];return!(t===void 0||t>=this._capacity)&&this._sizes[t]!==0}get averageSize(){let e=0;for(let t=0;t<this._capacity;t++)e+=this._sizes[t];return e/this._capacity}};function HE(e,t){let n=new e.constructor(t);return n.set(e),n}var Yl,WE,ql,Ea,Zl,Ro=[0,1],Dh=[0,2];for(ql=4;ql<65535;ql<<=2)for(Yl=0,WE=Ro.length;Yl<WE;Yl++)Ro.push(Ro[Yl]|ql),Dh.push((Ro[Yl]|ql)<<1);function Si(e,t){return(Dh[255&t]|Ro[255&e])+65536*(Dh[t>>8&255]|Ro[e>>8&255])+4294967296*(Dh[t>>16&255]|Ro[e>>16&255])}function XE(e,t=[0,0]){if(e>0xffffffffffff)throw"Only morton codes up to 48 bits are supported.";if(!Ea){Ea={},Zl={};for(var n=0;n<256;n++)Ea[Si(n,0)]=n,Zl[Si(0,n)]=n}var r=Ea[21845&e],i=Zl[43690&e];return e>65535&&(r|=Ea[21845&(e/=65536)]<<8,i|=Zl[43690&e]<<8,e>65535&&(r|=Ea[21845&(e/=65536)]<<16,i|=Zl[43690&e]<<16)),t[0]=r,t[1]=i,t}Si.code=function(t,n,r){if(t>24)throw"Morton codes are only supported up to Z=24";var i=1<<24-t;return Si(n*i,r*i)},Si.range=function(t,n,r){if(t>24)throw"Morton ranges are only supported up to Z=24";var i=1<<24-t,s=Si(n*i,r*i);return[s,s+i*i-1]},Si.reverse=XE,Si.decode=function(t,n){var r=XE(n),i=1<<24-t;return[r[0]/i,r[1]/i]},Si.min=function(t,n){var r=1431655765&t,i=1431655765&n,s=2863311530&t,o=2863311530&n;return Math.min(r,i)+Math.min(s,o)};var hB=1e-6,gB=1e-12;function gN(){for(var e=arguments,t=e.length-1,n=t,r=[],i=0;i<=t&&Math.abs(e[i])<=gB;i++)t--;switch(t){case 1:pB(e[n],e[n-1],r);break;case 2:mB(e[n],e[n-1],e[n-2],r);break;case 3:fB(e[n],e[n-1],e[n-2],e[n-3],r)}return r}function pB(e,t,n=[]){return t!==0&&n.push(-e/t),n}function mB(e,t,n,r=[]){var i=t/n,s=i*i-4*(e/n);if(s>0){var o=Math.sqrt(s);r.push(.5*(-i+o)),r.push(.5*(-i-o))}else s===0&&r.push(.5*-i);return r}function fB(e,t,n,r,i=[]){var s,o,a=n/r,l=t/r,c=(3*l-a*a)/3,d=(2*a*a*a-9*l*a+27*(e/r))/27,u=a/3,h=d*d/4+c*c*c/27,g=d/2;if(Math.abs(h)<=hB&&(h=0),h>0){var p=Math.sqrt(h);o=(s=-g+p)>=0?Math.pow(s,1/3):-Math.pow(-s,1/3),(s=-g-p)>=0?o+=Math.pow(s,1/3):o-=Math.pow(-s,1/3),i.push(o-u)}else if(h<0){var m=Math.sqrt(-c/3),_=Math.atan2(Math.sqrt(-h),-g)/3,y=Math.cos(_),f=Math.sin(_),x=Math.sqrt(3);i.push(2*m*y-u),i.push(-m*(y+x*f)-u),i.push(-m*(y-x*f)-u)}else s=g>=0?-Math.pow(g,1/3):Math.pow(-g,1/3),i.push(2*s-u),i.push(-s-u);return i}function Ls(e,t,n,r,i,s,o,a,l,c,d){for(var u,h,g=Math.min(o,l),p=Math.min(a,c),m=Math.max(o,l),_=Math.max(a,c),y=gN((u=a-c)*(e+-2*n+i)+(h=l-o)*(t+-2*r+s),u*(-2*e+2*n)+h*(-2*t+2*r),u*e+h*t+(o*c-l*a)),f=0;f<y.length;f++){var x=y[f];if(0<=x&&x<=1){var v=e+(n-e)*x,w=t+(r-t)*x,b=v+(n+(i-n)*x-v)*x,S=w+(r+(s-r)*x-w)*x;if(o===l){if(p<=S&&S<=_){if(!d)return 1;d.push(b,S)}}else if(a===c){if(g<=b&&b<=m){if(!d)return 1;d.push(b,S)}}else if(b>=g&&S>=p&&b<=m&&S<=_){if(!d)return 1;d.push(b,S)}}}return d?d.length/2:0}function pN(e,t,n,r,i,s,o,a,l,c,d){return d?(Ls(e,t,n,r,i,s,o,a,l,a,d),Ls(e,t,n,r,i,s,l,a,l,c,d),Ls(e,t,n,r,i,s,o,c,l,c,d),Ls(e,t,n,r,i,s,o,a,o,c,d),d.length/2):o<=e&&l>=e&&a<=t&&c>=t||o<=i&&l>=i&&a<=s&&c>=s||Ls(e,t,n,r,i,s,o,a,l,a)||Ls(e,t,n,r,i,s,l,a,l,c)||Ls(e,t,n,r,i,s,o,c,l,c)||Ls(e,t,n,r,i,s,o,a,o,c)?1:0}function Ns(e,t,n,r,i,s,o,a,l,c,d,u,h){for(var g,p,m=Math.min(l,d),_=Math.min(c,u),y=Math.max(l,d),f=Math.max(c,u),x=gN((g=c-u)*(-1*e+3*n+-3*i+o)+(p=d-l)*(-1*t+3*r+-3*s+a),g*(3*e+-6*n+3*i)+p*(3*t+-6*r+3*s),g*(-3*e+3*n)+p*(-3*t+3*r),g*e+p*t+(l*u-d*c)),v=0;v<x.length;v++){var w=x[v];if(0<=w&&w<=1){var b=e+(n-e)*w,S=t+(r-t)*w,k=n+(i-n)*w,C=r+(s-r)*w,A=b+(k-b)*w,N=S+(C-S)*w,R=A+(k+(i+(o-i)*w-k)*w-A)*w,B=N+(C+(s+(a-s)*w-C)*w-N)*w;if(l===d){if(_<=B&&B<=f){if(!h)return 1;h.push(R,B)}}else if(c===u){if(m<=R&&R<=y){if(!h)return 1;h.push(R,B)}}else if(R>=m&&B>=_&&R<=y&&B<=f){if(!h)return 1;h.push(R,B)}}}return h?h.length/2:0}function mN(e,t,n,r,i,s,o,a,l,c,d,u,h){return h?(Ns(e,t,n,r,i,s,o,a,l,c,d,c,h),Ns(e,t,n,r,i,s,o,a,d,c,d,u,h),Ns(e,t,n,r,i,s,o,a,l,u,d,u,h),Ns(e,t,n,r,i,s,o,a,l,c,l,u,h),h.length/2):l<=e&&d>=e&&c<=t&&u>=t||l<=o&&d>=o&&c<=a&&u>=a||Ns(e,t,n,r,i,s,o,a,l,c,d,c)||Ns(e,t,n,r,i,s,o,a,d,c,d,u)||Ns(e,t,n,r,i,s,o,a,l,u,d,u)||Ns(e,t,n,r,i,s,o,a,l,c,l,u)?1:0}var YE=typeof Map>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}set(t,n){t in this._values||this._size++,this._values[t]=n}get(t){return this._values[t]}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Map,_B=typeof Set>"u"?class{constructor(){this._values={},this._size=0}get size(){return this._size}has(t){return!!this._values[t]}add(t){t in this._values||this._size++,this._values[t]=!0}delete(t){t in this._values&&(delete this._values[t],this._size--)}keys(){return Object.keys(this._values)}clear(){this._values={},this._size=0}}:Set,fN=class{constructor(){this._intersects=null,this._getBounds=null}setBoundsGetter(e){return this._getBounds=e,this}setIntersector(e){return this._intersects=e,this}},yB=65536,xB=16,vB=16,bB=class extends fN{constructor(e,t,n=vB,r=yB,i=Int32Array,s=xB){super(),this._occupied=0,this._idToCode=new YE,this._codeCache=[0,0,0],this.code=(o,a,l)=>l|Si(o,a)<<this._bitsForZoom,this.decode=(o,a)=>(Si.reverse(o>>this._bitsForZoom,a),a[2]=o&this._zoomMask,a),this._intersects=e,this._getBounds=t,this._cells=new uB(i),this._offset=r,this._maxLevels=s,this._mortonMax=(1<<this._maxLevels)-1,this._bitsForZoom=Math.log2(this._maxLevels),this._zoomMask=(1<<this._bitsForZoom)-1,this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._min=-r,this._max=r,this._resolution=this._mortonMax/(this._max-this._min),this._minCellSize=n*this._resolution,this._bounds=new Array(4*this._maxLevels);for(let o=0;o<this._maxLevels;o++)this._bounds[4*o]=1/0,this._bounds[4*o+1]=1/0,this._bounds[4*o+2]=-1/0,this._bounds[4*o+3]=-1/0}setMinCellSize(e){return this._minCellSize=e,this}setOffset(e){return this._offset=e,this._min=-e,this._max=e,this._resolution=this._mortonMax/(this._max-this._min),this}insert(e,t,n,r,i){t===void 0&&([t,n,r,i]=this._getBounds(e));const s=Math.max(r-t,i-n);let o,a=this._minCellSize;for(o=0;a<s&&o<this._maxLevels-1;o++)a*=2;const l=this._resolution,c=this._min,d=l*(.5*(r+t)-c)/a|0,u=l*(.5*(i+n)-c)/a|0,h=this.code(d,u,o);this._cells.has(h)||this._cells.addEntry(h),this._cells.addTo(h,e),this._objectsAtLevel[o]++,this._occupied|=1<<o;const g=4*o,p=this._bounds;return d<p[g]&&(p[g]=d),u<p[g+1]&&(p[g+1]=u),d>p[g+2]&&(p[g+2]=d),u>p[g+3]&&(p[g+3]=u),this._idToCode.set(e,h),h}has(e){return this._idToCode.has(e)}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i)}remove(e){const t=this._idToCode.get(e);this.decode(t,this._codeCache);const n=this._codeCache[2];return--this._objectsAtLevel[n]==0&&(this._occupied&=~(1<<n),this._bounds[4*n]=1/0,this._bounds[4*n+1]=1/0,this._bounds[4*n+2]=-1/0,this._bounds[4*n+3]=-1/0),this._cells.removeFrom(t,e),this._idToCode.delete(e),this}query(e,t,n,r){const i=this._cells,s=this._bounds,o=this._intersects,a=this._min,l=this._resolution;let c=this._minCellSize,d=this._occupied;const u=[];for(let h=0;h<this._maxLevels&&d!==0;c*=2,d>>=1,h++){if(!(1&d))continue;const g=1/c,p=4*h,m=Math.max(s[p],l*(e-a)*g-1>>0),_=Math.max(s[p+1],l*(t-a)*g-1>>0),y=Math.min(s[p+2],l*(n-a)*g+1>>0),f=Math.min(s[p+3],l*(r-a)*g+1>>0);for(let x=m;x<=y;x++)for(let v=_;v<=f;v++){const w=this.code(x,v,h),b=i.getItems(w);if(b!==void 0)for(let S=0;S<b.length;S++){const k=b[S];o(k,e,t,n,r)&&u.push(k)}}}return u}traverse(e,t,n,r,i){const s=this._cells,o=this._bounds,a=this._intersects,l=this._min,c=this._resolution;let d=this._minCellSize,u=this._occupied;const h=[];for(let g=0;g<this._maxLevels&&u!==0;d*=2,u>>=1,g++){if(!(1&u))continue;const p=1/d,m=4*g,_=Math.max(o[m],c*(e-l)*p-1>>0),y=Math.max(o[m+1],c*(t-l)*p-1>>0),f=Math.min(o[m+2],c*(n-l)*p+1>>0),x=Math.min(o[m+3],c*(r-l)*p+1>>0);for(let v=_;v<=f;v++)for(let w=y;w<=x;w++){const b=this.code(v,w,g),S=s.getItems(b);if(S!==void 0)for(let k=0;k<S.length;k++){const C=S[k];if(a(C,e,t,n,r)&&(h.push(C),i(C)))return h}}}return h}collisions(e,t=this._getBounds){if(typeof t!="function")throw new Error("getBounds function is required to get the object bounds");const n=Array.from(this._idToCode.keys()),r=this._min,i=this._resolution,s=this._cells,o=new YE,a=[];for(let l=0;l<n.length;l++){let c=0,d=this._minCellSize,u=this._occupied;const h=n[l];let[g,p,m,_]=t(h);const y=Math.max(m-g,_-p);for(c=0;d<y;c++)d*=2,u>>=1;g=i*(g-r),p=i*(p-r),m=i*(m-r),_=i*(_-r);for(let f=c;f<this._maxLevels&&u!==0;d*=2,u>>=1,f++){if(!(1&u))continue;const x=1/d,v=p*x-1>>0,w=m*x+1>>0,b=_*x+1>>0;for(let S=g*x-1>>0;S<=w;S++)for(let k=v;k<=b;k++){const C=this.code(S,k,f);if(o.get(C)===l)continue;o.set(C,l);const A=s.getItems(C);if(A!==void 0)for(let N=0;N<A.length;N++){const R=A[N],[B,W,F,T]=this._getBounds(R);R!==h&&e(h,B,W,F,T)&&a.push(h,R)}}}}return wB(a)}clear(){this._occupied=0,this._cells.clear(),this._idToCode.clear(),this._objectsAtLevel=new Array(this._maxLevels).fill(0),this._bounds=new Array(4*this._maxLevels);for(let e=0;e<this._maxLevels;e++)this._bounds[4*e]=1/0,this._bounds[4*e+1]=1/0,this._bounds[4*e+2]=-1/0,this._bounds[4*e+3]=-1/0;return this}keyToBBox(e){const[t,n,r]=this.decode(e,[0,0,0]),i=this._minCellSize*(1<<r),s=this._min,o=this._resolution;return[t*i/o+s,n*i/o+s,(t+1)*i/o+s,(n+1)*i/o+s]}keys(){return Object.keys(this._cells._idToIndex)}get averageCellOccupancy(){return this._cells.averageSize}get size(){return this._idToCode.size}getBoxes(){return Array.from(this._idToCode.keys()).map(e=>this._getBounds(e))}};function wB(e){const t=new _B,n=[];for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1],o=i<s?i*s+(s-i-1)*(s-i-1)/4:i*s+(i-s-1)*(i-s-1)/4;t.has(o)||(t.add(o),n.push(i,s))}return n}function EB(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function es(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}var Ki=(e,t,n,r,i,s)=>({minX:e,minY:t,maxX:n,maxY:r,leaf:!0,level:s,parent:i,objects:[],final:!1,children:null});function _N(e){const{minX:t,minY:n,maxX:r,maxY:i}=e;return[t,n,r,i]}function pc(e,t,n,r,i,s,o,a){return e>=i&&n<=o&&t>=s&&r<=a}var SB=0,kB=1,AB=2,CB=3;function Iu(e,t,n,r,i,s,o,a){const l=(s+a)/2,c=(t+r)/2;return(e+n)/2<=(i+o)/2?c<=l?SB:kB:c<=l?CB:AB}var TB=e=>e,Na=class extends fN{constructor(e=TB,t=10,n,r=0){super(),this._nodeCapacity=10,this._root=null,this._objects={},this._size=0,this._rootLevel=0,this._maxLevel=30,this._idToCell={},this._nodeCapacity=t,this._root=null,this._getBounds=e,this._rootLevel=r,this._maxLevel=r+30,this._idToCell={},n&&(this._root=Ki(n[0],n[1],n[2],n[3],null,r))}get size(){return this._size}get root(){return this._root}clear(){return this._root=null,this._objects={},this._size=0,this._idToCell={},this._rootLevel=0,this._maxLevel=this._rootLevel+30,this}insert(e,t,n,r,i,s=this._root){if(t||([t,n,r,i]=this._getBounds(e)),this._objects[e])return;if(this._objects[e]=!0,this._size++,!this._root){const g=Math.max(Math.abs(r-t),Math.abs(i-n));return this._root=Ki(t,n,t+g,n+g,null,this._rootLevel),this._idToCell[e]=[this._root],this._root.objects=[e],e}let o,a=[s],l=!1;const c=this._nodeCapacity,d=this._idToCell,u=this._maxLevel;let h;for(;h=a.pop();){o=h;const{minX:g,minY:p,maxX:m,maxY:_}=o;es(t,n,r,i,g,p,m,_)&&(o.leaf?o.objects&&(o.objects.length<c||o.final)?(o.objects.push(e),d[e]?d[e].push(o):d[e]=[o],l=!0,(o.level>=u||Math.abs(m-g)<=Math.abs(r-t)||Math.abs(_-p)<=Math.abs(i-n))&&(o.final=!0)):(this.splitNode(o),a.push(o)):a.push.apply(a,o.children))}if(!pc(t,n,r,i,(s=this._root).minX,s.minY,s.maxX,s.maxY)){let g=this._rootLevel;for(;!pc(t,n,r,i,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){s=this._root;const{minX:p,minY:m,maxX:_,maxY:y}=s;let f=p,x=m,v=_,w=y;const b=Math.abs(_-p),S=Math.abs(y-m);if(S===0&&b===0)break;const k=Math.max(b,S);t<p?(f-=k,n<m?x-=k:w+=k):(v+=k,n<m?x-=k:w+=k);const C=Ki(f,x,v,w,null,--g);this.splitNode(C),C.children[Iu(p,m,_,y,f,x,v,w)]=s,this._root=s.parent=C}for(a=[this._root],this._root.level=this._rootLevel;h=a.shift();)if(o=h,!o.leaf)for(let p=0;p<4;p++){const m=o.children[p];m.level=o.level+1,a.push(m)}s=this._root;for(let p=0;p<4;p++){const m=s.children[p];m&&m.leaf&&m.objects&&(m.objects.push(e),d[e]?d[e].push(m):d[e]=[m])}}return l?e:void 0}removeById(e){if(!this._objects[e])return e;this._size--;const t=this._idToCell[e];for(let n=0;n<t.length;n++){const r=t[n].objects||[];for(let i=0,s=r.length;i<s;i++)if(r[i]===e){r.splice(i,1);break}}return delete this._objects[e],delete this._idToCell[e],e}remove(e){const[t,n,r,i]=this._getBounds(e),s=[this._root];let o,a;const l=[];for(;o=s.pop();)if(es(t,n,r,i,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const c=o.objects||[];for(let d=0,u=c.length;d<u;d++)if(c[d]===e){c.splice(d,1),u===1&&l.push(o);break}}else s.push.apply(s,o.children);if(delete this._idToCell[e],delete this._objects[e],this._size--,l.length)for(;a=l.pop();){let c=a.parent,d=!0;for(;c&&d;){if(!c.leaf){for(let u=0;u<4;u++)if(o=c.children[u],!o.leaf||o.objects&&o.objects.length!==0){d=!1;break}d&&(c.leaf=!0,c.children=[],c.objects=[])}c=c.parent}}return e}splitNode(e){const{minX:t,minY:n,maxX:r,maxY:i}=e,s=(t+r)/2,o=(n+i)/2,a=e.level+1,l=this._idToCell,c=this._maxLevel,d=[Ki(t,n,s,o,e,a),Ki(t,o,s,i,e,a),Ki(s,o,r,i,e,a),Ki(s,n,r,o,e,a)];if(e.objects!==null){const u=e.objects,h=this._getBounds;for(let g=0,p=u.length;g<p;g++){const m=u[g],_=h(m);let y=l[m];for(let f=0;f<4;f++){const x=d[f],{minX:v,minY:w,maxX:b,maxY:S}=x;es(_[0],_[1],_[2],_[3],v,w,b,S)&&(x.objects&&x.objects.push(m),(x.level>=c||Math.abs(b-v)<=Math.abs(_[2]-_[0])||Math.abs(S-w)<=Math.abs(_[3]-_[1]))&&(x.final=!0),y?y.push(x):y=[x])}y&&y.splice(y.indexOf(e),1)}}e.children=d,e.objects=null,e.leaf=!1}point(e,t,n){let r=[];const i=[this._root];let s,o,a;const l=this._getBounds;for(;s=i.pop();)if(e>=s.minX&&e<=s.maxX&&t>=s.minY&&t<=s.maxY){if(s.leaf){n&&s.objects&&(r=s.objects);const c=s.objects||[];for(let d=0,u=c.length;d<u;d++)a=c[d],o=l(a),e>=o[0]&&e<=o[2]&&t>=o[1]&&t<=o[3]&&r.push(a);break}i.push.apply(i,s.children)}return r.length?r:null}neigbours(e,t){let n,r=[];const i=[this._root];for(;n=i.pop();)if(e>=n.minX&&e<=n.maxX&&t>=n.minY&&t<=n.maxY){if(n.leaf){r=n.objects;break}i.push.apply(i,n.children)}return r}query(e,t,n,r){const i=[],s=[this._root];let o,a,l;const c=this._getBounds,d={},u=this._intersects;let h;for(;o=s.pop();)if(es(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY))if(o.leaf){const g=o.objects||[];for(let p=0,m=g.length;p<m;p++)l=g[p],d[l]||(a=c(l),es(e,t,n,r,a[0],a[1],a[2],a[3])&&(u&&!u(l,e,t,n,r)||i.push(l)),d[l]=!0)}else h=Iu(e,t,n,r,o.minX,o.minY,o.maxX,o.maxY),s.push(o.children[(h+3)%4],o.children[(h+2)%4],o.children[(h+1)%4],o.children[h]);return i}traverse(e,t,n,r,i){const s=[],o=[this._root];let a,l,c;const d=this._getBounds,u={},h=this._intersects;let g;for(;a=o.pop();)if(es(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY))if(a.leaf){const p=a.objects||[];for(let m=0,_=p.length;m<_;m++)if(c=p[m],!u[c]){if(l=d(c),es(e,t,n,r,l[0],l[1],l[2],l[3])&&(!h||h(c,e,t,n,r))&&(s.push(c),i(c)))return s;u[c]=!0}}else g=Iu(e,t,n,r,a.minX,a.minY,a.maxX,a.maxY),o.push(a.children[(g+3)%4],a.children[(g+2)%4],a.children[(g+1)%4],a.children[g]);return s}getOverlaps(){const e=[this._root];let t,n,r;const i=[],s=this._getBounds,o={};for(;t=e.pop();)if(t.leaf){const a=t.objects||[],l=a.length;for(let c=0;c<l;c++)for(let d=0;d<l;d++)if(n=a[c],r=a[d],c!==d&&!o[n+":"+r]&&!o[r+":"+n]){o[n+":"+r]=!0;const u=s(n),h=s(r);es(u[0],u[1],u[2],u[3],h[0],h[1],h[2],h[3])&&i.push(n,r)}}else e.push.apply(e,t.children);return i}cover(e,t,n,r){if(this._root===null)return this._root=Ki(e,t,n,r,null,0),this;let i=this._root;if(!pc(e,t,n,r,i.minX,i.minY,i.maxX,i.maxY)){let s=this._rootLevel;for(;!pc(e,t,n,r,this._root.minX,this._root.minY,this._root.maxX,this._root.maxY);){i=this._root;const{minX:c,minY:d,maxX:u,maxY:h}=i;let g=c,p=d,m=u,_=h;const y=Math.abs(u-c),f=Math.abs(h-d);if(f===0&&y===0)break;const x=Math.max(y,f);e<c?(g-=x,t<d?p-=x:_+=x):(m+=x,t<d?p-=x:_+=x);const v=Ki(g,p,m,_,null,--s);this.splitNode(v),v.children[Iu(c,d,u,h,g,p,m,_)]=i,this._root=i.parent=v}const o=[this._root];let a,l;for(this._root.level=this._rootLevel;a=o.shift();)if(l=a,!l.leaf)for(let c=0;c<4;c++){const d=l.children[c];d.level=l.level+1,o.push(d)}}return this}getAll(){return Object.keys(this._objects).map(e=>Number(e))}forEach(e,t){const n=[this._root];let r;for(;r=n.pop();)if(r.leaf&&r.objects)for(let i=0,s=r.objects.length;i<s;i++)e.call(t,r.objects[i]);else n.push.apply(n,r.children);return this}getLeafs(){const e=[this._root],t=[];let n;for(;n=e.pop();)n.leaf?t.push(n):e.push.apply(e,n.children);return t}traverseFromRoot(e,t){const n=[this._root];let r;for(;r=n.pop();)e.call(t,r,r.objects)||r.leaf||n.push.apply(n,r.children);return this}update(e,t,n,r,i){return this.remove(e),this.insert(e,t,n,r,i),this}getNodeBounds(e){return _N(e)}};Na.flatAccessor=(e,t)=>n=>{const r=t*n;return e.slice(r,r+t)},Na.inside=pc,Na.intersects=EB,Na.overlaps=es,Na.getNodeBBox=_N;var yN=Na;function LB(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return xN(this.cover(t,n),t,n,e)}function xN(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s,o,a,l,c,d,u,h,g=e._root,p={data:r},m=e._x0,_=e._y0,y=e._x1,f=e._y1;if(!g)return e._root=p,e;for(;g.length;)if((c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o,i=g,!(g=g[u=d<<1|c]))return i[u]=p,e;if(a=+e._x.call(null,g.data),l=+e._y.call(null,g.data),t===a&&n===l)return p.next=g,i?i[u]=p:e._root=p,e;do i=i?i[u]=new Array(4):e._root=new Array(4),(c=t>=(s=(m+y)/2))?m=s:y=s,(d=n>=(o=(_+f)/2))?_=o:f=o;while((u=d<<1|c)==(h=(l>=o)<<1|a>=s));return i[h]=g,i[u]=p,e}function NB(e){var t,n,r,i,s=e.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,d=-1/0,u=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,a[n]=i,r<l&&(l=r),r>d&&(d=r),i<c&&(c=i),i>u&&(u=i));if(l>d||c>u)return this;for(this.cover(l,c).cover(d,u),n=0;n<s;++n)xN(this,o[n],a[n],e[n]);return this}function IB(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=s;)switch(a=(t<r)<<1|e<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this}function MB(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function PB(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function mr(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function FB(e,t,n){var r,i,s,o,a,l,c,d=this._x0,u=this._y0,h=this._x1,g=this._y1,p=[],m=this._root;for(m&&p.push(new mr(m,d,u,h,g)),n==null?n=1/0:(d=e-n,u=t-n,h=e+n,g=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(s=l.y0)>g||(o=l.x1)<d||(a=l.y1)<u))if(m.length){var _=(i+o)/2,y=(s+a)/2;p.push(new mr(m[3],_,y,o,a),new mr(m[2],i,y,_,a),new mr(m[1],_,s,o,y),new mr(m[0],i,s,_,y)),(c=(t>=y)<<1|e>=_)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var f=e-+this._x.call(null,m.data),x=t-+this._y.call(null,m.data),v=f*f+x*x;if(v<n){var w=Math.sqrt(n=v);d=e-w,u=t-w,h=e+w,g=t+w,r=m.data}}return r}function RB(e){if(isNaN(s=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,s,o,a,l,c,d,u,h,g=this._root,p=this._x0,m=this._y0,_=this._x1,y=this._y1;if(!g)return this;if(g.length)for(;;){if((c=s>=(a=(p+_)/2))?p=a:_=a,(d=o>=(l=(m+y)/2))?m=l:y=l,t=g,!(g=g[u=d<<1|c]))return this;if(!g.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,h=u)}for(;g.data!==e;)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[u]=i:delete t[u],(g=t[0]||t[1]||t[2]||t[3])&&g===(t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[h]=g:this._root=g),this):(this._root=i,this)}function DB(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function zB(){return this._root}function OB(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function BB(e){var t,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new mr(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,s=t.x1,o=t.y1)&&l.length){var c=(r+s)/2,d=(i+o)/2;(n=l[3])&&a.push(new mr(n,c,d,s,o)),(n=l[2])&&a.push(new mr(n,r,d,c,o)),(n=l[1])&&a.push(new mr(n,c,i,s,d)),(n=l[0])&&a.push(new mr(n,r,i,c,d))}return this}function jB(e){var t,n=[],r=[];for(this._root&&n.push(new mr(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var s,o=t.x0,a=t.y0,l=t.x1,c=t.y1,d=(o+l)/2,u=(a+c)/2;(s=i[0])&&n.push(new mr(s,o,a,d,u)),(s=i[1])&&n.push(new mr(s,d,a,l,u)),(s=i[2])&&n.push(new mr(s,o,u,d,c)),(s=i[3])&&n.push(new mr(s,d,u,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function UB(e){return e[0]}function $B(e){return arguments.length?(this._x=e,this):this._x}function VB(e){return e[1]}function GB(e){return arguments.length?(this._y=e,this):this._y}function vN(e,t,n){var r=new nv(t??UB,n??VB,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function nv(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function qE(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var dr=vN.prototype=nv.prototype;dr.copy=function(){var e,t,n=new nv(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=qE(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=qE(t));return n},dr.add=LB,dr.addAll=NB,dr.cover=IB,dr.data=MB,dr.extent=PB,dr.find=FB,dr.remove=RB,dr.removeAll=DB,dr.root=zB,dr.size=OB,dr.visit=BB,dr.visitAfter=jB,dr.x=$B,dr.y=GB;var Ql=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},HB=function(e){const t=[];let n,r,i,s,o,a,l,c=this._root;for(c&&t.push(new Ql(c,this._x0,this._y0,this._x1,this._y1));(n=t.pop())&&(l=e(c=n.node,i=n.x0,s=n.y0,o=n.x1,a=n.y1),l!=="break");)if(!l&&c.length){const d=(i+o)/2,u=(s+a)/2;(r=c[3])&&t.push(new Ql(r,d,u,o,a)),(r=c[2])&&t.push(new Ql(r,i,u,d,a)),(r=c[1])&&t.push(new Ql(r,d,s,o,u)),(r=c[0])&&t.push(new Ql(r,i,s,d,u))}return this};function rv(e,t,n,r,i){const s=new Array(e.length);for(let o=0;o<t.length;o++){const a=r[t[o]],l=r[n[o]];s[a]=s[a]||[],s[a].push(l),i&&(s[l]=s[l]||[],s[l].push(a))}return s}function Ed(e,t){return e[t]===-1?t:Ed(e,e[t])}function WB(e,t,n){const r=Ed(e,t),i=Ed(e,n);e[r]=i}function XB(e,t,n,r=!1){const i=new Int32Array(e.length),s={};for(let o=0;o<e.length;o++)i[o]=-1,s[e[o]]=o;for(let o=0;o<t.length;o++){const a=s[t[o]],l=s[n[o]];if(r&&a===l)return!0;const c=Ed(i,a),d=Ed(i,l);if(c===d)return!0;WB(i,c,d)}return!1}function bN(e,t,n,r,i,s,o,a){if(r[e]=i,n[e])return!0;if(t[e])return!1;t[e]=1,n[e]=1;const l=s[e];if(l){for(const c of l)if(bN(c,t,n,r,e,s,o,a))return o.push(a[c]),!0}return n[e]=0,!1}function wN(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Uint8Array(r),o=new Int32Array(r),a={};for(let c=0;c<r;c++)a[e[c]]=c;const l=rv(e,t,n,a,!1);for(let c=0;c<r;c++){const d=[];if(bN(c,i,s,o,-1,l,d,e)&&d.length>1){const u=d[0];for(let h=1;h<d.length;h++)if(d[h]===u){d.length=h;break}return d.push(u),d.reverse()}}return!1}function EN(e,t,n,r,i,s,o){t[e]=1,r[e]=n;const a=i[e];if(a){for(const l of a)if(t[l]){if(l!==n)return r[l]=e,s.push(o[l]),!0}else if(EN(l,t,e,r,i,s,o))return s.push(o[l]),!0}return!1}function YB(e,t,n){const r=e.length,i=new Uint8Array(r),s=new Int32Array(r),o={};for(let l=0;l<r;l++)o[e[l]]=l,s[l]=-1;const a=rv(e,t,n,o,!0);for(let l=0;l<t.length;l++){const c=o[t[l]],d=o[n[l]];a[c]=a[c]||[],a[c].push(d)}for(let l=0;l<r;l++){const c=l,d=[];if(!i[c]&&EN(c,i,-1,s,a,d,e))return!0}return!1}vN.prototype.visit2=HB;var SN=class{constructor(e,t,n){this.cycles=[],this.visitedLength=0,this.visitedStack=[],this.stack=[],this.idToIndex={},this.removed={},this.nodes=e,this.visited=new Uint8Array(this.nodes.length);for(let r=0;r<e.length;r++)this.idToIndex[e[r]]=r;this.adjacency=rv(e,t,n,this.idToIndex)}getCycles(){this.visited=new Uint8Array(this.nodes.length),this.visitedStack=[];for(let e=0;e<this.nodes.length;e++)for(this.backtrack(e,e);this.visitedLength!==0;){const t=this.visitedStack.pop();t!==void 0&&this.visited[t]&&(this.visited[t]=0,this.visitedLength--)}return this.cycles}backtrack(e,t){let n=!1;this.stack.push(t),this.visited[t]||(this.visited[t]=1,this.visitedLength++),this.visitedStack.push(t);const r=this.adjacency[t]||[];for(const i of r)if(this.removed[t]=this.removed[t]||{},!this.removed[t][i]){if(i<e)this.removed[t][i]=!0;else if(i===e){n=!0;const s=[];for(let o=0,a=!1;o<this.stack.length;o++){const l=this.stack[o];e===l&&(a=!0),a&&s.push(this.nodes[l])}this.cycles.push(s)}else if(!this.visited[i]){const s=this.backtrack(e,i);n=n||s}}if(n){let i;do i=this.visitedStack.pop(),this.visited[i]&&(this.visited[i]=0,this.visitedLength--);while(i!==t)}return this.stack.pop(),n}};function qB(){return{index:{},parent:[],count:0}}function ZB(e,t){e.index[t]===void 0&&(e.count+=1,e.index[t]=e.parent.push(-e.count))}function ZE(e,t){let n=e.index[t];if(n===void 0)return-1;for(;n>=0;)t=n,n=e.parent[n];return t}function QB(e,t,n){e.parent[n]=t,e.count-=1}function KB(e){return e.count<=1}function kN(e,t,n,r,i){i&&t.sort((a,l)=>i(a)-i(l));const s=[],o=qB();e.forEach(a=>ZB(o,a));for(let a=0;a<t.length&&!KB(o);a++){const l=ZE(o,n(t[a])),c=ZE(o,r(t[a]));l!==c&&l>0&&c>0&&(QB(o,l,c),s.push(t[a]))}return s}function AN({adjacency:e,directed:t=!1,normalized:n=!0}){const r=[],i=[],s={},o={},a={},l={};let c;const d=new Array(e.length),u={},h={},g={};for(let f=0;f<e.length;f++){const x=e[f];g[x.id]=x.adj,u[x.id]=!0,h[x.id]=f,t||x.adj.forEach(v=>{u[v]=!0})}const p=Object.keys(u).map(f=>+f);for(let f=0;f<p.length;f++)d[f]=0;for(let f=0;f<p.length;f++)c=p[f],y(c),_();const m=n?p.length>2?1/((p.length-1)*(p.length-2)):0:t?0:.5;if(m)for(let f=0;f<d.length;f++)d[f]*=m;return d;function _(){for(let f=0;f<p.length;f++)l[p[f]]=0;for(;i.length;){const f=i.pop(),x=(1+l[f])/a[f],v=s[f];for(let w=0;w<v.length;++w){const b=v[w];l[b]+=a[b]*x}f!==c&&(d[h[f]]+=l[f])}}function y(f){for(let x=0;x<p.length;x++){const v=p[x];s[v]=[],o[v]=-1,a[v]=0}for(o[f]=0,a[f]=1,r.push(f);r.length;){const x=r.shift();i.push(x),g[x].forEach(v=>{o[v]===-1&&(o[v]=o[x]+1,r.push(v)),o[v]===o[x]+1&&(a[v]+=a[x],s[v].push(x))})}}}var CN=sa&&!!window.PointerEvent,Qp="pointerdown",Kp="pointermove",Jp="pointerup",eu="pointercancel",vl={},zg=0,TN=e=>e.pointerType==="mouse",LN=e=>e.pointerType!=="mouse";function JB(){if(_s&&zg===0&&CN){const e=document.documentElement;e.addEventListener(Qp,NN,!0),e.addEventListener(Kp,IN,!0),e.addEventListener(Jp,Og,!0),e.addEventListener(eu,Og,!0)}zg++}function e4(){if(zg--,_s&&zg===0){const e=document.documentElement;e.removeEventListener(Qp,NN,!0),e.removeEventListener(Kp,IN,!0),e.removeEventListener(Jp,Og,!0),e.removeEventListener(eu,Og,!0)}}function NN(e){vl[e.pointerId]=e}function IN(e){vl[e.pointerId]&&(vl[e.pointerId]=e)}function Og(e){delete vl[e.pointerId]}function em(e,t){e.touches=[];for(const n in vl)e.touches.push(vl[n]);e.changedTouches=[e],t(e)}function t4(e,t,n){const r=i=>{TN(i)||(LN(i)&&i.preventDefault(),em(i,n))};return e(t,Qp,r,!1),r}function n4(e,t,n){const r=i=>{LN(i)&&i.preventDefault(),em(i,n)};return e(t,eu,r,!1),r}function r4(e,t,n){const r=i=>{TN(i)&&i.buttons===0||em(i,n)};return e(t,Kp,r,!1),r}function i4(e,t,n){const r=i=>em(i,n);return e(t,Jp,r,!1),e(t,eu,r,!1),r}function QE(e,t,n,r){return n==="touchstart"?e(t,Qp,r,!1):n==="touchmove"?e(t,Kp,r,!1):n==="touchend"?(e(t,Jp,r,!1),e(t,eu,r,!1)):void 0}var it=class{constructor(e){this._ogma=e}_setModules(e){this._modules=e}onMounted(){}onReady(e){}destroy(e){}},s4=["graphics","legend","brand"],KE=300,JE=300,o4=200,a4=class extends it{constructor(e,{width:t=KE,height:n=JE}={}){super(e),this._layers={},this._focus=!1,this._container=null,this._isFullScreen=!1,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],this._refreshUntil=0,this._currentTime=rr(),this._timeouts=[],this._isDestroyed=!1,this._onDetachDom=[],this._isRealBrowser=Up,this._isDocumentReady=$p,this._inFrame=!1,this._mustRefresh=!1,this._nextFrame=null,this._onWindowResize=()=>this._resize(),this._onWindowFocus=()=>this.refresh(),this._onFullscreenChange=()=>{this._isFullScreen=Oc()},this._width=t,this._height=n}onMounted(){this._modules.settings.register("minimumWidth",KE,()=>this._resize(),!1),this._modules.settings.register("minimumHeight",JE,()=>this._resize(),!1),this._modules.events.register(["beforeNewFrame","newFrame","afterNewFrame","setContainer","resize"]),this._onDetachDom=[],JB(),this.addWindowEventListener("resize",this._onWindowResize).addWindowEventListener("focus",this._onWindowFocus)}onReady(e){e.container&&this.setContainer(e.container)}addWindowEventListener(e,t,n){return this._isRealBrowser&&this.addElementEventListener(window,e,t,n),this}addDirectWindowEventListener(e,t,n){this._isRealBrowser&&window.addEventListener(e,t,n)}removeDirectWindowEventListener(e,t){this._isRealBrowser&&window.removeEventListener(e,t)}addDocumentEventListener(e,t,n){return this._isDocumentReady&&this.addElementEventListener(document.documentElement,e,t,n),t}removeDocumentEventListener(e,t){this._isDocumentReady&&document.documentElement.removeEventListener(e,t)}addMediaListener(e,t){if(this._isDocumentReady&&typeof window.matchMedia=="function"){const n=window.matchMedia(e);n.addListener(t),this._onDetachDom.push(()=>n.removeListener(t))}}addElementEventListener(e,t,n,r){return this._isDestroyed||(e.addEventListener(t,n,r),this._onDetachDom.push(()=>e.removeEventListener(t,n,r))),n}detachFromDom(){this._onDetachDom.forEach(e=>e()),this._onDetachDom=[],this._emptyContainer()}setTimeout(e,t=0){const n=setTimeout(()=>{this._timeouts.splice(this._timeouts.indexOf(n),1),e()},t);return this._timeouts.push(n),n}clearTimeout(e){return e&&(clearTimeout(e),this._timeouts.splice(this._timeouts.indexOf(e),1)),null}clearAllTimeouts(){this._timeouts.forEach(clearTimeout),this._timeouts=[]}stopFrames(){this._isDestroyed=!0,this._nextFrame&&(fL(this._nextFrame),this._nextFrame=null)}isDestroyed(){return this._isDestroyed}getDimensions(){return{width:this._width,height:this._height}}setDimensions(e){this._resize(e)}setLayer(e,t,{automaticResize:n=!1}={}){t&&(t._ogmaLayer=e,n&&(t.style.position="absolute",t.style.top="0px",t.style.left="0px",Mg(t,this._width,this._height,Fr()))),this._layers[e]={element:t,automaticResize:n},this._updateContainerContent()}setContainer(e){let t;if(typeof e=="string"){if(t=document.getElementById(e),!t)throw new Error(`unable to find DOM element with id "${e}"`)}else t=e;if(t===this._container)return;t===null&&this._emptyContainer();const n=this._container;this._isFullScreen=!1,this._container=t,this._container&&["fullscreenchange","webkitfullscreenchange"].forEach(r=>{this.addElementEventListener(this._container,r,this._onFullscreenChange)}),this._resize(),this._updateContainerContent(),this._modules.events.fire("setContainer",{element:t,prevElement:n})}getContainer(){return this._container}appendElement(e){this._container!==null&&this._container.appendChild(e)}focus(){this._focus=!0}blur(){this._focus=!1}hasFocus(){return this._focus}forceResize(){this._resize()}_beforeOrAfterNextFrame(e){const t=e?this._afterNextFramePromises:this._beforeNextFramePromises,n=new Promise(r=>{t.push(()=>(r(void 0),n))});return this._refresh(),n}beforeNextFrame(){return this._beforeOrAfterNextFrame(!1)}afterNextFrame(){return this._beforeOrAfterNextFrame(!0)}refresh(e){e&&(this._refreshUntil=Math.max(this._refreshUntil,e)),this._refresh()}_emptyContainer(){if(this._container){const e=[];for(let t=0;t<this._container.childNodes.length;++t){const n=this._container.childNodes[t];n._ogmaLayer&&e.push(n)}for(let t=0;t<e.length;++t)this._container.removeChild(e[t])}}_fillContainer(){if(this._container){const e=LL(this._container,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&(this._container.style.position="relative");const t=this._container.firstChild;s4.forEach(n=>{const r=this._layers[n];r&&r.element&&this._container&&this._container.insertBefore(r.element,t)})}}_updateContainerContent(){this._emptyContainer(),this._fillContainer()}_resize(e){if(!this._container&&!e)return;const t=this._width,n=this._height;let r,i;if(this._container){const s=this._modules.settings.get("minimumWidth"),o=this._modules.settings.get("minimumHeight"),a=this._container.clientWidth||1,l=this._container.clientHeight||1;r=Math.max(s,e?e.width:a),i=Math.max(o,e?e.height:l)}else e!=null&&(r=e.width,i=e.height);r===t&&i===n||(this._width=r,this._height=i,Xi(this._layers,({element:s,automaticResize:o})=>{o&&Mg(s,r,i)}),this._modules.events.fire("resize",{prevWidth:t,prevHeight:n,width:r,height:i,difWidth:r-t,difHeight:i-n}))}_refresh(){this._inFrame?this._mustRefresh=!0:this._nextFrame||this._isDestroyed||(this._nextFrame=jx(()=>this._playFrame()))}_playFrame(){const e=rr(),t=e-this._currentTime,n=_L([this._beforeNextFramePromises,()=>this._modules.events.fire("beforeNewFrame",{elapsed:t}),()=>this._modules.events.fire("newFrame",{elapsed:t}),()=>this._modules.events.fire("afterNewFrame",{elapsed:t}),this._afterNextFramePromises,()=>{this._inFrame=!1,(this._mustRefresh||e<this._refreshUntil+17)&&(this._mustRefresh=!1,this._refresh())}]);this._inFrame=!0,this._nextFrame=null,this._mustRefresh=!1,this._currentTime=e,this._beforeNextFramePromises=[],this._afterNextFramePromises=[],n.reduce((r,i)=>r.then(()=>{if(!this._isDestroyed)return i()}),Promise.resolve())}isPlayingFrame(){return this._inFrame||!!this._nextFrame}setFullScreen(e){let t=Promise.resolve();return e!==this._isFullScreen?(this._container&&(t=e?l4(this._container):c4()),t.then(()=>new Promise(n=>{this.setTimeout(()=>{this._isFullScreen=Oc(),n(void 0)},o4)}))):t}isFullScreen(){return Oc()}debounceBeforeFrame(e){let t=!1,n=[];const r=()=>{const i=n;t=!1,n=[],e(),i.forEach(s=>s())};return()=>new Promise(i=>{n.push(i),t||(t=!0,this.beforeNextFrame().then(r))})}destroy(){e4(),this.detachFromDom(),this.clearAllTimeouts(),this.stopFrames()}};function Oc(){return typeof document<"u"&&!!(document.fullscreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)}function l4(e){return Oc()?Promise.resolve():e.requestFullscreen?e.requestFullscreen():e.requestFullScreen?e.requestFullScreen():e.webkitRequestFullScreen?Promise.resolve(e.webkitRequestFullScreen()):e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():Promise.resolve()}function c4(){return Oc()?typeof document>"u"?Promise.resolve():document.exitFullscreen?document.exitFullscreen():document.cancelFullScreen?document.cancelFullScreen():document.webkitCancelFullScreen?Promise.resolve(document.webkitCancelFullScreen()):document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve():Promise.resolve()}var d4=class extends it{constructor(){super(...arguments),this._nodeChanges=[],this._edgeChanges=[],this._shouldTriggerEvents=!1}onMounted(){this._nodeDataList=this._modules.graph.createAttribute(!0,{name:"data",storage:"any"},!1),this._edgeDataList=this._modules.graph.createAttribute(!1,{name:"data",storage:"any"},!1),this._nodeList=this._modules.graph.getNodeAttribute("object"),this._edgeList=this._modules.graph.getEdgeAttribute("object"),this._modules.events.register(["setData","updateNodeData","updateEdgeData"]),this._modules.events.on("addNodes",({nodes:e,objects:t})=>this._onAddElements(e,t)).on("addEdges",({edges:e,objects:t})=>this._onAddElements(e,t)).on("beforeNewFrame",()=>{this._shouldTriggerEvents&&(this._shouldTriggerEvents=!1,this._triggerEvents())})}_onAddElements(e,t){const{isNode:n,size:r,_indexes:i}=e,s=this[n?"_nodeDataList":"_edgeDataList"];for(let o=0;o<r;++o)s.set(i[o],t[o].data)}setProperty(e,t,n,{dispatch:r=!1}={}){this._setDataProperty(e.isNode,e._indexes,t,n,r),this._modules.events.fire("setData",{elements:e})}getProperty(e,t){return this._getDataProperty(e.isNode,e._indexes,t)}_setDataProperty(e,t,n,r,i){i&&typeof r=="function"&&(i=!1);const s=eS(n),o=typeof r=="function",a=e?this._nodeList:this._edgeList,l=e?this._nodeDataList:this._edgeDataList,c=u4(e?this._nodeChanges:this._edgeChanges,s);for(let d=0;d<t.length;++d){const u=t[d];let h=l.get(u);const g=a.get(u),p=i?r[d]:r;let m,_;if(s===null)m=h,_=o?p(g):p,l.set(u,_);else{h==null&&(h={},l.set(u,h));const y=s.length;for(let f=0;f<y;f++){const x=s[f];let v=h[x];f<y-1?(v==null&&(v={},h[x]=v),h=v):(m=v,_=o?p(g):p,h[x]=_)}}c.indexes.push(u),c.previousValues.push(m),c.newValues.push(_)}this._scheduleEvents()}_getDataProperty(e,t,n,r){const i=eS(n);r||(r=new Array(t.length));const s=e?this._nodeDataList:this._edgeDataList;for(let o=0;o<t.length;++o){const a=t[o];let l,c=s.get(a);if(i!==null&&i.length)if(c==null)l=void 0;else{const d=i.length;for(let u=0;u<d&&c;++u)l=c=c[i[u]]}else l=c;r[o]=l}return r}_scheduleEvents(){this._shouldTriggerEvents=!0,this._modules.dom.refresh()}_triggerEvents(){const e=this._prepareEvtPayload(!0),t=this._prepareEvtPayload(!1);this._modules.events.fire("updateNodeData",e),this._modules.events.fire("updateEdgeData",t)}_prepareEvtPayload(e){const t=e?this._modules.graph.nodeList:this._modules.graph.edgeList,n=e?"_nodeChanges":"_edgeChanges";let r=[];const i=this[n];this[n]=[];const s=[];for(let o=0;o<i.length;++o){const{indexes:a,property:l,newValues:c,previousValues:d}=i[o];r=r.concat(a||[]),e?s.push({property:l,newValues:c,previousValues:d,nodes:t(a)}):s.push({property:l,newValues:c,previousValues:d,edges:t(a)})}return e?{nodes:t(r).dedupe(),isNode:e,changes:s}:{edges:t(r).dedupe(),isNode:e,changes:s}}};function u4(e,t){for(let r=0;r<e.length;++r){const i=e[r],s=i.property;if(t===null&&s===null)return i;if(t&&s&&s.length===t.length){let o=!0;for(let a=0;a<s.length;++a)if(s[a]!==t[a]){o=!1;break}if(o)return i}}const n={property:t&&t.slice(),indexes:[],previousValues:[],newValues:[],nodes:null,edges:null};return e.push(n),n}function eS(e){return typeof e=="string"?e.split("."):Rn(e)?e:null}var h4=[];function MN(e){typeof e=="object"&&e!==null||(e={});const t=typeof e.data=="function"?e.data:Ni;return{attributes:Array.isArray(e.attributes)?e.attributes:e.attributes||h4,data:t}}function tm(e,t){for(const n of e){const r=t;Object.keys(r).forEach(i=>{const s=r[i];n.prototype[i]=function(o,a){return ao(`Deprecated method "${i}"; please use "${s}" instead.`),this[s](o,a)}})}}function tS(e){const t=e.getFlexArray("removed"),n=e.getFlexArray("excluded"),r=e.getFlexArray("virtual");return{all:i=>t.get(i)===0,visible:i=>n.get(i)===0,excluded:i=>n.get(i)===1,raw:i=>r.get(i)===0&&t.get(i)===0,_all:i=>!0}}function nS(e,t,n){return{all:Mu(n.all,e,t),visible:Mu(n.visible,e,t),raw:Mu(n.raw,e,t),_all:Mu(n._all,e,t)}}function Mu(e,t,n){let r=null;return{getList(){if(!r){const i=t(),s=n();s.reset();for(let o=1;o<=i;++o)e(o)&&s.push(o);r=s.sliceAndReset()}return r},invalidList(){r=null}}}function PN(e){if(e===void 0)return Math.round(Math.random()*Number.MAX_SAFE_INTEGER);if(typeof e!="string"&&(typeof e!="number"||!isFinite(e)))throw new Error(`${e} is not a valid id, expected string or number`);return e}function Bg(e,t,n={},r={}){return Sd(e,t,[n],r).get(0)}function g4(e,{nodes:t=[],edges:n=[]},r={}){if(e.fireEvent("preAddGraph",{name:"preAddGraph"}),!r.batchSize)return Promise.all([Sd(e,!0,t,r),Sd(e,!1,n,r)]).then(([s,o])=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{nodes:s,edges:o}),{nodes:s,edges:o}));let i;return bl(e,!0,t,r).then(s=>(i=s,bl(e,!1,n,r))).then(s=>({nodes:i,edges:s})).then(s=>(e.fireEvent("postAddGraph",{name:"postAddGraph"}),e.fireEvent("addGraph",{name:"addGraph"}),s))}function bl(e,t,n,r={}){if(r.batchSize){const i=[];for(let a=0;a<n.length;a+=r.batchSize)i.push(n.slice(a,a+r.batchSize));const s=(a,l)=>{let c;return a.then(d=>(c=d,e.getDom().afterNextFrame())).then(()=>Sd(e,t,l,r)).then(d=>c.concat(d))},o=t?e.nodeList():e.edgeList();return i.reduce(s,Promise.resolve(o))}return Promise.resolve(Sd(e,t,n,r))}function Sd(e,t,n,r){e.fireEvent("preAddElements",{name:"preAddElements",objects:n,isNode:t});const i=!!r.ignoreInvalid,s=e.storage.fetch(t),o=[],a=[],l=[],c=[],d=new Set,{virtual:u=!1}=r;for(const w of n){if(typeof w!="object"||w===null||Array.isArray(w)){if(i)continue;throw new Error(`${w} is not a valid ${t?"node":"edge"}`)}const b=PN(w.id);if(!s.getIndex(b,!1)&&!d.has(b)){if(!t){const S=w,k=e.getExtremityIndex(b,S.source,0,i),C=e.getExtremityIndex(b,S.target,1,i);if(i&&(!k||!C))continue;l.push(k),c.push(C)}a.push(b),o.push(w),d.add(b)}}const h=s.addElements(a);t?e.topology.allocateNodes(h):e.topology.allocateEdges(h,l,c);const g=s.getFlexArray("object"),p=s.getFlexArray("excluded"),m=s.getFlexArray("removed"),_=s.getFlexArray("virtual"),y=t?e.node:e.edge,f=t?e.nodeList:e.edgeList,x=e.getCacheLists(t),v=f(h);for(let w=0;w<h.length;w++){const b=h[w];g.set(b,y(b))}return p.setMultiple(h,0),m.setMultiple(h,0),_.setMultiple(h,u?1:0),x.visible.invalidList(),x.all.invalidList(),x._all.invalidList(),u||x.raw.invalidList(),v.size!==0&&(t?e.fireEvent("addNodes",{virtual:u,objects:o,nodes:v}):e.fireEvent("addEdges",{virtual:u,objects:o,edges:v})),v}var p4=1,m4=2,f4=3,_4=4,y4=5,x4=6,A_="_visible",C_="_data",v4="_compound",Bc="_hovered",T_="_hoverExtremityHighlighted",nn="_selected",L_="_selectionExtremityHighlighted",zh="_dragged",FN="_rewirable",Do="_export",dn="_faded",zs="_transparent",b4="_visual_groups",tu=-1,Pu="in",Fu="out",ff="both",rS=[nn,zh,L_,Bc,T_,FN,Do,dn,zs,b4],RN=2,w4=-1,DN=3,E4=3,S4=4,zN=-1,k4=["hover","zoom","panning","rotation","gesture","drag","selection","tooltip","user","interactions","resizing","rewiring","connectNodes","lasso"],Sa=void 0,A4=class{constructor(e){this._neighborTable=new E_,this._parallelTable=new E_,this._parallelEdgesIndex=[],this._fakeDeduper={get:()=>0,set:ft,reset(){return this}},this._fakeInvertedDeduper={get:()=>1,set:ft,reset(){return this}},this._graph=e,this.nodeDeduper=e.createNodeAttribute({storage:1},!1),this.edgeDeduper=e.createEdgeAttribute({storage:1},!1),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target")}getAdjacentDirections(e){return this._neighborTable.get(e)}getEdgeIndexesInDirection(e){return this._parallelTable.get(e)}allocateNodes(e){this._neighborTable.reserve(e.length);for(let t=0;t<e.length;++t)this._neighborTable.addEntry(e[t])}allocateEdges(e,t,n){this._parallelTable.reserve(Math.floor(e.length/2));for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=n[r];this._sourceList.set(i,s),this._targetList.set(i,o),this.addToAdjacencyList(i)}}getExtremity(e,t){const n=e?this._sourceList:this._targetList;if(t.isList){const r=this._graph.acquireIndexList(!0);for(let i=0;i<t._indexes.length;i++)r.push(n.get(t._indexes[i]));return this._graph.nodeList(r.sliceAndReset())}return this._graph.getObjectList(!0).get(n.get(t._index))}setExtremities(e,t,n){for(let r=0;r<e.length;++r)this.removeFromAdjacencyList(e[r]);t!==null&&this._sourceList.setMultiple(e,t),n!==null&&this._targetList.setMultiple(e,n);for(let r=0;r<e.length;++r)this.addToAdjacencyList(e[r])}addToAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Wl(t,n);let i=this._parallelEdgesIndex[r];i===Sa&&(i=this._parallelTable.addEntry(),this._parallelEdgesIndex[r]=i,this._neighborTable.addTo(t,i),t!==n&&this._neighborTable.addTo(n,i)),this._parallelTable.addTo(i,e)}removeFromAdjacencyList(e){const t=this._sourceList.get(e),n=this._targetList.get(e),r=Wl(t,n),i=this._parallelEdgesIndex[r];i!==Sa&&this._parallelTable.removeFromAndGetSize(i,e)===0&&(this._neighborTable.removeFrom(t,i),t!==n&&this._neighborTable.removeFrom(n,i),this._parallelEdgesIndex[r]=Sa)}getParallelEdges(e,t={}){const n=t.filter||"visible",r=this._graph.acquireIndexList(!1),i=this._graph.getFilter(!1,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s],a=Wl(this._sourceList.get(o),this._targetList.get(o)),l=this._parallelEdgesIndex[a];if(l!==Sa){const c=this._parallelTable.get(+l);if(c)for(const d of c)i(d)&&r.push(d)}}return this._graph.edgeList(r.sliceAndReset())}fastGetNodesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=this._neighborTable.get(o);for(const l of a){const c=this._parallelTable.get(l),d=c[0],u=r.get(d),h=i.get(d);if(u!==0&&h!==0){t.push(u+h-o);for(const g of c)n.push(g)}}}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}fastGetEdgesAdjacentElements(e){const t=this._graph.acquireIndexList(!0),n=this._graph.acquireIndexList(!1),r=this._sourceList,i=this._targetList;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),l=i.get(o),c=Wl(a,l),d=this._parallelEdgesIndex[c];if(d!==Sa){const u=this._parallelTable.get(+d);if(u)for(const h of u)n.push(h)}t.push(a),t.push(l)}return{nodes:this._graph.nodeList(t.sliceAndReset()),edges:this._graph.edgeList(n.sliceAndReset())}}getDeduper(e){return(e?this.nodeDeduper:this.edgeDeduper).reset()}collectAdjacentEdges(e,t,n,r=!1,i=!1){const s=t===Pu,o=!(t===Fu||s||i),a=this._graph.acquireIndexList(!1),l=this._graph.getFilter(!1,n),c=r?this.getDeduper(!1):this._fakeDeduper;let d=this._fakeInvertedDeduper;const u=this._sourceList,h=this._targetList;if(i){d=this.getDeduper(!0);for(let g=0;g<e.length;g++)d.set(e[g],1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);if(o)for(const f of y)l(f)&&c.get(f)===0&&(a.push(f),c.set(f,1));else for(const f of y){const x=u.get(f),v=h.get(f),w=x+v-p;s!==(v===p)&&x!==v||!l(f)||c.get(f)!==0||d.get(w)!==1||(a.push(f),c.set(f,1))}}}return a.sliceAndReset()}collectAdjacentNodes(e,t,n,r=!1,i,s){const o=t!==Pu,a=t!==Fu,l=this._graph.acquireIndexList(!0),c=this._graph.getFilter(!1,n),d=r?this.getDeduper(!0):this._fakeDeduper,u=this._sourceList,h=this._targetList;if(i)for(let g=0;g<i.length;g++){const p=i[g];l.push(p),d.set(p,1)}if(s)for(let g=0;g<s.length;g++){const p=s[g];d.set(p,1)}for(let g=0;g<e.length;g++){const p=e[g],m=this._neighborTable.get(p);for(const _ of m){const y=this._parallelTable.get(_);for(const f of y)if(c(f)){const x=u.get(f),v=h.get(f),w=x+v-p;if((a&&p===v||o&&p===x)&&d.get(w)===0){l.push(w),d.set(w,1);break}}}}return l.sliceAndReset()}getAdjacentElements(e,t,n={}){const r=n.direction||ff,i=n.filter||"visible",s=n.policy||"union",o=!!n.bothExtremities;if(e){const a=s==="include-sources"?t:null,l=s==="exclude-sources"?t:null;return this.collectAdjacentNodes(t,r,i,!0,a,l)}return this.collectAdjacentEdges(t,r,i,!0,o)}getEdgesBetweenTwoNodes(e,t){const n=Wl(e,t),r=this._parallelEdgesIndex[n];if(r===Sa)return new Uint32Array;const i=this._parallelTable.get(+r);return new Uint32Array(i)}getConnectedComponents(e,{filter:t="visible",returnIds:n=!1,internalIndexes:r=!1}={}){const i=this._graph,s=[],o={},a=i.acquireIndexList(!0);let l;typeof t=="string"?l=i.getFilter(!0,t):(l=t,t="visible");for(let u=0;u<e.length;u++){const h=e[u];l(h)&&a.push(h)}const c=a.sliceAndReset(),d={filter:t};for(let u=0;u<c.length;u++){const h=c[u];if(!o[h]){const g=[h],p=[];for(;g.length!==0;){const m=g.pop();!o[m]&&l(m)&&(g.push.apply(g,this.getAdjacentElements(!0,new Uint32Array([m]),d)),o[m]=!0,p.push(m))}p.length>0&&s.push(p)}}if(n){const u=i.getNodeAttribute("id");for(let h=0;h<s.length;h++)s[h]=u.getMultiple(s[h])}else if(!r)for(let u=0;u<s.length;u++)s[u]=i.nodeList(new Uint32Array(s[u]));return s}getAdjacencyList({directed:e,ids:t,weight:n,nodes:r}){const i=e?Fu:ff,s=new Array(r.length),o=this._graph;for(let p=0;p<r.length;++p)s[p]=this.collectAdjacentEdges(new Uint32Array([r[p]]),i,"all");const a=o.getEdgeAttribute("source"),l=o.getEdgeAttribute("target"),c=o.getEdgeAttribute("width"),d=o.getNodeAttribute("id"),u=[],h=typeof n=="number",g=typeof n!="function"&&!h&&!!n;for(let p=0;p<s.length;p++){const m=s[p],_=r[p],y=m.length,f=t?new Array(y):new Uint32Array(y),x=new Array(y);for(let w=0;w<y;w++){const b=m[w],S=a.get(b),k=l.get(b);let C=e||_===S?k:S;if(t&&(C=d.get(C)),f[w]=C,n){if(h&&(x[w]=n),typeof n=="function"){const A=o.getNode(S),N=o.getNode(k);x[w]=n(A,N)}g&&(x[w]=c.get(b)||1)}}const v=Se({nodes:f,id:t?d.get(_):_},n&&{weights:x});u.push(v)}return u}degrees(e,t){if(t!==Pu&&t!==Fu)return this._neighborTable.sizes(e);const n=new Array(e.length),r=t===Pu;for(let i=0,s=e.length;i<s;i++)n[i]=this._degree(e[i],r);return n}_degree(e,t){const n=this._neighborTable.get(e),r=this._sourceList,i=this._targetList;let s=0;for(let o=0;o<n.length;++o){const a=this._parallelTable.get(n[o]);for(let l=0;l<a.length;++l){const c=a[l],d=r.get(c),u=i.get(c);if(t&&u===e||!t&&d===e){s+=1;break}}}return s}getDegree(e,t){const{direction:n,filter:r}=this._getDegreeOptions(t),i=new Array(e.length),s=new Uint32Array(1);for(let o=0;o<e.length;++o)s[0]=e[o],i[o]=this.collectAdjacentNodes(s,n,r).length;return i}_getDegreeOptions(e){const t={direction:ff,filter:"visible"};return typeof e=="string"?t.direction=e:e&&(typeof e.direction=="string"&&(t.direction=e.direction),typeof e.filter=="string"&&(t.filter=e.filter)),t}};function ON(e,t,n){const r=e.getObjectList(t.isNode);for(let i=0;i<t._indexes.length;++i){const s=t._indexes[i];n(r.get(s),i)}}function BN(e,t,n){const r=new Array(t.size),i=e.getObjectList(t.isNode);for(let s=0;s<t._indexes.length;++s){const o=t._indexes[s],a=i.get(o);r[s]=n(a,s)}return r}function jN(e,t,n){n=n||Xp;const r=t.isNode,i=e.acquireIndexList(r),s=e.getObjectList(r),o=e.getListFactory(r);for(let a=0;a<t._indexes.length;++a){const l=t._indexes[a],c=s.get(l);c&&n(c,a)&&i.push(l)}return o(i.sliceAndReset())}function UN(e,t,n,r){const i=e.getListFactory(t.isNode);if(!n)return{valid:t,invalid:i()};const s=e.acquireIndexList(t.isNode),o=e.acquireIndexList(t.isNode),a=e.getObjectList(t.isNode);for(let l=0;l<t._indexes.length;l++){const c=t._indexes[l],d=a.get(c);d!==void 0&&(n(d,r)?s:o).pushUnchecked(c)}return{valid:i(s.sliceAndReset()),invalid:i(o.sliceAndReset())}}function $N(e,t,n,r){const i=e.getObjectList(t.isNode);let s=r;for(let o=0;o<t._indexes.length;++o){const a=t._indexes[o];s=n(s,i.get(a),o)}return s}function VN(e,t){const n=t.isNode,r=e.topology.getDeduper(n),i=e.acquireIndexList(n),s=e.getListFactory(n);for(let o=0;o<t._indexes.length;o++){const a=t._indexes[o];r.get(a)===0&&(r.set(a,1),i.push(a))}return s(i.sliceAndReset())}function GN(e,t,n){const r=t.isNode,i=n.topology.getDeduper(r),s=n.acquireIndexList(r),o=n.getListFactory(r);for(let a=0;a<t._indexes.length;a++){const l=t._indexes[a];i.set(l,1)}for(let a=0;a<e._indexes.length;a++){const l=e._indexes[a];i.get(l)===0&&s.push(l)}return o(s.sliceAndReset())}function HN(e,t){const n=t.isNode,r=e.storage.fetch(n),i=r.getFlexArray("excluded"),s=r.getMaxIndex(),o=e.topology.getDeduper(n),a=e.acquireIndexList(n),l=e.getListFactory(n);for(let c=0;c<t._indexes.length;c++)o.set(t._indexes[c],1);for(let c=1;c<=s;++c)o.get(c)===0&&i.get(c)===0&&a.push(c);return l(a.sliceAndReset())}function WN(e,t,n){const r=e.getListFactory(t.isNode),i=new Uint32Array(t._indexes.length+n._indexes.length);return i.set(t._indexes),i.set(n._indexes,t._indexes.length),r(i)}function XN(e,t){return e.getObjectList(t.isNode).getMultiple(t._indexes)}function nm(e,t){const n=e.getStorage(t.isNode);if(t.isList){const r=new Array(t.size);for(let i=0;i<t._indexes.length;++i)r[i]=n.getId(t._indexes[i]);return r}return n.getId(t._index)}function YN(e,t){return e.topology.getExtremity(!0,t)}function qN(e,t){return e.topology.getExtremity(!1,t)}function ZN(e,t,n){return e.getObjectList(t.isNode).get(t._indexes[n])}function QN(e,t,n){const r=e.getListFactory(t.isNode),i=e.getObjectList(t.isNode),s=t._indexes.slice();return s.sort((o,a)=>{const l=i.get(o),c=i.get(a);return n(l,c)}),r(s)}var iS=new Uint32Array(1),po=class{constructor(e,t){this.size=1,this.isNode=!1,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return iS[0]=this._index,iS}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.filter(n=>n!==this).dedupe()}}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.modules.graph.edgeList(new Uint32Array([this._index]))}getId(){return nm(this._ogma.modules.graph,this)}getSource(){return YN(this._ogma.modules.graph,this)}getTarget(){return qN(this._ogma.modules.graph,this)}getExtremities(){return this._ogma.modules.graph.nodeList(new Uint32Array([this.getSource()._index,this.getTarget()._index]))}setSource(e){this._ogma.modules.graph.setSource(this,e)}setTarget(e){this._ogma.modules.graph.setTarget(this,e)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=MN(e);return{id:this.getId(),source:this.getSource().getId(),target:this.getTarget().getId(),attributes:this.getAttributes(t),data:n(cn(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};tm([po],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var pa=class{constructor(e,t){this.isList=!0,this.isNode=!1,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getParallelEdges(e){return this._ogma.modules.graph.getParallelEdges(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetEdgesAdjacentElements(this)}getAdjacentElements(){const{nodes:e,edges:t}=this.fastGetAdjacentElements();return{nodes:e.dedupe(),edges:t.subtract(this).dedupe()}}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return XN(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.edgeList(this._indexes.slice())}getId(){return nm(this._ogma.modules.graph,this)}getSource(){return YN(this._ogma.modules.graph,this)}getTarget(){return qN(this._ogma.modules.graph,this)}getExtremities(){return this.getSource().concat(this.getTarget())}get(e){return ZN(this._ogma.modules.graph,this,e)}forEach(e){ON(this._ogma.modules.graph,this,e)}map(e){return BN(this._ogma.modules.graph,this,e)}filter(e){return jN(this._ogma.modules.graph,this,e)}reduce(e,t){return $N(this._ogma.modules.graph,this,e,t)}concat(e){return WN(this._ogma.modules.graph,this,e)}dedupe(){return VN(this._ogma.modules.graph,this)}subtract(e){return GN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.edgeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof po?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}sort(e){return QN(this._ogma.modules.graph,this,e)}inverse(){return HN(this._ogma.modules.graph,this)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1,ignoreCurvature:t=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e,t)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!Rn(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaEdge(){return this._ogma.modules.grouping.getMetaElement(this)}getSubEdges(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};tm([pa],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute"});var Hs="geo.latitude",Ws="geo.longitude",sS="geo.prevLat",_f="geo.prevLng",kd=85.0511287798,jg=1,C4='Map data &copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap contributors</a>',zo={latitudePath:"latitude",longitudePath:"longitude",maxZoomLevel:22,minZoomLevel:0,wrapCoordinates:!0,tileUrlTemplate:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",tileUrlSubdomains:"abc",attribution:null,attributionOptions:void 0,backgroundColor:"silver",opacity:1,duration:0,disableNodeDragging:!0,tileBuffer:1,sizeRatio:1,tiles:{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",subdomains:"abc",tms:!1,wms:!1},crs:void 0},T4={maxBoundsViscosity:1,worldCopyJump:!0,zoomControl:!1,attributionControl:!1};function oS(e,t){e&&t!==void 0&&isFinite(t)&&e.setOpacity&&e.setOpacity(t)}function aS(){return sa||typeof global<"u"&&!global.process}function yf(e){return Math.log2(e)+jg}function L4(e){return 2**(e-jg)}function lS(e){return e!=null&&!isNaN(e)}function KN(e,t){return eI(e,t,"longitude")}function JN(e,t){return eI(e,t,"latitude")}function eI(e,t,n){if(isNaN(t))throw new TypeError(`node ${e}: ${t} is not a valid ${n}`)}function N4(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function I4(e,t){return t==null&&e.url===zo.tiles.url?C4:null}function M4(e={},t){const{tileUrlSubdomains:n,tileUrlTemplate:r,attribution:i,attributionOptions:s,latitudePath:o,longitudePath:a,sizeRatio:l,tiles:c}=e;if(r!=null&&typeof r!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a URL string");if(n!=null&&typeof n!="string")throw new TypeError("Geo mode: tileUrlTemplate must be a string");if(c!=null){if(!(bn(c)||c instanceof t.Layer))throw new TypeError("Geo mode: tiles must be a object or L.Layer instance");const d=c;if(d.url!=null&&typeof d.url!="string")throw new TypeError("Geo mode: tiles.url must be a string");if(d.subdomains!=null&&typeof d.subdomains!="string")throw new TypeError("Geo mode: tiles.subdomains must be a string");if(d.tms&&typeof d.tms!="boolean")throw new TypeError("Geo mode: tiles.tms must be a boolean");if(d.wms&&typeof d.wms!="boolean")throw new TypeError("Geo mode: tiles.wms must be a boolean")}if(i!=null&&typeof i!="string")throw new TypeError("Geo mode: Map attribution must be a string");if(s!=null&&!bn(s))throw new TypeError("Geo mode: attributionOptions must to be a BrandOptions object");if(o!=null&&typeof o!="string"&&!Array.isArray(o))throw new TypeError("Geo mode: Latitude path must be a valid property path: a string or an array of strings.");if(a!=null&&typeof a!="string"&&!Array.isArray(a))throw new TypeError("Geo mode: Longitude path must be a valid property path: a string or an array of strings.");if(l!=null&&(!isFinite(l)||l<=0))throw new TypeError("Geo mode: sizeRatio must be a positive number.")}function P4(e,t={}){if(t.tiles===void 0||t.tileUrlTemplate||t.tileUrlSubdomains){const n=zo.tiles;return Se(Se(Se({},t.tiles||{}),zo.tiles),{url:t.tileUrlTemplate||n.url,subdomains:t.tileUrlSubdomains||n.subdomains})}return bn(t.tiles)?Se(Se({},e.tiles),t.tiles):t.tiles}function F4(e,t){return e.attribution!==t.attribution||e.tiles!==t.tiles}var R4=ys().createElement("div");function D4(e){const t=ys().createElement("div");t.className="ogma-geo-container",da(t,"100%","100%");const n=e||R4;return n.insertBefore(t,n.firstChild),t}function z4(e){const t=[[1/0,1/0],[-1/0,-1/0]];return e.getGeoCoordinates().reduce((n,{latitude:r,longitude:i})=>{const[s,o]=n;return s[0]=Math.min(s[0],r),s[1]=Math.min(s[1],i),o[0]=Math.max(o[0],r),o[1]=Math.max(o[1],i),n},t)}function O4(e,t,n,r){const i=t._indexes;e.getNodeAttribute(Hs).setMultiple(i,n),e.getNodeAttribute(Ws).setMultiple(i,r)}function B4(e,t,n){const{longitudePath:r,latitudePath:i,wrapCoordinates:s}=n,[o,a]=e.getAttributes(!0,[Hs,Ws]),l=t._indexes,c=t.getId(),d=l.length,u=t.getData(i),h=t.getData(r);for(let g=0;g<d;g++){let p=h[g],m=u[g];const _=l[g],y=c[g];m!=null&&p!=null&&(KN(y,p),JN(y,m),s&&(p%=180,m=Wr(+m,-kd,kd)),a.set(_,p),o.set(_,m))}}function j4(e,{longitudePath:t,latitudePath:n,wrapCoordinates:r},i){const s=e.getData(t),o=e.getData(n);return s!=null&&o!=null&&(!(!r&&!i)||Math.abs(o)<=kd&&Math.abs(s)<=180)}function Ru(e,t,n,r){U4(e,!0,t,n,r)}function U4(e,t,n,r,i){const s=e.getAttribute(t,r),o=e.getAttribute(t,i),a=n._indexes;o.setMultiple(a,s.getMultiple(a))}function $4(e){return e.reduce((t,{nodes:n,newValues:r})=>{if(!n)return t;const i=n.filter((s,o)=>r[o]!=null);return t?t.concat(i):i},null)}function V4(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","radius"]).forEach(({text:n,radius:r},i)=>{t[e.get(i).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:n.minVisibleSize,size:Math.max(1,Number(r))}}),t}function cS(e,t){return e.getAttributes(["text.minVisibleSize","text.size","text.scale","minVisibleSize","width"]).forEach(({text:n,minVisibleSize:r,width:i},s)=>{t[e.get(s).getId()]={"text.minVisibleSize":n.minVisibleSize,"text.size":n.size,"text.scale":n.scale,minVisibleSize:r,size:Math.max(1,Number(i))}}),t}function G4(e,t,n){if(!t||!Object.keys(t).length)return Promise.resolve();const r=e.getId().filter(i=>t[i]).map(i=>{if(!t[i])return 0;const s=Number(t[i]["text.minVisibleSize"]),o=Number(t[i].minVisibleSize),a=Number(t[i]["text.size"]),l=Number(t[i]["text.scale"]),c=Number(t[i].size)*l*n;return c<=o||c<=s?0:a});return e.setAttribute("text.size",r)}function H4(e,t){const n=e.getId().map(r=>{const i=t[r]||{};return Number(i["text.size"])});return e.setAttribute("text.size",n)}var dS=new Uint32Array(1),Qi=class{constructor(e,t){this.size=1,this.isNode=!0,this.isList=!1,this._index=e,this._ogma=t}get _indexes(){return dS[0]=this._index,dS}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)[0]}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)[0]}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this._ogma.modules.camera.graphToScreenCoordinates(this.getPosition())}isInScreen(){const e=this.getPositionOnScreen(),t=this._ogma.modules.camera;return e.x>=0&&e.x<=t.width&&e.y>=0&&e.y<=t.height}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)[0]}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}isInView(e){return this._ogma.modules.locate.isElementInView(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)[0]}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}getConnectedComponent(e){return this._ogma.modules.graph.getConnectedComponentByNode(this,e)[0]}isVisible(){return!this.isExcluded()}isExcluded(){return this._ogma.modules.graph.isExcluded(this)[0]}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this._ogma.nodeList(new Uint32Array([+this._index]))}getId(){return nm(this._ogma.modules.graph,this)}slice(){return this.toList()}toJSON(e={}){const{attributes:t,data:n}=MN(e),r=this.getAttributes(t);return{id:this.getId(),attributes:r,data:n(cn(this.getData()))}}get(e){return e===0?this:void 0}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)[0]}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this._ogma.modules.classes.hasSingleElementClass(e,this)}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)[0]}getGeoCoordinates(){const e=this._ogma.modules.graph,t=e.getNodeAttribute(Hs).get(this._index),n=e.getNodeAttribute(Ws).get(this._index);return{latitude:lS(t)?t:void 0,longitude:lS(n)?n:void 0}}setGeoCoordinates(e){return this.toList().setGeoCoordinates([e]).then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)[0]}isVirtual(){return this._ogma.modules.transformations.isElementVirtual(this)}getTransformation(){return this._ogma.modules.transformations.getElementTransformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)[0]}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)[0]}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};tm([Qi],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var ws=class{constructor(e,t){this.isList=!0,this.isNode=!0,this._indexes=e,this._ogma=t}get size(){return this._indexes.length}setAttributes(e,t){return this._ogma.modules.individualAttributes.setMultipleAttributes(this,e,t)}setAttribute(e,t,n){return this._ogma.modules.individualAttributes.setSingleAttribute(this,e,t,n)}getAttributes(e){return this._ogma.modules.individualAttributes.getMultipleAttributes(this,e)}getAttribute(e){return this._ogma.modules.individualAttributes.getSingleAttribute(this,e)}resetAttributes(e,t){return this._ogma.modules.individualAttributes.resetMultipleAttributes(this,e,t)}getPosition(){return this.getAttributes(["x","y"])}getPositionOnScreen(){return this.getPosition().map(e=>this._ogma.modules.camera.graphToScreenCoordinates(e))}replaceOriginalAttributes(e,t){return this._ogma.modules.individualAttributes.replaceOriginalAttributes(this,e,t)}getPreviousAttributes(e){return this._ogma.modules.individualAttributes.getMultiplePreviousAttributes(this,e)}getPreviousAttribute(e){return this._ogma.modules.individualAttributes.getSinglePreviousAttribute(this,e)}getAdjacentNodes(e){return this._ogma.modules.graph.getAdjacentNodes(this,e)}getAdjacentEdges(e){return this._ogma.modules.graph.getAdjacentEdges(this,e)}getAdjacentElements(e){return{nodes:this._ogma.modules.graph.getAdjacentNodes(this,e).dedupe(),edges:this._ogma.modules.graph.getAdjacentEdges(this,e).dedupe()}}getDegree(e){return this._ogma.modules.graph.getDegree(this,e)}getConnectedComponents(e){return this._ogma.modules.graph.getConnectedComponents(this,e)}fastGetAdjacentElements(){return this._ogma.modules.graph.fastGetNodesAdjacentElements(this)}isVisible(){return this.isExcluded().map(e=>!e)}isExcluded(){return this._ogma.modules.graph.isExcluded(this)}setExcluded(e){return this._ogma.modules.graph.setExcluded(this,e)}setVisible(e){return this.setExcluded(!e)}toList(){return this}toArray(){return XN(this._ogma.modules.graph,this)}clone(){return this._ogma.modules.graph.nodeList(this._indexes.slice())}getId(){return nm(this._ogma.modules.graph,this)}get(e){return ZN(this._ogma.modules.graph,this,e)}forEach(e){ON(this._ogma.modules.graph,this,e)}map(e){return BN(this._ogma.modules.graph,this,e)}filter(e){return jN(this._ogma.modules.graph,this,e)}reduce(e,t){return $N(this._ogma.modules.graph,this,e,t)}concat(e){return WN(this._ogma.modules.graph,this,e)}dedupe(){return VN(this._ogma.modules.graph,this)}subtract(e){return GN(this,e,this._ogma.modules.graph)}slice(e,t){return this._ogma.modules.graph.nodeList(this._indexes.slice(e,t))}indexOf(e){return e instanceof Qi?this._indexes.indexOf(e._index):-1}includes(e){return this.indexOf(e)!==-1}inverse(){return HN(this._ogma.modules.graph,this)}sort(e){return QN(this._ogma.modules.graph,this,e)}toJSON(e={}){return this.map(t=>t.toJSON(e))}setSelected(e){this._ogma.modules.selection.setActive(this,e)}isSelected(){return this._ogma.modules.selection.areActive(this)}locate(e){return this._ogma.modules.locate.locateElements(this,e)}getBoundingBox({includeTexts:e=!1}={}){return this._ogma.modules.locate.getBoundingBox(this,e,e)}setData(e,t){if(arguments.length<2&&(t=e,e=null),typeof t!="function"&&!Rn(t))throw new Error(`invalid argument ${t}; expected array or function`);return this._ogma.modules.data.setProperty(this,e,t,{dispatch:!0}),this}fillData(e,t){return arguments.length<2&&(t=e,e=null),this._ogma.modules.data.setProperty(this,e,t,{dispatch:!1}),this}getData(e){return this._ogma.modules.data.getProperty(this,e||null)}addClass(e,t){return this._ogma.modules.classes.addClassesToElements([e],this,t)}addClasses(e,t){return this._ogma.modules.classes.addClassesToElements(e,this,t)}removeClass(e,t){return this._ogma.modules.classes.removeClassesFromElements([e],this,t)}removeClasses(e,t){return this._ogma.modules.classes.removeClassesFromElements(e,this,t)}hasClass(e){return this.map(t=>this._ogma.modules.classes.hasSingleElementClass(e,t))}getClassList(){return this._ogma.modules.classes.getElementsClassList(this)}getGeoCoordinates(){const e=this._ogma.modules.graph,t=new Array(this._indexes.length),n=e.getNodeAttribute(Hs).getMultiple(this._indexes),r=e.getNodeAttribute(Ws).getMultiple(this._indexes);for(let i=0,s=this._indexes.length;i<s;i++)t[i]={latitude:n[i],longitude:r[i]};return t}setGeoCoordinates(e){const t=this._ogma.modules.geo,n=this.getId(),r=this._indexes,i=new Array(r.length),s=new Array(r.length);if(e===null&&(e=new Array(r.length).fill(null)),e.length!==r.length)throw new RangeError("You must provide coordinates for each node in the NodeList");for(let l=0,c=r.length;l<c;l++){let{latitude:d,longitude:u}=e[l]||{latitude:void 0,longitude:void 0};const h=n[l];d==null&&u==null?d=u=void 0:(JN(h,d),KN(h,u)),i[l]=d,s[l]=u}this.setData(t.latitudePath,i),this.setData(t.longitudePath,s);const{dom:o,graph:a}=this._ogma.modules;return O4(a,this,i,s),this._ogma.modules.geo.isEnabled()?o.afterNextFrame().then(()=>o.afterNextFrame()).then(()=>this):o.afterNextFrame().then(()=>this)}getAnimationInformation(){return this._ogma.modules.graphics.getAnimationInformation(this)}getMetaNode(){return this._ogma.modules.grouping.getMetaElement(this)}getSubNodes(){return this._ogma.modules.grouping.getSubElements(this)}pulse(e){return this._ogma.modules.pulses.pulse(this,e)}};function W4(e,t,n){return wl(e,!0,[t],n)}function X4(e,t,n){return wl(e,!1,[t],n)}function Y4(e,t,n){return wl(e,!0,t,n)}function q4(e,t,n){return wl(e,!1,t,n)}function wl(e,t,n,r={},i=!1){Array.isArray(n)||n instanceof(t?ws:pa)||(n=[n]);const{virtual:s=!1}=r,o={elementsToRemove:e.getElements(t,n),virtual:s};e.fireEvent("requestElementsToDelete",o);let{elementsToRemove:a}=s?{elementsToRemove:n}:o;if(!a.size)return Promise.resolve();a=a.dedupe();const l=e.storage.fetch(t),c=l.getFlexArray("removed");if(a=a.filter(g=>c.get(g._index)===0),t){const g=a.getAdjacentEdges({filter:"all"}),p=g.filter(m=>m.isVirtual());wl(e,!1,g,r,!0),wl(e,!1,p,{virtual:!0},!0)}const d=a._indexes,u=e.getCacheLists(t);if(YL(l.getFlexArray("virtual").getMultiple(d))!==(s?d.length:0))throw new Error("Attempting to remove virtual elements; you should not do that");const h={virtual:s,[t?"nodes":"edges"]:a};if(e.fireEvent(t?"beforeRemoveNodes":"beforeRemoveEdges",h),u.visible.invalidList(),u.all.invalidList(),s||u.raw.invalidList(),e.setExcluded(a,!0),c.setMultiple(d,1),!t)for(let g=0;g<d.length;++g)e.topology.removeFromAdjacencyList(d[g]);return l.removeElements(d),e.fireEvent(t?"removeNodes":"removeEdges",h),Promise.resolve()}tm([ws],{setStyle:"setAttributes",resetStyle:"resetAttributes",getStyle:"getAttribute",setPosition:"setAttributes"});var Z4=class{addNodes(e,t){return bl(this.modules.graph,!0,e,t)}addEdges(e,t){return bl(this.modules.graph,!1,e,t)}addNode(e,t){return Bg(this.modules.graph,!0,e,t)}addEdge(e,t){return Bg(this.modules.graph,!1,e,t)}removeNodes(e,t){return Y4(this.modules.graph,e,t)}removeEdges(e,t){return q4(this.modules.graph,e,t)}removeNode(e,t){return W4(this.modules.graph,e,t)}removeEdge(e,t){return X4(this.modules.graph,e,t)}getNodes(e){return this.modules.graph.getNodes(e)}getEdges(e){return this.modules.graph.getEdges(e)}getNode(e){return this.modules.graph.getNode(e)}getEdge(e){return this.modules.graph.getEdge(e)}clearGraph(){this.modules.graph.clear()}setGraph(e,t){return this.modules.graph.clear(),this.addGraph(e,t)}addGraph(e,t){const n=this.modules.graph.getNodes().size===0,r=g4(this.modules.graph,e,t);return n?this.modules.locate.locateGraph({padding:30,ignoreZoomLimits:!0,duration:0}).then(()=>r):r}createNodeList(){return this.getNodes([])}createEdgeList(){return this.getEdges([])}getConnectedComponents(e={}){return this.modules.graph.getConnectedComponents(this.getNodes(e.filter),e)}getConnectedComponentByNode(e,t){const n=this.modules.graph.getNode(e);if(n===void 0)throw new Error(`getComponentByNode: cannot find node ${e}`);return this.modules.graph.getConnectedComponentByNode(n,t)[0]}},Q4=class extends it{constructor(){super(...arguments),this.storage={nodes:new RE(!0),edges:new RE(!1),fetch(e){return e?this.nodes:this.edges}},this._promisesToResolve=[],this._nodeIndexLists=[],this._edgeIndexLists=[],this._onNewFrame=()=>{this.storage.nodes.freeIndexes(),this.storage.edges.freeIndexes()}}onMounted(){this._modules.events.register(["preAddElements","addNodes","addEdges","preAddGraph","postAddGraph","addGraph","excludedStateChange","clearGraph","beforeRemoveNodes","requestElementsToDelete","removeNodes","beforeRemoveEdges","removeEdges"]),[{name:"excluded",storage:1,default:1},{name:"removed",storage:1,default:1},{name:"virtual",storage:1,default:0}].forEach(e=>{this.createNodeAttribute(e,!0),this.createEdgeAttribute(e,!0)}),this.node=this._ogma.node,this.edge=this._ogma.edge,this.nodeList=this._ogma.nodeList,this.edgeList=this._ogma.edgeList,this._nodes=this.createAttribute(!0,{name:"object",storage:"any"},!0),this._edges=this.createAttribute(!1,{name:"object",storage:"any"},!0),this.createAttribute(!1,{name:"source",storage:32},!0),this.createAttribute(!1,{name:"target",storage:32},!0),this._nodeFilters=tS(this.storage.nodes),this._edgeFilters=tS(this.storage.edges),this._initialize(),this._modules.events.on("newFrame",this._onNewFrame)}onReady(e){if(e.graph){const{nodes:t,edges:n}=e.graph;t&&this.addNodes(t),n&&this.addEdges(n)}}createIndexList(e){return this.storage.fetch(e).createIndexList()}getDom(){return this._modules.dom}acquireIndexList(e){const t=e?this._nodeIndexLists:this._edgeIndexLists;let n=t.find(r=>!r.isBusy());return n||(n=this.createIndexList(e),t.push(n)),n.markBusy(),n}getObjectList(e){return e?this._nodes:this._edges}getListFactory(e){return e?this.nodeList:this.edgeList}getStorage(e){return e?this.storage.nodes:this.storage.edges}getFilter(e,t){const n=e?this._nodeFilters:this._edgeFilters;return n[t]||n.visible}fireEvent(e,t){this._modules.events.fire(e,t)}getCacheLists(e){return e?this._nodeCacheLists:this._edgeCacheLists}_resolvePromises(){const e=this._promisesToResolve;this._promisesToResolve=[],e.forEach(t=>t())}_initialize(){this._nodeCacheLists=nS(()=>this.getNodeMaxIndex(),()=>this.acquireIndexList(!0),this._nodeFilters),this._edgeCacheLists=nS(()=>this.getEdgeMaxIndex(),()=>this.acquireIndexList(!1),this._edgeFilters),this.topology=new A4(this),this._resolvePromises()}getNodeMaxIndex(){return this.storage.nodes.getMaxIndex()}getEdgeMaxIndex(){return this.storage.edges.getMaxIndex()}isExcluded(e){return this.storage.fetch(e.isNode).getFlexArray("excluded").getMultiple(e._indexes)}setExcluded(e,t){const n=t?1:0,r=e.isNode,i=this.storage.fetch(r),s=i.getFlexArray("excluded"),o=i.getFlexArray("removed"),a=this.acquireIndexList(r),l=this.getListFactory(r);for(let d=0;d<e._indexes.length;d++){const u=e._indexes[d],h=s.get(u),g=o.get(u);n!==h&&g===0&&a.push(u)}const c=a.sliceAndReset();if(c.length){this.getCacheLists(e.isNode).visible.invalidList();const d=l(c);s.setMultiple(c,n),this._modules.events.fire("excludedStateChange",{elements:d,value:t})}}addNode(e,t){return Bg(this,!0,e,t)}addEdge(e,t){return Bg(this,!1,e,t)}addNodes(e,t){return bl(this,!0,e,t)}addEdges(e,t){return bl(this,!1,e,t)}getExtremityIndex(e,t,n,r){if(t instanceof Qi)return t._index;{const i=this.storage.nodes.getIndex(t);if(!i&&!r)throw new Error(`addEdge(s): invalid ${n===0?"source":"target"} for edge "${e}"; node "${t}" does not exist`);return i}}getNodes(e){return this.getElements(!0,e)}getEdges(e){return this.getElements(!1,e)}getElements(e,t){const n=e?this.nodeList:this.edgeList,r=e?ws:pa,i=e?Qi:po;if(t&&typeof t!="string"){const s=this.acquireIndexList(e),o=this.storage.fetch(e);if(t instanceof i)s.push(t._index);else if(Rn(t)){const a=t;for(const l of a)if(l instanceof i)s.push(l._index);else{const c=o.getIndex(l);c&&s.push(c)}}else if(t instanceof r){const a=this.getFilter(e,"all"),l=t;for(let c=0;c<l._indexes.length;c++){const d=l._indexes[c];a(d)&&s.push(d)}}return n(s.sliceAndReset())}{const s=t||"visible",o=this.getCacheLists(e)[s];if(!o)throw new Error(`getNodes/getEdges: unexpected argument "${s}"`);return n(o.getList())}}getNode(e){return this._getElement(!0,e)}getEdge(e){return this._getElement(!1,e)}_getElement(e,t){if(t instanceof(e?Qi:po))return t;const n=this.getStorage(e),r=this.getObjectList(e),i=n.getIndex(t);return i?r.get(i):void 0}clear(){this._modules.events.fire("clearGraph",{nodes:this.getNodes("all"),edges:this.getEdges("all")}),this.storage.nodes.clear(),this.storage.edges.clear(),this._initialize()}createAttribute(e,t,n=!1){return this.storage.fetch(e).createFlexArray(t,n)}createNodeAttribute(e,t){return this.createAttribute(!0,e,t)}createEdgeAttribute(e,t){return this.createAttribute(!1,e,t)}getAttribute(e,t){return this.storage.fetch(e).getFlexArray(t)}getAttributes(e,t){return t.map(n=>this.getAttribute(e,n))}getNodeAttribute(e){return this.storage.nodes.getFlexArray(e)}getNodeAttributes(e){return this.getAttributes(!0,e)}getEdgeAttribute(e){return this.storage.edges.getFlexArray(e)}getEdgeAttributes(e){return this.getAttributes(!1,e)}getAllNodeAttributes(){return this.storage.nodes.getAllFlexArrays()}getAllEdgeAttributes(){return this.storage.edges.getAllFlexArrays()}setSource(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,n._indexes,null)}setTarget(e,t){const n=this.getNode(t);n&&this.topology.setExtremities(e._indexes,null,n._indexes)}getParallelEdges(e,t={}){return this.topology.getParallelEdges(e,t)}getEdgesBetweenTwoNodes(e,t){return this.edgeList(this.topology.getEdgesBetweenTwoNodes(e._index,t._index))}getAdjacentDirections(e){return this.topology.getAdjacentDirections(e)}getEdgeIndexesInDirection(e){return this.topology.getEdgeIndexesInDirection(e)}fastGetNodesAdjacentElements(e){return this.topology.fastGetNodesAdjacentElements(e._indexes)}fastGetEdgesAdjacentElements(e){return this.topology.fastGetEdgesAdjacentElements(e._indexes)}getAdjacentNodes(e,t){return this.nodeList(this.topology.getAdjacentElements(!0,e._indexes,t))}getAdjacentEdges(e,t){return this.edgeList(this.topology.getAdjacentElements(!1,e._indexes,t))}getDegree(e,t){return this.topology.getDegree(e._indexes,t)}degrees(e,t){return this.topology.degrees(e,t)}getAdjacencyList({directed:e=!1,internalIndexes:t=!1,weight:n=1,nodes:r,indexes:i}={}){return this.topology.getAdjacencyList({directed:e,weight:n,ids:!t,nodes:i||this.getNodes(r)._indexes})}getConnectedComponents(e,t){return this.topology.getConnectedComponents(e._indexes,t)}getConnectedComponentByNode(e,t){return this.topology.getConnectedComponents(e._indexes,t)}},K4=$p&&document.fonts,J4=200,xf="/qwerty/ [HELLO] ",uS="serif",ej=16,tj=class{constructor(){this._fontFaceSet=K4?document.fonts:null,this._canvas=Dn(),this._ctx=this._canvas.getContext("2d")}_measureText(e,t){return this._ctx.font=`12px ${t}`,this._ctx.measureText(e).width}check(e){if(e===uS)return!0;const t=this._measureText(xf,uS);return this._measureText(xf,e)!==t}load(e){return this._fontFaceSet&&this._fontFaceSet.load?this._fontFaceSet.load(`12px ${e}`):(this._ctx.font=`12px ${e}`,this._ctx.fillText(xf,10,50),Promise.resolve())}},nj=class{constructor(e,t){this._fontLoaderCounter=0,this._loaded=!1,this._value=null,this._timeout=0,this._fontFaceSet=e,this._fontName=t,this._loaded=!1,this._value=null,this._timeout=0,$p&&!this._fontFaceSet.check(this._fontName)||this._setLoaded()}_setLoaded(){this._loaded=!0,this._value=this._fontName}getValue(){return this._value}isLoaded(){return this._loaded}destroy(){clearTimeout(this._timeout)}load(){return this._tryLoad(J4).then(()=>{this._setLoaded()})}_tryLoad(e){return this._fontFaceSet.load(this._fontName).then(()=>{if(!this._fontFaceSet.check(this._fontName)&&this._fontLoaderCounter<ej)return new Promise(t=>{e<6e4&&(this._timeout=setTimeout(t,e))}).then(()=>(this._fontLoaderCounter++,this._tryLoad(1.5*e)))})}},rj=class{constructor(){this._fontFaceSet=new tj,this._fonts={},this._onFontLoaded=[],this._hideUntilFontsLoaded=!0}setHideUntilFontsLoaded(e){this._hideUntilFontsLoaded=e}getFont(e){let t=this._fonts[e];return t||(t=new nj(this._fontFaceSet,e),this._fonts[e]=t,t.isLoaded()||t.load().then(()=>this._triggerFontLoaded(e))),!this._hideUntilFontsLoaded&&e||t.getValue()}onFontLoaded(e){this._onFontLoaded.push(e)}destroy(){this._onFontLoaded=[],Object.keys(this._fonts).forEach(e=>this._fonts[e].destroy())}_triggerFontLoaded(e){this._onFontLoaded.forEach(t=>t(e))}},ij=0,sj=1,oj=2,aj=3,lj=4,cj=5,dj=6,uj=7,hj=8,gj=9,rm=10,pj=0,tI=1,nI=2,iv=30,rI=0,mj=1,fj=2,sv=3,_j=4,yj=5,ov=6,iI=1e-6,ci=Math.PI,jc=2*Math.PI,sI=ci*(5/4),oI=ci*(7/4),aI=ci*(3/4),lI=ci*(1/4),hS=1.1,gS=.07,xj=1,pS=1,mS=.17,vj=1,bj=-ci/2,wj=ci/2,Ej={plain:{dash:0,gap:0},dashed:{dash:3,gap:1},dotted:{dash:1,gap:3}},Sj={right:0,top:-Math.PI/2,left:Math.PI,bottom:Math.PI/2,center:0},kj={right:Math.PI,top:-Math.PI/2,left:0,bottom:Math.PI/2,center:0};function Aj(e,t,n,r){av(e,t,n,r),e.thicknessOrFontSizeScaled=t.widthScaled,e.thicknessOrFontSizeFixed=t.widthFixed,e.strokeWidthScaled=t.stroke.widthScaled,e.strokeWidthFixed=t.stroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.color,e.strokeColor=t.stroke.color,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=t.stroke.minVisibleSize,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}function av(e,t,n,r){e.pieceId=n,e.shape=r,e.x1=t.sourceX,e.y1=t.sourceY,e.x2=t.targetX,e.y2=t.targetY,e.rectWidthOrSourceRadiusScaled=t.sourceRadiusScaled,e.rectWidthOrSourceRadiusFixed=t.sourceRadiusFixed,e.rectHeightOrTargetRadiusScaled=t.targetRadiusScaled,e.rectHeightOrTargetRadiusFixed=t.targetRadiusFixed,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.widthScaled,e.curvature=t.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=t.isSelfLoop,e.isText=!1}function Cj(e,t,n){const r=t.widthScaled+2*t.halo.widthScaled,i=t.widthFixed+2*t.halo.widthFixed;av(e,t,n,"line"),e.thicknessOrFontSizeScaled=r,e.thicknessOrFontSizeFixed=i,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=t.halo.color,e.strokeColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.symbolicSize=t.widthScaled,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1}function Tj(e,t,n,r){av(e,t,n,r);const i=t.widthFixed*mS+vj;e.thicknessOrFontSizeScaled=t.widthScaled*pS,e.thicknessOrFontSizeFixed=t.widthFixed*pS,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=t.widthScaled*mS,e.offsetFixed=i,e.fillColor=t.outline.color,e.strokeColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,t.outline.minVisibleSize),e.strokeMinVisibleSize=0,e.offsetAngle=Math.PI/2,e.symbolicSize=t.widthScaled,e.dashLength=t.shape.dashLength,e.gapLength=t.shape.gapLength,e.hasHead=!!t.shape.head,e.hasTail=!!t.shape.tail,e.isBodyTriangle=t.shape.isBodyTriangle}var Ai=1,Wo=2,Ug=3,N_=1,lo=2,Oo=3,nu=4,Xo=5,Yo=6,mo=7,pi=1,im=2,lv=3,cv=4,Ya=5,ll=6,cl=1,cI=2,dI=3;function Lj(e,t,n){uI(e,t,n),e.pattern.type=mo,e.pattern.attributes.text=t.content,e.pattern.attributes.size=tu,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternColor=t.color,e.patternScale=1,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function Nj(e,t,n){uI(e,t,n),e.pieceId+=ll,e.fillColor=t.backgroundColor,e.shape="roundedSquare"}function uI(e,t,n){const r=t.position==="centered"?0:(n.widthScaled+t.heightScaled)/2+n.stroke.widthScaled,i=t.position==="centered"?0:(n.widthFixed+t.heightFixed)/2+n.stroke.widthFixed+t.padding+t.margin;e.pieceId=Ya,e.shape="square",e.x1=n.sourceX,e.y1=n.sourceY,e.x2=n.targetX,e.y2=n.targetY,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding+1,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=n.sourceRadiusScaled+n.targetRadiusScaled,e.strokeWidthFixed=n.sourceRadiusFixed+n.targetRadiusFixed,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=Math.max(t.minVisibleSize,n.minVisibleSize),e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.offsetAngle,e.patternScale=0,e.symbolicSize=n.widthScaled,e.curvature=n.curvature,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=n.isSelfLoop,e.isText=!1,e.adjustTextAngle=t.adjustAngle}var ru="shifted",Ij="centered";function dv(e,t){if(t<2)return e;const n=e.split(`
`),r=[];for(let i=0;i<n.length;++i){const s=n[i];if(s.length<t)r.push(s);else{const o=hI(n[i],t);for(let a=0;a<o.length;++a)r.push(o[a])}}return r.join(`
`)}function hI(e,t){const n=[""],r=e.split(" ");for(let i=0;i<r.length;i++){const s=n[n.length-1],o=r[i];s.length+1+o.length<=t&&s.length?n[n.length-1]+=(s.length>0?" ":"")+o:n.push(o)}return n}function gI(e,t){if(e===null)return null;const n=(e=e.toString()).split(`
`),r=[];let i=0;for(let s=0;s<n.length;s++){let o=n[s];if(!t||t<=1||o.length<t)r.push(o),i=Math.max(i,o.length);else{const a=hI(n[s],t);for(let l=0;l<a.length;l++)o=a[l],r.push(o),i=Math.max(i,o.length)}}return{data:r,maxLength:i,lines:r.length}}function pI(){const e=gi("@mapbox/mapbox-gl-rtl-text")||gi("mapbox-gl-rtl-text"),t=e?e.processBidirectionalText:sa?window.processBidirectionalText:null,n=e?e.applyArabicShaping:sa?window.applyArabicShaping:null;return{processBidirectionalText:t?i=>{if(i===null||i==null)return"";const s=[];let o=0,a="";const l=i.split(`
`);for(let c=0;c<l.length;c++){const d=l[c],u=l[c].length+o;u>0&&c<l.length-1&&s.push(u),a+=c>0?""+d:d,o+=d.length}return t(a,s).join(`
`)}:i=>i,applyArabicShaping:n?i=>i==null?null:typeof i=="number"?i.toString():n(i):i=>i==null?null:i.toString()}}var Mj=e=>!!e||e===0;function Ii(e,t,n=0){return e==="inherit"?Array.isArray(t)?t[((n/(2*Math.PI)*t.length|0)+1)%t.length]:t:e}function Pj(e,t,n){return e==="source"?Array.isArray(t)?t[0]:t:e==="target"?Array.isArray(n)?n[0]:n:e}function Fj(e){const t=e.depth;return t===nI||t===tI||(t-iv)%ov>=sv}function mI(e){const t=(e.depth-iv)%ov;return t>=0&&t!==rI&&t!==sv}function fS(e,t,n,r,i,s){Rj(e,t,n,r,i,s),_S(e,t,n,r.text,i.texts.primary,s.texts.primary,s),_S(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s)}function Rj(e,t,n,r,i,s){if(r.width.get(n)!==0){if(vf(i.body,s,Aj),i.halo.body){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),vf(i.halo,s,Cj)}i.outline.body&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),vf(i.outline,s,Tj))}}function vf(e,t,n){n(e.body,t,im,t.shape.body),e.head&&n(e.head,t,lv,t.shape.head),e.tail&&n(e.tail,t,cv,t.shape.tail)}function _S(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Ii(a.color.get(n),o.color),s.position=a.position?a.position.get(n):ru,s.style=a.style.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=dv(s.content,s.maxLineLength),s.adjustAngle=a.adjustAngle.get(n),s.align=a.align.get(n),l){const d=a.scale.get(n);s.sizeScaled=o.widthScaled*d,s.sizeFixed=o.widthFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.offsetAngle=s===o.texts.primary?bj:wj,Lj(i.text,s,o),i.background&&Nj(i.background,s,o)}}function yS(e,t){bf(e.body,t,!0,!0),bf(e.outline,t,t.outline.enabled,!0),bf(e.halo,t,!!t.halo.color,!1),xS(e.texts.primary,t.texts.primary),xS(e.texts.secondary,t.texts.secondary)}function bf(e,t,n,r){e.body=n,e.head=n&&r&&!!t.shape.head,e.tail=n&&r&&!!t.shape.tail}function xS(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor}var uv=512,hv=128,fI=Math.round(Math.log2(uv)),gv=Math.round(Math.log2(hv)),Dj=fI+gv,qa=255,zj=32767,_I=65535,I_=15,Za=3,$g=15,Oh=32,Os=128,M_=8,P_=1/16,F_=Math.round(Math.sqrt($g+1)),R_=Os*F_,tr=16,fo=1,xi=256,Oj=128,Bj=128,Vg=1.5,yI=1,El=56,jj=16,Uj=2*El+jj,Bh=6,xI=3,hr=41,sm=5,Gg=5,vI=.9721,Ad=24,$j=1.4142;function Du(e,t,n,r,i){const s=1-i;return s*s*s*e+3*i*s*s*t+3*i*i*s*n+i*i*i*r}function Qa(e,t,n,r){const i=1-r;return i*i*e+2*i*r*t+r*r*n}var bI=(e,t)=>2/(1+Math.exp(-Math.abs(e*t)));function Pi(e,t,n,r,i,s){const o=s||{x:0,y:0},a=(e+n)/2,l=(t+r)/2,c=e-n,d=t-r,u=Math.sqrt(c*c+d*d);if(u===0)return o.x=a,o.y=l,o;const h=d/u,g=-c/u,p=-u*i/sm;return o.x=a+h*p,o.y=l+g*p,o}function ma(e,t,n,r,i,s){const o=s||{x1:0,y1:0,x2:0,y2:0},a=(r+r/Gg*n)*Gg,l=-i+ci,c=ci/2-i;return o.x1=e+Math.cos(l)*a,o.y1=t+Math.sin(l)*a,o.x2=e+Math.cos(c)*a,o.y2=t+Math.sin(c)*a,o}function vS(e,t,n,r,i,s){Vj(e,t,n,r,i,s),bS(e,t.texts.primary,n.text,r,t),bS(e,t.texts.secondary,n.text.secondary,r,t)}function Vj(e,t,n,r,i,s){const o=i.source,a=i.target,l=n.source.get(r),c=n.target.get(r),d=o.x.get(l),u=o.y.get(l),h=o.radius.get(l),g=o.color.get(l),p=+(o.scalingMethod.get(l)==="scaled"),m=a.x.get(c),_=a.y.get(c),y=a.radius.get(c),f=a.color.get(c),x=+(a.scalingMethod.get(c)==="scaled"),v=Pj(n.color.get(r),g,f),w=n.width.get(r),b=n.scalingMethod.get(r)==="scaled"?1:0,S=n.stroke.width.get(r),k=n.stroke.scalingMethod.get(r)==="scaled"?1:0,C=Ej[n.shape.style.get(r)],A=n.adjustAnchors.get(r);if(t.source=l,t.target=c,t.sourceX=d,t.sourceY=u,t.targetX=m,t.targetY=_,t.sourceRadiusScaled=h*p,t.sourceRadiusFixed=h*(1-p),t.targetRadiusScaled=y*x,t.targetRadiusFixed=y*(1-x),t.widthScaled=w*b,t.widthFixed=w*(1-b),t.curvature=n.curvature.get(r),t.isSelfLoop=l===c,t.color=v,t.opacity=n.opacity.get(r),t.minVisibleSize=n.minVisibleSize.get(r),t.shape.body=n.shape.body.get(r),t.shape.head=n.shape.head.get(r),t.shape.tail=n.shape.tail.get(r),t.shape.dashLength=C.dash,t.shape.gapLength=C.gap,t.shape.isBodyTriangle=t.shape.body==="triangle",t.stroke.color=Ii(n.stroke.color.get(r),v),t.stroke.widthScaled=S*k,t.stroke.widthFixed=S*(1-k),t.stroke.minVisibleSize=n.stroke.minVisibleSize.get(r),t.halo.color=n.halo.color.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1,A&&(t.shape.head||t.shape.tail||t.shape.body==="triangle")){const N=t,R=N.curvature,B=N.sourceX,W=N.sourceY,F=N.targetX,T=N.targetY;let H=1,G=1;if(R){if(!N.isSelfLoop){const q=Pi(B,W,F,T,R/2);H=zu(N,s,o,l,B,W,q.x,q.y),G=zu(N,s,a,c,F,T,q.x,q.y)}}else H=zu(N,s,o,l,B,W,F,T),G=zu(N,s,a,c,F,T,B,W);t.sourceRadiusScaled*=H,t.sourceRadiusFixed*=H,t.targetRadiusScaled*=G,t.targetRadiusFixed*=G}}function bS(e,t,n,r,i){t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Ii(n.backgroundColor.get(r),i.color)}function zu(e,t,n,r,i,s,o,a){const l=t.angle||0;let c,d=Math.atan2(a-s,o-i)-l,u=1,h=0;d<-ci?d+=jc:d>ci&&(d-=jc),d<-ci/2?(h=sI,c=n.badges.topLeft):d<0?(h=oI,c=n.badges.topRight):d<ci/2?(h=lI,c=n.badges.bottomRight):(h=aI,c=n.badges.bottomLeft),h+=l;const g=c.text.content&&c.text.content.get(r),p=c.image.url&&c.image.url.get(r);if(Mj(g)||p){const m=c.positionScale.get(r),_=c.scale.get(r),y=uN(o,a,i,s,i+Math.cos(h)*m,s+Math.sin(h)*m,_);if(y){const f=y.x-i,x=y.y-s,v=Math.sqrt(f*f+x*x);u=Math.max(u,v)}}if(n.shape.get(r)==="square"){const m=Math.abs(Math.cos(d)),_=Math.abs(Math.sin(d)),y=1/Math.max(m,_);u=Math.max(u,y)}return u}function wS(){return{source:0,target:0,sourceX:0,sourceY:0,targetX:0,targetY:0,sourceRadiusScaled:0,sourceRadiusFixed:0,targetRadiusScaled:0,targetRadiusFixed:0,widthScaled:0,widthFixed:0,curvature:0,isSelfLoop:!1,color:"",opacity:0,minVisibleSize:0,shape:{body:"line",head:null,tail:null,dashLength:0,gapLength:0,isBodyTriangle:!1},stroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,color:""},outline:{enabled:!1,color:"",minVisibleSize:0},textHidden:!1,texts:{primary:ES(),secondary:ES()}}}function ES(){return{align:"left",hidden:!1,content:"",backgroundColor:"",font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",minVisibleSize:0,margin:0,padding:0,position:ru,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,adjustAngle:!1,offsetAngle:0}}function Gj(e){return e===null?e:void 0}function $n(e){return typeof e=="boolean"||e===0||e===1?e:void 0}function qo(e){return typeof e=="number"&&isFinite(e)?e:void 0}function rn(e){return typeof e=="number"&&isFinite(e)&&e>=0?e:void 0}var wI=-100,Hj=400,EI=e=>typeof e=="number"&&isFinite(e)&&e>=wI&&e<=Hj?e:void 0;function ls(e){return e===null||typeof e=="string"||typeof e=="number"?e:void 0}function Xs(e){return e==="fixed"||e==="scaled"?e:void 0}function Ys(e){return yr(e)?e:void 0}function Wj(e){return e===Ij||e===ru?e:void 0}function er(e){return e==="inherit"||yr(e)?e:void 0}function Xj(e){return e==="source"||e==="target"||yr(e)?e:void 0}function dl(e){return e===null?null:typeof e=="string"?e.split(",").map(t=>{const n=t.trim(),r=n.indexOf(" ")!==-1,i=n[0];return r&&i!=='"'&&i!=="'"?`"${n}"`:n}).join(","):void 0}function ul(e){return e==="none"?"normal":e==="normal"||e==="italic"||e==="bold"||e==="italic bold"||e==="bold italic"?e:void 0}function Hg(e){return e==="left"||e==="center"?e:void 0}function Yj(e){return e==="equilateral"?"pentagon":e==="circle"||e==="square"||e==="cross"||e==="diamond"||e==="pentagon"||e==="star"?e:void 0}function qj(e){return["line","tapered","arrow","dashed","dotted"].includes(e)?e:void 0}function Zj(e){return e==="line"||e==="triangle"?e:void 0}function SS(e){return[null,"arrow","circle-hole-arrow","triangle-hole-arrow","short-arrow","sharp-arrow","circle","square"].includes(e)?e:void 0}function Qj(e){return e==="plain"||e==="dashed"||e==="dotted"?e:void 0}function Kj(e){return e==="top"||e==="bottom"||e==="left"||e==="right"||e==="center"?e:void 0}function Jj(e){if(yr(e))return e;if(Array.isArray(e)){if(e.length<1)return;for(let t=0;t<e.length;++t)if(!yr(e[t]))return;return e}}function Bt(e){return function(t){if(typeof t=="number")return isFinite(t)&&t>=0?t:void 0;if(typeof t!="string"||t.charAt(t.length-1)!=="%")return;const n=parseFloat(t);return isNaN(n)?void 0:e*n/100}}function pv(){return{edgeHalo:0,nodeHaloStroke:0,nodeHalo:0,edgeBody:0,edgeTextBackground:0,edgeText:0,nodeBody:0,nodeTextBackground:0,nodeText:0}}function Cd(e,t=pv()){const n=(e-wI)*ov+iv;return t.edgeHalo=pj,t.nodeHaloStroke=tI,t.nodeHalo=nI,t.edgeBody=n+rI,t.edgeTextBackground=n+mj,t.edgeText=n+fj,t.nodeBody=n+sv,t.nodeTextBackground=n+_j,t.nodeText=n+yj,t}var e6=(e,t)=>{t.halo.body=t.halo.body||e.halo.body,t.halo.head=t.halo.head||e.halo.head,t.halo.tail=t.halo.tail||e.halo.tail,t.outline.body=t.outline.body||e.outline.body,t.outline.head=t.outline.head||e.outline.head,t.outline.tail=t.outline.tail||e.outline.tail,t.body.body=t.body.body||e.body.body,t.body.head=t.body.head||e.body.head,t.body.tail=t.body.tail||e.body.tail;const n=t.texts,r=e.texts;n.primary.text=n.primary.text||r.primary.text,n.primary.background=n.primary.background||r.primary.background,n.secondary.text=n.secondary.text||r.secondary.text,n.secondary.background=n.secondary.background||r.secondary.background},SI=e=>(t,n)=>{n.halo.body=t.halo.body[e],n.halo.head=t.halo.head[e],n.halo.tail=t.halo.tail[e],n.outline.body=t.outline.body[e],n.outline.head=t.outline.head[e],n.outline.tail=t.outline.tail[e],n.body.body=t.body.body[e],n.body.head=t.body.head[e],n.body.tail=t.body.tail[e],n.texts.primary.text=t.texts.primary.text[e],n.texts.primary.background=t.texts.primary.background[e],n.texts.secondary.text=t.texts.secondary.text[e],n.texts.secondary.background=t.texts.secondary.background[e]},t6=SI("start"),n6=SI("end"),r6=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,view:i,attributes:s,attributesPrev:o,nodeAttributes:a,nodeAttributesPrev:l}){this._fullComponents=Kl(),this._startComponents=Kl(),this._endComponents=Kl(),this._startFlags=Kl(),this._endFlags=Kl(),this._startInput=wS(),this._endInput=wS(),this._depthInfo=pv(),this._nullElt={id:-1,valid:!0},this._engine=e,this._view=i,this._helper={imageManager:t,fontManager:n,formatText:r},this._attributes=s,this._attributesPrev=o,this._nodeAttributes=a,this._nodeAttributesPrev=l,this._layers=kS(()=>e.createGroup()),this._blockIds=kS(()=>0)}drawEdge(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=-e,i=this._attributes,s=Cd(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.source.get(e),a=i.target.get(e),l=i.curvature.get(e),c=this._attributesPrev.curvature.get(e),d=i.animationDuration.get(e),u=i.animationStart.get(e),h=i.animationEasing.get(e),g=d>0,p=l!==0||g&&c!==0;this._prepareBlocks(g,s,r,p);const m=this._extremitiesAttributes={source:this._nodeAttributes,target:this._nodeAttributes};if(vS(n,this._endInput,i,e,m,this._view),yS(this._endFlags,this._endInput),g){const _=this._nodeAttributes.animationDuration.get(o)>0,y=this._nodeAttributes.animationDuration.get(a)>0;m.source=_?this._nodeAttributesPrev:this._nodeAttributes,m.target=y?this._nodeAttributesPrev:this._nodeAttributes,vS(n,this._startInput,this._attributesPrev,e,m,this._view),yS(this._startFlags,this._startInput),e6(this._endFlags,this._startFlags)}this._initComponents(this._fullComponents,this._endFlags,this._layers),n6(this._fullComponents,this._endComponents),fS(t,n,e,this._attributes,this._endComponents,this._endInput),g&&(t6(this._fullComponents,this._startComponents),fS(t,n,e,this._attributesPrev,this._startComponents,this._startInput),this._setBlocksAnimation(d,u,h)),this._setupHaloMasking(o,a),this._storeBlocks()}_setupHaloMasking(e,t){const n=this._nodeAttributes.halo,r=this._layers,i=n.color.get(e)&&n.hideNonAdjacentEdges.get(e),s=n.color.get(t)&&n.hideNonAdjacentEdges.get(t),o=!i&&!s?dI:cl;r.body.stencilUsage=r.text.stencilUsage=r.textBg.stencilUsage=o}_computeBlockIds(e){const t=e*rm,n=this._blockIds;n.body=t+cj,n.halo=t+hj,n.text=t+dj,n.textBg=t+uj}_prepareBlocks(e,t,n,r){const i=this._layers;i.body.reset(r?Ug:Ai,e,t.edgeBody,n),i.halo.reset(r?Ug:Ai,e,t.edgeHalo,n),i.text.reset(Wo,e,t.edgeText,n),i.textBg.reset(Ai,e,t.edgeTextBackground,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.halo,t.halo),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.halo),e.freeBlock(t.text),e.freeBlock(t.textBg)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._initEdgeComponents(e.halo,t.halo,n.halo),this._initEdgeComponents(e.outline,t.outline,n.body),this._initEdgeComponents(e.body,t.body,n.body),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initEdgeComponents(e,t,n){e.head=this._nextElement(t.head,n),e.tail=this._nextElement(t.tail,n),e.body=this._nextElement(t.body,n)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}};function kS(e){return{body:e(),halo:e(),text:e(),textBg:e()}}function Kl(){return{halo:{body:void 0,head:void 0,tail:void 0},outline:{body:void 0,head:void 0,tail:void 0},body:{body:void 0,head:void 0,tail:void 0},texts:{primary:{text:void 0,background:void 0},secondary:{text:void 0,background:void 0}}}}function i6(e,t,n){kI(e,t,n),t.imageContent!==null?(e.pattern.type=lo,e.pattern.attributes.image=t.imageContent,e.pattern.attributes.scaled=!0,e.pattern.attributes.duplicated=!1,e.patternScale=t.imageScale,e.patternMinVisibleSize=0,e.patternColor=null):(e.fillColor=null,e.strokeColor=null)}function s6(e,t,n){kI(e,t,n),t.textContent&&(e.pattern.type=Yo,e.pattern.attributes.text=t.textContent,e.pattern.attributes.font=t.textFont,e.pattern.attributes.style=t.textStyle,e.pattern.attributes.paddingLeft=t.scale*t.textPaddingLeft*2,e.pattern.attributes.paddingTop=t.scale*t.textPaddingTop*2,e.pattern.attributes.size=tu,e.patternMinVisibleSize=0,e.patternColor=t.textColor,e.patternScale=t.textScale,e.isBadge=!0),!t.imageUrl&&t.textContent||(e.fillColor=null,e.strokeColor=null)}function kI(e,t,n){const r=n.diameterScaled*t.scale,i=n.diameterFixed*t.scale,s=n.diameterScaled*t.positionScale/2,o=n.diameterFixed*t.positionScale/2;e.pieceId=pi,e.shape="circle",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=r,e.rectWidthOrSourceRadiusFixed=i,e.rectHeightOrTargetRadiusScaled=r,e.rectHeightOrTargetRadiusFixed=i,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.strokeWidthScaled,e.strokeWidthFixed=t.strokeWidthFixed,e.offsetScaled=s,e.offsetFixed=o,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.color,e.strokeColor=t.strokeColor,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.angle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function o6(e,t,n){om(e,t),e.fillColor=Array.isArray(t.color)?null:t.color,e.strokeColor=t.innerStroke.color,e.strokeMinVisibleSize=t.innerStroke.minVisibleSize,e.strokeWidthScaled=t.innerStroke.widthScaled,e.strokeWidthFixed=t.innerStroke.widthFixed,n&&(e.pattern.type=0)}function om(e,t){e.pieceId=pi,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=t.diameterScaled,e.rectWidthOrSourceRadiusFixed=t.diameterFixed,e.rectHeightOrTargetRadiusScaled=t.diameterScaled,e.rectHeightOrTargetRadiusFixed=t.diameterFixed,e.shape=t.shape,e.opacity=t.opacity,e.symbolicSize=t.diameterScaled,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.fillColor=null,e.strokeColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.offsetAngle=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function a6(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=pi,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.halo.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function l6(e,t){const n=t.diameterScaled+2*t.halo.widthScaled,r=t.diameterFixed+2*t.halo.widthFixed;e.pieceId=pi,e.shape="circle",e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.halo.strokeWidthScaled,e.strokeWidthFixed=t.halo.strokeWidthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.halo.strokeColor,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function c6(e,t){om(e,t),e.pattern.type=Xo,e.pattern.attributes.text=t.icon.content,e.pattern.attributes.font=t.icon.font,e.pattern.attributes.style=t.icon.style,e.pattern.attributes.size=tu,e.patternMinVisibleSize=t.icon.minVisibleSize,e.patternColor=t.icon.color,e.patternScale=t.icon.scale}function d6(e,t){const n=t.image.fit&&!t.image.tile;om(e,t),e.pattern.type=lo,e.pattern.attributes.image=t.image.content,e.pattern.attributes.scaled=n,e.pattern.attributes.duplicated=t.image.tile,e.patternScale=n?t.image.scale:0,e.patternMinVisibleSize=t.image.minVisibleSize,e.patternColor=null}function u6(e,t){const n=t.diameterScaled+2*t.innerStroke.widthScaled,r=t.diameterFixed+2*t.innerStroke.widthFixed;e.pieceId=pi,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=t.outerStroke.widthScaled,e.strokeWidthFixed=t.outerStroke.widthFixed,e.offsetScaled=0,e.offsetFixed=0,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=null,e.strokeColor=t.outerStroke.color,e.patternColor=null,e.globalMinVisibleSize=t.outerStroke.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function h6(e,t){const n=t.diameterScaled*hS,r=t.diameterFixed*hS;let i=t.diameterScaled*gS,s=t.diameterFixed*gS+xj;t.outerStroke.color&&(i+=t.outerStroke.widthScaled/2,s+=t.outerStroke.widthFixed/2),e.pieceId=pi,e.shape=t.shape,e.x1=t.x,e.y1=t.y,e.x2=t.x,e.y2=t.y,e.rectWidthOrSourceRadiusScaled=n,e.rectWidthOrSourceRadiusFixed=r,e.rectHeightOrTargetRadiusScaled=n,e.rectHeightOrTargetRadiusFixed=r,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=t.opacity,e.fillColor=t.outline.color,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.outline.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=1.5707963267948966,e.patternScale=0,e.symbolicSize=t.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function g6(e,t){om(e,t),Array.isArray(t.color)&&(e.pattern.type=nu,e.pattern.attributes.colors=t.color.join(";"),e.patternScale=1,e.patternMinVisibleSize=0,e.patternColor=null)}function p6(e,t,n){AI(e,t,n),e.pattern.type=mo,e.pattern.attributes.text=t.content,e.pattern.attributes.font=t.font,e.pattern.attributes.style=t.style,e.pattern.attributes.align=t.align,e.patternMinVisibleSize=0,e.patternColor=t.color,e.thicknessOrFontSizeScaled=t.sizeScaled,e.thicknessOrFontSizeFixed=t.sizeFixed,e.isText=!0}function m6(e,t,n){AI(e,t,n),e.fillColor=t.backgroundColor,e.pieceId=ll,e.shape="roundedSquare"}function f6(e,t,n){const r=Math.ceil(t.margin/2),i=n.diameterScaled/2,s=n.diameterFixed/2+r,o=kj[t.position],a=Math.cos(o),l=Math.sin(o),c=t.margin<12?1:t.margin<30?1-(t.margin-12)/18*.7:.25;e.pieceId=pi,e.shape="triangle",e.x1=n.x-a,e.y1=n.y-l,e.x2=n.x+a,e.y2=n.y+l,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=t.margin,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=t.margin*c,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=i,e.offsetFixed=s,e.pattern.type=0,e.opacity=n.opacity,e.fillColor=t.backgroundColor,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=0,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1}function AI(e,t,n){let r=0,i=0;if(t.isPositionCenter||(r+=n.diameterScaled/2,i+=n.diameterFixed/2+t.margin+t.padding),t.isPositionVertical){if(r+=t.heightScaled/2,i+=t.heightFixed/2,t===n.texts.secondary&&n.texts.primary.position==="bottom"){const o=n.texts.primary;r+=o.heightScaled,i+=o.heightFixed+o.margin+2*o.padding}}else t.isPositionHorizontal&&(r+=t.widthScaled/2,i+=t.widthFixed/2);const s=tu;e.pieceId=pi,e.shape="square",e.x1=n.x,e.y1=n.y,e.x2=n.x,e.y2=n.y,e.rectWidthOrSourceRadiusScaled=t.widthScaled,e.rectWidthOrSourceRadiusFixed=t.widthFixed+2*t.padding,e.rectHeightOrTargetRadiusScaled=t.heightScaled,e.rectHeightOrTargetRadiusFixed=t.heightFixed+2*t.padding,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=r,e.offsetFixed=i,e.pattern.type=0,e.pattern.attributes.size=s,e.opacity=n.opacity,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=t.minVisibleSize,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=t.positionAngle,e.patternScale=1,e.symbolicSize=n.diameterScaled,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isSelfLoop=!1,e.isText=!1}function AS(e,t,n,r,i,s){const o=i.badges,a=r.badges,l=s.badges;_6(e,t,n,r,i,s),CS(e,t,n,r.text,i.texts.primary,s.texts.primary,s),CS(e,t,n,r.text.secondary,i.texts.secondary,s.texts.secondary,s),Ou(e,t,n,a.topLeft,o.topLeft,l.topLeft,s),Ou(e,t,n,a.topRight,o.topRight,l.topRight,s),Ou(e,t,n,a.bottomLeft,o.bottomLeft,l.bottomLeft,s),Ou(e,t,n,a.bottomRight,o.bottomRight,l.bottomRight,s)}function _6(e,t,n,r,i,s){if(i.halo){const o=r.halo.width.get(n),a=+(r.halo.scalingMethod.get(n)==="scaled");s.halo.widthScaled=o*a,s.halo.widthFixed=o*(1-a),a6(i.halo,s),i.haloStroke&&(s.halo.strokeWidthScaled=0,s.halo.strokeWidthFixed=r.halo.strokeWidth.get(n),l6(i.haloStroke,s))}if(i.outline&&(s.outline.color=r.outline.color.get(n),s.outline.minVisibleSize=r.outline.minVisibleSize.get(n),h6(i.outline,s)),i.outerStroke&&(s.outerStroke.minVisibleSize=r.outerStroke.minVisibleSize.get(n),u6(i.outerStroke,s)),i.pieChart&&g6(i.pieChart,s),i.image&&(s.image.content=t.imageManager.getImage(s.image.url),s.image.fit=r.image.fit.get(n),s.image.tile=r.image.tile.get(n),s.image.scale=r.image.scale.get(n),s.image.minVisibleSize=r.image.minVisibleSize.get(n),d6(i.image,s)),i.icon&&(s.icon.font=t.fontManager.getFont(r.icon.font.get(n)),s.icon.style=r.icon.style.get(n),s.icon.color=r.icon.color.get(n),s.icon.scale=r.icon.scale.get(n),s.icon.minVisibleSize=r.icon.minVisibleSize.get(n),c6(i.icon,s)),i.body){const o=!i.pieChart&&!i.image&&!i.icon;o6(i.body,s,o)}}function Ou(e,t,n,r,i,s,o){if(i.image||i.text){const a=r.stroke.width.get(n),l=+(r.stroke.scalingMethod.get(n)==="scaled");s.color=Ii(r.color.get(n),o.color,s.angle),s.strokeColor=r.stroke.color.get(n),s.strokeWidthScaled=a*l,s.strokeWidthFixed=a*(1-l),s.minVisibleSize=r.minVisibleSize.get(n),s.positionScale=r.positionScale.get(n),s.scale=r.scale.get(n)}if(i.image&&(s.imageContent=t.imageManager.getImage(s.imageUrl),s.imageScale=r.image.scale.get(n),i6(i.image,s,o)),i.text){if(s.textFont=t.fontManager.getFont(r.text.font.get(n)),s.textStyle=r.text.style.get(n),s.textColor=Ii(r.text.color.get(n),o.color),s.textScale=r.text.scale.get(n),s.textPaddingTop=r.text.paddingTop.get(n),s.textPaddingLeft=r.text.paddingLeft.get(n),e.measureText(s.textContent,s.textFont,s.textStyle,s.textScale).width>1){let a=0,l=0;for(;l<s.textContent.length&&a<1;)a+=e.measureText(s.textContent[l],s.textFont,s.textStyle,s.textScale).width,l+=1;l!==s.textContent.length&&(s.textContent=s.textContent.substring(0,l-1)+"‥")}s6(i.text,s,o)}}function CS(e,t,n,r,i,s,o){if(i.text&&s.content){const a=r,l=a.scaling.get(n);if(s.font=t.fontManager.getFont(a.font.get(n)),s.color=Ii(a.color.get(n),o.color),s.style=a.style.get(n),s.align=a.align.get(n),s.minVisibleSize=a.minVisibleSize.get(n),s.margin=a.margin.get(n),s.padding=a.padding.get(n),s.maxLineLength=a.maxLineLength.get(n),s.content=dv(s.content,s.maxLineLength),l){const d=a.scale.get(n);s.sizeScaled=o.diameterScaled*d,s.sizeFixed=o.diameterFixed*d}else s.sizeFixed=a.size.get(n),s.sizeScaled=0;const c=e.measureText(s.content,s.font,s.style);s.widthScaled=c.width*s.sizeScaled,s.widthFixed=c.width*s.sizeFixed,s.heightScaled=c.height*s.sizeScaled,s.heightFixed=c.height*s.sizeFixed,s.positionAngle=Sj[s.position],s.isPositionCenter=s.position==="center",s.isPositionVertical=s.position==="top"||s.position==="bottom",s.isPositionHorizontal=s.position==="left"||s.position==="right",p6(i.text,s,o),i.background&&(m6(i.background,s,o),i.tip&&f6(i.tip,s,o))}}function TS(e,t){y6(e,t),LS(e.texts.primary,t.texts.primary),LS(e.texts.secondary,t.texts.secondary),Bu(e.badges.topLeft,t.badges.topLeft),Bu(e.badges.topRight,t.badges.topRight),Bu(e.badges.bottomLeft,t.badges.bottomLeft),Bu(e.badges.bottomRight,t.badges.bottomRight)}function y6(e,t){e.body=!0,e.icon=!!t.icon.content,e.image=!!t.image.url,e.pieChart=Array.isArray(t.color),e.outerStroke=!!t.outerStroke.color,e.outline=!!t.outline.enabled,e.halo=!!t.halo.color,e.haloStroke=e.halo&&!!t.halo.strokeColor}function LS(e,t){e.text=!t.hidden&&!!t.content,e.background=e.text&&!!t.backgroundColor,e.tip=e.background&&t.tip&&t.position!=="center"}function Bu(e,t){e.text=!!t.textContent,e.image=!!t.imageUrl}function NS(e,t,n,r){x6(e,t,n,r),IS(e,t.texts.primary,n.text,r,t),IS(e,t.texts.secondary,n.text.secondary,r,t),ju(e,t.badges.topLeft,n.badges.topLeft,r),ju(e,t.badges.topRight,n.badges.topRight,r),ju(e,t.badges.bottomLeft,n.badges.bottomLeft,r),ju(e,t.badges.bottomRight,n.badges.bottomRight,r)}function x6(e,t,n,r){const i=+(n.scalingMethod.get(r)==="scaled"),s=2*n.radius.get(r),o=n.innerStroke.width.get(r),a=+(n.innerStroke.scalingMethod.get(r)==="scaled"),l=n.outerStroke.width.get(r),c=+(n.outerStroke.scalingMethod.get(r)==="scaled");t.x=n.x.get(r),t.y=n.y.get(r),t.shape=n.shape.get(r),t.color=n.color.get(r),t.opacity=n.opacity.get(r),t.diameterScaled=s*i,t.diameterFixed=s*(1-i),t.innerStroke.color=Ii(n.innerStroke.color.get(r),t.color),t.innerStroke.widthScaled=o*a,t.innerStroke.widthFixed=o*(1-a),t.innerStroke.minVisibleSize=n.innerStroke.minVisibleSize.get(r),t.outerStroke.color=Ii(n.outerStroke.color.get(r),t.color),t.outerStroke.widthScaled=l*c,t.outerStroke.widthFixed=l*(1-c),t.halo.color=n.halo.color.get(r),t.halo.strokeColor=n.halo.strokeColor.get(r),t.icon.content=e.formatText(n.icon.content.get(r)),t.image.url=n.image.url.get(r),t.outline.enabled=n.outline.enabled.get(r),t.textHidden=n.textHidden.get(r)===1}function IS(e,t,n,r,i){if(t.hidden=i.textHidden,t.content=e.formatText(n.content.get(r)),t.backgroundColor=Ii(n.backgroundColor.get(r),i.color),t===i.texts.primary){const s=n;t.tip=s.tip.get(r),t.position=s.position.get(r)}else t.position="bottom"}function ju(e,t,n,r){const i=n.text.content.get(r);t.textContent=e.formatText(i),t.imageUrl=n.image.url.get(r)}function MS(){return{x:0,y:0,shape:"",color:"",opacity:0,diameterScaled:0,diameterFixed:0,innerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},outerStroke:{color:"",widthScaled:0,widthFixed:0,minVisibleSize:0},icon:{content:"",font:"",color:"",scale:0,size:0,style:"none",minVisibleSize:0},image:{url:"",content:null,scale:0,minVisibleSize:0},halo:{widthScaled:0,widthFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,color:"",strokeColor:""},outline:{enabled:!1,color:"",minVisibleSize:0},badges:{topLeft:Uu(sI),topRight:Uu(oI),bottomLeft:Uu(aI),bottomRight:Uu(lI)},textHidden:!1,texts:{primary:PS(),secondary:PS()}}}function Uu(e){return{angle:e,color:"",scale:0,positionScale:0,minVisibleSize:0,strokeColor:"",strokeWidthScaled:0,strokeWidthFixed:0,textContent:"",textFont:"",textColor:"",textScale:0,textStyle:"none",imageUrl:"",imageContent:null,imageScale:0,textPaddingLeft:0,textPaddingTop:0}}function PS(){return{hidden:!1,content:"",position:"",backgroundColor:"",tip:!1,font:"",color:"",sizeScaled:0,sizeFixed:0,style:"none",align:"left",minVisibleSize:0,margin:0,padding:0,maxLineLength:0,widthScaled:0,widthFixed:0,heightScaled:0,heightFixed:0,positionAngle:0,isPositionCenter:!1,isPositionVertical:!1,isPositionHorizontal:!1}}var v6=(e,t)=>{t.haloStroke=t.haloStroke||e.haloStroke,t.halo=t.halo||e.halo,t.outline=t.outline||e.outline,t.outerStroke=t.outerStroke||e.outerStroke,t.body=t.body||e.body,t.pieChart=t.pieChart||e.pieChart,t.image=t.image||e.image,t.icon=t.icon||e.icon;const n=e.badges,r=t.badges;r.topLeft.text=r.topLeft.text||n.topLeft.text,r.topLeft.image=r.topLeft.image||n.topLeft.image,r.topRight.text=r.topRight.text||n.topRight.text,r.topRight.image=r.topRight.image||n.topRight.image,r.bottomLeft.text=r.bottomLeft.text||n.bottomLeft.text,r.bottomLeft.image=r.bottomLeft.image||n.bottomLeft.image,r.bottomRight.text=r.bottomRight.text||n.bottomRight.text,r.bottomRight.image=r.bottomRight.image||n.bottomRight.image;const i=e.texts,s=t.texts;s.primary.text=s.primary.text||i.primary.text,s.primary.background=s.primary.background||i.primary.background,s.primary.tip=s.primary.tip||i.primary.tip,s.secondary.text=s.secondary.text||i.secondary.text,s.secondary.background=s.secondary.background||i.secondary.background,s.secondary.tip=s.secondary.tip||i.secondary.tip},CI=e=>(t,n)=>{n.haloStroke=t.haloStroke[e],n.halo=t.halo[e],n.outline=t.outline[e],n.outerStroke=t.outerStroke[e],n.body=t.body[e],n.pieChart=t.pieChart[e],n.image=t.image[e],n.icon=t.icon[e];const r=t.badges,i=n.badges;i.topLeft.text=r.topLeft.text[e],i.topLeft.image=r.topLeft.image[e],i.topRight.text=r.topRight.text[e],i.topRight.image=r.topRight.image[e],i.bottomLeft.text=r.bottomLeft.text[e],i.bottomLeft.image=r.bottomLeft.image[e],i.bottomRight.text=r.bottomRight.text[e],i.bottomRight.image=r.bottomRight.image[e];const s=t.texts,o=n.texts;o.primary.text=s.primary.text[e],o.primary.background=s.primary.background[e],o.primary.tip=s.primary.tip[e],o.secondary.text=s.secondary.text[e],o.secondary.background=s.secondary.background[e],o.secondary.tip=s.secondary.tip[e]},b6=CI("start"),w6=CI("end"),E6=class{constructor({engine:e,imageManager:t,fontManager:n,formatText:r,attributes:i,attributesPrev:s}){this._fullComponents=Jl(),this._startComponents=Jl(),this._endComponents=Jl(),this._startFlags=Jl(),this._endFlags=Jl(),this._startInput=MS(),this._endInput=MS(),this._depthInfo=pv(),this._nodePatternAssigned=!1,this._nullElt={id:-1,valid:!0},this._engine=e,this._attributes=i,this._attributesPrev=s,this._helper={imageManager:t,fontManager:n,formatText:r},this._layers=FS(()=>e.createGroup()),this._blockIds=FS(()=>0)}drawNode(e){if(this._computeBlockIds(e),this._attributes.excluded.get(e))return this._freeBlocks();const t=this._engine,n=this._helper,r=e,i=this._attributes,s=Cd(i.layer.get(e)-(i.detectable.get(e)?0:1),this._depthInfo),o=i.animationDuration.get(e),a=o>0;if(this._prepareBlocks(a,s,r),NS(n,this._endInput,i,e),TS(this._endFlags,this._endInput),a&&(NS(n,this._startInput,this._attributesPrev,e),TS(this._startFlags,this._startInput),v6(this._endFlags,this._startFlags)),this._initComponents(this._fullComponents,this._endFlags,this._layers),w6(this._fullComponents,this._endComponents),AS(t,n,e,i,this._endComponents,this._endInput),a&&(b6(this._fullComponents,this._startComponents),AS(t,n,e,this._attributesPrev,this._startComponents,this._startInput)),a){const l=this._attributes.animationStart.get(e),c=this._attributes.animationEasing.get(e);this._setBlocksAnimation(o,l,c)}this._endFlags.halo&&this._attributes.halo.hideNonAdjacentEdges.get(e)&&(this._layers.halo.stencilUsage=this._layers.haloStroke.stencilUsage=cI),this._storeBlocks()}_computeBlockIds(e){const t=e*rm,n=this._blockIds;n.body=t+ij,n.text=t+sj,n.textBg=t+oj,n.halo=t+aj,n.haloStroke=t+lj}_prepareBlocks(e,t,n){const r=this._layers;r.body.reset(Ai,e,t.nodeBody,n),r.text.reset(Wo,e,t.nodeText,n),r.textBg.reset(Ai,e,t.nodeTextBackground,n),r.halo.reset(Ai,e,t.nodeHalo,n),r.haloStroke.reset(Ai,e,t.nodeHaloStroke,n)}_storeBlocks(){const e=this._engine,t=this._layers,n=this._blockIds;e.storeGroup(n.body,t.body),e.storeGroup(n.text,t.text),e.storeGroup(n.textBg,t.textBg),e.storeGroup(n.halo,t.halo),e.storeGroup(n.haloStroke,t.haloStroke)}_freeBlocks(){const e=this._engine,t=this._blockIds;e.freeBlock(t.body),e.freeBlock(t.text),e.freeBlock(t.textBg),e.freeBlock(t.halo),e.freeBlock(t.haloStroke)}_setBlocksAnimation(e,t,n){const r=this._layers;r.body.setGlobalAnimation(e,t,n),r.text.setGlobalAnimation(e,t,n),r.textBg.setGlobalAnimation(e,t,n),r.halo.setGlobalAnimation(e,t,n),r.haloStroke.setGlobalAnimation(e,t,n)}_initComponents(e,t,n){this._nodePatternAssigned=!1,this._initBaseComponents(e,t,n),this._initBadgeComponents(e.badges.topLeft,t.badges.topLeft,n),this._initBadgeComponents(e.badges.topRight,t.badges.topRight,n),this._initBadgeComponents(e.badges.bottomLeft,t.badges.bottomLeft,n),this._initBadgeComponents(e.badges.bottomRight,t.badges.bottomRight,n),this._initTextComponents(e.texts.primary,t.texts.primary,n),this._initTextComponents(e.texts.secondary,t.texts.secondary,n)}_initBaseComponents(e,t,n){e.haloStroke=this._nextElement(t.haloStroke,n.haloStroke),e.halo=this._nextElement(t.halo,n.halo),e.outline=this._nextElement(t.outline,n.body),e.outerStroke=this._nextElement(t.outerStroke,n.body),e.body=this._nextElement(t.body,n.body),e.pieChart=this._getNodePatternElement(t.pieChart,n),e.image=this._getNodePatternElement(t.image,n),e.icon=this._getNodePatternElement(t.icon,n)}_initBadgeComponents(e,t,n){e.image=this._nextElement(t.image,n.body),e.text=this._nextElement(t.text,n.body)}_initTextComponents(e,t,n){e.background=this._nextElement(t.background,n.textBg),e.tip=this._nextElement(t.tip,n.textBg),e.text=this._nextElement(t.text,n.text)}_nextElement(e,t){return e?t.next():this._nullElt}_getNodePatternElement(e,t){return e?this._nodePatternAssigned?t.body.next():(this._nodePatternAssigned=!0,t.body.getCurrentElement()):this._nullElt}};function FS(e){return{body:e(),text:e(),textBg:e(),halo:e(),haloStroke:e()}}function Jl(){return{haloStroke:void 0,halo:void 0,outline:void 0,outerStroke:void 0,body:void 0,pieChart:void 0,image:void 0,icon:void 0,badges:{topLeft:{text:void 0,image:void 0},topRight:{text:void 0,image:void 0},bottomLeft:{text:void 0,image:void 0},bottomRight:{text:void 0,image:void 0}},texts:{primary:{text:void 0,background:void 0,tip:void 0},secondary:{text:void 0,background:void 0,tip:void 0}}}}function S6({graph:e,elements:t,engine:n,imageManager:r,fontManager:i,view:s,attributes:o,boundaries:a,formatText:l}){const{nodeAttributes:c,nodeAttributesPrev:d,edgeAttributes:u,edgeAttributesPrev:h}=k6(o),{nodes:g,edges:p}=t,{maxSize:m,maxMinVisibleSize:_}=a;if(!g.size&&!p.size)return;const y=(Math.max(e.getNodeMaxIndex(),e.getEdgeMaxIndex())+1)*rm,f=n.setGlobalBoundaries({maxBlockId:Gs(y),maxScaledSize:Gs(8*m),maxMinVisibleSize:Gs(_),maxSymbolicSize:Gs(m),maxDashLength:3,maxGapLength:1,maxPatternScale:2,maxCoord:-1/0}),x=(f?e.getNodes("_all"):g)._indexes,v=(f?e.getEdges("_all"):p)._indexes;if(x.length){const w=new E6({engine:n,imageManager:r,fontManager:i,formatText:l,attributes:c,attributesPrev:d});for(let b=0;b<x.length;++b)w.drawNode(x[b])}if(v.length){const w=new r6({engine:n,imageManager:r,fontManager:i,formatText:l,view:s,attributes:u,attributesPrev:h,nodeAttributes:c,nodeAttributesPrev:d});for(let b=0;b<v.length;++b)w.drawEdge(v[b])}}function k6(e){const t=Vr(e.nodes.current,{text:{secondary:{scaling:e.nodes.current.text.scaling,maxLineLength:e.nodes.current.text.maxLineLength}}});return{nodeAttributes:t,nodeAttributesPrev:Vr(e.nodes.previous,{textHidden:t.textHidden,text:{secondary:{scaling:e.nodes.previous.text.scaling,maxLineLength:e.nodes.previous.text.maxLineLength}}}),edgeAttributes:Vr(e.edges.current,{text:{secondary:{scaling:e.edges.current.text.scaling,maxLineLength:e.edges.current.text.maxLineLength,adjustAngle:e.edges.current.text.adjustAngle}}}),edgeAttributesPrev:Vr(e.edges.previous,{source:e.edges.current.source,target:e.edges.current.target,textHidden:e.edges.current.textHidden,text:{secondary:{scaling:e.edges.previous.text.scaling,maxLineLength:e.edges.previous.text.maxLineLength,adjustAngle:e.edges.previous.text.adjustAngle}}})}}function TI(e,t,n,r,i,s,o,a=0,l=!1){const c=vn(n,r,i,s),d=(o/2*(l?vn(e,t,i,s)/c:1)+a)/c,u=(i-n)*d,h=(s-r)*d,g=n+h,p=r-u,m=e-g,_=t-p,y=n-h-g,f=r+u-p,x=i+h-g,v=s-u-p,w=m*y+_*f,b=m*x+_*v;return w>0&&w<y*y+f*f&&b>0&&b<x*x+v*v}function A6(e,t,n,r,i=!1){if(i&&($u(e,n)||$u(e,r)||$u(t,n)||$u(t,r)))return!1;let s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y);const o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(o===0)return!1;const a=s/o;s=(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y);const l=s/o;return!(a<=0||a>=1||l<=0||l>=1)}function $u(e,t){return e.x===t.x&&e.y===t.y}function Sl(e,t,n,r){return Math.atan2(r-t,n-e)}function C6(e,t,n){const r=Sl(e.x,e.y,t.x,t.y)-Sl(n.x,n.y,t.x,t.y);return r<0?r+2*Math.PI:r}function T6(e,t,n,r,i,s,o,a){const l=(a-s)*(n-e)-(o-i)*(r-t);if(l===0)return null;let c=t-s;return c=((o-i)*c-(a-s)*(e-i))/l,{x:e+c*(n-e),y:t+c*(r-t)}}function mc(e,t,n,r,i,s,o,a){const l=e-n,c=t-r,d=i-o,u=s-a,h=l*u-d*c,g=(c*(e-i)-l*(t-s))/h;if(g<0||g>1)return null;const p=(d*(s-t)+u*(e-i))/h;return p>=0&&p<=1?{x:e-p*l,y:t-p*c}:null}function LI(e,t,n,r,i,s,o,a){let l;const c=[];return l=mc(e,t,n,r,i,s,i,a),l&&c.push(l),l=mc(e,t,n,r,i,a,o,a),l&&c.push(l),l=mc(e,t,n,r,o,a,o,s),l&&c.push(l),l=mc(e,t,n,r,o,s,i,s),l&&c.push(l),c}function Ka(e,t,n,r,i,s,o,a){const l=((o-i)*(t-s)-(a-s)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t)),c=((n-e)*(t-s)-(r-t)*(e-i))/((a-s)*(n-e)-(o-i)*(r-t));return l>=0&&l<=1&&c>=0&&c<=1}function mv(e,t,n,r,i,s,o,a){return e>=i&&t>=s&&e<=o&&t<=a||n>=i&&r>=s&&n<=o&&r<=a||!!Ka(e,t,n,r,i,s,i,a)||!!Ka(e,t,n,r,o,s,o,a)||!!Ka(e,t,n,r,i,s,o,s)||!!Ka(e,t,n,r,i,a,o,a)}function NI(e,t,n){return Math.sqrt(fv(e.x,e.y,t.x,t.y,n.x,n.y))}function fv(e,t,n,r,i,s){const o=Rh(n,r,i,s);if(o===0)return Rh(e,t,n,r);let a=((e-n)*(i-n)+(t-r)*(s-r))/o;return a=Math.max(0,Math.min(1,a)),Rh(e,t,n+a*(i-n),r+a*(s-r))}function II(e,t,n,r,i,s){const o=i-n,a=s-r;if(o===0&&a===0)return{x:n,y:r};const l=((e-n)*o+(t-r)*a)/(o*o+a*a);return l<0?{x:n,y:r}:l>1?{x:i,y:s}:{x:n+l*o,y:r+l*a}}function L6(e,t,n,r,i,s){const o=i-n,a=s-r,l=((e-n)*o+(t-r)*a)/(o*o+a*a);return{x:n+o*l,y:r+a*l}}function Td(e,t,n){const r=n.length;let i=r-1,s=!1;for(let o=0;o<r;++o)(n[o].y<t&&n[i].y>=t||n[i].y<t&&n[o].y>=t)&&(n[o].x<=e||n[i].x<=e)&&(s=s!==n[o].x+(t-n[o].y)/(n[i].y-n[o].y)*(n[i].x-n[o].x)<e),i=o;return s}function Vu(e){const t=e.x*e.x+e.y*e.y;return{x:e.x/t,y:e.y/t}}function RS(e,t){let n=1/0,r=-1/0;for(let i=0,s=e.length;i<s;i++){const o=e[i],a=o.x*t.x+o.y*t.y;a<n&&(n=a),a>r&&(r=a)}return{x:n,y:r}}function N6(e,t){let n=e[1],r=e[0],i=Vu({x:n.x-r.x,y:n.y-r.y}),s=i.x;i.x=-i.y,i.y=s;const o=i;n=e[2],r=e[1],i=Vu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const a=i;n=t[1],r=t[0],i=Vu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s;const l=i;return n=t[2],r=t[1],i=Vu({x:n.x-r.x,y:n.y-r.y}),s=i.x,i.x=-i.y,i.y=s,[o,a,l,i]}function MI(e,t){const n=N6(e,t);for(let r=0,i=n.length;r<i;r++){const s=n[r],o=RS(e,s),a=RS(t,s);if((o.x<=a.y&&o.y>=a.x?Math.min(o.y,a.y)-Math.max(o.x,a.x):0)===0)return!1}return!0}function _v(e){let t=0,n=0;const r=e.length;if(r===0)throw new Error("Compute centroid: at least one point is required");for(let i=0;i<r;++i){const s=e[i];t+=s.x,n+=s.y}return t/=r,n/=r,{x:t,y:n}}var I6=yv(4),M6=U6(),P6=yv(5),F6=yv(10,.4),qs=1/3,R6=[{x:-1,y:-qs},{x:0,y:-qs},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:0,y:qs},{x:-1,y:qs}],D6=[{x:-1,y:-qs},{x:-.55,y:-qs},{x:-1,y:-1},{x:1,y:0},{x:-1,y:1},{x:-.55,y:qs},{x:-1,y:qs}],DS=[{x:-.6,y:-.3},{x:.1,y:0},{x:-.6,y:.3}],z6={circle:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>1-Math.sqrt(e*e+t*t),points:[{x:0,y:0,r:1}],isSimple:!0},square:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],isSimple:!0},line:{getDistanceFromStrokeVertically:(e,t)=>1-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:0},{x:1,y:0}],isSimple:!0},triangle:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},arrow:{getDistanceFromStrokeVertically:(e,t)=>(1-e)/2-Math.abs(t),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],isSimple:!0},"circle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>Math.min(Math.sqrt((e+.4)*(e+.4)+t*t)-.27,(1-e)/2-Math.abs(t)),getDistanceFromStrokeHorizontally:(e,t)=>1-Math.abs(e),points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:[{x:-.4,y:0,r:.3}],isSimple:!0},"triangle-hole-arrow":{getDistanceFromStrokeVertically:(e,t)=>{const n=Math.min((1-e)/2-Math.abs(t),1-Math.abs(e)),r=-PI(e,t,DS);return Math.min(n,r)},getDistanceFromStrokeHorizontally:(e,t)=>1,points:[{x:-1,y:-1},{x:-1,y:1},{x:1,y:0}],hole:DS,isSimple:!0},"short-arrow":ka(R6,!1),"sharp-arrow":ka(D6,!1),cross:{getDistanceFromStrokeVertically:(e,t)=>1,getDistanceFromStrokeHorizontally:(e,t)=>{const n=Math.abs(e),r=Math.abs(t),i=.31-Math.min(n,r),s=1-Math.max(n,r);return Math.min(i,s)},points:[{x:-1,y:.31},{x:-1,y:-.31},{x:-.31,y:-.31},{x:-.31,y:-1},{x:.31,y:-1},{x:.31,y:-.31},{x:1,y:-.31},{x:1,y:.31},{x:.31,y:.31},{x:.31,y:1},{x:-.31,y:1},{x:-.31,y:.31}],isSimple:!1},diamond:ka(I6),roundedSquare:ka(M6),pentagon:ka(P6),star:ka(F6)},O6=["circle","square","roundedSquare","triangle","line"],B6=["cross","diamond","pentagon","star"],j6=["arrow","triangle-hole-arrow","circle-hole-arrow","short-arrow","sharp-arrow"];function zS(e,t){for(const s of O6)wf(e,s);const n=t.nodes.current.shape.getValues(),r=t.edges.current.shape.head.getValues(),i=t.edges.current.shape.tail.getValues();for(const s of B6)n.includes(s)&&wf(e,s);for(const s of j6)s&&(r.includes(s)||i.includes(s))&&wf(e,s)}function wf(e,t){e.registerShape(t,z6[t])}function PI(e,t,n){let r=1/0;const i={x:e,y:t};for(let s=0;s<n.length;++s){const o=n[s],a=n[(s+1)%n.length];r=Math.min(r,NI(i,o,a))}return r*(Td(e,t,n)?1:-1)}function U6(){return new Array(12).fill(0).map((e,t)=>({x:Math.cos(t/12*2*Math.PI),y:Math.sin(t/12*2*Math.PI)}))}function yv(e,t=1){const n=-Math.PI/2+iI,r=[],i=2*Math.PI/e;let s=n;for(let o=0;o<e;++o){const a=o%2==1?t:1;r.push({x:Math.cos(s)*a,y:Math.sin(s)*a}),s+=i}return r}function ka(e,t=!1){return{getDistanceFromStrokeVertically:()=>1,getDistanceFromStrokeHorizontally:(n,r)=>PI(n,r,e),points:e,isSimple:t}}var $6=class extends Jd{constructor(e,t){super(),this.isDummy=!0,this.width=0,this.height=0}set src(e){e&&(this._src=e,setTimeout(()=>{this.onload&&this.onload.call(this),this.width=1,this.height=1,this.fire("load")},10))}get src(){return this._src}addEventListener(e,t){this.on(e,t)}};function V6(e,t){return new(typeof Image<"u"?Image:$6)(e,t)}var G6=class{constructor(){this._images={},this._crossOrigin="anonymous",this._whenReady=[],this._onFetch=[],this._nbLoaded=0,this._nbToLoad=0}setImgCrossOrigin(e){this._crossOrigin=e}clear(){this._images={},this._nbLoaded=0,this._nbToLoad=0}getImage(e){let t=this._images[e];return t===void 0&&(this._nbToLoad+=1,t=V6(),t.crossOrigin=this._crossOrigin,t.onload=()=>this._onImgLoad(e),t.onerror=()=>{this._onImgLoad(e),this._images[e]=null},t.src=e,this._images[e]=t),t}_onImgLoad(e){this._nbLoaded+=1,this._onFetch.forEach(t=>t(e)),this._nbLoaded===this._nbToLoad&&(this._whenReady.forEach(t=>t()),this._whenReady=[])}onFetch(e){this._onFetch.push(e)}whenReady(){return this._nbLoaded===this._nbToLoad?Promise.resolve():new Promise(e=>this._whenReady.push(e))}destroy(){this._whenReady=[],this._onFetch=[]}};function am(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(1-e)*(1-e)*t+2*(1-e)*e*s+e*e*r,a.y=(1-e)*(1-e)*n+2*(1-e)*e*o+e*e*i,a}function xv(e,t,n,r,i,s,o,a={x:0,y:0}){return a.x=(2*e-2)*t+(2*r-4*s)*e+2*s,a.y=(2*e-2)*n+(2*i-4*o)*e+2*o,cN(a)}function FI(e,t,n,r,i,s,o,a={x:0,y:0}){return xv(e,t,n,r,i,s,n,a),Dg(a.x,a.y,0,0,Math.PI/2,a),a}function RI(e,t,n,r,i,s,o,a,l,c=0,d=!1){const u=n-2*o+i,h=r-2*a+s,g=-((n-e)*h-(r-t)*u)/((2*o-2*n)*h-(2*a-2*r)*u);if(g<0||g>1)return!1;let p=l/2;return d&&(p*=1-g),p+=c,vn(Qa(n,o,i,g),Qa(r,a,s,g),e,t)<=p}function H6(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Pi(r.x,r.y,i.x,i.y,n);return am(t,r.x,r.y,i.x,i.y,s.x,s.y)}function W6(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Pi(r.x,r.y,i.x,i.y,n);return FI(t,r.x,r.y,i.x,i.y,s.x,s.y)}function X6(e,t){const n=e.getAttribute("curvature"),[r,i]=e.getExtremities().getAttributes(["x","y"]),s=Pi(r.x,r.y,i.x,i.y,n);return xv(t,r.x,r.y,i.x,i.y,s.x,s.y)}function Ld(e,t,n,r,i,s,o,a,l,c={x:0,y:0}){const d=(1-e)*(1-e)*(1-e),u=3*e*(1-e)*(1-e),h=3*e*e*(1-e),g=e*e*e;return c.x=d*t+u*s+h*a+g*r,c.y=d*n+u*o+h*l+g*i,c}function DI(e,t,n,r,i,s,o,a,l,c,d,u){const h=vn(n,r,o,a);if(Math.abs(e-n)>h||Math.abs(t-r)>h)return!1;let g=.5,p=vn(e,t,n,r)<vn(e,t,i,s)?-.01:.01,m=100;const _=Ld(g,n,r,i,s,o,a,l,c);let y,f=vn(e,t,_.x,_.y);const x=d/2+u;for(;m-- >0&&g>=0&&g<=1&&f>x&&(p>.001||p<-.001);)y=f,Ld(g,n,r,i,s,o,a,l,c,_),f=vn(e,t,_.x,_.y),f>y?(p=-p/2,g+=p):g+p<0||g+p>1?(p/=2,f=y):g+=p;return f<x}function vv(e,t,n,r,i,s,o=Qx()){const a=e+.6666666666666666*(n-e),l=t+2/3*(r-t);return lm(e,t,a,l,a+1/3*(i-e),l+1/3*(s-t),i,s,o)}function lm(e,t,n,r,i,s,o,a,l=Qx()){const{min:c,max:d,sqrt:u}=Math;let h,g,p,m,_;l.minX=c(e,o),l.maxX=d(e,o),l.minY=c(t,a),l.maxY=d(t,a);for(let y,f,x,v,w,b,S,k=0;k<2;++k)if(k===0?(g=e,p=n,m=i,_=o):(g=t,p=r,m=s,_=a),f=6*g-12*p+6*m,y=-3*g+9*p-9*m+3*_,x=3*p-3*g,f|=0,y|=0,x|=0,y!==0)w=f*f-4*x*y,w<0||(b=(-f+u(w))/(2*y),b>0&&b<1&&(h=Ef(b,g,p,m,_),k===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))),S=(-f-u(w))/(2*y),S>0&&S<1&&(h=Ef(S,g,p,m,_),k===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h))));else{if(f===0)continue;v=-x/f,v>0&&v<1&&(h=Ef(v,g,p,m,_),k===0?(l.minX=c(l.minX,h),l.maxX=d(l.maxX,h)):(l.minY=c(l.minY,h),l.maxY=d(l.maxY,h)))}return l}function Ef(e,t,n,r,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*r+Math.pow(e,3)*i}function Y6(e,t,n,r,i,s){const o=e-2*n+i,a=t-2*r+s,l=2*n-2*e,c=2*r-2*t,d=4*(o*o+a*a),u=4*(o*l+a*c),h=l*l+c*c,g=2*Math.sqrt(d+u+h),p=Math.sqrt(d),m=2*d*p,_=2*Math.sqrt(h),y=u/p;return(m*g+p*u*(g-_)+(4*h*d-u*u)*Math.log((2*p+y+g)/(y+_)))/(4*m)}var q6={linear:[0,1,0,0],quadraticIn:[0,0,1,0],quadraticOut:[0,2,-1,0],quadraticInOut:[0,0,2,0,-1,4,-2,0],cubicIn:[0,0,0,1],cubicOut:[0,3,-3,1],cubicInOut:[0,0,0,4,-3,12,-12,4]},Z6=class{constructor(){this._linearEasing=[0,1,0,0,0,1,0,0],this._nameToPolygon={},this._polygonToName={},this.add(q6)}add(e){Object.keys(e).forEach(t=>{const n=e[t].slice();n.length<8&&(n[4]=n[0],n[5]=n[1],n[6]=n[2],n[7]=n[3]);const r=c_(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]);this._nameToPolygon[t]=n,this._polygonToName[r]=t})}getCoefficients(e){return this._nameToPolygon[e]||this._linearEasing}getName(e,t,n,r,i,s,o,a){const l=c_(e,t,n,r,i,s,o,a);return this._polygonToName[l]||"linear"}},bv=new Z6,Q6={left:{x:-1,y:0},right:{x:1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},center:{x:0,y:0}},K6=[{name:"topLeft",dx:-1,dy:-1},{name:"topRight",dx:1,dy:-1},{name:"bottomLeft",dx:-1,dy:1},{name:"bottomRight",dx:1,dy:1}],rs={x:0,y:0};function J6(e,t,n,r,i,s,o,a,l,c,d,u){s=s||o.getNodes()._indexes;const h=l.getZoom(),g=o.getObjectList(!0),p=a.getFlexArrays().nodes.current;let m=1/0,_=0,y=!1,f=-1/0;a.update();for(let x=0;x<s.length;++x){const v=s[x];if(p.excluded.get(v)||!p.detectable.get(v)||d.has(v))continue;const w=p.x.get(v),b=p.y.get(v),S=p.layer.get(v);if(S<f)continue;rs.x=w,rs.y=b;const k=l.graphToScreenCoordinates(rs),C=k.x,A=k.y,N=p.shape.get(v),R=p.scalingMethod.get(v)==="scaled",B=p.radius.get(v)*(R?h:1),W=B+i,F=(e-C)/W,T=(t-A)/W;if(rs.x=e,rs.y=t,r&&zI(rs,v,a,l,c)&&(y=!0),!y&&c.checkShapeHit(N,F,T)){const H=o.getAttribute(!0,"virtual").get(v)!==0;if(W>m&&H)continue;m=W}else if(!y&&n){const H=u(p.text.content.get(v)||null),G=p.textHidden.get(v),q=p.text.minVisibleSize.get(v);if(G||!H||(R?2*B:1/0)<q)continue;const te=dv(H,p.text.maxLineLength.get(v)),J=p.innerStroke.width.get(v),ue=p.text.margin.get(v),Te=p.text.padding.get(v),ce=p.text.size.get(v),_e=p.text.scale.get(v),ze=p.text.scaling.get(v),Ye=p.text.font.get(v),qe=p.text.style.get(v),ge=p.text.position.get(v),ye=c.measureText(te,Ye,qe,1),Ze=ze?_e*B*2:ce,tt=ye.width*Ze/2+Te,ut=ye.height*Ze/2+Te,st=Q6[ge],Z=J+ue+B,ee=C+(Z+tt)*st.x,se=A+(Z+ut)*st.y;if(e<=ee-tt||e>=ee+tt||t<=se-ut||t>=se+ut)continue}_=v,f=S}return g.get(_)||null}var OS=Math.cos(Math.PI/4);function zI(e,t,n,r,i){const s=n.getFlexArrays().nodes.current,o=r.getZoom(),a=s.scalingMethod.get(t)==="scaled",l=s.radius.get(t)*(a?o:1),c=s.x.get(t),d=s.y.get(t);for(let u=0;u<4;u++){const{name:h,dx:g,dy:p}=K6[u],m=s.badges[h].stroke.width.get(t),_=s.badges[h].stroke.scalingMethod.get(t)==="scaled",y=s.badges[h].scale.get(t)*l+(_?o:1)*m,f=s.badges[h].minVisibleSize.get(t)/2,x=s.badges[h].positionScale.get(t);if(!s.badges[h].text.content.get(t)&&!s.badges[h].image.url.get(t)||y<f)continue;const v=r.graphToScreenCoordinates({x:c+s.radius.get(t)*x*g*OS,y:d+s.radius.get(t)*x*p*OS}),{x:w,y:b}=v,S=(e.x-w)/y,k=(e.y-b)/y;if(i.checkShapeHit("circle",S,k))return h}}function e8(e,t,n,r,i,s,o,a,l){i=i||s.getEdges()._indexes;const c=s.getObjectList(!1),d=l.getFlexArrays(),u=d.edges.current,h=d.nodes.current,g=o.getZoom(),p=r/g;rs.x=e,rs.y=t;const m=o.screenToGraphCoordinates(rs),_=m.x,y=m.y;let f=0;l.update();for(let x=0;x<i.length;++x){const v=i[x],w=u.source.get(v),b=u.target.get(v),S=u.excluded.get(v),k=u.detectable.get(v),C=a.has(w),A=a.has(b);if(S||!k||C||A)continue;const N=w===b,R=u.curvature.get(v),B=u.shape.body.get(v)==="triangle",W=u.scalingMethod.get(v)==="scaled",F=u.width.get(v)/(W?1:g),T=h.x.get(w),H=h.y.get(w),G=h.x.get(b),q=h.y.get(b);if(N){const te=h.scalingMethod.get(w)==="scaled",J=ma(T,H,R,h.radius.get(w)/(te?1:g),0);if(!DI(_,y,T,H,T,H,J.x1,J.y1,J.x2,J.y2,F,p))continue}else if(R!==0){const te=Pi(T,H,G,q,R);if(!RI(_,y,T,H,G,q,te.x,te.y,F,p,B))continue}else if(!TI(_,y,T,H,G,q,F,p,B))continue;f=v}return c.get(f)||null}function t8(e){const t=e.getNodeAttribute("radius"),n=e.getEdgeAttribute("width"),r=e.getNodes(),i=e.getEdges();let s=0,o=0;for(let a=0;a<r._indexes.length;a++){const l=r._indexes[a],c=t.get(l);c>s&&(s=c)}for(let a=0;a<i._indexes.length;a++){const l=i._indexes[a],c=n.get(l);c>o&&(o=c)}return Math.max(2*s,o)}function n8(e){return e===null?"none":e==="webgl"?"WebGL":e==="svg"?"SVG":e==="canvas"?"Canvas":e}function OI(e,t,n,r){const i=(e-t)/n,s=i*i,o=s*i,a=bv.getCoefficients(r),l=i<.5?0:4;return Wr(a[l]+a[l+1]*i+a[l+2]*s+a[l+3]*o,0,1)}function fc(e,t,n,r){if(e===t)return e;const[i,s,o,a]=yr(e),[l,c,d,u]=yr(t);return`rgba(${Math.round(255*zt(i,l,n))},${Math.round(255*zt(s,c,n))},${Math.round(255*zt(o,d,n))},${zt(a,u,r)})`}var r8=class{constructor({elementSize:e,sideElementSize:t,nbSideElementsPerMainElement:n,id:r,depth:i,elementType:s,animated:o,stencilUsage:a}){this._nbCellsAllocated=0,this._nbCellsFreed=0,this._isFullyAllocated=!1,this._isFullyFreed=!1,this._mustUpdate=!0,this._capacity=uv,this.version=0,this._id=r,this.depth=i,this.type=s,this.animated=o,this.stencilUsage=a,this.elementSize=e,this._sideElementSize=t,this._nbSideElementsPerMainElement=n,this._totalSideElementsSize=n*t,this._byteCapacity=this._capacity*this.elementSize,this._byteArray=new Uint8Array(this._byteCapacity),this._dataView=new DataView(this._byteArray.buffer),this._sideByteCapacity=this._capacity*this._totalSideElementsSize,this._sideByteArray=new Uint8Array(this._sideByteCapacity),this._sideDataView=new DataView(this._sideByteArray.buffer)}update(){this._mustUpdate&&(this.version+=1,this._mustUpdate=!1,this._isFullyAllocated&&this._nbCellsFreed===this._nbCellsAllocated&&(this._isFullyFreed=!0))}allocate(e){let t=-1;return!this._isFullyAllocated&&this._nbCellsAllocated+e<=this._capacity?(t=this._nbCellsAllocated,this._nbCellsAllocated+=e,this._mustUpdate=!0):this._isFullyAllocated=!0,t}free(e,t){for(let n=0;n<t;n++){const r=(e+n)*this.elementSize;this._dataView.setUint16(r,0)}this._mustUpdate=!0,this._nbCellsFreed+=t}triggerUpdate(){this._mustUpdate=!0}isEmpty(){return this._nbCellsFreed===this._nbCellsAllocated}isFullyFreed(){return this._isFullyFreed}getId(){return this._id}getDataView(){return this._dataView}getByteArray(){return this._byteArray}getSize(){return this._nbCellsAllocated}getNbSideElementsPerMainElement(){return this._nbSideElementsPerMainElement}hasSideData(){return this._nbSideElementsPerMainElement>0}getSideDataView(){return this._sideDataView}getSideByteArray(){return this._sideByteArray}getTotalSideElementsSize(){return this._totalSideElementsSize}},BS=8,i8=class{constructor(){this.version=0,this.version=0,this._blockInfo={buffer:null,offset:0,size:0,address:0},this._init_()}reset(){this._init_()}_init_(){this._buffersByDepth=new Array(100),this._buffersById=[],this._buffersByAscendingDepth=[],this._buffersByDescendingDepth=[],this._mustUpdate=!0}_fillBlockInfo(e,t,n,r){return this._blockInfo.buffer=e,this._blockInfo.offset=t,this._blockInfo.size=n,this._blockInfo.address=r,this._blockInfo}_createBuffer(e,t,n,r,i){const s=t?Uj:El,o=this._buffersById.length,a=new r8({elementSize:s,sideElementSize:Bh,nbSideElementsPerMainElement:r,id:o,depth:n,elementType:e,animated:t,stencilUsage:i});return this._buffersById.push(a),a}getBlockInfo(e){return this._fillBlockInfo(this._buffersById[e>>Dj],(e>>gv)%uv,e%hv,e)}allocateBlock(e,t,n,r,i,s,o){const a=o8(s,BS);this._mustUpdate=!0;let l=null,c=-1;if(e){const u=this.getBlockInfo(e),h=u.buffer,g=u.offset,p=u.size,m=u.size===i,_=h.depth===r,y=h.type===t,f=h.animated===n,x=h.getNbSideElementsPerMainElement()===a,v=h.stencilUsage===o;m&&_&&y&&f&&x&&v?(h.triggerUpdate(),l=h,c=g):h.free(g,p)}if(c===-1){const u=+n,h=a/BS,g=this._buffersByDepth[r]||Array(2);this._buffersByDepth[r]=g;const p=g[u]||[];g[u]=p;const m=p[t]||Array(16);p[t]=m;const _=m[h]||Array(4);m[h]=_;const y=_[o]||[];_[o]=y;const f=y[y.length-1];f&&(l=f,c=f.allocate(i)),c===-1&&(l=this._createBuffer(t,n,r,a,o),c=l.allocate(i),y.push(l))}const d=s8(l.getId(),c,i);return this._fillBlockInfo(l,c,i,d)}freeBlock(e){if(e){this._mustUpdate=!0;const t=this.getBlockInfo(e);t.buffer.free(t.offset,t.size)}return 0}_sortBuffersByDepth(){const e=[];for(let t=0;t<this._buffersByDepth.length;t++){const n=this._buffersByDepth[t];if(n)for(let r=0;r<n.length;r++){const i=n[r];if(i)for(let s=0;s<i.length;s++){const o=i[s];if(o)for(let a=0;a<o.length;a++){const l=o[a];if(l)for(let c=0;c<l.length;c++){const d=l[c];if(d)for(let u=0;u<d.length;u++){const h=d[u];h.update(),h.isFullyFreed()?(this._buffersById[h.getId()]=void 0,d.splice(u,1),u-=1):e.push(h)}}}}}}this._buffersByAscendingDepth=e,this._buffersByDescendingDepth=e.slice().reverse()}update(){this._mustUpdate&&(this._sortBuffersByDepth(),this.version+=1,this._mustUpdate=!1)}getBuffers(){return this._buffersById}getBuffersByAscendingDepth(){return this._buffersByAscendingDepth}getBuffersByDescendingDepth(){return this._buffersByDescendingDepth}};function s8(e,t,n){return((e<<fI)+t<<gv)+n}function o8(e,t){let n=0;for(;n<e;)n+=t;return n}function jS(){return{pieceId:0,shape:"circle",x1:0,y1:0,x2:0,y2:0,rectWidthOrSourceRadiusScaled:0,rectWidthOrSourceRadiusFixed:0,rectHeightOrTargetRadiusScaled:0,rectHeightOrTargetRadiusFixed:0,thicknessOrFontSizeScaled:0,thicknessOrFontSizeFixed:0,strokeWidthScaled:0,strokeWidthFixed:0,offsetScaled:0,offsetFixed:0,pattern:{id:void 0,type:0,attributes:{}},opacity:1,fillColor:null,strokeColor:null,patternColor:null,globalMinVisibleSize:0,strokeMinVisibleSize:0,patternMinVisibleSize:0,offsetAngle:0,patternScale:0,symbolicSize:-1,curvature:0,dashLength:0,gapLength:0,hasHead:!1,hasTail:!1,isBodyTriangle:!1,isSelfLoop:!1,isText:!1,adjustTextAngle:!1,isBadge:!1,unusedFlag2:!1,unusedFlag3:!1}}function US(e={}){return e.pieceId=0,e.shape="",e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.rectWidthOrSourceRadiusScaled=0,e.rectWidthOrSourceRadiusFixed=0,e.rectHeightOrTargetRadiusScaled=0,e.rectHeightOrTargetRadiusFixed=0,e.thicknessOrFontSizeScaled=0,e.thicknessOrFontSizeFixed=0,e.strokeWidthScaled=0,e.strokeWidthFixed=0,e.offsetScaled=0,e.offsetFixed=0,e.pattern=e.pattern||{type:0,attributes:{}},e.pattern.type=0,e.opacity=1,e.fillColor=null,e.strokeColor=null,e.patternColor=null,e.globalMinVisibleSize=0,e.strokeMinVisibleSize=0,e.patternMinVisibleSize=0,e.offsetAngle=0,e.patternScale=0,e.symbolicSize=0,e.curvature=0,e.dashLength=0,e.gapLength=0,e.hasHead=!1,e.hasTail=!1,e.isBodyTriangle=!1,e.isSelfLoop=!1,e.isText=!1,e.adjustTextAngle=!1,e.isBadge=!1,e.unusedFlag2=!1,e.unusedFlag3=!1,e}function a8(e={}){return e.duration=0,e.beginTime=-1,e.easing="linear",e}function wv(){return{valid:!1,id:void 0,end:jS(),start:jS(),animation:{duration:0,beginTime:-1,easing:"linear"}}}function BI(e,t,n,r){e.width=t*r,e.height=n*r,da(e,`${t}px`,`${n}px`)}var l8=class{constructor(){this._capacity=hv,this._id=0,this.size=0,this.depth=0,this.animated=!1,this.stencilUsage=cl,this.type=Ai,this._list=Array(this._capacity);for(let e=0;e<this._capacity;++e)this._list[e]=wv()}reset(e,t,n,r){return this.type=e,this.animated=t,this.depth=n,r!==void 0&&(this._id=r),this.stencilUsage=cl,this.size=0,this}next(){if(this.size>=this._capacity)throw new Error("internal error: block.next() was called on a full block");return this._list[this.size++]}nextAndReset(){const e=this.next();return e.end=US(e.end),e.start=US(e.start),e.animation=a8(e.animation),e}forEach(e){this._list.forEach(e)}getElement(e){return this._list[e]}getCurrentElement(){return this._list[this.size-1]}getElements(){return this._list}getId(){return this._id}setGlobalAnimation(e,t,n){for(let r=0;r<this.size;++r){const i=this._list[r].animation;i.duration=e,i.beginTime=t,i.easing=n}}},c8=class{constructor(){this._version=0,this._initialize()}reset(){this._initialize()}_initialize(){this._mustUpdate=!0,this.maxCoord=0,this.maxScaledSize=0,this.maxMinVisibleSize=0,this.maxSymbolicSize=0,this.maxDashLength=0,this.maxGapLength=0,this.maxPatternScale=0}set({maxCoord:e,maxScaledSize:t,maxMinVisibleSize:n,maxSymbolicSize:r,maxDashLength:i,maxGapLength:s,maxPatternScale:o}){const a=this.maxCoord<e||this.maxScaledSize<t||this.maxMinVisibleSize<n||this.maxSymbolicSize<r||this.maxDashLength<i||this.maxGapLength<s||this.maxPatternScale<o;return a&&(this.maxCoord=e,this.maxScaledSize=t,this.maxMinVisibleSize=n,this.maxSymbolicSize=r,this.maxDashLength=i,this.maxGapLength=s,this.maxPatternScale=o,this._mustUpdate=!0),a}update(){return this._mustUpdate&&(this._version+=1,this._mustUpdate=!1),this}getVersion(){return this._version}},d8=class{constructor(e,t,n,r,i){this._littleEndian=Gp(),this._maxScaledSize=0,this._maxMinVisibleSize=0,this._maxSymbolicSize=0,this._maxDashLength=0,this._maxGapLength=0,this._maxPatternScale=0,this._actualScaledSizeToBytes=zj,this._actualMinVisibleSizeToBytes=I_,this._actualSymbolicSizeToBytes=qa,this._actualDashLengthToBytes=Za,this._actualGapLengthToBytes=Za,this._actualPatternScaleToBytes=qa,this._genericObject=wv(),this._shapeManager=t,this._patternManager=e,this._textManager=n,this._bufferOfsetToId=r,this._colorParser=i}resizeBoundaries(e,t,n,r,i,s){this._maxScaledSize=e,this._maxMinVisibleSize=t,this._maxSymbolicSize=n,this._maxDashLength=r,this._maxGapLength=i,this._maxPatternScale=s,this._actualScaledSizeToBytes=_I/e,this._actualMinVisibleSizeToBytes=I_/t,this._actualSymbolicSizeToBytes=qa/n,this._actualDashLengthToBytes=Za/r,this._actualGapLengthToBytes=Za/i,this._actualPatternScaleToBytes=qa/s}storeGenericObject(e,t,n){const r=this._shapeManager.getIdFromName(n.shape),i=n.pieceId,s=this._dashLengthToBytes(n.dashLength),o=this._gapLengthToBytes(n.gapLength),a=+n.hasHead,l=+n.hasTail,c=+n.isBodyTriangle,d=+n.isSelfLoop,u=this._patternScaleToBytes(n.patternScale),h=this._offsetAngleToBytes(n.offsetAngle),g=+n.isText,p=+n.adjustTextAngle,m=+n.isBadge,_=+n.unusedFlag2,y=+n.unusedFlag3,f=this._opacityToBytes(n.opacity),x=this._minVisibleSizeToBytes(n.globalMinVisibleSize),v=this._minVisibleSizeToBytes(n.strokeMinVisibleSize),w=this._minVisibleSizeToBytes(n.patternMinVisibleSize),b=this._symbolicSizeToBytes(n.symbolicSize),S=this._curvatureToBytes(n.curvature),k=n.pattern.attributes.colors;k&&(n.pattern.attributes.colors=k.split(";").map(ut=>Gu(this._colorToBytes(ut.trim()))).join(";"));const C=this._patternManager.getIdFromDefinition(n.pattern),A=this._colorToBytes(n.fillColor),N=this._colorToBytes(n.strokeColor),R=this._colorToBytes(n.patternColor),B=this._coordToBytes(n.x1),W=this._coordToBytes(n.y1),F=this._coordToBytes(n.x2),T=this._coordToBytes(n.y2),H=this._scaledSizeToBytes(n.rectWidthOrSourceRadiusScaled),G=this._fixedSizeToBytes(n.rectWidthOrSourceRadiusFixed),q=this._scaledSizeToBytes(n.rectHeightOrTargetRadiusScaled),te=this._fixedSizeToBytes(n.rectHeightOrTargetRadiusFixed),J=this._scaledSizeToBytes(n.thicknessOrFontSizeScaled),ue=this._fixedSizeToBytes(n.thicknessOrFontSizeFixed),Te=this._scaledSizeToBytes(n.strokeWidthScaled),ce=this._fixedSizeToBytes(n.strokeWidthFixed),_e=this._scaledSizeToBytes(n.offsetScaled),ze=this._fixedSizeToBytes(n.offsetFixed),Ye=this._fixedSizeToBytes(n.pattern.attributes.paddingTop||0),qe=this._fixedSizeToBytes(n.pattern.attributes.paddingLeft||0),ge=r+(i<<4)+(s<<8)+(o<<10)+(a<<12)+(l<<13)+(c<<14)+(d<<15),ye=u+(h<<8)+(g<<11)+(p<<12)+(m<<13)+(_<<14)+(y<<15),Ze=f+(x<<4)+(v<<8)+(w<<12),tt=b+(S<<8);this._setUint16(e,t+0,ge),this._setUint16(e,t+2,ye),this._setUint16(e,t+4,Ze),this._setUint16(e,t+6,tt),this._setUint16(e,t+8,C),this._setUint16(e,t+10,A),this._setUint16(e,t+12,N),this._setUint16(e,t+14,R),this._setFloat32(e,t+16,B),this._setFloat32(e,t+20,W),this._setFloat32(e,t+24,F),this._setFloat32(e,t+28,T),this._setUint16(e,t+32,H),this._setUint16(e,t+34,G),this._setUint16(e,t+36,q),this._setUint16(e,t+38,te),this._setUint16(e,t+40,J),this._setUint16(e,t+42,ue),this._setUint16(e,t+44,Te),this._setUint16(e,t+46,ce),this._setUint16(e,t+48,_e),this._setInt16(e,t+50,ze),this._setInt16(e,t+52,Ye),this._setInt16(e,t+54,qe)}_setUint16(e,t,n){e.setUint16(t,n,this._littleEndian)}_setInt16(e,t,n){e.setUint16(t,this._signedToUnsignedInt16(n),this._littleEndian)}_setFloat32(e,t,n){e.setFloat32(t,n,this._littleEndian)}_colorToBytes(e){const t=this._colorParser(e);return Math.round(15*t[0])+(Math.round(15*t[1])<<4)+(Math.round(15*t[2])<<8)+(Math.round(15*t[3])<<12)}_coordToBytes(e){return e}_scaledSizeToBytes(e){return Math.ceil(Math.min(e,this._maxScaledSize)*this._actualScaledSizeToBytes)}_fixedSizeToBytes(e){return e}_minVisibleSizeToBytes(e){return Math.round(Math.min(e,this._maxMinVisibleSize)*this._actualMinVisibleSizeToBytes)}_symbolicSizeToBytes(e){return Math.round(Math.min(e,this._maxSymbolicSize)*this._actualSymbolicSizeToBytes)}_dashLengthToBytes(e){return Math.round(Math.min(e,this._maxDashLength)*this._actualDashLengthToBytes)}_gapLengthToBytes(e){return Math.round(Math.min(e,this._maxGapLength)*this._actualGapLengthToBytes)}_patternScaleToBytes(e){return Math.round(Math.min(e,this._maxPatternScale)*this._actualPatternScaleToBytes)}_offsetAngleToBytes(e){return Math.round((e+jc)%jc*(8/jc))}_opacityToBytes(e){return Math.round(15*Math.min(e,1))}_curvatureToBytes(e){return this._signedToUnsignedByte(e)}_signedToUnsignedByte(e){return Wr(e,-128,127)+128}_signedToUnsignedInt16(e){return Wr(e,-32768,32767)+32768}storeAnimationInformation(e,t,{beginTime:n,duration:r},i){this._setAnimationBeginTime(e,t,n),this._setAnimationDuration(e,t,r),this._setAnimationEasing(e,t,i)}_setAnimationBeginTime(e,t,n){this._setFloat32(e,t,n)}_setAnimationDuration(e,t,n){this._setFloat32(e,t+4,n)}_setAnimationEasing(e,t,n){this._setUint16(e,t+8,(n[0]+128<<8)+(n[4]+128)),this._setUint16(e,t+10,(n[1]+128<<8)+(n[5]+128)),this._setUint16(e,t+12,(n[2]+128<<8)+(n[6]+128)),this._setUint16(e,t+14,(n[3]+128<<8)+(n[7]+128))}extractGenericElement(e,t,n){const r=e.type,i=e.animated,s=e.getDataView(),o=t*e.elementSize,a=this._genericObject;if(a.valid=!1,s.getUint16(o)&&(a.valid=!0,this._extractGenericObject(a.end,s,o,n),i&&(this._extractGenericObject(a.start,s,o+El,n),this._extractAnimationInformation(a.animation,s,o+2*El)),a.id=this._bufferOfsetToId.get(e.getId(),t),r===Wo)){const l=e.getSideDataView(),c=t*e.getTotalSideElementsSize(),d=c+e.getTotalSideElementsSize();a.end.pattern=this._textManager.extractTextFromDataView(l,c,d)}return a}_extractGenericObject(e,t,n,{bytesToActualCoord:r,bytesToActualScaledSize:i,bytesToActualMinVisibleSize:s,bytesToActualPatternScale:o,bytesToActualSymbolicSize:a,bytesToActualDashLength:l,bytesToActualGapLength:c}){const d=t,u=n,h=this._littleEndian,g=d.getUint16(u,h),p=tn(g,0,4),m=tn(g,4,8),_=tn(g,8,10),y=tn(g,10,12),f=tn(g,12,13),x=tn(g,13,14),v=tn(g,14,15),w=tn(g,15,16),b=d.getUint16(u+2,h),S=tn(b,0,8),k=tn(b,8,11),C=tn(b,11,12),A=tn(b,12,13),N=tn(b,13,14),R=tn(b,14,15),B=tn(b,15,16),W=d.getUint16(u+4,h),F=tn(W,0,4),T=tn(W,4,8),H=tn(W,8,12),G=tn(W,12,16),q=d.getUint16(u+6,h),te=tn(q,0,8),J=tn(q,8,16),ue=d.getUint16(u+8,h),Te=d.getUint16(u+10,h),ce=d.getUint16(u+12,h),_e=d.getUint16(u+14,h),ze=d.getFloat32(u+16,h),Ye=d.getFloat32(u+20,h),qe=d.getFloat32(u+24,h),ge=d.getFloat32(u+28,h),ye=d.getUint16(u+32,h),Ze=d.getUint16(u+34,h),tt=d.getUint16(u+36,h),ut=d.getUint16(u+38,h),st=d.getUint16(u+40,h),Z=d.getUint16(u+42,h),ee=d.getUint16(u+44,h),se=d.getUint16(u+46,h),oe=d.getUint16(u+48,h),he=Sf(d.getUint16(u+50,h)),pe=Sf(d.getUint16(u+52,h)),De=Sf(d.getUint16(u+54,h));e.pieceId=m,e.shape=this._shapeManager.getNameFromId(p),e.x1=Qr(ze,r),e.y1=Qr(Ye,r),e.x2=Qr(qe,r),e.y2=Qr(ge,r),e.rectWidthOrSourceRadiusScaled=Qr(ye,i),e.rectWidthOrSourceRadiusFixed=Ze,e.rectHeightOrTargetRadiusScaled=Qr(tt,i),e.rectHeightOrTargetRadiusFixed=ut,e.thicknessOrFontSizeScaled=Qr(st,i),e.thicknessOrFontSizeFixed=Z,e.strokeWidthScaled=Qr(ee,i),e.strokeWidthFixed=se,e.offsetScaled=Qr(oe,i),e.offsetFixed=he,e.pattern=this._patternManager.getDefinitionFromId(ue),e.pattern.attributes.paddingTop=pe,e.pattern.attributes.paddingLeft=De,e.opacity=F/15,e.fillColor=Gu(Te),e.strokeColor=Gu(ce),e.patternColor=Gu(_e),e.globalMinVisibleSize=Qr(T,s),e.strokeMinVisibleSize=Qr(H,s),e.patternMinVisibleSize=Qr(G,s),e.offsetAngle=k*(2*Math.PI/8),e.patternScale=S*o,e.symbolicSize=te*a,e.curvature=u8(J),e.dashLength=_*l,e.gapLength=y*c,e.hasHead=!!f,e.hasTail=!!x,e.isBodyTriangle=!!v,e.isSelfLoop=!!w,e.isText=!!C,e.adjustTextAngle=!!A,e.isBadge=!!N,e.unusedFlag2=!!R,e.unusedFlag3=!!B}_extractAnimationInformation(e,t,n){const r=this._littleEndian,i=t.getFloat32(n,r),s=t.getFloat32(n+4,r),o=t.getUint16(n+8,r),a=t.getUint16(n+10,r),l=t.getUint16(n+12,r),c=t.getUint16(n+14,r),d=(o>>8)-128,u=(a>>8)-128,h=(l>>8)-128,g=(c>>8)-128,p=o%256-128,m=a%256-128,_=l%256-128,y=c%256-128;e.beginTime=i,e.duration=s,e.easing=bv.getName(d,u,h,g,p,m,_,y)}};function tn(e,t,n){return e%(1<<n)>>t}function u8(e){return e-128}function Sf(e){return e-32768}function Qr(e,t){return e*t}var $S=new Array(65535);function Gu(e){let t=$S[e];if(!t){const n=tn(e,0,4)/15,r=tn(e,4,8)/15,i=tn(e,8,12)/15,s=tn(e,12,16)/15;t=`rgba(${255*n|0}, ${255*r|0}, ${255*i|0}, ${s})`,n+r+i+s===0&&(t=null),$S[e]=t}return t}var h8={[lo]:"image",[nu]:"piechart",[Oo]:"text",[Xo]:"icon",[Yo]:"badge"},g8=class{constructor(){this._pixelRatio=1,this._nextPatternId=1,this._version=0,this._init_()}reset(){this._init_()}_init_(){this._mustUpdate=!0,this._nextPatternId=1,this._patterns=[null],this._patternsByHash={},this._pixelRatio=1,this._nullPattern={id:-1,type:N_,attributes:{}}}_increaseNextId(){let e=this._nextPatternId++;for(e%256==255&&(e=this._nextPatternId++);this._patterns.length<=e;)this._patterns.push(void 0);return e}_createPattern({type:e,attributes:t}){const n={id:this._increaseNextId(),type:e,attributes:this._cloneAttributes(e,t)};return this._patterns[n.id]=n,this._mustUpdate=!0,n}_cloneAttributes(e,t){return e===lo?{image:t.image,scaled:t.scaled,duplicated:t.duplicated}:e===Oo||e===Xo||e===Yo?{font:t.font,size:t.size,style:t.style,text:t.text,paddingLeft:t.paddingLeft,paddingTop:t.paddingTop,align:t.align||"center",offset:t.offset||0}:e===nu&&t.colors?{colors:t.colors,colorArray:t.colors.split(";").map(n=>n.trim())}:{}}getPatternList(){return this._patterns.filter(e=>e)}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}setPixelRatio(e){e!==this._pixelRatio&&(this._pixelRatio=e,this._mustUpdate=!0)}getPixelRatio(){return this._pixelRatio}notifyUpdate(){this._mustUpdate=!0}getIdFromDefinition(e){const{type:t,attributes:n}=e,r=t===Oo||t===Xo||t===Yo;let i=0;return t&&t!==N_&&t!==mo&&(t!==lo||n.image)&&(!r||n.text&&n.font)&&(i=this._addPattern(e),t===Oo&&n.style==="normal"&&(n.style="bold",this._addPattern(e))),i}_addPattern(e){const t=this._getPatternHash(e);let n=this._patternsByHash[t];return n||(this._nextPatternId>65500?ao("maximum number of pattern exceeded"):(n=this._createPattern(e).id,this._patternsByHash[t]=n)),n}_getPatternHash({type:e,attributes:t}){const n=[h8[e]];return e===lo?n.push(t.scaled?"scaled":"non-scaled",t.duplicated?"duplicated":"non-duplicated",t.image.src||t.image.toDataURL()):e===Oo?n.push(t.text,t.font,t.style,t.size,t.align||"center",t.offset||0):e===Xo||e===Yo?n.push(t.text,t.font,t.style,t.size,t.paddingLeft,t.paddingTop):n.push(t.colors),n.join("+")}getDefinitionFromId(e){if(e&&this._patterns[e]){const t=this._patterns[e];if(t)return t}return this._nullPattern}getVersion(){return this._version}};function VS(e){return e.map(({x:t,y:n,r=0})=>({x:t,y:n,r}))}var p8=class{constructor(){this._version=0,this._mustUpdate=!0,this._byName={},this._byId=new Array($g+1)}register(e,{getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:r,hole:i,isSimple:s}){if(this._byName[e])return;let o=s?1:M_;const a=s?M_-1:$g;for(;this._byId[o];)o+=1;if(o>a)throw new Error("max number of shape exceeded");const l={id:o,name:e,getDistanceFromStrokeVertically:t,getDistanceFromStrokeHorizontally:n,points:VS(r.slice()),hole:i?VS(i.slice()):null,isSimple:!!s};return this._mustUpdate=!0,this._byId[o]=l,this._byName[e]=l,l}getIdFromName(e){return this._byName[e].id}getNameFromId(e){const t=this._byId[e];return t?t.name:""}getDefinitionFromName(e){return this._byName[e]}update(){this._mustUpdate&&(this._version+=1,this._mustUpdate=!1)}getVersion(){return this._version}getShapeList(){return this._byId.filter(e=>e)}},kf=Gp(),Hu=10,m8=1<<17,f8=65536,_8=256,GS=128,y8=25,jI=1e3,D_=2,x8=class{constructor(e){this._patternManager=e,this._canvas=Dn(),this._ctx=this._canvas.getContext("2d",{willReadFrequently:!0}),this._processBidirectionalText=pI().processBidirectionalText,this._cornerRadius=0,this._version=0,this._textPattern={id:0,type:mo,attributes:{text:"",font:"",size:0,style:"normal",align:"center"},dimensions:{width:0,height:0}},this._textDimensions={width:0,height:0},this._lineWidthList=new Array(64),this._init()}_init(){this._mustClear=!1,this._clear()}reset(){this._init()}clear(){this._mustClear=!0}_measureChar(e,t,n){return ho(this._ctx,t,Ad,n),this._ctx.measureText(e).width/Ad}_getAtlas(e,t,n,r){const i=n===tu?0:n,s=this._byFont[e]||(this._byFont[e]={none:void 0,bold:void 0,italic:void 0,normal:void 0}),o=s[r]||(s[r]={}),a=o[t]||(o[t]=new Array(50));return a[i]||(a[i]=new Array(256))}_getMeasurementAtlas(e,t){const n=this._widthAtlases[t];return n[e]||(n[e]=new Array(256))}measureText(e,t,n,r=1){if(!t)return this._textDimensions.width=0,this._textDimensions.height=0,this._textDimensions;const i=this._getMeasurementAtlas(t,n);let s=0,o=0,a=1;for(let l=0;l<e.length;++l){const c=e.charCodeAt(l);if(c===Hu)o>s&&(s=o),o=0,a+=1;else{let d=i[c];d===void 0&&(d=this._measureChar(e[l],t,n),i[c]=d),o+=d}}return o>s&&(s=o),this._textDimensions.width=s*r,this._textDimensions.height=a*r,this._textDimensions}_getCharInfo(e,t,n,r,i,s){let o=e[t];if(!o){const a=String.fromCharCode(t);o={ratio:this._measureChar(a,n,r),patternId:0},o.patternId=this._patternManager.getIdFromDefinition({id:0,type:Oo,attributes:{text:a,font:n,style:r,size:i,align:s}}),e[t]=o}return o}storeTextInDataView(e,t,n,r){let i=t;if(r&&r.type===mo){const{font:s,style:o,size:a,align:l}=r.attributes,c=l==="center",d=this._getAtlas(s,o,a,l);let u=0,h=1,g=0,p=0;const m=this._lineWidthList,_=this._processBidirectionalText(r.attributes.text);for(let v=0;v<_.length;++v){const w=_.charCodeAt(v);w===Hu?(g>u&&(u=g),m[p]=g,p++,g=0,h++):g+=this._getCharInfo(d,w,s,o,a,l).ratio}m[p]=g,g>u&&(u=g),p=0;let y=-(c?m[p]:u)/2,f=(1-h)/2,x=0;for(let v=0;v<_.length;++v){const w=_.charCodeAt(v),b=d[w];if(w===Hu)p+=1,y=-(c?m[p]:u)/2,f+=v===0?.5:1,x=0;else{const S=b.ratio,k=b.patternId;y+=(S+x)/2,x=S;const C=(Wr(y*jI+f8,0,m8-1)<<8)+Wr(f*D_+GS,0,_8-1);e.setUint16(i,k,kf),e.setUint32(i+2,C,kf),i+=Bh}}}this._fillWithZeros(e,i,n)}extractTextFromDataView(e,t,n){const r=e,i=kf,s=r.getUint16(t,i),o=this._textPattern,a=this._patternManager.getDefinitionFromId(s),{font:l,style:c,size:d,align:u}=a.attributes,h=this._getAtlas(l,c,d,u),g=[];let p=0,m=0,_=0,y=null;for(let x=t;x<n;x+=Bh){const v=r.getUint16(x,i);if(!v)break;const w=(r.getUint8(x+2)-GS)/D_,b=this._patternManager.getDefinitionFromId(v);if(!b||!b.attributes||!b.attributes.text)break;const S=b.attributes.text.charCodeAt(0),k=h[S];y===null?y=w:w>y&&(p>m&&(m=p),p=0,_+=1,g.push(Hu),y=w),g.push(S),k&&(p+=k.ratio)}p>m&&(m=p);const f=String.fromCharCode.apply(null,g);return o.attributes.style=c,o.attributes.font=l,o.attributes.size=d,o.attributes.align=u,o.attributes.text=this._processBidirectionalText(f),o.dimensions&&(o.dimensions.width=m,o.dimensions.height=_),o}_fillWithZeros(e,t,n){for(let r=t;r<n;r+=Bh)e.setUint16(r,0)}_clear(){this._byFont={},this._widthAtlases={normal:{},bold:{},italic:{}}}update(){this._mustClear&&(this._clear(),this._mustClear=!1)}getVersion(){return this._version}getCornerRadius(){return this._cornerRadius}setCornerRadius(e){e!==this._cornerRadius&&(this._cornerRadius=e,this._version++)}},Ev=class extends Jd{constructor({bufferList:e,patternManager:t,boundariesManager:n,shapeManager:r,textManager:i,memoryManager:s}){super(),this._firstFrame=!0,this._width=0,this._height=0,this._pixelRatio=0,this._viewX=0,this._viewY=0,this._viewZoom=0,this._viewAngle=0,this._viewAngleCos=0,this._viewAngleSin=0,this._currentTime=0,this._scales={bytesToActualCoord:0,bytesToActualScaledSize:0,bytesToActualMinVisibleSize:0,bytesToActualSymbolicSize:0,bytesToActualDashLength:0,bytesToActualGapLength:0,bytesToActualPatternScale:0},this._shapesVersion=0,this._patternsVersion=0,this._boundariesVersion=0,this._textsVersion=0,this._backgroundRgba=[1,1,1,0],this._renderBackground=!1,this._hideImages=!1,this._genericObject=wv(),this._littleEndian=Gp(),this._bufferList=e,this._shapeManager=r,this._patternManager=t,this._boundariesManager=n,this._textManager=i,this._memoryManager=s}static createInitData(){return null}static getName(){return null}static isAvailable(){return!0}getDomElement(){return null}_initCanvas(e){e.style.touchAction="none"}export(e){return Promise.resolve()}extractElement(e,t){return this._memoryManager.extractGenericElement(e,t,this._scales)}_compareDimensions(e,t,n){return(e!==this._width||t!==this._height||n!==this._pixelRatio)&&(this._width=e,this._height=t,this._pixelRatio=n,!0)}_compareView(e,t,n,r){return(e!==this._viewX||t!==this._viewY||n!==this._viewZoom||r!==this._viewAngle)&&(this._viewX=e,this._viewY=t,this._viewZoom=n,this._viewAngle=r,this._viewAngleCos=Math.cos(r),this._viewAngleSin=Math.sin(r),!0)}_compareCurrentTime(e){return e!==this._currentTime&&(this._currentTime=e,!0)}_compareBackgroundColor(e,t){return(e!==this._backgroundColor||t!==this._renderBackground)&&(this._renderBackground=t,this._backgroundColor=e,this._backgroundRgba=yr(this._backgroundColor),!0)}_compareShapes(){return this._shapesVersion!==this._shapeManager.getVersion()&&(this._shapesVersion=this._shapeManager.getVersion(),!0)}_comparePatterns(){return this._patternsVersion!==this._patternManager.getVersion()&&(this._patternsVersion=this._patternManager.getVersion(),!0)}_compareBoundaries(){return this._boundariesVersion!==this._boundariesManager.getVersion()&&(this._boundariesVersion=this._boundariesManager.getVersion(),!0)}_compareTexts(){return this._textsVersion!==this._textManager.getVersion()&&(this._textsVersion=this._textManager.getVersion(),!0)}_compareIsDisplayableBuffer(e){return this._isBufferDisplayable!==e&&(this._isBufferDisplayable=e,!0)}_compareHideImages(e){return this._hideImages!==e&&(this._hideImages=e,!0)}renderFrame({x:e,y:t,zoom:n,angle:r,width:i,height:s,pixelRatio:o,backgroundColor:a,currentTime:l,isBufferDisplayable:c,hideImages:d,renderBackground:u}){const h=this._compareShapes(),g=this._comparePatterns(),p=this._compareBoundaries(),m=this._compareTexts(),_=this._compareDimensions(i,s,o),y=this._compareView(e,t,n,r),f=this._compareCurrentTime(l),x=this._compareBackgroundColor(a,u),v=this._compareIsDisplayableBuffer(c),w=this._compareHideImages(d);if(p){const b=this._boundariesManager,S=this._scales;S.bytesToActualCoord=1,S.bytesToActualScaledSize=b.maxScaledSize/_I,S.bytesToActualMinVisibleSize=b.maxMinVisibleSize/I_,S.bytesToActualSymbolicSize=b.maxSymbolicSize/qa,S.bytesToActualDashLength=b.maxDashLength/Za,S.bytesToActualGapLength=b.maxGapLength/Za,S.bytesToActualPatternScale=b.maxPatternScale/qa}this._firstFrame&&this._beforeFirstFrame(),this._render({shapesChanged:h,patternsChanged:g,boundariesChanged:p,textsChanged:m,dimensionsChanged:_,viewChanged:y,currentTimeChanged:f,backgroundColorChanged:x,isBufferDisplayableChanged:v,isHideImagesChanged:w}),this._firstFrame&&(this._afterFirstFrame(),this._firstFrame=!1)}_render(e){}_beforeFirstFrame(){}_afterFirstFrame(){}destroy(){}ensureAnimationsReady(){}getImageData(){return null}setViewportClipping(e){}},Wu=1/hr,UI=class extends Ev{constructor(e){super(e),this._cachePoints=[],this._nextCachePoint=0,this._tmp={x1:0,y1:0,x2:0,y2:0},this._pointCopies=Array(128),this._clipViewport=!0}_resetCachePoints(){this._nextCachePoint=0}_point(e,t){let n=this._cachePoints[this._nextCachePoint++];return n||(n={x:0,y:0},this._cachePoints.push(n)),n.x=e,n.y=t,n}setViewportClipping(e){this._clipViewport=e}_displayBuffer(e){const t=e.getSize(),n=e.animated;for(let r=0;r<t;++r){const i=this.extractElement(e,r);i.valid&&this._displayElement(i,n)}}_mixAttributes(e,t,n){const r=OI(this._currentTime,n.beginTime,n.duration,n.easing);return e.dashLength=zt(t.dashLength,e.dashLength,r),e.gapLength=zt(t.gapLength,e.gapLength,r),e.offsetAngle=zt(t.offsetAngle,e.offsetAngle,r),e.opacity=zt(t.opacity,e.opacity,r),e.globalMinVisibleSize=zt(t.globalMinVisibleSize,e.globalMinVisibleSize,r),e.strokeMinVisibleSize=zt(t.strokeMinVisibleSize,e.strokeMinVisibleSize,r),e.patternMinVisibleSize=zt(t.patternMinVisibleSize,e.patternMinVisibleSize,r),e.symbolicSize=zt(t.symbolicSize,e.symbolicSize,r),e.curvature=zt(t.curvature,e.curvature,r),e.fillColor=fc(t.fillColor,e.fillColor,r,r),e.strokeColor=fc(t.strokeColor,e.strokeColor,r,r),e.patternColor=fc(t.patternColor,e.patternColor,r,r),e.x1=zt(t.x1,e.x1,r),e.y1=zt(t.y1,e.y1,r),e.x2=zt(t.x2,e.x2,r),e.y2=zt(t.y2,e.y2,r),e.rectWidthOrSourceRadiusScaled=zt(t.rectWidthOrSourceRadiusScaled,e.rectWidthOrSourceRadiusScaled,r),e.rectWidthOrSourceRadiusFixed=zt(t.rectWidthOrSourceRadiusFixed,e.rectWidthOrSourceRadiusFixed,r),e.rectHeightOrTargetRadiusScaled=zt(t.rectHeightOrTargetRadiusScaled,e.rectHeightOrTargetRadiusScaled,r),e.rectHeightOrTargetRadiusFixed=zt(t.rectHeightOrTargetRadiusFixed,e.rectHeightOrTargetRadiusFixed,r),e.thicknessOrFontSizeScaled=zt(t.thicknessOrFontSizeScaled,e.thicknessOrFontSizeScaled,r),e.thicknessOrFontSizeFixed=zt(t.thicknessOrFontSizeFixed,e.thicknessOrFontSizeFixed,r),e.strokeWidthScaled=zt(t.strokeWidthScaled,e.strokeWidthScaled,r),e.strokeWidthFixed=zt(t.strokeWidthFixed,e.strokeWidthFixed,r),e.offsetScaled=zt(t.offsetScaled,e.offsetScaled,r),e.offsetFixed=zt(t.offsetFixed,e.offsetFixed,r),e}_computeRenderInfo(e){const t=this._viewZoom,n=this._point(e.x1,e.y1),r=this._point(e.x2,e.y2);return{shape:this._shapeManager.getDefinitionFromName(e.shape),pieceId:e.pieceId,dashLength:e.dashLength,gapLength:e.gapLength,hasHead:e.hasHead,hasTail:e.hasTail,isBodyTriangle:e.isBodyTriangle,isSelfLoop:e.isSelfLoop,patternScale:e.patternScale,offsetAngle:Fg(e.offsetAngle),isText:e.isText,adjustTextAngle:e.adjustTextAngle,isBadge:e.isBadge,unusedFlag2:e.unusedFlag2,unusedFlag3:e.unusedFlag3,opacity:e.opacity,globalMinVisibleSize:e.globalMinVisibleSize,strokeMinVisibleSize:e.strokeMinVisibleSize,patternMinVisibleSize:e.patternMinVisibleSize,symbolicSize:e.symbolicSize===0?1/0:e.symbolicSize*t,curvature:e.curvature,pattern:e.pattern,fillColor:e.fillColor,strokeColor:e.strokeColor,patternColor:e.patternColor,pos1OnGraph:n,pos2OnGraph:r,pos1:this._graphToScreenCoordinates(n),pos2:this._graphToScreenCoordinates(r),rectWidthOrSourceRadius:e.rectWidthOrSourceRadiusScaled*t+e.rectWidthOrSourceRadiusFixed,rectHeightOrTargetRadius:e.rectHeightOrTargetRadiusScaled*t+e.rectHeightOrTargetRadiusFixed,thicknessOrFontSize:e.thicknessOrFontSizeScaled*t+e.thicknessOrFontSizeFixed,strokeWidth:e.strokeWidthScaled*t+e.strokeWidthFixed,offset:e.offsetScaled*t+e.offsetFixed}}_applyBackgroundBlending(e){e.opacity!==1&&(e.fillColor=this._blendColor(e.fillColor,e.opacity),e.strokeColor=this._blendColor(e.strokeColor,e.opacity),e.textColor=this._blendColor(e.textColor,e.opacity))}_pointArray(e){let t=this._pointCopies[e];if(!t){t=new Array(e),this._pointCopies[e]=t;for(let n=0;n<e;++n)t[n]={x:0,y:0,r:0}}return t}_scalePoints(e,t,n,r){const i=e.shape.points.length,s=this._pointArray(i);for(let l=0;l<i;++l){const c=e.shape.points[l],d=s[l];d.x=t.x+c.x*n,d.y=t.y+c.y*r,d.r=c.r*n}const o=e.pos2OnGraph.x-e.pos1OnGraph.x,a=e.pos2OnGraph.y-e.pos1OnGraph.y;if(o!==0||a!==0){const l=Math.sqrt(o*o+a*a),c=o/l,d=a/l;for(const u of s){const h=u.x-t.x,g=u.y-t.y;u.x=t.x+c*h+d*g,u.y=t.y-d*h+c*g}}return s}_drawPoints(e,t=!1){e.length===1?this._drawCircle(e[0],e[0].r):this._drawPolygon(e,t)}_computeCenter(e){const t=Math.cos(e.offsetAngle),n=Math.sin(e.offsetAngle),r=(e.pos1.x+e.pos2.x)/2+t*e.offset,i=(e.pos1.y+e.pos2.y)/2+n*e.offset;return this._point(r,i)}_displayTextBox(e,t,n,r){const i=this._computeCenter(e),s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2;(t||r)&&this._drawRoundedRectangle(i,s,o,0,e.fillColor)}_displayNodeComponent(e,t,n,r){const i=this._computeCenter(e);if(e.pattern.type!==mo){const s=e.rectWidthOrSourceRadius/2,o=e.rectHeightOrTargetRadius/2,a=this._scalePoints(e,i,s,o);if((t||r)&&this._drawPoints(a,!0),t&&this._fill(e.fillColor),r){if(this._startClip(),e.pattern.type===nu){let l=e.pattern.attributes.colorArray;e.opacity!==1&&(l=l.map(c=>this._blendColor(c,e.opacity))),this._displayPieChart(i,s,l)}else if(e.pattern.type===Xo||e.pattern.type===Yo){const c=Math.round(e.rectHeightOrTargetRadius*e.patternScale),d=e.pattern.attributes.text,u=e.patternColor,h=e.pattern.attributes.font,g=e.pattern.attributes.style,p=e.pattern.attributes.align,m=e.rectWidthOrSourceRadius,_=e.pattern.attributes.paddingTop,y=e.pattern.attributes.paddingLeft;this._displayText(i,0,d,u,h,c,g,p,m,y,_,!0)}else if(e.pattern.type===lo){const l=e.pattern.attributes.image;if(l.isDummy||l.width&&l.height){const c=e.pattern.attributes.duplicated,d=c?1:e.patternScale,u=e.rectWidthOrSourceRadius*d,h=e.rectHeightOrTargetRadius*d,g=e.pattern.attributes.scaled,p=e.opacity;this._displayImage(i,u,h,l,g,c,p)}}this._endClip()}if(n){const l=e.strokeWidth/2,c=this._scalePoints(e,i,s+l,o+l);this._drawPoints(c),this._stroke(e.strokeColor,e.strokeWidth)}}else if(r){const o=e.thicknessOrFontSize,a=e.pattern.attributes.text,l=e.patternColor,c=e.pattern.attributes.font,d=e.pattern.attributes.style,u=e.pattern.attributes.align,h=e.rectWidthOrSourceRadius;this._displayText(i,0,a,l,c,o,d,u,h,0,0,!1)}}_displayElement(e,t){if(!e.end||!e.end.shape||!e.end.pieceId||t&&(!e.start||!e.animation))return;this._resetCachePoints();const n=t?this._mixAttributes(e.end,e.start,e.animation):e.end,r=this._computeRenderInfo(n);if(r.symbolicSize<r.globalMinVisibleSize||r.opacity===0)return;this._applyBackgroundBlending(r);const i=!!(r.strokeColor&&r.strokeWidth>0&&r.symbolicSize>=r.strokeMinVisibleSize),s=r.pattern.type!==N_&&r.symbolicSize>=r.patternMinVisibleSize,o=!!r.fillColor;if(r.pieceId===pi)return this._displayNodeComponent(r,o,i,s);if(r.pieceId===ll)return this._displayTextBox(r,o,i,s);const a=r.pos2.x-r.pos1.x,l=r.pos2.y-r.pos1.y,c=Math.sqrt(a*a+l*l);let d,u=null,h=null;if(r.isSelfLoop){const g=r.pieceId===Ya||r.pieceId===Ya+ll?r.strokeWidth/2:r.rectWidthOrSourceRadius,{x1:p,y1:m,x2:_,y2:y}=this._getSelfLoopControlPoints(r.pos1,r.curvature,g);u=this._point(p,m),h=this._point(_,y),d=b8(r.pos1,u,h,r.pos2,1)}else r.curvature?(u=this._getQuadraticCurveControlPoint(r),d=v8(r.curvature,c,1)):d=c;if(r.pieceId===Ya||r.pieceId===Ya+ll){const g=r.strokeWidth,p=this._getPointOnLine(r.pos1,u,h,r.pos2,.5),m=this._getTangentOnLine(r.pos1,u,h,r.pos2,.5);if(r.rectWidthOrSourceRadius>=d-g&&!r.isSelfLoop){if(!r.adjustTextAngle)return;m.x=1,m.y=0}let _=-Math.atan2(m.y,m.x);const y=Fg(r.offsetAngle-_);(!r.isSelfLoop&&y<0||r.isSelfLoop&&r.offsetAngle<0)&&(m.x*=-1,m.y*=-1),(_>Math.PI/2||_<-Math.PI/2)&&(_+=Math.PI);const f=this._getOrthogonal(m),x=p.x+f.x*r.offset,v=p.y+f.y*r.offset;if(r.fillColor){const w=r.rectWidthOrSourceRadius/2,b=r.rectHeightOrTargetRadius/2;this._drawRoundedRectangle(this._point(x,v),w,b,y+Math.PI/2,r.fillColor)}else{const w=this._point(x,v),b=_,S=r.thicknessOrFontSize,k=r.pattern.attributes.text,C=r.patternColor,A=r.pattern.attributes.font,N=r.pattern.attributes.style,R=r.pattern.attributes.align,B=r.rectWidthOrSourceRadius;this._displayText(w,b,k,C,A,S,N,R,B,0,0,!1)}}else{const g=r.pieceId===lv,p=r.pieceId===cv,m=Math.cos(r.offsetAngle),_=Math.sin(r.offsetAngle);r.pos1.x+=m*r.offset,r.pos1.y+=_*r.offset,r.pos2.x+=m*r.offset,r.pos2.y+=_*r.offset;const y=r.shape.name==="line",f=r.thicknessOrFontSize,x=r.rectWidthOrSourceRadius,v=r.rectHeightOrTargetRadius,w=+r.hasHead,b=+r.hasTail,S=+r.isBodyTriangle,k=w+b,C=w8(f),A=w*C,N=b*C,R=r.isSelfLoop?1/0:c-x-v,B=Math.min(R/k,C),W=b*(C+Math.max(x+B-N,0))+(1-b)*S*x,F=w*(C+Math.max(v+B-A,0))+(1-w)*S*v;if(g||p){const T=p?-1:1,H=(g?d-F:W)-T;let G=null,q=null;if(r.isSelfLoop&&u&&h){const te=this._getTFromLengthOnCubicCurve(r.pos1,u,h,r.pos2,H-r.strokeWidth/2*T);G=this._getPointOnCubicCurve(r.pos1,u,h,r.pos2,te),q=this._getTangentOnCubicCurve(r.pos1,u,h,r.pos2,te)}else if(r.curvature&&u){const te=this._getTFromLengthOnQuadraticCurve(r.pos1,u,r.pos2,H-r.strokeWidth/2*T);G=this._getPointOnQuadraticCurve(r.pos1,u,r.pos2,te),q=this._getTangentOnQuadraticCurve(r.pos1,u,r.pos2,te)}else{const te=H/d;G=this._mixPoints(r.pos1,r.pos2,te),q=this._point(a/c,l/c)}if(q.x*=T,q.y*=T,o){if(r.shape.hole){const J=this._makeEdgeExtremityPoints(G,q,C,r.shape.hole);this._drawPoints(J),this._startReverseClip()}const te=this._makeEdgeExtremityPoints(G,q,C,r.shape.points);this._drawPoints(te),this._fill(r.fillColor),r.shape.hole&&this._endReverseClip()}if(i){if(r.shape.hole){const ue=this._makeEdgeExtremityPoints(G,q,C,r.shape.hole);this._drawPoints(ue),this._stroke(r.strokeColor,r.strokeWidth)}const te=C+r.strokeWidth/2,J=this._makeEdgeExtremityPoints(G,q,te,r.shape.points);this._drawPoints(J),this._stroke(r.strokeColor,r.strokeWidth)}}else{if(d-W-F<=0)return;if(y){const T=E8(d,f,W,F,r.dashLength,r.gapLength);i&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.strokeColor,f+2*r.strokeWidth,T)),o&&(this._drawLine(r.pos1,u,h,r.pos2),this._stroke(r.fillColor,f,T))}else{const T=W,H=d-F;if(i){const G=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,T,H,f+r.strokeWidth/2,r.strokeWidth/2);this._drawPoints(G),this._stroke(r.strokeColor,r.strokeWidth)}if(o){const G=this._makeTriangleEdgeBody(r.pos1,u,h,r.pos2,T,H,f,0);this._drawPoints(G),this._fill(r.fillColor)}}}}}_makeTriangleEdgeBody(e,t,n,r,i,s,o,a){return t?n?this._makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a):this._makeCurveTriangleEdge(e,t,r,i,s,o,a):this._makeStraightTriangleEdge(e,r,i,s,o,a)}_makeCurveTriangleEdge(e,t,n,r,i,s,o){const a=2*hr+2,l=this._pointArray(a),c=this._getTFromLengthOnQuadraticCurve(e,t,n,r),d=(this._getTFromLengthOnQuadraticCurve(e,t,n,i)-c)/hr,u=(o-s)/hr/2;let h=s/2,g=c;for(let p=0;p<=hr;++p){const m=this._getPointOnQuadraticCurve(e,t,n,g),_=this._getTangentOnQuadraticCurve(e,t,n,g),y=this._getOrthogonal(_),f=y.x*h,x=y.y*h,v=l[p],w=l[a-1-p];v.x=m.x+f,v.y=m.y+x,w.x=m.x-f,w.y=m.y-x,g+=d,h+=u}return l}_makeSelfLoopTriangleEdge(e,t,n,r,i,s,o,a){const l=2*hr+2,c=this._pointArray(l),d=this._getTFromLengthOnCubicCurve(e,t,n,r,i),u=(this._getTFromLengthOnCubicCurve(e,t,n,r,s)-d)/hr,h=(a-o)/hr/2;let g=o/2,p=d;for(let m=0;m<=hr;++m){const _=this._getPointOnCubicCurve(e,t,n,r,p),y=this._getTangentOnCubicCurve(e,t,n,r,p),f=this._getOrthogonal(y),x=f.x*g,v=f.y*g,w=c[m],b=c[l-1-m];w.x=_.x+x,w.y=_.y+v,b.x=_.x-x,b.y=_.y-v,p+=u,g+=h}return c}_makeStraightTriangleEdge(e,t,n,r,i,s){const o=t.x-e.x,a=t.y-e.y,l=Math.sqrt(o*o+a*a),c=this._point(o/l,a/l),d=this._getOrthogonal(c),u=i/2,h=s/2,g=this._pointArray(4),p=g[0],m=g[1],_=g[2],y=g[3],f=e.x+c.x*n,x=e.y+c.y*n,v=e.x+c.x*r,w=e.y+c.y*r,b=d.x*u,S=d.y*u,k=d.x*h,C=d.y*h;return p.x=f+b,p.y=x+S,m.x=f-b,m.y=x-S,_.x=v-k,_.y=w-C,y.x=v+k,y.y=w+C,g}_makeEdgeExtremityPoints(e,t,n,r){const i=this._pointArray(r.length),s=n/2,o=e.x+t.x*s,a=e.y+t.y*s,l=t.x,c=t.y;for(let d=0;d<r.length;++d){const u=r[d],h=i[d],g=(l*u.x-c*u.y)*s,p=(c*u.x+l*u.y)*s;h.x=o+g,h.y=a+p,h.r=u.r*s}return i}_drawLine(e,t,n,r){t?n?this._drawCubicCurve(e,t,n,r):this._drawQuadraticCurve(e,t,r):this._drawStraightLine(e,r)}_getSelfLoopControlPoints(e,t,n){return ma(e.x,e.y,t,n,this._viewAngle,this._tmp)}_getQuadraticCurveControlPoint(e){return Pi(e.pos1.x,e.pos1.y,e.pos2.x,e.pos2.y,e.curvature,this._point(0,0))}_graphToScreenCoordinates(e){const t=this._width/2,n=this._height/2,r=(e.x-this._viewX)*this._viewZoom,i=(e.y-this._viewY)*this._viewZoom,s=this._viewAngleCos,o=this._viewAngleSin,a=s*r+o*i+t,l=-o*r+s*i+n;return this._point(a,l)}_blendColor(e,t){return e&&this._backgroundColor?fc(this._backgroundColor,e,t,1):null}_getTangentOnLine(e,t,n,r,i){return t?n?this._getTangentOnCubicCurve(e,t,n,r,i):this._getTangentOnQuadraticCurve(e,t,r,i):this._getTangentOnStraightLine(e,r)}_getTangentOnStraightLine(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return this._point(n/i,r/i)}_getTangentOnQuadraticCurve(e,t,n,r){const i=1-r,s=i*t.x+r*n.x-(i*e.x+r*t.x),o=i*t.y+r*n.y-(i*e.y+r*t.y),a=Math.sqrt(s*s+o*o);return this._point(s/a,o/a)}_getTangentOnCubicCurve(e,t,n,r,i){const s=1-i,o=s*s,a=i*i,l=o*(t.x-e.x)+2*s*i*(n.x-t.x)+a*(r.x-n.x),c=o*(t.y-e.y)+2*s*i*(n.y-t.y)+a*(r.y-n.y),d=Math.sqrt(l*l+c*c);return this._point(l/d,c/d)}_mixPoints(e,t,n){const r=zt(e.x,t.x,n),i=zt(e.y,t.y,n);return this._point(r,i)}_getOrthogonal(e){return this._point(-e.y,e.x)}_getPointOnLine(e,t,n,r,i){return t?n?this._getPointOnCubicCurve(e,t,n,r,i):this._getPointOnQuadraticCurve(e,t,r,i):this._mixPoints(e,r,i)}_getPointOnQuadraticCurve(e,t,n,r){const i=Qa(e.x,t.x,n.x,r),s=Qa(e.y,t.y,n.y,r);return this._point(i,s)}_getPointOnCubicCurve(e,t,n,r,i){const s=Du(e.x,t.x,n.x,r.x,i),o=Du(e.y,t.y,n.y,r.y,i);return this._point(s,o)}_getTFromLengthOnCubicCurve(e,t,n,r,i){let s=e.x,o=e.y,a=0,l=0;for(let c=0;c<hr;++c){a+=Wu;const d=Du(e.x,t.x,n.x,r.x,a),u=Du(e.y,t.y,n.y,r.y,a),h=d-s,g=u-o,p=Math.sqrt(h*h+g*g),m=l+p;if(m>i)return a-Wu*((m-i)/p);l=m,s=d,o=u}return 1}_getTFromLengthOnQuadraticCurve(e,t,n,r){let i=e.x,s=e.y,o=0,a=0;for(let l=0;l<hr;++l){o+=Wu;const c=Qa(e.x,t.x,n.x,o),d=Qa(e.y,t.y,n.y,o),u=c-i,h=d-s,g=Math.sqrt(u*u+h*h),p=a+g;if(p>r)return o-Wu*((p-r)/g);a=p,i=c,s=d}return 1}};function v8(e,t,n){const r=Math.abs(e)/sm+iI,i=r*r,s=n-.5,o=s*s,a=1/(16*i),l=Math.sqrt(o+a),c=.5/r*Math.sqrt(i+.25);return Math.abs(2*r)*(s*l+.5*c+a*Math.log(Math.abs((s+l)/(-.5+c))))*t}function b8(e,t,n,r,i){const s=(e.x+t.x+n.x)/3,o=(e.y+t.y+n.y)/3,a=s-t.x,l=o-t.y,c=t.x-n.x,d=t.y-n.y,u=a*a+l*l,h=(c*c+d*d)/4,g=Math.sqrt(u-h);return 2*vI*g*3.14159265359*i}function w8(e){return e*xI}function E8(e,t,n,r,i,s){const o=[];if(n&&o.push(0,n),i&&s){const a=i*t,l=s*t,c=a+l,d=e-r-n-c;let u=0;for(;u<d;)o.push(a,l),u+=c;const h=e-r-n-u,g=Math.min(a,h),p=Math.max(h-g,0);o.push(g,p)}else o.push(e-r-n,0);return r&&o.push(0,r),o}var Ja=0,Uc=1,$c=2,To=3,HS=4,Sv=0,z_=1,S8={[Ja]:{min:"NEAREST",mag:"NEAREST",mipmap:!1},[Uc]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[$c]:{min:"LINEAR",mag:"LINEAR",mipmap:!1},[To]:{min:"LINEAR_MIPMAP_LINEAR",mag:"LINEAR",mipmap:!0}},k8={[Sv]:"ALPHA",[z_]:"RGBA"};function kl(e){return Math.ceil((e+2*fo)/tr)*tr}function A8(e,t,n,r,i){for(let s=0,o=e.length;s<o;++s){const a=e[s],l=a.x,c=a.y,d=l+r,u=c+i;let h=d<n&&u<n;if(h){for(let g=l;g<d;++g)if(t[g+c*n]===1){h=!1;break}}if(h){for(let g=c;g<u;++g)if(t[l+g*n]===1){h=!1;break}}if(h){for(let g=l;g<d;++g)for(let p=c;p<u;++p)t[g+p*n]=1;return e.splice(s,1),e.push({x:l,y:u},{x:d,y:c}),a}}return null}function WS(e,t,n,r,i,s,o){const a=4*e,l=t>>1<<7,c=t%2<<7;o[a]=n/tr,o[a+1]=r/tr,o[a+2]=l+i/tr,o[a+3]=c+s/tr}function C8(e,t,n,r,i,s,o){r|=0,i|=0,s|=0,o|=0,t|=0;for(let a=0;a<s;++a)for(let l=0;l<o;++l){const c=4*(r+a+(i+l)*t),d=4*(a+l*s);e[c]=n[d],e[c+1]=n[d+1],e[c+2]=n[d+2],e[c+3]=n[d+3]}}function T8(e,t){let n=0,r=4;for(let s=0;s<e.length;++s){const{width:o,height:a}=e[s],l=kl(o),c=kl(a);n+=l*c,r=Math.max(r,Math.max(l,c))}const i=Gs(Math.max(r,Math.sqrt(n)));return Math.min(i,t)}function XS(e,t){return Math.floor((t-e)/2)}function YS(e,t,n,r,i,s,o){const{min:a,mag:l,mipmap:c}=S8[s],d=e[k8[o]];if(o===Sv){const u=new Uint8Array(i*i);for(let h=0;h<u.length;++h)u[h]=r[4*h+3];r=u}e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,d,i,i,0,d,e.UNSIGNED_BYTE,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e[l]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e[a]),c&&e.generateMipmap(e.TEXTURE_2D)}function $I(e,t,n,r,i){const s=new Uint8Array(n*n*4),o=Math.ceil(n/tr),a=new Uint8Array(o*o),l=[{x:0,y:0}];for(let c=0;c<t.length;++c){const d=t[c],u=d.id,h=kl(d.width)/tr,g=kl(d.height)/tr,p=A8(l,a,o,h,g);if(p){const m=d.width,_=d.height,y=d.pixels,f=h*tr,x=g*tr,v=p.x*tr+XS(m,f),w=p.y*tr+XS(_,x);C8(s,n,y,v,w,m,_),WS(u,e,v,w,f,x,i)}else{if(n<r)return $I(e,t,2*n,r,i);ao(`exceeded max WebGL texture size of ${r}; some texts/icons/images won't be displayed`),WS(u,e,0,0,0,0,i)}}return{texture:s,size:n}}function L8(e,t,n,r){const{getDistanceFromStrokeVertically:i,getDistanceFromStrokeHorizontally:s}=e,o=t*(1-n)/2,a=(t-1)/2;for(let l=0;l<t;++l)for(let c=0;c<t;++c){const d=4*(c*t+l),u=(l-a)/o,h=(c-a)/o,g=Wr(i(u,h),-1,1),p=Wr(s(u,h),-1,1);N8(r,d,qS(g),qS(p))}}function qS(e){return 32768*((e+1)/2)}function N8(e,t,n,r){e[t]=n>>8,e[t+1]=n%256,e[t+2]=r>>8,e[t+3]=r%256}function VI(e,t){let n=-Math.PI/2;const r=2*Math.PI/e.length;for(const i of e){const s=n+r;t(i,n,s),n=s}}function GI(e,t,n,r,i){VI(t,(s,o,a)=>{e.beginPath(),e.moveTo(n,r),e.arc(n,r,i,o,a),e.fillStyle=s,e.fill()})}var I8=!Dn().__dummy,M8=class extends UI{constructor(e){super(e),this._canvas=Dn(),this._imgCanvas=Dn(),this._initCanvas(this._canvas),this._ctx=this._canvas.getContext("2d"),this._imgCtx=this._imgCanvas.getContext("2d")}static getName(){return"Canvas"}static isAvailable(){return I8}getDomElement(){return this._canvas}_render({dimensionsChanged:e}){e&&BI(this._canvas,this._width,this._height,this._pixelRatio);const t=this._ctx,n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;t.clearRect(0,0,n,r),this._backgroundColor&&this._renderBackground&&(t.fillStyle=this._backgroundColor,t.fillRect(0,0,n,r));const i=this._bufferList.getBuffersByAscendingDepth();for(let s=0;s<i.length;++s){const o=i[s];this._isBufferDisplayable(o)&&this._displayBuffer(o)}}_drawRoundedRectangle(e,t,n,r,i){const s=this._ctx,o=this._pixelRatio,a=e.x*o,l=e.y*o;t*=o,n*=o;const c=this._textManager.getCornerRadius(),d=Math.min(c*o,n);t+=d/2,s.save(),s.translate(a,l),s.rotate(r),s.beginPath(),s.arc(t-d,n-d,d,0,Math.PI/2),s.arc(-t+d,n-d,d,Math.PI/2,Math.PI),s.arc(-t+d,-n+d,d,Math.PI,3*Math.PI/2),s.arc(t-d,-n+d,d,3*Math.PI/2,0),i&&(s.fillStyle=i,s.fill()),s.restore()}_drawCircle(e,t){const n=this._ctx,r=this._pixelRatio,i=e.x*r,s=e.y*r,o=t*r;n.beginPath(),n.arc(i,s,o,0,2*Math.PI)}_drawPolygon(e){const t=this._ctx,n=this._pixelRatio;t.beginPath();const r=e[0];t.moveTo(r.x*n,r.y*n);for(let i=1;i<e.length;++i){const s=e[i];t.lineTo(s.x*n,s.y*n)}t.closePath()}_drawStraightLine(e,t){const n=this._ctx,r=this._pixelRatio;n.beginPath(),n.moveTo(e.x*r,e.y*r),n.lineTo(t.x*r,t.y*r)}_drawQuadraticCurve(e,t,n){const r=this._ctx,i=this._pixelRatio;r.beginPath(),r.moveTo(e.x*i,e.y*i),r.quadraticCurveTo(t.x*i,t.y*i,n.x*i,n.y*i)}_drawCubicCurve(e,t,n,r){const i=this._ctx,s=this._pixelRatio;i.beginPath(),i.moveTo(e.x*s,e.y*s),i.bezierCurveTo(t.x*s,t.y*s,n.x*s,n.y*s,r.x*s,r.y*s)}_fill(e){const t=this._ctx;t.fillStyle=e,t.fill()}_stroke(e,t,n=[]){if(t===0)return;const r=this._ctx,i=this._pixelRatio;r.setLineDash(n.map(s=>s*this._pixelRatio)),r.lineWidth=t*i,r.strokeStyle=e,r.stroke()}_startClip(){this._ctx.save(),this._ctx.clip()}_endClip(){this._ctx.restore()}_startReverseClip(){this._ctx.save(),this._ctx.rect(0,0,this._canvas.width,this._canvas.height),this._ctx.clip("evenodd")}_endReverseClip(){this._ctx.restore()}_displayText(e,t,n,r,i,s,o,a,l,c,d){const u=this._ctx,h=this._pixelRatio,g=e.x*h,p=e.y*h,m=s*h,_=a==="center"?0:-l/2;if(d=d*this._viewZoom*this._pixelRatio,c=c*this._viewZoom*this._pixelRatio,u.save(),u.translate(g,p),u.rotate(-t),u.textBaseline="middle",u.textAlign=a,ho(u,i,m,o),u.fillStyle=r,n.indexOf(`
`)!==-1){const y=n.split(`
`),f=y.length;let x=(1-f)/2*m;for(let v=0;v<f;++v)u.fillText(y[v],c+_,d+x),x+=m}else u.fillText(n,c+_,d);u.restore()}_displayImage(e,t,n,r,i,s,o){if(this._hideImages||"isDummy"in r)return;let a=r;o!==1&&(a=this._blendImageOnBackground(r,o));const l=this._ctx,c=this._pixelRatio,d=e.x*c,u=e.y*c,h=t*c,g=n*c,p=a.width*c,m=a.height*c;if(i)l.drawImage(a,d-h/2,u-g/2,h,g);else if(s){const _=d-h/2,y=u-g/2,f=d+h/2,x=u+g/2;let v=d-p/2,w=u-m/2;for(;v>_;)v-=p;for(;w>y;)w-=m;const b=w;for(;v<f;){for(;w<x;)l.drawImage(a,v,w,p,m),w+=m;v+=p,w=b}}else l.drawImage(a,d-p/2,u-m/2,p,m)}_displayPieChart(e,t,n){const r=this._ctx,i=this._pixelRatio,s=e.x*i,o=e.y*i,a=t*i*2,l=2*a;n.length===1&&(r.fillStyle=n[0],r.fillRect(s-a,o-a,l,l)),n.length>1&&GI(r,n,s,o,a)}_blendImageOnBackground(e,t){const n=this._backgroundRgba,r=`rgb(${Math.round(255*n[0])},${Math.round(255*n[1])},${Math.round(255*n[2])})`;return this._imgCanvas.width=e.width,this._imgCanvas.height=e.height,this._imgCtx.clearRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=1,this._imgCtx.fillStyle=r,this._imgCtx.fillRect(0,0,e.width,e.height),this._imgCtx.globalAlpha=t,this._imgCtx.drawImage(e,0,0),this._imgCanvas}getImageData(){return this._ctx.getImageData(0,0,this._canvas.width,this._canvas.height)}},HI=!1;try{HI=!!Ot("svg")}catch{}var ec="none",P8={left:"start",center:"middle",right:"end"},ni="data-element-id",ZS="data-text-component",F8="node-text",R8="edge-text",D8="badge-text";function Bo(e){return Math.round(1e3*e)/1e3}function QS(e,t,n,r,i,s){const o=Ot("image");return o.setAttribute("width",Bo(r)),o.setAttribute("height",Bo(i)),o.setAttribute("x",Bo(t)),o.setAttribute("y",Bo(n)),o.setAttribute("href",e),s&&s.appendChild(o),o}function z8(e,t,n,r,i,s=1,o){const a=Ot("rect");return a.setAttribute("x",e),a.setAttribute("y",t),a.setAttribute("width",n),a.setAttribute("height",r),a.setAttribute("fill",i),a.setAttribute("fill-opacity",s),o&&o.appendChild(a),a}var O8=class extends UI{constructor(e){super(e),this._svg=Ot("svg"),this._defs=Ot("defs"),this._styles=Ot("g",{class:"styles"}),this._background=Ot("rect",{width:"100%",height:"100%",fill:"none",class:"ogma-svg-background"}),this._currentElementId="0",this._currentClipPathId=null,this._clipPathCounter=0,this._defs.appendChild(this._styles),this._svg.setAttribute("pointer-events","none"),this._svg.style.userSelect="none",this._svg.appendChild(this._defs),this._svg.appendChild(this._background),this._clear()}static getName(){return"SVG"}static isAvailable(){return HI}getDomElement(){return this._svg}_render({dimensionsChanged:e}){if(e&&$x(this._svg,{width:this._width,height:this._height}),this._backgroundColor&&this._renderBackground){const n=La(this._backgroundColor);this._background.setAttribute("fill",n.color),this._background.setAttribute("fill-opacity",n.opacity)}const t=this._bufferList.getBuffersByAscendingDepth();this._clear(),this._svg.removeChild(this._container);for(let n=0;n<t.length;++n){const r=t[n];this._isBufferDisplayable(r)&&this._displayBuffer(r)}this._svg.appendChild(this._container)}_clear(){this._container&&this._svg.removeChild(this._container),this._container=Ot("g"),this._svg.appendChild(this._container),this._clipPaths&&this._defs.removeChild(this._clipPaths),this._clipPaths=Ot("g"),this._defs.appendChild(this._clipPaths),this._clipPaths.setAttribute("class","clip-paths"),this._filters&&this._defs.removeChild(this._filters),this._filters=Ot("g"),this._defs.appendChild(this._filters)}_displayElement(e,t){this._currentElementId=e.id>=0?`n${e.id}`:"e"+-e.id,super._displayElement(e,t)}_addBackgroundBlendingFilter(e){const t=yr(this._backgroundColor),n=e,r=1-e,i=[n,0,0,0,t[0]*r,0,n,0,0,t[1]*r,0,0,n,0,t[2]*r,0,0,0,1,0].join(" "),s=`filter-${this._currentElementId}`,o=Ot("filter",{id:s}),a=Ot("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:i});return o.appendChild(a),this._filters.appendChild(o),s}_drawRoundedRectangle(e,t,n,r,i){const s=e.x,o=e.y,a=Math.min(this._textManager.getCornerRadius(),n);t+=a/2;const l=Ot("path"),c=`M ${s+t-a} ${o+n}     A ${a} ${a} 0 0 0 ${s+t} ${o+n-a}     L ${s+t} ${o-n+a}     A ${a} ${a} 0 0 0 ${s+t-a} ${o-n}     L ${s-t+a} ${o-n}     A ${a} ${a} 0 0 0 ${s-t} ${o-n+a}     L ${s-t} ${o+n-a}     A ${a} ${a} 0 0 0 ${s-t+a} ${o+n}     L ${s+t-a} ${o+n}`;l.setAttribute("d",c),l.setAttribute("fill",ec),l.setAttribute("transform",`rotate(${S_(r)} ${e.x} ${e.y})`),l.setAttribute(ni,this._currentElementId),this._container.appendChild(l),this._element=l,i&&this._fill(i)}_drawCircle(e,t){const{x:n,y:r}=e,i=`M ${n-t}, ${r} a ${t},${t} 0 1,0 ${2*t},0 a ${t},${t} 0 1,0 -${2*t},0`,s=Ot("path");s.setAttribute("d",i),s.setAttribute("fill",ec),s.setAttribute(ni,this._currentElementId),this._container.appendChild(s),this._element=s}_drawPolygon(e,t){const n=Ot("path");let r="";for(let i=0;i<e.length;i++){const{x:s,y:o}=e[i];r+=`${i===0?"M":"L"}${s},${o} `}r+="Z",n.setAttribute("d",r),n.setAttribute(ni,this._currentElementId),n.setAttribute("fill",ec),t&&n.setAttribute(ZS,!0),this._container.appendChild(n),this._element=n}_drawStraightLine(e,t){const n=Ot("path"),r=`M ${e.x},${e.y} L${t.x},${t.y}`;n.setAttribute("d",r),n.setAttribute(ni,this._currentElementId),this._container.appendChild(n),this._element=n}_drawQuadraticCurve(e,t,n){const r=Ot("path"),i=`M ${e.x},${e.y} Q${t.x},${t.y} ${n.x},${n.y}`;r.setAttribute("d",i),r.setAttribute("fill",ec),r.setAttribute(ni,this._currentElementId),this._container.appendChild(r),this._element=r}_drawCubicCurve(e,t,n,r){const i=Ot("path"),s=`M ${e.x},${e.y} C${t.x},${t.y} ${n.x},${n.y} ${r.x},${r.y}`;i.setAttribute("d",s),i.setAttribute("fill",ec),i.setAttribute(ni,this._currentElementId),this._container.appendChild(i),this._element=i}_fill(e){const t=La(e);this._element.setAttribute("fill",t.color),this._element.setAttribute("fill-opacity",t.opacity),this._currentClipPathId&&this._element.setAttribute("clip-path",`url(#${this._currentClipPathId})`)}_stroke(e,t,n=[]){if(t===0)return;const r=this._element;r.setAttribute("stroke-width",t);const i=La(e);r.setAttribute("stroke",i.color),r.setAttribute("stroke-opacity",i.opacity),n.length>0&&r.setAttribute("stroke-dasharray",n.map(Bo).toString())}_startClip(){const e=Ot("clipPath"),t=this._element.cloneNode(!1);this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endClip(){this._currentClipPathId=null}_startReverseClip(){const e=Ot("clipPath"),t=this._element.cloneNode(!1),n=t.getAttribute("d");t.setAttribute("clip-rule","evenodd"),t.setAttribute("d",`${n} M 0 0 L ${this._width} 0 L ${this._width} ${this._height} L 0 ${this._height}`),this._currentClipPathId="clip-path-"+ ++this._clipPathCounter,e.appendChild(t),this._clipPaths.appendChild(e),e.setAttribute("id",this._currentClipPathId)}_endReverseClip(){this._currentClipPathId=null}_displayText(e,t,n,r,i,s,o="normal",a,l,c,d,u){const h=Ot("g");h.setAttribute(ni,this._currentElementId),h.setAttribute(ZS,!0);let g=this._currentElementId[0]==="n"?F8:R8;u&&(g+=" "+D8),h.setAttribute("class",g);const p=La(r),m=p.opacity,_=La(p.color),y=e.x+c*this._viewZoom,f=e.y+d*this._viewZoom,x=Bo(y);h.setAttribute("font-family",i),h.setAttribute("font-size",s),o==="bold"?h.setAttribute("font-weight",o):h.setAttribute("font-style",o),h.setAttribute("fill",_.color),h.setAttribute("fill-opacity",m),t&&h.setAttribute("transform",`rotate(${S_(-t)} ${y}, ${f})`),h.setAttribute("text-anchor",P8[a]||"middle"),h.setAttribute("dominant-baseline","middle");const v=n.split(`
`),w=v.length,b=Bo(f-(w+1)/2*s),S=a==="center"?0:-l/2;for(let k=0;k<w;k++){const C=Ot("text");C.appendChild(Gx(v[k])),C.setAttribute("x",x+S),C.setAttribute("y",b+(k+1)*s),h.appendChild(C)}this._currentClipPathId&&h.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(h)}_displayImage(e,t,n,r,i,s,o){const a=e.x,l=e.y;if(this._hideImages||!("isDummy"in r)&&(!r.width||!r.height))return;const c=t,d=n;let u,h=r.width,g=r.height;if(i&&(h=c,g=d),s){const p=a-c/2,m=l-d/2,_=a+c/2,y=l+d/2;let f=a-h/2,x=l-g/2;for(u=Ot("g"),u.setAttribute(ni,this._currentElementId);f>p;)f-=h;for(;x>m;)x-=g;const v=x;for(;f<_;){for(;x<y;)QS(r.src,f,x,h,g,u),x+=g;x=v,f+=h}}else u=QS(r.src,a-h/2,l-g/2,h,g),u.setAttribute(ni,this._currentElementId);if(this._currentClipPathId&&u.setAttribute("clip-path",`url(#${this._currentClipPathId})`),o!==1){const p=this._addBackgroundBlendingFilter(o);u.setAttribute("filter",`url(#${p})`)}this._container.appendChild(u)}_displayPieChart(e,t,n){const r=2*t,i=2*r,s=e.x,o=e.y;let a;const l=Ot("g");l.setAttribute(ni,this._currentElementId),n.length===1&&(a=z8(s-r,o-r,i,i,n[0],1,l)),n.length>1&&VI(n,(c,d,u)=>{const h=s+t*Math.cos(u),g=o+t*Math.sin(u),p=s+t*Math.cos(d),m=o+t*Math.sin(d),_=u-d<=Math.PI?0:1,y=`M ${h},${g} A ${t},${t} 0 ${_} 0 ${p},${m} L ${s},${o} L ${h},${g}`;a=Ot("path"),a.setAttribute("d",y),a.setAttribute("fill",c),a.setAttribute("stroke-width",0),l.appendChild(a)}),this._currentClipPathId&&l.setAttribute("clip-path",`url(#${this._currentClipPathId})`),this._container.appendChild(l)}},B8=6,j8=class{constructor({gl:e,ext:t,staticProgram:n,animationProgram:r}){this._version=0,this._used=!1,this._dataBufferChanged=!1,this._gl=e,this._ext=t,this._staticProgram=n,this._animationProgram=r,this._glBuffer=this._gl.createBuffer()}setDataBuffer(e){this._dataBuffer!==e&&(this._program=e.animated?this._animationProgram:this._staticProgram,this._dataBuffer=e,this._dataBufferChanged=!0,e.hasSideData()&&!this._sideGlBuffer?this._sideGlBuffer=this._gl.createBuffer():!e.hasSideData()&&this._sideGlBuffer&&(this._gl.deleteBuffer(this._sideGlBuffer),delete this._sideGlBuffer))}markAsUnused(){return this._used=!1,this}getProgram(){return this._program}markAsUsed(){return this._used=!0,this}isUsed(){return this._used}draw(){const e=this._gl,t=this._dataBuffer.type,n=t===Wo,r=n?this._dataBuffer.getNbSideElementsPerMainElement():1,i=t===Ug?hr:1,s=this._dataBuffer.getSize(),o=this._dataBuffer.stencilUsage,a=this._dataBuffer.version,l=this._version!==a||this._dataBufferChanged;this._program.setupBaseAttributes({glBuffer:this._glBuffer,dataBuffer:l?this._dataBuffer.getByteArray():null,divisor:r}),this._program.setupTextAttributes({glBuffer:this._sideGlBuffer,dataBuffer:l&&n?this._dataBuffer.getSideByteArray():null,divisor:1}),this._program.setupStencil(o),l&&(this._version=a,this._dataBufferChanged=!1),this._ext.drawArraysInstancedANGLE(e.TRIANGLES,0,B8*i,s*r)}destroy(){this._gl.deleteBuffer(this._glBuffer),this._sideGlBuffer&&this._gl.deleteBuffer(this._sideGlBuffer)}},U8={byte:1,ubyte:1,short:2,ushort:2,ulong:4,float:4},$8={byte:"BYTE",ubyte:"UNSIGNED_BYTE",short:"SHORT",ushort:"UNSIGNED_SHORT",ulong:"UNSIGNED_LONG",float:"FLOAT"},KS=class{constructor({gl:e,ext:t,specialGlBuffers:n,metaData:r,programWrapper:i}){this._stencilUsage=cl,this._gl=e,this._ext=t,this._specialGlBuffers=n,this._metaData=cn(r),this._programWrapper=i}_finishInit(){const e=this._gl,t=this._ext,n=this._programWrapper.getError();if(n)throw new Error(`WebGL compilation at step "${n.step}:
${n.message}"`);const r=this._programWrapper.getProgram();this._program=r,e.useProgram(r),this._metaData.attributes.forEach(o=>{o.location=e.getAttribLocation(this._program,o.name),o.byteSize=o.size*U8[o.type],o.glType=$8[o.type]}),this._specialAttributes=this._createSpecialAttributesFunctions();const i=[],s=[];for(const o of this._metaData.attributes)o.location!==-1&&(o.name.startsWith("a_text")?s.push(o):i.push(o));this._baseAttributes=Af(i,e,t),this._textAttributes=Af(s,e,t),this._setupUniforms=G8(this._metaData.uniforms,e,r)}_createSpecialAttributesFunctions(){return Af([{location:this._gl.getAttribLocation(this._program,this._metaData.vertexInfoAttribute),size:3,glType:"BYTE",byteSize:3,type:"byte",name:"special"}],this._gl,this._ext)}startPass(e){this._program||this._finishInit(),this._gl.useProgram(this._program),this._resetStencil(),this._setupUniforms(this._gl,e),this._specialAttributes.enable(this._gl),this._specialAttributes.setup(this._specialGlBuffers.vertexInfo,null,0)}_setupAttributes(e,{glBuffer:t,dataBuffer:n,divisor:r}){e.enabled&&!t?e.disable(this._gl):!e.enabled&&t&&e.enable(this._gl),t&&e.setup(t,n,r)}setupBaseAttributes(e){this._setupAttributes(this._baseAttributes,e)}setupTextAttributes(e){this._setupAttributes(this._textAttributes,e)}_resetStencil(){const e=this._gl;this._stencilUsage=cl,e.disable(e.STENCIL_TEST)}setupStencil(e){if(e!==this._stencilUsage){const t=this._gl;e!==cl?(t.enable(t.STENCIL_TEST),e===cI?(t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.stencilFunc(t.ALWAYS,1,1)):e===dI&&(t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(t.EQUAL,0,1))):t.disable(t.STENCIL_TEST),this._stencilUsage=e}}endPass(){const e=this._gl;this._specialAttributes.disable(e),this._baseAttributes.disable(e),this._textAttributes.disable(e)}};function V8(e,t,n){return(r,i,s)=>{let o=0,a=0;for(let l=0;l<e.length;l++)a+=e[l].byteSize;t.bindBuffer(t.ARRAY_BUFFER,r),i&&t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);for(let l=0;l<e.length;l++){const{location:c,size:d,glType:u,byteSize:h}=e[l];t.vertexAttribPointer(c,d,t[u],!1,a,o),o+=h,n.vertexAttribDivisorANGLE(c,s)}}}function G8(e,t,n){const r={};for(let i=0;i<e.length;++i){const{id:s,name:o}=e[i],a=t.getUniformLocation(n,o);a&&(r[s]=a)}return(i,s)=>{for(let o=0;o<e.length;++o){const{id:a,type:l}=e[o],c=r[a],d=s[a];if(c)switch(l){case"int":case"sampler2D":i.uniform1i(c,d);break;case"float":i.uniform1f(c,d);break;case"vec2":i.uniform2f(c,d[0],d[1]);break;case"vec3":i.uniform3f(c,d[0],d[1],d[2]);break;case"vec4":i.uniform4f(c,d[0],d[1],d[2],d[3])}}}}function H8(e){return t=>{for(let n=0;n<e.length;n++){const r=e[n].location;t.enableVertexAttribArray(r)}}}function W8(e){return t=>{for(let n=0;n<e.length;++n){const r=e[n].location;t.disableVertexAttribArray(r)}}}function Af(e,t,n){const r=H8(e),i=W8(e);return{enable(s){r(s),this.enabled=!0},disable(s){i(s),this.enabled=!1},setup:V8(e,t,n),enabled:!1}}var Cf=`#define D3D9_FIX 0
precision highp float;
precision mediump int;
uniform vec3 u_backgroundColor;
uniform sampler2D u_patternNearestTexture;
uniform sampler2D u_patternLinearTexture;
uniform sampler2D u_patternLinearSdfTexture;
uniform sampler2D u_patternMipmapTexture;
uniform sampler2D u_shapeTexture;
varying vec4 dn;
varying vec4 dp;
varying vec4 dq;
varying vec2 dr;
varying vec2 ds;
varying vec4 ei;
varying float dt;
#if D3D9_FIX
#else
varying float dy;
varying vec2 dz;
varying vec2 ea;
varying vec2 eb;
varying float ec;
varying float ed;
varying vec2 ee;
varying vec2 ef;
varying float eg;
varying float eh;
#endif
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SDF_GAMMA = 0.0;
const float EPSILON = 0.000000001;
const float SDF_BUFFER = (256.0 - 64.0) / 256.0; 
vec4 aap(in vec4 ue, in vec4 aaq) {
float aar = aaq.a;
float aas = ue.a + EPSILON;
float aat = min(aar + aas, 1.0);
float r = aar / aat;
return vec4(mix(ue.rgb, aaq.rgb, r), aat);
}
float aau(in float aav, in float fp) {
float aaw = (aav * 256.0 + fp) * 256.0;
float aax = aaw / 32768.0;
return aax * 2.0 - 1.0;
}
bool mn(float ml, float mm) {
return abs(ml - mm) < EPSILON;
}
float aay(float ma) {
float abb = 2.;
vec2 wi = abs(dq.rg) - dq.ba - vec2(abb) + vec2(ma);
float es = min(max(wi.x, wi.y), 0.0) + length(max(wi, 0.0)) - ma;
return smoothstep(0.1, .5, (1. - es) / 10.);
}
void main() {
#if D3D9_FIX
#else
float abc = eb.x;
float abd = eb.y;
float abe = ee.x;
float abf = ee.y;
#endif
vec4 of = texture2D(u_shapeTexture, dr);
float abg = aau(of.b, of.a) * ef.x;
float abh = aau(of.r, of.g) * ef.y;
float zd = float(ei.z > EPSILON);
float ti = float(ei.w > EPSILON);
float abm = 1. - smoothstep(
0.01,
0.25760,
distance(ei.xy * ei.z - vec2(0.0586), dr * ei.z)
);
abm = abm *2.5 -1.5;
abm *= 0.5;
abm *= ef.x;
float abn = aay(dt) ;
vec4 hj = dn;
vec4 hk = dp;
if (eh > -EPSILON) {
vec2 ip = ds;
float abt =
step(dz.x, ip.x) *
step(ip.x, ea.x) *
step(dz.y, ip.y) *
step(ip.y, ea.y);
float abu = abt;
vec4 hl;
if (mn(eh, FILTER_NEAREST)) {
hl = texture2D(u_patternNearestTexture, ip);
} else if (mn(eh, FILTER_LINEAR)) { 
hl = texture2D(u_patternLinearTexture, ip);
} else if (mn(eh, FILTER_LINEAR_SDF)) { 
hl = texture2D(u_patternLinearSdfTexture, ip);
hl.a = smoothstep(SDF_BUFFER - eg, SDF_BUFFER + eg, hl.a);
} else if (mn(eh, FILTER_MIPMAP)) { 
hl = texture2D(u_patternMipmapTexture, ip);
}
hl.rgb += dq.rgb;
hl.a *= abu;
hj = aap(hj, hl);
}
float abz = (1. - zd) * min(abg, abh)
+ zd * abm;
abz = (1. - ti) * abz + ti * abn;
float aci = clamp(abz, 0.0, 1.0);
float acl = clamp(abz - dy, 0.0, 1.0);
float acm = aci - acl;
acm = 1.0 - clamp(abz - dy, 0.0, 1.0);
hj.a *= acl;
hk.a *= acm;
vec4 acn = aap(hj, hk);
float aco = aci;
acn.rgb = mix(u_backgroundColor, acn.rgb, abc);
if (ed > EPSILON) {
float acz = fract(abf) * ed;
float ada = clamp(min(acz, abe - acz), 0.0, 1.0);
aco *= ada;
}
if (ec < 0.0 || ec > 1.0 || aco < EPSILON
|| (zd > EPSILON && aci < 0.5)) {
discard;
}
acn.a *= aco;
acn.rgb *= acn.a;
gl_FragColor = acn;
}
`,Tf=`#define D3D9_FIX 0
#define ANIMATED 0
precision highp float;
precision mediump int;
attribute /*ushort*/ vec4 a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_final_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_final_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*ushort*/ vec4 a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature;
attribute /*ushort*/ vec4 a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA;
attribute /*float*/ vec4 a_prev_x1_y1_x2_y2;
attribute /*ushort*/ vec4 a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed;
attribute /*ushort*/ vec4 a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed;
attribute /*ushort*/ vec4 a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft;
attribute /*float*/ vec2 a_animationBeginTime_animationDuration; 
attribute /*ushort*/ vec4 a_animationEasing; 
attribute /*ushort*/ vec3 a_text_charId_charOffsetXY; 
attribute vec3 a_vertexInfo;
uniform float u_viewWidth;
uniform float u_viewHeight;
uniform float u_viewX;
uniform float u_viewY;
uniform float u_viewAngle;
uniform float u_viewZoom;
uniform float u_currentTime;
uniform float u_pixelRatio;
uniform sampler2D u_patternInfoTexture;
varying vec4 dn;
varying vec4 dp;
varying vec4 dq;
varying vec2 dr;
varying vec2 ds;
varying float dt;
#if D3D9_FIX
#else
varying float dy;
varying vec2 dz;
varying vec2 ea;
varying vec2 eb;
varying float ec;
varying float ed;
varying vec2 ee;
varying vec2 ef;
varying float eg;
varying float eh;
#endif
varying vec4 ei;
const float EPSILON = 0.000001;
const float INFINITY = 10000000.0;
const float PI = 3.14159265359;
const float P2_17 = 131072.0;
const float P2_16 = 65536.0;
const float P2_14 = 32768.0;
const float P2_12 = 4096.0;
const float P2_8 = 256.0;
const float P2_7 = 128.0;
const float P2_6 = 64.0;
const float P2_5 = 32.0;
const float P2_4 = 16.0;
const float P2_3 = 8.0;
const float P2_2 = 4.0;
const float P2_1 = 2.0;
const float MAX_PROGRESS = 1.0;
uniform float BYTES_TO_COORD;
uniform float BYTES_TO_SCALED_SIZE;
uniform float BYTES_TO_MIN_VISIBLE_SIZE;
uniform float BYTES_TO_SYMBOLIC_SIZE;
uniform float BYTES_TO_CURVATURE;
uniform float BYTES_TO_DASH_LENGTH;
uniform float BYTES_TO_GAP_LENGTH;
uniform float BYTES_TO_PATTERN_SCALE;
uniform float PATTERN_POSITION_UNIT_SIZE;
uniform float PATTERN_INFO_TEXTURE_SIZE;
uniform float PATTERN_NEAREST_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_TEXTURE_SIZE;
uniform float PATTERN_LINEAR_SDF_TEXTURE_SIZE;
uniform float PATTERN_MIPMAP_TEXTURE_SIZE;
uniform float ROUNDED_BOX_RADIUS;
const float BYTES_TO_OFFSET_ANGLE = 0.0;
const float BYTES_TO_COLOR = 0.0;
const float SDF_FONT_SIZE = 0.0;
const float SDF_GAMMA = 0.0;
const float CURVATURE_RATIO = 0.0;
const float PATTERN_PADDING = 0.0;
const float TEXT_WIDTH_MULTIPLIER = 0.0;
const float TEXT_HEIGHT_MULTIPLIER = 0.0;
const float SELF_LOOP_CURVATURE_RATIO = 0.0;
const float EDGE_ARROW_SIZE_RATIO = 0.0;
const float CURVE_SUBDIVISIONS = 0.0;
const float PIECE_NODE_COMPONENT = 0.0;
const float PIECE_TEXT_BOX = 0.0;
const float PIECE_EDGE_BODY = 0.0;
const float PIECE_EDGE_HEAD = 0.0;
const float PIECE_EDGE_TAIL = 0.0;
const float PIECE_EDGE_TEXT = 0.0;
const float MAX_TEXT_SIZE = 0.0;
const float BYTES_TO_TEXT_OFFSET_X = 0.0;
const float BYTES_TO_TEXT_OFFSET_Y = 0.0;
const float FILTER_NEAREST = 0.0;
const float FILTER_LINEAR = 0.0;
const float FILTER_LINEAR_SDF = 0.0;
const float FILTER_MIPMAP = 0.0;
const float SHAPE_TEXTURE_SIZE = 0.0;
const float SIMPLE_SHAPE_SAMPLING_SIZE = 0.0;
const float COMPLEX_SHAPE_SAMPLING_SIZE = 0.0;
const float SHAPE_SAMPLING_BUFFER_RATIO = 0.0;
const float MAX_SHAPES = 0.0;
const float FIRST_COMPLEX_SHAPE_ID = 0.0;
const float SELF_LOOP_TO_CIRCLE_APPROX = 0.0;
const float NB_SHAPES_BY_SIDE = SHAPE_TEXTURE_SIZE / COMPLEX_SHAPE_SAMPLING_SIZE;
const float SHAPE_FILL_PERCENT = 1.0 - SHAPE_SAMPLING_BUFFER_RATIO;
const float T_STEP_PER_CURVE_PIECE = 1.0 / CURVE_SUBDIVISIONS;
const float HEAD_TAIL_PX_ADJUST = 1.5;
const float SDF_SMOOTH_FACTOR = 2.0;
struct gk {
float gl;
float gm;
float gn;
float go;
float gp;
float gq;
float gr;
float gs;
};
struct gt {
float gu;
float gv;
float gw;
float gx;
float gy;
float gz;
float ha;
};
struct hb {
float gl;
float gm;
float gn;
float go;
float gp;
float gq;
float gr;
float gs;
float gu;
float gv;
float gw;
float gx;
float gy;
float gz;
float ha;
float hc;
float hd;
float he;
float hf;
float hg;
float hh;
float hi;
vec4 hj;
vec4 hk;
vec4 hl;
float hm;
float hn;
float ho;
float hp;
float hq;
float hr;
float hs;
float ht;
float hu;
float hv;
float hw;
float hx;
float hy;
float hz;
float ia;
float ib;
float ic;
float id;
float ie;
};
struct ig {
float ih;
vec2 ii;
vec4 hj;
vec4 hk;
float hc;
float ij;
float ik;
float gn;
float il;
vec2 im;
float io;
vec2 ip;
vec2 iq;
vec2 ir;
float is;
float it;
vec4 hl;
vec2 iu;
float iv;
float eu;
vec2 iw;
vec2 ix;
vec2 iy;
};
float iz(float cf, float ja, float jb) {
float jc = mod(cf, pow(2.0, jb));
return floor(jc / pow(2.0, ja));
}
gk jd(float cf) {
gk je;
je.gl = iz(cf, 0.0, 4.0);
je.gm = iz(cf, 4.0, 8.0);
je.gn = iz(cf, 8.0, 10.0);
je.go = iz(cf, 10.0, 12.0);
je.gp = iz(cf, 12.0, 13.0);
je.gq = iz(cf, 13.0, 14.0);
je.gr = iz(cf, 14.0, 15.0);
je.gs = iz(cf, 15.0, 16.0);
return je;
}
gt jf(float cf) {
gt je;
je.gu = iz(cf, 0.0, 8.0);
je.gv = iz(cf, 8.0, 11.0);
je.gw = iz(cf, 11.0, 12.0);
je.gx = iz(cf, 12.0, 13.0);
je.gy = iz(cf, 13.0, 14.0);
je.gz = iz(cf, 14.0, 15.0);
je.ha = iz(cf, 15.0, 16.0);
return je;
}
vec4 jg(in float cf) {
return vec4(
iz(cf, 0.0, 4.0),
iz(cf, 4.0, 8.0),
iz(cf, 8.0, 12.0),
iz(cf, 12.0, 16.0)
);
}
vec2 jh(in float cf) {
return vec2(mod(cf, 256.0), floor(cf / 256.0));
}
vec2 ji(in float cf) {
float jj = floor(cf / P2_6);
float jk = cf - (jj * P2_6);
return vec2(jj, jk);
}
vec2 jl(in float cf) {
float jm = floor(cf / P2_7);
float jn = cf - (jm * P2_7);
return vec2(jm, jn);
}
vec2 jo(in vec2 jp, in float jq) {
float jr = cos(jq);
float js = sin(jq);
return vec2(jr * jp.x + js * jp.y, -js * jp.x + jr * jp.y);
}
vec4 jt(in vec4 ju) {
return floor(ju / 256.0) - 128.0;
}
vec4 jv(in vec4 ju) {
return mod(ju, 256.0) - 128.0;
}
float jw(float cf) {
return cf - 128.0;
}
vec2 jw(vec2 cf) {
return cf - 128.0;
}
vec2 jx(vec2 jy) {
return vec2(-jy.y, jy.x);
}
vec2 jz(vec2 ka, vec2 kb, vec2 kc, float t) {
float kd = 1.0 - t;
return (kd * kd * ka) + (2.0 * kd * t * kb) + (t * t * kc);
}
vec2 ke(vec2 ka, vec2 kf, vec2 kg, vec2 kc, float t) {
float kd = 1.0 - t;
float kh = kd * kd;
float ki = kh * kd;
float kj = t * t;
float kk = kj * t;
return (ki * ka) + (3.0 * kh * t * kf) + (3.0 * kd * kj * kg) + (kk * kc);
}
vec2 kl(vec2 ka, vec2 kb, vec2 kc, float t) {
float kd = (1.0 - t);
vec2 jp = (kd * kb + t * kc) - (kd * ka + t * kb);
return normalize(jp);
}
vec2 km(vec2 ka, vec2 kb, vec2 kc, float t) {
return jx(kl(ka, kb, kc, t));
}
vec2 kn(vec2 ka, vec2 kf, vec2 kg, vec2 kc, float t) {
float kd = 1.0 - t;
float kh = kd * kd;
float kj = t * t;
vec2 jp = kh * (kf - ka) + 2.0 * kd * t * (kg - kf) + kj * (kc - kg);
return normalize(jp);
}
vec2 ko(vec2 ka, vec2 kf, vec2 kg, vec2 kc, float t) {
return jx(kn(ka, kf, kg, kc, t));
}
float ld(float hh, float le, float t) {
float y = abs(hh) / CURVATURE_RATIO + EPSILON;
float hp = y * y;
float kd = t - 0.5;
float kh = kd * kd;
float lf = 1.0 / (16.0 * hp);
float lg = sqrt(kh + lf);
float lh = (0.5 / y) * sqrt(hp + 0.25);
float li = (abs(2.0 * y)) * ((kd * lg) + (0.5 * lh) + (lf * log(abs((kd + lg) / (-0.5 + lh)))));
return li * le;
}
float lj(vec2 ka, vec2 lk, vec2 ll, vec2 kc, float lm) {
vec2 iu = (ka + lk + ll) / 3.0;
vec2 ln = iu - lk;
vec2 lo = lk - ll;
float lp = dot(ln, ln);
float lq = dot(lo, lo) / 4.0;
float ma = sqrt(lp - lq) * SELF_LOOP_TO_CIRCLE_APPROX * 1.55;
return 2.0 * PI * ma * lm;
}
float mb(float cf) {
return cf - 32.0;
}
float mc(float cf) {
return cf - 512.0;
}
float md(float cf) {
return cf - P2_14;
}
void me() {
gl_Position = vec4(-10.0, -10.0, 1.0, 1.0);
}
vec4 mf(vec2 mg) {
return vec4(((vec2(mg.x, u_viewHeight - mg.y) / vec2(u_viewWidth, u_viewHeight)) * 2.0 - 1.0), 0.5, 1.0);
}
float mk(float ml, float mm) {
return step(ml - EPSILON, mm) * step(mm, ml + EPSILON);
}
bool mn(float ml, float mm) {
return abs(ml - mm) < EPSILON;
}
bool mo(float cf) {
return cf > 0.5;
}
vec2 mp(vec2 mq) {
return jo((mq - vec2(u_viewX, u_viewY)) * u_viewZoom, u_viewAngle) + vec2(u_viewWidth, u_viewHeight) / 2.0;
}
float mr(float eu) {
return eu * EDGE_ARROW_SIZE_RATIO;
}
float ms(float mt, float mu) {
return mt * BYTES_TO_SCALED_SIZE * u_viewZoom + mu;
}
float nb(float ij, float mz, float na) {
float nc = na - mz;
float a = 1.0 / nc;
float b = -mz / nc;
return ij * a + b;
}
struct nd {
vec2 ne;
vec2 nf;
};
nd ng(vec2 nh, float ma, float hh) {
nd cj;
float ni = (ma + ma / SELF_LOOP_CURVATURE_RATIO * hh) * SELF_LOOP_CURVATURE_RATIO;
float nj = -u_viewAngle + PI;
float nk = -u_viewAngle + PI / 2.0;
cj.ne = nh + vec2(cos(nj), sin(nj)) * ni;
cj.nf = nh + vec2(cos(nk), sin(nk)) * ni;
return cj;
}
float nq(vec2 nr, vec2 lk, vec2 ll, vec2 ns, float nt) {
vec2 nu = nr;
float t = 0.0;
float nv = 0.0;
float nw = lj(nr, lk, ll, ns, 1.0);
return nt / nw;
}
hb nx(
vec4 ny,
vec4 nz,
vec4 oa,
vec4 ob,
vec4 oc,
vec4 od,
vec3 oe
) {
hb a;
gk of = jd(ny.x);
gt og = jf(ny.y);
vec4 oh = jg(ny.z);
vec2 oi = jh(ny.w);
a.gl = of.gl;
a.gm = of.gm;
a.gn = of.gn;
a.go = of.go;
a.gp = of.gp;
a.gq = of.gq;
a.gr = of.gr;
a.gs = of.gs;
a.gu = og.gu;
a.gv = og.gv;
a.gw = og.gw;
a.gx = og.gx;
a.gy = og.gy;
a.gz = og.gz;
a.ha = og.ha;
a.hc = oh.x;
a.hd = oh.y;
a.he = oh.z;
a.hf = oh.w;
a.hg = oi.x;
a.hh = oi.y;
a.hi = nz.x;
a.hj = jg(nz.y);
a.hk = jg(nz.z);
a.hl = jg(nz.w);
a.hm = oa.x;
a.hn = oa.y;
a.ho = oa.z;
a.hp = oa.w;
a.hq = ob.x;
a.hr = ob.y;
a.hs = ob.z;
a.ht = ob.w;
a.hu = oc.x;
a.hv = oc.y;
a.hw = oc.z;
a.hx = oc.w;
a.hy = od.x;
a.hz = md(od.y);
a.id = md(od.z);
a.ie = md(od.w);
a.ia = oe.x;
float x = oe.y;
float y = mod(x, P2_8);
if (oe.z > 0.0) x += oe.z * P2_16;
a.ib = ((x - y) / P2_8) - P2_16;
a.ic = (y - P2_7) * BYTES_TO_TEXT_OFFSET_Y;
return a;
}
bool pl(const in hb a, out ig cj) {
float gl = a.gl;
float gm = a.gm;
float gn = a.gn * BYTES_TO_DASH_LENGTH;
float go = a.go * BYTES_TO_GAP_LENGTH;
float gp = a.gp;
float gq = a.gq;
float gr = a.gr;
float gs = a.gs;
float gu = a.gu * BYTES_TO_PATTERN_SCALE;
float gv = a.gv * BYTES_TO_OFFSET_ANGLE;
float gw = a.gw;
float gx = a.gx;
float gy = a.gy;
float gz = a.gz;
float ha = a.ha;
float hc = a.hc * BYTES_TO_COLOR;
float hd = a.hd * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float he = a.he * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float hf = a.hf * BYTES_TO_MIN_VISIBLE_SIZE - EPSILON;
float hg = a.hg * BYTES_TO_SYMBOLIC_SIZE * u_viewZoom + step(a.hg, EPSILON) * INFINITY;
float hh = jw(a.hh);
float hi = a.hi;
vec4 hj = a.hj * BYTES_TO_COLOR;
vec4 hk = a.hk * BYTES_TO_COLOR;
vec4 hl = a.hl * BYTES_TO_COLOR;
vec2 pm = vec2(a.hm, a.hn) * BYTES_TO_COORD;
vec2 pn = vec2(a.ho, a.hp) * BYTES_TO_COORD;
vec2 nr = mp(pm);
vec2 ns = mp(pn);
float po = ms(a.hq, a.hr);
float pp = ms(a.hs, a.ht);
float pq = ms(a.hu, a.hv);
float ih = ms(a.hw, a.hx);
float oj = ms(a.hy, a.hz);
vec2 pr = a_vertexInfo.xy;
vec2 ps = vec2(0.0, 0.0);
float pt = po;
float pu = pp;
float pv = pp * gu;
if (gw > EPSILON) {
if (a.ia < EPSILON) return false;
pv = pq;
hi = a.ia;
po = pv * TEXT_WIDTH_MULTIPLIER * u_pixelRatio;
pp = pv * TEXT_HEIGHT_MULTIPLIER * u_pixelRatio;
}
bool qv = abs(hh) > EPSILON && mk(gm, PIECE_EDGE_BODY) < EPSILON;
bool qw = qv && a_vertexInfo.z > EPSILON;
if (gl < EPSILON || gm < EPSILON || hg < hd || qw) {
return false;
}
ih *= step(he, hg);
float rl = 0.0;
float rm = 1.0;
float ri = 0.0;
float rk = 1.0;
float rn = 0.0;
float rx = 1.0;
float rz = 1.0;
float sk = 0.0;
float sl = 0.0;
vec2 iu;
vec2 iw;
vec2 ix;
vec2 iy;
float eu;
float iv;
float tg = 0.0;
float th = 1.0;
bool ti = mk(gm, PIECE_TEXT_BOX) > EPSILON; 
if (mk(gm, PIECE_NODE_COMPONENT) > EPSILON || ti) {
iu = ceil((nr + ns) / 2.0);
iw = normalize(vec2(pn.x - pm.x + 0.001, pm.y - pn.y));
ix = jx(iw);
iy = ix;
eu = po;
iv = pp;
} else {
rz = 0.0;
float tx = distance(nr, ns);
vec2 ty = normalize(ns - nr);
vec2 tz = (nr + ns) / 2.0;
vec2 ua = jx(ty);
vec2 ub = tz + (ua * tx * -hh / CURVATURE_RATIO);
if (mk(gm, PIECE_EDGE_TEXT) > 0.0
|| mk(gm, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0
) {
ti = mk(gm, PIECE_EDGE_TEXT + PIECE_TEXT_BOX) > 0.0;
float uf;
float ug = ih;
ih = 0.0;
if (gs > EPSILON) {
nd kb = ng(nr, ug / 2.0, hh);
iu = ke(nr, kb.ne, kb.nf, ns, 0.5);
iw = kn(nr, kb.ne, kb.nf, ns, 0.5);
ix = jx(iw);
iy = ix;
uf = lj(nr, kb.ne, kb.nf, ns, 0.5);
} else if (abs(hh) > EPSILON) {
iu = jz(nr, ub, ns, 0.5);
iw = kl(nr, ub, ns, 0.5);
ix = jx(iw);
iy = ix;
uf = ld(hh, tx, 1.0);
} else {
iu = tz;
iw = ty;
ix = ua;
iy = ua;
uf = tx;
}
eu = po;
iv = pp;
if(pt > uf - ug && gs < EPSILON){
if(gx > EPSILON){
iw = vec2(1.0, 0.0);
ix = vec2(0.0, 1.0);
iy = vec2(0.0, 1.0);
} else {
iw = vec2(0,0);
ix = vec2(0.0, 0.0);
iy = vec2(0.0, 0.0);
}
} else {
float jq = -atan(iw.y, iw.x);
tg = jq; 
gv -= jq;
if ((jq > PI / 2.0 || jq < -PI / 2.0)) {
gv += (1.0 - gs) * PI;
th = -1.0;
iw *= -1.0;
ix *= -1.0;
iy *= -1.0;
}
}
} else {
float sd = pq;
float ur = po;
float us = pp;
float ut = gp + gq;
float uu = mr(sd);
float uv = gp * uu;
float uw = gq * uu;
float ux = mk(gm, PIECE_EDGE_HEAD);
float uy = mk(gm, PIECE_EDGE_TAIL);
float uz = INFINITY * gs + tx - ur - us;
float va = min(uz / ut, uu);
float vk =
gq * (uu + max(ur + va - uw, 0.0))
+ (1.0 - gq) * gr * ur;
float vl =
gp * (uu + max(us + va - uv, 0.0))
+ (1.0 - gp) * gr * us;
if (ux > EPSILON || uy > EPSILON) {
vec2 vo = ux * ns + uy * nr;
float oj = ux * vl + uy * vk + (HEAD_TAIL_PX_ADJUST - 0.5);
float vp = ux * uv + uy * uw;
vec2 vq;
if (gs > EPSILON) {
nd kb = ng(nr, ur, hh);
float uf = lj(nr, kb.ne, kb.nf, ns, 1.0);
float nt = ux * (uf - vl) + uy * vk;
float t = nq(nr, kb.ne, kb.nf, ns, nt);
vq = ke(nr, kb.ne, kb.nf, ns, t);
} else {
float uf = ld(hh, tx, 1.0);
float t = (ux * (uf - vl) + uy * vk) / uf;
vq = jz(nr, ub, ns, t);
}
iw = normalize(vo - vq);
ix = jx(iw);
iy = ix;
iu = vo - iw * (oj - vp / 2.0);
eu = vp;
iv = vp;
gn = 0.0;
go = 0.0;
} else {
float vu;
float vv;
float vw;
if (abs(hh) < EPSILON) {
iu = tz;
iw = ty;
ix = ua;
iy = ix;
eu = tx;
vu = tx;
vv = 0.0;
vw = tx;
} else {
float vy = a_vertexInfo.z;
float vz = vy * T_STEP_PER_CURVE_PIECE;
float kj = vz + T_STEP_PER_CURVE_PIECE;
if (gs < EPSILON) {
vec2 wa = jz(nr, ub, ns, vz);
vec2 wb = jz(nr, ub, ns, kj);
iu = (wa + wb) / 2.0;
iw = normalize(wb - wa);
ix = km(nr, ub, ns, vz);
iy = km(nr, ub, ns, kj);
eu = distance(wa, wb);
vu = ld(hh, tx, 1.0);
vv = ld(hh, tx, vz);
vw = ld(hh, tx, kj);
} else {
nd kb = ng(nr, ur, hh);
vec2 lk = kb.ne;
vec2 ll = kb.nf;
vec2 wa = ke(nr, lk, ll, ns, vz);
vec2 wb = ke(nr, lk, ll, ns, kj);
iu = (wa + wb) / 2.0;
iw = normalize(wb - wa);
ix = ko(nr, lk, ll, ns, vz);
iy = ko(nr, lk, ll, ns, kj);
eu = distance(wa, wb);
vu = lj(nr, lk, ll, ns, 1.0);
vv = lj(nr, lk, ll, ns, vz);
vw = lj(nr, lk, ll, ns, kj);
}
}
iv = pq;
ri = (vk - 1.0) / vu - 0.015 * gs;
rk = MAX_PROGRESS + 0.015 * gs
- (vl - HEAD_TAIL_PX_ADJUST) / vu;
rl = vv / vu;
rm = vw / vu;
rn = vu;
if (gr > 0.0 && uz > 5.0) {
float wg = (vu * iv) / (vu - vk);
float nw = vu;
float hm = vk;
float ho = vu - vl;
float a = -wg / nw;
float b = wg;
float hn = a * hm + b;
float hp = a * ho + b;
float wh = hn / (hm - ho);
float wi = -wh * ho;
iv = wi;
sl = wh * nw + wi + 1.0;
}
}
}
}
vec2 ip = vec2(0.0, 0.0);
vec2 iq = vec2(EPSILON, EPSILON);
vec2 ir = vec2(-EPSILON, -EPSILON);
float is = -1.0;
float it = 0.0;
bool wj = false;
vec2 wk = vec2(0,0);
vec2 wl = vec2(0,0);
vec2 wm = vec2(0,0);
if (hi > EPSILON && hg > hf) {
float wq = floor(hi / PATTERN_INFO_TEXTURE_SIZE);
float wr = hi - (wq * PATTERN_INFO_TEXTURE_SIZE);
vec4 ws = texture2D(u_patternInfoTexture, vec2(wr, wq) / 255.0) * 255.0;
vec2 wt = jl(ws.z);
vec2 wu = jl(ws.w);
is = wt.x * 2.0 + wu.x;
float wv = 0.0;
if (mn(is, FILTER_NEAREST)) { 
wv = PATTERN_NEAREST_TEXTURE_SIZE;
} else if (mn(is, FILTER_LINEAR)) { 
wv = PATTERN_LINEAR_TEXTURE_SIZE;
} else if (mn(is, FILTER_LINEAR_SDF)) { 
wv = PATTERN_LINEAR_SDF_TEXTURE_SIZE;
wj = true;
} else if (mn(is, FILTER_MIPMAP)) { 
wv = PATTERN_MIPMAP_TEXTURE_SIZE;
}
float xc = 1.0 / wv;
vec2 xd = (vec2(wt.y, wu.y) * PATTERN_POSITION_UNIT_SIZE) * xc / 2.0;
wl += (ws.xy * PATTERN_POSITION_UNIT_SIZE * xc) + xd;
xd -= PATTERN_PADDING * xc * 2.0;
vec2 xe = vec2(eu / 2.0, iv / 2.0) * xc;
vec2 xf = vec2(ih, ih) * xc;
float xi = 1.0 * u_pixelRatio;
float xj = SDF_SMOOTH_FACTOR;
if (gu > EPSILON) {
if (wj) { 
if (a.gy > EPSILON) {
xj = SDF_SMOOTH_FACTOR * u_pixelRatio / SDF_GAMMA;
wk = vec2(-a.ie,-a.id);
}
it = xj * SDF_GAMMA / pv / u_pixelRatio;
xi = SDF_FONT_SIZE / pv;
} else { 
xi = (xd.y / xe.y) / gu;
}
}
wm = (xe + xf) * xi;
xd += PATTERN_PADDING * xc;
iq = wl - xd;
ir = wl + xd;
}
if (gw > EPSILON) {
ps.y = (a.ic) * pv;
rx = 0.0;
rz = 0.0;
ps.x = a.ib * pv * BYTES_TO_TEXT_OFFSET_X;
ps += vec2(1.0, 1.0);
ps = jo(ps, tg);
ps *= th;
}
vec2 xo = vec2(cos(gv), sin(gv)) * oj;
vec2 xp = iu + xo + ps;
float xq = ih * 2.0;
float xr = eu + rz * (xq + 1.0);
float xs = iv + rx * (xq + 1.0);
vec2 xt = iw * xr / 2.0;
vec2 xu = ix * xs / 2.0;
vec2 xv = iy * xs / 2.0;
float xw = (rm - rl);
float xx = pr.x / 2.0 + 0.5;
float ij = rl + xw * xx;
float io = sk + (sl - sk) * ij / 2.0;
float xy = step(gl, FIRST_COMPLEX_SHAPE_ID - EPSILON);
float xz = xy * SIMPLE_SHAPE_SAMPLING_SIZE + (1.0 - xy) * COMPLEX_SHAPE_SAMPLING_SIZE;
float ya = xz / COMPLEX_SHAPE_SAMPLING_SIZE;
float yb = ya * SHAPE_SAMPLING_BUFFER_RATIO / 2.0;
float yc = ya * (1.0 - SHAPE_SAMPLING_BUFFER_RATIO);
vec2 ym = vec2(
mod(gl, NB_SHAPES_BY_SIDE),
floor(gl / NB_SHAPES_BY_SIDE)
);
vec2 yp = ym + vec2(yb) +
vec2(rl * yc, 0.0);
vec2 ys = vec2(xw, 1.0) * yc;
vec2 ii = (yp + ys * (pr / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE;
vec2 im = vec2(xr / xw, xs) / 2.0;
float yz = gn * pq;
float za = go * pq;
float ik = yz + za;
float il = (ij * rn) / ik;
ip = wl
+ wm
* (pr + wk / im * u_viewZoom);
cj.ii = ii;
float zd = float(gl == 1.);
ei = vec4(
(yp + ys * (vec2(0.5,0.5) / 2.0 + 0.5)) / NB_SHAPES_BY_SIDE,
NB_SHAPES_BY_SIDE * (1. - gw) * zd,
float(ti)
);
cj.im = im;
cj.ih = ih;
cj.hj = hj;
cj.hk = hk;
cj.hc = hc;
cj.ij = nb(ij, ri, rk);
cj.ik = ik;
cj.gn = yz;
cj.il = il;
cj.io = io;
cj.ip = ip;
cj.iq = iq;
cj.ir = ir;
cj.is = is;
cj.it = it;
cj.hl = hl;
cj.iu = xp;
cj.eu = xr + zd;
cj.iv = xs + zd;
cj.iw = iw;
cj.ix = ix;
cj.iy = iy;
return true;
}
float zm(float zn, float zo, vec4 zp) {
float zq = clamp(((u_currentTime - zn) / zo), 0.0, 1.0);
float r = zq;
float zr = r * r;
float zs = zr * r;
vec4 zt = zq < 0.5 ? jt(zp) : jv(zp);
float zu = zt.x;
float zv = zt.y;
float zw = zt.z;
float zx = zt.w;
float zy = zu + zv * r + zw * zr + zx * zs;
return zy;
}
void main() {
hb a_final = nx(
a_final_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_final_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_final_x1_y1_x2_y2,
a_final_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_final_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_final_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
#if ANIMATED
float zn = a_animationBeginTime_animationDuration.x;
float zo = a_animationBeginTime_animationDuration.y;
vec4 zp = a_animationEasing;
float pk = zm(zn, zo, zp);
hb a_prev = nx(
a_prev_shapeInfo_miscInfo_opacityAndAllMinVisibleSizes_symbolicSizeAndCurvature,
a_prev_patternId_fillRGBA_strokeRGBA_patternRGBA,
a_prev_x1_y1_x2_y2,
a_prev_rectWidthOrSourceRadiusScaled_rectWidthOrSourceRadiusFixed_rectHeightOrTargetRadiusScaled_rectHeightOrTargetRadiusFixed,
a_prev_thicknessOrFontSizeScaled_thicknessOrFontSizeFixed_strokeWidthScaled_strokeWidthFixed,
a_prev_offsetScaled_offsetFixed_paddingTop_paddingLeft,
a_text_charId_charOffsetXY
);
const float ONE = 1.0;
a_final.gl = mix(a_prev.gl, a_final.gl, ONE);
a_final.gn = mix(a_prev.gn, a_final.gn, pk);
a_final.go = mix(a_prev.go, a_final.go, pk);
a_final.gp = mix(a_prev.gp, a_final.gp, ONE);
a_final.gq = mix(a_prev.gq, a_final.gq, ONE);
a_final.gm = mix(a_prev.gm, a_final.gm, ONE);
a_final.gu = mix(a_prev.gu, a_final.gu, ONE);
a_final.gw = mix(a_prev.gw, a_final.gw, ONE);
a_final.gx = mix(a_prev.gx, a_final.gx, ONE);
a_final.gy = mix(a_prev.gy, a_final.gy, ONE);
a_final.gz = mix(a_prev.gz, a_final.gz, ONE);
a_final.gs = mix(a_prev.gs, a_final.gs, ONE);
a_final.gv = mix(a_prev.gv, a_final.gv, pk);
a_final.hc = mix(a_prev.hc, a_final.hc, pk);
a_final.hd = mix(a_prev.hd, a_final.hd, pk);
a_final.he = mix(a_prev.he, a_final.he, pk);
a_final.hf = mix(a_prev.hf, a_final.hf, pk);
a_final.hg = mix(a_prev.hg, a_final.hg, pk);
a_final.hh = mix(a_prev.hh, a_final.hh, pk);
a_final.hi = mix(a_prev.hi, a_final.hi, ONE);
a_final.hj = mix(a_prev.hj, a_final.hj, pk);
a_final.hk = mix(a_prev.hk, a_final.hk, pk);
a_final.hl = mix(a_prev.hl, a_final.hl, pk);
a_final.hm = mix(a_prev.hm, a_final.hm, pk);
a_final.hn = mix(a_prev.hn, a_final.hn, pk);
a_final.ho = mix(a_prev.ho, a_final.ho, pk);
a_final.hp = mix(a_prev.hp, a_final.hp, pk);
a_final.hq = mix(a_prev.hq, a_final.hq, pk);
a_final.hr = mix(a_prev.hr, a_final.hr, pk);
a_final.hs = mix(a_prev.hs, a_final.hs, pk);
a_final.ht = mix(a_prev.ht, a_final.ht, pk);
a_final.hu = mix(a_prev.hu, a_final.hu, pk);
a_final.hv = mix(a_prev.hv, a_final.hv, pk);
a_final.hw = mix(a_prev.hw, a_final.hw, pk);
a_final.hx = mix(a_prev.hx, a_final.hx, pk);
a_final.hy = mix(a_prev.hy, a_final.hy, pk);
a_final.hz = mix(a_prev.hz, a_final.hz, pk);
a_final.ia = mix(a_prev.ia, a_final.ia, ONE);
a_final.ib = mix(a_prev.ib, a_final.ib, ONE);
a_final.ic = mix(a_prev.ic, a_final.ic, ONE);
#endif
ig cj;
bool aad = pl(a_final, cj);
if (!aad) {
me();
return;
}
vec2 pr = a_vertexInfo.xy;
dn = cj.hj;
dp = cj.hk;
dq = cj.hl;
dr = cj.ii;
ds = cj.ip;
#if D3D9_FIX
#else
dy = cj.ih;
dz = cj.iq;
ea = cj.ir;
eb = vec2(cj.hc, cj.io);
ec = cj.ij;
ed = cj.ik;
ee = vec2(cj.gn, cj.il);
ef = cj.im;
eg = cj.it;
eh = cj.is;
#endif
float aai = step(pr.x, 0.0);
float aaj = 1.0 - aai;
dt = min(cj.iv, ROUNDED_BOX_RADIUS * 2.) * u_pixelRatio;
cj.eu += ei.w * dt/2.;
vec2 mg = cj.iu
+ cj.iw * (cj.eu / 2.0) * pr.x
+ (aai * cj.ix + aaj * cj.iy) * cj.iv / 2.0 * pr.y;
dq = dq * (1. - ei.w)
+ vec4(
pr.x * cj.eu,
pr.y * cj.iv,
cj.eu,
cj.iv
) * u_pixelRatio * ei.w;
gl_Position = mf(mg);
}
`,Vc=1e20,X8=class{constructor({fontSize:e=24,buffer:t=8,radius:n=6,cutoff:r=.25}={}){this._maxDimension=1,this._gridSize=1,this._fontSize=e,this._buffer=t,this._radius=n,this._cutoff=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Vg),this._canvas=Dn(),this._canvas.height=this._height,this._canvas.width=1;const i=this._canvas.getContext("2d",{willReadFrequently:!0});this._ctx=i,i.textBaseline="middle",i.textAlign="center",i.fillStyle="black"}setOptions({fontSize:e=24,buffer:t=8,cutoff:n=.25,radius:r=6}){this._fontSize=e,this._buffer=t,this._cutoff=n,this._radius=r,this._height=Math.ceil(this._fontSize+2*this._buffer*Vg)}draw(e,t,n){ho(this._ctx,t,this._fontSize,n);const r=Y8(this._ctx.measureText(e).width+2*this._buffer)-2*fo,i=this._height,s=r*i,o=Math.max(r,i);this._canvas.width<r&&(this._canvas.width=r,ho(this._ctx,t,this._fontSize,n),this._ctx.textAlign="center",this._ctx.textBaseline="middle",this._ctx.fillStyle="black"),s>this._gridSize&&(this._gridOuter=new Float64Array(s),this._gridInner=new Float64Array(s),this._gridSize=s),o>this._maxDimension&&(this._f=new Float64Array(o),this._d=new Float64Array(o),this._z=new Float64Array(o+1),this._v=new Int16Array(o),this._maxDimension=o),this._ctx.clearRect(0,0,r,i),this._ctx.fillText(e,r/2,i/2);const a=this._ctx.getImageData(0,0,r,i),l=new Uint8ClampedArray(s);for(let c=0;c<s;c++){const d=a.data[4*c+3]/255;this._gridOuter[c]=d===1?0:d===0?Vc:Math.pow(Math.max(0,.5-d),2),this._gridInner[c]=d===1?Vc:d===0?0:Math.pow(Math.max(0,d-.5),2)}JS(this._gridOuter,r,i,this._f,this._d,this._v,this._z),JS(this._gridInner,r,i,this._f,this._d,this._v,this._z);for(let c=0;c<s;c++){const d=this._gridOuter[c]-this._gridInner[c];l[c]=Math.max(0,Math.min(255,Math.round(255-255*(d/this._radius+this._cutoff))))}return{height:i,width:r,distance:l}}};function JS(e,t,n,r,i,s,o){for(let a=0;a<t;a++){for(let l=0;l<n;l++)r[l]=e[l*t+a];e2(r,i,s,o,n);for(let l=0;l<n;l++)e[l*t+a]=i[l]}for(let a=0;a<n;a++){for(let l=0;l<t;l++)r[l]=e[a*t+l];e2(r,i,s,o,t);for(let l=0;l<t;l++)e[a*t+l]=Math.sqrt(i[l])}}function e2(e,t,n,r,i){n[0]=0,r[0]=-Vc,r[1]=+Vc;for(let s=1,o=0;s<i;s++){let a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);for(;a<=r[o];)o--,a=(e[s]+s*s-(e[n[o]]+n[o]*n[o]))/(2*s-2*n[o]);o++,n[o]=s,r[o]=a,r[o+1]=+Vc}for(let s=0,o=0;s<i;s++){for(;r[o+1]<s;)o++;t[s]=(s-n[o])*(s-n[o])+e[n[o]]}}function Y8(e){return Math.ceil((e+2*fo)/tr)*tr}var Xu=256,q8=.275,Z8=.25,Q8=6,K8=Bj-2*fo,J8=Oj-2*fo,t2={fontSize:Ad,cutoff:q8,radius:Q8},eU={fontSize:Ad,cutoff:Z8,radius:8},tU=class{constructor(e,t){this._patternIdToInfoTexture=new Uint8Array(Xu*Xu*4),this._glTextures=[],this._textureSizes=[],this._pixelRatio=1,this._gl=e,this._glUnit=t;const n=Dn(xi,xi),r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Pattern: could not get 2d context");this._imageCanvasContext=r,this._imageCanvas=n,this._canvasForDuplicatedImage,this._sdfGenerator=new X8(t2),this._maxTextureSize=Math.min(4096,e.getParameter(e.MAX_TEXTURE_SIZE))}refresh(e){this._pixelRatio=e.getPixelRatio();const t=this._gl,n=this._getPatternsByFilter(e.getPatternList());for(let s=0;s<n.length;++s){const o=s,a=n[s],l=T8(a,this._maxTextureSize),{texture:c,size:d}=$I(o,a,l,this._maxTextureSize,this._patternIdToInfoTexture),u=this._glTextures[o]||(this._glTextures[o]=t.createTexture()),h=o===Ja?Sv:z_;YS(t,u,this._glUnit+1+o,c,d,o,h),this._textureSizes[o]=d}const r=this._glTextureInfo||(this._glTextureInfo=t.createTexture()),i=this._patternIdToInfoTexture;YS(t,r,this._glUnit,i,Xu,Ja,z_)}bindMetDataTexture(){const e=this._gl;e.activeTexture(e.TEXTURE0+this._glUnit),e.bindTexture(e.TEXTURE_2D,this._glTextureInfo)}getInfoTextureUnit(){return this._glUnit}getNearestTextureUnit(){return this._glUnit+1+Ja}getLinearTextureUnit(){return this._glUnit+1+Uc}getLinearSdfTextureUnit(){return this._glUnit+1+$c}getMipmapTextureUnit(){return this._glUnit+1+To}getInfoTextureSize(){return Xu}getNearestTextureSize(){return this._textureSizes[Ja]}getLinearTextureSize(){return this._textureSizes[Uc]}getLinearSdfTextureSize(){return this._textureSizes[$c]}getMipmapTextureSize(){return this._textureSizes[To]}_getPatternsByFilter(e){const t=new Array(HS);for(let n=0;n<HS;++n)t[n]=[];for(let n=0;n<e.length;++n){const r=this._getPatternPixels(e[n]);t[r.filter].push(r)}return t}_getPatternPixels({id:e,type:t,attributes:n}){let r;const{text:i,font:s,style:o,image:a,scaled:l,duplicated:c,colorArray:d}=n;switch(t){case lo:r=c?this._getDuplicatedImagePixels(a):l?this._getScaledImagePixels(a):this._getNonScaledImagePixels(a);break;case Oo:r=this._getSdfTextPixels(i,s,o);break;case Xo:r=this._getIconPixels(i,s,o);break;case Yo:r=this._getBadgeIconPixels(i,s,o);break;case nu:r=this._getPieChartPixels(d);break;default:throw new Error(`pattern type "${t}" does not exist`)}return r.id=e,r}_getScaledImagePixels(e){let t=e.width,n=e.height;if(t>0){const r=xi/Math.max(e.width,e.height);t*=r,n*=r}return t&&n&&(t=kl(t),n=kl(n)),t-=2*fo,n-=2*fo,this._getImagePixels(e,t,n)}_getNonScaledImagePixels(e){return this._getImagePixels(e,e.width,e.height)}_getDuplicatedImagePixels(e){if(e.width===0||e.height===0)return this._getImagePixels(e,0,0);this._canvasForDuplicatedImage||(this._canvasForDuplicatedImage=Dn(xi,xi));const t=this._canvasForDuplicatedImage,n=t.getContext("2d"),r=e.width,i=e.height;let s=(xi-r)/2,o=(xi-i)/2;for(;s>0;)s-=r;for(;o>0;)o-=i;for(let a=s;a<xi;a+=r)for(let l=o;l<xi;l+=i)n.drawImage(e,a,l);return this._getImagePixels(t,xi,xi)}_getImagePixels(e,t,n){let r;if(t===0||n===0)r=new Uint8Array(0);else{(this._imageCanvas.width<t||this._imageCanvas.height<n)&&(this._imageCanvas.width=t,this._imageCanvas.height=n);const i=this._imageCanvasContext;y_(this._imageCanvas,i,t,n);try{i.drawImage(e,0,0,t,n)}catch{}r=i.getImageData(0,0,t,n).data}return{width:t,height:n,pixels:r,filter:To}}_getPieChartPixels(e){const t=J8,n=this._imageCanvasContext,r=t/2,i=t/2;return y_(this._imageCanvas,n,t,t),n.save(),n.rect(0,0,t,t),n.clip(),GI(n,e,r,i,t),n.restore(),{width:t,height:t,pixels:n.getImageData(0,0,t,t).data,filter:Uc}}_getTextPixels(e,t,n,r,i,s){const o=this._imageCanvasContext,a=i*this._pixelRatio;ho(o,n,a,r);let l=Math.ceil(o.measureText(t).width);l===0&&(l=a);let c=0,d=0;e===To||(c=2*Math.ceil(a*Vg/2),d=2*Math.ceil(l*yI/2));const u=Math.ceil(l+d),h=Math.ceil(a+c),g=this._imageCanvas.height<h||this._imageCanvas.width<u;return this._imageCanvas.height<h&&(this._imageCanvas.height=h),this._imageCanvas.width<u&&(this._imageCanvas.width=u),g&&ho(o,n,a,r),o.clearRect(0,0,u,h),o.fillStyle="black",o.textBaseline="middle",o.textAlign="left",o.fillText(t,s+d/2,h/2),{width:u,height:h,pixels:o.getImageData(0,0,u,h).data,filter:e}}_getIconPixels(e,t,n){return this._getTextPixels(To,e,t,n,K8,0)}_getBadgeIconPixels(e,t,n){return this._sdfGenerator.setOptions(eU),this._getSdfPixels(e,t,n)}_getSdfTextPixels(e,t,n){return this._sdfGenerator.setOptions(t2),this._getSdfPixels(e,t,n)}_getSdfPixels(e,t,n){const{width:r,height:i,distance:s}=this._sdfGenerator.draw(e,t,n),o=new Uint8Array(r*i*4);for(let a=0;a<s.length;++a)o[4*a+3]=s[a];return{width:r,height:i,pixels:o,filter:$c}}},nU=class{constructor(e,t){this._gl=e,this._glTextureUnit=t,this._simpleShapePixels=new Uint8Array(Oh*Oh*4),this._complexShapePixels=new Uint8Array(Os*Os*4),this._shapesWritten=[]}refresh(e){const t=e.getShapeList();for(const n of t)if(!this._shapesWritten.includes(n.id)){const r=n.isSimple?Oh:Os,i=n.isSimple?this._simpleShapePixels:this._complexShapePixels;L8(n,r,P_,i),this._loadShapeInGpu(n.id,r,i),this._shapesWritten.push(n.id)}}_loadShapeInGpu(e,t,n){const r=this._gl,i=R_,s=e%F_*Os,o=Math.floor(e/F_)*Os;if(this._texture)r.bindTexture(r.TEXTURE_2D,this._texture);else{const a=new Uint8Array(i*i*4);this._texture=r.createTexture(),r.activeTexture(r.TEXTURE0+this._glTextureUnit),r.bindTexture(r.TEXTURE_2D,this._texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,i,i,0,r.RGBA,r.UNSIGNED_BYTE,a)}r.texSubImage2D(r.TEXTURE_2D,0,s,o,t,t,r.RGBA,r.UNSIGNED_BYTE,n)}getTextureSize(){return R_}getSamplingSize(){return Os}getBufferRatio(){return P_}getTextureUnit(){return this._glTextureUnit}},n2=class{constructor(e,{vertex:t,fragment:n,constants:r,macros:i}){this._state=0,this._gl=e,this._vertexSource=t,this._fragmentSource=n,this._constants=cn(r||{}),this._macros=cn(i||{})}setConstant(e,t){this._constants[e]=t}setMacro(e,t){this._macros[e]=t}getState(){return this._state}getProgram(){return this._program}compile(){const e=this._gl,t=r2(this._vertexSource,this._macros,this._constants),n=r2(this._fragmentSource,this._macros,this._constants);this._program&&(e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader));const r=e.createProgram(),i=e.createShader(e.VERTEX_SHADER),s=e.createShader(e.FRAGMENT_SHADER);if(!(r&&i&&s))throw new Error("Error instantiating WebGL program");this._program=r,this._vertexShader=i,this._fragmentShader=s,e.shaderSource(this._vertexShader,t),e.compileShader(this._vertexShader),e.attachShader(this._program,this._vertexShader),e.shaderSource(this._fragmentShader,n),e.compileShader(this._fragmentShader),e.attachShader(this._program,this._fragmentShader),e.linkProgram(this._program),this._state=1}getError(){const e=this._gl;return e.getShaderParameter(this._vertexShader,e.COMPILE_STATUS)?e.getShaderParameter(this._fragmentShader,e.COMPILE_STATUS)?e.getProgramParameter(this._program,e.LINK_STATUS)?(this._state=2,null):{step:"link",message:e.getProgramInfoLog(this._program)||""}:{step:"fragment",message:e.getShaderInfoLog(this._fragmentShader)||""}:{step:"vertex",message:e.getShaderInfoLog(this._vertexShader)||""}}};function r2(e,t,n){const r=Object.keys(t),i=Object.keys(n);for(let s=0;s<r.length;++s){const o=r[s],a=t[o];e=e.replace(`#define ${o} 0`,`#define ${o} ${a}`)}for(let s=0;s<i.length;++s){const o=i[s],a=n[o],l=a+(a%1==0?".0":"");e=e.replace(`const float ${o} = 0.0;`,`const float ${o} = ${l};`)}return e}function rU(){return typeof window<"u"&&!!window.FORCE_WEBGL}/** @preserve instance id */var i2=VL(),iU={stencil:!0,antialias:!1,alpha:!0,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!rU()},sU=0,oU=1,aU={NO_WEBGL:'Unable to create a WebGL context: `canvas.getContext("webgl")` and `canvas.getContext("experimental-webgl")` returned `null`',NO_ANGLE_INSTANCED_ARRAYS:'WebGL extension "ANGLE_instanced_arrays" unavailable: `gl.getExtension("ANGLE_instanced_arrays")` returned `null`'},WI=class extends Error{};function Lf(e,t){if(!e&&t){const n=new WI(aU[t]);throw n.code=t,n}}var XI=class extends Ev{constructor(e){super(e),this._2dcanvas=Dn(),this._ctx=this._2dcanvas.getContext("2d"),this._bufferDrawers=[],this._mustResize=!1,this._error=null,this._onContextLost=a=>{a.preventDefault(),this._error=new WI("WebGL context lost"),this.fire("error",this._error)};const t=e.initData||XI.createInitData(),{canvas:n,gl:r,ext:i,staticProgramWrapper:s,animationProgramWrapper:o}=t;Lf(r,"NO_WEBGL"),Lf(i,"NO_ANGLE_INSTANCED_ARRAYS"),this._glCanvas=n,this._gl=r,this._ext=i,this._staticProgramWrapper=s,this._animationProgramWrapper=o,this._shapeTexture=new nU(this._gl,sU),this._patternTexture=new tU(this._gl,oU),this._initCanvas(this._glCanvas),this._computeShaderInfo(),this._initSpecialGlBuffers(),this._initGlPrograms(),this._initGl()}_initCanvas(e){super._initCanvas(e),e.addEventListener("webglcontextlost",this._onContextLost,!1)}static isAvailable(){return i2||Lf(null,"NO_WEBGL"),i2}static createInitData(){const e=Dn(),t=Wx(e,iU,"webgl"),n=t&&typeof t.getExtension=="function"?t.getExtension("ANGLE_instanced_arrays"):null,r=dU(),i=new n2(t,{vertex:Tf,fragment:Cf,constants:r,macros:{ANIMATED:0}}),s=new n2(t,{vertex:Tf,fragment:Cf,constants:r,macros:{ANIMATED:1}});return t&&n&&(i.compile(),t.flush()),{canvas:e,gl:t,ext:n,staticProgramWrapper:i,animationProgramWrapper:s}}static getName(){return"WebGL"}_afterFirstFrame(){this._animationProgramWrapper.getState()===0&&this._animationProgramWrapper.compile()}ensureAnimationsReady(){const e=this._animationProgramWrapper.getState();e!==2&&(e===0&&this._animationProgramWrapper.compile(),this._animationProgramWrapper.getError())}getDomElement(){return this._glCanvas}_initGl(){const e=this._gl;e.clearColor(0,0,0,0),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}_computeShaderInfo(){this._shaderMetadata=lU(Tf,Cf)}_initGlPrograms(){this._staticProgram=new KS({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._staticProgramWrapper}),this._animationProgram=new KS({gl:this._gl,ext:this._ext,specialGlBuffers:this._specialGlBuffers,metaData:this._shaderMetadata,programWrapper:this._animationProgramWrapper})}_initSpecialGlBuffers(){const e=this._gl,t=e.createBuffer(),n=new Int8Array(18*hr);for(let r=0;r<hr;++r){const i=[-1,-1,r,1,-1,r,1,1,r,-1,-1,r,-1,1,r,1,1,r],s=r*i.length;for(let o=0;o<i.length;o++)n[o+s]=i[o]}e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this._specialGlBuffers={vertexInfo:t}}_computeUniforms(){return{viewWidth:this._width,viewHeight:this._height,viewX:this._viewX,viewY:this._viewY,viewZoom:this._viewZoom,viewAngle:this._viewAngle,currentTime:this._currentTime,pixelRatio:this._pixelRatio,backgroundColor:this._backgroundRgba,patternInfoTexture:this._patternTexture.getInfoTextureUnit(),patternNearestTexture:this._patternTexture.getNearestTextureUnit(),patternLinearTexture:this._patternTexture.getLinearTextureUnit(),patternLinearSdfTexture:this._patternTexture.getLinearSdfTextureUnit(),patternMipmapTexture:this._patternTexture.getMipmapTextureUnit(),shapeTexture:this._shapeTexture.getTextureUnit(),BYTES_TO_COORD:this._scales.bytesToActualCoord,BYTES_TO_SCALED_SIZE:this._scales.bytesToActualScaledSize,BYTES_TO_MIN_VISIBLE_SIZE:this._scales.bytesToActualMinVisibleSize,BYTES_TO_SYMBOLIC_SIZE:this._scales.bytesToActualSymbolicSize,BYTES_TO_DASH_LENGTH:this._scales.bytesToActualDashLength,BYTES_TO_GAP_LENGTH:this._scales.bytesToActualGapLength,BYTES_TO_PATTERN_SCALE:this._scales.bytesToActualPatternScale,PATTERN_INFO_TEXTURE_SIZE:this._patternTexture.getInfoTextureSize(),PATTERN_NEAREST_TEXTURE_SIZE:this._patternTexture.getNearestTextureSize(),PATTERN_LINEAR_TEXTURE_SIZE:this._patternTexture.getLinearTextureSize(),PATTERN_LINEAR_SDF_TEXTURE_SIZE:this._patternTexture.getLinearSdfTextureSize(),PATTERN_MIPMAP_TEXTURE_SIZE:this._patternTexture.getMipmapTextureSize(),PATTERN_POSITION_UNIT_SIZE:tr,ROUNDED_BOX_RADIUS:this._textManager.getCornerRadius(),SHAPE_TEXTURE_SIZE:this._shapeTexture.getTextureSize(),SHAPE_SAMPLING_SIZE:this._shapeTexture.getSamplingSize(),SHAPE_SAMPLING_BUFFER_RATIO:this._shapeTexture.getBufferRatio(),NB_SHAPES_BY_SIDE:this._shapeTexture.getTextureSize()/this._shapeTexture.getSamplingSize(),SHAPE_DIMENSIONS:this._shapeTexture.getSamplingSize()/this._shapeTexture.getTextureSize(),SHAPE_ACTUAL_RATIO:1-this._shapeTexture.getBufferRatio()}}_render({shapesChanged:e,patternsChanged:t,dimensionsChanged:n,backgroundColorChanged:r}){const i=this._gl;if(this._error)throw this._error;if(e&&(this._shapeTexture.refresh(this._shapeManager),this._patternTexture.bindMetDataTexture()),t&&this._patternTexture.refresh(this._patternManager),n&&(this._mustResize=!0),r){const[a,l,c,d]=this._renderBackground?this._backgroundRgba:[0,0,0,0];i.clearColor(a*d,l*d,c*d,d)}const s=this._computeUniforms(),o=this._getSortedBufferList();this._mustResize&&o.length&&(Mg(this._glCanvas,this._width,this._height,this._pixelRatio),i.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),this._mustResize=!1),i.clear(i.COLOR_BUFFER_BIT|i.STENCIL_BUFFER_BIT);for(let a=0;a<o.length;++a)this._displayBuffer(o[a],s);this._endFrame()}_displayBuffer(e,t){const n=e.getProgram();n!==this._currentProgram&&(this._currentProgram&&this._currentProgram.endPass(),this._currentProgram=n,this._currentProgram.startPass(t)),e.markAsUsed(),e.draw()}_getSortedBufferList(){const e=this._bufferList.getBuffersByAscendingDepth(),t=[];for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&r.markAsUnused()}for(let n=0;n<e.length;++n){const r=e[n],i=this._getBufferDrawer(r);i.markAsUsed(),!r.isEmpty()&&this._isBufferDisplayable(r)&&t.push(i)}for(let n=0;n<this._bufferDrawers.length;++n){const r=this._bufferDrawers[n];r&&!r.isUsed()&&(r.destroy(),this._bufferDrawers[n]=void 0)}return t}_endFrame(){this._currentProgram&&(this._currentProgram.endPass(),this._currentProgram=null)}_getBufferDrawer(e){const t=e.getId();let n=this._bufferDrawers[t];if(!n){for(;this._bufferDrawers.length<=t;)this._bufferDrawers.push(void 0);n=new j8({gl:this._gl,ext:this._ext,staticProgram:this._staticProgram,animationProgram:this._animationProgram}),this._bufferDrawers[t]=n}return n.setDataBuffer(e),n}destroy(){const e=this._gl.getExtension("WEBGL_lose_context");e&&e.loseContext()}getImageData(){const e=this._glCanvas.width,t=this._glCanvas.height;return(this._2dcanvas.width<e||this._2dcanvas.height<t)&&(this._2dcanvas.width=e,this._2dcanvas.height=t),this._ctx.clearRect(0,0,e,t),this._ctx.drawImage(this._glCanvas,0,0),this._ctx.getImageData(0,0,e,t)}_getImageDataFlippedYAxis(){const e=this._gl,t=this._glCanvas.width,n=this._glCanvas.height,r=this._ctx.createImageData(t,n),i=new Uint8Array(r.data.buffer);return e.readPixels(0,0,t,n,e.RGBA,e.UNSIGNED_BYTE,i),r}};function lU(e,t){const n={vertexInfoAttribute:"a_vertexInfo",attributes:[],uniforms:[]};return s2(n,e),s2(n,t),n}var cU={float:1,vec2:2,vec3:3,vec4:4};function s2(e,t){const n=/(?:attribute\s+\/\*\s*(byte|ubyte|short|ushort|float)\s*\*\/\s*(float|vec2|vec3|vec4)\s+(\w+)\s*;)|(?:#if\s*(\w+))|(?:#endif)/g,r=/uniform\s+(float|vec2|vec3|vec4|sampler2D|int)\s+(\w+)\s*;/g,i=[];let s=n.exec(t);for(;s;){const o=s[0];o==="#endif"?i.pop():o.startsWith("#if")?i.push(s[4]):e.attributes.push({name:s[3],size:cU[s[2]],type:s[1],tags:i.slice(),location:null,byteSize:0,glType:null}),s=n.exec(t)}for(s=r.exec(t);s;){if(!e.uniforms.some(({id:o})=>o===s[1])){const o=s[1],a=s[2],l=a.replace("u_","");e.uniforms.push({id:l,name:a,type:o})}s=r.exec(t)}}function dU(){return{BYTES_TO_OFFSET_ANGLE:2*Math.PI/8,BYTES_TO_COLOR:1/15,SDF_FONT_SIZE:Ad,CURVATURE_RATIO:sm,PATTERN_PADDING:fo,TEXT_WIDTH_MULTIPLIER:yI,TEXT_HEIGHT_MULTIPLIER:Vg,SELF_LOOP_CURVATURE_RATIO:Gg,EDGE_ARROW_SIZE_RATIO:xI,CURVE_SUBDIVISIONS:hr,PIECE_NODE_COMPONENT:pi,PIECE_TEXT_BOX:ll,PIECE_EDGE_BODY:im,PIECE_EDGE_HEAD:lv,PIECE_EDGE_TAIL:cv,PIECE_EDGE_TEXT:Ya,MAX_TEXT_SIZE:y8,BYTES_TO_TEXT_OFFSET_X:1/jI,BYTES_TO_TEXT_OFFSET_Y:1/D_,FILTER_NEAREST:Ja,FILTER_LINEAR:Uc,FILTER_LINEAR_SDF:$c,FILTER_MIPMAP:To,SHAPE_TEXTURE_SIZE:R_,SIMPLE_SHAPE_SAMPLING_SIZE:Oh,COMPLEX_SHAPE_SAMPLING_SIZE:Os,SHAPE_SAMPLING_BUFFER_RATIO:P_,MAX_SHAPES:$g.toString(),FIRST_COMPLEX_SHAPE_ID:M_,SELF_LOOP_TO_CIRCLE_APPROX:vI,SDF_GAMMA:$j}}var uU={x:0,y:0,zoom:1,angle:0,width:80,height:60,pixelRatio:1,backgroundColor:null,currentTime:0,isBufferDisplayable:Xp,hideImages:!1,renderBackground:!1},Yu={webgl:XI,canvas:M8,svg:O8},o2=[0,0,0,0],Nf={webgl:null,svg:null,canvas:null},Gc=class extends Jd{constructor(e){super(),this._view=cn(uU),this._domWrapper=_s?document.createElement("div"):Ig(),this._domElement=this._domWrapper.appendChild(_s?document.createElement("div"):Ig()),this._currentElementSize=0,this._currentBlockOffset=0,this._currentByteOffset=0,this._blockIdToAddress=new Uint32Array(0),this._renderersByType={},this._switchMainRenderer=!0,this._refreshTexts=!1,this._backgroundColor=null,this._initData=e||{},this._patternManager=new g8,this._shapeManager=new p8,this._boundariesManager=new c8,this._textManager=new x8(this._patternManager),this._bufferOfsetToId=new QL,this._memoryManager=new d8(this._patternManager,this._shapeManager,this._textManager,this._bufferOfsetToId,t=>this.parseColor(t)||o2),this._bufferList=new i8}static createInitData(){const e={};for(const t in Yu)e[t]=Yu[t].createInitData();return e}static cacheInitData(e){Nf=e}static getCachedInitData(){return Nf}static clearCachedInitData(){Nf={webgl:null,svg:null,canvas:null}}freeBlock(e){this._checkBlockId(e);const t=this._blockIdToAddress[e],n=this._bufferList.freeBlock(t);return this._blockIdToAddress[e]=n,n}_ensureDomElementsFitParent(){const e=this._domElement.parentNode;!e||e.offsetWidth===this._view.width&&e.offsetHeight===this._view.height||da(e,`${this._view.width}px`,`${this._view.height}px`)}_ensureCorrectBackgroundColor(){const e=this._domElement.parentNode;this._backgroundColor!==this._view.backgroundColor&&e&&(e.style.backgroundColor=this._view.backgroundColor||"",this._backgroundColor=this._view.backgroundColor)}createGroup(){return new l8}parseColor(e){return yr(e)}clear(){this._blockIdToAddress.fill(0),this._patternManager.reset(),this._boundariesManager.reset(),this._textManager.reset(),this._bufferList.reset(),this._bufferOfsetToId.reset()}notifyFontsReloaded(){this._patternManager.notifyUpdate(),this._textManager.clear(),this._refreshTexts=!0}notifyPatternUpdate(){this._patternManager.notifyUpdate()}getShapePoints(e){return this._shapeManager.getDefinitionFromName(e).points}checkShapeHit(e,t,n){const{getDistanceFromStrokeVertically:r,getDistanceFromStrokeHorizontally:i}=this._shapeManager.getDefinitionFromName(e);return Math.min(r(t,n),i(t,n))>=0}setGlobalBoundaries(e){const{maxBlockId:t=0,maxScaledSize:n,maxMinVisibleSize:r,maxSymbolicSize:i,maxDashLength:s,maxGapLength:o,maxPatternScale:a}=e;return t>this._blockIdToAddress.length&&this._resizeBlockArray(t),!!this._boundariesManager.set(e)&&(this._memoryManager.resizeBoundaries(n,r,i,s,o,a),!0)}_resizeBlockArray(e){const t=new Uint32Array(e);t.set(this._blockIdToAddress),this._blockIdToAddress=t}registerShape(e,t){this._shapeManager.register(e,t)}_bindBlock(e,t,n,r,i,s,o){this._checkBlockId(e);const a=this._blockIdToAddress[e],l=this._bufferList.allocateBlock(a,t,n,r,i,s,o);return this._blockIdToAddress[e]=l.address,this._currentDataView=l.buffer.getDataView(),this._currentElementSize=l.buffer.elementSize,this._currentBlockOffset=l.offset,this._currentByteOffset=this._currentBlockOffset*this._currentElementSize,this._currentSideDataView=l.buffer.getSideDataView(),this._currentSideElementSize=l.buffer.getTotalSideElementsSize(),this._currentSideByteOffset=this._currentBlockOffset*this._currentSideElementSize,l}_setItemIndex(e){const t=this._currentBlockOffset+e;this._currentByteOffset=t*this._currentElementSize,this._currentSideByteOffset=t*this._currentSideElementSize}_checkBlockId(e){e>=this._blockIdToAddress.length&&this._resizeBlockArray(Gs(e+1))}_setTextCharacters(e){this._textManager.storeTextInDataView(this._currentSideDataView,this._currentSideByteOffset,this._currentSideByteOffset+this._currentSideElementSize,e)}_storeElement(e,t){this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset,e.end),t&&(this._memoryManager.storeGenericObject(this._currentDataView,this._currentByteOffset+El,e.start),this._memoryManager.storeAnimationInformation(this._currentDataView,this._currentByteOffset+2*El,e.animation,bv.getCoefficients(e.animation.easing)))}storeGroup(e,t){if(!t||t.size===0)return this.freeBlock(e);const n=t.type,r=t.depth,i=t.size,s=t.getElements(),o=t.animated,a=t.stencilUsage,l=t.getId();let c=0;if(n===Wo)for(let u=0;u<i;++u){const h=s[u],{start:g,end:p}=h;if(p.pattern.type===mo){const m=p.pattern.attributes.text;c=Math.max(c,m.length)}if(o&&g.pattern.type===mo){const m=g.pattern.attributes.text;c=Math.max(c,m.length)}}const d=this._bindBlock(e,n,o,r,i,c,a);for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._storeElement(h,o),this._bufferOfsetToId.set(d.buffer.getId(),d.offset+u,l)}if(n===Wo)for(let u=0;u<i;++u){const h=s[u];this._setItemIndex(u),this._setTextCharacters(h.end.pattern)}return d.address}_refreshTextElements(){const e=this._bufferList.getBuffers();for(const t of e)if(t&&t.type===Wo){const n=t.getSideDataView(),r=t.getTotalSideElementsSize(),i=t.getSize();let s=0,o=r;for(let a=0;a<i;++a){const l=this._textManager.extractTextFromDataView(n,s,o);this._textManager.storeTextInDataView(n,s,o,l),s=o,o+=r}t.triggerUpdate()}}extractElement(e,t=0){if(!e)return null;const n=this._bufferList.getBlockInfo(e);return this._renderer.extractElement(n.buffer,n.offset+t)}getDomElement(){return this._domElement}getDomWrapper(){return this._domWrapper}measureText(e,t,n,r=1){return this._textManager.measureText(e,t,n,r)}setRenderType(e){this._renderType!==e&&(this._renderType=e,this._switchMainRenderer=!0)}_ensureMainRendererReady(){if(this._switchMainRenderer){this._renderType===null&&(this._renderType="canvas");const e=Yu[this._renderType];e&&e.isAvailable()||(this._renderType="canvas"),this._renderer=this._renderersByType[this._renderType],this._renderer||(this._renderer=this._instanciateRenderer(this._renderType),this._renderer.on("error",t=>this.fire("error",t)),this._renderersByType[this._renderType]=this._renderer),this._updateDomElement()}}_updateDomElement(){const e=this._renderer&&this._renderer.getDomElement(),t=this._domElement;for(;t&&t.firstChild;)t.removeChild(t.firstChild);e&&this._appendDomChild(e)}_appendDomChild(e){e.style.position="absolute",e.style.left="0",e.style.top="0",this._domElement.appendChild(e)}_instanciateRenderer(e){return new(e===null?Ev:Yu[e])({initData:e===null?null:this._initData[e],bufferList:this._bufferList,shapeManager:this._shapeManager,patternManager:this._patternManager,boundariesManager:this._boundariesManager,textManager:this._textManager,memoryManager:this._memoryManager})}setView(e){this._view=Se(Se({},this._view),e)}getTextManager(){return this._textManager}_updateManagers(){this._patternManager.setPixelRatio(this._view.pixelRatio),this._shapeManager.update(),this._patternManager.update(),this._textManager.update(),this._boundariesManager.update(),this._bufferList.update(),this._refreshTexts&&(this._refreshTexts=!1,this._refreshTextElements())}_resizeCanvas(e){BI(e,this._view.width,this._view.height,this._view.pixelRatio)}render(){this._ensureMainRendererReady(),this._ensureDomElementsFitParent(),this._ensureCorrectBackgroundColor(),this._updateManagers(),this._renderer.renderFrame(this._view)}ensureAnimationsReady(){this._ensureMainRendererReady(),this._renderer.ensureAnimationsReady()}export(e,t,n){const r=this._instanciateRenderer(e),i=Se(Se({},this._view),t);return"setViewportClipping"in r&&r.setViewportClipping(!1),this._updateManagers(),r.renderFrame(i),r.export(n).then(()=>r.getDomElement())}getCurrentTime(){return rr()}getImageData(){return this._renderer&&this._renderer.getImageData()}destroy(){for(const e of Object.keys(this._renderersByType)){const t=this._renderersByType[e];t&&t.destroy()}}transparentify(e){const t=this.parseColor(e)||o2;return`rgba(${Math.round(255*t[0])},${Math.round(255*t[1])},${Math.round(255*t[2])},0)`}initDebugRenderingLoop({triggerKey:e="r",start:t=!0}={}){let n=t;document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n)});const r=i=>{(n||i)&&(this.setView({currentTime:rr()}),this.render()),window.requestAnimationFrame(()=>{r()})};window.requestAnimationFrame(()=>{document.body.appendChild(this.getDomElement()),r(!0)})}},hU=class{constructor(e,t){this._attributesManager=e,this._id=t}getDefinition(){return this._attributesManager.getAttributeLayerDefinition(this._id)}update(e){this._attributesManager.updateAttributeLayer(this._id,e)}destroy(){this._attributesManager.destroyAttributeLayer(this._id)}updateElements(e){this._attributesManager.updateElementsForAttributeLayer(this._id,e)}updateAll(){this._attributesManager.updateAllForAttributeLayer(this._id)}setAttributeValues(e,t,n){this._attributesManager.setAttributeLayerValues(this._id,e,t,n)}getUsedAttributeNames(e){return this._attributesManager.getUsedAttributeLayerAttributes(this._id,e)}getFlexArrays(){return this._attributesManager.getAttributeLayerFlexArrays(this._id)}},gU={name:"animationStart",storage:32,default:0},pU={name:"animationDuration",storage:16,default:0},mU={name:"animationEasing",storage:"resource",default:"linear"},fU={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentNodes:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},adjacentEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},_U={self:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},extremities:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},parallelEdges:{attributes:"all",tags:[],selection:!0,hover:!1,data:!0},allNodes:void 0,allEdges:void 0},yU={x:1,y:1,radius:1,"halo.hideNonAdjacentEdges":1},pr="Arial",_o="black",Wg="rgba(255,255,255,0)",Al=12,Nd=2,kv=7,xU=!0,Av=10,vU=5,YI=.08,qI="rgba(255,255,255,0)",ZI="normal",QI="center",KI=!1,JI=0,O_="red",eM="rgb(220, 220, 220)",tM="red",nM="rgb(220, 220, 220)",B_=1,rM="scaled",iM="grey",sM=1,oM=0,aM=0,lM=!0,cM=0,dM=!0,uM="line",hM=null,gM=null,pM="plain",mM="inherit",j_=0,fM="fixed",_M=0,yM=null,U_=10,xM="fixed",vM=1e3,bM=800,wM="rgba(0, 0, 0, 0.6)",EM="rgba(0, 0, 0, 0)",SM=10,kM=1,AM=2,CM="rgba(0, 0, 0, 0.36)",TM=0,bU=1,LM="normal",NM="center",IM=2,$_=2,MM=ru,PM=4,FM=!0,RM=4,V_=2,G_=12,DM=2;function wU(e,t,n){let r,i,s,o;n==="line"?(r="line",i="plain",s=null,o=null):n==="arrow"?(r="line",i="plain",s="arrow",o=null):n==="tapered"?(r="triangle",i="plain",s=null,o=null):n==="dashed"?(r="line",i="dashed",s=null,o=null):n==="dotted"&&(r="line",i="dotted",s=null,o=null),e.shape.body.set(t,r),e.shape.style.set(t,i),e.shape.head.set(t,s),e.shape.tail.set(t,o)}var zM={width:{_flexArray:B_,_check:Bt(B_)},scalingMethod:{_flexArray:rM,_check:Xs},color:{_flexArray:iM,_check:Xj},opacity:{_flexArray:sM,_check:rn},minVisibleSize:{_flexArray:oM,_check:rn},layer:{_flexArray:aM,_check:EI},detectable:{_flexArray:lM,_check:$n},curvature:{_flexArray:cM,_check:qo},adjustAnchors:{_flexArray:dM,_check:$n},shape:{_check:qj,_set:wU,type:"shape.head",body:{_flexArray:uM,_check:Zj},head:{_flexArray:hM,_check:SS},tail:{_flexArray:gM,_check:SS},style:{_flexArray:pM,_check:Qj}},stroke:{color:{_flexArray:mM,_check:er},width:{_flexArray:j_,_check:Bt(j_)},scalingMethod:{_flexArray:fM,_check:Xs},minVisibleSize:{_flexArray:_M,_check:rn}},strokeWidth:"stroke.width",halo:{_alias:"halo.color",color:{_flexArray:yM,_check:Ys},width:{_flexArray:U_,_check:Bt(U_)},scalingMethod:{_flexArray:xM,_check:Xs},size:"halo.width"},pulse:{enabled:{_flexArray:!1,_check:$n},duration:{_flexArray:vM,_check:rn},interval:{_flexArray:bM,_check:rn},startColor:{_flexArray:wM,_check:er},endColor:{_flexArray:EM,_check:er},width:{_flexArray:SM,_check:rn},startRatio:{_flexArray:kM,_check:rn},endRatio:{_flexArray:AM,_check:rn}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:$n},color:{_flexArray:CM,_check:Ys},minVisibleSize:{_flexArray:TM,_check:rn}},text:{_alias:"text.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:dl},color:{_flexArray:_o,_check:Ys},size:{_flexArray:Al,_check:Bt(Al)},scale:{_flexArray:1,_check:rn},style:{_flexArray:LM,_check:ul},align:{_flexArray:NM,_check:Hg},margin:{_flexArray:IM,_check:qo},padding:{_flexArray:$_,_check:Bt($_)},backgroundColor:{_flexArray:Wg,_check:er},minVisibleSize:{_flexArray:PM,_check:rn},position:{_flexArray:MM,_check:Wj},adjustAngle:{_flexArray:FM,_check:$n},scaling:{_flexArray:KI,_check:$n},maxLineLength:{_flexArray:JI,_check:rn},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:dl},color:{_flexArray:_o,_check:Ys},size:{_flexArray:G_,_check:Bt(G_)},scale:{_flexArray:YI,_check:rn},style:{_flexArray:ZI,_check:ul},align:{_flexArray:QI,_check:Hg},margin:{_flexArray:DM,_check:qo},padding:{_flexArray:V_,_check:Bt(V_)},backgroundColor:{_flexArray:qI,_check:er},minVisibleSize:{_flexArray:RM,_check:rn}}}},OM="grey",BM="white",Cv=2,jM=null,Tv=5,H_=0,UM="rgba(0, 0, 0, 0.36)",EU=1,SU="circle",W_=12,_c="white",qu=12,yc="black",el=2,xc="black",Lv=40,$M=null,VM=null,Nv=1,GM="black",HM=1e3,WM=800,XM=1,YM=2,qM="rgba(0, 0, 0, 0.0)",ZM="rgba(0, 0, 0, 0.6)",QM=50,kU=.1,Bs=12,Zu=24,Id=1,a2=Id/2,l2=.45,c2=.7,AU=10,KM=AU/2,JM=5,CU=Bt(JM),TU=Bt(Al),LU=Bt(Av),NU=Bt(Cv),IU=Bt(Tv),MU=Bt(kv),d2=Bt(Nd),PU=Bt(KM),FU=Bt(Lv),RU=Bt(Nv);function Qu(e){return{_check:ls,_set:(t,n,r)=>{t.badges[e].text.content.set(n,r),r==null&&t.badges[e].image.url.set(n,r)},_get:(t,n)=>t.badges[e].text.content.get(n),color:{_flexArray:_c,_check:er},scale:{_flexArray:l2,_check:Bt(l2)},positionScale:{_flexArray:1,_check:rn},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)},image:{_alias:`badges.${e}.image.url`,url:{_flexArray:null,_check:ls},scale:{_flexArray:Id,_check:Bt(Id)}},stroke:{color:{_flexArray:yc,_check:er},width:{_flexArray:el,_check:Bt(el)},scalingMethod:{_flexArray:"fixed",_check:Xs}},text:{_alias:`badges.${e}.text.content`,content:{_flexArray:null,_check:ls},color:{_flexArray:xc,_check:er},font:{_flexArray:pr,_check:dl},style:{_flexArray:"normal",_check:ul},scale:{_flexArray:a2,_check:Bt(a2)},paddingLeft:{_flexArray:0,_check:qo},paddingTop:{_flexArray:0,_check:qo}}}}var eP={x:{_flexArray:0,_check:qo,_disableMemoryOptimization:!0},y:{_flexArray:0,_check:qo,_disableMemoryOptimization:!0},radius:{_flexArray:JM,_check:CU},scalingMethod:{_flexArray:"scaled",_check:Xs},color:{_flexArray:OM,_check:Jj},opacity:{_flexArray:1,_check:rn},shape:{_flexArray:"circle",_check:Yj},layer:{_flexArray:0,_check:EI},detectable:{_flexArray:!0,_check:$n},draggable:{_flexArray:!0,_check:$n},layoutable:{_flexArray:!0,_check:$n},innerStroke:{_alias:"innerStroke.color",width:{_flexArray:Cv,_check:NU},scalingMethod:{_flexArray:"fixed",_check:Xs},color:{_flexArray:BM,_check:er},minVisibleSize:{_flexArray:W_,_check:Bt(W_)}},outerStroke:{_alias:"outerStroke.color",width:{_flexArray:Tv,_check:IU},scalingMethod:{_flexArray:"fixed",_check:Xs},color:{_flexArray:jM,_check:er},minVisibleSize:{_flexArray:H_,_check:Bt(H_)}},badges:{_check:Gj,_set(e,t,n){e.badges.topLeft.text.content.set(t,n),e.badges.topLeft.image.url.set(t,n),e.badges.topRight.text.content.set(t,n),e.badges.topRight.image.url.set(t,n),e.badges.bottomLeft.text.content.set(t,n),e.badges.bottomLeft.image.url.set(t,n),e.badges.bottomRight.text.content.set(t,n),e.badges.bottomRight.image.url.set(t,n)},topLeft:Qu("topLeft"),topRight:Qu("topRight"),bottomLeft:Qu("bottomLeft"),bottomRight:Qu("bottomRight")},halo:{_alias:"halo.color",color:{_flexArray:$M,_check:Ys},width:{_flexArray:Lv,_check:FU},scalingMethod:{_flexArray:"fixed",_check:Xs},strokeColor:{_flexArray:VM,_check:Ys},strokeWidth:{_flexArray:Nv,_check:RU},clustering:{_flexArray:!1,_check:$n},hideNonAdjacentEdges:{_flexArray:!1,_check:$n}},pulse:{enabled:{_flexArray:!1,_check:$n},duration:{_flexArray:HM,_check:rn},interval:{_flexArray:WM,_check:rn},startColor:{_flexArray:ZM,_check:er},endColor:{_flexArray:qM,_check:er},width:{_flexArray:QM,_check:rn},startRatio:{_flexArray:XM,_check:rn},endRatio:{_flexArray:YM,_check:rn}},icon:{_alias:"icon.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:dl},color:{_flexArray:GM,_check:Ys},scale:{_flexArray:c2,_check:Bt(c2)},style:{_flexArray:"normal",_check:ul},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},image:{_alias:"image.url",url:{_flexArray:null,_check:ls},scale:{_flexArray:Id,_check:Bt(Id)},fit:{_flexArray:!0,_check:$n},tile:{_flexArray:!1,_check:$n},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},outline:{_alias:"outline.enabled",enabled:{_flexArray:!1,_check:$n},color:{_flexArray:UM,_check:Ys},minVisibleSize:{_flexArray:Bs,_check:Bt(Bs)}},text:{_alias:"text.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:dl},color:{_flexArray:_o,_check:er},size:{_flexArray:Al,_check:TU},scale:{_flexArray:kU,_check:rn},style:{_flexArray:"normal",_check:ul},align:{_flexArray:"center",_check:Hg},margin:{_flexArray:kv,_check:MU},padding:{_flexArray:Nd,_check:d2},backgroundColor:{_flexArray:null,_check:er},tip:{_flexArray:!0,_check:$n},minVisibleSize:{_flexArray:Zu,_check:Bt(Zu)},scaling:{_flexArray:!1,_check:$n},position:{_flexArray:"bottom",_check:Kj},maxLineLength:{_flexArray:0,_check:rn},truncateLength:{_flexArray:0,_check:rn},secondary:{_alias:"text.secondary.content",content:{_flexArray:null,_check:ls},font:{_flexArray:pr,_check:dl},color:{_flexArray:_o,_check:er},size:{_flexArray:Av,_check:LU},scale:{_flexArray:.08,_check:rn},style:{_flexArray:"normal",_check:ul},align:{_flexArray:"center",_check:Hg},margin:{_flexArray:KM,_check:PU},padding:{_flexArray:Nd,_check:d2},backgroundColor:{_flexArray:null,_check:er},minVisibleSize:{_flexArray:Zu,_check:Bt(Zu)}}}};function Hc(e){return typeof e=="string"}var DU=e=>(t,n)=>t[e].get(n),zU=(e,t)=>(n,r)=>n[e][t].get(r),OU=(e,t,n)=>(r,i)=>r[e][t][n].get(i),BU=(e,t,n,r)=>(i,s)=>i[e][t][n][r].get(s),jU=e=>(t,n,r)=>t[e].set(n,r),UU=(e,t)=>(n,r,i)=>n[e][t].set(r,i),$U=(e,t,n)=>(r,i,s)=>r[e][t][n].set(i,s),VU=(e,t,n,r)=>(i,s,o)=>i[e][t][n][r].set(s,o),GU=[DU,zU,OU,BU],HU=[jU,UU,$U,VU];function u2(e,t){if(!e._check)throw new Error(`error somewhere for ${t}`);const n=t.split("."),r=n.length-1,i=GU[r].apply(null,n),s=HU[r].apply(null,n);return{check:e._check,set:s,get:i,nested:{}}}function Xg(e,t){const n=t?eP:zM,r=typeof e=="string"?[e]:la(e,"",[]);let i=!1;const s=[];for(let o=0;o<r.length;o++){const a=r[o].split(".");let l=n[a[0]];for(let d=1;d<a.length;d++)l=l[a[d]];l.type&&(r[o]=l.type),l._alias&&(r[o]=l._alias),r[o]==="badges"&&(r[o]="badges.topLeft.text.content",i=!0);const c=a[a.length-1];c!=="topLeft"&&c!=="topRight"&&c!=="bottomLeft"&&c!=="bottomRight"||(r[o]=`badges.${c}.text.content`,s.push(`badges.${c}.image.url`)),r[o]==="strokeWidth"&&(r[o]="stroke.width")}return i&&(r.push("badges.topLeft.image.url"),r.push("badges.topRight.text.content"),r.push("badges.topRight.image.url"),r.push("badges.bottomLeft.text.content"),r.push("badges.bottomLeft.image.url"),r.push("badges.bottomRight.text.content"),r.push("badges.bottomRight.image.url")),r.push(...s),r}var Ku=e=>(t,n)=>({url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)}),Ju=e=>(t,n)=>({color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)}),eh=e=>(t,n)=>({content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}),th=e=>(t,n)=>({color:t.badges[e].color.get(n),scale:t.badges[e].scale.get(n),positionScale:t.badges[e].positionScale.get(n),minVisibleSize:t.badges[e].minVisibleSize.get(n),image:{url:t.badges[e].image.url.get(n),scale:t.badges[e].image.scale.get(n)},stroke:{color:t.badges[e].stroke.color.get(n),width:t.badges[e].stroke.width.get(n),scalingMethod:t.badges[e].stroke.scalingMethod.get(n)},text:{content:t.badges[e].text.content.get(n),color:t.badges[e].text.color.get(n),font:t.badges[e].text.font.get(n),style:t.badges[e].text.style.get(n),scale:t.badges[e].text.scale.get(n),paddingLeft:t.badges[e].text.paddingLeft.get(n),paddingTop:t.badges[e].text.paddingTop.get(n)}}),Is={topLeft:th("topLeft"),topRight:th("topRight"),bottomLeft:th("bottomLeft"),bottomRight:th("bottomRight")},bi={stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),innerStroke:(e,t)=>({width:e.innerStroke.width.get(t),scalingMethod:e.innerStroke.scalingMethod.get(t),color:e.innerStroke.color.get(t),minVisibleSize:e.innerStroke.minVisibleSize.get(t)}),outerStroke:(e,t)=>({width:e.outerStroke.width.get(t),scalingMethod:e.outerStroke.scalingMethod.get(t),color:e.outerStroke.color.get(t),minVisibleSize:e.outerStroke.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t),strokeColor:e.halo.strokeColor.get(t),strokeWidth:e.halo.strokeWidth.get(t),clustering:e.halo.clustering.get(t),hideNonAdjacentEdges:e.halo.hideNonAdjacentEdges.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),backgroundColor:e.text.backgroundColor.get(t),tip:e.text.tip.get(t),minVisibleSize:e.text.minVisibleSize.get(t),scaling:e.text.scaling.get(t),position:e.text.position.get(t),maxLineLength:e.text.maxLineLength.get(t),truncateLength:e.text.truncateLength.get(t),secondary:bi["text.secondary"](e,t)}),image:(e,t)=>({url:e.image.url.get(t),scale:e.image.scale.get(t),fit:e.image.fit.get(t),tile:e.image.tile.get(t),minVisibleSize:e.image.minVisibleSize.get(t)}),icon:(e,t)=>({content:e.icon.content.get(t),font:e.icon.font.get(t),color:e.icon.color.get(t),scale:e.icon.scale.get(t),style:e.icon.style.get(t),minVisibleSize:e.icon.minVisibleSize.get(t)}),badges:(e,t)=>({topLeft:Is.topLeft(e,t),topRight:Is.topRight(e,t),bottomLeft:Is.bottomLeft(e,t),bottomRight:Is.bottomRight(e,t)}),"badges.topLeft":Is.topLeft,"badges.topRight":Is.topRight,"badges.bottomLeft":Is.bottomLeft,"badges.bottomRight":Is.bottomRight,"badges.topLeft.image":Ku("topLeft"),"badges.topLeft.stroke":Ju("topLeft"),"badges.topLeft.text":eh("topLeft"),"badges.topRight.image":Ku("topRight"),"badges.topRight.stroke":Ju("topRight"),"badges.topRight.text":eh("topRight"),"badges.bottomLeft.image":Ku("bottomLeft"),"badges.bottomLeft.stroke":Ju("bottomLeft"),"badges.bottomLeft.text":eh("bottomLeft"),"badges.bottomRight.image":Ku("bottomRight"),"badges.bottomRight.stroke":Ju("bottomRight"),"badges.bottomRight.text":eh("bottomRight"),all:(e,t)=>({x:e.x.get(t),y:e.y.get(t),radius:e.radius.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),shape:e.shape.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),draggable:e.draggable.get(t),layoutable:e.layoutable.get(t),innerStroke:bi.innerStroke(e,t),outerStroke:bi.outerStroke(e,t),badges:bi.badges(e,t),halo:bi.halo(e,t),pulse:bi.pulse(e,t),icon:bi.icon(e,t),image:bi.image(e,t),outline:bi.outline(e,t),text:bi.text(e,t)})},Ms={shape:(e,t)=>({body:e.shape.body.get(t),head:e.shape.head.get(t),tail:e.shape.tail.get(t),style:e.shape.style.get(t)}),"text.secondary":(e,t)=>({content:e.text.secondary.content.get(t),font:e.text.secondary.font.get(t),color:e.text.secondary.color.get(t),size:e.text.secondary.size.get(t),scale:e.text.secondary.scale.get(t),style:e.text.secondary.style.get(t),align:e.text.secondary.align.get(t),margin:e.text.secondary.margin.get(t),padding:e.text.secondary.padding.get(t),backgroundColor:e.text.secondary.backgroundColor.get(t),minVisibleSize:e.text.secondary.minVisibleSize.get(t)}),text:(e,t)=>({content:e.text.content.get(t),font:e.text.font.get(t),color:e.text.color.get(t),size:e.text.size.get(t),scale:e.text.scale.get(t),style:e.text.style.get(t),align:e.text.align.get(t),margin:e.text.margin.get(t),padding:e.text.padding.get(t),position:e.text.position.get(t),backgroundColor:e.text.backgroundColor.get(t),minVisibleSize:e.text.minVisibleSize.get(t),adjustAngle:e.text.adjustAngle.get(t),scaling:e.text.scaling.get(t),maxLineLength:e.text.maxLineLength.get(t),secondary:Ms["text.secondary"](e,t)}),outline:(e,t)=>({enabled:e.outline.enabled.get(t),color:e.outline.color.get(t),minVisibleSize:e.outline.minVisibleSize.get(t)}),pulse:(e,t)=>({enabled:e.pulse.enabled.get(t),duration:e.pulse.duration.get(t),interval:e.pulse.interval.get(t),startColor:e.pulse.startColor.get(t),endColor:e.pulse.endColor.get(t),width:e.pulse.width.get(t),startRatio:e.pulse.startRatio.get(t),endRatio:e.pulse.endRatio.get(t)}),stroke:(e,t)=>({color:e.stroke.color.get(t),width:e.stroke.width.get(t),scalingMethod:e.stroke.scalingMethod.get(t),minVisibleSize:e.stroke.minVisibleSize.get(t)}),halo:(e,t)=>({color:e.halo.color.get(t),width:e.halo.width.get(t),scalingMethod:e.halo.scalingMethod.get(t)}),all:(e,t)=>({width:e.width.get(t),scalingMethod:e.scalingMethod.get(t),color:e.color.get(t),opacity:e.opacity.get(t),minVisibleSize:e.minVisibleSize.get(t),layer:e.layer.get(t),detectable:e.detectable.get(t),curvature:e.curvature.get(t),adjustAnchors:e.adjustAnchors.get(t),shape:Ms.shape(e,t),stroke:Ms.stroke(e,t),halo:Ms.halo(e,t),pulse:Ms.pulse(e,t),outline:Ms.outline(e,t),text:Ms.text(e,t)})};function Iv(e,t,n,r=!0){if((t=t||e)._flexArray!==void 0)return u2(t,n);let i={check:Ni,get:ft,set:ft,nested:{}};if(Hc(t)||t._alias){const s=Hc(t)?t:t._alias;i=u2(an(e,s),s)}else{if(t._set?(i.set=t._set,i.check=t._check):(i.set=ft,i.check=ft),t._get)i.get=t._get;else{const s=r?bi:Ms;i.get=s[n||"all"]}i.nested={}}if(!Hc(t)){const s=Object.keys(t);for(const o of s){const a=t[o];o.startsWith("_")||(i.nested[o]=Iv(e,a,n?n+"."+o:o,r))}}return i}var WU=Iv(eP,void 0,void 0,!0),XU=Iv(zM,void 0,void 0,!1),YU=[];function h2(e){let t=YU;return e.output===void 0?(typeof e.attributes=="function"&&(t="all"),bn(e.attributes)&&(t=la(e.attributes))):e.output&&(t=e.output.attributes),Mv(t,e.allAttributePaths)}function qU(e,t,n,r){if(r>n){for(const i of t.attributes)for(const s of e.attributes)if(s===i)return!0}for(const i of t.tags)for(const s of e.tags)if(i===s)return!0;return!1}function Oi(e,t,n,r,i,s){qU(n,r,i,s)&&e.push(t)}function ZU(e){let t=e.dependencies;t===void 0?t=fU:bn(t)||(t={});const n=Hp(e.attributes).some(o=>typeof o=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);let s=t.adjacentEdges;return!s&&t.adjacentNodes&&(s=!0),{self:Wi(t.self,i,e.allAttributePaths),adjacentNodes:Wi(t.adjacentNodes,i,e.allAttributePaths),adjacentEdges:Wi(s,i,e.allAttributePaths),allNodes:Wi(t.allNodes,i,e.allAttributePaths),allEdges:Wi(t.allEdges,i,e.allAttributePaths)}}function QU(e){let t=e.dependencies;t===void 0?t=_U:bn(t)||(t={});const n=Hp(e.attributes).some(s=>typeof s=="function"),r=e.selector&&!e.standaloneSelector,i=!(!n&&!r);return{self:Wi(t.self,i,e.allAttributePaths),extremities:Wi(t.extremities,i,e.allAttributePaths),parallelEdges:Wi(t.parallelEdges,i,e.allAttributePaths),allNodes:Wi(t.allNodes,i,e.allAttributePaths),allEdges:Wi(t.allEdges,i,e.allAttributePaths)}}function Wi(e,t,n){if(!t)return{attributes:[],tags:[]};if(e===!0)return{attributes:[],tags:[A_]};const r={attributes:Mv((e=e||{}).attributes,n),tags:e$(e.tags)};return e.data&&r.tags.push(C_),e.selection&&r.tags.push(nn),e.hover&&r.tags.push(Bc),r}function KU(e){return Array.isArray(e)?e.join("."):e}function JU(e){return e.map(KU).filter(Hc)}function Mv(e,t){if(e==="all")return t.slice();if(!Array.isArray(e))return[];const n=JU(e);return t?t.filter(r=>n.some(i=>r.startsWith(i))):n}function e$(e){return Array.isArray(e)?e.filter(Hc):[]}var Pv={};qd(Pv,{cubicIn:()=>i$,cubicInOut:()=>o$,cubicOut:()=>s$,linear:()=>Yg,quadraticIn:()=>t$,quadraticInOut:()=>r$,quadraticOut:()=>n$});var Yg=e=>e,t$=e=>e*e,n$=e=>e*(2-e),r$=e=>(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1),i$=e=>e*e*e,s$=e=>--e*e*e+1,o$=e=>(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2),g2={storage:1,default:0},qg=class{constructor({graph:e,isNode:t,includeRemovedElements:n}){this._all=!1,this._isNode=t,this._graph=e,this._includeRemovedElements=n,this._eltList=t?this._graph.nodeList:this._graph.edgeList,this._flexArray=t?e.createNodeAttribute(g2,!1):e.createEdgeAttribute(g2,!1),this._all=!1,this._indexList=e.createIndexList(t)}_getAllIndexes(){const e=this._isNode?this._graph.getNodeMaxIndex():this._graph.getEdgeMaxIndex(),t=new Uint32Array(e);for(let n=1;n<=e;++n)t[n-1]=n;return t}addAll(){this._all=!0}add(e){if(!this._all)for(let t=0;t<e._indexes.length;t++){const n=e._indexes[t];this.addIndex(n)}}addIndex(e){this._flexArray.get(e)===0&&(this._flexArray.set(e,1),this._indexList.push(e))}isEmpty(){return!this._all&&this._indexList.isEmpty()}isFull(){return this._all}getListAndClear(){const e=this.getList();return this.clear(),e}getList(){let e;if(this._all&&!this._includeRemovedElements)e=this._isNode?this._graph.getNodes("all"):this._graph.getEdges("all");else{const t=this._all?this._getAllIndexes():this._indexList.slice();e=this._eltList(t)}return e}clear(){this._all=!1,this._indexList.isEmpty()||(this._indexList.reset(),this._flexArray.reset())}addSet(e){if(e._all)this.addAll();else{const t=e._indexList.getBuffer(),n=e._indexList.getLength();for(let r=0;r<n;++r)this.addIndex(t[r])}}};function tP(e,t=[],n=""){return e.constructor===Rg?e.isInitialized()&&t.push(n):e.constructor===Object&&Object.keys(e).forEach(r=>{tP(e[r],t,n?n+"."+r:r)}),t}var p2=class{constructor(e,t,n){this._updatedAttributes=new Set,this._updatedAttributesTmp=new Set,this._allUsedAttributes=new Set,this._graph=e,this._eltName=t?"node":"edge",this._accessors=t?WU:XU,this._createFlexArrays=n;const r=this._createFlexArrays(e,{original:!0,useDefaultValues:!0});this._finalFlexArrays=r;const i=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._prevFlexArrays=i;const s=this._createFlexArrays(e,{original:!1,useDefaultValues:!0});this._defaultFlexArrays=s,this._currentFlexArrays=this._defaultFlexArrays,this.setLastFlexArrays(this._defaultFlexArrays),this._elementsToRedraw=new qg({graph:e,isNode:t,includeRemovedElements:!0}),this._elementsUpdated=new qg({graph:e,isNode:t,includeRemovedElements:!1}),this._finalFlexArraysWrapped=Se(St(Se({},this._finalFlexArrays),{excluded:e.getAttribute(t,"excluded"),textHidden:e.getAttribute(t,"textHidden"),animationStart:e.createAttribute(t,gU),animationDuration:e.createAttribute(t,pU),animationEasing:e.createAttribute(t,mU),id:this._graph.getAttribute(t,"id")}),!t&&{source:e.getEdgeAttribute("source"),target:e.getEdgeAttribute("target")})}clear(){this._elementsToRedraw.clear(),this._elementsUpdated.clear(),this._updatedAttributes.clear(),this._updatedAttributesTmp.clear()}getAttributeFlexArrays(){return this._finalFlexArraysWrapped}getPrevAttributeFlexArrays(){return this._prevFlexArrays}getAnimationInformation(e){const t=e._indexes,n=Array(t.length),r=this._finalFlexArraysWrapped;for(let i=0;i<t.length;i++){const s=t[i];n[i]={duration:r.animationDuration.get(s),start:r.animationStart.get(s),easing:r.animationEasing.get(s)}}return n}setDefaultAttributes(e){la(e).forEach(t=>{const n=an(this._currentFlexArrays,t),r=an(this._prevFlexArrays,t),i=an(this._defaultFlexArrays,t),s=an(this._finalFlexArrays,t);if(!n)return;const o=an(e,t);n.setDefaultValue(o),i.setDefaultValue(o),r.setDefaultValue(o),s.setDefaultValue(o)}),this.redrawAll()}startUpdate(){}prepareFlexArraysUpdate(e){this._currentFlexArrays=e.inputFlexArrays}setLastFlexArrays(e){this._lastFlexArrays=e}updateFlexArrays(e){const{attributes:t,selector:n,context:r,outputFlexArrays:i,toUpdate:s,formattedOutput:o}=e;this._elementsUpdated.addSet(s),this._elementsToRedraw.addSet(s);const a=s.getListAndClear();if(t&&a.size){const{valid:l,invalid:c}=UN(this._graph,a,n,r);for(const d of o.attributes){const u=an(i,d);for(let h=0;h<c._indexes.length;h++){const g=c._indexes[h];u.set(g,void 0)}}this._assignAttributesToFlexArrays(this._accessors,i,l,t,r),this._addUpdatedAttributes(e)}}endUpdate(){const e=this._elementsUpdated.getList(),t=gc(this._updatedAttributesTmp);for(const n of t){const r=an(this._lastFlexArrays,n),i=an(this._finalFlexArrays,n);for(let s=0;s<e._indexes.length;s++){const o=e._indexes[s];i.set(o,r.get(o))}}this._updatedAttributesTmp.clear(),this._currentFlexArrays=this._finalFlexArrays}setAttributeValues(e,t,n,r,i){const s=e.outputFlexArrays,o=this._accessors;this._assignAttributesToFlexArrays(o,s,t,n,null),this._addUpdatedAttributes(e,r),this._elementsUpdated.add(t),this._elementsToRedraw.add(t)}notifyLayerDestroyed(e){this._addUpdatedAttributes(e)}_addUpdatedAttributes(e,t){const{outputFlexArrays:n,formattedOutput:r}=e,i=Array.isArray(t)?Mv(t):r.attributes;for(const s of i)an(n,s).isInitialized()&&(this._updatedAttributes.add(s),this._updatedAttributesTmp.add(s),this._allUsedAttributes.add(s))}addUpdatedAttribute(e){this._updatedAttributes.add(e),this._updatedAttributesTmp.add(e),this._allUsedAttributes.add(e)}getUsedAttributeNames(e){return tP(e.outputFlexArrays)}redrawElements(e){this._elementsToRedraw.add(e)}redrawAll(){this._elementsToRedraw.addAll()}getAndResetElementsToRedraw(){return this._elementsToRedraw.getListAndClear()}getAndResetElementsUpdated(){return this._elementsUpdated.getListAndClear()}getAndResetAttributesUpdated(){const e=gc(this._updatedAttributes);return this._updatedAttributes.clear(),e}getUpdatedAttributes(){return this._updatedAttributes}getUpdatedElementsList(){return this._elementsUpdated.getList()}getUpdatedAttributesSet(){return new Set(this._updatedAttributes)}createFlexArrays(){return this._createFlexArrays(this._graph,{original:!1,useDefaultValues:!1})}getAttributeValues(e,t,n,r){const i=r?this._prevFlexArrays:this._currentFlexArrays;return n?this._getMultipleAttributeValues(e,t,i):this._getSingleAttributeValues(e,t,i)}_getAccessor(e=""){let t=this._accessors;const n=oa(e);for(const r of n)if(t=t.nested[r],!t)throw new Error(`${this._eltName} attribute "${n.join("")}" does not exist`);return t}_getSingleAttributeValues(e,t,n){const r=this._getAccessor(t),i=e._indexes,s=Array(i.length);for(let o=0;o<i.length;o++)s[o]=r.get(n,i[o]);return s}_getMultipleAttributeValues(e,t,n){if(!t||t==="all")return this._getSingleAttributeValues(e,"",n);const r=Array(e.size);for(let i=0;i<r.length;++i)r[i]={};for(let i=0;i<t.length;i++){const s=t[i],o=this._getSingleAttributeValues(e,s,n);for(let a=0;a<r.length;++a)Zi(r[a],s,o[a])}return r}setAnimationAttributes(e,{duration:t,startTime:n,easing:r}){const i=e._indexes,s=this._finalFlexArraysWrapped,o=s.animationDuration,a=s.animationStart,l=s.animationEasing,c=gc(this._allUsedAttributes);if(t){let d=!1;for(const u of c){if(u==="x"||u==="y"){d=!0;continue}const h=an(this._finalFlexArrays,u),g=an(this._prevFlexArrays,u);for(let p=0;p<i.length;p++){const m=i[p];g.set(m,h.get(m))}}if(d){const u=rr(),h=this._finalFlexArrays.x,g=this._finalFlexArrays.y,p=this._prevFlexArrays.x,m=this._prevFlexArrays.y;for(let _=0;_<i.length;_++){const y=i[_],f=o.get(y);if(f){const x=a.get(y),v=l.get(y),w=(Pv[v]||Yg)(Math.min((u-x)/f,1)),b=x_(p.get(y),h.get(y),w),S=x_(m.get(y),g.get(y),w);p.set(y,b),m.set(y,S)}else p.set(y,h.get(y)),m.set(y,g.get(y))}}}o.fill(i,t),a.fill(i,n),l.fill(i,r)}resetAnimationAttributes(e){this._finalFlexArraysWrapped.animationDuration.fill(e._indexes,0)}getUsedAttributes(){return gc(this._allUsedAttributes)}getDefaultFlexArrays(){return this._defaultFlexArrays}_assignAttributesToFlexArrays(e,t,n,r,i,s=[]){if(typeof r=="function"){const o=s.join(".");for(let a=0;a<n.size;++a){const l=n.get(a);if(l){const c=r(l,i,o);this._assignSingleValueToFlexArray(t,l,e,c,s)}}}else if(bn(r)){const o=Object.keys(r);for(let a=0;a<o.length;++a){const l=o[a];s.push(l);const c=this._getNestedAccessor(e,l,s),d=r[l];this._assignAttributesToFlexArrays(c,t,n,d,i,s),s.pop()}}else if((Array.isArray(r)||ArrayBuffer.isView(r))&&s[0]!=="color")if(s.length===0)for(let o=0;o<n.size;++o)this._assignSingleValueToFlexArray(t,n.get(o),e,r[o],s);else for(let o=0;o<n.size;++o){const a=n._indexes[o],l=e.check(r[o]);e.set(t,a,l)}else{const o=e.check(r);for(let a=0;a<n.size;++a){const l=n.get(a);e.set(t,l._index,o)}}}_getNestedAccessor(e,t,n){const r=e.nested[t];if(!r)throw new Error(`${this._eltName} attribute "${n.join(".")}" does not exist`);return r}_assignSingleValueToFlexArray(e,t,n,r,i){if(bn(r)){const s=Object.keys(r);for(const o of s){i.push(o);const a=r[o],l=this._getNestedAccessor(n,o,i);this._assignSingleValueToFlexArray(e,t,l,a,i),i.pop()}}else{const s=n.check(r);n.set(e,t._index,s)}}};function a$(e,{original:t,useDefaultValues:n}){const r="resource";return{width:e.createAttribute(!1,{storage:r,default:n?B_:void 0,name:"width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?rM:void 0,name:"scalingMethod"},t),color:e.createAttribute(!1,{storage:r,default:n?iM:void 0,name:"color"},t),opacity:e.createAttribute(!1,{storage:r,default:n?sM:void 0,name:"opacity"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?oM:void 0,name:"minVisibleSize"},t),layer:e.createAttribute(!1,{storage:r,default:n?aM:void 0,name:"layer"},t),detectable:e.createAttribute(!1,{storage:r,default:n?lM:void 0,name:"detectable"},t),curvature:e.createAttribute(!1,{storage:r,default:n?cM:void 0,name:"curvature"},t),adjustAnchors:e.createAttribute(!1,{storage:r,default:n?dM:void 0,name:"adjustAnchors"},t),shape:{body:e.createAttribute(!1,{storage:r,default:n?uM:void 0,name:"shape.body"},t),head:e.createAttribute(!1,{storage:r,default:n?hM:void 0,name:"shape.head"},t),tail:e.createAttribute(!1,{storage:r,default:n?gM:void 0,name:"shape.tail"},t),style:e.createAttribute(!1,{storage:r,default:n?pM:void 0,name:"shape.style"},t)},stroke:{color:e.createAttribute(!1,{storage:r,default:n?mM:void 0,name:"stroke.color"},t),width:e.createAttribute(!1,{storage:r,default:n?j_:void 0,name:"stroke.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?fM:void 0,name:"stroke.scalingMethod"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?_M:void 0,name:"stroke.minVisibleSize"},t)},halo:{color:e.createAttribute(!1,{storage:r,default:n?yM:void 0,name:"halo.color"},t),width:e.createAttribute(!1,{storage:r,default:n?U_:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!1,{storage:r,default:n?xM:void 0,name:"halo.scalingMethod"},t)},pulse:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!1,{storage:r,default:n?vM:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!1,{storage:r,default:n?bM:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!1,{storage:r,default:n?wM:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!1,{storage:r,default:n?EM:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!1,{storage:r,default:n?SM:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!1,{storage:r,default:n?kM:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!1,{storage:r,default:n?AM:void 0,name:"pulse.endRatio"},t)},outline:{enabled:e.createAttribute(!1,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!1,{storage:r,default:n?CM:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?TM:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!1,{storage:r,default:n?pr:void 0,name:"text.font"},t),color:e.createAttribute(!1,{storage:r,default:n?_o:void 0,name:"text.color"},t),size:e.createAttribute(!1,{storage:r,default:n?Al:void 0,name:"text.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?bU:void 0,name:"text.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?LM:void 0,name:"text.style"},t),align:e.createAttribute(!1,{storage:r,default:n?NM:void 0,name:"text.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?IM:void 0,name:"text.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?$_:void 0,name:"text.padding"},t),position:e.createAttribute(!1,{storage:r,default:n?MM:void 0,name:"text.position"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?Wg:void 0,name:"text.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?PM:void 0,name:"text.minVisibleSize"},t),adjustAngle:e.createAttribute(!1,{storage:r,default:n?FM:void 0,name:"text.adjustAngle"},t),scaling:e.createAttribute(!1,{storage:r,default:n?KI:void 0,name:"text.scaling"},t),maxLineLength:e.createAttribute(!1,{storage:r,default:n?JI:void 0,name:"text.maxLineLength"},t),secondary:{content:e.createAttribute(!1,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!1,{storage:r,default:n?pr:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!1,{storage:r,default:n?_o:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!1,{storage:r,default:n?G_:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!1,{storage:r,default:n?YI:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!1,{storage:r,default:n?ZI:void 0,name:"text.secondary.style"},t),align:e.createAttribute(!1,{storage:r,default:n?QI:void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!1,{storage:r,default:n?DM:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!1,{storage:r,default:n?V_:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!1,{storage:r,default:n?qI:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!1,{storage:r,default:n?RM:void 0,name:"text.secondary.minVisibleSize"},t)}}}}function l$(e,{original:t,useDefaultValues:n}){const r="resource";return{x:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"x"},t),y:e.createAttribute(!0,{storage:"any",default:n?0:void 0,name:"y"},t),radius:e.createAttribute(!0,{storage:r,default:n?5:void 0,name:"radius"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"scaled":void 0,name:"scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?OM:void 0,name:"color"},t),opacity:e.createAttribute(!0,{storage:r,default:n?EU:void 0,name:"opacity"},t),shape:e.createAttribute(!0,{storage:r,default:n?SU:void 0,name:"shape"},t),layer:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"layer"},t),detectable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"detectable"},t),draggable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"draggable"},t),layoutable:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"layoutable"},t),innerStroke:{width:e.createAttribute(!0,{storage:r,default:n?Cv:void 0,name:"innerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"innerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?BM:void 0,name:"innerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?W_:void 0,name:"innerStroke.minVisibleSize"},t)},outerStroke:{width:e.createAttribute(!0,{storage:r,default:n?Tv:void 0,name:"outerStroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"outerStroke.scalingMethod"},t),color:e.createAttribute(!0,{storage:r,default:n?jM:void 0,name:"outerStroke.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?H_:void 0,name:"outerStroke.minVisibleSize"},t)},badges:{topLeft:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?qu:void 0,name:"badges.topLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.topLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?el:void 0,name:"badges.topLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topLeft.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.topLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.topLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topLeft.text.paddging.top"},t)}},topRight:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.topRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.topRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?qu:void 0,name:"badges.topRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.topRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.topRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?el:void 0,name:"badges.topRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"badges.topRight.stroke.scalingMethod"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.topRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.topRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.topRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.topRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.topRight.text.scale"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.left"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.topRight.text.paddging.top"},t)}},bottomLeft:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomLeft.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomLeft.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?qu:void 0,name:"badges.bottomLeft.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomLeft.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.bottomLeft.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?el:void 0,name:"badges.bottomLeft.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomLeft.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomLeft.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.bottomLeft.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.bottomLeft.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomLeft.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomLeft.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomLeft.text.paddging.top"},t)}},bottomRight:{color:e.createAttribute(!0,{storage:r,default:n?_c:void 0,name:"badges.bottomRight.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.45:void 0,name:"badges.bottomRight.scale"},t),positionScale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.positionScale"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?qu:void 0,name:"badges.bottomRight.minVisibleSize"},t),image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"badges.bottomRight.image.scale"},t)},stroke:{color:e.createAttribute(!0,{storage:r,default:n?yc:void 0,name:"badges.bottomRight.stroke.color"},t),width:e.createAttribute(!0,{storage:r,default:n?el:void 0,name:"badges.bottomRight.stroke.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:t?"badges.bottomRight.stroke.scalingMethod":void 0})},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"badges.bottomRight.text.content"},t),color:e.createAttribute(!0,{storage:r,default:n?xc:void 0,name:"badges.bottomRight.text.color"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"badges.bottomRight.text.font"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"badges.bottomRight.text.style"},t),scale:e.createAttribute(!0,{storage:r,default:n?.5:void 0,name:"badges.bottomRight.text.scale"},t),paddingLeft:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.left"},t),paddingTop:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"badges.bottomRight.text.paddging.top"},t)}}},halo:{color:e.createAttribute(!0,{storage:r,default:n?$M:void 0,name:"halo.color"},t),width:e.createAttribute(!0,{storage:r,default:n?Lv:void 0,name:"halo.width"},t),scalingMethod:e.createAttribute(!0,{storage:r,default:n?"fixed":void 0,name:"halo.scalingMethod"},t),strokeColor:e.createAttribute(!0,{storage:r,default:n?VM:void 0,name:"halo.strokeColor"},t),strokeWidth:e.createAttribute(!0,{storage:r,default:n?Nv:void 0,name:"halo.strokeWidth"},t),clustering:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.clustering"},t),hideNonAdjacentEdges:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"halo.hideNonAdjacentEdges"},t)},pulse:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"pulse.enabled"},t),duration:e.createAttribute(!0,{storage:r,default:n?HM:void 0,name:"pulse.duration"},t),interval:e.createAttribute(!0,{storage:r,default:n?WM:void 0,name:"pulse.interval"},t),startColor:e.createAttribute(!0,{storage:r,default:n?ZM:void 0,name:"pulse.startColor"},t),endColor:e.createAttribute(!0,{storage:r,default:n?qM:void 0,name:"pulse.endColor"},t),width:e.createAttribute(!0,{storage:r,default:n?QM:void 0,name:"pulse.width"},t),startRatio:e.createAttribute(!0,{storage:r,default:n?XM:void 0,name:"pulse.startRatio"},t),endRatio:e.createAttribute(!0,{storage:r,default:n?YM:void 0,name:"pulse.endRatio"},t)},icon:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"icon.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"icon.font"},t),color:e.createAttribute(!0,{storage:r,default:n?GM:void 0,name:"icon.color"},t),scale:e.createAttribute(!0,{storage:r,default:n?.7:void 0,name:"icon.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"icon.style"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"icon.minVisibleSize"},t)},image:{url:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"image.url"},t),scale:e.createAttribute(!0,{storage:r,default:n?1:void 0,name:"image.scale"},t),fit:e.createAttribute(!0,{storage:r,default:!!n||void 0,name:"image.fit"},t),tile:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"image.tile"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"image.minVisibleSize"},t)},outline:{enabled:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"outline.enabled"},t),color:e.createAttribute(!0,{storage:r,default:n?UM:void 0,name:"outline.color"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?12:void 0,name:"outline.minVisibleSize"},t)},text:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"text.font"},t),color:e.createAttribute(!0,{storage:r,default:n?_o:void 0,name:"text.color"},t),size:e.createAttribute(!0,{storage:r,default:n?Al:void 0,name:"text.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.1:void 0,name:"text.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?kv:void 0,name:"text.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Nd:void 0,name:"text.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Wg:void 0,name:"text.backgroundColor"},t),tip:e.createAttribute(!0,{storage:r,default:n?xU:void 0,name:"text.tip"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.minVisibleSize"},t),scaling:e.createAttribute(!0,{storage:r,default:!n&&void 0,name:"text.scaling"},t),position:e.createAttribute(!0,{storage:r,default:n?"bottom":void 0,name:"text.position"},t),maxLineLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.maxLineLength"},t),truncateLength:e.createAttribute(!0,{storage:r,default:n?0:void 0,name:"text.truncateLength"},t),secondary:{content:e.createAttribute(!0,{storage:r,default:n?null:void 0,name:"text.secondary.content"},t),font:e.createAttribute(!0,{storage:r,default:n?pr:void 0,name:"text.secondary.font"},t),color:e.createAttribute(!0,{storage:r,default:n?_o:void 0,name:"text.secondary.color"},t),size:e.createAttribute(!0,{storage:r,default:n?Av:void 0,name:"text.secondary.size"},t),scale:e.createAttribute(!0,{storage:r,default:n?.08:void 0,name:"text.secondary.scale"},t),style:e.createAttribute(!0,{storage:r,default:n?"normal":void 0,name:"text.secondary.style"},t),align:e.createAttribute(!0,{storage:r,default:n?"center":void 0,name:"text.secondary.align"},t),margin:e.createAttribute(!0,{storage:r,default:n?vU:void 0,name:"text.secondary.margin"},t),padding:e.createAttribute(!0,{storage:r,default:n?Nd:void 0,name:"text.secondary.padding"},t),backgroundColor:e.createAttribute(!0,{storage:r,default:n?Wg:void 0,name:"text.secondary.backgroundColor"},t),minVisibleSize:e.createAttribute(!0,{storage:r,default:n?24:void 0,name:"text.secondary.minVisibleSize"},t)}}}}var c$=class{constructor(e){this.nodes=new p2(e,!0,l$),this.edges=new p2(e,!1,a$)}setNodeDefaultAttributes(e){this.nodes.setDefaultAttributes(e)}setEdgeDefaultAttributes(e){this.edges.setDefaultAttributes(e)}getFlexArrays(){return{nodes:{current:this.nodes.getAttributeFlexArrays(),previous:this.nodes.getPrevAttributeFlexArrays()},edges:{current:this.edges.getAttributeFlexArrays(),previous:this.edges.getPrevAttributeFlexArrays()}}}redrawAll(){this.nodes.redrawAll(),this.edges.redrawAll()}clear(){this.nodes.clear(),this.edges.clear()}redrawElements(e){this._fetch(e).redrawElements(e)}getAnimationInformation(e){return this._fetch(e).getAnimationInformation(e)}redrawNodes(e){this.nodes.redrawElements(e)}getUsedAttributes(e,t){return this._fetch(t).getUsedAttributeNames(t.isNode?e.nodes:e.edges)}startUpdate(){this.nodes.startUpdate(),this.edges.startUpdate()}notifyDestroyed(e){this.nodes.notifyLayerDestroyed(e.nodes),this.edges.notifyLayerDestroyed(e.edges)}prepareUpdate(e){this.nodes.prepareFlexArraysUpdate(e.nodes),this.edges.prepareFlexArraysUpdate(e.edges)}onUpdate(e){this.nodes.updateFlexArrays(e.nodes),this.edges.updateFlexArrays(e.edges)}afterLayersUpdate(){this.nodes.endUpdate(),this.edges.endUpdate()}getAndResetElementsToRedraw(){return{nodes:this.nodes.getAndResetElementsToRedraw(),edges:this.edges.getAndResetElementsToRedraw()}}getAndResetElementsUpdated(){const e=this.nodes,t=this.edges;return{nodes:e.getAndResetElementsUpdated(),edges:t.getAndResetElementsUpdated(),nodeAttributesSet:e.getUpdatedAttributesSet(),nodeAttributes:e.getAndResetAttributesUpdated(),edgeAttributes:t.getAndResetAttributesUpdated()}}setAnimationAttributes({nodes:e,edges:t},n){this.nodes.setAnimationAttributes(e,n),this.edges.setAnimationAttributes(t,n)}resetAnimationAttributes({nodes:e,edges:t}){this.nodes.resetAnimationAttributes(e),this.edges.resetAnimationAttributes(t)}setLastOutput(e,t){this.nodes.setLastFlexArrays(e),this.edges.setLastFlexArrays(t)}getCurrentInput(){const e=cn(this.nodes.getDefaultFlexArrays()),t=cn(this.edges.getDefaultFlexArrays());return{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:la(e),allEdgeAttributePaths:la(t)}}initializeLayer(e,t,n){e.nodes.allAttributePaths=t,e.edges.allAttributePaths=n,e.nodes.formattedDependencies=ZU(e.nodes),e.edges.formattedDependencies=QU(e.edges),e.nodes.formattedOutput={attributes:h2(e.nodes),tags:e.tag?[e.tag]:[]},e.edges.formattedOutput={attributes:h2(e.edges),tags:e.tag?[e.tag]:[]},e.nodes.redrawAdjacentEdges=e.nodes.formattedOutput.attributes.some(r=>yU[r]),e.initialized=!0}connectLayerInputOutput(e,t,n){const r=e.nodes.formattedOutput,i=e.edges.formattedOutput;for(const s of r.attributes){const o=an(t,s),a=an(e.nodes.outputFlexArrays,s);a.setFallback(o),Zi(t,s,a)}for(const s of i.attributes){const o=an(n,s),a=an(e.edges.outputFlexArrays,s);a.setFallback(o),Zi(n,s,a)}}setupLayerDependencies(e,t){if(e===t)return;const n=e.priority,r=t.priority,i=e.nodes.formattedOutput,s=e.edges.formattedOutput,o=t.nodes.formattedDependencies,a=t.edges.formattedDependencies;Oi(e.depsNodeSelf,t,i,o.self,n,r),Oi(e.depsNodeAdjacentNodes,t,i,o.adjacentNodes,n,r),Oi(e.depsNodeAdjacentEdges,t,s,a.extremities,n,r),Oi(e.depsNodeAllNodes,t,i,o.allNodes,n,r),Oi(e.depsNodeAllEdges,t,s,a.allNodes,n,r),Oi(e.depsEdgeSelf,t,s,a.self,n,r),Oi(e.depsEdgeExtremities,t,i,o.adjacentEdges,n,r),Oi(e.depsEdgeParallelEdges,t,s,a.parallelEdges,n,r),Oi(e.depsEdgeAllNodes,t,i,o.allEdges,n,r),Oi(e.depsEdgeAllEdges,t,s,a.allEdges,n,r)}createAttributeLayerData(e,t,n,{tag:r,onBeforeUpdate:i,standaloneSelectors:s}){const o=!!s;return{index:-1,id:t,name:e,tag:r||null,priority:0,depsNodeSelf:[],depsNodeAdjacentNodes:[],depsNodeAdjacentEdges:[],depsNodeAllNodes:[],depsNodeAllEdges:[],depsEdgeSelf:[],depsEdgeExtremities:[],depsEdgeParallelEdges:[],depsEdgeAllNodes:[],depsEdgeAllEdges:[],initialized:!1,onBeforeUpdate:i,nodes:{type:"node",name:e,standaloneSelector:o,toUpdate:new qg({graph:n,isNode:!0,includeRemovedElements:!1}),outputFlexArrays:this.nodes.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null},edges:{type:"edge",name:e,standaloneSelector:o,toUpdate:new qg({graph:n,isNode:!1,includeRemovedElements:!1}),outputFlexArrays:this.edges.createFlexArrays(),inputFlexArrays:null,formattedDependencies:null,formattedOutput:null}}}setAttributeValues(e,t,n,r,i){this._fetch(t).setAttributeValues(e,t,n,r,i)}getAttributeValues(e,t,n,r){return this._fetch(e).getAttributeValues(e,t,n,r)}_fetch(e){return e.isNode?this.nodes:this.edges}},d$=(e,t)=>new hU(e,t),u$=class{constructor(e,{graph:t,dom:n}){this._layerIdCounter=0,this._layers=[],this._destroyedLayers=[],this._layersNeedUpdate=!1,this._updateOngoing=!1,this._needUpdate=!1,this._ogma=e,this._graph=t,this._dom=n,this._emptySubgraph={nodes:e.nodeList(),edges:e.edgeList()},this._textHiddenSet=new Kd(this._graph,"textHidden"),this._layerController=new c$(this._graph)}_getLayerById(e){for(let t=0;t<this._layers.length;++t){const n=this._layers[t];if(n.id===e)return n.index=t,n}throw new Error("usage of a destroyed style rule or class")}setDefaultAttributes(e,t){this._layerController.setNodeDefaultAttributes(e),this._layerController.setEdgeDefaultAttributes(t)}getFlexArrays(){return this._layerController.getFlexArrays()}clear(){this._updateOngoing=!1,this._needUpdate=!1,this._destroyedLayers=[],this._layerController.clear(),this.updateAllForAllAttributeLayers()}redrawElements(e){e.size&&(this._layerController.redrawElements(e),this._dom.refresh())}redrawAll(){this._layerController.redrawAll(),this._dom.refresh()}_triggerUpdate(){this._needUpdate=!0,this._dom.refresh()}_reconstructAttributeLayersIfNecessary(){return!!this._layersNeedUpdate&&(this._reconstructAttributeLayers(),this._layersNeedUpdate=!1,this._dom.refresh(),!0)}getAnimationInformation(e){return this._layerController.getAnimationInformation(e)}update(){if(!this._needUpdate||this._updateOngoing||!this._ogma._token)return!1;this._reconstructAttributeLayersIfNecessary(),this._updateOngoing=!0,this._layerController.startUpdate();for(const e of this._destroyedLayers)e.initialized&&this._layerController.notifyDestroyed(e);for(const e of this._layers)this._layerController.prepareUpdate(e),typeof e.onBeforeUpdate=="function"&&e.onBeforeUpdate(e,this,this._layerController),this._layerController.onUpdate(e);return this._layerController.afterLayersUpdate(),this._updateOngoing=!1,this._needUpdate=!1,!0}setAttributeLayerValues(e,t,n,r){const i=this._getLayerById(e),s=t.isNode?i.nodes:i.edges;this._reconstructAttributeLayersIfNecessary(),this._layerController.setAttributeValues(s,t,n,r,i),this._updateElementsForAttributeLayers([i],t)}getAttributeLayerFlexArrays(e){const t=this._getLayerById(e);return{nodes:t.nodes.outputFlexArrays,edges:t.edges.outputFlexArrays}}getUsedAttributeLayerAttributes(e,t){const n=this._getLayerById(e);return this._layerController.getUsedAttributes(n,t)}getUpdatedElements(){return{elementsToRedraw:this._layerController.getAndResetElementsToRedraw(),elementsUpdated:this._layerController.getAndResetElementsUpdated()}}addAttributeLayer(e){const{name:t,layerFactory:n=d$}=e;if(!t)throw new Error("Attribute layer must have a name");if(t&&this._layers.find(i=>i.name===t))throw new Error(`attribute layer with name "${e.name}" already exists`);const r=this._layerController.createAttributeLayerData(t,++this._layerIdCounter,this._graph,e);return this._layers.push(r),this._updateLayer(r,e),n(this,this._layerIdCounter)}_reconstructAttributeLayers(){this._layers.sort((i,s)=>i.priority-s.priority);const{currentNodeFlexArrays:e,currentEdgeFlexArrays:t,allNodeAttributePaths:n,allEdgeAttributePaths:r}=this._layerController.getCurrentInput();for(const i of this._layers)this._layerController.initializeLayer(i,n,r);for(const i of this._layers){i.nodes.inputFlexArrays=cn(e),i.edges.inputFlexArrays=cn(t),i.depsNodeSelf=[],i.depsNodeAdjacentNodes=[],i.depsNodeAdjacentEdges=[],i.depsNodeAllNodes=[],i.depsNodeAllEdges=[],i.depsEdgeSelf=[],i.depsEdgeExtremities=[],i.depsEdgeParallelEdges=[],i.depsEdgeAllNodes=[],i.depsEdgeAllEdges=[],i.nodes.toUpdate.addAll(),i.edges.toUpdate.addAll(),this._layerController.connectLayerInputOutput(i,e,t);for(const s of this._layers)this._layerController.setupLayerDependencies(i,s)}this._layerController.setLastOutput(e,t);for(const i of this._layers)i.nodes.needAdjacentElements=i.nodes.redrawAdjacentEdges||i.depsNodeAdjacentNodes.length>0||i.depsNodeAdjacentEdges.length>0,i.edges.needAdjacentElements=i.depsEdgeExtremities.length>0||i.depsEdgeParallelEdges.length>0}_updateLayer(e,{priority:t,fullOverwrite:n,nodeAttributes:r,nodeSelector:i,nodeContext:s,nodeDependencies:o,nodeOutput:a,edgeAttributes:l,edgeSelector:c,edgeContext:d,edgeDependencies:u,edgeOutput:h}={}){r!==void 0&&(e.nodes.attributes=n?r:Lg(e.nodes.attributes,r)),i!==void 0&&(e.nodes.selector=i),s!==void 0&&(e.nodes.context=s),o!==void 0&&(e.nodes.dependencies=o),a!==void 0&&(e.nodes.output=a),l!==void 0&&(e.edges.attributes=n?l:Lg(e.edges.attributes,l)),c!==void 0&&(e.edges.selector=c),d!==void 0&&(e.edges.context=d),u!==void 0&&(e.edges.dependencies=u),h!==void 0&&(e.edges.output=h),t!==void 0&&(e.priority=t),this._triggerLayerUpdate()}_triggerLayerUpdate(){this._layersNeedUpdate=!0,this._triggerUpdate()}updateAllForAttributeLayer(e){const t=this._getLayerById(e);this._updateAllForAttributeLayer(t)}updateAllForAllAttributeLayers(){for(const e of this._layers)this._updateAllForAttributeLayer(e)}_updateAllForAttributeLayer(e,t=!0,n=!0){if(t&&!e.nodes.toUpdate.isFull()){e.nodes.toUpdate.addAll();for(const r of e.depsNodeSelf)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAdjacentEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsNodeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsNodeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}if(n&&!e.edges.toUpdate.isFull()){e.edges.toUpdate.addAll();for(const r of e.depsEdgeSelf)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeExtremities)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeParallelEdges)this._updateAllForAttributeLayer(r,!1,!0);for(const r of e.depsEdgeAllNodes)this._updateAllForAttributeLayer(r,!0,!1);for(const r of e.depsEdgeAllEdges)this._updateAllForAttributeLayer(r,!1,!0)}this._triggerUpdate()}updateElementsForAttributeLayer(e,t){const n=this._getLayerById(e);this._updateElementsForAttributeLayers([n],t)}updateForAllAttributeLayers(e){this._updateElementsForAttributeLayers(this._layers,e)}_updateElementsForAttributeLayers(e,t){let n=this._emptySubgraph;if(t.isNode){for(const r of e)if(!r.nodes.toUpdate.isFull()){r.nodes.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.nodes.toUpdate.add(t);for(const i of r.depsNodeSelf)i.nodes.toUpdate.add(t);for(const i of r.depsNodeAdjacentNodes)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsNodeAdjacentEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsNodeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsNodeAllEdges)this._updateAllForAttributeLayer(i,!1,!0);r.nodes.redrawAdjacentEdges&&this._layerController.redrawElements(n.edges)}}else for(const r of e)if(!r.edges.toUpdate.isFull()){r.edges.needAdjacentElements&&(n=n===this._emptySubgraph?t.fastGetAdjacentElements():n),r.edges.toUpdate.add(t);for(const i of r.depsEdgeSelf)i.edges.toUpdate.add(t);for(const i of r.depsEdgeExtremities)i.nodes.toUpdate.add(n.nodes);for(const i of r.depsEdgeParallelEdges)i.edges.toUpdate.add(n.edges);for(const i of r.depsEdgeAllNodes)this._updateAllForAttributeLayer(i,!0,!1);for(const i of r.depsEdgeAllEdges)this._updateAllForAttributeLayer(i,!1,!0)}this._triggerUpdate()}destroyAttributeLayer(e){const t=this._getLayerById(e);this._destroyedLayers.push(t),this._layers.splice(t.index,1),this._triggerLayerUpdate()}updateAttributeLayer(e,t){const n=this._getLayerById(e);this._updateLayer(n,t)}getAttributeLayerDefinition(e){const t=this._getLayerById(e),{priority:n,nodes:r,edges:i}=t;return{priority:n,nodeAttributes:r.attributes,nodeSelector:r.selector,nodeContext:r.context,nodeDependencies:r.dependencies,nodeOutput:r.output,edgeAttributes:i.attributes,edgeSelector:i.selector,edgeContext:i.context,edgeDependencies:i.dependencies,edgeOutput:i.output}}getAttributeValues(e,t,n,r){return this.update(),this._layerController.getAttributeValues(e,t,n,r)}setAnimationAttributes(e,t){return this._layerController.setAnimationAttributes(e,t)}resetAnimationAttributes(e){return this._layerController.resetAnimationAttributes(e)}setTextHidden(e,t){const n=this._textHiddenSet.addOrRemoveElements(e,t);this.redrawElements(n)}resetTextHidden(){const{nodes:e,edges:t}=this._textHiddenSet.getElements();this._textHiddenSet.clear(),this._layerController.redrawElements(e),this._layerController.redrawElements(t)}getUsedNodeAttributes(){return this._layerController.nodes.getUsedAttributes()}getUsedEdgeAttributes(){return this._layerController.edges.getUsedAttributes()}interpolateAttributes(e){const t=rr(),n=this._ogma.modules.graphics.getAttributesManager(),r=this._layerController,i=e.isNode?n.getUsedNodeAttributes():n.getUsedEdgeAttributes(),{animationDuration:s,animationEasing:o,animationStart:a}=r.getFlexArrays().nodes.current,l=s.getMultiple(e._indexes),c=o.getMultiple(e._indexes),d=a.getMultiple(e._indexes),u=[];for(let h=0;h<e.size;h++){const g={};i.forEach(p=>{const m=typeof p=="string"?p:p.join("."),_=an(r.getFlexArrays().nodes.previous,p),y=an(r.getFlexArrays().nodes.current,p);if(!y)return;const f=OI(t,d[h],l[h],c[h]);isNaN(f)?g[m]=y.get(e._indexes[h]):m.match(/color/gi)?g[m]=fc(_.get(e._indexes[h]),y.get(e._indexes[h]),f,f):g[m]=zt(_.get(e._indexes[h]),y.get(e._indexes[h]),f)}),u.push(g)}return u}},h$=1e-12;function m2(e){return((e=Math.exp(e))+1/e)/2}function g$(e){return((e=Math.exp(e))-1/e)/2}function p$(e){return((e=Math.exp(2*e))-1)/(e+1)}var m$=function e(t,n,r){function i(s,o){var a,l,c=s[0],d=s[1],u=s[2],h=o[0],g=o[1],p=o[2],m=h-c,_=g-d,y=m*m+_*_;if(y<h$)l=Math.log(p/u)/t,a=function(S){return[c+S*m,d+S*_,u*Math.exp(t*S*l)]};else{var f=Math.sqrt(y),x=(p*p-u*u+r*y)/(2*u*n*f),v=(p*p-u*u-r*y)/(2*p*n*f),w=Math.log(Math.sqrt(x*x+1)-x),b=Math.log(Math.sqrt(v*v+1)-v);l=(b-w)/t,a=function(S){var k=S*l,C=m2(w),A=u/(n*f)*(C*p$(t*k+w)-g$(w));return[c+A*m,d+A*_,u*C/m2(t*k+w)]}}return a.duration=1e3*l*t/Math.SQRT2,a}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o;return e(o,a,a*a)},i}(Math.SQRT2,2,4),f$=({graphWidth:e,graphHeight:t,viewWidth:n,viewHeight:r})=>.2*Math.min(n/e,r/t),_$=({smallestNodeSize:e,viewWidth:t,viewHeight:n})=>e===1/0?1/0:Math.min(t,n)/e*.5,X_=Math.SQRT2,Y_=.15,y$=class extends it{constructor(e,t){super(e),this._zooming=!1,this.debug=!1,this._smoothZoom=(n,r,i)=>{const s=this._modules.settings,o=s.get("interactions.zoom.duration"),a=s.get("interactions.zoom.easing"),l=this._modules.camera.getZoom(),c={duration:o,easing:a};this._zooming||(this._zooming=!0,this._updateVisibility("zoom",!0));const d=s.get("interactions.zoom.speed")||Y_;let u=bI(n,d);n<0&&u!==0&&(u=1/u);const h=l*u;this._modules.camera.setZoom(h,c,{x:r,y:i}).then(()=>{this._zooming&&(this._zooming=!1,this._updateVisibility("zoom",!1))})},this.debug=t}onMounted(){const e=this._modules.settings;e.register("interactions.zoom.enabled",!0),e.register("interactions.zoom.onDoubleClick",!1),e.register("interactions.zoom.duration",150),e.register("interactions.zoom.modifier",X_),e.register("interactions.zoom.speed",Y_),e.register("interactions.zoom.easing","quadraticOut"),e.register("interactions.zoom.minValue",this.debug?null:f$),e.register("interactions.zoom.maxValue",this.debug?null:_$),e.register("interactions.zoom.hideNodes",!1),e.register("interactions.zoom.hideEdges",!1),e.register("interactions.zoom.hideNodeTexts",!1),e.register("interactions.zoom.hideEdgeTexts",!1),e.register("interactions.pan.enabled",!0),e.register("interactions.pan.hideNodes",!1),e.register("interactions.pan.hideEdges",!1),e.register("interactions.pan.hideNodeTexts",!1),e.register("interactions.pan.hideEdgeTexts",!1),e.register("interactions.rotation.enabled",!0),e.register("interactions.rotation.hideNodes",!1),e.register("interactions.rotation.hideEdges",!1),e.register("interactions.rotation.hideNodeTexts",!1),e.register("interactions.rotation.hideEdgeTexts",!1),e.register("interactions.gesture.enabled",!0),e.register("interactions.gesture.hideNodes",!1),e.register("interactions.gesture.hideEdges",!1),e.register("interactions.gesture.hideNodeTexts",!1),e.register("interactions.gesture.hideEdgeTexts",!1),this._setupInteractions()}_setupInteractions(){this._modules.interactions.onMouseWheel({priority:"zoom",check:()=>!!this._modules.settings.get("interactions.zoom.enabled"),handler:Vp(({x:e,y:t,delta:n})=>this._smoothZoom(n,e,t),50)}),this._modules.interactions.onDoubleClick({priority:"zoom",check:()=>{const e=this._modules.settings.get("interactions.zoom.enabled"),t=this._modules.settings.get("interactions.zoom.onDoubleClick");return!(!e||!t)},handler:({x:e,y:t})=>this._smoothZoom(1,e,t)}),this._modules.interactions.onDrag({priority:"panning",disableDetection:!0,check:({button:e})=>{const t=!!this._modules.settings.get("interactions.pan.enabled");return e==="left"&&t},onStart:()=>this._updateVisibility("pan",!0),onProgress:({dx:e,dy:t})=>this._modules.camera.move({x:-e,y:-t}),onStop:()=>this._updateVisibility("pan",!1)}),this._modules.interactions.onDrag({priority:"rotation",disableDetection:!0,check:({button:e,domEvent:t})=>(e==="right"||t&&t.buttons===2)&&!!this._modules.settings.get("interactions.rotation.enabled"),onStart:({x:e,y:t})=>{this._rotationStart={x:e,y:t},this._updateVisibility("rotation",!0)},onProgress:({x:e,y:t})=>this._rotate({x:e,y:t}),onStop:()=>this._updateVisibility("rotation",!1)}),this._modules.interactions.onGesture({priority:"gesture",disableDetection:!0,check:()=>!!this._modules.settings.get("interactions.gesture.enabled"),onStart:()=>this._updateVisibility("gesture",!0),onProgress:({dx:e,dy:t,rotation:n,scale:r,x:i,y:s})=>{this._modules.settings.get("interactions.rotation.enabled")&&this._modules.camera.rotate(-n),this._modules.camera.zoomIn({modifier:r},{x:i,y:s}),this._modules.camera.move({x:-e,y:-t})},onStop:()=>this._updateVisibility("gesture",!0)})}_rotate({x:e,y:t}){const{width:n,height:r}=this._modules.camera.getSize(),i=n/2,s=r/2,o=this._rotationStart.x-i,a=this._rotationStart.y-s,l=e-i,c=t-s,d=Math.atan2(a,o)-Math.atan2(c,l);this._rotationStart.x=e,this._rotationStart.y=t,this._modules.camera.rotate(d)}_updateVisibility(e,t){const n=!t,r=this._modules.settings,i=r.get(`interactions.${e}.hideNodes`),s=r.get(`interactions.${e}.hideEdges`),o=r.get(`interactions.${e}.hideNodeTexts`),a=r.get(`interactions.${e}.hideEdgeTexts`);i&&this._modules.graphics.setNodesVisibility(n),o&&this._modules.graphics.setNodeTextsVisibility(n),s&&this._modules.graphics.setEdgesVisibility(n),a&&this._modules.graphics.setEdgeTextsVisibility(n)}},f2=1e-8,_2=1e8,If={duration:0,easing:"linear",startAfter:0,ignoreZoomLimits:!1,callback:ft};function nh(e){return Math.abs(e)<1e-9}var x$=80,nP=class extends it{constructor(){super(...arguments),this._minZoom=f2,this._maxZoom=_2,this._timeout=0}onMounted(){this._reset(),this._modules.settings.register("minZoom",f2,e=>{this._minZoom=e,this._zoom<e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.settings.register("maxZoom",_2,e=>{this._maxZoom=e,this._zoom>e&&(this._zoom=e,this._modules.events.fire("move"))}),this._modules.events.on("setContainer",()=>{this._reset(),this._modules.events.fire("move")}).on("resize",()=>{this._reloadDimensions(),this._modules.events.fire("move")})}get x(){return this._x}get y(){return this._y}get zoom(){return this._zoom}get angle(){return this._angle}get width(){return this._dimensions.width}get height(){return this._dimensions.height}moveEnd(e){this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>this._modules.events.fire("viewChanged",{type:e}),x$)}getSize(){return{width:this._dimensions.width,height:this._dimensions.height}}getCenter(){return{x:this._x,y:this._y}}setCenter({x:e,y:t},n){const r=this._x,i=this._y,s=e-this._x,o=t-this._y;return nh(s)&&nh(o)?Promise.resolve():new Promise(a=>{this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const l=this._modules.animations.play(c=>{this._x=r+s*c,this._y=i+o*c,this._modules.events.fire("move").fire("pan")},St(Se(Se({},If),n),{callback:()=>this.moveEnd("pan"),resolve:a}));l&&(this._moveAnimation=l)})}move({x:e,y:t},n){const r=y2({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle);return this.setCenter({x:this._x+r.x,y:this._y+r.y},n)}getZoom(){return this._zoom}setZoom(e,t,n={x:void 0,y:void 0}){const{x:r,y:i}=n;let s=Wr(e,this._minZoom,this._maxZoom);return t&&t.ignoreZoomLimits||(s=this._applyZoomLimits(s)),nh(this._zoom-s)?Promise.resolve():new Promise(o=>{const a=St(Se(Se({},If),t),{callback:()=>this.moveEnd("zoom"),resolve:o}),l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._zoom,u=l/d-l/s;if(r!==void 0&&i!==void 0){const g=(r-l)/d-(r-l)/s,p=(i-c)/d-(i-c)/s,m=this._cosAngle,_=this._sinAngle,y=m*g-_*p,f=_*g+m*p;this.setCenter({x:this._x+y,y:this._y+f},t)}this._zoomAnimation&&this._modules.animations.cancel(this._zoomAnimation),this._modules.dom.afterNextFrame().then(()=>{this._modules.events.fire("zoomStart",{duration:a.duration,easing:a.easing,startZoom:d,endZoom:s})});const h=this._modules.animations.play(g=>{this._zoom=l/(l/d-u*g),this._modules.events.fire("move").fire("zoom")},a);h&&(this._zoomAnimation=h)})}_applyZoomLimits(e){const t=this._modules.settings.get("interactions.zoom.minValue"),n=this._modules.settings.get("interactions.zoom.maxValue"),{minScaledSize:r,maxScaledSize:i,width:s,height:o,cx:a}=this._modules.locate.getGraphBoundingBox(),l=this._zoom,c=this.getSize();let d=e;if(!isNaN(a)){const u={smallestNodeSize:r,biggestNodeSize:i,graphWidth:s+i,graphHeight:o+i,viewWidth:c.width,viewHeight:c.height},h=t&&t(u),g=n&&n(u);x2(h)&&d<h?d<l&&(d=Math.min(l,h)):x2(g)&&d>g&&d>l&&(d=Math.max(l,g))}return d}zoomIn(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||X_:e.modifier,this.setZoom(this._zoom*n,e,t)}moveToBounds(e,t={}){const n=this._modules.locate.computeConfigForBounds(e,{ignoreZoomLimits:!0});return this.moveTo(n,t)}moveTo(e,t={}){const n=this.getZoom(),r=this.getCenter(),i=e.zoom||this._zoom;return t.duration===0?this.setView(e):new Promise(s=>{const o=Math.min(this.width,this.height),a=m$([r.x,r.y,o/n],[e.x,e.y,o/i]),l=a.duration,c=t.duration||l;this._moveAnimation&&this._modules.animations.cancel(this._moveAnimation);const d=this._modules.animations.play(u=>{const[h,g,p]=a(u);this._x=h,this._y=g,this._zoom=o/p,this._modules.events.fire("move"),this._modules.events.fire("pan")},{duration:c,easing:t.easing,callback:()=>this.moveEnd("pan"),resolve:s});d&&(this._moveAnimation=d)})}zoomOut(e,t={x:void 0,y:void 0}){let n=1;return e===void 0&&(e={}),typeof e=="number"&&(e={modifier:e}),n=typeof e.modifier!="number"?this._modules.settings.get("interactions.zoom.modifier")||X_:e.modifier,this.setZoom(this._zoom/n,e,t)}getAngle(){return this._angle}setAngle(e,t){const n=this._angle,r=e-n;return nh(r)?Promise.resolve():new Promise(i=>{this._rotateAnimation&&this._modules.animations.cancel(this._rotateAnimation);const s=this._modules.animations.play(o=>{for(this._angle=n+r*o;this._angle>Math.PI;)this._angle-=2*Math.PI;for(;this._angle<-Math.PI;)this._angle+=2*Math.PI;this._sinAngle=Math.sin(this._angle),this._cosAngle=Math.cos(this._angle),this._modules.events.fire("move").fire("rotate")},St(Se(Se({},If),t),{callback:()=>this.moveEnd("rotate"),resolve:i}));s&&(this._rotateAnimation=s)})}rotate(e,t){return this.setAngle(this._angle+e,t)}getScreenCenter(){return{x:this._dimensions.width/2,y:this._dimensions.height/2}}graphToScreenCoordinates({x:e,y:t},n={x:0,y:0}){const r=this._dimensions.width/2,i=this._dimensions.height/2;return Dg((e-this._x)*this._zoom+r,(t-this._y)*this._zoom+i,r,i,-this._angle,n)}screenToGraphCoordinates({x:e,y:t},n={x:0,y:0}){return Dg(this._x+(e-this._dimensions.width/2)/this._zoom,this._y+(t-this._dimensions.height/2)/this._zoom,this._x,this._y,this._angle,n)}projectBounds(e,t=e){const[n,r,i,s]=e,o=this._x,a=this._y,l=this._dimensions.width/2,c=this._dimensions.height/2,d=this._sinAngle,u=this._cosAngle,h=1/this._zoom;let g=1/0,p=1/0,m=-1/0,_=-1/0;const y=[n,r,n,s,i,s,i,r];for(let f=0;f<y.length;f+=2){let x=y[f],v=y[f+1];x=o+(x-l)*h,v=a+(v-c)*h;const w=x-o,b=v-a;x=u*w-d*b+o,v=d*w+u*b+a,x<g&&(g=x),x>m&&(m=x),v<p&&(p=v),v>_&&(_=v)}return t[0]=g,t[1]=p,t[2]=m,t[3]=_,t}screenToGraphVector({x:e,y:t}){return y2({x:e,y:t},this._zoom,this._sinAngle,this._cosAngle)}getView(){return{x:this._x,y:this._y,zoom:this._zoom,angle:this._angle,width:this._dimensions.width,height:this._dimensions.height}}setView(e,t){const{x:n,y:r,zoom:i,angle:s}=Se({x:this._x,y:this._y,zoom:this._zoom,angle:this._angle},e);return Promise.all([this.setCenter({x:n,y:r},t),this.setZoom(i,t),this.setAngle(s,t)]).then(ft)}_reloadDimensions(){this._dimensions=this._modules.dom.getDimensions()}animationInProgress(){const e=this._moveAnimation,t=this._zoomAnimation,n=this._rotateAnimation;return!!(e&&!e.done||t&&!t.done||n&&!n.done)}getProjectedScreenBounds(e=0){const{width:t,height:n}=this._dimensions,r=Math.max(t,n)*e;return this.projectBounds([0-r,0-r,t+r,n+r])}_reset(){this._zoom=1,this._x=0,this._y=0,this._angle=0,this._sinAngle=0,this._cosAngle=1,this._dimensions=this._modules.dom.getDimensions()}clone(e){const t=new nP(this._ogma);return t._zoom=e.zoom||this._zoom,t._x=e.x||this._x,t._y=e.y||this._y,t._angle=e.angle||this._angle,t._sinAngle=e.sinAngle||this._sinAngle,t._cosAngle=e.cosAngle||this._cosAngle,t._dimensions=e.dimensions?Se({},e.dimensions):Se({},this._dimensions),t}};function y2({x:e,y:t},n,r,i){return{x:i*(e/=n)-r*(t/=n),y:r*e+i*t}}function x2(e){return typeof e=="number"&&isFinite(e)}function v$(e){const t=e.filter(n=>isFinite(n)&&n>0);return t.length?as(t):1}var b$="anonymous",w$="white",E$="default",S$={maxBlockId:1024,maxCoord:-1/0,maxScaledSize:16,maxPixelSize:255,maxMinVisibleSize:64,maxDashOffset:4,maxDashLength:3,maxGapLength:1,maxSymbolicSize:0,maxPatternScale:0},rP=Up?"webgl":null,v2=5,k$=class extends it{constructor(){super(...arguments),this._debug=!1,this._initDone=!1,this._boundaries={maxSize:10,maxMinVisibleSize:64},this._visibility={nodes:0,edges:0,nodeTexts:0,edgeTexts:0},this._nextAnimationId=1,this._animations=[],this._rendererState={type:null,code:null,state:"ok",message:""},this._cursorStyle=[],this._fontsNewlyLoaded=[],this._nextGeIndex=1,this._availableGeIndexes=[],this._renderOnNewFrame=!0,this._isBufferDisplayable=e=>{const t=Fj(e),n=mI(e),r=t?this._visibility.nodes:this._visibility.edges,i=t?this._visibility.nodeTexts:this._visibility.edgeTexts;return r===0&&(!n||i===0)},this._onNewFrame=()=>{this._processAnimations(),this._loadGraphInGraphicsEngine(),this._renderOnNewFrame&&this._render()},this._applyCursorStyle=()=>{const e=this._cursorStyle[this._cursorStyle.length-1]||this._modules.settings.get("cursor.default");Pg(this._domWrapper,e)},this._updateImageCrossOrigin=()=>{this._imageManager.setImgCrossOrigin(this._modules.settings.get("imgCrossOrigin")||null)}}onMounted(){this._debug=this._ogma.isDebug(),this._renderOnNewFrame=!0,this._formatText=pI().applyArabicShaping,this._attributesManager=new u$(this._ogma,this._modules),this._imageManager=new G6,this._fontManager=new rj,this._engine=new Gc(Gc.getCachedInitData()),this._domWrapper=this._engine.getDomWrapper(),this._engine.on("error",this._onNewFrame),this._nodeAnimationMap=new Map,this._edgeAnimationMap=new Map,this._movingNodes=new Set,this._movingEdges=new Set,this._modules.events.register(["reloadFonts","rendererStateChange","beforeUpdateAttributes","updateAttributes","animate","move","pan","zoom","rotate","viewExportStart","viewExportEnd","viewChanged","zoomStart"]),this._modules.settings.register("renderer",rP,e=>{this._updateRendererState({type:e,state:"requested",code:null,message:void 0}),this._engine.setRenderType(e),this._modules.dom.refresh()}),this._modules.settings.register("backgroundColor",w$,e=>{this._engine.parseColor(e)?this._modules.dom.refresh():(ao(`Invalid background color "${e}" specified; will default to black.`),this._modules.settings.set("backgroundColor","black"))}),this._modules.settings.register("texts.hideUntilFontsLoaded",!0,e=>{this._fontManager.setHideUntilFontsLoaded(!!e)}),this._modules.settings.register("texts.cornerRadius",v2,e=>{this._engine.getTextManager().setCornerRadius(typeof e=="number"?e:v2),this._modules.dom.refresh()}),this._modules.settings.register("imgCrossOrigin",b$,this._updateImageCrossOrigin),this._modules.settings.register("cursor.default",E$,this._applyCursorStyle),this._modules.dom.setLayer("graphics",this._domWrapper),this._engine.setGlobalBoundaries(S$),this._modules.dom.beforeNextFrame().then(()=>{this._initDone=!0,this._fireRendererStateChangeEvent()}),this._imageManager.onFetch(()=>{this._engine.notifyPatternUpdate(),this._modules.dom.refresh()}),this._fontManager.onFontLoaded(e=>{this._fontsNewlyLoaded.push(e),this._engine.notifyPatternUpdate(),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}),this._modules.dom.addMediaListener("(min-resolution: 2dppx)",()=>this._modules.dom.refresh()),this._visibleAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${A_})`,tag:A_,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._dataAttributeLayer=this._attributesManager.addAttributeLayer({priority:0,name:`internal(${C_})`,tag:C_,nodeDependencies:void 0,edgeDependencies:void 0}),zS(this._engine,this._attributesManager.getFlexArrays()),this._modules.events.on("move",()=>this._modules.dom.refresh()).on("newFrame",this._onNewFrame).on("viewExportStart",()=>{this._renderOnNewFrame=!1}).on("viewExportEnd",()=>{this._renderOnNewFrame=!0}).on("clearGraph",()=>{this._nextGeIndex=1,this._availableGeIndexes=[],this._engine.clear(),this._attributesManager.clear(),this._modules.dom.refresh(),this._animations=[],this._nodeAnimationMap.clear(),this._edgeAnimationMap.clear()}).on("viewChanged",({type:e})=>{if(e==="rotate"){const t=this._modules.graph.getEdges().filter(n=>n.getAttribute("adjustAnchors"));this._attributesManager.redrawElements(t)}}).on("addNodes",e=>{this._attributesManager.updateForAllAttributeLayers(e.nodes)}).on("addEdges",e=>{this._attributesManager.updateForAllAttributeLayers(e.edges)}).on("excludedStateChange",e=>{this._visibleAttributeLayer.updateElements(e.elements)}).on("setData",e=>{this._dataAttributeLayer.updateElements(e.elements)}),Gc.clearCachedInitData(),this._modules.dom.addWindowEventListener("unload",()=>this.destroy())}onReady(e){e.renderer!==void 0&&this._ogma.setOptions({renderer:e.renderer}),e.imgCrossOrigin!==void 0&&this._ogma.setOptions({imgCrossOrigin:e.imgCrossOrigin})}getTransparentBackgroundColor(){const e=this._modules.settings.get("backgroundColor");return e?this._engine.transparentify(e):null}_render(){const e=this._modules.dom.getDimensions(),t=this._modules.camera.getView(),n=Fr(),r=rr(),i=this._modules.settings.get("backgroundColor"),s=this._isBufferDisplayable;this._engine.setView({x:t.x,y:t.y,zoom:t.zoom,angle:t.angle,width:e.width,height:e.height,pixelRatio:n,currentTime:r,backgroundColor:i,isBufferDisplayable:s});try{this._engine.render(),this._rendererState.state==="requested"&&this._updateRendererState({state:"ok"})}catch(o){if(this._debug)throw o;const{message:a,code:l="OTHER"}=o,c=this._rendererState.type,d=n8(c);let u=this._rendererState.state==="requested"?`Error while initializing the ${d} renderer`:`The ${d} renderer encountered an unexpected runtime error`,h=null;c==="webgl"&&(u+="; fallbacking on canvas renderer",h="canvas"),ao(a||""),ao(u),this._updateRendererState({state:"error",code:l,message:a}),this._modules.settings.set("renderer",h)}}_fireRendererStateChangeEvent(){const e=this._rendererState;this._modules.events.fire("rendererStateChange",{type:e.type,state:e.state,code:e.code,message:e.message})}_updateRendererState({type:e,state:t,code:n,message:r}){let i=!1;e!==void 0&&this._rendererState.type!==e&&(this._rendererState.type=e,i=!0),t!==void 0&&this._rendererState.state!==t&&(this._rendererState.state=t,i=!0),n!==void 0&&this._rendererState.code!==n&&(this._rendererState.code=n,i=!0),r!==void 0&&this._rendererState.message!==r&&(this._rendererState.message=r,i=!0),i&&this._initDone&&this._fireRendererStateChangeEvent()}getImageData(){return this._modules.dom.afterNextFrame().then(()=>this._engine.getImageData())}getNodeAttributes(){return this._attributesManager.getFlexArrays().nodes.current}getEdgeAttributes(){return this._attributesManager.getFlexArrays().edges.current}getGraphicsEngine(){return this._engine}getImageManager(){return this._imageManager}getFontManager(){return this._fontManager}allocateGraphicsEngineBlockId(){return this._availableGeIndexes.length?this._availableGeIndexes.pop():this._nextGeIndex++*rm+gj}releaseGraphicsEngineBlockId(e){this._engine.freeBlock(e),this._availableGeIndexes.push(e),this._modules.dom.refresh()}addCursorStyle(e){e&&(this._cursorStyle.push(e),this._applyCursorStyle())}removeCursorStyle(e){if(!e)return;const t=this._cursorStyle.lastIndexOf(e);t!==-1&&(this._cursorStyle.splice(t,1),this._applyCursorStyle())}reloadFonts(){this._modules.events.fire("reloadFonts"),this._engine.notifyFontsReloaded(),this._modules.dom.refresh()}getDomElement(){return this._domWrapper}setTextHidden(e,t){this._attributesManager.setTextHidden(e,t)}resetTextHidden(){this._attributesManager.resetTextHidden(),this._modules.dom.refresh()}getAttributesManager(){return this._attributesManager}_checkFontsNewlyLoaded(){return!!this._fontsNewlyLoaded.length&&(this._fontsNewlyLoaded=[],!0)}_loadGraphInGraphicsEngine(){this._attributesManager.update(),this._checkFontsNewlyLoaded()&&this._attributesManager.redrawAll(),this._modules.events.fire("beforeUpdateAttributes");const{elementsToRedraw:e,elementsUpdated:t}=this._attributesManager.getUpdatedElements(),n=t.nodes.size>0||t.edges.size>0;(t.nodeAttributesSet.has("radius")||t.edgeAttributes.includes("width"))&&(this._boundaries.maxSize=t8(this._modules.graph)),(t.nodeAttributesSet.has("shape")||t.edgeAttributes.includes("shape.head")||t.edgeAttributes.includes("shape.tail"))&&zS(this._engine,this._attributesManager.getFlexArrays()),S6({graph:this._modules.graph,elements:e,engine:this._engine,imageManager:this._imageManager,fontManager:this._fontManager,view:this._modules.camera.getView(),attributes:this._attributesManager.getFlexArrays(),boundaries:this._boundaries,formatText:this._formatText}),n&&this._modules.events.fire("updateAttributes",t)}_forceCompleteGraphRefresh(){this._attributesManager.redrawAll(),this._loadGraphInGraphicsEngine()}export(e,t,n,r){let i;return Promise.all([this._modules.graph.getNodes().addClass(Do),this._modules.graph.getEdges().addClass(Do)]).then(()=>this.resolveAtNextFrame()).then(()=>this._imageManager.whenReady()).then(()=>{n==="all"?(i=T$(this._modules.graph),this._forceCompleteGraphRefresh()):this._loadGraphInGraphicsEngine();const s=this._modules.camera.clone(Se({},t));return this._modules.events.fire("viewExportStart",{preventOverlap:r.preventOverlap,camera:s}),this._ogma.view.afterNextFrame().then(()=>this._engine.export(e,t,r))}).then(s=>Promise.all([this._modules.graph.getNodes().removeClass(Do),this._modules.graph.getEdges().removeClass(Do)]).then(()=>s)).then(s=>(n==="all"&&(L$(i),this._forceCompleteGraphRefresh()),this._modules.events.fire("viewExportEnd"),s))}addAttributeLayer(e){return this._attributesManager.addAttributeLayer(e)}getAttributeValues(e,t,n,r){return this._attributesManager.getAttributeValues(e,t,n,r)}forceAttributesComputation(){this._attributesManager.update()}resolveAtNextFrame(e){return this._modules.dom.afterNextFrame().then(()=>e)}isMoving(e){return(e.isNode?this._movingNodes:this._movingEdges).has(e._index)}animate(e,t,n,r){const i=A$(r);return i.duration&&this._engine.ensureAnimationsReady(),this._animate(e,t,n,i)}isAnimating(){return this._animations.length>0}getAnimationInformation(e){return this._attributesManager.getAnimationInformation(e)}_toSubGraph(e){if(e instanceof ws||e instanceof Qi)return{nodes:e.toList(),edges:e.getAdjacentEdges()};if(e instanceof pa||e instanceof po)return{nodes:this._modules.graph.nodeList(),edges:e.toList()};const t=e,n={nodes:t.nodes||this._modules.graph.nodeList(),edges:t.edges||this._modules.graph.edgeList()};return n.nodes.size&&(n.edges.size?n.edges=n.edges.concat(n.nodes.getAdjacentEdges()).dedupe():n.edges=n.nodes.getAdjacentEdges()),n}_animate(e,t,n,{duration:r,easing:i}){if((!this._animations.length||n)&&!r)return t(e),Promise.resolve(e);const s=this._toSubGraph(e),o=s.nodes,a=s.edges;if(o.size===0&&a.size===0)return t(e),Promise.resolve(e);if(o.size){if(n)for(let h=0;h<o._indexes.length;h++)this._movingNodes.add(o._indexes[h]);this._modules.events.fire("animate",{elements:o,duration:r,updatesPositions:n,easing:i})}if(a.size){if(n)for(let h=0;h<a._indexes.length;h++)this._movingEdges.add(a._indexes[h]);this._modules.events.fire("animate",{elements:a,duration:r,updatesPositions:n,easing:i})}const l={id:this._nextAnimationId++,startTime:rr(),finished:!1,func:()=>t(e),duration:r,easing:i,nodes:o,edges:a,started:!1,updatesPositions:n,resolve:ft};let c=l;const d=new Set;if(c=this._getLongestAnimation(c,l.nodes,d),c=this._getLongestAnimation(c,l.edges,d),c.updatesPositions){for(let h=0;h<o._indexes.length;h++)this._nodeAnimationMap.set(o._indexes[h],c);for(let h=0;h<a._indexes.length;h++)this._edgeAnimationMap.set(a._indexes[h],c);l.duration=c.duration,l.startTime=c.startTime}if(l.duration===0&&c.id===l.id)return t(e),Promise.resolve(e);const u=new Promise(h=>l.resolve=()=>h(e));return this._animations.push(l),this._modules.dom.refresh(),r||this._processAnimations(),u}_removeFinishedAnimations(){this._animations=this._animations.filter(e=>!e.finished)}_getAnimationElements(e){return{nodes:e.nodes,edges:e.edges}}_resetAnimationAttributes({nodes:e,edges:t}){this._attributesManager.resetAnimationAttributes({nodes:e,edges:t});for(let n=0;n<e._indexes.length;n++)this._nodeAnimationMap.delete(e._indexes[n]),this._movingNodes.delete(e._indexes[n]);for(let n=0;n<t._indexes.length;n++)this._edgeAnimationMap.delete(t._indexes[n]),this._movingEdges.delete(e._indexes[n])}_getLongestAnimation(e,t,n){const r=t.isNode?this._nodeAnimationMap:this._edgeAnimationMap;for(let i=0;i<t._indexes.length;i++){const s=r.get(t._indexes[i]);s&&!n.has(s.id)&&(n.add(s.id),(e.updatesPositions||!s.updatesPositions)&&s.duration+s.startTime<e.duration+e.startTime||(e=s))}return e}_processAnimations(){if(!this._animations.length)return;const e=rr(),t=[];this._attributesManager.update();for(const n of this._animations)n.started||(n.started=!0,t.push(n.func),this._attributesManager.setAnimationAttributes(this._getAnimationElements(n),n));for(const n of t)n();for(const n of this._animations)e>=n.startTime+n.duration&&(this._resetAnimationAttributes(this._getAnimationElements(n)),n.resolve(n.elements),n.finished=!0);this._removeFinishedAnimations(),this._animations.length&&this._modules.dom.refresh()}hideTexts(){this.setNodeTextsVisibility(!1),this.setEdgeTextsVisibility(!1)}showTexts(){this.setNodeTextsVisibility(!0),this.setEdgeTextsVisibility(!0)}setNodesVisibility(e){return this._updateVisibilityCounter("nodes",e)}setNodeTextsVisibility(e){return this._updateVisibilityCounter("nodeTexts",e)}setEdgesVisibility(e){return this._updateVisibilityCounter("edges",e)}setEdgeTextsVisibility(e){return this._updateVisibilityCounter("edgeTexts",e)}_updateVisibilityCounter(e,t){this._visibility[e]+=t?-1:1,this._modules.dom.refresh()}detectNode(e,t,n,r,i,s){return J6(e,t,n,r,i,s,this._modules.graph,this._attributesManager,this._modules.camera,this._engine,this._movingNodes,this._formatText)}detectEdge(e,t,n,r,i){return e8(e,t,n,r,i,this._modules.graph,this._modules.camera,this._movingNodes,this._attributesManager)}getVisibilityCounters(){return this._visibility}destroy(){this.getGraphicsEngine().destroy(),this.getImageManager().destroy(),this.getFontManager().destroy()}};function A$(e){return typeof e=="number"?e={duration:e}:typeof e=="object"&&e!==null||(e={duration:0}),{duration:C$(e.duration),easing:e.easing||"linear",chain:!!e.chain}}function C$(e){return typeof e!="number"||!isFinite(e)||e<0?0:e}function b2(e,t){const n=t?e.getNodeAttribute("excluded"):e.getEdgeAttribute("excluded"),r=(t?e.getNodes("all"):e.getEdges("all"))._indexes,i=n.getMultiple(r);return n.fill(r,0),{excludedList:n,indexes:r,values:i}}function w2({excludedList:e,indexes:t,values:n}){e.setMultiple(t,n)}function T$(e){return{nodes:b2(e,!0),edges:b2(e,!1)}}function L$({nodes:e,edges:t}){w2(e),w2(t)}var N$=250,I$=50,M$=class extends it{constructor(){super(...arguments),this._onAnyEvents=[],this._registeredEvents={},this.onIdle=Vp(()=>this.fire("idle"),I$)}onMounted(){this._registeredEvents={},this.register(["idle"]),this._ogma.onReady(()=>{this.on(["viewChanged","layoutEnd","addNodes","addEdges","removeNodes","removeEdges","animate","setMultipleAttributes","transformationRefresh"],()=>{this._modules.dom.clearTimeout(this._idleTimeout),this._idleTimeout=this._modules.dom.setTimeout(this.onIdle,N$)})})}isRegistered(e){return!!this._registeredEvents[e]}register(e,t=[]){e.forEach(n=>{if(this._registeredEvents[n])throw new Error(`event "${n}" already exists`);this._registeredEvents[n]=new P$(!1,n)})}onAnyEvent(e){this._onAnyEvents.push(e)}on(e,t){return Array.isArray(e)&&e.forEach(n=>this.on(n,t)),this._registeredEvents[e]?(this._registeredEvents[e].on(t),this):this}off(e){return Object.values(this._registeredEvents).forEach(t=>{t.off(e)}),this}fire(e,t=null){const n=this._getEvent(e);return this._onAnyEvents.forEach(r=>r(t,e)),n.trigger(t),this}once(e,t){const n=this,r=function(){t.apply(null,arguments),n.off(r)};return this.on(e,r)}_getEvent(e){if(!(e in this._registeredEvents))throw new Error(`Event ${e} does not exist`);return this._registeredEvents[e]}destroy(){Object.values(this._registeredEvents).forEach(e=>{e.destroy()})}},P$=class{constructor(e,t){this._subscribers=[],this._handlers=[],this._reverseOrder=e,this._name=t}trigger(e){for(const t of this._handlers)t(e,this._name);return this}on(e){if(typeof e!="function")throw new Error("handler is not a function");const t=this._reverseOrder?0:this._subscribers.length;return this._handlers.splice(t,0,e),this._subscribers.splice(t,0,e),this}off(e){let t;for(;(t=this._subscribers.indexOf(e))!==-1;)this._subscribers.splice(t,1),this._handlers.splice(t,1);return this}destroy(){this._subscribers=[],this._handlers=[]}},F$=class extends it{onMounted(){this._graphics=this._modules.graphics,this._modules.events.register(["setMultipleAttributes"]),this._modules.events.on(["addNodes","addEdges"],({nodes:e,edges:t,objects:n})=>{this._onAddElements(e||t,n)}),this._originalAttributesLayer=this._graphics.addAttributeLayer({name:"original-attributes",priority:p4,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0}),this._individualAttributesLayer=this._graphics.addAttributeLayer({name:"individual-attributes",priority:_4,nodeOutput:{attributes:"all"},edgeOutput:{attributes:"all"},nodeDependencies:void 0,edgeDependencies:void 0})}_onAddElements(e,t){const n=t.map(r=>r.attributes);this._originalAttributesLayer.setAttributeValues(e,n)}getOriginalAttributes(){return this._originalAttributesLayer.getFlexArrays()}getIndividualAttributes(){return this._individualAttributesLayer.getFlexArrays()}setMultipleAttributes(e,t,n){const r=Array.isArray(t)?t.length&&t[0]?Xg(t[0],e.isNode):[]:Xg(t,e.isNode),i=r.includes("x")||r.includes("y");return this._modules.events.fire("setMultipleAttributes",{elements:e,values:t,updatedAttributes:r}),this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,t)},i,n)}setSingleAttribute(e,t,n,r){const i={};return Zi(i,t,n),this.setMultipleAttributes(e,i,r)}resetMultipleAttributes(e,t,n){const r=t||this._individualAttributesLayer.getUsedAttributeNames(e),i=r&&(r.includes("x")||r.includes("y")),s={};for(const o of r)Zi(s,o,void 0);return this._graphics.animate(e,()=>{this._individualAttributesLayer.setAttributeValues(e,s)},i,n)}getMultipleAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!1)}getSingleAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!1)}replaceOriginalAttributes(e,t,n=[]){const r={},i=this._originalAttributesLayer.getUsedAttributeNames(e).filter(s=>!n.includes(s));for(let s=0;s<i.length;++s)Zi(r,i[s],void 0);this._originalAttributesLayer.setAttributeValues(e,r),this._originalAttributesLayer.setAttributeValues(e,t)}getSinglePreviousAttribute(e,t){return this._graphics.getAttributeValues(e,t,!1,!0)}getMultiplePreviousAttributes(e,t){return this._graphics.getAttributeValues(e,t,!0,!0)}},R$=class extends it{constructor(){super(...arguments),this._currentValue={},this._onChange={},this._defaultValues={},this._keys=[]}onReady(e){e.renderer&&this.update({renderer:e.renderer}),e.options&&this.update(e.options)}register(e,t,n,r){return r===void 0&&(r=!0),this._keys.push(e),this._currentValue[e]=t,this._defaultValues[e]=t,this._onChange[e]=n||ft,n&&r&&n(t),this}update(e){e=_d(e);const t=this._keys,n={},r=this._currentValue;for(let s=0;s<t.length;++s){const o=t[s];if(o in e){let a=e[o];a===void 0&&(a=this._defaultValues[o]),n[o]=r[o],r[o]=a}}const i=Object.keys(n);for(let s=0;s<i.length;++s){const o=i[s],a=this._currentValue[o],l=n[o];a!==l&&this._onChange[o](a,l)}return d_(n)}get(e){return arguments.length===0?d_(this._currentValue):this._currentValue[e]}set(e,t){const n=this._currentValue[e],r=this._onChange[e];this._currentValue[e]=t,r&&r(t,n)}},D$=class{constructor(e,t){this._classes=e,this._name=t}getName(){return this._name}getIndex(){return this._classes.getIndex(this._name)}setIndex(e){return this._classes.setIndex(this._name,e)}update(e){return this._classes.update(this._name,e),this}getDefinition(){return this._classes.getDefinition(this._name)}getNodes(e){return this._classes.getElementsByClass(this._name,e).nodes}getEdges(e){return this._classes.getElementsByClass(this._name,e).edges}clearNodes(e){this.getNodes(e).removeClass(this._name)}clearEdges(e){this.getEdges(e).removeClass(this._name)}add(e){e.addClass(this._name)}remove(e){e.removeClass(this._name)}},z$=1e3,O$=.5/z$,B$=class extends it{constructor(){super(...arguments),this._builtinClasses=[],this._userClasses=[],this._classesByName={},this._onExcludedStateChange=({elements:e,value:t})=>{if(t){const n=this._builtinClasses.map(r=>r.name);this._addOrRemoveClassesToElements(n,e,!1)}},this._onClearGraph=()=>{this._builtinClasses.concat(this._userClasses).forEach(e=>e.elementSet.clear())},this._onRemoveElements=({nodes:e,edges:t})=>{const n=e||t;this._builtinClasses.concat(this._userClasses).forEach(r=>r.elementSet.removeElements(n))}}onMounted(){this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on("clearGraph",this._onClearGraph).on("removeEdges",this._onRemoveElements).on("removeNodes",this._onRemoveElements)}_getClassList(e){return e?this._builtinClasses:this._userClasses}createClass({name:e,isBuiltin:t=!1,after:n,nodeAttributes:r,nodeDependencies:i,nodeOutput:s,edgeAttributes:o,edgeDependencies:a,edgeOutput:l}={}){if(typeof e!="string")throw new Error('the "name" argument should be a string');const c=this._getClassList(t),d=n?j$(c,n)+1:c.length;if(d===-1)throw new Error(`createClass: class specified as \`after\` parameter "${n}" does not exist`);if(t&&!e.startsWith("_"))throw new Error(`invalid builtin class name "${e}": builtin classes should start with '_'`);const u=new Kd(this._modules.graph),h=new D$(this,e),g={name:e,elementSet:u,attributeLayer:this._modules.graphics.addAttributeLayer({name:`class(${e})`,tag:e,standaloneSelectors:!0,nodeAttributes:r||void 0,edgeAttributes:o||void 0,nodeSelector:(p,m)=>m.hasElement(p),edgeSelector:(p,m)=>m.hasElement(p),nodeContext:u,edgeContext:u,nodeOutput:s,edgeOutput:l,nodeDependencies:i,edgeDependencies:a}),isBuiltin:t,wrapper:h};return c.splice(d,0,g),t&&c.sort((p,m)=>rS.indexOf(p.name)-rS.indexOf(m.name)),this._updatePriorities(t),this._classesByName[e]=g,this._modules.events.register([Aa(e,!0,!0),Aa(e,!0,!1),Aa(e,!1,!0),Aa(e,!1,!1)]),h}_updatePriorities(e){const t=this._getClassList(e),n=y4+(e?.5:0);for(let r=0;r<t.length;++r){const i=t[r],s=n+O$*r;i.attributeLayer.update({priority:s})}}_get(e){const t=this._classesByName[e];if(!t)throw new Error(`class "${e}" does not exist`);return t}getIndex(e){const t=this._get(e);return this._getClassList(t.isBuiltin).indexOf(t)}setIndex(e,t){const n=this._get(e),r=this._getClassList(n.isBuiltin),i=r.indexOf(n),s=Wr(t,0,r.length-1);r.splice(i,1),r.splice(s,0,n),this._updatePriorities(n.isBuiltin)}update(e,{nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a}={}){this._get(e).attributeLayer.update({nodeAttributes:t,edgeAttributes:n,nodeDependencies:r,edgeDependencies:i,nodeOutput:s,edgeOutput:o,fullOverwrite:a})}getDefinition(e){const t=this._get(e),{nodeAttributes:n,nodeDependencies:r,nodeOutput:i,edgeAttributes:s,edgeDependencies:o,edgeOutput:a}=t.attributeLayer.getDefinition();return{nodeAttributes:n||void 0,edgeAttributes:s||void 0,nodeDependencies:r,edgeDependencies:o,nodeOutput:i,edgeOutput:a}}_addOrRemoveClassesToElements(e,t,n){const r=t.isNode;for(let i=0;i<e.length;++i){const s=e[i],{elementSet:o,attributeLayer:a}=this._get(s),l=o.addOrRemoveElements(t,n),c=Aa(s,r,n);l.size&&(a.updateElements(l),this._modules.events.fire(c,r?{nodes:l}:{edges:l}))}}_animatedAttributesUpdatePositions(e,t){for(let n=0;n<e.length;++n){const r=e[n],i=this.getDefinition(r);if(t.isNode&&i.nodeAttributes&&(i.nodeAttributes.x||i.nodeAttributes.y))return!0}return!1}_getAnimatedAtrributes(e,t){return e.reduce((n,r)=>{const i=this.getDefinition(r);return t.isNode&&i.nodeAttributes&&n.push(...Xg(i.nodeAttributes,!0)),!t.isNode&&i.edgeAttributes&&n.push(...Xg(i.edgeAttributes,!1)),n},[])}addClassesToElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!0)},i,n)}removeClassesFromElements(e,t,n){const r=t.toList(),i=this._animatedAttributesUpdatePositions(e,r);return this._modules.graphics.animate(t,()=>{this._addOrRemoveClassesToElements(e,r,!1)},i,n)}hasSingleElementClass(e,t){return this._get(e).elementSet.hasElement(t)}getElementsClassList(e,t={}){const{includeBuiltinClasses:n=!1}=t,r=new Array(e.size);for(let i=0;i<r.length;++i)r[i]=[];return this._addClassNamesToList(r,e,this._userClasses),n&&this._addClassNamesToList(r,e,this._builtinClasses),r}_addClassNamesToList(e,t,n){const r=t.toList();for(let i=0;i<n.length;++i){const{name:s,elementSet:o}=n[i];for(let a=0;a<r.size;++a){const l=r.get(a);o.hasElement(l)&&e[a].push(s)}}}getClassByName(e,t=!1){const n=this._classesByName[e]||null;if(t&&!n)throw new Error(`class "${e}" does not exist`);return n&&n.wrapper}getClassList(){return this._userClasses.map(e=>e.wrapper)}getElementsByClass(e,t="visible"){const{elementSet:n}=this._get(e),r=n.getElements();let i=r.nodes,s=r.edges;return t==="visible"?(i=i.filter(o=>o.isVisible()),s=s.filter(o=>o.isVisible())):t==="raw"&&(i=i.filter(o=>!o.isVirtual()),s=s.filter(o=>!o.isVirtual())),{nodes:i,edges:s}}_onClassEvent(e,t,n,r){const i=Aa(e,n,r);this._modules.events.on(i,t)}onNodeClassAdded(e,t){this._onClassEvent(e,t,!0,!0)}onNodeClassRemoved(e,t){this._onClassEvent(e,t,!0,!1)}onEdgeClassAdded(e,t){this._onClassEvent(e,t,!1,!0)}onEdgeClassRemoved(e,t){this._onClassEvent(e,t,!1,!1)}};function Aa(e,t,n){return`${t?"node":"edge"}Class${n?"Added":"Removed"}_${e}`}function j$(e,t){for(let n=0;n<e.length;++n)if(e[n].name===t)return n;return-1}var iP=()=>({x:0,y:0,x1:0,y1:0,x2:0,y2:0});function E2(e,t,n,{cells:r=!0,boxes:i=!0,query:s=!0}={}){const o=t.keys().map(l=>t.keyToBBox(Number(l))),a=t.getBoxes();if(r&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#707070",o.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.stroke()),i&&(e.beginPath(),e.lineWidth=1,e.strokeStyle="#ff7070",a.forEach(l=>{e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1])}),e.closePath(),e.stroke()),s&&n){const l=n;e.beginPath(),e.lineWidth=2,e.strokeStyle="#3030ff",e.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),e.closePath(),e.stroke()}}function U$(e){const[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o]=e.getEdgeAttributes(["source","target","curvature"]),a=iP(),l=Qx();return c=>{if(c<0){c=-c;const d=i.get(c),u=s.get(c),h=o.get(c),g=t.get(d),p=n.get(d),m=t.get(u),_=n.get(u);d===u?(ma(g,p,h,r.get(d),0,a),lm(g,p,a.x1,a.y1,a.x2,a.y2,m,_,l)):h===0?(l.minX=Math.min(g,m),l.minY=Math.min(p,_),l.maxX=Math.max(g,m),l.maxY=Math.max(p,_)):(Pi(g,p,m,_,h,a),vv(g,p,a.x,a.y,m,_,l))}else{const d=t.get(c),u=n.get(c),h=r.get(c);l.minX=d-h,l.minY=u-h,l.maxX=d+h,l.maxY=u+h}return[l.minX,l.minY,l.maxX,l.maxY]}}var $$=["x","y","radius"],V$=["width","curvature"],G$=class extends it{constructor(){super(...arguments),this._minCellSize=8,this._clear=()=>{this._index.clear(),this._elementsToUpdate.clear()},this._onGraphUpdate=e=>{if(e.nodes&&(!e.nodeAttributes||e.nodeAttributes.some(t=>$$.includes(t)))){const t=e.nodes.fastGetAdjacentElements().edges;this._elementsToUpdate.addElements(e.nodes),this._elementsToUpdate.addElements(t)}e.edges&&(e.edgeAttributes&&!e.edgeAttributes.some(t=>V$.includes(t))||this._elementsToUpdate.addElements(e.edges))}}onMounted(){this._index=new bB(this._getIntersector(),U$(this._modules.graph),this._minCellSize,1e6),this._elementsToUpdate=new Kd(this._modules.graph),this._removedNodes=this._modules.graph.getNodeAttribute("removed"),this._removedEdges=this._modules.graph.getEdgeAttribute("removed"),this._excludedNodes=this._modules.graph.getNodeAttribute("excluded"),this._excludedEdges=this._modules.graph.getEdgeAttribute("excluded"),this._queryResult={edges:[],nodes:[]},this._queryBounds=[0,0,0,0],this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges","updateAttributes"],this._onGraphUpdate).on("excludedStateChange",({elements:e})=>{this._elementsToUpdate.addElements(e)}).on("clearGraph",this._clear)}_getIntersector(){const e=this._modules.graph,[t,n,r]=e.getNodeAttributes(["x","y","radius"]),[i,s,o,a]=e.getEdgeAttributes(["source","target","width","curvature"]),l=iP();return(c,d,u,h,g)=>{if(c<0){c=-c;const p=i.get(c),m=s.get(c),_=a.get(c),y=o.get(c)/2,f=t.get(p),x=n.get(p),v=t.get(m),w=n.get(m);return p===m?(ma(f,x,_,r.get(p),0,l),mN(f,x,l.x1,l.y1,l.x2,l.y2,v,w,d-y,u-y,h+y,g+y)):_===0?mv(f,x,v,w,d-y,u-y,h+y,g+y):(Pi(f,x,v,w,_,l),pN(f,x,l.x,l.y,v,w,d-y,u-y,h+y,g+y))}return tv(t.get(c),n.get(c),r.get(c),d,u,h,g)}}reindex(){this._modules.graphics.forceAttributesComputation(),this._index.clear(),this._elementsToUpdate.clear(),this._updateItems(this._modules.graph.getNodes("all")._indexes,this._modules.graph.getEdges("all")._indexes)}getSize(){return this._index.size}_updateIndex(){if(!this._elementsToUpdate.isEmpty()){const{nodes:e,edges:t}=this._elementsToUpdate.getElements();this._updateItems(e._indexes,t._indexes),this._elementsToUpdate.clear()}}_updateItems(e,t){const n=this._index,r=this._removedNodes,i=this._removedEdges,s=this._excludedNodes,o=this._excludedEdges,a=[],l=[];if(r&&s)for(let c=0;c<e.length;c++){const d=e[c];r.get(d)!==0||s.get(d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}if(i&&o)for(let c=0;c<t.length;c++){const d=-t[c];i.get(-d)!==0||o.get(-d)!==0?a.push(d):(n.has(d)&&a.push(d),l.push(d))}for(const c of a)n.remove(c);for(const c of l)n.insert(c)}getNodesInScreenByDistance(e){const{x:t,y:n}=e.getPositionOnScreen();return this._modules.graph.getNodes().filter(r=>r.isInScreen()&&r!==e).sort((r,i)=>{const s=r.getPositionOnScreen(),o=i.getPositionOnScreen();return vn(s.x,s.y,t,n)-vn(o.x,o.y,t,n)})}getNearestNodesForNode(e,t=240,n){const{x:r,y:i}=e.getPosition();return this.getNearestNodes(r,i,t,n,e)}getNearestNodes(e,t,n,r,i){if(this._updateIndex(),r){const s=this._modules.camera.screenToGraphVector({x:n,y:n});n=vn(0,0,s.x,s.y)}return this._getNearestNodes(e,t,n,i)}_getNearestNodes(e,t,n,r){const i=[],s=n*n,o=r?r._index:0,a=this._modules.graph.getNodes()._indexes,[l,c]=this._modules.graph.getNodeAttributes(["x","y"]);for(let d=0,u=a.length;d<u;d++){const h=a[d];if(h===o)continue;const g=e-l.get(h),p=t-c.get(h);g*g+p*p<=s&&i.push(h)}return this._modules.graph.nodeList(new Uint32Array(i))}queryRaw(e,t,n,r){this._updateIndex();const i=this._queryBounds;i[0]=e,i[1]=t,i[2]=n,i[3]=r;const s=this._index.query(e,t,n,r),{nodes:o,edges:a}=this._queryResult;o.length=a.length=0;for(let l=0;l<s.length;l++){const c=s[l];c<0?a.push(-c):o.push(c)}return this._queryResult}queryRawProjected(e,t,n,r){const i=this._queryBounds;return i[0]=e,i[1]=t,i[2]=n,i[3]=r,this._modules.camera.projectBounds(i),this.queryRaw(i[0],i[1],i[2],i[3])}query(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRaw(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}queryProjected(e,t,n,r){const i=this._modules.graph,{nodes:s,edges:o}=this.queryRawProjected(e,t,n,r);return{nodes:i.nodeList(new Uint32Array(s.slice())),edges:i.edgeList(new Uint32Array(o.slice()))}}getNodesByBoundingBox(e,t,n,r,i){if(this._updateIndex(),i){let u;u=this._modules.camera.screenToGraphVector({x:e,y:t}),e=u.x,t=u.y,u=this._modules.camera.screenToGraphVector({x:n,y:r}),n=u.x,r=u.y}const s=this._modules.graph,o=s.getNodes()._indexes,a=[],l=s.getNodeAttribute("excluded"),[c,d]=s.getNodeAttributes(["x","y"]);for(let u=0,h=o.length;u<h;u++){const g=o[u];if(l&&l.get(g))continue;const p=c&&c.get(g),m=d&&d.get(g);p>=e&&p<=n&&m>=t&&m<=r&&a.push(g)}return s.nodeList(new Uint32Array(a))}toggleDebug(e){e?(this._layer=this._modules.layers.addCanvasLayer(t=>{E2(t,this._index,this._queryBounds)},{isStatic:!1,noClear:!1}),this._layer.moveToTop()):this._layer&&(this._layer.destroy(),this._layer=null)}renderDebug(e){if(!this._layer)return this.toggleDebug(!0);this._layer.refresh(t=>{E2(t,this._index,this._queryBounds,e)})}},sP={};function cm(e,t,n,r,i=0,s=Math.sin(i),o=Math.cos(i),a=[0,0,0,0]){const l=n/2,c=r/2,d=e+l,u=t+c;if(i===0)return a[0]=e,a[1]=t,a[2]=e+n,a[3]=t+r,a;let h,g,p,m,_,y,f,x;return p=-l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,_=f=h,y=x=g,p=-l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),p=l,m=c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),p=l,m=-c,h=d+p*o-m*s,g=u+p*s+m*o,h<_?_=h:h>f&&(f=h),g<y?y=g:g>x&&(x=g),a[0]=_,a[1]=y,a[2]=f,a[3]=x,a}function iu(e,t,n,r,i=0){const s=n/2,o=r/2,a=e+s,l=t+o;if(i===0)return[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}];const c=Math.sin(i),d=Math.cos(i);let u,h,g,p;g=-s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d;const m={x:u,y:h};g=-s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const _={x:u,y:h};g=s,p=o,u=a+g*d-p*c,h=l+g*c+p*d;const y={x:u,y:h};return g=s,p=-o,u=a+g*d-p*c,h=l+g*c+p*d,[m,_,y,{x:u,y:h}]}function q_(e,t=0,n=1,r=lN.slice()){const i=n*Math.sin(t),s=n*Math.cos(t);return r[0]=e[0]+i,r[1]=e[1]+s,r[2]=e[2]+i,r[3]=e[3]+s,r}function H$(e,t){return dN(e,t)}function W$(e,t){return oP(e[0],e[1],e[2],e[3],t[0],t[1],t[2],t[3])}function X$(e,t,n,r,i,s,o,a){return e>i&&e<o&&t>s&&t<a||n>i&&n<o&&r>s&&r<a}function oP(e,t,n,r,i,s,o,a){return r>=s&&t<=a&&n>=i&&e<=o}qd(sP,{angle:()=>C6,circleCircleIntersection:()=>Jx,circleContainsCircle:()=>iB,circleContainsPoint:()=>rB,circleIntersectsBox:()=>tv,circleLineIntersection:()=>uN,circleSortCompare:()=>ev,computeCentroid:()=>_v,cubicBezierAABB:()=>mN,defaultAABB:()=>lN,degreesToRadians:()=>nB,distToSegmentSquared:()=>fv,distance:()=>vn,distancePointSegment:()=>NI,extendBounds:()=>dN,getAABB:()=>cm,getBezierCurveBoundingBox:()=>lm,getClosestPointOnLine:()=>L6,getClosestPointOnSegment:()=>II,getNormalOnEdge:()=>W6,getNormalOnQuadraticCurve:()=>FI,getOBBPoints:()=>iu,getPointOnBezierCurve:()=>Ld,getPointOnEdge:()=>H6,getPointOnQuadraticCurve:()=>am,getQuadraticBezierCurveLength:()=>Y6,getQuadraticCurveBoundingBox:()=>vv,getQuadraticCurveControlPoint:()=>Pi,getSelfLoopControlPoints:()=>ma,getTangentOnEdge:()=>X6,getTangentOnQuadraticCurve:()=>xv,intersects:()=>X$,isPointInLine:()=>TI,isPointInPolygon:()=>Td,isPointOnBezierCurve:()=>DI,isPointOnQuadraticCurve:()=>RI,lineAABB:()=>mv,lineAngle:()=>Sl,lineIntersection:()=>T6,lineLine:()=>Ka,move:()=>tB,moveAABB:()=>q_,normalize:()=>cN,overlaps:()=>oP,overlapsAABB:()=>W$,padBounds:()=>H$,polygonsIntersect:()=>MI,quadBezierAABB:()=>pN,radiansToDegrees:()=>S_,rotate:()=>Dg,segmentIntersection:()=>mc,segmentRectangleIntersection:()=>LI,squaredDistance:()=>Rh,twoSegmentsIntersect:()=>A6});var rh=40;function aP(e,t){const n=e.getAttribute("curvature"),r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen();if(r===i){const m=(n+r.getAttribute("radius"))*Gg*t,_=s.x,y=s.y,f=_-m,x=y,v=_,w=y+m;return[s,...[.2,.4,.6,.8].map(b=>Ld(b,_,y,_,y,f,x,v,w)),s]}const o=i.getPositionOnScreen();if(n===0)return[s,o];const a=o.x-s.x,l=o.y-s.y,c=Math.sqrt(a*a+l*l),d=(s.x+o.x)/2,u=(s.y+o.y)/2,h=n*(c/sm)*2,g=d+l/c*h,p=u+-a/c*h;return[s,...[.25,.5,.75].map(m=>am(m,s.x,s.y,o.x,o.y,g,p)),o]}function Y$(e,t,n){const r=e.getSource(),i=e.getTarget(),s=r.getPositionOnScreen(),o=i.getPositionOnScreen();if(Td(s.x,s.y,t)||Td(o.x,o.y,t))return!0;const a=aP(e,n);for(let l=0;l<a.length-1;++l){const c=a[l],d=a[l+1];for(let u=0;u<t.length-1;++u){const h=t[u],g=t[u+1];if(Ka(c.x,c.y,d.x,d.y,h.x,h.y,g.x,g.y))return!0}}return!1}function q$(e,t,n){const r=e.getPositionOnScreen(),i=Number(e.getAttribute("radius"))*n,s=r.x-i,o=r.y-i,a=r.x+i,l=r.y+i;return a>=t.minX&&s<=t.maxX&&l>=t.minY&&o<=t.maxY}function Z$(e,t,n){const r=aP(e,n);for(let i=0;i<r.length-1;++i){const s=r[i],o=r[i+1];if(mv(s.x,s.y,o.x,o.y,t.minX,t.minY,t.maxX,t.maxY))return!0}return!1}function S2(e,t,n,r){typeof n=="number"&&(n={left:n,right:n,top:n,bottom:n});const i=n.left===void 0?rh:n.left,s=n.right===void 0?rh:n.right,o=n.top===void 0?rh:n.top,a=n.bottom===void 0?rh:n.bottom,l=i+s,c=o+a,d=e.width===0?e.maxFixedSize:e.width,u=e.height===0?e.maxFixedSize:e.height,h=v$([(t.width-l)/(d+e.maxScaledSize),(t.height-c)/(u+e.maxScaledSize),(t.width-l-e.maxFixedSize)/d,(t.height-c-e.maxFixedSize)/u,r/e.maxScaledSize||NaN]);return{x:e.cx+(s-i)/(2*h),y:e.cy+(a-o)/(2*h),zoom:h}}var Q$="quadraticInOut",k2=200,K$=class extends it{constructor(){super(...arguments),this._isLocating=!1,this._cacheValid=!0,this._cachedGraphBoundingBox=new Nn,this._invalidCache=()=>{this._cacheValid=!1}}onMounted(){this._modules.events.on(["addNodes","removeNodes","addEdges","removeEdges","excludedStateChange","clearGraph","updateAttributes"],this._invalidCache)}onReady(){this.locateGraph({},!0)}locateGraph(e,t=!1){return this._onLocateStart(),t?this._locateGraph(e):this._modules.transformations.whenApplied().then(()=>this._locateGraph(e))}_locateGraph(e){return this._locateBoundingBox(this.getGraphBoundingBox(),e).then(()=>this._onLocated())}locateElements(e,t){return this._modules.transformations.whenApplied().then(()=>this._locateBoundingBox(this.getBoundingBox(e),t)).then(()=>this._onLocated())}locateRawGraph(e,t){return this._onLocateStart(),this._locateBoundingBox(this.getRawGraphBoundingBox(e),t).then(()=>this._onLocated())}_onLocateStart(){this._isLocating=!0}_onLocated(){this._isLocating=!1}isLocating(){return this._isLocating}getGraphBoundingBox(e=!1){return e?this.getBoundingBox(this._ogma.getNodes(),!0,e):(this._cacheValid||this._updateCache(),Object.assign({},this._cachedGraphBoundingBox))}forceInvalidCache(){this._invalidCache()}_updateCache(){this._cacheValid=!0,this._cachedGraphBoundingBox=this.getBoundingBox(this._modules.graph.getNodes())}getBoundingBox(e,t=!1,n=!1,r){let i;if(i=e.isNode?this._getNodesBoundingBox(e.toList(),t):this._getEdgesBoundingBox(e.toList(),r),n){const s=this._ogma.modules.labels.getTextsBoundingBox(e.isNode?e.toList():null,e.isNode?null:e.toList());i=i.extend(s)}return i}_getNodesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getNodeAttributes(),r=[],i=[],s=[],o=[];for(let a=0;a<e.size;++a){const l=e._indexes[a];if(n.excluded.get(l)===0){const c=n.x.get(l),d=n.y.get(l),u=n.radius.get(l),h=2*u;n.scalingMethod.get(l)==="scaled"?s.push(h):o.push(h),t?(r.push(c-u,c+u),i.push(d-u,d+u)):(r.push(c),i.push(d))}}return new Nn({xValues:r,yValues:i,scaledSizeValues:s,fixedSizeValues:o})}_getEdgesBoundingBox(e,t=!1){this._modules.graphics.forceAttributesComputation();const n=this._modules.graphics.getEdgeAttributes(),r=this._modules.graphics.getNodeAttributes(),i={x1:0,y1:0,x2:0,y2:0},s={x:0,y:0},o={minX:0,minY:0,maxX:0,maxY:0},a=[],l=[],c=[],d=[];for(let u=0;u<e.size;++u){const h=e._indexes[u],g=n.source.get(h),p=n.target.get(h),m=n.curvature.get(h),_=r.x.get(g),y=r.y.get(g),f=r.scalingMethod.get(g)==="scaled",x=2*r.radius.get(g),v=r.x.get(p),w=r.y.get(p),b=r.scalingMethod.get(p)==="scaled",S=2*r.radius.get(p);f?c.push(x):d.push(x),b?c.push(S):d.push(S),t||m===0?(a.push(_,v),l.push(y,w)):g===p?(ma(_,y,m,x/2,0,i),lm(_,y,i.x1,i.y1,i.x2,i.y2,v,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY)):(Pi(_,y,v,w,m,s),vv(_,y,s.x,s.y,v,w,o),a.push(o.minX,o.maxX),l.push(o.minY,o.maxY))}return new Nn({xValues:a,yValues:l,scaledSizeValues:c,fixedSizeValues:d})}getRawGraphBoundingBox(e){const t=e.nodes.length,n=new Array(t),r=new Array(t),i=new Array(t);for(let s=0;s<t;s++){const o=e.nodes[s].attributes||{};n[s]=o.x||0,r[s]=o.y||0,i[s]=o.radius||5}return new Nn({xValues:n,yValues:r,scaledSizeValues:i})}_locateBoundingBox(e,t={}){if(isNaN(e.cx))return Promise.resolve();const{padding:n={},easing:r=Q$,duration:i=0,maxNodeSizeOnScreen:s=k2,ignoreZoomLimits:o=!1}=t,a=S2(e,this._modules.dom.getDimensions(),n,s),l=a.x,c=a.y,d=a.zoom,u=d/this._modules.camera.getZoom();return this._moveCamera(l,c,d,i,r,u,o)}_moveCamera(e,t,n,r,i,s,o){return s>1.01?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5})):s<.99?(this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o,startAfter:.5}),this._modules.camera.setZoom(n,{duration:r,easing:i,ignoreZoomLimits:o})):this._modules.camera.setCenter({x:e,y:t},{duration:r,easing:i,ignoreZoomLimits:o})}computeConfigForBounds(e,t={}){const{padding:n={},maxNodeSizeOnScreen:r=k2}=t;return S2(e,this._modules.dom.getDimensions(),n,r)}layoutDataBoundingBox({x:e,y:t,indexes:n}){const r=this._modules.graphics.getNodeAttributes(),i=[],s=[],o=[],a=[];for(let l=0;l<n.length;++l){const c=n[l],d=e[l],u=t[l],h=2*r.radius.get(c),g=r.scalingMethod.get(c)==="scaled";i.push(d),s.push(u),g?o.push(h):a.push(h)}return new Nn({xValues:i,yValues:s,scaledSizeValues:o,fixedSizeValues:a})}isEdgeInPolygon(e,t){return Y$(e,t,this._modules.camera.getZoom())}isElementInView(e,{margin:t=0}={}){const{width:n,height:r}=this._modules.camera.getSize(),i={minX:-t,minY:-t,maxX:n+t,maxY:r+t};return e.isNode?this.isNodeInRectangle(e,i):this.isEdgeInRectangle(e,i)}isNodeInRectangle(e,t){return q$(e,t,this._modules.camera.getZoom())}isNodeInPolygon(e,t){const n=e.getPositionOnScreen();return Td(n.x,n.y,t)}isEdgeInRectangle(e,t){return Z$(e,t,this._modules.camera.getZoom())}},J$=sa&&typeof navigator<"u"&&"msLaunchUri"in navigator&&_s&&!("documentMode"in document);function eV(e){return J$?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Fr():e.deltaY&&e.deltaMode===1?20*-e.deltaY:e.deltaY&&e.deltaMode===2?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var tV=6,nV=class extends it{constructor(){super(...arguments),this._px=0,this._py=0,this._pressX=0,this._pressY=0,this._left=!1,this._middle=!1,this._right=!1,this._clickCounter={left:0,middle:0,right:0},this._buttons={left:!1,middle:!1,right:!1},this._skipNextMove=!1,this._onMouseWheel=e=>{this._isEnabled()&&this._isWheelEnabled()&&(!this._disableWheelUntilMouseDown()||this._modules.dom.hasFocus())&&(e.preventDefault(),e.stopPropagation(),this._applyMouseWheelZoom(e))},this._onMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=t-this._px,i=n-this._py;r===0&&i===0||(this._skipNextMove?this._skipNextMove=!1:vn(t,n,this._pressX,this._pressY)>=tV&&(this._resetClickCounter(),this._modules.events.fire("mousemoveInternal",{x:t,y:n,dx:r,dy:i,domEvent:this._evt})))},this._onDocumentMouseMove=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._bounds,i=t-this._px,s=n-this._py;(t<0||t>r.width||n<0||n>r.height)&&this._modules.events.fire("documentMouseMove",{x:t,y:n,dx:i,dy:s,domEvent:this._evt})},this._onMouseUp=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._evt;this._buttons[r]=!1,this._clickCounter[this._button]===1?this._modules.events.fire("clickInternal",{button:r,x:t,y:n,domEvent:i}):this._clickCounter[r]>1&&(this._modules.events.fire("doubleclickInternal",{button:r,x:t,y:n,domEvent:i}),this._resetClickCounter(r)),this._modules.events.fire("mouseupInternal",{button:r,x:t,y:n,domEvent:i})},this._onDocumentMouseup=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button;this._buttons[r]=!1;const i=this._modules.dom;this._modules.events.fire("documentMouseUp",{button:r,x:t,y:n,domEvent:this._evt}),i.removeDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.removeDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onMouseDown=e=>{if(!this._isEnabled()||!this._setXY(e))return;const t=this._modules.position.x,n=this._modules.position.y,r=this._button,i=this._modules.dom;this._skipNextMove=!0,this._pressX=t,this._pressY=n,this._lastMouseDownTarget=e.target,i.focus(),this._buttons[r]=!0,this._clickCounter[r]+=1;const s=r;this._dbclickTimer=i.setTimeout(()=>{this._resetClickCounter(s,0)},this._getDoubleClickTimer()),this._modules.events.fire("mousedownInternal",{button:r,x:t,y:n,domEvent:this._evt}),i.addDirectWindowEventListener("mousemove",this._onDocumentMouseMove),i.addDirectWindowEventListener("mouseup",this._onDocumentMouseup)},this._onDrop=e=>{if(!this._isEnabled()||!this._setXY(e))return;e.preventDefault();const{x:t,y:n}=this._modules.camera.screenToGraphCoordinates(this._modules.position);this._modules.events.fire("drop",{domEvent:this._evt,x:t,y:n})}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("mouse.enabled",!0),this._modules.settings.register("mouse.wheelEnabled",!0),this._modules.settings.register("mouse.disableWheelUntilMouseDown",!1),this._modules.settings.register("mouse.doubleClickTimer",500),this._modules.events.register(["mousedownInternal","mouseupInternal","mousemoveInternal","mousewheelInternal","clickInternal","doubleclickInternal","mouseoverInternal","mouseoutInternal","documentMouseUp","documentMouseMove","drop"]),this._modules.dom.afterNextFrame().then(()=>this._initializeListeners())}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get left(){return this._left}get right(){return this._right}get middle(){return this._middle}_isEnabled(){return this._modules.settings.get("mouse.enabled")}_isWheelEnabled(){return this._modules.settings.get("mouse.wheelEnabled")}_disableWheelUntilMouseDown(){return this._modules.settings.get("mouse.disableWheelUntilMouseDown")}_getDoubleClickTimer(){return this._modules.settings.get("mouse.doubleClickTimer")}_resetClickCounter(e,t=0){e?this._clickCounter[e]=t:(this._clickCounter.left=t,this._clickCounter.middle=t,this._clickCounter.right=t),this._modules.dom.clearTimeout(this._dbclickTimer),this._lastMouseDownTarget=null}_setXY(e){const t=this._domElt.getBoundingClientRect();return this._bounds=t,!!t&&(this._evt=e,this._button=Hx[e.button],this._px=this._modules.position.x,this._py=this._modules.position.y,this._modules.position.x=e.clientX-t.left,this._modules.position.y=e.clientY-t.top,this._left=this._buttons.left,this._right=this._buttons.right,this._middle=this._buttons.middle,!0)}_applyMouseWheelZoom(e){this._setXY(e)&&this._modules.events.fire("mousewheelInternal",{delta:eV(e),x:this._modules.position.x,y:this._modules.position.y,domEvent:this._evt})}_initializeListeners(){const e=this._domElt,t=this._modules.dom;$p&&this._modules.dom.addElementEventListener(document,"contextmenu",r=>{this._lastMouseDownTarget&&r.target!==this._lastMouseDownTarget&&r.preventDefault()}),t.addElementEventListener(e,"contextmenu",r=>{this._setXY(r),this._modules.dom.hasFocus()&&this._modules.settings.get("mouse.enabled")&&r.preventDefault()},!1);const n="onwheel"in e?"wheel":e.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";t.addElementEventListener(e,n,this._onMouseWheel),t.addElementEventListener(e,"mousemove",this._onMouseMove),t.addElementEventListener(e,"mouseleave",r=>{if(!this._isEnabled())return;this._modules.dom.blur();const i=e.getBoundingClientRect();r.clientX>=i.left+1&&r.clientX<=i.right-1&&r.clientY>=i.top+1&&r.clientY<=i.bottom-1||this._modules.events.fire("mouseout",{domEvent:this._evt})}),t.addElementEventListener(e,"mousedown",this._onMouseDown),t.addElementEventListener(e,"mouseup",this._onMouseUp),t.addElementEventListener(e,"dragover",r=>{r.preventDefault()}),t.addElementEventListener(e,"drop",this._onDrop)}},rV={doubleTapTimer:500,touchEventRate:15},iV=class extends it{constructor(){super(...arguments),this._pressed=!1,this._addEvent=(e,t,n,r)=>{this._modules.dom.addElementEventListener(e,t,n,r)},this._addWinEvent=(e,t,n,r)=>{this._modules.dom.addDirectWindowEventListener(t,n,r)},this._removeWinEvent=(e,t,n)=>{this._modules.dom.removeDirectWindowEventListener(t,n)}}onMounted(){this._domElt=this._modules.graphics.getDomElement(),this._modules.settings.register("touch.enabled",!0),this._modules.events.register(["touchDown","touchUp","touchTap","touchDoubleTap","touchMove","touchStartGesture","touchProgressGesture","touchEndGesture","documentTouchMove","documentTouchUp"]),this._modules.dom.afterNextFrame().then(()=>{this._initialize(this)})}get x(){return this._modules.position.x}get y(){return this._modules.position.y}get pressed(){return this._pressed}_listen(e,t,n){if(CN){if(t==="touchstart")return t4(this._addEvent,e,n);if(t==="touchmove")return r4(this._addWinEvent,e,n);if(t==="touchend")return i4(this._addWinEvent,e,n);if(t==="touchcancel")return n4(this._addWinEvent,e,n)}return this._modules.dom.addElementEventListener(e,t,n)}_initialize(e){let t=0,n=0,r=0,i=0,s=!1,o="left",a=0,l=!1,c=!1,d=0,u=null,h=null;const g=()=>{this._modules.position.x=t,this._modules.position.y=n,this._pressed=s},p=(v,w)=>{const b=this._domElt.getBoundingClientRect();if(!b||v.touches==null)return null;const[S,k]=v.touches,C=S.clientX-b.left,A=S.clientY-b.top,N=k.clientX-b.left,R=k.clientY-b.top,B=(C+N)/2,W=(A+R)/2,F=B-t,T=W-n,H=vn(C,A,N,R),G=this._modules.settings.get("interactions.zoom.speed")||Y_,q=bI(H,G),te=Sl(C,A,N,R),J={dx:F,dy:T,rotation:te-d,scale:q};return((ue,Te,ce,_e)=>{d=Te,t=ce,n=_e,g()})(0,te,B,W),J},m=v=>{if(v.touches&&v.touches.length===2&&c){const w=p(v);if(w){const{dx:b,dy:S,rotation:k,scale:C}=w;this._modules.events.fire("touchProgressGesture",{dx:b,dy:S,rotation:k,scale:C,x:t,y:n,domEvent:u,button:o})}}},_=v=>{if(o=Hx[v.button],!v.touches)return!1;if(v.touches.length!==1)return s=!1,v.touches.length>1&&this._modules.events.fire("touchUp",{x:t,y:n,domEvent:u,button:o}),!1;const w=this._domElt.getBoundingClientRect();return w&&(r=t,i=n,t=v.touches[0].clientX-w.left|0,n=v.touches[0].clientY-w.top|0,s=!0,u=v,g()),!0},y=()=>{a=0,this._modules.dom.clearTimeout(h)},f=v=>{if(v.preventDefault(),!v.touches)return;if(v.touches.length!==2&&c&&(c=!1,this._modules.events.fire("touchEndGesture",{domEvent:u})),_(v),v.touches.length===0){const b={x:t,y:n,domEvent:u,button:o};a===1&&this._modules.events.fire("touchTap",b),a>1&&(this._modules.events.fire("touchDoubleTap",b),y()),this._modules.events.fire("touchUp",b)}const w=ys().documentElement;QE(this._removeWinEvent,w,"touchmove",this._onMove),QE(this._removeWinEvent,w,"touchend",this._onEnd)},x=v=>{m(v),l?l=!1:(y(),_(v)&&this._modules.events.fire("touchMove",{x:t,y:n,dx:t-r,dy:n-i,domEvent:u,button:o}))};this._listen(this._domElt,"touchstart",v=>{if(!v.touches)return;v.touches.length!==2||c||p(v)&&(c=!0,this._modules.events.fire("touchStartGesture",{domEvent:u})),_(v)&&(this._modules.dom.focus(),this._modules.events.fire("touchDown",{x:t,y:n,domEvent:u,button:o}),a+=1,h=this._modules.dom.setTimeout(y,rV.doubleTapTimer),l=!0);const w=ys().documentElement;this._onMove=this._listen(w,"touchmove",x),this._onEnd=this._listen(w,"touchend",f)})}},A2=["x","y","radius"],ih=-1e7,sV=class extends it{constructor(){super(...arguments),this._visibleGroups=new Set,this._visualGroupsLayers=new Map,this._groupsToHide=[],this._paddingMap=new Map,this._shouldUpdateGroups=!1,this._onGroupingRun=({metaNodes:e,padding:t})=>{isNaN(+t)?e._indexes.forEach((n,r)=>this._paddingMap.set(n,t[r])):e._indexes.forEach(n=>this._paddingMap.set(n,t)),this._shouldUpdateGroups=!0},this._onRemoveNodes=({nodes:e})=>{e.forEach(t=>this.removeVisibleGroup(t))},this._onSetMultipleAttributes=({elements:e,values:t,options:n})=>{if(this._recursiveGuard||!this._visibleGroups.size)return;const r=e.toList().map((i,s)=>({group:i,translation:t.constructor===Array?{x:t[s]&&t[s].x||0,y:t[s]&&t[s].y||0}:{x:t.x||0,y:t.y||0},isGroup:i.isNode&&this._visibleGroups.has(i._index)})).filter(({isGroup:i})=>i);r.length&&(this._recursiveGuard=!0,r.forEach(({group:i,translation:s})=>this.animateChildren(i,n,s)),this._recursiveGuard=!1)},this._updateVisualGroups=(e,t,n)=>{const r=n.nodes.getUpdatedElementsList().filter(l=>l),i=e.nodes.outputFlexArrays,s=e.nodes.inputFlexArrays,o=this._visibleGroups;if(r.size===0||o.size===0&&!this._groupsToHide.length)return e.nodes.toUpdate.clear(),e.edges.toUpdate.clear(),i.radius.reset(),i.x.reset(),i.y.reset(),void(e.nodes.formattedOutput&&(e.nodes.formattedOutput.attributes=[]));const a=n.nodes.getUpdatedAttributes();for(;this._groupsToHide.length>0;){const l=this._groupsToHide.pop();i.radius.set(l,void 0),i.x.set(l,void 0),i.y.set(l,void 0)}if(a.has("x")||a.has("y")||a.has("radius")||this._shouldUpdateGroups){this._shouldUpdateGroups=!1;const l=this._getAllSubNodes(r);let c=this._getAllMetaNodes(r);const d=e.nodes.toUpdate,u=e.edges.toUpdate,h=this._subNodeOffsetX,g=this._subNodeOffsetY;e.nodes.formattedOutput&&e.nodes.output&&(e.nodes.formattedOutput.attributes=A2,e.nodes.output.attributes=A2);const p=new Set;r.forEach(m=>{const _=m._index;i.x.set(_,void 0),i.y.set(_,void 0),p.add(_)}),l.forEach(m=>{if(!s)return;const _=m.getMetaNode(),y=m._index;let f=s.x.get(y),x=s.y.get(y);if(_&&o.has(_._index)){const v=h.get(y),w=g.get(y),b=i.x.get(_._index),S=i.y.get(_._index),k=f-b,C=x-S;if(v===ih||w===ih)return h.set(y,k),g.set(y,C),void(c.includes(_)||(c=c.concat(_.toList())));d.addIndex(y),u.add(m.getAdjacentEdges()),p.has(y)||v===k&&w===C||(f=b+v,x=S+w,i.x.set(y,f),i.y.set(y,x)),h.set(y,f-b),g.set(y,x-S)}}),c.forEach(m=>{const _=m.getSubNodes();if(!_)return;const y=i.x.getMultiple(_._indexes),f=i.y.getMultiple(_._indexes),x=i.radius.getMultiple(_._indexes),v=Nn.fromValues(y,f,x),[w,b,S]=v.width===v.height&&v.width===v.maxScaledSize?[v.cx,v.cy,v.maxScaledSize]:Zp(y,f,x),k=this._paddingMap.get(m._index)||0;_.forEach((C,A)=>{h.set(C._index,y[A]-w),g.set(C._index,f[A]-b)}),i.x.set(m._index,w),i.y.set(m._index,b),i.radius.set(m._index,S+k),d.addIndex(m._index),u.add(m.getAdjacentEdges())}),n.nodes.addUpdatedAttribute("radius"),n.nodes.addUpdatedAttribute("x"),n.nodes.addUpdatedAttribute("y"),n.nodes.redrawElements(c)}}}onMounted(){this._subNodesList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._subEdgesList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._metaNodeList=this._modules.graph.createNodeAttribute({storage:"any",default:null},!1),this._metaEdgeList=this._modules.graph.createEdgeAttribute({storage:"any",default:null},!1),this._subNodeOffsetX=this._modules.graph.createNodeAttribute({storage:"float",default:ih},!1),this._subNodeOffsetY=this._modules.graph.createNodeAttribute({storage:"float",default:ih},!1),this._recursiveGuard=!1,this._modules.events.register(["groupingRun"]),this._modules.events.on("setMultipleAttributes",this._onSetMultipleAttributes).on("groupingRun",this._onGroupingRun).on("removeNodes",this._onRemoveNodes),this._groupAttributeLayer=this._modules.graphics.addAttributeLayer({name:`internal(${v4})`,priority:7,nodeSelector:e=>this._visibleGroups.has(e._index),edgeSelector:e=>e.isVirtual(),nodeAttributes:{layer:e=>this._visualGroupsLayers.get(e._index)},nodeOutput:{attributes:["layer"]},nodeDependencies:{self:{data:!1,attributes:["radius"],hover:!0},adjacentNodes:{attributes:"all"},adjacentEdges:{attributes:"all"}}}),this._topologyLayer=this._modules.graphics.addAttributeLayer({name:"internal(position-forcer)",priority:6.9,nodeDependencies:{self:{attributes:["x","y","radius"]},adjacentNodes:{attributes:"all"}},onBeforeUpdate:this._updateVisualGroups,nodeOutput:{attributes:["x","y","radius","layer"]}})}animateChildren(e,t,n){n.x===0&&n.y===0||e.getSubNodes().forEach(r=>{const i=this._subNodeOffsetX.get(r._index),s=this._subNodeOffsetY.get(r._index),o={x:n.x+i,y:n.y+s};r.setAttributes(o,t),r.getSubNodes()&&this.animateChildren(r,t,o)})}resetOffsets(){this._recursiveGuard=!0;const e=this._modules.graph.getNodes(),t=this._topologyLayer.getFlexArrays().nodes;e.setAttribute("x",t.x.getMultiple(e._indexes)),e.setAttribute("y",t.y.getMultiple(e._indexes)),t.x.reset(),t.y.reset(),this._recursiveGuard=!1}addVisibleGroup(e,t){this._visualGroupsLayers.set(e._index,t),this._visibleGroups.add(e._index)}getNodeDepth(e){return this._visualGroupsLayers.get(e._index)||0}removeVisibleGroup(e){const t=e._index;this._visibleGroups.delete(t)&&(this._groupsToHide.push(t),this._visualGroupsLayers.delete(t))}_getAllSubNodes(e){const t=Array.from(e._indexes),n=[],r=this._visibleGroups,i=this._subNodesList;for(;t.length!==0;){const s=t.pop();if(s!=null&&r.has(s)){const o=i.get(s),a=Array.from(o._indexes);n.push.apply(n,a),t.unshift.apply(t,a)}}return this._modules.graph.nodeList(new Uint32Array(n))}_getAllMetaNodes(e){const t=Array.from(e._indexes),n=this._visibleGroups,r=this._metaNodeList,i=[],s=new Set;for(;t.length!==0;){const o=t.pop();if(o!=null){const a=r.get(o);a!==null&&!s.has(a._index)&&n.has(a._index)&&(s.add(a._index),i.push(a._index),t.unshift(a._index))}}return this._modules.graph.nodeList(new Uint32Array(i))}isVisibleGroup(e){return this._visibleGroups.has(e._index)}getSubNodeOffset(e){return{x:this._subNodeOffsetX.get(e._index),y:this._subNodeOffsetY.get(e._index)}}_fetchSubEltsList(e){return e?this._subNodesList:this._subEdgesList}_fetchMetaEltList(e){return e?this._metaNodeList:this._metaEdgeList}setSubElements(e,t){this._fetchSubEltsList(e.isNode).setMultiple(e._indexes,t)}setMetaElement(e,t){this._fetchMetaEltList(e.isNode).setMultiple(e._indexes,t)}getSubElements(e){return this._fetchSubEltsList(e.isNode).getMultiple(e._indexes)}getMetaElement(e){return this._fetchMetaEltList(e.isNode).getMultiple(e._indexes)}},oV=class extends it{constructor(){super(...arguments),this._list=[],this._idCounter=0,this._mustRefresh=!1,this._safeGuard=!1,this._preventFiringEvents=!1,this._afterCurrentUpdate=Promise.resolve(),this._destroyed=!1,this._update=()=>{let e=Promise.resolve();this._modules.captor.setDetectionEnabled(!1);const t=this._list.filter(({shouldDo:o})=>o),n=this._list.filter(({enabled:o,shouldUndo:a})=>o||a);let r,i,s=!1;if(n.length===t.length+1&&C2(n,t,t.length)){const o=n.pop();r=o?[o]:[],i=[],s=!0}else if(t.length===n.length+1&&C2(n,t,n.length)){r=[];const o=t.pop();i=o?[o]:[],s=!0}else r=n,i=t,s=!1;return e=e.then(()=>this._resolveTransformations(r,i,s)).then(()=>this._modules.captor.setDetectionEnabled(!0)).then(()=>{r.filter(({shouldUndo:o})=>o).forEach(o=>{o.shouldUndo=!1,o.enabled=!1}),i.forEach(o=>{o.shouldDo=!0,o.enabled=!0})}),e}}onMounted(){this._modules.classes.createClass({name:dn,isBuiltin:!0,nodeAttributes:{opacity:0,radius:0},edgeAttributes:{opacity:0}}),this._modules.classes.createClass({name:zs,isBuiltin:!0,nodeAttributes:{opacity:0},edgeAttributes:{opacity:0}}),this._nodeTransformationIdList=this._modules.graph.createNodeAttribute({storage:16,default:0},!1),this._edgeTransformationIdList=this._modules.graph.createEdgeAttribute({storage:16,default:0},!1),this._modules.settings.register("transformations.updateOnDataChange",!0),this._modules.events.register(["transformationEnabled","transformationDisabled","transformationSetIndex","transformationDestroyed","transformationRefresh"]),this._modules.events.on("clearGraph",()=>{this._list.forEach(e=>e.resetContext())}),this._modules.events.on(["addNodes","addEdges","removeNodes","removeEdges"],({virtual:e})=>{e||this._afterCurrentUpdate.then(()=>this.refresh(!0))}).on("requestElementsToDelete",e=>{e.virtual||(e.elementsToRemove=this._getSubElements(e.elementsToRemove),e.elementsToRemove.size&&this._resolveTransformations(this._list,[],!1))}).on(["updateNodeData","updateEdgeData"],()=>{this._modules.settings.get("transformations.updateOnDataChange")&&!this._safeGuard&&this.refresh(!0)})}refresh(e=!1){return this._list.length?(this._mustRefresh||this._safeGuard||(this._preventFiringEvents=!0,this._mustRefresh=!0,this._safeGuard=!0,this._afterCurrentUpdate=this._afterCurrentUpdate.then(()=>this._update()).then(()=>(this._modules.dom.refresh(),this._modules.dom.afterNextFrame())).then(()=>(this._modules.dom.refresh(),this._mustRefresh=!1,this._safeGuard=!1,this._list.forEach(t=>{if(t.getError())return t.cleanup(),t.resetContext(),t.reject();t.resolve(),this._preventFiringEvents=!e,this._fireEvent("transformationRefresh",{target:t}),this._preventFiringEvents=!1}),Promise.resolve()))),this._afterCurrentUpdate):Promise.resolve()}getById(e){return this._list.find(t=>t.getId()===e)}_fireEvent(e,t){this._preventFiringEvents||this._destroyed||this._modules.events.fire(e,t)}_getSubElements(e){return e.reduce((t,n)=>{if(n===void 0)return t;const r=this._modules.grouping.getSubElements(n)[0];return r?t.concat(this._getSubElements(r)):t.concat(n)},e.slice(0,0))}_assignTransformationIds(e,t,n){t!==null&&this._nodeTransformationIdList.setMultiple(t._indexes,e),n!==null&&this._edgeTransformationIdList.setMultiple(n._indexes,e)}_resolveTransformations(e,t,n){if(n||(e.forEach(o=>o.setDuration(0)),t.forEach(o=>o.setDuration(0))),this._destroyed)return Promise.resolve();const r=this._modules.selection.getSelectedNodes().getId(),i=this._modules.selection.getSelectedEdges().getId();let s=Promise.resolve();return e.slice().reverse().forEach(o=>{o.getContext()!==null&&(s=s.then(()=>o.undo()))}),t.forEach(o=>{s=s.then(()=>o.run()).catch(a=>(o.setError(a),!0)).then(a=>{if(a===!0)return Promise.resolve();const l=a;return this._assignTransformationIds(o.getId(),l.virtualNodes,l.virtualEdges),o.setContext(l),Promise.resolve()})}),s=s.then(()=>{this._destroyed||(this._modules.graph.getNodes(r).setSelected(!0),this._modules.graph.getEdges(i).setSelected(!0))}),s}getList(){return this._list}clear(){const e=this._list.slice();return e.forEach(t=>{t.shouldUndo=!0,t.shouldDo=!1,t.setRemovalDuration(0)}),this.refresh().then(()=>(this._list=this._list.filter(t=>!e.includes(t)),Promise.resolve())).then(()=>Promise.all(e.slice().reverse().map(t=>t.cleanup()))).then(()=>{e.forEach(t=>{this._fireEvent("transformationDestroyed",{target:t})})})}_get(e,t=!0){const n=this._list.find(r=>r.getId()===e);if(!n){if(t)throw new Error("calling a method on a destroyed transformation");return null}return n}enable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldDo=!0,e.shouldUndo=e.enabled,e.setDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationEnabled",{target:e})})}disable(e,t){return this._afterCurrentUpdate.then(()=>(e.shouldUndo=!0,e.shouldDo=!1,e.setRemovalDuration(t),this.refresh())).then(()=>{this._preventFiringEvents||this._fireEvent("transformationDisabled",{target:e})})}remove(e,t){return this._afterCurrentUpdate.then(()=>(e.setRemovalDuration(t),e.shouldUndo=!0,e.shouldDo=!1,this.refresh().then(()=>{e.cleanup(),this._list.splice(e.getIndex(),1)}))).then(()=>{this._fireEvent("transformationDestroyed",{target:e})})}setIndex(e,t){if(!e)return this._afterCurrentUpdate;let n,r;return this._preventFiringEvents=!0,this._afterCurrentUpdate.then(()=>{const i=e.getIndex(),s=Math.min(i,t);return n=this._list.slice(s).filter(o=>o.isEnabled()),r=n.map(o=>[o.getDuration(),o.getRemovalDuration()]),n.forEach(o=>o.disable(0)),this.refresh()}).then(()=>(this._list.splice(e.getIndex(),1),this._list.splice(Wr(t,0,this._list.length),0,e),n.forEach((i,s)=>{i.enable(0)}),this.refresh())).then(()=>(n.forEach((i,s)=>{i.setDuration(r[s][0]),i.setRemovalDuration(r[s][1])}),this._afterCurrentUpdate)).then(()=>{this._preventFiringEvents=!1,this._fireEvent("transformationSetIndex",{target:e,index:t})})}setOptions(e,t){return e._setOptions(t),e.setDuration(t.duration),e.enabled===t.enabled&&e.enabled?this.refresh(!0):t.enabled?this.enable(e,t.duration):this.disable(e,t.duration)}getIndex(e){for(let t=0;t<this._list.length;t++)if(this._list[t]===e)return t;return-1}add(e){return this._list.push(e),e.initialize({ogma:this._ogma,id:++this._idCounter}),this.refresh().then(()=>e.isEnabled()?this._fireEvent("transformationEnabled",{target:e}):this._fireEvent("transformationDisabled",{target:e})),e}whenApplied(){return this._modules.dom.afterNextFrame().then(()=>this._afterCurrentUpdate)}isEnabled(e){const t=this._get(e);return t&&t.enabled||!1}_getElementTransformationId(e){return(e.isNode?this._nodeTransformationIdList:this._edgeTransformationIdList).get(e._index)}isElementVirtual(e){return this._modules.graph.getAttribute(e.isNode,"virtual").get(e._index)!==0}getElementTransformation(e){return this._get(this._getElementTransformationId(e),!1)}destroy(){this._destroyed=!0}};function C2(e,t,n){for(let r=0;r<n;++r)if(e[r].getId()!==t[r].getId())return!1;return!0}var T2={layer:RN,outline:!0,outerStroke:{color:O_,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:eM,minVisibleSize:0}},aV={layer:RN,color:O_,text:{backgroundColor:eM,minVisibleSize:0},stroke:{color:O_,width:0}},lV=class extends it{onMounted(){this._modules.events.register(["nodesSelected","nodesUnselected","edgesSelected","edgesUnselected"]),this._selectionExtremityHighlightedClass=this._modules.classes.createClass({name:L_,isBuiltin:!0,nodeAttributes:T2}),this._selectedClass=this._modules.classes.createClass({name:nn,isBuiltin:!0,nodeAttributes:T2,edgeAttributes:aV}),this._modules.events.on(`nodeClassAdded_${nn}`,t=>{this._modules.events.fire("nodesSelected",t)}),this._modules.events.on(`edgeClassAdded_${nn}`,t=>{this._modules.events.fire("edgesSelected",t)}),this._modules.events.on(`nodeClassRemoved_${nn}`,t=>{this._modules.events.fire("nodesUnselected",t)}),this._modules.events.on(`edgeClassRemoved_${nn}`,t=>{this._modules.events.fire("edgesUnselected",t)}),this._modules.settings.register("interactions.selection.enabled",!0),this._modules.settings.register("interactions.selection.multiSelectionKey","ctrl"),this._modules.interactions.onClick({priority:"selection",check:({button:t})=>{const n=!!this._modules.settings.get("interactions.selection.enabled");return t==="left"&&n},handler:({target:t})=>{if(t){const n=this._modules.settings.get("interactions.selection.multiSelectionKey"),r=n&&this._modules.keyboard.isPressed(n);t.isNode?this._selectedClass.clearEdges():this._selectedClass.clearNodes(),r?t.hasClass(nn)?t.removeClass(nn):t.addClass(nn):((t.isNode?this._selectedClass.getNodes():this._selectedClass.getEdges()).filter(i=>i!==t).removeClass(nn),t.hasClass(nn)||t.addClass(nn))}else this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}});const e=()=>{this._selectionExtremityHighlightedClass.clearNodes(),this._selectedClass.getEdges().getExtremities().addClass(L_)};this._modules.events.on("beforeRemoveEdges",({edges:t})=>t.setSelected(!1)).on("excludedStateChange",({elements:t,value:n})=>{n||t.setSelected(!1)}).on(`edgeClassAdded_${nn}`,e).on(`edgeClassRemoved_${nn}`,e)}setNodeAttributes(e,t){this._selectedClass.update({nodeAttributes:e,fullOverwrite:t}),this._selectionExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}setEdgeAttributes(e,t){this._selectedClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}_updateExtremityHighlightLayer(){const e=this._selectedClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._selectionExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}setActive(e,t){if(Rn(t)){const n=[],r=[];e.toList().forEach((i,s)=>{(t[s]?n:r).push(i.getId())}),n.length!==0&&this._modules.graph.getElements(e.isNode,n).addClass(nn),r.length!==0&&this._modules.graph.getElements(e.isNode,r).removeClass(nn)}else e.size&&e[t?"addClass":"removeClass"](nn)}areActive(e){return e.hasClass(nn)}getSelectedNodes(){return this._selectedClass.getNodes()}getSelectedEdges(){return this._selectedClass.getEdges()}getNonSelectedNodes(){return this._modules.graph.getNodes().filter(e=>!e.hasClass(nn))}getNonSelectedEdges(){return this._modules.graph.getEdges().filter(e=>!e.hasClass(nn))}clear(){this._selectedClass.clearNodes(),this._selectedClass.clearEdges()}},cV=class extends it{onMounted(){this._delayedCalls=[],this._idIdle=()=>!this._modules.captor.isAnyButtonPressed()&&!this._modules.dom.isPlayingFrame(),this._modules.events.on(["mousedown","mouseup","beforeNewFrame","newFrame"],()=>{this._delayedCalls.forEach(e=>e.reset())})}_nextTimeIdle(e){const t=new dV(this._modules.dom,this._idIdle,e);return this._delayedCalls.push(t),t.whenDone().then(()=>{this._delayedCalls.splice(this._delayedCalls.indexOf(t),1)})}debounceIdle(e,t=0){let n=!1,r=[];const i=()=>{const s=r;n=!1,r=[],e(),s.forEach(o=>o())};return()=>new Promise(s=>{r.push(s),n||(n=!0,this._nextTimeIdle(t).then(i))})}},dV=class{constructor(e,t,n){this._timeout=null,this._done=!1,this._dom=e,this._promise=new Promise(r=>this._resolve=r),this._isIdle=t,this._delay=n,this._startTimeout()}_startTimeout(){this._timeout=this._dom.setTimeout(()=>{this._isIdle()?(this._done=!0,this._resolve()):this._startTimeout()},this._delay)}reset(){this._done||(this._dom.clearTimeout(this._timeout),this._startTimeout())}whenDone(){return this._promise}},sh=-2,uV={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:50,startRatio:1,endRatio:2,enabled:!1},hV={number:1,duration:1e3,interval:800,startColor:"rgba(0,0,0,0.6)",endColor:"rgba(0,0,0,0.0)",width:10,startRatio:1,endRatio:2,enabled:!1},gV=class extends it{constructor(){super(...arguments),this._nodePromiseMap=new Map,this._edgePromiseMap=new Map,this._onAttributeChange=({nodes:e,edges:t,nodeAttributes:n,edgeAttributes:r})=>{this._onElementsAttributeChange(e,n),this._onElementsAttributeChange(t,r,!1)},this._refreshPulses=()=>{const{nodes:e,edges:t}=this._hasPulses.getElements();if(e.size!==0||t.size!==0){const n=this._engine.getCurrentTime();this._refreshElementsPulses(e,n),this._refreshElementsPulses(t,n),this._modules.dom.refresh()}}}onMounted(){this._modules.events.on("updateAttributes",this._onAttributeChange).on("newFrame",this._refreshPulses).on("beforeRemoveEdges",({edges:e})=>{this._removePulses(e)}).on("beforeRemoveNodes",({nodes:e})=>{this._removePulses(e)}).on("excludedStateChange",({elements:e,value:t})=>{t&&(this._hasPulses.removeElements(e),this._removePulses(e))}).on("clearGraph",()=>this._hasPulses.clear()),this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._nodePulses=this._modules.graph.createNodeAttribute({storage:"any"},!1),this._edgePulses=this._modules.graph.createEdgeAttribute({storage:"any"},!1),this._nodeNbPulsesRemaining=this._modules.graph.createNodeAttribute({storage:"int16",default:-1},!1),this._edgeNbPulsesRemaining=this._modules.graph.createEdgeAttribute({storage:"int16",default:-1},!1),this._nodeFlexArrays=this._modules.graphics.getNodeAttributes(),this._edgeFlexArrays=this._modules.graphics.getEdgeAttributes(),this._edgeSourceList=this._modules.graph.getEdgeAttribute("source"),this._edgeTargetList=this._modules.graph.getEdgeAttribute("target"),this._hasPulses=new Kd(this._modules.graph)}_onElementsAttributeChange(e,t,n=!0){if(!t.includes("pulse.enabled"))return;const{valid:r,invalid:i}=UN(this._modules.graph,e,o=>o.getAttribute("pulse.enabled")&&o.isVisible());this._hasPulses.removeElements(i),this._hasPulses.addElements(r);const s=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let o=0;o<r.size;o++)s.get(r._indexes[o])>0||s.set(r._indexes[o],sh);this._removePulses(i)}_removePulses(e){const t=e.isNode?this._nodePulses:this._edgePulses,n=e.isNode?this._nodePromiseMap:this._edgePromiseMap;for(let r=0;r<e._indexes.length;r++){const i=e._indexes[r],s=t.get(i);if(s){for(let a=0;a<s.length;a++){const l=s[a];this._modules.graphics.releaseGraphicsEngineBlockId(l.blockId)}t.set(i,null);const o=n.get(i);o&&(o.resolve(),n.delete(i))}}}_refreshElementsPulses(e,t){const n=e.isNode,r=n?this._nodePulses:this._edgePulses,i=n?this._nodeFlexArrays.pulse.duration:this._edgeFlexArrays.pulse.duration,s=n?"_createNodePulseBlock":"_createEdgePulseBlock",o=n?this._nodeFlexArrays.pulse.interval:this._edgeFlexArrays.pulse.interval,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining;for(let l=0;l<e._indexes.length;l++){const c=e._indexes[l];let d=r.get(c);d||(d=[],r.set(c,d));for(let m=0;m<d.length;m++){const{startTime:_,duration:y,blockId:f}=d[m];t>=_+y&&(this._modules.graphics.releaseGraphicsEngineBlockId(f),d.splice(m--,1))}const u=d[d.length-1];if(u&&t<u.startTime+o.get(c))continue;const h=i.get(c),g=a.get(c);if(g<1&&g!==sh)continue;d.push({blockId:this[s](c,t,h),startTime:t,duration:h});const p=g===sh?sh:g-1;a.set(c,p)}}_createNodePulseBlock(e,t,n){const r=this._nodeFlexArrays,i=r.color.get(e),s=r.layer.get(e),o=r.x.get(e),a=r.y.get(e),l=r.radius.get(e),c=r.scalingMethod.get(e)==="scaled",d=r.pulse.startRatio.get(e),u=r.pulse.endRatio.get(e),h=r.pulse.width.get(e),g=2*l*d,p=2*l*u,m=Cd(s).nodeBody,_=r.pulse.startColor.get(e),y=r.pulse.endColor.get(e),f=this._modules.graphics.allocateGraphicsEngineBlockId(),x=this._group.reset(Ai,!0,m),v=x.nextAndReset(),w=Ii(_,i),b=Ii(y,i);return v.end.shape="circle",v.end.pieceId=pi,v.end.x1=o,v.end.y1=a,v.end.x2=o,v.end.y2=a,v.end.rectWidthOrSourceRadiusScaled=c?p:0,v.end.rectHeightOrTargetRadiusScaled=c?p:0,v.end.rectWidthOrSourceRadiusFixed=c?0:p,v.end.rectHeightOrTargetRadiusFixed=c?0:p,v.end.strokeWidthFixed=h,v.end.strokeColor=b,v.start.shape="circle",v.start.pieceId=pi,v.start.x1=o,v.start.y1=a,v.start.x2=o,v.start.y2=a,v.start.rectWidthOrSourceRadiusScaled=c?g:0,v.start.rectHeightOrTargetRadiusScaled=c?g:0,v.start.rectWidthOrSourceRadiusFixed=c?0:g,v.start.rectHeightOrTargetRadiusFixed=c?0:g,v.start.strokeWidthFixed=h,v.start.strokeColor=w,v.animation.duration=n,v.animation.beginTime=t,this._engine.storeGroup(f,x),f}_createEdgePulseBlock(e,t,n){const r=this._edgeFlexArrays,i=this._nodeFlexArrays,s=r.pulse.startRatio.get(e),o=r.pulse.endRatio.get(e),a=r.pulse.startColor.get(e),l=r.pulse.endColor.get(e),c=Cd(r.layer.get(e)).edgeBody,d=this._edgeSourceList.get(e),u=this._edgeTargetList.get(e),h=r.curvature.get(e),g=h!==0,p=this._modules.graphics.allocateGraphicsEngineBlockId(),m=this._group.reset(g?Ug:Ai,!0,c),_=m.nextAndReset(),y={isSelfLoop:d===u,curvature:h,sourceX:i.x.get(d),sourceY:i.y.get(d),targetX:i.x.get(u),targetY:i.y.get(u),sourceRadius:i.radius.get(d),targetRadius:i.radius.get(u),isSourceRadiusScaled:i.scalingMethod.get(d)==="scaled",isTargetRadiusScaled:i.scalingMethod.get(u)==="scaled",width:r.width.get(e),isWidthScaled:r.scalingMethod.get(e)==="scaled",strokeWidth:r.pulse.width.get(e)};return L2(_.start,y),L2(_.end,y),_.start.strokeColor=a,_.end.strokeColor=l,_.start.thicknessOrFontSizeScaled*=s,_.start.thicknessOrFontSizeFixed*=s,_.end.thicknessOrFontSizeScaled*=o,_.end.thicknessOrFontSizeFixed*=o,_.animation.duration=n,_.animation.beginTime=t,this._engine.storeGroup(p,m),p}pulse(e,t){const n=e.isNode,r=Se(Se(Se({},n?uV:hV),n?this._nodePulseTheme:this._edgePulseTheme),t),i=r.number,s=r.interval,o=r.duration,a=n?this._nodeNbPulsesRemaining:this._edgeNbPulsesRemaining,l=(i-1)*s+o;let c;r.enabled=!0,delete r.number,e.setAttributes({pulse:r}),a.setMultiple(e._indexes,i),this._modules.dom.setTimeout(()=>{e.isList?e.filter(Ni).setAttribute("pulse.enabled",!1):e.setAttribute("pulse.enabled",!1),a.setMultiple(e._indexes,-1)},l);const d=new Promise(h=>{c=()=>h(e)}),u=e.isNode?this._nodePromiseMap:this._edgePromiseMap;return e.isList?e._indexes.forEach(h=>{this._setPromise(h,u,d,c)}):this._setPromise(e._index,u,d,c),d}_setPromise(e,t,n,r){t.has(e)&&t.get(e).resolve(),t.set(e,{promise:n,resolve:r})}setTheme(e,t){this._nodePulseTheme=e,this._edgePulseTheme=t}};function L2(e,{sourceX:t,sourceY:n,targetX:r,targetY:i,isSourceRadiusScaled:s,isTargetRadiusScaled:o,targetRadius:a,sourceRadius:l,isWidthScaled:c,width:d,strokeWidth:u,curvature:h,isSelfLoop:g}){e.pieceId=im,e.shape="line",e.x1=t,e.y1=n,e.x2=r,e.y2=i,e.rectWidthOrSourceRadiusScaled=s?l:0,e.rectWidthOrSourceRadiusFixed=s?0:l,e.rectHeightOrTargetRadiusScaled=o?a:0,e.rectHeightOrTargetRadiusFixed=o?0:a,e.thicknessOrFontSizeScaled=c?d:0,e.thicknessOrFontSizeFixed=c?0:d,e.strokeWidthFixed=u,e.curvature=h,e.isSelfLoop=g}var pV={duration:0,easing:"linear",callback:ft,resolve:ft,startAfter:0},mV=0,fV=class extends it{constructor(){super(...arguments),this._animationList=[],this._update=()=>{if(this._animationList.length===0)return;const e=rr(),t=[];for(let n=0;n<this._animationList.length;++n){const r=this._animationList[n],i=(e-r.creationDate)/r.duration,s=r.startAfter;let o=r.easing(i);i>=1?(r.func(1),r.done=!0,r.resolve(void 0),this._animationList.splice(n,1),n-=1,t.push(r.callback)):o>=s&&(o=(o-s)*(1/(1-s)),r.func(o))}for(let n=0;n<t.length;n++)t[n](!1);this._modules.dom.refresh()}}onMounted(){this._modules.events.on("beforeNewFrame",this._update)}play(e,t){const{duration:n,easing:r,callback:i,startAfter:s,resolve:o}=Zr(t,pV);if(n<=0)return e(1),i(),o(void 0),null;const a={func:e,easing:typeof r=="function"?r:Pv[r],duration:n,callback:i,resolve:o,startAfter:s,creationDate:rr(),done:!1,id:++mV};return this._animationList.push(a),this._modules.dom.refresh(),a}cancel(e){const t=this._animationList.indexOf(e);t!==-1&&(e.func(1),this._animationList.splice(t,1),e.done=!0,e.resolve(void 0))}},_V=(e,t,n,r)=>{const i=n._getMapPanePos(),s=e.getMapboxMap(),o=e.getCanvas(),a=e.getSize().round(),l=r.DomUtil.getPosition(e.getContainer()),c=l.x+i.x,d=l.y+i.y;return new Promise(u=>{function h(){t.drawImage(o,c,d,a.x,a.y),u()}if(s.loaded())return h();s.once("idle",h)})},yV=(e,t,n,r,i)=>{const s=n._getMapPanePos(),o=e.getContainer();if(!o)throw new Error(`Trying to access the container of ${e} but it does not exist.`);const a=r.DomUtil.getPosition(o);n.removeLayer(e),e.options.crossOrigin="anonymous";const l=[],c=[];return e.on("tileload",({tile:d})=>{const{x:u,y:h}=r.DomUtil.getPosition(d);l.push(d),c.push({x:u-a.x+s.x,y:h-a.y+s.y})}),n.addLayer(e),new Promise(d=>{e.once("load",()=>{const u=e.getTileSize();l.forEach((h,g)=>{const{x:p,y:m}=c[g];t.drawImage(h,p,m,u.x,u.y)}),d()})})},xV=(e,t,n,r,i,s)=>new Promise(o=>{const a=e.options.renderer;n.removeLayer(e),e.options.renderer=s,n.addLayer(e),s._updatePaths();const l=n._getMapPanePos(),c=s._container,d=r.DomUtil.getPosition(c);t.drawImage(s._container,d.x+l.x,d.y+l.y,c.width/i,c.height/i),n.removeLayer(e),e.options.renderer=a,n.addLayer(e),o()}),vV=(e,t,n,r,i)=>new Promise(s=>{const o=n.getPixelBounds().min,a=n.project(e.getLatLng(),n.getZoom()),l=/^data:/.test(e._icon.src),c=l?e._icon.src:lP(e._icon.src),d=new Image,u=e.options.icon;if(u){const h=u.options;let g=h.iconSize||[24,24];const p=a.subtract(o);let m=h.iconAnchor||[0,0];Array.isArray(g)||(g=[g.x,g.y]),Array.isArray(m)||(m=[m.x,m.y]);const _=Math.round(p.x-(g[0]-m[0])*i),y=Math.round(p.y-m[1]*i);d.crossOrigin="";const f=()=>{t.drawImage(d,_,y,g[0]*i,g[1]*i),s()};d.onload=f,d.src=c,l&&f()}}),bV=(e,t,n,r,i)=>new Promise(s=>{n.removeLayer(e),e.setUrl(lP(e.getUrl())),e.options.crossOrigin="anonymous",e.once("load",()=>{const o=e.getBounds(),a=n.latLngToContainerPoint(o.getNorthWest()),l=n.latLngToContainerPoint(o.getSouthEast()),c=l.x-a.x,d=l.y-a.y;t.drawImage(e._image,a.x,a.y,c,d),s()}),n.addLayer(e)});function lP(e){return e+(e.indexOf("?")===-1?"?":"&")+"noCache="+Date.now()}var wV={tileLayers:yV,imageOverlays:bV,vectorLayers:xV,markers:vV,vectorMap:_V};function EV(e,t){return e instanceof t.TileLayer?"tileLayers":e instanceof t.ImageOverlay?"imageOverlays":e instanceof t.Path?"vectorLayers":e instanceof t.Marker?"markers":"MapboxGL"in t&&e instanceof t.MapboxGL?"vectorMap":void 0}function SV(e,t,n,r,i,s){const o={vectorMap:[],tileLayers:[],vectorLayers:[],imageOverlays:[],markers:[]};return t.eachLayer(a=>{if(a!==e){const l=EV(a,r);if(l&&l in o){const c=wV[l];o[l].push(()=>c(a,n,t,r,i,s))}}}),o}function kV(e){e.TileLayer.prototype.getUrl=function(){return this._url},e.ImageOverlay.prototype.getUrl=function(){return this._url};const t="leaflet-zoom-animated";e.OgmaOverlay||(e.OgmaOverlay=e.Layer.extend({options:{pane:"overlayPane",padding:0,onUpdate:()=>{}},initialize:function(n){const{container:r}=n;e.Util.setOptions(this,n),this._container=r},setLocked:function(n){return this._locked=n,this},onAdd:function(n){this._map=n,this.getPane().appendChild(this._container),this._wgsOrigin=e.latLng([0,0]),this._wgsInitialShift=n.project(this._wgsOrigin,this._initialZoom),e.DomUtil.addClass(this._container,"leaflet-layer"),this._zoomAnimated&&(e.DomUtil.addClass(this._container,t),this._container.style.position="absolute",this._container.style.zIndex=9999),this._initialZoom=(this._map.getMaxZoom()+this._map.getMinZoom())/2,this._mapInitialZoom=this._map.getZoom(),this._updateBounds(),this._update({})},_updateBounds(){const n=this.options.padding,r=this._map.getSize(),i=this._map.containerPointToLayerPoint(r.multiplyBy(-n));this._bounds=new e.Bounds(i,i.add(r.multiplyBy(1+2*n))),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_update(n){this._updateBounds(),this._redraw(this._bounds.min,n),this._positionTimer=e.Util.requestAnimFrame(()=>{this._container&&e.DomUtil.setPosition(this._container,this._bounds.min)})},_redraw(n,r){this.options.onUpdate()},_updateTransform(n,r){if(this._locked)return;const i=this._map.getZoomScale(r,this._zoom),s=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,r),a=s.multiplyBy(-i).add(o).subtract(this._map._getNewPixelOrigin(n,r));e.Browser.any3d?e.DomUtil.setTransform(this._container,a,i):e.DomUtil.setPosition(this._container,a)},_onZoom(n){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onMoveEnd(n){this._update(n)},_onAnimZoom({center:n,zoom:r}){this._updateTransform(n,r)},bringToFront(){e.DomUtil.toFront(this._container)},getEvents(){return{zoom:this._onZoom,moveend:this._onMoveEnd,zoomanim:this._onAnimZoom,layeradd:this.bringToFront,zoomend:this.options.onUpdate}},onRemove:function(){e.DomUtil.removeClass(this._container,t);const n=this._container;["transform","webkitTransform","OTransform","MozTransform","msTransform","zIndex","position"].forEach(r=>n.style[r]=null),e.Util.cancelAnimFrame(this._positionTimer),this._container=null}}))}function AV(e,t,n,r){const i=e.filter(b=>b.isVisible()),s=i.size===0,{mapX:o,mapY:a}=i.reduce((b,S)=>{const{latitude:k,longitude:C}=S.getGeoCoordinates(),{x:A,y:N}=r(k,C);return b.mapX.push(A),b.mapY.push(N),b},{mapX:[],mapY:[]}),l=i.getAttribute("x"),c=i.getAttribute("y"),d=i.getAttribute("radius").map(Number),u=new Nn({xValues:l,yValues:c,scaledSizeValues:d}),h=new Nn({xValues:o,yValues:a});s&&(u.cx=u.cy=0,u.width=u.height=0),isFinite(h.width)&&isFinite(h.height)||(h.cx=h.cy=0,h.width=h.height=0);let g=h.cx-u.cx,p=h.cy-u.cy;const m=s?1:Math.max(h.width,h.height)/Math.max(u.width,u.height),[_,y]=d.reduce((b,S)=>(b[0]=Math.min(b[0],S*m),b[1]=Math.max(b[1],S*m),b),[1/0,0]);h.pad(y),h.minScaledSize=_,h.maxScaledSize=y;const f=n.computeConfigForBounds(h),x=t.zoom/N4(f.zoom);g+=(u.cx-t.x)*x,p+=(u.cy-t.y)*x;const v=u.cx+g,w=u.cy+p;return{offsetChanges:{name:"graph-to-geo",nodeAttributes:{radius:b=>Number(b.getAttribute("radius"))*x,x:b=>(b.getAttribute("x")+g-v)*x+v,y:b=>(b.getAttribute("y")+p-w)*x+w},edgeAttributes:{width:b=>Number(b.getAttribute("width"))*x}},camera:Se({zoom:t.zoom/x,x:(t.x+g-v)*x+v,y:(t.y+p-w)*x+w,angle:0},t.getSize())}}function CV(e,t,n,r){const i=e.getAttributes(["x","y","radius"]),s=e.getBoundingBox(),o=e.size===0,a=e.reduce((v,{_index:w},b)=>(v[w]=b,v),{});r();const l=e.getAttribute("x"),c=e.getAttribute("y"),d=e.getAttribute("radius").map(Number),u=new Nn({xValues:l,yValues:c,scaledSizeValues:d.map(v=>2*v)});o&&(s.reset(),u.reset());let h=u.cx-s.cx,g=u.cy-s.cy,p=0,m=0;const _=n.computeConfigForBounds(u),y=t.zoom/_.zoom;let f,x;return isNaN(s.cx)||isNaN(s.cy)?(s.cx=t.x,s.cy=t.y,f=_.x,x=_.y):(h+=(s.cx-t.x)*y,g+=(s.cy-t.y)*y,p=s.cx+h,m=s.cy+g,f=(t.x+h-p)*y+p,x=(t.y+g-m)*y+m),{offsetChanges:{name:"geo-to-graph",nodeAttributes:{x:v=>(i[a[v._index]].x+h-p)*y+p,y:v=>(i[a[v._index]].y+g-m)*y+m}},camera:Se({zoom:_.zoom,x:f,y:x,angle:0},t.getSize())}}var cP={"top-left":"left","bottom-left":"left","top-right":"right","bottom-right":"right"},TV={"top-left":"top","bottom-left":"bottom","top-right":"top","bottom-right":"bottom"},N2={position:"bottom-right",horizontalMargin:0,verticalMargin:0,className:void 0},LV=class extends it{onMounted(){this._brand=null}set(e,t){let{position:n,horizontalMargin:r,verticalMargin:i,className:s}=Se(Se({},N2),t);cP[n]||(n=N2.position),this.remove();const o=document.createElement("div");return o.innerHTML=e,o.style.position="absolute",dP(o,n,r,i),o.style.padding="0px 0px 0px 0px",o.style.zIndex="10",s&&o.setAttribute("class",s),this._brand=o,this._modules.dom.setLayer("brand",this._brand),o}remove(){this._modules.dom.setLayer("brand",null),this._brand=null}};function dP(e,t,n,r){const i=n===void 0?"":n+"px",s=r===void 0?"":r+"px";e.style[cP[t]]=i,e.style[TV[t]]=s}var I2={},NV=class extends it{constructor(){super(...arguments),this._enabled=!1,this._settings=Se({},zo),this._edgesOriginalTextStyle={},this._nodesOriginalTextStyle={},this._nodeDraggingSetting=!1,this._transition=!1,this._attribution=null,this._updating=!1,this._updateRate=50,this._x=0,this._y=0,this._onCameraUpdate=()=>{if(this.L&&this._enabled&&this._map&&this._map._loaded){const e=this._x-this._modules.camera.x,t=this._y-this._modules.camera.y;if(e||t){this._updating||(this._updating=!0,this._layer.setLocked(!0),this._map._moveStart(!0,!1));const n=this._fromPointToLatLng(this._modules.camera.x,this._modules.camera.y),r=yf(this._modules.camera.zoom),i=this.L.latLng(n.latitude,n.longitude);this._map._move(i,r,{pinch:!0,round:!1}),clearTimeout(this._updateRequest),this._updateRequest=this._modules.dom.setTimeout(()=>{this._updating=!1,this._layer.setLocked(!1),this._map&&this._map._move(i,r,{pinch:!0})._moveEnd(!0)},this._updateRate)}}},this._onNodesDragStart=()=>{this._enabled&&(this._setMapDragging(!1),this._nodeDragOffsetX=this._nodeDragOffsetY=0)},this._onNodesDragged=({nodes:e,dx:t,dy:n})=>{if(this._enabled){const r=e.map(i=>{const{x:s,y:o}=i.getAttributes(["x","y"]);return this._fromPointToLatLng(s+t-this._nodeDragOffsetX,o+n-this._nodeDragOffsetY)});return this._nodeDragOffsetX=t,this._nodeDragOffsetY=n,e.setGeoCoordinates(r)}return Promise.resolve(this._modules.graph.nodeList())},this._onMapUpdate=()=>{if(!this._map)return Promise.resolve(void 0);const{lat:e,lng:t}=this._map.getCenter(),n=this._fromLatLngToPoint(e,t);this._x=n.x,this._y=n.y;const r=L4(this._map.getZoom());return this._modules.events.fire("beforeGeoCameraMove",{zoom:this._map.getZoom()}),this._modules.camera.setView({zoom:r,x:n.x,y:n.y},{ignoreZoomLimits:!0}).then(()=>this._adjustMinvisibleSizes())}}onMounted(){this._filters=this._modules.filters,this._modules.events.register(["geoEnabled","geoDisabled","geoLoaded","geoReady"]),aS()&&(this.L=gi("L")||gi("leaflet"),this.L&&kV(this.L)),this._modules.graph.createNodeAttribute({name:"geo.prevLat",storage:"float"},!0),this._modules.graph.createNodeAttribute({name:_f,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Hs,storage:"float"},!0),this._modules.graph.createNodeAttribute({name:Ws,storage:"float"},!0),this._modules.events.register(["beforeGeoCameraMove"]),this._modules.events.on("addNodes",e=>this._refreshOrAddNodes(e.nodes,!0)).on("updateNodeData",e=>{this._onDataChange(e.changes)}).on("nodesDragProgress",this._onNodesDragged).on(["nodesDragStart","lassoEnabled"],this._onNodesDragStart).on(["nodesDragEnd","lassoDisabled"],()=>this._setMapDragging(!0)).on("move",this._onCameraUpdate).on("viewChanged",this._onCameraUpdate)}_onDataChange(e){const t=l_(this.latitudePath),n=l_(this.longitudePath),r=e.filter(({property:i})=>i&&typeof i!="string"?i.find(s=>t.startsWith(s)||n.startsWith(s)):i===null||t.startsWith(i)||n.startsWith(i));if(r.length){const i=$4(r);i!==null&&this._refreshOrAddNodes(i,!1)}}_refreshOrAddNodes(e,t){t&&this._updatePrevNodesCoordinates(e),this._updateNodesCoordinates(e),this._enabled&&(this._cacheOriginalTextStyles(e,null),this._filter._refresh())}_updatePrevNodesCoordinates(e){Ru(this._modules.graph,e,Hs,sS),Ru(this._modules.graph,e,Ws,_f)}_restorePrevNodesCoordinates(e){Ru(this._modules.graph,e,sS,Hs),Ru(this._modules.graph,e,_f,Ws)}_updateNodesCoordinates(e){B4(this._modules.graph,e,this._settings)}_createMapTileLayer(e,t){if(e&&!bn(e))return e;const n=e,r=n.wms?this.L.tileLayer.wms:this.L.tileLayer,i=I4(n,t)||"";return r(n.url,Se({attribution:i},e))}_setupTileLayer(e,t,n){const r=this._createMapTileLayer(e,t);return r.once("load",()=>{this._modules.events.fire("geoLoaded")}),r.addTo(this._map),oS(r,n),r}_onSettingsChanged(e,t){const n=e.wrapCoordinates!==t.wrapCoordinates,r=e.latitudePath!==t.latitudePath||e.longitudePath!==t.longitudePath;if(n||r){let i=Promise.resolve();this._enabled&&this._filter&&(i=i.then(()=>this._filter.refresh())),i.then(()=>this._updateNodesCoordinates(this._modules.graph.getNodes("all")))}this._enabled&&(F4(e,t)&&this._map&&(this._map.removeLayer(this._tileLayer),this._tileLayer=this._setupTileLayer(t.tiles,t.attribution,t.opacity)),e.sizeRatio!==t.sizeRatio&&this._updateSizes(),e.maxZoomLevel!==t.maxZoomLevel&&this._modules.settings.update({minZoom:1,maxZoom:Math.pow(2,t.maxZoomLevel)}),e.disableNodeDragging!==t.disableNodeDragging&&this._setDragging(!t.disableNodeDragging),e.attributionOptions!==t.attributionOptions&&this._setAttributionOptions(t.attributionOptions,t.attribution),oS(this._tileLayer,t.opacity))}_setMapDragging(e){if(this._map){const t=e?"enable":"disable";this._map.dragging[t]()}}_fromLatLngToPoint(e,t){return this._map.options.crs.latLngToPoint(this.L.latLng(e,t),jg)}_fromPointToLatLng(e,t){const{lat:n,lng:r}=this._map.options.crs.pointToLatLng(this.L.point({x:e,y:t}),jg);return{latitude:n,longitude:r}}_updateSizes(){this._enabled&&this._projection&&this._projection.updateAll()}enable(e){return this.setEnabled(!0,e)}getMap(){return this._enabled?this._map:null}getOptions(){return this._enabled?St(Se({},this._settings),{tiles:bn(this._settings.tiles)?Se({},this._settings.tiles):this._settings.tiles}):Se({},zo)}setOptions(e){if(!this._enabled||this._transition)return;M4(e,this.L);const t=this._settings;this._settings=St(Se(Se(Se({},zo),t),e),{tiles:P4(zo,e)}),this._onSettingsChanged(t,this._settings)}disable(e){return this.setEnabled(!1,e)}isEnabled(){return this._enabled}toggle(e={}){return this.setEnabled(!this._enabled,e)}getContainerCoords(e){return e.getGeoCoordinates().map(({latitude:t,longitude:n})=>this._map.latLngToContainerPoint([t,n]))}getContainerCoord(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return this._map.latLngToContainerPoint([t||0,n||0])}setEnabled(e,t){if(!aS())throw new Error("Ogma Geo cannot be used outside a browser");if(!this.L)throw new Error("You are trying to use Geo mode but Leaflet has not been found. Please follow our migration guide: https://bit.ly/2SYkF8A");if(this._transition||e===this._enabled)return Promise.resolve();const n=this._modules.settings;this._enabled||(this._prevSettings=n.get(),this._nodeDraggingSetting=!!n.get("interactions.drag.enabled")),this._enabled=e,this.setOptions(t),this._transition=!0;const r=this._settings;return e?this._show().then(()=>(this._registerTextStyle(this._modules.graph.getNodes(),this._modules.graph.getEdges()),this._setDragging(!r.disableNodeDragging),this._transition=!1,this._updating=!1,this._modules.events.fire("geoEnabled").fire("geoReady"),this._adjustMinvisibleSizes())):this._restoreTextStyle().then(()=>this._hide()).then(()=>{this._transition=!1,this._modules.events.fire("geoDisabled"),this._setDragging(this._nodeDraggingSetting,!0)}).then(()=>this._ogma.view.afterNextFrame())}destroy(){return this._enabled&&this._destroyMapSync(),Promise.resolve()}_cacheOriginalTextStyles(e,t){t&&(this._edgesOriginalTextStyle=cS(t,this._edgesOriginalTextStyle)),e&&(this._nodesOriginalTextStyle=V4(e,this._nodesOriginalTextStyle))}_registerTextStyle(e,t){this._cacheOriginalTextStyles(e,t);const{nodeAttributes:n,edgeAttributes:r}=this._modules.hover.getHoverClassDefinition();this._hoverEdgesOriginalTextStyle=r||null,this._hoverNodesOriginalTextStyle=n||null,this._modules.hover.updateEdgeAttributes({text:{size:i=>(this._edgesOriginalTextStyle[i.getId()]||I2)["text.size"]}}),this._modules.hover.updateNodeAttributes({text:{size:i=>(this._nodesOriginalTextStyle[i.getId()]||I2)["text.size"]}})}_restoreTextStyle(){return this._modules.hover.updateEdgeAttributes(this._hoverEdgesOriginalTextStyle,!0),this._modules.hover.updateNodeAttributes(this._hoverNodesOriginalTextStyle,!0),Promise.all([H4(this._modules.graph.getEdges(),this._edgesOriginalTextStyle)]).then(()=>(this._edgesOriginalTextStyle=cS(this._modules.graph.edgeList(),{}),this._nodesOriginalTextStyle={},this._edgesOriginalTextStyle={},Promise.resolve()))}_setDragging(e,t=!1){this._modules.settings.update({interactions:{drag:{enabled:e,applyResult:t}}})}_setAttributionOptions(e,t){if(this._map){if(this._attribution&&(this._attribution.remove(),this._attribution=null),this._attribution=this.L.control.attribution({prefix:!1}).addTo(this._map),bn(e)){this._attribution.setPrefix(""),e.position=e.position||"bottom-right";const n=e.position.replace("-","");this._attribution.setPosition(n);const r=this._attribution.getContainer();r&&(e.className&&this.L.DomUtil.addClass(r,e.className),dP(r,e.position||"bottom-right",e.horizontalMargin,e.verticalMargin))}t!=null&&this._attribution.addAttribution(t)}}_nodeIsVisible(e){return j4(e,this._settings,this._hasCustomProjection())}_updateSettingsForMap(){const e=this._modules.graphics.getGraphicsEngine().parseColor(this._settings.backgroundColor);e[3]=0,this._modules.settings.update({backgroundColor:nN(e),minZoom:1e-6,interactions:{rotation:{enabled:!1},drag:{enabled:!1},pan:{enabled:!1},zoom:{enabled:!1,onDoubleClick:!1}},mouse:{wheelEnabled:!1}})}getGraphPosition(e){const t=this.L.latLngBounds(z4(e));return{center:e.size>0?t.getCenter():this.L.latLng([0,0]),zoom:this._clampZoom(this._map.getBoundsZoom(t))}}_initMap(){this._updateSettingsForMap(),this._mapContainer=D4(this._modules.dom.getContainer());const e=St(Se({},T4),{minZoom:this._settings.minZoomLevel,maxZoom:this._settings.maxZoomLevel});this._hasCustomProjection()&&(e.crs=this._settings.crs,e.worldCopyJump=!1,e.maxBoundsViscosity=0),this._map=new this.L.Map(this._mapContainer,e),this._hasCustomProjection()||this._map.setMaxBounds(this.L.latLngBounds([[kd,-180],[-kd,180]])),this._setAttributionOptions(this._settings.attributionOptions,this._settings.attribution),this._setupLayers()}_clampZoom(e){let t=this._tileLayer.options.maxZoom;return t===void 0&&(t=1/0),Math.min(e,t)}_show(){let e;return this._filter?e=this.filter.enable(0):(this._filter=this._filters.addNodeFilter({criteria:t=>this._nodeIsVisible(t)}),e=this._filter.whenApplied()),e.then(()=>{this._initMap();const t=this._map,n=this._modules.graph.getNodes(),r=this._modules.graph.getEdges(),{center:i,zoom:s}=this.getGraphPosition(n),{offset:o,newCameraView:a}=this._transformToGeo();return this._modules.camera.setView(a,{ignoreZoomLimits:!0}).then(()=>(this._updatePrevNodesCoordinates(n),t.setView(i,s,{animate:!1}),this._modules.graphics.animate({nodes:n,edges:r},()=>{this._projection=this._createFinalPositionLayer()},!0,this._settings.duration))).then(()=>o.destroy())})}updateProjection(){var e;(e=this._projection)==null||e.update()}_hasCustomProjection(){return this._settings.crs!=null}_setupLayers(){this._settings.tiles&&(this._tileLayer=this._setupTileLayer(this._settings.tiles,this._settings.attribution,this._settings.opacity)),this._layer=new this.L.OgmaOverlay({container:this._modules.graphics.getDomElement(),mapContainer:this._mapContainer,onUpdate:()=>this._onMapUpdate()}),this._layer.addTo(this._map)}_adjustMinvisibleSizes(){return Promise.all([G4(this._modules.graph.getEdges(),this._edgesOriginalTextStyle,this._map.getZoom())])}_hide(){if(!this._map)return Promise.resolve();this._modules.settings.update(this._prevSettings);const e=this._map;e.removeLayer(this._layer);const t=this._modules.dom.getContainer(),n=this._modules.graphics.getDomElement();t&&t.appendChild(n),e.getContainer().style.zIndex="0";const r=this._modules.graph.getNodes("all"),i=this._modules.graph.getEdges("all"),{offset:s,newCameraView:o}=this._transformToGraph();return this._modules.camera.setView(o||{}).then(()=>Promise.all([jL(e.getContainer(),1,0,this._settings.duration/2).then(()=>this._destroyMapSync()),this._modules.graphics.animate({nodes:r,edges:i},()=>s&&s.destroy(),!0,this._settings.duration)])).then(()=>(this._map=null,this._filter.disable(0)))}_destroyMapSync(){if(this._map){this._layer&&this._layer._map&&this._map.removeLayer(this._layer),this._map.remove(),this._map._animatingZoom=!1,this._map=null;const e=this._mapContainer.parentNode;e&&e.removeChild(this._mapContainer)}}_transformToGeo(){const e=this._modules.graph.getNodes(),{offsetChanges:t,camera:n}=AV(e,this._modules.camera,this._modules.locate,(r,i)=>this._fromLatLngToPoint(r,i));return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}_addGraphAttributesLayer(e){return this._modules.graphics.addAttributeLayer(Se({priority:x4,nodeSelector:t=>t.isVisible(),edgeSelector:t=>t.isVisible()},e))}_transformToGraph(){const e=this._modules.graph.getNodes("all"),{offsetChanges:t,camera:n}=CV(e,this._modules.camera,this._modules.locate,()=>{this._projection&&(this._projection.destroy(),this._projection=null)});return{offset:this._addGraphAttributesLayer(t),newCameraView:n}}getPointFromLatLng(e){const{latitude:t,longitude:n}=e.getGeoCoordinates();return t==null?e.getAttributes(["x","y"]):this._fromLatLngToPoint(t,n)}_createFinalPositionLayer(){return this._addGraphAttributesLayer({name:"graph-2-geo-animation",nodeAttributes:{scalingMethod:"fixed",radius:e=>Number(e.getAttribute("radius"))*this._settings.sizeRatio,x:e=>this.getPointFromLatLng(e).x,y:e=>this.getPointFromLatLng(e).y},edgeAttributes:{scalingMethod:"fixed",width:e=>Number(e.getAttribute("width"))*this._settings.sizeRatio}})}setCenter(e,t){return this._enabled?this.setView(e,t,yf(this._modules.camera.getZoom())):Promise.resolve()}setZoom(e){return this._enabled&&this._map?(e=this._clampZoom(e),this._map.setZoom(e),new Promise(t=>{const n=this._map;if(n.getZoom()===e)return t(void 0);n.once("moveend zoomend",t)}).then(this._onMapUpdate)):Promise.resolve()}zoomIn(){return this.setZoom(this.getZoom()+1)}zoomOut(){return this.setZoom(this.getZoom()-1)}setView(e,t,n){if(!this._enabled||!this._map)return Promise.resolve();const r=this._map;n=this._clampZoom(n);const i=this.L.latLng([e,t]);return r.setView(i,n,{animate:!1,reset:!0}),new Promise(s=>{if(r.getZoom()===n&&r.getCenter().equals(i))return s(void 0);r.once("moveend zoomend",s)}).then(this._onMapUpdate)}getView(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{zoom:this._map.getZoom(),latitude:e.lat,longitude:e.lng}}getCenter(){if(!this._enabled||!this._map)return;const e=this._map.getCenter();return{latitude:e.lat,longitude:e.lng}}getZoom(){if(this._enabled&&this._map)return this._map.getZoom()}resetCoordinates(){if(!this._enabled||!this._projection)return;const e=this._modules.graph.getNodes();this._restorePrevNodesCoordinates(this._modules.graph.getNodes());const t=this._modules.graph.getNodeAttribute(Hs).getMultiple(e._indexes),n=this._modules.graph.getNodeAttribute(Ws).getMultiple(e._indexes);e.setData(this._settings.latitudePath,t),e.setData(this._settings.longitudePath,n),this._projection.update()}getUnprojectedCoordinates(e){this._projection&&this._projection.destroy();const t=e.getPosition();return this._projection=this._createFinalPositionLayer(),t}get latitudePath(){return this._settings.latitudePath}get longitudePath(){return this._settings.longitudePath}get filter(){return this._filter}exportBackground(e){if(!this._map)return Promise.reject("Map is not ready");const{pixelRatio:t,width:n,height:r,zoom:i,x:s,y:o}=e,a=n*t,l=r*t,c=Dn(a,l),d=c.getContext("2d"),u=this._map;if(!d)throw new Error(`Unable to get 2d context from  ${c}`);const h=this.getView(),g=Se({zoom:Math.round(yf(i*t))},this._fromPointToLatLng(s,o)),p=new this.L.Canvas;u.addLayer(p);const{vectorMap:m,tileLayers:_,vectorLayers:y,imageOverlays:f,markers:x}=SV(this._layer,u,d,this.L,t,p),v=u.options.zoomSnap;return Promise.resolve().then(()=>(da(this._mapContainer,a+"px",l+"px"),u.invalidateSize({animate:!1}),this.setView(g.latitude,g.longitude,g.zoom))).then(()=>vL([...m,..._,...f,...y,...x])).then(()=>{da(this._mapContainer,"100%","100%"),u.invalidateSize({animate:!1}),u.options.zoomSnap=v,this.setView(h.latitude,h.longitude,h.zoom)}).then(()=>new Promise(w=>this.L.Util.requestAnimFrame(w))).then(()=>u.removeLayer(p)).then(()=>c)}},IV=class extends it{constructor(){super(...arguments),this._context={edgesAlwaysCurvy:!1,directedEdges:!1}}onMounted(){this._attributeLayer=this._addAttributeLayer(),this._modules.settings.register("edgesAlwaysCurvy",!1,e=>{this._context.edgesAlwaysCurvy=e,this._attributeLayer.updateAll()}),this._modules.settings.register("directedEdges",!1,e=>{this._context.directedEdges=e,this._attributeLayer.updateAll()})}computeCurvature(e,t="visible",n){const{edgesAlwaysCurvy:r,directedEdges:i}=this._context,s=e.getSource()===e.getTarget();let o=e.getParallelEdges({filter:t});n&&(o=o.filter(c=>n(c)));const a=o.indexOf(e);if(a===-1)return 0;let l;if(s)l=(a+1)*Math.max(+e.getAttribute("width")||0,1);else{const c=e.getSource(),d=o.size;if(d===1&&!r)return 0;if(i){let u=0;for(let h=0;h<a;++h)o.get(h).getSource()===c&&(u+=1);l=u+1}else{const u=c!==o.get(0).getSource();l=d%2!=1||r?(1+(a/2|0))*(a%2==0?1:-1)*(u?-1:1):a===0?0:((a+1)/2|0)*(a%2==0?1:-1)*(u?-1:1)}}return l}_addAttributeLayer(){return this._modules.graphics.addAttributeLayer({name:"curvature",priority:m4,edgeDependencies:{parallelEdges:!0},edgeContext:this._context,edgeAttributes:{curvature:e=>this.computeCurvature(e)}})}},uP="worker_start",Fv="worker_update",ua="worker_stop",hP=class extends Jd{constructor(e,t){super(),this._complete=!1,this._destroyed=!1,this._data=null,this._onStart=ft,this._onStop=ft,this._setIdle=ft,this._onPause=ft,this.timer={start:0,steps:0},this._modules=t,this.configure(e)}configure({configure:e=Ni,update:t=ft,context:n=ft,stop:r=ft,isRunning:i=yd,onStart:s=ft,onStop:o=ft,onPause:a=ft,setIdle:l=ft}){this._configure=e,this._update=t,this._createContext=n,this._isRunning=i,this._stop=r,this._onStart=s,this._onStop=o,this._setIdle=l,this._onPause=a}setData(e){this._data=e}getData(){return this._data}start(e){return this._complete=!1,this._onStart(),this.fire(uP,{target:this}),this.send(this._configure(e,this._modules)),this}stop(e){return this._complete||(this._onStop(),this.send({type:ua}),this._complete=!0),this}pause(){this._onPause()}setIdle(e){this._setIdle(e)}isBusy(){return!this._complete}destroy(){this._destroyed||(this._destroyed=!0,this._modules&&(this.stop(),delete this._modules))}},gP=/^function\s*\(/,pP=/^\(|^\w+\s?=>/;function oh(e){const t=e.toString();return t.indexOf("function")===0||pP.test(t)?t:`function ${t}`}var MV=class extends hP{constructor(e,t){super(e,t);const n=oh(this._createContext),r=oh(this._update),i=oh(this._isRunning),s=oh(this._stop),o=`
      ${PV(e.imports)}
      const __CONTEXT = (${n})();
      const __UPDATE_FUNC = ${r} ;
      const __IS_RUNNING_FUNC = ${i};
      const __STOP_FN = ${s};
      let result;

      self.addEventListener("message", function (evt) {
        if (evt.data && evt.data.type === '${ua}') {
          __STOP_FN(__CONTEXT);
          return self.postMessage({ result, isRunning: false });
        }
        result = __UPDATE_FUNC(evt.data, __CONTEXT);
        const isRunning = __IS_RUNNING_FUNC(__CONTEXT, evt.data);

        self.postMessage({ result, isRunning });
      });
    `;this._worker=tN(o),this._worker.addEventListener("message",a=>{t.dom.isDestroyed()||this.onWorkerMessage(a)})}onWorkerMessage(e){const t=e.data.isRunning,n=e.data.result,r={data:void 0};return this.fire(Fv,{worker:this,workerMessage:n,modules:this._modules,data:r,isRunning:t}),t?this.send(r.data):(this.fire(ua,{worker:this,result:n,modules:this._modules}),this.stop(n))}destroy(){super.destroy(),this._worker.terminate()}send(e){return this._complete||this._worker.postMessage(eN(e)),this}};function PV(e={}){const t=Object.keys(e),n=[];for(let r=0,i=t.length;r<i;r++){const s=t[r],o=e[s];if(typeof o!="function")throw new Error(`Asynchronous worker: dependency "${s}" is not found`);{const a=FV(o);a?(n.push(M2(o,s)),a!==s&&n.push(`var ${s} = ${a};`)):n.push(`var ${s} = ${M2(o,s)};`)}}return n.join(`
`)}function M2(e,t){const n=e.toString();return gP.test(n)?`function ${e.name||t} ${n.substring(n.indexOf("("))}`:pP.test(n)?`const ${e.name||t} = ${n.toString()}`:n}function FV(e){const t=e.toString();return e.name?e.name:gP.test(t)?null:t.substring(9,t.indexOf("(")).trim()}var RV=class extends hP{constructor(e,t){super(e,t),this._context=this._createContext()}sync(e){if(e&&e.type===ua)return this._stop(this._context);const t=this._update(e,this._context),n=this._isRunning(this._context,e),r={data:void 0};return this.fire(Fv,{worker:this,workerMessage:t,modules:this._modules,data:r,isRunning:n}),n?this.send(r.data):(this.fire(ua,{worker:this,result:t,modules:this._modules}),this.stop(t))}send(e){return this._complete||this._modules.dom.setTimeout(()=>this.sync(e),0),this}},DV=class extends it{constructor(){super(...arguments),this._pool={}}create(e,t){const n=t&&JL,r=this._modules,i=`${e.name||"worker"}-${n?"async":"sync"}`;let s=this._pool[i];s||(s=this._pool[i]=[]);let o=s.find(a=>!a.isBusy());return o?o.configure(e):(o=n?new MV(e,r):new RV(e,r),this._pool[i].push(o)),o.on(ua,()=>{o.clearEvents(),this._pool[i].length<2||(o.destroy(),this._pool[i]=this._pool[i].filter(a=>a!==o))}),o}start(e,t){return e.start(t)}run(e,t,n){const r=this.create(e,n);return this.start(r,t)}destroy(){for(const e in this._pool)this._pool[e].forEach(t=>t.destroy()),delete this._pool[e]}};function zV(e,t,n,r=e.getNodes()){if(!t)return n?e.nodeList():r.filter(i=>i.getMetaNode()===null);if(!(t instanceof ws)){if(Array.isArray(t)&&t.length>0)return e.getNodes(t);throw Error("[Layout]: 'nodes' must be a NodeList or an NodeId[]")}return t}function OV(e,t,n=e.getEdges()){if(!t)return n;if(!(t instanceof pa)){if(Array.isArray(t)&&t.length>0)return e.getEdges(t);throw Error("[Layout]: 'edges' must be a EdgeList or a valid EdgeId[]")}return t}function BV(e){if(!e.size)return;const t=new Set(e.getId());return e.getAdjacentEdges().filter(n=>n.getExtremities().getId().every(r=>t.has(r)))}function mP(e,t={},n=!0){n||(t.edges=void 0);const r=zV(e,t.nodes,t.edges),i=OV(e,t.edges,BV(r));return St(Se({},t),{nodes:r.concat(i.getExtremities()).dedupe(),edges:i})}var jV=16,ah={duration:500,skipTextDrawing:!0,useWebWorker:!0,locate:!1},UV=class extends it{constructor(){super(...arguments),this._running=[],this._textsHidden=!1,this.onInteractionStart=()=>{this.setWorkersIdle(!0)},this.onViewChanged=()=>{this.setWorkersIdle(!1)},this.onVisibilityChange=()=>{ys().hidden?this.setWorkersIdle(!0):this.setWorkersIdle(!1)},this._onWorkerUpdate=(e,t,n,r,i,s)=>{const{duration:o,onSync:a,onUpdate:l,dryRun:c,locate:d}=s;if(a&&this._modules.dom.setTimeout(()=>a(n,this._modules,r),o),i){const u=i(n,this._modules,r);this._modules.events.fire("layoutComputed",{type:"layoutComputed",name:t,positions:u}),l&&l(n,u,r);const h=this._assignNodePositions(u,o,c);r||(d&&u&&this._animateCamera(u,d,s.duration),h.then(()=>e.fire("taskComplete",u)))}else r||e.fire("taskComplete",n)},this._onWorkerComplete=(e,t,n,r,i,s,o)=>{for(let u=0;u<this._running.length;u++)if(this._running[u]===e){this._running.splice(u,1);break}r.onStop&&t&&r.onStop(i,t,this._modules);const a=this._modules.graph.nodeList(new Uint32Array(o.indexes)),l=i.dryRun&&t?n:this.collectNodesData(a),c=a.getId(),d={before:Mf(o),current:Mf(l)};this._modules.events.fire("layoutEnd",{type:"layoutEnd",name:r.name,positions:d,ids:c}),this._modules.dom.setTimeout(()=>{i.onEnd&&i.onEnd(t),i.skipTextDrawing&&this._textsHidden&&(this._modules.graphics.showTexts(),this._textsHidden=!1),s({name:r.name,positions:d,ids:c})})},this._onWorkerStart=(e,t,n)=>{t.skipTextDrawing&&!this._textsHidden&&(this._modules.graphics.hideTexts(),this._textsHidden=!0);const r=this._modules.graph.getNodes(t.nodes),i=this.collectNodesData(r),s=i.ids;n.setData(i),this._modules.events.fire("layoutStart",{type:"layoutStart",name:e.name,ids:s,worker:n})}}onMounted(){this._layouts={},this.timers=new Map,this._modules.events.register(["layoutStart","layoutEnd","layoutComputed"]),this._modules.events.on("clearGraph",()=>this.stop()).on(["dragStart","zoomStart"],this.onInteractionStart).on(["dragEnd","viewChanged"],this.onViewChanged),this._modules.dom.addDocumentEventListener("visibilitychange",this.onVisibilityChange)}setWorkersIdle(e){this._running.forEach(t=>t.setIdle(e))}register(e){if(this._layouts[e.name])throw new Error(`Layout ${e.name} already exists`);this._layouts[e.name]=e}getAvailableLayouts(){return Object.keys(this._layouts)}start(e,t={}){const n=this._layouts[e],r=mP(this._modules.graph,t,["radial","grid"].indexOf(e)===-1);return new Promise(i=>{if(!n)throw new Error(`layout ${e} does not exist`);r.duration=typeof r.duration=="number"?r.duration:ah.duration;const s=n.onSync;r.skipTextDrawing=r.skipTextDrawing===void 0?!!ah.skipTextDrawing:!!r.skipTextDrawing;let o=r.locate||ah.locate;o&&typeof o=="boolean"&&(o={}),r.locate=o;const a={name:e,update:n.update,isRunning:n.isRunning,configure:n.configure,context:n.context,imports:n.imports,stop:n.stop,setIdle:n.setIdle};this._modules.graphics.forceAttributesComputation();const l=r.useWebWorker===void 0?!!ah.useWebWorker:!!r.useWebWorker,c=this._modules.workers.create(a,l);c.on(uP,()=>{n.onStart&&n.onStart(t),this._onWorkerStart(n,r,c)}).on(Fv,({workerMessage:d,isRunning:u})=>{const h=d.lastUpdate||-1/0,g=rr();u&&(!r.continuous||g-h<jV)||(d.lastUpdate=g,this._onWorkerUpdate(c,e,d,u,s,r))}).on(ua,({result:d})=>{c.once("taskComplete",u=>{this._onWorkerComplete(c,d,u,n,r,i,c.getData())})}),this._modules.workers.start(c,r),this._running.push(c)})}_animateCamera(e,t,n){if(e.indexes.length===0)return Promise.resolve();const r=this._modules.locate.layoutDataBoundingBox(e),i=this._modules.locate.computeConfigForBounds(r,t);return this._modules.camera.setView(i,{duration:n,easing:t.easing,ignoreZoomLimits:!0})}stop(){for(;this._running.length!==0;){const e=this._running.pop();e.stop(),e.fire("taskComplete",null)}return Promise.resolve()}isRunning(){return this._running.length!==0}_assignNodePositions(e,t,n){if(!e||n){const l=e?new Uint32Array(e.indexes):void 0,c=this._modules.graph.nodeList(l);return Promise.resolve(c)}const{indexes:r,x:i,y:s}=e,o=this._modules.graph.nodeList(new Uint32Array(r)),a=Mf(e);for(let l=0;l<a.length;l++)a[l]={x:i[l],y:s[l]};return o.setAttributes(a,t)}collectNodesData(e){const t=e._indexes,n=this._modules.graph.getNodeAttribute("x").getMultiple(t),r=this._modules.graph.getNodeAttribute("y").getMultiple(t);return{ids:e.getId(),indexes:t,x:n,y:r}}};function Mf({x:e,y:t,indexes:n}){const r=n.length,i=new Array(r);for(let s=0;s<r;s++)i[s]={x:e[s],y:t[s]};return i}var $V=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n||[],this._filter=r,this._unwindArrays=i,this._onUpdateHandlers=[],this._triggerUpdate=s=>{for(let o=0;o<this._onUpdateHandlers.length;++o)this._onUpdateHandlers[o](s)},this._info=e.watchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}onUpdate(e){this._onUpdateHandlers.push(e)}getPropertyInfo(){return this._info}getPath(){return this._path.slice()}destroy(){this._module.unwatchPropertyInformation(this._isNode,this._path,this._triggerUpdate,this._filter,this._unwindArrays)}},VV=class{constructor(e,t,{path:n,filter:r,unwindArrays:i}){this._module=e,this._isNode=t,this._path=n,this._filter=r,this._unwindArrays=i,this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[]}get path(){return this._path}onPropertyAdded(e){return this._onAddHandlers.push(e),this}onPropertyRemoved(e){return this._onRemoveHandlers.push(e),this}onPropertyUpdated(e){return this._onUpdateHandlers.push(e),this}getPath(){return this._path.slice()}getProperties(){return this._propertyList.slice()}getPropertyInfo(e){const t=this._properties[e];return t?t.info:null}destroy(){Xi(this._properties,({handler:t},n)=>{const r=this._path.concat([n]);this._module.unwatchPropertyInformation(this._isNode,r,t,this._filter,this._unwindArrays)}),this._propertyList=[],this._properties={},this._onAddHandlers=[],this._onRemoveHandlers=[],this._onUpdateHandlers=[];const e=this._module._objectPropertyWatchers.indexOf(this);this._module._objectPropertyWatchers.splice(e,1)}updateSubPropertiesToWatch(e,t){if(e!==this._isNode)return;const n=t.getData(this._path);for(let r=0;r<n.length;r++){const i=n[r];if(aa(i)){const s=Object.keys(i);for(let o=0;o<s.length;o++)this._addSubPropertyToWatch(s[o])}}}_addSubPropertyToWatch(e){if(!this._properties[e]){const t=this._path.concat([e]),n=()=>this._triggerPropertyUpdate(e),r=this._unwindArrays,i=this._isNode,s=this._filter,o=this._module.watchPropertyInformation(i,t,n,s,r);this._properties[e]={handler:n,info:o},this._triggerPropertyUpdate(e)}}_triggerPropertyUpdate(e){const{info:t}=this._properties[e],n=this._propertyList.indexOf(e),r=n!==-1,i=t.getType()!=="undefined";!r&&i?(this._propertyList.push(e),this._triggerHandlers("_onAddHandlers",e,t),this._triggerHandlers("_onUpdateHandlers",e,t)):r&&!i?(this._propertyList.splice(n,1),this._triggerHandlers("_onUpdateHandlers",e,t),this._triggerHandlers("_onRemoveHandlers",e,t)):r&&i&&this._triggerHandlers("_onUpdateHandlers",e,t)}_triggerHandlers(e,t,n){const r=this[e];for(let i=0,s=r.length;i<s;i++)r[i](t,n)}},GV=class{constructor(){}setWatcher(e){this._watcher=e}isNode(){return this._watcher.isNode}getPath(){return this._watcher.property.slice()}getBoundaries(){const e=this._watcher.boundaries;return e?{min:e.min,max:e.max}:null}getValues(){return this._watcher.values.keys()}getValueCount(e){return this._watcher.values.get(e)||0}getCount(){return this._watcher.total}getType(){return this._watcher.any>0?"any":this._watcher.numbers>0?"number":"undefined"}};function P2(e){return typeof e=="number"&&isNaN(e)}var F2=class{constructor(){this._keys=[],this._values=[]}set(e,t){const n=this._getIndex(e);return n===-1?(this._keys.push(e.slice()),this._values.push(t),!0):(this._values[n]=t,!1)}get(e){const t=this._getIndex(e);return t===-1?void 0:this._values[t]}has(e){return this._getIndex(e)!==-1}delete(e){const t=this._getIndex(e);return t!==-1&&(this._keys.splice(t,1),this._values.splice(t,1),!0)}keys(){return this._keys.map(e=>e.slice())}values(){return this._values.slice()}_getIndex(e){for(let t=0;t<this._keys.length;t++){const n=this._keys[t];if(n.length===e.length){let r=!0;for(let i=0;i<e.length;i++){const s=n[i],o=e[i];if(!(s===o||P2(s)&&P2(o))){r=!1;break}}if(r)return t}}return-1}get size(){return this._keys.length}},HV=class{constructor(){this._map=new Map,this._arrays=new F2}clear(){return this._arrays=new F2,this._map.clear()}delete(e){return Rn(e)?this._arrays.delete(e):this._map.delete(e)}get(e){return Rn(e)?this._arrays.get(e):this._map.get(e)}set(e,t){return Rn(e)?this._arrays.set(e,t):this._map.set(e,t),this}keys(){return[...Yp(this._map),...this._arrays.keys()]}values(){return[...go(this._map),...this._arrays.values()]}get size(){return this._map.size+this._arrays.size}};function dm(e){return typeof e=="number"&&isFinite(e)}var WV=class extends it{constructor(){super(...arguments),this._onExcludedStateChange=({elements:e,value:t})=>{const n=!t;for(let r=0,i=this._propertyWatchers.length;r<i;r++){const s=this._propertyWatchers[r];s.isNode===e.isNode&&s.filter==="visible"&&(n?vc(s,e.getData(s.property)):jh(s,e.getData(s.property)),lh(s))}},this._onDataChange=({isNode:e,changes:t})=>{for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.property,s=r.filter==="all";if(r.isNode===e)for(let o=0;o<t.length;++o){const a=t[o],l=qV(a.property||[],i);if(l){const c=a.nodes||a.edges,d=[],u=[];if(c)for(let h=0;h<c.size;++h){const g=c.get(h);(s||g.isVisible())&&(d.push(an(a.newValues[h],l)),u.push(an(a.previousValues[h],l)))}d.length&&(vc(r,d),jh(r,u),lh(r))}}}for(let n=0,r=this._objectPropertyWatchers.length;n<r;n++){const i=this._objectPropertyWatchers[n],s=i.path;for(let o=0;o<t.length;++o){const{property:a,nodes:l,edges:c}=t[o],d=l||c;if(d){const u=d.isNode;(!a||a.length<=s.length+1&&s.every((h,g)=>h===a[g]))&&i.updateSubPropertiesToWatch(u,d)}}}},this._onElementsAdded=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n];if(r.isNode===t.isNode){const i=t.getData(r.property);i.length&&(vc(r,i),lh(r))}}for(let n=0;n<this._objectPropertyWatchers.length;n++)this._objectPropertyWatchers[n].updateSubPropertiesToWatch(t.isNode,t)},this._onElementsRemoved=e=>{const t=e.nodes||e.edges;for(let n=0;n<this._propertyWatchers.length;++n){const r=this._propertyWatchers[n],i=r.filter==="all";if(r.isNode===t.isNode&&i){const s=t.getData(r.property);s.length&&(jh(r,s),lh(r))}}},this._onGraphClear=()=>{this._propertyWatchers.forEach(e=>{e.numbers=0,e.any=0,e.total=0,e.boundaries=null,e.values.clear()})}}onMounted(){this._propertyWatchers=[],this._objectPropertyWatchers=[],this._modules.events.on("excludedStateChange",this._onExcludedStateChange).on(["updateNodeData","updateEdgeData"],this._onDataChange).on(["addNodes","addEdges"],this._onElementsAdded).on(["removeNodes","removeEdges"],this._onElementsRemoved).on("clearGraph",this._onGraphClear)}watchNodeObjectProperty(e){return this._watchObjectProperty(!0,ch(e))}watchEdgeObjectProperty(e){return this._watchObjectProperty(!1,ch(e))}watchNodeNonObjectProperty(e){return this._watchNonObjectProperty(!0,ch(e))}watchEdgeNonObjectProperty(e){return this._watchNonObjectProperty(!1,ch(e))}watchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i)||this._createWatcher(e,t,r,i);return n&&s.onChange.push(n),s.info}unwatchPropertyInformation(e,t,n,r,i){const s=this._findWatcher(e,t,r,i);if(!s)return;const o=s.onChange,a=o.indexOf(n);if(a!==-1&&(o.splice(a,1),o.length===0)){const l=this._propertyWatchers.indexOf(s);this._propertyWatchers.splice(l,1)}}_watchObjectProperty(e,t){const n=new VV(this,e,t);return this._objectPropertyWatchers.push(n),n.updateSubPropertiesToWatch(e,this._modules.graph[e?"getNodes":"getEdges"](t.filter)),n}_watchNonObjectProperty(e,t){return new $V(this,e,t)}_findWatcher(e,t,n,r){for(let i=0;i<this._propertyWatchers.length;++i){const s=this._propertyWatchers[i];if(s.isNode===e&&s.filter===n&&s.unwindArrays===r&&YV(s.property,t))return s}return null}_createWatcher(e,t,n,r){const i={isNode:e,property:t,numbers:0,any:0,total:0,values:new HV,boundaries:null,onChange:[],filter:n,unwindArrays:r,info:new GV};return i.info.setWatcher(i),vc(i,this._modules.graph[e?"getNodes":"getEdges"](n).getData(t)),this._propertyWatchers.push(i),i}};function R2(e){return e==null?[]:oa(e)}function XV(e){return e==="all"?"all":"visible"}function lh(e){for(let t=0;t<e.onChange.length;++t)e.onChange[t](e.info)}function YV(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}function qV(e,t){if(e.length>t.length)return null;let n=0;for(;n<e.length;++n)if(e[n]!==t[n])return null;return t.slice(n)}function vc(e,t,n){const r=e.values,i=!n&&e.unwindArrays;for(let s=0;s<t.length;++s){const o=t[s];if(n||o===void 0||(e.total+=1),i&&Array.isArray(o))vc(e,o,!0);else{const a=r.get(o);a?r.set(o,a+1):(r.set(o,1),dm(o)?(e.boundaries?o<e.boundaries.min?e.boundaries.min=o:o>e.boundaries.max&&(e.boundaries.max=o):e.boundaries={min:o,max:o},e.numbers+=1):o!==void 0&&(e.any+=1))}}}function jh(e,t,n){const r=e.values,i=!n&&e.unwindArrays,s=e.boundaries;let o=!1;for(let a=0;a<t.length;++a){const l=t[a];if(n||l===void 0||(e.total-=1),i&&Array.isArray(l))o=o||jh(e,l,!0);else{const c=r.get(l);c>1?r.set(l,c-1):(r.delete(l),dm(l)?(e.numbers-=1,!s||s.min!==l&&s.max!==l||(o=!0)):l!==void 0&&(e.any-=1))}}return!n&&o&&(e.boundaries=ZV(r.keys())),o}function ZV(e){let t=null,n=null;for(let r=0;r<e.length;++r){const i=e[r];dm(i)&&((t==null||i<t)&&(t=i),(n==null||i>n)&&(n=i))}return t==null||n==null?null:{min:t,max:n}}function ch(e){return typeof e!="object"||e===null||Array.isArray(e)?{path:R2(e),filter:"visible",unwindArrays:!1}:{path:R2(e.path),filter:XV(e.filter||"visible"),unwindArrays:!!e.unwindArrays}}var QV=class extends it{onMounted(){this._modules.events.register(["virtualDown","virtualUp","virtualMove","virtualClick","virtualDoubleClick","virtualWheel"])}get x(){return this._modules.position.x||0}get y(){return this._modules.position.y||0}_later(){return this._modules.dom.afterNextFrame()}move({x:e,y:t}){return e!==void 0&&t!==void 0?this._modules.dom.afterNextFrame().then(()=>{const n=e-this.x,r=t-this.y;return this._modules.events.fire("virtualMove",{x:e,y:t,dx:n,dy:r}),this._later()}):Promise.resolve()}down({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualDown",{x:this.x,y:this.y,button:n}),this._modules.events.fire("virtualMove",{x:this.x,y:this.y,dx:0,dy:0,button:n}),this._later()))}up({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualUp",{x:e,y:t,button:n}),this._later()))}click({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualClick",{x:e,y:t,button:n}),this._later()))}rightClick({x:e,y:t,button:n="right"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualClick",{x:e,y:t,button:n}),this._later()))}doubleclick({x:e,y:t,button:n="left"}={}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualDoubleClick",{x:e,y:t,button:n}),this._later()))}drag(e,t){return this.down(e).then(()=>this.move(t)).then(()=>this.up(t))}wheel({x:e,y:t,delta:n}){return this.move({x:e,y:t}).then(()=>(this._modules.events.fire("virtualWheel",{x:e,y:t,delta:n}),this._later()))}};function Kr(e,t,n,r,i,s){const o=Fr(),a=s.graphToScreenCoordinates(e),l=s.graphToScreenCoordinates(t);i.beginPath(),i.moveTo(a.x*o,a.y*o),i.lineTo(l.x*o,l.y*o),i.strokeStyle=r,i.lineWidth=n,i.stroke()}function D2(e,t,n,r){let i,s,o,a=0,l=e.length-1;for(;a<l&&a>-1;)if(i=(a+l)/2|0,s=Math.abs(t[e[i]]-n),o=Math.abs(t[e[i+1]]-n),o<s)a=i+1;else if(o>s)l=i;else{const c=Math.abs(t[e[a]]-n),d=Math.abs(t[e[l]]-n);if(c<d)l=i;else{if(!(c>d))return l;a=i+1}}return r?l:e[l]}function z2(e,t,n,r,i,s,o){let a,l,c,d,u,h;for(let g=0,p=e.length;g<p;g++)for(let m=0;m<p;m++){if(g===m)continue;let _=e[g],y=e[m];m<g&&(d=y,y=_,_=d);const f=t[_],x=t[y],v=s.get(_),w=s.get(y);if(f+v<r-i&&x-w>r+i&&Math.abs(Math.abs(f+v-(r-i))-Math.abs(x-w-(r+i)))<=o)return a=_,l=n,c=y,h=f+v+Math.abs(x-w-(f+v))/2,u=[f+v,h-i,h+i,x-w],{a,b:l,c,current:n,target:h,points:u};if(f+v<r-i&&x+w<r-i&&Math.abs(Math.abs(f+v-(x-w))-Math.abs(Math.max(f+v,x+w)-(r-i)))<=o)return a=_,l=y,c=n,h=x+v+Math.abs(Math.abs(f+v-(x-w)))+i,u=[f+v,x-w,x+w,h-i],{a,b:l,c,current:n,target:h,points:u};if(f-v>r+i&&x-w>r+i&&Math.abs(Math.abs(f+v-(x-w))-Math.abs(Math.min(f-v,x-w)-(r+i)))<=o)return a=n,l=_,c=y,h=f-v-Math.abs(Math.abs(f+v-(x-w)))-i,u=[h+i,f-v,f+v,x-w],{a,b:l,c,current:n,target:h,points:u}}return null}var Pf={enabled:!1,tolerance:5,centerSnapDistance:240,sideSnapDistanceFactor:3,guidelineWidth:1,guidelineColor:"#ff0000",preferredDistance:{enabled:!0,ratio:1.13,tolerance:10,lineColor:"#00C3FF",lineWidth:1},neighbours:{enabled:!0,offset:5,tolerance:3,lineColor:"#00C3FF",lineWidth:1}},KV=class extends it{constructor(){super(...arguments),this._options=cn(Pf),this._enabled=!1,this._ysnap=0,this._xsnap=0,this._node=null,this._nodes=null,this._r=0,this._vguideline={start:{x:0,y:0},end:{x:0,y:0}},this._hguideline={start:{x:0,y:0},end:{x:0,y:0}},this._gridResolution=0,this._onNodeDragStart=({nodes:e})=>{e.size===1&&(this._node=e.get(0),this._cacheViewportData(),this._r=Number(this._node.getAttribute("radius")))},this._onNodeDragEnd=()=>{this._node=null,this._layer.refresh()}}onMounted(){this._options=cn(Pf),this._enabled=!1}enable(e){this._enabled||(this._options=Zr(e,Pf),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{t.clearRect(0,0,t.canvas.width,t.canvas.height)},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._modules.events.on("nodesDragStart",this._onNodeDragStart).on("nodesDragEnd",this._onNodeDragEnd),this._modules.settings.update({"interactions.drag.onBeforeDrag":(t,n,r,i)=>this._onBeforeDrag(n,r,i)}))}disable(){this._enabled&&(this._modules.events.off(this._onNodeDragStart).off(this._onNodeDragEnd),this._layer.destroy(),this._modules.settings.update({"interactions.drag.onBeforeDrag":null}),this._enabled=!1)}enabled(){return this._enabled}_onBeforeDrag(e,t,n){if(this._node){const r=n[0];this._layer.refresh(i=>{this._scan(i,r)}),this._node.setAttributes(r)}}_cacheViewportData(){const e=this._modules.camera,t=e.screenToGraphCoordinates({x:0,y:0}),n=e.screenToGraphCoordinates({x:e.width,y:e.height});if(this._nodes=this._modules.spatial.getNodesByBoundingBox(t.x,t.y,n.x,n.y),this._node==null)return;const r=this._node._index,i=Array.from(this._nodes._indexes);i.splice(i.indexOf(r),1);const s=this._modules.graph.getNodeAttribute("radius"),o=this._modules.graph.getNodeAttribute("x"),a=this._modules.graph.getNodeAttribute("y"),l=o.buffer(),c=a.buffer(),d=dc(i.slice(),o),u=dc(i.slice(),a),h={},g={};this._gridResolution=Number(this._node.getAttribute("radius"));const p=this._gridResolution;for(let m=0,_=i.length;m<_;m++){const y=d[m],f=u[m],x=l[y]/p|0,v=c[f]/p|0;h[x]||(h[x]=[]),g[v]||(g[v]=[]),h[x].push(y),g[v].push(f)}this._nodesByX=d,this._nodesByY=u,this._xGrid=h,this._yGrid=g,this._xList=o,this._yList=a,this._X=l,this._Y=c,this._R=s}_scan(e,t){if(this._node==null)return;const n=this._node._index,r=t.x,i=t.y,s=this._r,o=this._options,a=this._xList,l=this._yList,c=this._R,d=this._X,u=this._Y,h=this._modules.camera.zoom,g=Math.min(s,this._options.tolerance/h),p=2*s*o.sideSnapDistanceFactor,m=o.guidelineWidth,_=o.guidelineColor;let y,f,x,v,w,b,S,k,C=n,A=n,N=null,R=!1,B=!1;if(C=D2(this._nodesByX,d,r),A=D2(this._nodesByY,u,i),Math.abs(d[C]-r)>o.centerSnapDistance&&(C=n),Math.abs(u[A]-i)>o.centerSnapDistance&&(A=n),this._xsnap=0,C!==n){y=this._vguideline.start,f=this._vguideline.end,k=C,x=d[k],v=u[k],N=c.get(k),S=Math.abs(r-x);const W=Math.abs(r-s-(x-N)),F=Math.abs(r+s-(x+N));if(S<Math.max(s,N)){v<i?(y.y=v-N,f.y=i+s):(y.y=v+N,f.y=i-s);const T=Math.min(W,S,F);T===S?(y.x=f.x=x,f.y=i,y.y=v,this._xsnap=1):Math.abs(i-v)<N+s+p&&(T===W?(y.x=f.x=x-N,this._xsnap=2):(y.x=f.x=x+N,this._xsnap=3)),T<g&&(R=!0)}this._xsnap!==0&&Kr(y,f,m,_,e,this._modules.camera)}if(this._ysnap=0,A!==n){y=this._hguideline.start,f=this._hguideline.end,k=A,x=d[k],v=u[k],N=c.get(k),S=Math.abs(i-v);const W=Math.abs(i-s-(v-N)),F=Math.abs(i+s-(v+N));if(S<Math.max(s,N)){x<r?(y.x=x-N,f.x=r+s):(y.x=x+N,f.x=r-s);const T=Math.min(W,S,F);T===S?(y.y=f.y=v,f.x=r,y.x=x,this._ysnap=1):Math.abs(r-x)<N+s+p&&(T===W?(y.y=f.y=v-N,this._ysnap=4):(y.y=f.y=v+N,this._ysnap=5)),T<g&&(B=!0)}this._ysnap!==0&&Kr(y,f,m,_,e,this._modules.camera)}if(N!=null&&o.preferredDistance.enabled){const W=o.preferredDistance.ratio,F=Math.min(o.preferredDistance.tolerance/h,s),T=Math.max(s,N);if(C===n||this._xsnap!==0&&R){if(A!==n&&(this._ysnap===0||!B)&&(k=A,x=d[k],v=u[k],N=c.get(k),b=Math.abs(i-v)-(s+N)*(1+W),b<=F&&b>=-F)){const H=i<v?-1:1;y=this._hguideline.start,f=this._hguideline.end,y.x=x-T,f.x=x+T,y.y=f.y=v,Kr(y,f,m,_,e,this._modules.camera),y.x=r-T,f.x=r+T,y.y=f.y=v+H*(1+W)*(s+N),Kr(y,f,m,_,e,this._modules.camera),this._ysnap=1,B=!0}}else if(k=C,x=d[k],v=u[k],N=c.get(k),w=Math.abs(r-x)-(s+N)*(1+W),w<=F&&w>=-F){const H=r<x?-1:1;y=this._vguideline.start,f=this._vguideline.end,y.x=f.x=x+H*(1+W)*(s+N),y.y=v-T,f.y=v+T,y.x=f.x=x,Kr(y,f,m,_,e,this._modules.camera),y.y=i-T,f.y=i+T,y.x=f.x=x+H*(1+W)*(s+N),Kr(y,f,m,_,e,this._modules.camera),this._xsnap=1,R=!0}}if(o.neighbours.enabled){const W=this._gridResolution,F=r/W|0,T=i/W|0,H=this._xGrid,G=this._yGrid,q=[],te=[].concat(G[T-1]||q,G[T]||q,G[T+1]||q),J=[].concat(H[F-1]||q,H[F]||q,H[F+1]||q);let ue;te.length>1&&(dc(te,a),ue=z2(te,d,n,r,s,c,g),ue&&(this._drawNeighbourGuidelines(e,ue,t,!1),R=!1)),J.length>1&&!ue&&(dc(J,l),ue=z2(J,u,n,i,s,c,g),ue&&(this._drawNeighbourGuidelines(e,ue,t,!0),B=!1))}(R||B)&&this._snap(t,!R,!B)}_drawNeighbourGuidelines(e,{a:t,b:n,c:r,points:i,target:s},o,a){const l={x:0,y:0},c={x:0,y:0},d=this._R,u=this._X,h=this._Y;let[g,p,m]=d.getMultiple([t,n,r]);const{offset:_,lineWidth:y,lineColor:f}=this._options.neighbours;let x,v;a?(o.y=s,g=-g,p=-p,m=-m,x=c.x=l.x=Math.min(u[t]+g,u[n]+p,u[r]+m)-_,v=u):(o.x=s,x=c.y=l.y=Math.max(h[t]+g,h[n]+p,h[r]+m)+_,v=h);const w=a?"y":"x",b=a?"x":"y";l[w]=i[0],c[w]=i[1],Kr(l,c,y,f,e,this._modules.camera),l[w]=i[2],c[w]=i[3],Kr(l,c,y,f,e,this._modules.camera),l[w]=i[0],l[b]=x-_/2,c[w]=i[0],l[b]=v[t]+g,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[1],l[b]=x-_/2,c[w]=i[1],l[b]=v[n]+p,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[2],l[b]=x-_/2,c[w]=i[2],l[b]=v[n]+p,Kr(l,c,y,f,e,this._modules.camera),l[w]=i[3],l[b]=x-_/2,c[w]=i[3],l[b]=v[r]+m,Kr(l,c,y,f,e,this._modules.camera)}_snap(e,t,n){const r=this._xsnap,i=this._ysnap;let s;t||r===0||(s=this._vguideline.end,e.x=r===2?s.x+this._r:r===3?s.x-this._r:s.x),n||i===0||(s=this._hguideline.end,e.y=i===4?s.y+this._r:i===5?s.y-this._r:s.y)}},JV=class{constructor(e,t,n){this._module=e,this._id=t,this._whenApplied=n.then(()=>this)}getId(){return this._id}whenApplied(){return this._whenApplied}refresh(){return this._module.refreshRule(this._id)}getIndex(){return this._module.getRuleIndex(this._id)}setIndex(e){return this._module.setRuleIndex(this._id,e)}update(e){return this._module.updateRule(this._id,e)}getDefinition(){return this._module.getRuleDefinition(this._id)}destroy(){return this._module.destroyRule(this._id)}},eG=1e3,tG=1/eG,nG=class extends it{constructor(){super(...arguments),this._idCounter=1,this._rules=[]}onMounted(){this._rules=[],this._modules.events.register(["addStyleRule","removeStyleRule","updateStyleRule","refreshStyleRule"])}_get(e){for(let t=0;t<this._rules.length;++t){const n=this._rules[t];if(n.id===e)return n.index=t,n}throw new Error("calling a method on a destroyed style rule")}_updatePriorities(){for(let e=0;e<this._rules.length;++e){const t=this._rules[e],n=f4+e*tG;t.attributeLayer.update({priority:n})}}addRule(e={}){const t=this._idCounter++,n=this._modules.graphics.addAttributeLayer(Se({name:`rule(${t})`},Ff(e))),r=this._modules.dom.afterNextFrame(),i=new JV(this,t,r),s={id:t,attributeLayer:n,wrapper:i};return this._rules.push(s),this._updatePriorities(),this._modules.events.fire("addStyleRule",{rule:s,options:e,id:s.id}),i}getRuleIndex(e){const t=this._get(e);return t.index==null?null:t.index}setRuleIndex(e,t){const n=this._get(e),r=Wr(t,0,this._rules.length-1);return this._rules.splice(n.index,1),this._rules.splice(r,0,n),this._updatePriorities(),this._modules.dom.afterNextFrame()}updateRule(e,t){const n=this._get(e),r=Object.assign({fullOverwrite:t.fullOverwrite},Ff(t));return n.attributeLayer.update(r),this._modules.events.fire("updateStyleRule",{rule:n,options:t}),this._modules.dom.afterNextFrame()}getRuleDefinition(e){return Ff(this._get(e).attributeLayer.getDefinition())}destroyRule(e){const t=this._get(e);return this._modules.events.fire("removeStyleRule",{rule:t,id:t.id}),t.attributeLayer.destroy(),this._rules.splice(t.index,1),this._modules.dom.afterNextFrame()}refreshRule(e){const t=this._get(e);return t.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:t,id:e}),this._modules.dom.afterNextFrame()}refreshAllRules(){for(const e of this._rules)e.attributeLayer.updateAll(),this._modules.events.fire("refreshStyleRule",{rule:e,id:e.id});return this._modules.dom.afterNextFrame()}getRuleList(){return this._rules.map(e=>e.wrapper)}};function Ff(e){return{nodeAttributes:e.nodeAttributes,edgeAttributes:e.edgeAttributes,nodeSelector:e.nodeSelector,edgeSelector:e.edgeSelector,nodeDependencies:e.nodeDependencies,edgeDependencies:e.edgeDependencies,nodeOutput:e.nodeOutput,edgeOutput:e.edgeOutput}}var Z_,O2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e})=>e.setSelected(!0),bothExtremities:!1},fP=class extends it{constructor(){super(...arguments),this._enabled=!1,this._points=[],this._bbox=new Nn,this._onStart=({x:e,y:t})=>{this._bbox.reset(),this.savePoint(e,t,!1)},this._onStop=()=>{const{minX:e,minY:t,maxX:n,maxY:r}=this._bbox,{nodes:i,edges:s}=this._modules.spatial.queryProjected(e,t,n,r),o={},a=i.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable"),h=d&&u&&this._modules.locate.isNodeInPolygon(c,this._points);return o[c._index]=h,h});let l=s.filter(c=>{const d=c.isVisible(),u=c.getAttribute("detectable");return d&&u&&this._modules.locate.isEdgeInPolygon(c,this._points)});this._options.bothExtremities&&(l=this.filterByExtremities(l,o)),this._layer.clear(),this._points=[],this.disable(),this._options.callback({nodes:a,edges:l})}}onMounted(){this._options=cn(O2),this._cachedCursor="",this._modules.events.isRegistered("lassoEnabled")||this._modules.events.register(["lassoEnabled","lassoDisabled"]),this._interaction=this._modules.interactions.onDrag({priority:"lasso",check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this.savePoint(e,t,!0),onStop:this._onStop})}enable(e={}){var t;return this._enabled||(this._enabled=!0,this._modules.captor.setDetectionEnabled(!1),this._options=Zr(e,O2),this._layer=this._modules.layers.addCanvasLayer(ft,{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this._cachedCursor=((t=this._layer.element.parentElement)==null?void 0:t.style.cursor)||"",Pg(this._layer.element.parentElement,this._options.cursorStyle),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorPosition()),this._modules.events.fire("lassoEnabled")),this}disable(){return this._enabled?(this._enabled=!1,this._modules.captor.setDetectionEnabled(!0),Pg(this._layer.element.parentElement,this._cachedCursor),this._layer.destroy(),this._modules.events.fire("lassoDisabled"),this):this}enabled(){return this._enabled}savePoint(e,t,n){const r=Fr(),i=this._options,s=this._points;if(this._bbox.addPoint(e,t),s.push({x:e,y:t}),n){const o=s[0];this._layer.refresh(a=>{a.lineWidth=i.strokeWidth,a.lineJoin="bevel",a.strokeStyle=i.strokeColor,a.fillStyle=i.fillColor,a.beginPath(),a.moveTo(o.x*r,o.y*r);for(let l=1;l<s.length;++l){const c=s[l];a.lineTo(c.x*r,c.y*r)}a.stroke(),i.fillColor&&a.fill()})}}filterByExtremities(e,t){const n=this._modules.graph.getEdgeAttribute("source"),r=this._modules.graph.getEdgeAttribute("target");return e.filter(i=>{const s=i._index,o=n.get(s),a=r.get(s);return t[o]&&t[a]})}},B2={strokeColor:"#00C3FF",fillColor:"rgba(0,195,255,0.1)",strokeWidth:1,cursorStyle:"cell",callback:({nodes:e,edges:t})=>{e.size?e.setSelected(!0):t.setSelected(!0)},bothExtremities:!1},rG=class extends fP{constructor(){super(...arguments),this._onStart=({x:e,y:t})=>{var n;this._rectangle.reset(),this._start={x:e,y:t},(n=this._layer)==null||n.refresh(r=>{r.fillStyle=this._options.fillColor,r.strokeStyle=this._options.strokeColor,r.lineWidth=this._options.strokeWidth})},this._onStop=()=>{var e;const t=this._modules.captor.getCursorPosition(),n=this._formatRectangle(t),{nodes:r,edges:i}=this._modules.spatial.queryProjected(n.minX,n.minY,n.maxX,n.maxY),s={},o=r.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable"),u=c&&d&&this._modules.locate.isNodeInRectangle(l,n);return s[l._index]=u,u});let a=i.filter(l=>{const c=l.isVisible(),d=l.getAttribute("detectable");return c&&d&&this._modules.locate.isEdgeInRectangle(l,n)});this._options.bothExtremities&&(a=this.filterByExtremities(a,s)),(e=this._layer)==null||e.clear(),this.disable(),this._options.callback({nodes:o,edges:a})}}onMounted(){this._options=cn(B2),this._enabled=!1,this._rectangle=new Nn,this._interaction=this._modules.interactions.onDrag({priority:"lasso",disableDetection:!0,check:()=>this._enabled,onStart:this._onStart,onProgress:({x:e,y:t})=>this._refreshRectangle({x:e,y:t}),onStop:this._onStop})}enable(e){return super.enable(Zr(e,B2))}_formatRectangle(e){const t=this._start.x,n=this._start.y,r=e.x,i=e.y,s=Math.abs(t-r),o=Math.abs(n-i),a=t<r?t:r,l=n<i?n:i;return this._rectangle.reset().addPoint(a,l).addPoint(a+s,l+o)}_refreshRectangle(e){var t;const{minX:n,minY:r,width:i,height:s}=this._formatRectangle(e),o=Fr();(t=this._layer)==null||t.refresh(a=>{a.strokeRect(n*o,r*o,i*o,s*o),this._options.fillColor&&a.fillRect(n*o,r*o,i*o,s*o)})}},Gi=6,_P=5,Wc=1,yP=0,xP=0,Q_=-1;function vP(e,t,n,r){yP=e,Z_=n,xP=t?1:0,Q_=r}var j2=(e,t,n,r)=>i=>{const{rects:s,bboxes:o,intersects:a,indexToLayer:l,indexToRemoveNodeText:c,indexToRemoveEdgeText:d}=r;if(o[i*Gi+5]===yP&&o[i*Gi+4]===n)return!1;const u=i*_P,h=iu(s[u],s[u+1],s[u+2],s[u+3],s[u+4]);if(MI(Z_,h)){if(r.realIntersection=!0,Q_<=0&&a.push(Z_,h),!(t||l[o[i*Gi+5]]<Q_))return!0;e.remove(i),r.realIntersection=!1,o[i*Gi+4]===xP?c[o[i*Gi+5]]=!0:d[o[i*Gi+5]]=!0}return!1};function U2(e,t,n="#22ff00"){return K_([[e[0],e[1]],[e[2],e[1]],[e[2],e[3]],[e[0],e[3]]].map(r=>({x:r[0],y:r[1]})),t,n)}function K_(e,t,n="#ff0000"){t.strokeStyle=n,t.beginPath();for(let r=0,i=e.length;r<i;r++)r===0?t.moveTo(e[r].x,e[r].y):t.lineTo(e[r].x,e[r].y);t.closePath(),t.stroke()}function iG(e,t,n,r,i){for(let a=0,l=t.length;a<l;a+=Gi)U2(t.slice(a,a+4),e,"#aaaaaa");for(let a=0;a<n.length;a+=_P)K_(iu(n[a],n[a+1],n[a+2],n[a+3],n[a+4]),e,"green");const s=[i.root];let o=i.root;for(;o=s.pop();)o.leaf||s.push.apply(s,o.children),U2(i.getNodeBounds(o),e,"rgba(0,0,0,0.2)"),o=s.pop();r.forEach(a=>K_(a,e,"red"))}var tc={x1:0,y1:0,x2:0,y2:0},Rf={x:0,y:0},Ca={x:0,y:0},sG=Math.PI/2,oG=0;function aG(e,t,n,r,i,s,o,a,l,c,d){const u=a.remove.nodes,h=a.remove.edges,g=a.redraw.edges,p=n.angle,m=n.zoom,_=i.x,y=i.y,f=i.radius,x=Math.PI,{source:v,target:w,scalingMethod:b}=r,S=r.width,k=r.curvature,C=r.layer,A=r.text.content,N=r.text.scaling,R=r.text.size,B=r.text.font,W=r.text.style,F=r.text.scale,T=r.text.maxLineLength,H=r.text.margin,G=r.text.minVisibleSize,q=r.text.padding,te=r.animationDuration,J=r.text.adjustAngle,ue=r.text.position;a.indexToLayer={},a.indexToQuadIndex={},a.indexToRemoveNodeText={},a.indexToRemoveEdgeText={},a.indexToRedrawEdgeText={},a.byLayer=[];const{byLayer:Te,indexToLayer:ce,indexToQuadIndex:_e,indexToRedrawEdgeText:ze,indexToRemoveNodeText:Ye,indexToRemoveEdgeText:qe}=a;for(let Z=0;Z<e.length;Z++){const ee=e[Z],se=C.get(ee)-zN;for(let oe=1;oe<=se;oe++)(Te[oe]=Te[oe]||[]).push(ee);ce[ee]=se}if(l!==null){const Z=Te.length;for(let ee=ce[l]+1;ee<=Z;ee++)(Te[ee]=Te[ee]||[]).unshift(l);ce[l]=Z}const ge=[0,0,0,0],ye=[0,0,0,0,0],{bboxes:Ze,rects:tt}=a,ut=(Z,ee=-1)=>{const se=te.get(Z);let oe=A?A.get(Z):"";if(oe===null||oe===""||se)return!1;const he=v.get(Z),pe=w.get(Z);let De=S.get(Z);const Ie=k.get(Z),Pe=G.get(Z);if(De*m<Pe)return qe[Z]=!0,!1;b.get(Z)==="fixed"&&(De/=m);let nt=(_.get(he)+_.get(pe))/2,rt=(y.get(he)+y.get(pe))/2;oe=oe?oe.toString():"";const Rt=!N.get(Z),It=F.get(Z)*(Rt?1:m),Mt=B.get(Z),Wt=(Rt?R.get(Z):It*De)*Wc,vt=W.get(Z),lt=T.get(Z),Ct=ue.get(Z)===ru;let Pt=+Ct*H.get(Z)+r.text.padding.get(Z);const Dt=_.get(he),At=y.get(he),bt=_.get(pe),Gt=y.get(pe),Xt=f.get(he),Er=f.get(pe);let ht;const xt=he===pe;if(xt)ht=x/4-p,ma(Dt,At,Ie,Xt,0,tc),Ld(.5,Dt,At,bt,Gt,tc.x1,tc.y1,tc.x2,tc.y2,Ca),nt=Ca.x,rt=Ca.y,Pt/=-m;else{if(Dt===bt&&At===Gt)return!1;ht=Sl(Dt,At,bt,Gt)-p,Ie!==0&&(ht=Sl(Dt,At,bt,Gt)-p,Pi(Dt,At,bt,Gt,Ie,Rf),am(.5,Dt,At,bt,Gt,Rf.x,Rf.y,Ca),nt=Ca.x,rt=Ca.y)}const gt=Pt+oG,jt=gI(oe,lt);if(!jt)return!1;const{lines:Jt,data:pn}=jt;let zn=s(pn[0],Mt,vt,Wt).width*Wc;for(let kn=1;kn<Jt;kn++)zn=Math.max(zn,s(pn[kn],Mt,vt,Wt).width*Wc);const mn=Jt*Wt,Mn=zn/m/2,Sr=mn/m/2,Fi=Math.abs(Fg(ht))<sG?1:-1;let Ut=Ct?xt?mn/m+De/2+Pt:Fi*(gt/m+De/2+Sr):0;if(!xt&&Ie===0&&J.get(Z)){const kn=q.get(Z);vn(Dt,At,bt,Gt)*m-(Xt+Er)*(d?1:m)<zn+2*kn+1&&(Ut*=Fi,ht=0)}if(ye[0]=nt-Mn,ye[1]=rt-Sr,ye[2]=nt+Mn,ye[3]=rt+Sr,ye[4]=ht+p,q_(ye,-(ht+p),-Ut,ye),ye[2]=ye[2]-ye[0],ye[3]=ye[3]-ye[1],ht=x-ht-p,cm(nt-Mn,rt-Sr,2*Mn,2*Sr,ht,void 0,void 0,ge),q_(ge,ht,Ut,ge),a.realIntersection=!1,vP(Z,!1,iu(ye[0],ye[1],ye[2],ye[3],ye[4]),ee),t.traverse(ge[0],ge[1],ge[2],ge[3],c),a.realIntersection&&!o)return qe[Z]=!0,!1;if(ze[Z]=!0,Ye[Z]=!1,ee<=0){const kn=Ze.length/Gi;_e[Z]=kn,Ze.push(ge[0],ge[1],ge[2],ge[3],0,Z),t.insert(kn,ge[0],ge[1],ge[2],ge[3]),tt.push(ye[0],ye[1],ye[2],ye[3],ye[4])}else t.insert(_e[Z],ge[0],ge[1],ge[2],ge[3])};for(const Z of e)ut(Z);let st=!0;for(let Z=0;Z<Te.length;Z++){const ee=Te[Z];if(ee)if(st)st=!1;else for(const se of ee)ut(se,Z)}for(let Z=0;Z<e.length;Z++){const ee=e[Z];Ye[ee]?u.push(ee):ze[ee]&&g.push(ee),qe[ee]&&h.push(ee)}return a}var lG={left:-1,right:1,top:0,bottom:0,center:0},cG={left:0,right:0,top:-1,bottom:1,center:0},dG={left:-1,right:0,top:-.5,bottom:-.5,center:-.5},uG={left:-.5,right:-.5,top:-1,bottom:0,center:-.5},hG=(e,t,n)=>gI(t,n.get(e))||{lines:0,data:[" "],maxLength:1},gG=(e,t,n,r,i,s,o)=>{const{lines:a,data:l}=hG(e,t,r);let c=n(l[0],i,s,o).width;for(let d=1;d<a;d++)c=Math.max(c,n(l[d],i,s,o).width);return[c,a*o*Wc]},pG=(e,t,n)=>{const r=t.text.content,i=t.radius,s=t.text.scaling,o=t.text.position,a=t.text.padding,l=t.text.scale,c=t.text.size,d=t.text.style,u=t.text.font,h=t.text.maxLineLength,g=t.text.margin,p=r.get(e),m=i.get(e),_=!s.get(e),y=o.get(e),f=a.get(e),x=l.get(e),v=(_?c.get(e):x*m*2)*Wc,w=d.get(e),b=u.get(e),S=f+g.get(e),k=lG[y],C=cG[y],[A,N]=gG(e,`${p}`,n,h,b,w,v),R=A/2,B=N/2;return[dG[y]*A,uG[y]*N,k*S,C*S,k*m,C*m,A,N,R,B]};function mG(e,t,n,r,i,s,o,a,l){const c=o.remove.nodes,d=o.remove.edges,u=o.redraw.nodes,h=n.angle,g=n.zoom,p=n.sin,m=n.cos,_=r.x,y=r.y,f=r.radius,x=r.layer,v=r.scalingMethod,w=r.text.content,b=r.text.scaling,S=r.text.minVisibleSize,k=r.animationDuration,C=r.textHidden,A=r.excluded;o.indexToLayer={},o.indexToQuadIndex={},o.indexToRemoveNodeText={},o.indexToRemoveEdgeText={},o.indexToRedrawNodeText={},o.byLayer=[];const{indexToLayer:N,indexToRedrawNodeText:R,indexToRemoveNodeText:B,indexToRemoveEdgeText:W,indexToQuadIndex:F,byLayer:T}=o;for(let ce=0;ce<e.length;ce++){const _e=e[ce],ze=x.get(_e)-zN;(T[ze]=T[ze]||[]).push(_e),N[_e]=ze}if(a!==null){const ce=T.length;for(let _e=N[a]+1;_e<=ce;_e++)(T[_e]=T[_e]||[]).unshift(a);N[a]=ce}let H;const G=[0,0,0,0],q=[0,0,0,0,0],{bboxes:te,rects:J}=o,ue=(ce,_e=-1)=>{const ze=k.get(ce);let Ye=w.get(ce);if(Ye===null||Ye===""||ze!==0)return!1;let qe=f.get(ce);const ge=S.get(ce);if(A.get(ce)===1)return B[ce]=!0,!1;if(2*qe*g<ge)return C.get(ce)===0&&(B[ce]=!0),!1;v.get(ce)==="fixed"&&(qe/=g);const ye=_.get(ce),Ze=y.get(ce);typeof Ye=="number"&&(Ye=Ye.toString());let[tt,ut,st,Z,ee,se,oe,he,pe,De]=i(ce);const Ie=!b.get(ce),Pe=Ie?g:1,nt=v.get(ce)==="fixed"?g:1;Ie?(st+=pe,Z+=De,pe/=g,De/=g,oe/=g,he/=g):(st+=pe*g,Z+=De*g),tt=tt/Pe+st/g+ee/nt,ut=ut/Pe+Z/g+se/nt,cm(ye-pe,Ze-De,oe,he,-h,p,-m,G),q[0]=ye-pe,q[1]=Ze-De,q[2]=oe,q[3]=he,q[4]=h;const rt=m*tt-p*ut,Rt=p*tt+m*ut;if(G[0]+=rt,G[1]+=Rt,G[2]+=rt,G[3]+=Rt,q[0]+=rt,q[1]+=Rt,o.realIntersection=!1,vP(ce,!0,iu(q[0],q[1],q[2],q[3],q[4]),_e),t.traverse(G[0],G[1],G[2],G[3],l),o.realIntersection&&!s)return B[ce]=!0,!1;R[ce]=!0,B[ce]=!1,_e<=0?(H=te.length/Gi,F[ce]=H,te.push(G[0],G[1],G[2],G[3],1,ce),t.insert(H,G[0],G[1],G[2],G[3]),J.push(q[0],q[1],q[2],q[3],q[4])):t.insert(F[ce],G[0],G[1],G[2],G[3])};for(const ce of e)ue(ce);let Te=!0;for(let ce=0;ce<T.length;ce++){const _e=T[ce];if(_e)if(Te)Te=!1;else for(const ze of _e)ue(ze,ce)}for(let ce=0;ce<e.length;ce++){const _e=e[ce];B[_e]?c.push(_e):R[_e]&&u.push(_e),W[_e]&&d.push(_e)}return o}var fG=1,_G="topDown",yG="bottomUp",xG=.15,vG=200,bG=80,wG=["x","y","radius","width","layer","text.content","text.minVisibleSize","text.size","text.scale","text.scaling","text.padding","text.margin","text.position","text.style"].reduce((e,t)=>(e.add(t),e),new Set),EG=class extends it{constructor(e,t){super(e),this._textBBoxes=[],this._rects=[],this._enabled=!1,this._geoEnabled=!1,this._intersects=[],this._textDisplacement={},this._textDisplacementUpdate={},this._output={remove:{nodes:[],edges:[]},redraw:{nodes:[],edges:[]},rects:this._rects,bboxes:this._textBBoxes,intersects:this._intersects,realIntersection:!1,indexToLayer:{},byLayer:[],indexToRedrawEdgeText:{},indexToRemoveEdgeText:{},indexToRedrawNodeText:{},indexToRemoveNodeText:{},indexToQuadIndex:{}},this._onZoomStart=Vp(({startZoom:n,endZoom:r})=>{this._enabled&&r<n&&this._updateLabels(this._modules.camera.clone({zoom:r}))},bG),this._onAttributesChanged=n=>{if([...n.edgeAttributes,...n.nodeAttributes].some(r=>wG.has(r))){const r=n.nodes._indexes;for(let i=0;i<r.length;i++)this._textDisplacementUpdate[r[i]]=!0;this._update()}},this._onItemsAdded=n=>{const r=n.nodes||n.edges;(this._enabled||this._forceEnabled)&&this._modules.settings.get("texts.preventOverlap")&&this._modules.graphics.setTextHidden(r,!0)},this._onToggle=n=>(n?this._update():this._reset(),this),this._update=()=>{(this._enabled||this._forceEnabled)&&this._updateDebounced()},this._toggleDebug=n=>{n?this._modules.layers.whenReady(()=>{this._layer=this._modules.layers.addCanvasLayer(r=>{r.lineWidth=1/this._modules.camera.getZoom(),iG(r,this._textBBoxes,this._rects,this._intersects,this._quadtree)},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._canvas=this._layer.element,this._ctx=this._canvas.getContext("2d"),this._update()}):this._canvas&&(this._layer.destroy(),this._canvas=this._ctx=null)},this._measureText=(n,r,i,s)=>this._engine.measureText(n,r,i,s),this._textDisplacement={},this._textDisplacementUpdate={},this._quadtree=new yN(n=>{const r=Gi,i=r*n;return this._textBBoxes.slice(i,i+r)},fG),t.forceEnableTextOverlapRemoval&&this.forceEnable()}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.events.register(["labelCollisionsRemoved"]),this.setRate(vG),this._modules.settings.register("texts.preventOverlap",!0,this._onToggle),this._modules.settings.register("texts.debug",!1,this._toggleDebug),this._modules.settings.register("texts.removalStrategy",_G);const e=this._output;this._nodeTraversal=j2(this._quadtree,!1,1,e),this._edgeTraversal=j2(this._quadtree,!1,0,e),this._modules.events.on(["addNodes","addEdges"],this._onItemsAdded).on("layoutEnd",()=>this._updateLabels()).on(["viewChanged","mouseover","mouseout"],this._update).on("updateAttributes",this._onAttributesChanged).on("setContainer",({element:t})=>{if(t)return this._enable();this._disable()}).on("zoomStart",this._onZoomStart).on("viewExportStart",({preventOverlap:t,camera:n})=>{t&&this.forceUpdate(n)}).on("viewExportEnd",()=>{this.forceUpdate()}).on("geoEnabled",()=>this._geoEnabled=!0).on("geoDisabled",()=>this._geoEnabled=!1)}getTextsBoundingBox(e,t){e||t?this._updateLabels(this._modules.camera,e?Array.from(e._indexes):[],t?Array.from(t._indexes):[]):this._updateLabels();const n=this._rects,r=new Nn;for(let i=0;i<n.length;i+=5){const s=n[i],o=n[i+1],a=n[i+2],l=n[i+3],c=n[i+4],[d,u,h,g]=cm(s,o,a,l,c);r.addPoint(d,u).addPoint(h,g)}return r}setRate(e){this._updateDebounced=this._modules.sync.debounceIdle(t=>this._updateLabels(t),e)}forceEnable(){this._forceEnabled=!0}update(){this._update()}forceUpdate(e=this._modules.camera){this._updateLabels(e)}_enable(){this._enabled=!0,this._update()}_disable(){this._textBBoxes=[],this._rects=[],this._intersects=[],this._enabled=!1}_onCameraMove(){this._update()}_updateLabels(e=this._modules.camera,t,n){if(!this._modules.settings.get("texts.preventOverlap"))return;const r=this._modules.graphics.getNodeAttributes(),i=this._modules.graphics.getEdgeAttributes();this._intersects=[],this._textBBoxes=[],this._rects=[];const s=e.getAngle(),o=e.getProjectedScreenBounds(xG),a=this._modules.settings.get("texts.removalStrategy")===yG,l={angle:s,zoom:e.zoom,screen:o,sin:Math.sin(s),cos:Math.cos(s)};this._resetOutput();const c=this._output;if(!t||!n){const p=this._modules.spatial.queryRaw(o[0],o[1],o[2],o[3]);t=p.nodes,n=p.edges}const d=this._quadtree.clear().cover(o[0],o[1],o[2],o[3]);if(t.length+n.length===0)return;const u=this._modules.captor.getPointedElement();let h=null,g=null;u!==null&&(u.isNode?h=u._index:g=u._index);for(const p of t)!this._textDisplacementUpdate[p]&&this._textDisplacement[p]||(this._textDisplacement[p]=pG(p,r,this._measureText),this._textDisplacementUpdate[p]=!1);mG(t,d,l,r,p=>this._textDisplacement[p],a,c,h,this._nodeTraversal),aG(n,d,l,i,r,this._measureText,a,c,g,this._edgeTraversal,this._geoEnabled),this._clearOverlaps(c),this._modules.settings.get("texts.debug")&&this._layer.refresh()}_clearOverlaps(e){const t=this._modules.graph.nodeList,n=this._modules.graph.edgeList,r=this._modules.graphics,i=t(new Uint32Array(e.remove.nodes)),s=n(new Uint32Array(e.remove.edges)),o=t(new Uint32Array(e.redraw.nodes)),a=n(new Uint32Array(e.redraw.edges));r.setTextHidden(i,!0),r.setTextHidden(s,!0),r.setTextHidden(o,!1),r.setTextHidden(a,!1),this._modules.events.fire("labelCollisionsRemoved",e)}_resetOutput(){const e=this._output;e.remove.nodes=[],e.remove.edges=[],e.redraw.nodes=[],e.redraw.edges=[],e.rects=this._rects,e.bboxes=this._textBBoxes,e.intersects=this._intersects,e.realIntersection=!1,e.indexToLayer={},e.byLayer=[],e.indexToRedrawEdgeText={},e.indexToRemoveEdgeText={},e.indexToRedrawNodeText={},e.indexToRemoveNodeText={},e.indexToQuadIndex={}}_reset(){this._modules.graphics.resetTextHidden(),this._textDisplacement={},this._textDisplacementUpdate={}}},SG=class extends it{constructor(){super(...arguments),this._onStartInteractionEvent=(e,t)=>{if(this._current)return;const n=this._interactionsByStartEvent[t];let r;for(const i of n)i.check(e)&&(!r||i.priority>=r.priority)&&(r=i);r&&this._startInteraction(r,e)},this._onProgressInteractionEvent=(e,t)=>{this._current&&this._current.progressEventName===t&&this._current.onProgress&&this._current.onProgress(e)},this._onStopInteractionEvent=(e,t)=>{this._current&&this._current.stopEventName===t&&this._stopCurrentInteraction(null)}}onMounted(){this._interactionsByStartEvent={},this._boundProgressEvents={},this._boundStopEvents={}}_startInteraction(e,t){e.onStart&&e.onStart(t),e.onStop&&(this._current=e,e.disableDetection&&this._modules.captor.setDetectionEnabled(!1))}_stopCurrentInteraction(e){this._current&&this._current.disableDetection&&this._modules.captor.setDetectionEnabled(!0),this._current&&this._current.onStop&&this._current.onStop(e),this._current=void 0}_forceStartInteraction(e,t){this._current&&this._stopCurrentInteraction(t),this._startInteraction(e,t)}_createWrapper(e){return{start:t=>this._forceStartInteraction(e,t)}}_addInteraction(e,t){const n=this._interactionsByStartEvent[e];return n?n.push(t):(this._interactionsByStartEvent[e]=[t],this._modules.events.on(e,this._onStartInteractionEvent)),this._createWrapper(t)}_createProgressiveInteraction(e,t,n,r){const i={priority:$2(r.priority),check:r.check||yd,onStart:r.onStart||ft,onProgress:r.onProgress||ft,onStop:r.onStop||ft,disableDetection:!!r.disableDetection,progressEventName:t,stopEventName:n};return this._boundProgressEvents[t]||(this._boundProgressEvents[t]=!0,this._modules.events.on(t,this._onProgressInteractionEvent)),this._boundStopEvents[n]||(this._boundStopEvents[n]=!0,this._modules.events.on(n,this._onStopInteractionEvent)),this._addInteraction(e,i)}_createNonProgressiveInteraction(e,t){return this._addInteraction(e,{priority:$2(t.priority),check:t.check||yd,onStart:t.handler||ft,onProgress:void 0,onStop:void 0,disableDetection:!1,progressEventName:void 0,stopEventName:void 0})}onDrag(e){return this._createProgressiveInteraction("dragStart","dragProgress","dragEnd",e)}onGesture(e){return this._createProgressiveInteraction("gestureStart","gestureProgress","gestureEnd",e)}onClick(e){return this._createNonProgressiveInteraction("click",e)}onDoubleClick(e){return this._createNonProgressiveInteraction("doubleclick",e)}onHover(e){return this._createNonProgressiveInteraction("mouseover",e)}onUnhover(e){return this._createNonProgressiveInteraction("mouseout",e)}onMouseWheel(e){return this._createNonProgressiveInteraction("mousewheel",e)}onMouseDown(e){return this._createNonProgressiveInteraction("mousedown",e)}onMouseUp(e){return this._createNonProgressiveInteraction("mouseup",e)}onMouseMove(e){return this._createNonProgressiveInteraction("mousemove",e)}};function $2(e){return typeof e=="string"?k4.indexOf(e):typeof e!="number"||isNaN(e)?0:e}var kG=["virtualUp","mouseupInternal","touchUp"],AG=["virtualDown","mousedownInternal","touchDown"],CG=["virtualMove","mousemoveInternal","touchMove"],TG=["virtualClick","clickInternal","touchTap"],LG=["virtualDoubleClick","doubleclickInternal","touchDoubleTap"],NG=["virtualWheel","mousewheelInternal"],IG=100,MG=class extends it{constructor(){super(...arguments),this._elt=null,this._hoveredElt=null,this._draggedElt=null,this._hover=!1,this._disabledCounter=0,this._accDx=0,this._accDy=0,this._prevX=0,this._prevY=0,this._buttons={left:{isPressed:!1,isDragging:!1},middle:{isPressed:!1,isDragging:!1},right:{isPressed:!1,isDragging:!1}},this._onGraphChanged=()=>{this._resetCurrent(this._modules.position.x,this._modules.position.y),this._onMove({x:this._modules.position.x,y:this._modules.position.y,source:null,domEvent:null})}}onMounted(){this._modules.events.register(["mousemove","mousedown","mouseup","click","doubleclick","mousewheel","mouseout","mouseover","dragStart","dragProgress","dragEnd","gestureStart","gestureProgress","gestureEnd"]),this._modules.settings.register("detect.nodes",!0).register("detect.edges",!0).register("detect.nodeTexts",!0).register("detect.nodeBadges",!0).register("detect.edgeTexts",!0).register("detect.nodeErrorMargin",5).register("detect.edgeErrorMargin",2).register("detect.enableSpatialIndex",!0).register("detect.spatialIndexMarginRatio",20),this._modules.events.on(["removeNodes","removeEdges","clearGraph"],this._onGraphChanged).on(CG,(e,t)=>{this._onMove(St(Se({},e),{source:ko(t)}))}).on(AG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDown({domEvent:e,x:t,y:n,button:r,source:ko(i)})}).on(kG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onUp({domEvent:e,x:t,y:n,button:r,source:ko(i)})}).on(TG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onClick({domEvent:e,x:t,y:n,button:r,source:ko(i)})}).on(LG,({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDoubleClick({domEvent:e,x:t,y:n,button:r,source:ko(i)})}).on(NG,({domEvent:e,x:t,y:n,delta:r})=>{this._onWheel({domEvent:e,x:t,y:n,delta:r,source:"mouse"})}).on("touchStartGesture",e=>this._modules.events.fire("gestureStart",e)).on("touchProgressGesture",e=>this._modules.events.fire("gestureProgress",e)).on("touchEndGesture",e=>this._modules.events.fire("gestureEnd",e)).on("documentMouseMove",({domEvent:e,x:t,y:n},r)=>{this._onDocumentMove({domEvent:e,x:t,y:n,source:ko(r)})}).on("documentMouseUp",({domEvent:e,x:t,y:n,button:r="left"},i)=>{this._onDocumentUp({domEvent:e,x:t,y:n,source:ko(i),button:r})})}triggerUnhover(){this._hover=!1,this._hoveredElt=null}triggerDetection(){this._detectElement(this._modules.position.x,this._modules.position.y,!1,!1),this._elt&&(this._hoveredElt=this._elt,this._hover=!0)}getPointedElement(){return this._hoveredElt}getDraggedElement(){return this._draggedElt}isAnyButtonPressed(){return this._buttons.left.isPressed||this._buttons.right.isPressed||this._buttons.middle.isPressed}isAnyButtonDragging(){return this._buttons.left.isDragging||this._buttons.right.isDragging||this._buttons.middle.isDragging}isButtonPressed(e){return this._buttons[e].isPressed}isLeftPressed(){return this.isButtonPressed("left")}getCursorPosition(){return{x:this._modules.position.x,y:this._modules.position.y}}getCursorInformation(){return{x:this._modules.position.x,y:this._modules.position.y,target:this._hoveredElt}}setDetectionEnabled(e){this._disabledCounter=Math.max(0,this._disabledCounter+(e?-1:1))}_resetCurrent(e,t){for(const n in this._buttons){const r=this._buttons[n];r.isDragging&&this._modules.events.fire("dragEnd",{domEvent:null,x:e,y:t,button:n,target:this._draggedElt}),r.isPressed=!1,r.isDragging=!1}this._hover&&this._hoveredElt&&this._modules.events.fire("mouseout",{domEvent:null,x:e,y:t,target:this._hoveredElt}),this._hover=!1,this._hoveredElt=null,this._draggedElt=null}_onMove({domEvent:e,x:t,y:n,source:r}){let{dx:i,dy:s}=this._setPointerPosition(t,n);this._modules.events.fire("mousemove",{domEvent:e,x:t,y:n,dx:i,dy:s,source:r});for(const o in this._buttons){const a=this._buttons[o];if(a.isPressed)if(a.isDragging){const l=this._getStoredDXY();i+=l.dx,s+=l.dy,this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:i,dy:s,button:o,source:r,target:this._draggedElt})}else a.isDragging=!0,this._hoveredElt&&this._hover&&(this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt}),this._hover=!1),this._draggedElt||(this._draggedElt=this._hoveredElt),this._storeDXY(i,s),this._modules.events.fire("dragStart",{domEvent:e,x:t,y:n,button:o,source:r,target:this._draggedElt})}e&&!this._modules.graphics.getDomElement().contains(e.target)||this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&(this._hoveredElt&&this._hover&&(this._hover=!0,this._modules.events.fire("mouseout",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})),this._hoveredElt=this._elt,this._elt&&(this._hover=!0,this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:r,target:this._hoveredElt})))}_onDocumentMove({domEvent:e,x:t,y:n,source:r}){for(const i in this._buttons){const{isDragging:s}=this._buttons[i];if(s){const{dx:o,dy:a}=this._setPointerPosition(t,n);this._modules.events.fire("dragProgress",{domEvent:e,x:t,y:n,dx:o,dy:a,button:i,source:r,target:this._draggedElt})}}}_onDocumentUp({domEvent:e,x:t,y:n,source:r,button:i}){if(i!=null&&this._buttons[i].isDragging){this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:i,source:r,target:this._draggedElt});const s=this._buttons[i];s.isDragging=!1,s.isPressed=!1,this.isAnyButtonDragging()||(this._draggedElt=null)}}_onDown({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;this._detectElement(t,n,!1,!1),this._elt!==this._hoveredElt&&this._resetCurrent(t,n);const s=this._buttons[r];this._hoveredElt=this._elt,s.isPressed=!0,this._elt&&e&&(e.stopPropagation(),e.preventDefault()),this._modules.events.fire("mousedown",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onDoubleClick({domEvent:e,x:t,y:n,button:r,source:i}){r!=null&&(G2(e,"doubleclick")||this._modules.events.fire("doubleclick",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt}))}_onUp({domEvent:e,x:t,y:n,button:r,source:i}){if(r==null)return;const s=this._buttons[r];s.isPressed&&(s.isDragging&&(this._modules.events.fire("dragEnd",{domEvent:e,x:t,y:n,button:r,source:i,target:this._draggedElt}),s.isDragging=!1,this.isAnyButtonDragging()||(this._draggedElt=null)),s.isPressed=!1,this._detectElement(t,n,!1,!1),this._modules.events.fire("mouseup",{domEvent:e,x:t,y:n,button:r,source:i,target:this._elt}),this.isAnyButtonPressed()||this._hover||i==="touch"||(this._hoveredElt=this._elt,this._hoveredElt&&(this._modules.events.fire("mouseover",{domEvent:e,x:t,y:n,source:i,target:this._hoveredElt}),this._hover=!0)))}_onClick({domEvent:e,x:t,y:n,button:r,source:i}){G2(e,"click")||this._modules.events.fire("click",{domEvent:e,x:t,y:n,button:r,source:i,target:this._hoveredElt})}_onWheel({domEvent:e,x:t,y:n,delta:r,source:i}){this._modules.position.x=t,this._modules.position.y=n,this._modules.events.fire("mousewheel",{domEvent:e,x:t,y:n,delta:r,source:i,target:this._hoveredElt})}_storeDXY(e,t){this._accDx=e,this._accDy=t}_getStoredDXY(){const e=this._accDx,t=this._accDy;return this._accDx=0,this._accDy=0,{dx:e,dy:t}}_setPointerPosition(e,t){const n=e-this._prevX,r=t-this._prevY;return this._modules.position.x=e,this._modules.position.y=t,this._prevX=e,this._prevY=t,this._accDx=0,this._accDy=0,{dx:n,dy:r}}_detectElement(e,t,n,r){this._elt=this.detectElementAt(e,t,n,r)}detectElementAt(e,t,n,r){if(this._disabledCounter!==0)return null;const i=this._modules.settings,s=i.get("detect.enableSpatialIndex"),o=i.get("detect.nodeErrorMargin")||0,a=i.get("detect.edgeErrorMargin")||0;let l=i.get("detect.nodes"),c=i.get("detect.edges");r&&(l=!0,c=!0);let d=null,u=[],h=[];if(!n&&s&&(l||c)){const m=i.get("detect.spatialIndexMarginRatio"),_=Math.max(o*m,a*m),y=this._modules.spatial.queryRawProjected(e-_,t-_,e+_,t+_);u=y.nodes,h=y.edges}let g=null,p=null;if(l&&(g=this._modules.graphics.detectNode(e,t,!!i.get("detect.nodeBadges"),!!i.get("detect.nodeTexts"),o,u)),c&&(h.length<IG||!g)&&(p=this._modules.graphics.detectEdge(e,t,!!i.get("detect.edgeTexts"),a,h)),g&&p){const m=this._modules.graphics.getAttributesManager().getFlexArrays();d=m.nodes.current.layer.get(g._index)>=m.edges.current.layer.get(p._index)?g:p}else g?d=g:p&&(d=p);return d}};function ko(e){return e.indexOf("touch")===0?"touch":"mouse"}var Df=!1,V2={down:{trigger:"pointerdown",duplicate:"mousedown"},click:{trigger:"pointerdown",duplicate:"mouseup"},doubleclick:{trigger:"pointerdown",duplicate:"mouseup"}};function G2(e,t){if(e)return e.type===V2[t].trigger&&(Df=!0),e.type===V2[t].duplicate&&Df?(Df=!1,!0):void 0}var PG=class extends it{constructor(){super(...arguments),this._dragged=null,this._start=[],this._end=[],this._shouldDrag=({target:e,button:t})=>{const n=t==="left",r=this._modules.settings.get("interactions.drag.enabled"),i=e!==null&&e.isNode&&e.getAttribute("draggable")===!0;return!!(n&&r&&i)},this._onDragStart=({x:e,y:t,target:n})=>{n&&(n.isSelected()?this._dragged=this._modules.selection.getSelectedNodes().filter(r=>r.getAttribute("draggable")):this._dragged=n.toList()),this._dragged&&(this._start=this._dragged.getPosition(),this._end=cn(this._start),this._onBeforeDrag=this._modules.settings.get("interactions.drag.onBeforeDrag"),this._startDrag=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._dragged.addClass(zh),this._modules.events.fire("nodesDragStart",{nodes:this._dragged}),this._modules.graphics.addCursorStyle(this._modules.settings.get("interactions.drag.cursor")))},this._onDrag=()=>{if(!this._dragged||!this._startDrag)return;const{x:e,y:t}=this._modules.captor.getCursorInformation(),n=this._dragged._indexes,r=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),i=r.x-this._startDrag.x,s=r.y-this._startDrag.y;for(let o=0;o<n.length;++o){const a=this._start[o],l=this._end[o];l.x=a.x+i,l.y=a.y+s}this._onBeforeDrag&&this._onBeforeDrag(this._dragged,e,t,this._end),this._modules.settings.get("interactions.drag.applyResult")&&this._modules.individualAttributes.setMultipleAttributes(this._dragged,this._end),this._modules.events.fire("nodesDragProgress",{nodes:this._dragged,dx:i,dy:s})},this._onDragEnd=()=>{this._dragged&&(this._dragged.removeClass(zh),this._modules.graphics.removeCursorStyle(this._modules.settings.get("interactions.drag.cursor")),this._modules.events.fire("nodesDragEnd",{nodes:this._dragged,start:this._start,end:this._end}),this._dragged=null,this._start=[],this._end=[])}}onMounted(){this._modules.classes.createClass({name:zh,isBuiltin:!0,nodeAttributes:{layer:E4}}),this._modules.events.register(["nodesDragStart","nodesDragProgress","nodesDragEnd"]),this._modules.settings.register("interactions.drag.enabled",!0).register("interactions.drag.cursor","move").register("interactions.drag.onBeforeDrag",void 0),this._modules.settings.register("interactions.drag.applyResult",!0),this._modules.interactions.onDrag({priority:"drag",disableDetection:!0,check:this._shouldDrag,onStart:this._onDragStart,onProgress:this._onDrag,onStop:this._onDragEnd})}},FG={color:"#00C3FF",radius:4,cursorOnHover:"grab",cursorOnDrag:"grabbing"},RG=class extends it{constructor(){super(...arguments),this._hoverHandle=!1,this._grabHandle=!1,this._x=0,this._y=0,this._enabled=!1,this._onDragStart=()=>{if(!this._movedEdges)return;this._nodesToHighlight=this._nodesToHighlight.filter(t=>t!==this._startNode&&!t.isVirtual()),this._movedEdges.setExcluded(!0);const e=this._options.cursorOnDrag;this._prevSettings=this._modules.settings.update({edgeHover:!1,cursor:{default:e,node:e,edge:e}})},this._onDragEnd=()=>{if(!this._movedEdges)return;this._restoreSettings();const e=this._getPointedNode();e&&this._movedEdges.forEach(t=>{t.getTarget()===this._startNode?t.setTarget(e):t.setSource(e)}),this._movedEdges.setExcluded(!1),this._movedEdges.setSelected(!0),this._movedEdges=null,this._refreshHandles()},this._refreshHandles=()=>{if(!this._enabled||this._movedEdges)return;const e=this._modules.selection.getSelectedEdges();this._nodesToHighlight=e.getExtremities().dedupe().filter(t=>!t.isVirtual()),this._rewirableClass.clearEdges(),this._rewirableClass.add(e),this._refreshCanvas()},this._shouldInteractionStart=({target:e})=>{if(!this._enabled||!e||!e.isNode||!this._hoverHandle||e.isVirtual())return!1;const t=e.getAdjacentEdges().filter(n=>n.isSelected());return!!t.size&&(this._movedEdges=t,this._edgeColors=this._movedEdges.getAttribute("color"),this._startNode=e,!0)},this._refreshCanvas=()=>{this._enabled&&this._layer.refresh()},this._checkForHover=()=>{if(!this._enabled||!this._nodesToHighlight)return;const e=this._options.radius,t=this._nodesToHighlight.toArray(),n=this._modules.camera.screenToGraphCoordinates(this._modules.captor.getCursorPosition());for(let r=0;r<t.length;r++){const{x:i,y:s}=t[r].getPosition();if(vn(i,s,n.x,n.y)<e)return void this._enableCursorOnHover()}this._disableCursorOnHover()}}onMounted(){this._rewirableClass=this._modules.classes.createClass({name:FN,isBuiltin:!0,edgeAttributes:{layer:S4}}),this._modules.events.on("move",this._checkForHover).on("mousemove",this._checkForHover).on("dragProgress",()=>{this._grabHandle&&this._refreshCanvas()}).on("nodesDragProgress",this._refreshCanvas).on("mousedown",()=>{this._hoverHandle&&(this._grabHandle=!0)}).on("mouseup",()=>this._grabHandle=!1).on("edgesSelected",this._refreshHandles).on("edgesUnselected",this._refreshHandles),this._interaction=this._modules.interactions.onDrag({priority:"rewiring",check:this._shouldInteractionStart,onStart:this._onDragStart,onProgress:({x:e,y:t})=>{this._x=e,this._y=t},onStop:this._onDragEnd})}enable(e){this._enabled||(this._options=Se(Se({},FG),e),this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(t=>{if(!this._enabled||!this._nodesToHighlight)return;const n=this._modules.captor.getCursorPosition(),r=this._getPointedNode(),i=this._options.color,s=this._options.radius,o=2*s;if(this._displayMovedEdges(t),t.fillStyle=i,t.strokeStyle=i,this._nodesToHighlight.forEach(a=>{const{x:l,y:c}=a.getPosition();t.fillRect(l-s,c-s,o,o)}),this._movedEdges){const a=r?r.getPosition():n;t.fillRect(a.x-s,a.y-s,o,o)}},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._refreshHandles())}disable(){this._enabled&&(this._interaction.stop&&this._interaction.stop(),this._modules.graphics.removeCursorStyle(this._options.cursorOnDrag),this._disableCursorOnHover(),this._restoreSettings(),this._layer.destroy(),this._rewirableClass.clearEdges(),this._enabled=!1)}enabled(){return this._enabled}_restoreSettings(){this._prevSettings&&(this._modules.settings.update(this._prevSettings),this._prevSettings=void 0)}_disableCursorOnHover(){this._hoverHandle&&!this._grabHandle&&(this._hoverHandle=!1,this._modules.graphics.removeCursorStyle(this._options.cursorOnHover))}_enableCursorOnHover(){this._hoverHandle||(this._hoverHandle=!0,this._modules.graphics.addCursorStyle(this._options.cursorOnHover))}_displayMovedEdges(e){if(!this._movedEdges)return;const t=this._x,n=this._y,r=this._modules.camera.screenToGraphCoordinates({x:t,y:n});this._movedEdges.forEach((i,s)=>{const o=this._edgeColors[s],a=i.getSource(),l=i.getTarget(),c=this._getPointedNode(),d=l===this._startNode?a:l,u=Number(i.getAttribute("width")),h=d.getPosition(),g=c?c.getPosition():r;e.beginPath(),e.moveTo(h.x,h.y),e.lineTo(g.x,g.y),e.strokeStyle=o,e.lineWidth=u,e.stroke()})}_getPointedNode(){const e=this._modules.captor.getPointedElement();return e&&e.isNode&&!e.isVirtual()?e:null}},H2={cursor:"nesw-resize",color:"#00C3FF",lineWidth:1,handleSize:6,detectionMargin:5,snappingRatio:1.25,nbNodesToSnapTo:5,previewColor:"rgba(0, 0, 0, 0.2)",sizeIndicatorColor:"black",sizeIndicatorOffset:5,sizeIndicatorWidth:3,sizeIndicatorThickness:1},DG=class extends it{constructor(){super(...arguments),this._enabled=!1,this._nodesToHighlight=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[],this._onSelectionChange=()=>{this._enabled&&(this._nodesToHighlight=this._modules.selection.getSelectedNodes(),this._displayHandles())},this._displayHandlesHandler=()=>this._displayHandles(),this._moveHandler=({x:e,y:t})=>{this._modules.dom.setTimeout(()=>this._detectBoundingBoxes(e,t))}}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._modules.interactions.onDrag({priority:"resizing",disableDetection:!0,check:()=>!(!this._enabled||!this._pointedNode),onStart:({x:e,y:t})=>{this._x=e,this._y=t,this._nodeBeingResized=this._pointedNode},onProgress:({x:e,y:t})=>{this._x=e,this._y=t,this._displayHandles()},onStop:()=>{this._nodesToHighlight&&this._nodesToHighlight.forEach((e,t)=>{const n=this._additionalRadiuses[t]/this._modules.camera.zoom;e.setAttributes({radius:Number(e.getAttribute("radius"))+n,x:e.getPosition().x+n,y:e.getPosition().y-n})}),this._pointedNode=null,this._nodeBeingResized=null,this._displayHandles()}})}onReady(){this._modules.events.on("nodesSelected",this._onSelectionChange),this._modules.events.on("nodesUnselected",this._onSelectionChange)}_enableCursor(){this._cursorEnabled||(this._modules.graphics.addCursorStyle(this._options.cursor),this._cursorEnabled=!0)}_disableCursor(){this._cursorEnabled&&(this._modules.graphics.removeCursorStyle(this._options.cursor),this._cursorEnabled=!1)}_detectBoundingBoxes(e,t){if(!this._enabled||this._nodeBeingResized||!this._nodesToHighlight)return;const n=this._options.handleSize/2,r=this._options.detectionMargin;return this._pointedNode=null,this._forEachNodeToHighlight((i,s,o)=>{const a=s.x+o-n-r,l=s.x+o+n+r,c=s.y-o-n-r,d=s.y-o+n+r;e>=a&&e<=l&&t>=c&&t<=d&&(this._pointedNode=i)}),this._pointedNode?this._enableCursor():this._disableCursor()}_forEachNodeToHighlight(e){this._nodesToHighlight&&this._nodesToHighlight.forEach(t=>{const n=t.getPositionOnScreen(),r=this._getTotalRadius(t);e(t,n,r)})}_displayHandles(){this._enabled&&this._nodesToHighlight&&this._layer.refresh()}_displayNodePreview(e,t,n,r,i,s){if(i*=1/this._modules.camera.getZoom(),e.beginPath(),s.length===1)e.arc(n,r,i,0,2*Math.PI);else for(let o=0;o<s.length;++o){const a=s[o],l=n+a.x*i,c=r+a.y*i;o===0?e.moveTo(l,c):e.lineTo(l,c)}e.fillStyle=this._options.previewColor,e.fill()}_getTotalRadius(e,t=!0){return Number(e.getAttribute("radius"))*(this._modules.camera.zoom*(t?1:0))+Number(e.getAttribute("innerStroke.width"))+Number(e.getAttribute("outerStroke.width"))+this._options.lineWidth/2}_snap(e,t,n){const r=this._modules.spatial.getNodesInScreenByDistance(t).filter(u=>!u.isSelected()).slice(0,this._options.nbNodesToSnapTo),i=this._getTotalRadius(t),s=i+n,o=this._options.snappingRatio,a=s/i,l=Math.round(qL(a,o));let c=i*Math.pow(o,l),d=null;if(r.forEach(u=>{const h=this._getTotalRadius(u);Math.abs(h-s)<=Math.abs(c-s)&&(c=h,d=u)}),d){e.save(),e.strokeStyle=this._options.sizeIndicatorColor,e.lineWidth=this._options.sizeIndicatorThickness/this._modules.camera.getZoom();const u=d.getAttribute("radius");this._displaySizeIndicator(e,t,c),r.filter(h=>h.getAttribute("radius")===u).forEach(h=>this._displaySizeIndicator(e,h)),e.restore()}return c-i}_displaySizeIndicator(e,t,n){n=n||void 0;const r=this._modules.camera.getZoom(),i=t.getPosition(),s=this._getTotalRadius(t),o=(n||s)/r,a=(n?n-s:0)/r,l=a+(-this._options.sizeIndicatorOffset-(n?Number(t.getAttribute("innerStroke.width"))+Number(t.getAttribute("outerStroke.width")):0))/r,c=i.x-o+l|0,d=i.y-o-a|0,u=i.y+o-a|0,h=this._options.sizeIndicatorWidth/r;e.beginPath(),e.moveTo(c-h,d),e.lineTo(c+h,d),e.moveTo(c,d),e.lineTo(c,u),e.moveTo(c-h,u),e.lineTo(c+h,u),e.stroke()}enable(e){this._enabled||(this._options=Se(Se({},H2),e),this._layer=this._modules.layers.addCanvasLayer(t=>{const n=Fr(),r=this._modules.camera.getZoom(),{color:i,lineWidth:s}=this._options;let o=this._options.handleSize,a=0;if(this._nodeBeingResized){const l=this._getTotalRadius(this._nodeBeingResized),c=this._nodeBeingResized.getPositionOnScreen();a=Math.max(this._x-(c.x+l),-(this._y-(c.y-l)))/2}this._additionalRadiuses=[],this._nodesToHighlight&&this._nodesToHighlight.forEach(l=>{const c=l.getPosition();let d=this._getTotalRadius(l),u=0;if(this._nodeBeingResized){u=a;const h=-d+Number(l.getAttribute("innerStroke.width"))+Number(l.getAttribute("outerStroke.width"))+s/2+1;u=u<h?h:this._snap(t,l,u),this._additionalRadiuses.push(u);const g=l.getAttribute("shape"),p=this._engine.getShapePoints(g),m=c.x+u/r,_=c.y-u/r,y=d+u;this._displayNodePreview(t,n,m,_,y,p)}t.strokeStyle=i,t.fillStyle=i,t.lineWidth=s/r,d/=r,u/=r,o/=r*n,t.strokeRect(c.x-d,c.y-d-2*u,2*(u+d),2*(u+d)),t.fillRect(c.x+d+2*u-o/2,c.y-d-2*u-o/2,o,o)})},{isStatic:!1,noClear:!1}),this._layer.moveToTop(),this._modules.events.on(["mousemove","mousedown"],this._moveHandler),this._enabled=!0)}disable(){this._enabled&&(this._modules.events.off(this._displayHandlesHandler),this._modules.events.off(this._moveHandler),this._layer.destroy(),this._disableCursor(),this._reset())}_reset(){this._enabled=!1,this._nodesToHighlight=null,this._options=Se({},H2),this._nodeBeingResized=null,this._pointedNode=null,this._cursorEnabled=!1,this._x=0,this._y=0,this._additionalRadiuses=[]}enabled(){return this._enabled}},zG={strokeColor:"black",strokeWidth:5,dashed:!0,cursorStyle:"cell",createNodes:!0,condition:Xp,onNodeCreated:ft,onEdgeCreated:ft,createNode:Ni,createEdge:Ni,onComplete:ft},OG=class extends it{constructor(){super(...arguments),this._enabled=!1,this._blockId=0,this._cursorEnabled=!1}onMounted(){this._engine=this._modules.graphics.getGraphicsEngine(),this._group=this._engine.createGroup(),this._depth=Cd(0).edgeBody,this._modules.events.register(["connectNodes"]),this._interaction=this._modules.interactions.onDrag({priority:"connectNodes",check:({target:e,button:t="left"})=>this._enabled&&t==="left"&&e&&e.isNode&&!e.isVirtual(),onStart:({target:e})=>this._onStart(e),onProgress:({x:e,y:t})=>this._onMove(e,t),onStop:()=>this._onStop()}),this._modules.events.on("clearGraph",()=>this.disable())}_onStart(e){e&&(this._cursorEnabled=!0,this._startNode=e,this._startPos=e.getPosition(),this._modules.graphics.addCursorStyle(this._options.cursorStyle),this._blockId=this._modules.graphics.allocateGraphicsEngineBlockId())}_onMove(e,t){this._startNode!==null&&(this._endPos=this._modules.camera.screenToGraphCoordinates({x:e,y:t}),this._drawLine())}_onStop(){if(this._startNode===null)return;const{condition:e,onNodeCreated:t,onEdgeCreated:n,createEdge:r,createNode:i,onComplete:s,createNodes:o}=this._options;let a=this._modules.captor.getPointedElement(),l=null,c=null;if(this._modules.graphics.releaseGraphicsEngineBlockId(this._blockId),!a&&o){const d=i({attributes:{x:this._endPos.x,y:this._endPos.y}});a=this._modules.graph.addNode(d),c=a,t&&t(c)}if(a&&!a.isVirtual()&&(c||!e||e(this._startNode,a))){const d=r({source:this._startNode.getId(),target:a.getId()});l=this._modules.graph.addEdge(d),n&&n(l)}s&&(this._modules.events.fire("connectNodes",{source:this._startNode,target:a,edge:l}),s(this._startNode,a,l||void 0)),this.disable()}_drawLine(){this._group.reset(Ai,!1,this._depth);const e=this._group.nextAndReset().end;e.pieceId=im,e.shape="line",e.x1=this._startPos.x,e.y1=this._startPos.y,e.x2=this._endPos.x,e.y2=this._endPos.y,e.fillColor=this._options.strokeColor,e.thicknessOrFontSizeFixed=this._options.strokeWidth,this._options.dashed&&(e.dashLength=3,e.gapLength=1),this._engine.storeGroup(this._blockId,this._group),this._modules.dom.refresh()}enable(e={}){return this._enabled||(this._options=Se(Se({},zG),e),this._enabled=!0,this._cursorEnabled=!1,this._startNode=null,this._prevSettings=this._modules.settings.update({"cursor.node":this._options.cursorStyle,"detect.edges":!1}),this._modules.captor.isLeftPressed()&&this._interaction.start(this._modules.captor.getCursorInformation())),this}disable(){return this._enabled?(this._enabled=!1,this._modules.settings.update(this._prevSettings),this._cursorEnabled&&this._modules.graphics.removeCursorStyle(this._options.cursorStyle),this):this}enabled(){return this._enabled}},BG=["top","bottom","left","right","cssDefined"],jG=1e4,UG={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}},$G={position:"top",autoAdjust:!0,delay:100},VG={hover:{node:({target:e})=>e&&e.isNode,edge:({target:e})=>e&&!e.isNode},click:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}},doubleclick:{left:{node:({target:e,button:t})=>t==="left"&&e&&e.isNode,edge:({target:e,button:t})=>t==="left"&&e&&!e.isNode,background:({target:e,button:t})=>t==="left"&&!e},right:{node:({target:e,button:t})=>t==="right"&&e&&e.isNode,edge:({target:e,button:t})=>t==="right"&&e&&!e.isNode,background:({target:e,button:t})=>t==="right"&&!e}}},GG=class extends it{constructor(){super(...arguments),this._x=0,this._y=0}onMounted(){this._handlers={},this._currentHandlerName=null,this._tooltip=null,this._isHover=!1,this._modules.events.register(["tooltipShow","tooltipHide"]),this._modules.events.on(["mouseup","dragStart"],()=>{this._isHover||this._hideTooltip(!1)}).on("mouseout",()=>{this._isHover&&this._hideTooltip(!1)}).on("clearGraph",()=>this._hideTooltip(!1)),this._modules.interactions.onHover(this._createInteraction("hover",!0)),this._modules.interactions.onClick(this._createInteraction("click")),this._modules.interactions.onDoubleClick(this._createInteraction("doubleclick"))}hide(){this._hideTooltip(!0)}isShown(){return!!this._tooltip}refresh(){this._refreshTooltip()}show(t,{position:n="top",autoAdjust:r=!0,className:i,x:s=0,y:o=0}={}){this._showTooltip(t,{position:n,autoAdjust:r,className:i},{x:s,y:o})}setHandler(t,n,r){const i=Se(Se({},$G),r);i.position&&BG.indexOf(i.position)===-1&&(i.position="top"),this._handlers[t]={handler:n,condition:an(VG,t),settings:i}}_hideTooltip(t){if(this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null),t&&(this._currentHandlerName=null),this._tooltip){const n=this._tooltip;this._tooltip.parentNode&&this._tooltip.parentNode.removeChild(this._tooltip),this._tooltip=null,this._modules.events.fire("tooltipHide",{tooltip:n})}}_createInteraction(t,n=!1){return{priority:"tooltip",check:r=>{const i=W2(t,r),s=this._handlers[i];return(!n||!this._modules.connectNodes.enabled())&&(!(!s||!s.condition(r))||!(n||!this._currentHandlerName||this._isHover)&&this._tooltip!==null)},handler:r=>{const{target:i,x:s,y:o}=r;this._hideTooltip(!1),this._isHover=n,this._elt=i,this._x=s,this._y=o,this._currentHandlerName=W2(t,r),this._refreshTooltip()}}}_refreshTooltip(){if(!this._currentHandlerName)return void this._hideTooltip(!1);const t=this._handlers[this._currentHandlerName];if(!t)return;const{settings:n,handler:r}=t,i=this._elt;if(i){const o=i.isNode?"node":"edge";if(this._currentHandlerName.indexOf(o)===-1)return}const s=r(i);Promise.resolve(s).then(o=>{this._schedule(()=>this._showTooltip(o,n),n.delay)})}_schedule(t,n){this._timeout&&this._modules.dom.clearTimeout(this._timeout),this._timeout=this._modules.dom.setTimeout(()=>{this._timeout=null,t()},n)}_showTooltip(t,n,r){this._hideTooltip(!1);const{position:i,className:s,autoAdjust:o}=n;let a=this._x,l=this._y,c=this._elt;const d=this._modules.dom.getDimensions();let u=0,h=0;if(r&&(a=r.x,l=r.y,c=null),typeof t=="string")this._tooltip=HG("div"),this._tooltip.innerHTML=t;else{if(!DL(t))throw new Error(`invalid tooltip ${t}, expected HTML string or HTML element`);this._tooltip=t}const g=this._tooltip;if(s&&this._tooltip.classList.add(s),i!=="cssDefined"&&(g.style.position="absolute"),g.style.zIndex=jG.toString(),this._modules.dom.appendElement(g),c&&c.isNode){const _=c,y=_.getPositionOnScreen(),f=Number(_.getAttribute("radius"))*(_.getAttribute("scalingMethod")==="fixed"?1:this._modules.camera.getZoom())+Number(_.getAttribute("innerStroke.width"))+Number(_.getAttribute("outerStroke.width"));a=y.x,l=y.y,u=f,h=f}const p=g.offsetWidth/2,m=g.offsetHeight/2;if(u+=p,h+=m,i&&i!=="cssDefined"){const _=UG[i];let y=_.x,f=_.y;if(o){const x=a+u*_.x,v=l+h*_.y;(x-p<0||x+p>=d.width)&&(i==="left"||i==="right"?y*=-1:y=x-p<0?(p-x+1)/u:(d.width-(x+p)-1)/u),(v-m<0||v+m>=d.height)&&(i==="top"||i==="bottom"?f*=-1:f=v-m<0?(m-v+1)/h:(d.height-(v+m)-1)/h)}g.style.left=a+u*y-p+"px",g.style.top=l+h*f-m+"px"}this._modules.events.fire("tooltipShow",{tooltip:g})}};function W2(e,{button:t,target:n}){return`${e}${t?`.${t}`:""}.${n!==null?n.isNode?"node":"edge":"background"}`}function HG(e){return _s?document.createElement(e):Ig()}var Xc={65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",46:"del",8:"backspace",32:"space",224:"cmd",91:"cmd",92:"cmd",93:"cmd",187:"+",189:"-"},X2=Object.keys(Xc).reduce((e,t)=>{const n=Xc[t];return e[n]||(e[n]=[]),e[n].push(t),e},{}),WG=class extends it{constructor(){super(...arguments),this._onBlur=()=>this.resetKeys(),this._onKeyUp=e=>{const t=e.keyCode||e.which;this._pressed[t]=!1,this._modules.events.fire("keyup",{domEvent:e,key:Xc[t],code:t})},this._onKeyDown=e=>{const t=e.keyCode||e.which,n=this._binds[t];if(!this._pressed[t]){if(this._pressed[t]=!0,n)for(const r of n)r.keys.every(i=>i.some(s=>this._pressed[s]))&&r.handler({domEvent:e});this._modules.events.fire("keydown",{domEvent:e,key:Xc[t],code:t})}}}onMounted(){this._modules.events.register(["keyup","keydown"]),this._binds=[],this._pressed=[],this._modules.dom.addWindowEventListener("keydown",this._onKeyDown).addWindowEventListener("keyup",this._onKeyUp).addWindowEventListener("visibilitychange",this._onBlur).addWindowEventListener("blur",this._onBlur,!1),this._idleTimeout=4e3,this._prevEventTimeStamp=rr(),this._modules.events.onAnyEvent(()=>{const e=rr();e-this._prevEventTimeStamp>this._idleTimeout&&this.resetKeys(),this._prevEventTimeStamp=e})}setIdleTimeout(e){if(!isFinite(e)||e<=1)throw new TypeError("Idle timeout must be a positive number > 1");this._idleTimeout=e}resetKeys(){for(let e=0;e<this._pressed.length;e++)this._pressed[e]&&(this._pressed[e]=!1,this._modules.events.fire("keyup",{key:Xc[e],code:e}))}onKeyPress(e,t){let n=[];if(typeof e=="number")n=[e];else if(typeof e=="string")n=e.split(" ");else{if(!Array.isArray(e))throw new TypeError(`${e} is not a number, string or array`);n=e}if(n.length===0)throw new Error("the array should contain at least one element");const r=n.map(o=>{if(typeof o=="number")return[o];if(typeof o=="string"){const a=X2[o];if(!a)throw new Error(`${o} is not a valid key identifier`);return a}throw new TypeError(`${o} is not a valid key identifier`)}),i=r.pop(),s={keys:r,handler:t};i&&i.forEach(o=>{this._binds[o]||(this._binds[o]=[]),this._binds[o].push(s)})}isPressed(e){if(typeof e=="number")return this._pressed[e];if(typeof e=="string"){const t=X2[e];if(t)return t.some(n=>this._pressed[n])}return!1}},XG=[{name:"color",isNode:!0},{name:"shape",isNode:!0},{name:"radius",isNode:!0},{name:"icon.content",isNode:!0},{name:"image.url",isNode:!0},{name:"image",isNode:!0},{name:"color",isNode:!1},{name:"shape",isNode:!1},{name:"width",isNode:!1}],Es=Math.PI,Ss=2*Math.PI,bP=Math.cos(Es/2-Ss/5),wP=Math.cos(Es/2-Ss/5*2),EP=Math.cos(Es/2-Ss/5*3),SP=Math.cos(Es/2-Ss/5*4),kP=Math.sin(-Es/2+Ss/5),AP=Math.sin(-Es/2+Ss/5*2),CP=Math.sin(-Es/2+Ss/5*3),TP=Math.sin(-Es/2+Ss/5*4),Zg=1.6,LP=3,YG=.9,dh=.31,zf=1/3,qG=[8,3],ZG=[3,3],uh={position:"bottom",widgetWidth:130,fontFamily:"Arial",fontSize:10,fontColor:"black",titleFontSize:12,titleFontColor:"black",titleMaxLength:20,titleTextAlign:"left",shapeColor:"grey",backgroundColor:"white",borderColor:"black",borderRadius:0,borderWidth:1,innerMargin:10,outerMargin:5,circleStrokeWidth:3,titleFunction:e=>e[e.length-1]},QG=["widgetWidth","fontSize","titleFontSize","borderRadius","borderWidth","innerMargin","outerMargin","circleStrokeWidth"];function NP(e){return Array.isArray(e)?e.reduce((t,n)=>t&&NP(n),!0):e==="undefined"||!isNaN(Number(e))}function IP(e){return Array.isArray(e)?e.reduce((t,n)=>Math.min(t,IP(n)),1/0):typeof(e=Number(e))=="number"?isNaN(e)?1/0:+e:1/0}function MP(e){return Array.isArray(e)?e.reduce((t,n)=>Math.max(t,MP(n)),-1/0):typeof(e=Number(e))=="number"?isNaN(e)?-1/0:+e:-1/0}function us(e){const t=["K","M","B","T","P","E","Z","Y"];if(e>9999){let n=0;for(;n<t.length&&e>999;)e/=1e3,n++;return(Y2(e,3)+t[n-1]).toString()}return Y2(e,4).toString()}function Y2(e,t=3){const n=t===4?10:1;return e<10?Math.round(100*e*n)/(100*n):e<100?Math.round(10*e*n)/(10*n):e<1e3?Math.round(e*n)/n:Math.round(e)}function PP(e){return e.innerMargin+(e.titleFontSize+e.fontSize)*Zg}var KG=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.title<=t.title?-1:1,JG=(e,t)=>e.height-t.height,e7=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:t.height-e.height,t7=(e,t)=>e.isNode!==t.isNode?e.isNode?-1:1:e.content[0].title<=t.content[0].title?-1:1;function n7(e,t,n){const r=t.getContext("2d"),{x:i,y:s,height:o,isNode:a,styleProperty:l,title:c,mapping:d,iconFont:u,iconFontStyle:h}=n;s7(r,e,i,s,o),o7(r,e,c,i,s);const g=e.fontSize*Zg,p=e.fontSize/2*Zg*YG,m=e.fontSize*LP,_=e.fontSize,y=i7(e,a);let f=s+PP(e);const x=i+e.innerMargin+y/2,v=i+2*e.innerMargin+y,w=zc(d),b=NP(w),S=e.fontColor,k=e.shapeColor,C=Object.keys(d);if(b&&(C.sort((A,N)=>as(d[N])-as(d[A])),l==="radius"||l==="width")){const A=IP(w),N=MP(w);return(a?b7:w7)(e,r,i,f,A,(A+N)/2,N,k)}C.forEach(A=>{const N=d[A];l==="color"&&(a?FP(r,x,f,p,A):l7(r,x,f,m,_,A)),l==="shape"&&(a?m7(r,x,f,p,A,k):x7(r,x,f,m,_,A,k)),l==="icon.content"&&c7(r,x,f,A,u,p,S,h),l!=="image"&&l!=="image.url"||d7(r,x,f,p,A),a7(r,e,v,f,N,b),f+=g})}function r7(e,t,n,r,i,s){e.beginPath(),e.arc(t,n,r,0,Ss),e.strokeStyle=i,e.lineWidth=s,e.stroke()}function su(e,t,n,r,i="left",s="normal"){e.textAlign=i,e.textBaseline="middle",e.fillStyle=r,e.font=`${s} ${n}px "${t}"`}function i7(e,t){const n=t?1:LP;return e.fontSize*n}function s7(e,t,n,r,i){return v7(e,n,r,t.widgetWidth,i,t.borderRadius,t.backgroundColor,t.borderColor,t.borderWidth)}function o7(e,t,n,r,i){su(e,t.fontFamily,t.titleFontSize,t.titleFontColor,t.titleTextAlign);const s=t.titleTextAlign==="center",o=t.widgetWidth-2*t.innerMargin,a=e.measureText(n).width,l=r+(s?t.widgetWidth/2:t.innerMargin),c=i+t.titleFontSize/2+t.innerMargin;if(a>o){const d=o/a,u=(n.length*d|0)-2;n=n.substr(0,u)+"…"}e.fillText(n,l,c)}function a7(e,t,n,r,i,s){let o=i.join();if(s)if(i.length===1)o=us(i[0]);else{const a=as(i),l=Xa(i);o=`${us(a)} - ${us(l)}`}su(e,t.fontFamily,t.fontSize,t.fontColor),e.fillText(o,n,r)}function FP(e,t,n,r,i){e.beginPath(),e.arc(t,n,r,0,2*Es),e.fillStyle=i,e.fill()}function l7(e,t,n,r,i,s){e.fillStyle=s,e.fillRect(t-r/2,n-i/2,r,i)}function c7(e,t,n,r,i,s,o,a){su(e,i,2*s,o,"center",a),e.fillText(r,t,n)}function d7(e,t,n,r,i){if(typeof Image>"u")return;e._imgStore||(e._imgStore={});let s=e._imgStore[i];if(s)return e.drawImage(s,t-r,n-r,2*r,2*r);s=new Image,s.src=i,s.onload=()=>{e.drawImage(s,t-r,n-r,2*r,2*r)},e._imgStore[i]=s}function u7(e,t,n,r){e.fillRect(t-r,n-r*dh,2*r,2*r*dh),e.fillRect(t-r*dh,n-r,2*r*dh,2*r)}function h7(e,t,n,r){return e.beginPath(),e.moveTo(t-r,n),e.lineTo(t,n-r),e.lineTo(t+r,n),e.lineTo(t,n+r),e.fill()}function g7(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+bP*r,n+kP*r),e.lineTo(t+wP*r,n+AP*r),e.lineTo(t+EP*r,n+CP*r),e.lineTo(t+SP*r,n+TP*r),e.fill()}function p7(e,t,n,r){e.beginPath(),e.moveTo(t,n-r),e.lineTo(t+wP*r,n+AP*r),e.lineTo(t+SP*r,n+TP*r),e.lineTo(t+bP*r,n+kP*r),e.lineTo(t+EP*r,n+CP*r),e.fill()}function m7(e,t,n,r,i,s){switch(e.fillStyle=s,i){case"square":return e.fillRect(t-r,n-r,2*r,2*r);case"circle":return FP(e,t,n,r,s);case"cross":return u7(e,t,n,r);case"diamond":return h7(e,t,n,r);case"equilateral":return g7(e,t,n,r);case"star":return p7(e,t,n,r)}}function f7(e,t,n,r,i){e.fillRect(t-r/2,n-i/4,r*(1-zf),i/2),e.beginPath(),e.moveTo(t+r*(1-zf-.5),n-i/2),e.lineTo(t+r*(1-zf-.5),n+i/2),e.lineTo(t+r/2,n),e.fill()}function _7(e,t,n,r,i,s,o){e.beginPath(),e.moveTo(t-r/2,n),e.lineTo(t+r/2,n),e.strokeStyle=s,e.lineWidth=i/2,e.setLineDash(o==="dashed"?qG:ZG),e.stroke()}function y7(e,t,n,r,i){e.beginPath(),e.moveTo(t-r/2,n-i/2),e.lineTo(t-r/2,n+i/2),e.lineTo(t+r/2,n),e.fill()}function x7(e,t,n,r,i,s,o){return e.fillStyle=o,s==="line"&&e.fillRect(t-r/2,n-i/4,r,i/2),s==="arrow"?f7(e,t,n,r,i):s==="dashed"||s==="dotted"?_7(e,t,n,r,i,o,s):s==="tapered"?y7(e,t,n,r,i):void 0}function v7(e,t,n,r,i,s,o,a,l){e.setLineDash([]),e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+r-s,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+i-s),e.quadraticCurveTo(t+r,n+i,t+r-s,n+i),e.lineTo(t+s,n+i),e.quadraticCurveTo(t,n+i,t,n+i-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+s,n),e.closePath(),e.fillStyle=o,e.fill(),e.strokeStyle=a,e.lineWidth=l,e.stroke()}function b7(e,t,n,r,i,s,o,a){const l=.7*e.fontSize,c=3*l,d=(l+c)/2,u=n+e.innerMargin+c,h=u+c+e.innerMargin,g=r+2*c-.5*e.innerMargin,p=e.circleStrokeWidth;for(const m of[l,d,c])r7(t,u,g-m,m,a,p);su(t,e.fontFamily,e.fontSize,e.fontColor,"left"),t.fillText(us(i),h,g+l-2*l),t.fillText(us(s),h,g+l-2*d),t.fillText(us(o),h,g+l-2*c)}function w7(e,t,n,r,i,s,o,a){const l=(e.widgetWidth-2*e.innerMargin)/3,c=e.fontSize,d=r-e.innerMargin/2,u=d+2*c,h=n+e.innerMargin;t.fillStyle=a,t.fillRect(h,d-c/2,l+1,c),t.fillRect(h+l,d-c/3,l+1,c/1.5),t.fillRect(h+2*l,d-c/6,l,c/3),su(t,e.fontFamily,e.fontSize,e.fontColor,"center"),t.fillText(us(o),h+.5*l,u),t.fillText(us(s),h+1.5*l,u),t.fillText(us(i),h+2.5*l,u)}function E7(e,t,n,r){const i=r.outerMargin+PP(r),s=r.fontSize*Zg,o=i-.8*r.innerMargin;return t==="radius"||t==="width"?o+s*(n?3:2):o+Object.keys(e).length*s}function S7(e,t,n){const r={width:t.width,height:t.height};let i=!1;return!!(r.width&&r.height&&n)&&(i=e.position==="top"||e.position==="bottom"?T7(r,e,n,e.position==="bottom"):k7(r,e,n,e.position==="left"),i&&n.forEach(s=>n7(e,t,s)),i)}function k7(e,t,n,r){const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height;let a=t.outerMargin,l=r?t.outerMargin:e.width-i,c=1;n=n.slice().sort(KG);for(let d=0;d<n.length;++d){const u=n[d];if(a+u.height>o){if(a===t.outerMargin)return!1;a=t.outerMargin,c+=1,r?l+=i:l-=i}u.x=l,u.y=a,a+=u.height}return c<=s}function A7(e,t,n){let r=null;for(let i=0;i<t.length;++i){const s=t[i];s.isNode!==e.isNode&&t.length!==1||!(r===null||s.height<t[r].height)||(r=i)}if(r!=null){const i=t[r];i.content.push(e),i.height+=e.height+n.outerMargin}}function C7(e){let t=0;for(let n=1;n<e.length;++n)e[n].height>e[t].height&&(t=n);return t}function T7(e,t,n,r){n=n.slice();const i=t.widgetWidth+t.outerMargin,s=Math.floor((e.width-t.outerMargin)/i),o=e.height-t.outerMargin,a=new Array(Math.min(s,n.length)),l=n.length;let c=0,d=0,u=0,h=0;for(let x=0;x<l;++x){const v=n[x];v.isNode?(c+=1,d+=v.height):(u+=1,h+=v.height)}const g=d+h,p=d/g,m=h/g;let _=Math.round(p*s);const y=Math.round(m*s);if(_>c?_=c:y>u&&(_=s-u),s===0)return!1;for(let x=0;x<a.length;x++)a[x]={content:[],height:0,isNode:x<_};for(let x=0;x<l;++x){const v=C7(n);A7(n[v],a,t),n.splice(v,1)}a.every(({content:x})=>x.length===1)?a.sort(t7):a.sort(e7);let f=t.outerMargin;for(let x=0;x<a.length;++x){const v=a[x];if(v.height>o)return!1;v.content.sort(JG);let w=0;for(let b=0;b<v.content.length;++b){const S=v.content[b];S.x=f,S.y=r?e.height-w-S.height-t.outerMargin:w+t.outerMargin,w+=S.height+t.outerMargin}f+=i}return!0}var L7=class extends it{constructor(){super(...arguments),this._enabled=!1,this._mustRefresh=!1,this._promises=[]}onMounted(){this._modules.events.on("newFrame",()=>{this._enabled&&this._mustRefresh&&this._layer.refresh()}).on(["resize","reloadFonts"],()=>{this._mustRefresh=!0})}enable(e={}){const t=this._settings;return this._settings=Se(Se({},uh),e),this._mustRefresh=!this._enabled||!this._sameOptions(t,this._settings),this._enabled?Promise.resolve():(this._enabled=!0,this._layer=this._modules.layers.addCanvasLayer(n=>{this._drawOnCanvas(this._settings,n.canvas,Fr());const r=this._promises;this._promises=[],r.forEach(i=>i()),this._mustRefresh=!1},{isStatic:!0,noClear:!1}),this._layer.moveToTop(),this.refresh())}_afterNextUpdate(){return new Promise(e=>this._promises.push(e))}_formatSettings(e,t){const n=Se(Se({},uh),e);return QG.forEach(r=>n[r]*=t),n}disable(){return this._enabled&&(this._enabled=!1,this._layer.destroy()),Promise.resolve()}enabled(){return this._enabled}refresh(){return this._mustRefresh=!0,this._modules.dom.refresh(),this._afterNextUpdate()}destroy(){this._enabled=!1,this._mustRefresh=!1,this._settings=Se({},uh),this._promises=[]}getOptions(){return this._enabled?Se({},this._settings):Se({},uh)}getCurrentOptions(){return this._settings}_sameOptions(e,t){return e===t||Object.keys(e).reduce((n,r)=>n&&e[r]===t[r],!0)}_drawOnCanvas(e,t,n){const r=this._formatSettings(e,n);S7(r,t,this._computeWidgetList(r))}exportOnCanvas(e,t,n){return this._drawOnCanvas(t,e,n)}export(e={}){const{width:t,height:n}=Se(Se({},this._modules.camera.getSize()),e),r=Fr(),i=Dn(t*r,n*r);return this._drawOnCanvas(e,i,r),Promise.resolve().then(()=>i)}_computeWidgetList(e){const t=[];return XG.forEach(({name:n,isNode:r})=>{const i=this._computeWidget(e,n,r);i&&t.push(i)}),t}_computeWidget(e,t,n){const r=this._computePropertyMapping(e,t,n);if(r){if(t!=="icon.content")return r;const i=this._getRulesForAttribute(n,"icon.font"),s=this._getRulesForAttribute(n,"icon.style");let o=null,a=null;if(i.length||(o="Arial",a="normal"),typeof i[0]=="string"&&(o=i[0],a=s[0]),o&&a)return r.iconFont=o,r.iconFontStyle=a,r}return null}_computePropertyMapping(e,t,n){const[r]=this._getRulesForAttribute(n,t),i=r&&r.mapping,s=i&&i.getValues(n);if(i&&s){const o=i.getField(),a={};return Xi(s,(l,c)=>{l!==void 0&&c!=="undefined"&&(a[l]=a[l]||[],a[l].push(c))}),Object.keys(a).length===0?null:{isNode:n,title:e.titleFunction(o,t),styleProperty:t,dataProperty:o,mapping:a,height:E7(a,t,n,e)}}return null}_getRulesForAttribute(e,t){return this._modules.styleRules.getRuleList().map(n=>{const r=n.getDefinition();return an(e?r.nodeAttributes:r.edgeAttributes,t)}).filter(Ni).sort((n,r)=>n.mapping&&r.mapping?0:n.mapping?-1:1)}},q2={layer:DN,outerStroke:{color:tM,width:5},innerStroke:{minVisibleSize:0},text:{backgroundColor:nM,minVisibleSize:0}},N7={layer:DN,color:tM,text:{backgroundColor:nM,minVisibleSize:0}},Z2={duration:150,easing:"quadradicOut"},I7=class extends it{constructor(){super(...arguments),this._delay=16,this._manualTriggerDetection=!1,this._hovered=null,this._hoveredTextHidden=!1,this._onAnimate=({updatesPositions:e})=>{e&&this._hovered&&this._modules.graphics.isMoving(this._hovered)&&(this._manualTriggerDetection=!0,this._resetHover())},this._onBeforeNewFrame=()=>{if(this._manualTriggerDetection){this._manualTriggerDetection=!1,this._modules.captor.triggerDetection();const e=this._modules.captor.getPointedElement();e&&this._hover(e)}},this._onClear=()=>{this._hovered=null,this._timeout&&this._modules.dom.clearTimeout(this._timeout)},this._resetHover=()=>{this._hovered&&(this._unhover(this._hovered),this._modules.captor.triggerUnhover()),this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}}_setAnimationOptions(e){this._animationOptions={duration:(e==null?void 0:e.duration)!==void 0?e.duration:Z2.duration,easing:(e==null?void 0:e.easing)!==void 0?e.easing:Z2.easing},e==null||delete e.duration,e==null||delete e.easing}setRate(e){return this._delay=e,this}replaceNullColor(e,t){e&&an(e,t)===null&&Zi(e,t,this._modules.settings.get("backgroundColor"))}updateNodeAttributes(e,t){this._setAnimationOptions(e),this.replaceNullColor(e,"text.backgroundColor"),this._hoverClass.update({nodeAttributes:e,fullOverwrite:t}),this._hoverExtremityHighlightedClass.update({nodeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}updateEdgeAttributes(e,t){this.replaceNullColor(e,"text.backgroundColor"),this.replaceNullColor(e,"text.secondary.backgroundColor"),this._setAnimationOptions(e),this._hoverClass.update({edgeAttributes:e,fullOverwrite:t}),this._updateExtremityHighlightLayer()}getHoverClassDefinition(){return this._hoverClass.getDefinition()}onMounted(){this._registerSettings(),this._setAnimationOptions(null),this._hoverExtremityHighlightedClass=this._modules.classes.createClass({name:T_,isBuiltin:!0,nodeAttributes:q2}),this._hoverClass=this._modules.classes.createClass({name:Bc,isBuiltin:!0,nodeAttributes:q2,edgeAttributes:N7}),this._modules.events.on("mouseover",({target:e})=>e&&this._hover(e)).on("mouseout",({target:e})=>e&&this._unhover(e)).on("animate",this._onAnimate).on("beforeNewFrame",this._onBeforeNewFrame).on("mouseout",this._resetHover).on("clearGraph",this._onClear)}_registerSettings(){this._modules.settings.register("cursor.node","pointer",(e,t)=>{this._hovered&&this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("cursor.edge","pointer",(e,t)=>{this._hovered&&!this._hovered.isNode&&(this._modules.graphics.removeCursorStyle(t),this._modules.graphics.addCursorStyle(e))}),this._modules.settings.register("nodeHover",!0,e=>{!e&&this._hovered&&this._hovered.isNode&&this._unhover(this._hovered)}),this._modules.settings.register("edgeHover",!0,e=>{e||!this._hovered||this._hovered.isNode||this._unhover(this._hovered)})}_updateExtremityHighlightLayer(){const e=this._hoverClass.getDefinition().edgeAttributes,t=e?e.layer:void 0;this._hoverExtremityHighlightedClass.update({nodeAttributes:{layer:t},fullOverwrite:!1})}_removeTimeout(){this._timeout&&(this._modules.dom.clearTimeout(this._timeout),this._timeout=null)}_hover(e){const t=e.isNode?"nodeHover":"edgeHover";this._modules.settings.get(t)&&e&&(this._removeTimeout(),this._timeout=this._modules.dom.setTimeout(()=>{this._setElementHighlight(!0,e),this._timeout=null},this._delay))}_unhover(e){this._removeTimeout(),this._hovered===e&&(this._setElementHighlight(!1,e),this._hoverExtremityHighlightedClass.clearNodes(),this._hovered=null)}_setElementHighlight(e,t){const n=this._modules.settings.get(t.isNode?"cursor.node":"cursor.edge");if(e?(this._modules.graphics.addCursorStyle(n),t.addClass(Bc,this._animationOptions),this._hovered=t):(this._modules.graphics.removeCursorStyle(n),t.removeClass(Bc,this._animationOptions)),t.isNode){const r=this._modules.graph.getAttribute(t.isNode,"textHidden"),i=t._index;e&&(this._hoveredTextHidden=r.get(i)!==0);const s=!e&&this._hoveredTextHidden;r.set(i,s)}else this._hoverExtremityHighlightedClass.clearNodes(),e&&t.getExtremities().addClass(T_,this._animationOptions)}},M7=class extends it{constructor(){super(...arguments),this.x=0,this.y=0}},P7=class{constructor(e,t){this._nodeMapping={valid:!1,values:{}},this._edgeMapping={valid:!1,values:{}},this._computeMapping=t,this._field=e,this._assignedRules=[]}getValue(e,t){const n=e.isNode,r=n?this._nodeMapping:this._edgeMapping;r.valid||(r.values=this._computeMapping(n),r.valid=!0);const i=e.getData(this._field);return Array.isArray(i)?t==="color"?i.map(s=>r.values[s]):r.values[i[0]]:r.values[i]}markAsInvalid(){this._nodeMapping.valid=!1,this._edgeMapping.valid=!1}getValues(e){return e?this._nodeMapping.values:this._edgeMapping.values}getField(){return this._field}isAssignedTo(e){return this._assignedRules.find(t=>t===e)}getAssignedRules(){return this._assignedRules.slice()}assignTo(e){this.isAssignedTo(e)||this._assignedRules.push(e)}unAssignTo(e){this._assignedRules=this._assignedRules.filter(t=>t!==e)}};function RP(e,t,n){const r=(t?e.getNodes():e.getEdges()).getData(n),i={};return r.forEach(s=>{if(!Array.isArray(s))return i[s]=1;s.forEach(o=>i[o]=1)}),"undefined"in i&&delete i[void 0],Object.keys(i).sort()}function F7(e,t,n,r){const{values:i={},fallback:s}=n,o=RP(e,r,t),a={};let l=0;for(let c=0;c<o.length;++c){const d=o[c];d in i?a[d]=i[d]:(a[d]=s[l],l=(l+1)%s.length)}return a}function R7(e,{nbSlices:t,minValue:n,maxValue:r}){if(Array.isArray(e))return e.slice();const{min:i=n,max:s=r}=e,o=(s-i)/t,a=[];for(let l=1;l<t;++l)a.push(i+o*l);return a}function D7(e,t){if(Array.isArray(e))return e;const{min:n,max:r}=e,i=t.length+1,s=(r-n)/t.length,o=[];for(let a=0;a<i;a++)o.push(n+a*s);return o}function z7(e,t,n,r){const{fallback:i,stops:s={},values:o,reverse:a}=n,l=RP(e,r,t);let c=1/0,d=-1/0;for(let p=0;p<l.length;p++){const m=+l[p];dm(m)&&(c=Math.min(c,m),d=Math.max(d,m),l[p]=m)}const u={};if(!isFinite(c)){for(let p=0;p<l.length;p++)u[l[p]]=i;return u}const h=R7(s,{nbSlices:Array.isArray(o)?o.length:o.nbSlices,minValue:c,maxValue:d}),g=D7(o,h);a&&g.reverse();for(let p=0;p<l.length;++p){const m=l[p];if(isFinite(m)){let _=0;for(;_<h.length&&h[_]<=m;)_+=1;u[m]=g[_]}else u[m]=i}return u}var O7=class extends it{constructor(){super(...arguments),this._mappingList=[]}onMounted(){this._modules.events.on(["addStyleRule","updateStyleRule"],({rule:e,options:t})=>{[...zc(t.nodeAttributes||{}),...zc(t.edgeAttributes||{})].forEach(n=>{n&&this._recursiveGetMapping(n).forEach(r=>r.assignTo(e.id))})}).on("removeStyleRule",({rule:e})=>{this._mappingList.forEach(t=>t.unAssignTo(e.id))}).on(["addNodes","addEdges","updateNodeData","updateEdgeData","removeNodes","beforeRemoveEdges","excludedStateChange","clearGraph"],()=>{this._mappingList.forEach(e=>{const t=e.getAssignedRules();e.markAsInvalid(),t.forEach(n=>this._modules.styleRules.refreshRule(n))}),this._modules.legend.refresh()})}_recursiveGetMapping(e,t=[]){if(!e)return t;if(e.mapping)return t.push(e.mapping),t;if(typeof e!="object")return t;const n=zc(e).map(r=>this._recursiveGetMapping(r));return t.concat(...n)}createMapping({field:e,values:t={},fallback:n}={field:""}){if(e=oa(e),Array.isArray(n)?n.length===0&&(n=[void 0]):n=[n],!aa(t))throw new Error('"mapping" should be an object');return this._createMappingFunction(F7,e,{values:t,fallback:n})}createSlices({field:e,fallback:t,stops:n={},values:r,reverse:i=!1}={field:"",values:[]}){if(e=oa(e),Array.isArray(r)||r.nbSlices||(r.nbSlices=7),Array.isArray(n)&&Array.isArray(r)&&n.length!==r.length-1)throw new Error("there should be exactly one more value that stops");return this._createMappingFunction(z7,e,{fallback:t,stops:n,values:r,reverse:i})}_createMappingFunction(e,t,n){const r=new P7(t,s=>e(this._modules.graph,t,n,s));this._mappingList.push(r);const i=(s,o,a)=>r.getValue(s,a);return i.mapping=r,i}createTemplate(e){if(typeof e!="string")throw new TypeError('"template" should be a string');const t=[];let n=0,r=!1;for(;!r;){let i=-1;const s=e.indexOf("{{",n);s!==-1&&(i=e.indexOf("}}",s+2)),i!==-1?(t.push(e.substring(n,s)),t.push(e.substring(s+2,i)),n=i+2):(t.push(e.slice(n)),r=!0)}return function(i){let s=t[0];for(let o=1;o<t.length;o+=2)s+=i.getData(t[o]),s+=t[o+1];return s}}},fa=class{constructor({duration:e,enabled:t}){this._duration=e||0,this._removalDuration=e||0,this.enabled=!1,this.shouldUndo=!1,this.destroyed=!1,this.shouldDo=t!==!1,this.shouldAnimate=this.shouldDo,this._error=null,this._whenApplied=new Promise((n,r)=>{this._resolveFunction=n,this._rejectFunction=r})}getDuration(){return this._duration}getAnimationDuration(e=!0){return this.shouldAnimate?e?this._duration:this._removalDuration:0}setDuration(e){e!==void 0&&(this._duration=e)}getRemovalDuration(){return this._removalDuration}setRemovalDuration(e){e!==void 0&&(this._removalDuration=e)}getContext(){return this._context}setContext(e){this._context=e}getError(){return this._error}setError(e){this._error=e}getOgma(){return this._ogma}resolve(){this._resolveFunction(this)}reject(){const e=this._error;return this._error=null,this._rejectFunction(e)}getName(){throw new Error("type not set")}getId(){return this._id}whenApplied(){return this._whenApplied}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}initialize({id:e,ogma:t}){this._id=e,this._ogma=t,this.resetContext()}enable(e){return this._ogma.modules.transformations.enable(this,e||0)}disable(e){return this._ogma.modules.transformations.disable(this,e||0)}toggle(e){return this.enabled?this.disable(e):this.enable(e)}getIndex(){return this._ogma.modules.transformations.getIndex(this)}setIndex(e){return this._ogma.modules.transformations.setIndex(this,e).then(()=>this)}setOptions(e){return this._ogma.modules.transformations.setOptions(this,Se({duration:this._duration,enabled:this.enabled},e)).then(()=>this)}_setOptions(e){this._duration=e.duration===void 0?this._duration:e.duration}destroy(e){return this.destroyed=!0,this._ogma.modules.transformations.remove(this,e||0)}refresh(){return this._ogma.view.afterNextFrame().then(()=>this._refresh())}_refresh(){return this._ogma.modules.transformations.refresh(!0)}resetContext(){this._context={virtualNodes:this._ogma.nodeList(),virtualEdges:this._ogma.edgeList()}}run(){throw new Error("run function not implemented")}cleanup(){throw new Error("cleanup function not implemented")}undo(){throw new Error("undo function not implemented")}onClearGraph(){this.resetContext()}},DP=class extends fa{constructor(e){super(e),this._getNodesToFilter=e.getNodesToFilter,this._getEdgesToFilter=e.getEdgesToFilter}run(){const e=this._ogma,t=this.getAnimationDuration(),n=this._getNodesToFilter(e),r=this._getEdgesToFilter(e,n);return Promise.all([n.addClass(zs,t),r.addClass(zs,t)]).then(()=>(n.setExcluded(!0),r.setExcluded(!0),St(Se({},this._context),{nodes:n,edges:r})))}undo(){const e=this.getAnimationDuration(),{nodes:t,edges:n}=this._context;return t.setExcluded(!1),n.setExcluded(!1),t.addClass(zs),n.addClass(zs),Promise.all([t.removeClass(zs,e),n.removeClass(zs,e)])}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodes:this._ogma.nodeList(),edges:this._ogma.edgeList()})}cleanup(){return Promise.resolve()}get context(){return this._context}},B7=class extends DP{constructor(e){super(St(Se({},e),{getNodesToFilter:t=>t.createNodeList(),getEdgesToFilter:t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}))}getName(){return"edge-filter"}_setOptions(e){super._setOptions(e),this._getEdgesToFilter=t=>t.getEdges().filter(n=>!e.criteria||!e.criteria(n))}},j7=class extends DP{constructor(e){const t=e.criteria;super(St(Se({},e),{getNodesToFilter:n=>n.getNodes().filter(r=>!t||!t(r)),getEdgesToFilter:(n,r)=>r.getAdjacentEdges()}))}getName(){return"node-filter"}_setOptions(e){super._setOptions(e);const t=e.criteria;this._getNodesToFilter=n=>n.getNodes().filter(r=>!t||!t(r))}},U7=class extends it{addNodeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new j7(e))}addEdgeFilter(e){return typeof e!="object"&&(e={criteria:e,enabled:!0,duration:0}),this._modules.transformations.add(new B7(e))}},Q2=e=>e.stopPropagation(),$7=(e,t)=>{t.style.position="absolute",t.style.left="0",t.style.top="0",e.appendChild(t)},V7=e=>t=>{for(;e.firstChild;)e.removeChild(e.firstChild);for(let n=0;n<t.length;++n)$7(e,t[n])},G7=(e,t)=>{const n=document.createElement("img");return new Promise(r=>{n.addEventListener("load",()=>{t.drawImage(n,0,0,t.canvas.width,t.canvas.height),r(t)});const i=`data:image/svg+xml;base64,${btoa(new XMLSerializer().serializeToString(e))}`;n.src=i})},H7=class extends it{constructor(){super(...arguments),this._elements=[],this._layers=[],this.readyCallbacks=[],this.render=(e,t,n,r)=>{const i=r&&r.pixelRatio?r.pixelRatio:Fr(),{zoom:s,x:o,y:a,width:l,height:c}=r||this._modules.camera.getView();if(s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=i*s;n.noClear||e.clearRect(0,0,l*i,c*i),n.isStatic||(e.save(),e.translate(l*i/2,c*i/2),e.rotate(r?-(r.angle||0):-this._modules.camera.getAngle()),e.translate(-o*d,-a*d),e.scale(d,d)),t(e),n.isStatic||e.restore()},this.createCanvas=(e,t)=>{const{width:n,height:r}=this._modules.camera.getSize(),i=t.canvas||Dn(n,r),s=t.ctx||i.getContext("2d"),o=(d=e)=>{s&&this.render(s,d,t)},a=()=>{const{width:d,height:u}=this._modules.camera.getSize(),h=Fr();i.width=d*h,i.height=u*h,i.style.width=`${d}px`,i.style.height=`${u}px`,o()};let l,c;if(t.isStatic)this._modules.dom.addDirectWindowEventListener("resize",a),l=()=>{this._modules.dom.removeDirectWindowEventListener("resize",a)};else{let d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom(),h=!1;const g=0;let p;const m=500,_=()=>{h||(o(),h=!0,d=this._modules.camera.getCenter(),u=this._modules.camera.getZoom())},y=()=>{h||_();const{x:v,y:w}=this._modules.camera.getCenter(),b=v-d.x,S=w-d.y,k=-b*u,C=-S*u,A=this._modules.camera.getZoom()/u,N=-this._modules.camera.getAngle();i.style.transform=`
          scale(${A})
          rotate(${-N}rad)
          translateX(${k}px)
          translateY(${C}px)
          rotate(${N}rad)
        `.replace(/\n/g,"")};c=()=>!h||(o(),h=!1,i.style.transform="scale(1) translateX(0px) translateY(0px)",!1);const f=v=>{p&&clearTimeout(p),_()},x=v=>{Date.now()<g&&p&&clearTimeout(p),p=setTimeout(c,v.duration+m),_()};this._modules.events.on("dragStart",f).on("zoomStart",x).on("dragEnd",c).on(["viewChanged","zoom","rotate","move","animate"],y),this._modules.dom.addDirectWindowEventListener("resize",c),this._modules.dom.addDirectWindowEventListener("resize",a),this._modules.events.on("resize",a),l=()=>{this._modules.events.off(a).off(f).off(x).off(c).off(y),this._modules.dom.removeDirectWindowEventListener("resize",c),this._modules.dom.removeDirectWindowEventListener("resize",a)}}return i.style.touchAction="none",i.style.pointerEvents="none",a(),{element:i,removeListeners:l,refresh:d=>{c&&!c()||o(d)},clear:()=>s==null?void 0:s.clearRect(0,0,i.width,i.height)}},this.createSVG=e=>{const{element:t}=e;t.style["pointer-events"]="none";const n=()=>{e.draw(e.element)},r=i=>{let{zoom:s,x:o,y:a,width:l,height:c}=i||this._modules.camera.getView();if(l=Math.floor(l),c=Math.floor(c),s===void 0||o===void 0||a===void 0||l===void 0||c===void 0)return null;const d=l/2/s,u=c/2/s,h=-this._modules.camera.getAngle(),g=o-d,p=a-u,m=l/s,_=c/s;t.style.width=`${l}px`,t.style.height=`${c}px`,t.setAttribute("width",`${l}`),t.setAttribute("height",`${c}`),t.setAttribute("viewBox",`${g} ${p} ${m} ${_}`),t.setAttribute("transform",`rotate(${180*h/Math.PI})`)};return this._modules.events.on(["viewChanged","zoom","rotate","move","animate"],()=>r()),t.addEventListener("mousemove",Q2),r(),n(),{element:t,removeListeners:()=>{this._modules.events.off(r)},updateTransformation:r,refresh:n}},this._createOverlay=e=>{const t=()=>{const{element:i,position:s}=e,{zoom:o,x:a,y:l,width:c,height:d}=this._modules.camera.getView();if(o===void 0||a===void 0||l===void 0||c===void 0||d===void 0)return null;const u=o,h=c/2,g=d/2,p=-this._modules.camera.getAngle(),m=(s.x-a)*u,_=(s.y-l)*u;i.style.transformOrigin="top left",i.style.transform=`translate(${h}px, ${g}px) rotate(${p}rad) translate(${m}px, ${_}px) ${e.scaled?`scale(${u}, ${u})`:""}`};this._modules.events.on(["viewChanged","zoom","rotate","move","animate"],t);const{element:n,size:r}=e;return r&&(n.style.width=`${r.width}`,n.style.height=`${r.height}`),n.addEventListener("mousemove",Q2),t(),{element:n,removeListeners:()=>{this._modules.events.off(t)},updateTransformation:t}},this.addLayer=(e,t="layer",n=this._elements.length)=>{const r=typeof e=="string"?m_(e):e;this._elements.push(r);const i={element:r};return i.type=t,i.getLevel=()=>this._elements.indexOf(r),i.moveTo=s=>(this._elements.splice(s,0,this._elements.splice(i.getLevel(),1)[0]),this._updateDom(this._elements),i),i.moveUp=()=>i.moveTo(i.getLevel()+1),i.moveDown=()=>i.moveTo(i.getLevel()-1),i.moveToTop=()=>i.moveTo(this._elements.length-1),i.moveToBottom=()=>i.moveTo(0),i.destroy=()=>this._removeLayer(i),i.hide=()=>(i.element&&(i.element.style.visibility="hidden"),i),i.show=()=>(i.element&&(i.element.style.visibility="visible"),i),i.isHidden=()=>i.element.style.visibility==="hidden",i.setOpacity=s=>(i.element&&(i.element.style.opacity=s.toString()),i),i.getOpacity=()=>parseFloat(i.element.style.opacity||"1"),i.setPosition=s=>{if(i.element){const o=i.element.style;o.left=`${s.x}px`,o.top=`${s.y}px`}return i},i.setSize=s=>{if(i.element&&s){const{width:o,height:a}=s,l=i.element.style;l.width=`${o}px`,l.height=`${a}px`}return i},i.moveTo(n),this._layers.push(i),i},this.addCanvasLayer=(e,t={isStatic:!1,noClear:!1},n=this._elements.length)=>{const r=this.createCanvas(e,t),{element:i,removeListeners:s,refresh:o,clear:a}=r,l=this.addLayer(i,"canvas",n);return i.classList.add("ogma-canvas-layer"),l.destroy=()=>this._removeLayer(l,s),l.refresh=o,l.clear=a,l.draw=e,l.options=t,l},this.addOverlay=(e,t=this._elements.length)=>{typeof e.element=="string"&&(e.element=m_(e.element)),e.scaled=e.scaled===void 0||e.scaled;const n=this._createOverlay(e),{element:r,removeListeners:i,updateTransformation:s}=n,o=this.addLayer(r,"overlay",t);return o._onViewChange=s,o._onDestroy=i,o.destroy=()=>this._removeLayer(o,i),o.setPosition=a=>(e.position=a,s(),o),e.size&&o.setSize(e.size),o},this.addSVGLayer=(e,t=this._elements.length)=>{const n=this.createSVG(e),{element:r,refresh:i,removeListeners:s,updateTransformation:o}=n,a=this.addLayer(r,"svg",t);return a._onViewChange=o,a._onDestroy=s,a.destroy=()=>this._removeLayer(a,s),a.refresh=i,a}}canvasToImage(e,t){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");this.render(r,e.draw,St(Se({},e.options),{noClear:!0}),St(Se({},t),{pixelRatio:1}));const i=document.createElementNS("http://www.w3.org/2000/svg","image");return i.setAttribute("href",n.toDataURL("image/png")),i.setAttribute("width",n.width),i.setAttribute("height",n.height),i}exportPNG(e,t,n){const r=e.getContext("2d");let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?(this.render(r,s.draw,St(Se({},s.options),{noClear:!0}),n),Promise.resolve()):(s._onViewChange&&s._onViewChange(n),G7(s.element,r)))}),i}exportSVG(e,t,n,r){let i=Promise.resolve();return t.forEach(s=>{i=i.then(()=>s.type==="canvas"?Promise.resolve(this.canvasToImage(s,n)):(s._onViewChange&&s._onViewChange(n),s.element.cloneNode(!0))).then(o=>r?e.insertBefore(o,e.querySelector(".ogma-nodes").parentNode||e.firstChild):e.appendChild(o))}),i}export(e){const t=this._layers.sort((i,s)=>i.getLevel()-s.getLevel()).filter(i=>i.type==="canvas"||i.type==="svg"),n=this.ogmaLayer?this.ogmaLayer.getLevel():0,r=e.below?t.filter(i=>i.getLevel()<n):t.filter(i=>i.getLevel()>n);return e.canvas?this.exportPNG(e.canvas,r,e.view):this.exportSVG(e.svg,r,e.view,e.below)}onMounted(){const e=this._modules.graphics.getDomElement();this._updateDom=V7(e);const t=e.firstChild;t&&(this.ogmaLayer=this.addLayer(t)),this.runCallbacks()}runCallbacks(){this.ogmaLayer&&(this.readyCallbacks.forEach(e=>e()),this.readyCallbacks=[])}whenReady(e){this.readyCallbacks.push(e),this.ogmaLayer&&this.runCallbacks()}_removeLayer(e,t){return e.element&&e.element.parentNode&&(this._elements.splice(e.getLevel(),1),t&&t(),e.element=null,this._updateDom(this._elements)),this._layers=this._layers.filter(n=>n!==e),e}destroy(){this._elements=[]}},W7=class extends it{onMounted(){const e=this._modules.graph;this._nodeList=e.getNodeAttribute("object"),this._edgeList=e.getEdgeAttribute("object"),this._sourceList=e.getEdgeAttribute("source"),this._targetList=e.getEdgeAttribute("target"),this._excludedList=e.getEdgeAttribute("excluded"),this._virtualList=e.getEdgeAttribute("virtual")}shortestPath(e={source:void 0,target:void 0}){const{source:t,target:n,directed:r=!1,edges:i=this._ogma.getEdges(),nodes:s=this._ogma.getNodes(),edgeCostFunction:o=()=>1,heuristicFunction:a=()=>0}=e,l=i.reduce((m,_)=>(m[_._index]=!0,m),{}),c=s.reduce((m,_)=>(m[_._index]=!0,m),{}),d=this._modules.graph.getNode(t),u=this._modules.graph.getNode(n);if(!d)throw new Error("the source is not a node");if(!u)throw new Error("the target is not a node");const h=d._index,g=u._index;c[h]=!0,c[g]=!0;let p=null;if(h===g)p={nodes:d.toList(),edges:this._modules.graph.edgeList()};else{const m=this._modules.graph.getNodeMaxIndex()+1,_=new Int32Array(m),y=new Float32Array(m),f=new Float32Array(m),x=new Set,v=new oN(f);for(y.fill(1/0),f.fill(1/0),_.fill(-1),v.add(h),y[h]=0,f[h]=a(d,u);!v.isEmpty();){const w=v.removeMin();if(w===g){p=this._constructPath(_,h,g);break}x.add(w);const b=this._modules.graph.getAdjacentDirections(w);if(b)for(let S=0;S<b.length;++S){const k=b[S],C=this._modules.graph.getEdgeIndexesInDirection(k);let A=-1,N=0,R=-1;for(let B=0;B<C.length;++B){const W=C[B],F=this._sourceList.get(W),T=this._targetList.get(W);if(F===T||!c[F]||!c[T]||r&&w!==F||!l[W])continue;const H=o(this._edgeList.get(W));(A===-1||H<N)&&(A=W,N=H,R=F===w?T:F)}if(R!==-1||x.has(R)){const B=y[w]+N;if(!v.has(R)||B<y[R]){const W=this._nodeList.get(w);_[R]=A,y[R]=B,f[R]=B+a(W,u),v.add(R)}}}}}return Promise.resolve(p)}_constructPath(e,t,n){const r=[n],i=[];let s=n;for(;s!==t;){const o=e[s],a=this._sourceList.get(o),l=this._targetList.get(o);s=s===a?l:a,r.push(s),i.push(o)}return r.reverse(),i.reverse(),{nodes:this._modules.graph.nodeList(new Uint32Array(r)),edges:this._modules.graph.edgeList(new Uint32Array(i))}}detectCycle(e,t){const n=t.getSource(),r=t.getTarget(),i=wN(e._indexes,n._indexes,r._indexes);return i?this._modules.graph.nodeList(new Uint32Array(i)).dedupe():this._modules.graph.nodeList()}getAllSimpleCycles(e,t){const n=t.getSource(),r=t.getTarget();return new SN(e._indexes,n._indexes,r._indexes).getCycles().map(i=>this._modules.graph.nodeList(new Uint32Array(i)))}minimumSpanningTree(e,t,n){const r=this._modules.graph;e=r.getNodes(e),t=r.getEdges(t);const i=new Set;e.forEach(l=>i.add(l._index));const s=r.getConnectedComponents(e,{filter:l=>i.has(l),internalIndexes:!0}),o={};s.forEach((l,c)=>l.forEach(d=>o[d]=c));const a=[];return t.forEach(l=>{const c=o[l.getSource()._index];c!==void 0&&(a[c]===void 0&&(a[c]=[]),a[c].push(l._index))}),s.map((l,c)=>{const d=kN(l,a[c]||[],u=>r.edge(u).getSource()._index,u=>r.edge(u).getTarget()._index,n?u=>n(r.edge(u)):void 0);return{nodes:r.nodeList(new Uint32Array(l)),edges:r.edgeList(new Uint32Array(d))}})}bfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.unshift(d)})}}}dfs({root:e,onNode:t,onEdge:n=ft,directed:r=!1}){const i=this._modules.graph,s=[e],o=new Set,a={direction:r?"out":"both"};for(;s.length;){const l=s.pop();if(!o.has(l._index)){if(t(l)===!0)return;o.add(l._index),i.getAdjacentEdges(l,a).forEach(c=>{if(n(c)===!1)return;const d=c.getSource()===l?c.getTarget():c.getSource();s.push(d)})}}}betweenness({nodes:e,edges:t,directed:n,normalized:r}){const i=this._ogma.getNodes().subtract(e),s=this._ogma.getEdges().subtract(t).concat(i.fastGetAdjacentElements().edges).dedupe();return AN({adjacency:e.map(o=>{const a=this._ogma.edgeList(this._ogma.modules.graph.topology.getAdjacentElements(!1,o.toList()._indexes,{direction:n?"out":"both"})).subtract(s).dedupe();return{id:o._index,adj:a.map(l=>l.getSource()._index===o._index?l.getTarget()._index:l.getSource()._index)}}),directed:n,normalized:r})}},K2=(e,t)=>{if(!e)throw new Error("Traversal options are required");if(typeof e.onNode!="function")throw new Error("onNode callback is required");if(e.root=t.getNode(e.root),!e.root)throw new Error(`Root node '${e.root}' does not exist`);return e},hh=()=>({nodes:void 0,edges:void 0}),X7=class extends Kt{constructor(){super(...arguments),this.shortestPath=e=>this._ogma.modules.algorithms.shortestPath(e),this.hasCycle=e=>{const{nodes:t,edges:n}=e||hh();return this.detectCycle({nodes:t,edges:n})!==null},this.getAllSimpleCycles=e=>{let{nodes:t,edges:n}=e||hh();return t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0})),this._ogma.modules.algorithms.getAllSimpleCycles(t,n)},this.detectCycle=e=>{let{nodes:t,edges:n}=e||hh();t||(t=this._ogma.getNodes()),n||(n=t.getAdjacentEdges({bothExtremities:!0}));const r=this._ogma.modules.algorithms.detectCycle(t,n);return r.size?r:null},this.minimumSpanningTree=e=>{const{nodes:t,edges:n,edgeCostFunction:r}=e||St(Se({},hh()),{edgeCostFunction:void 0});return this._ogma.modules.algorithms.minimumSpanningTree(t,n,r)},this.dfs=e=>this._ogma.modules.algorithms.dfs(K2(e,this._ogma.modules.graph)),this.bfs=e=>this._ogma.modules.algorithms.bfs(K2(e,this._ogma.modules.graph)),this.betweenness=(e={})=>(e={nodes:e.nodes||this._ogma.getNodes(),edges:e.edges||this._ogma.getEdges(),directed:e.directed!==void 0&&e.directed,normalized:e.normalized===void 0||e.normalized},this._ogma.modules.algorithms.betweenness(e)),this.getMinimumEnclosingCircle=e=>{if(!e||e.size===0)throw new Error("getMinimumEnclosingCircle: no nodes provided");const t=e.getAttribute("x"),n=e.getAttribute("y"),r=e.getAttribute("radius"),[i,s,o]=Zp(t,n,r);return{x:i,y:s,radius:o}},this.circlePack=({nodes:e,margin:t=0,origin:n={x:0,y:0},duration:r=0,easing:i="linear",sort:s})=>{if(!e||e.size===0)throw new Error("circlePack: no nodes provided");let o=e.map((l,c)=>({index:c,radius:+l.getAttribute("radius")+t,id:l.getId()}));if(s)if(s==="asc")o=o.sort((l,c)=>c.radius-l.radius);else if(s==="desc")o=o.sort((l,c)=>l.radius-c.radius);else{if(typeof s!="function")throw new Error("circlePack: invalid sort option");o=o.sort((l,c)=>s(e.get(l.index),e.get(c.index)))}if(n&&(!isFinite(n.x)||!isFinite(n.y)))throw new Error("circlePack: invalid origin");const a=hN(o,n.x,n.y).reduce((l,{index:c,x:d,y:u})=>(l[c]={x:d,y:u},l),new Array(e.size));return e.setAttributes(a,{duration:r,easing:i})}}},Y7=class{getHoveredElement(){return this.modules.captor.getPointedElement()}getPointerInformation(){return this.modules.captor.getCursorInformation()}},q7=class extends Kt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.geo.enable(e),this.disable=e=>this._ogma.modules.geo.disable(e),this.setOptions=e=>this._ogma.modules.geo.setOptions(e),this.getOptions=()=>this._ogma.modules.geo.getOptions(),this.getMap=()=>this._ogma.modules.geo.getMap(),this.enabled=()=>this._ogma.modules.geo.isEnabled(),this.getCenter=()=>this._ogma.modules.geo.getCenter(),this.getView=()=>this._ogma.modules.geo.getView(),this.getZoom=()=>this._ogma.modules.geo.getZoom(),this.setZoom=e=>this._ogma.modules.geo.setZoom(e),this.setView=(e,t,n)=>this._ogma.modules.geo.setView(e,t,n),this.setCenter=(e,t)=>this._ogma.modules.geo.setCenter(e,t),this.toggle=e=>this._ogma.modules.geo.toggle(e),this.resetCoordinates=()=>this._ogma.modules.geo.resetCoordinates(),this.getUnprojectedCoordinates=e=>this._ogma.modules.geo.getUnprojectedCoordinates(this._ogma.getNodes(e))}},Z7=class extends Kt{constructor(){super(...arguments),this.isKeyPressed=e=>this._ogma.modules.keyboard.isPressed(e),this.resetKeys=()=>{this._ogma.modules.keyboard.resetKeys()}}},Q7=class extends Kt{addLayer(e,t){return this._ogma.modules.layers.addLayer(e,"layer",t)}addCanvasLayer(e,t,n){return this._ogma.modules.layers.addCanvasLayer(e,t,n)}addOverlay(e,t){if(!e.position)throw new Error("options.position argument is required");return this._ogma.modules.layers.addOverlay(e,t)}addSVGLayer(e,t){return e.element||(e.element=document.createElementNS("http://www.w3.org/2000/svg","svg")),e.draw||(e.draw=()=>{}),this._ogma.modules.layers.addSVGLayer(e,t)}},J2={name:"concentric",configure:function(e,{graph:t,data:n}){if(e.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');const r=St(Se({},e),{centralNode:function(v,w){return w instanceof Qi?w:v.getNode(w)}(t,e.centralNode)}),{centralNode:i,nodes:s}=r,o=t.getNode(i);if(o===void 0)throw new Error('concentric layout: "centralNode" parameter is not valid');const a=o._index,{x:l,y:c}=o.getPosition(),d=s.getAttribute("layoutable"),u=t.getNodes(s)._indexes,h=Array.from(u.filter((x,v)=>d[v]));h.indexOf(a)===-1&&h.push(a);const g=t.getNodeAttribute("radius").getMultiple(u),p=function(v,w,b,S){if(w)return w==="random"?"random":w==="radius"?S.slice():w==="degree"?b.getDegree():v.getProperty(b,w)}(n,r.sortBy,s,g),m=h.reduce((x,v,w)=>(x[v]=w,x),{}),_=h.map((x,v)=>v),y=new Set(e.edges.getExtremities()._indexes),f=h.map(x=>t.topology.getAdjacentElements(!0,new Uint32Array([x])).filter(v=>y.has(v)).map(v=>m[v]));return{sourceNodeIndex:h.indexOf(a),centerX:typeof r.centerX=="number"?r.centerX:l,centerY:typeof r.centerY=="number"?r.centerY:c,list:h,indexes:_,size:h.length,totalSize:h.length,attributes:{adjacentNodes:f,size:g},sortAttr:p,clockwise:r.clockwise===void 0||r.clockwise,circleHopRatio:r.circleHopRatio||5,allowOverlap:!!r.allowOverlap}},context:function(){return{dijkstra:function(e,t,n,r,i){const s=Math.pow(2,31)-1,o=new Int32Array(r),a=new Int32Array(r),l=new Int8Array(r);o.fill(s),a.fill(-1);for(let d=0;d<r;++d){const u=t[d];u!==void 0&&(o[u]=s,a[u]=-1)}o[i]=0;let c=0;for(;c!==-1;){let d=s;c=-1;for(let u=0;u<n;++u){const h=t[u],g=o[h];!l[h]&&g<d&&(d=g,c=h,l[h]=1)}if(c>-1){const u=e[c],h=d+1;u.forEach(g=>{const p=o[g];h<p&&(o[g]=h,a[g]=c)})}}return o},determinePropertyType:function(e,t,n){return t.some(r=>e[r]!=="number")?"string":"number"}}},update:function(e,t){const{attributes:n,indexes:r,size:i}=e,{sourceNodeIndex:s,centerX:o,centerY:a,sortAttr:l}=e,c=n.adjacentNodes,d=n.size,u=new Array(e.totalSize),h=new Array(e.totalSize),g=t.dijkstra(c,r,e.size,e.totalSize,s);let p=0;const m={};for(let b=0;b<i;b++){const S=d[r[b]];S>p&&(p=S)}const _=p*e.circleHopRatio;let y=0,f=0;const x=Math.PI/9;for(let b=0;b<i;b++){const S=r[b],k=g[S];let C=m[k];C||(C=[],m[k]=C),C.push(S)}const v=function(S,k,C){if(S==="random")return function(){return Math.random()-.5};if(S)return C.determinePropertyType(S,k,k.length)==="number"?function(A,N){return S[A]-S[N]}:function(A,N){return S[A]<S[N]?-1:1}}(l,r,t),w=l==="random"||l;return Object.keys(m).sort((b,S)=>parseInt(b)-parseInt(S)).forEach((b,S)=>{const k=m[b],C=k.length;let A=0,N=f;const R=2*Math.PI/C;if(S!==0&&!e.allowOverlap){const B=2*Math.PI*y;let W=0;A+=k.reduce((F,T)=>F+d[T],0),W=2*A*Math.SQRT2,W>B&&(y+=W/(2*Math.PI)-y)}w&&(k.sort(v),e.clockwise||k.reverse());for(let B=0;B<C;B++){const W=k[B];u[W]=Math.cos(N)*y+o,h[W]=Math.sin(N)*y+a;const F=d[W];N+=R*(e.allowOverlap?1:F/A*C)}y+=_,f+=x}),{x:u,y:h,indexes:e.list}},isRunning:function(){return!1},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}}},K7=e=>(e.modules.layouts.register(J2),t=>e.modules.layouts.start(J2.name,t)),Rv=Object.defineProperty,J7=Object.defineProperties,eH=Object.getOwnPropertyDescriptors,ek=Object.getOwnPropertySymbols,tH=Object.prototype.hasOwnProperty,nH=Object.prototype.propertyIsEnumerable,Cl=Math.pow,tk=(e,t,n)=>t in e?Rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J_=(e,t)=>{for(var n in t||(t={}))tH.call(t,n)&&tk(e,n,t[n]);if(ek)for(var n of ek(t))nH.call(t,n)&&tk(e,n,t[n]);return e},rH=(e,t)=>J7(e,eH(t)),Me=(e,t)=>Rv(e,"name",{value:t,configurable:!0}),Pl=(e,t)=>{for(var n in t)Rv(e,n,{get:t[n],enumerable:!0})},ey={};Pl(ey,{default:()=>Ov,initialize:()=>jP});var zP=class{constructor(e){let t=OP();this.c=1,this.s0=t(" "),this.s1=t(" "),this.s2=t(" "),this.s0-=t(String(e)),this.s0<0&&(this.s0+=1),this.s1-=t(String(e)),this.s1<0&&(this.s1+=1),this.s2-=t(e),this.s2<0&&(this.s2+=1),t=null}next(){return()=>{const e=2091639*this.s0+23283064365386963e-26*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=0|e)}}nextDouble(){const e=this.next();return()=>e()+11102230246251565e-32*(2097152*e()|0)}nextInt32(){const e=this.next();return()=>4294967296*e()|0}};function OP(){let e=4022871197;return t=>{t=t.toString();for(let n=0;n<t.length;n++){e+=t.charCodeAt(n);let r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 23283064365386963e-26*(e>>>0)}}function Dv(e){return new zP(e.toString()).next()}Me(zP,"Alea"),Me(OP,"Mash"),Me(Dv,"impl");var iH=42,BP=Dv(iH);function zv(e){BP=Dv(e)}function Gn(){return 1e-6*(BP()-.5)}function Ov(e,t,{sources:n,targets:r,X:i,Y:s,R:o,fx:a,fy:l,degrees:c,weights:d},{edgeStrength:u,edgeLength:h}){for(let g=0;g<t.length;g++){const p=t[g],m=n[p],_=r[p],y=1,f=c[m]+y,x=c[_]+y,v=u*d[p];let w=i[_]+a[_]-i[m]-a[m]||Gn(),b=s[_]+l[_]-s[m]-l[m]||Gn();const S=w*w+b*b,k=Math.sqrt(S),C=h+o[m]+o[_];if(k<=C)continue;const A=C-k,N=1/Math.min(f,x),R=Math.min(1,e*v*(A*A/S)*N);w*=R,b*=R;const B=x/(x+f);a[m]+=w*B,l[m]+=b*B,a[_]-=w*(1-B),l[_]-=b*(1-B)}}Me(zv,"setSeed"),Me(Gn,"randomize"),Me(Ov,"attraction");var jP=Me((e,{edgeIds:t,sources:n,targets:r,degrees:i,weights:s})=>{for(let o=0;o<e.length;o++){const{source:a,target:l,weight:c=1}=e[o];n[o]=a,r[o]=l,s[o]=c,i[a]++,i[l]++,t[o]=o,s[o]=c===void 0?1:c}},"initialize");Ov.initialize=jP;var ty={};function UP(e){for(let t=e.length-1;t>=0;t--){let n=Math.floor(Math.random()*(t+1));n=Math.max(Math.min(n,t),0);const r=e[t];e[t]=e[n],e[n]=r}return e}Pl(ty,{default:()=>Hv,initialize:()=>eF}),Me(UP,"shuffle");var sH=Me(e=>e.x,"getX"),oH=Me(e=>e.y,"getY"),aH=Me(e=>e.r,"getR");function um(e,t=sH,n=oH,r=aH){const i=UP(e.slice()),s=i.length;let o,a=[],l=0;for(;l<s;){const c=i[l];o&&Bv(o,t(c),n(c),r(c))?l++:(a=$P(a,c,t,n,r),o=VP(a,t,n,r),l=0)}return o}function $P(e,t,n,r,i){const s=n(t),o=r(t),a=i(t),l={x:s,y:o,r:a};if(Uh(l,e,n,r,i))return[t];for(let c=0;c<e.length;++c){const d=e[c],u=n(d),h=r(d),g=i(d);if(!bc(l,u,h,g)&&Uh(tl(u,h,g,s,o,a),e,n,r,i))return[e[c],t]}for(let c=0;c<e.length-1;c++)for(let d=c+1;d<e.length;d++){const u=e[c],h=e[d],g=n(u),p=r(u),m=i(u),_=n(h),y=r(h),f=i(h);if(!bc(tl(g,p,m,_,y,f),s,o,a)&&!bc(tl(g,p,m,s,o,a),_,y,f)&&!bc(tl(_,y,f,s,o,a),g,p,m)&&Uh(jv(g,p,m,_,y,f,s,o,a),e,n,r,i))return[e[c],e[d],t]}throw new Error}function bc(e,t,n,r){const i=e.r-r,s=t-e.x,o=n-e.y;return i>=0&&i*i>s*s+o*o}function Bv(e,t,n,r){const i=e.r-r+1e-6,s=t-e.x,o=n-e.y;return i>0&&i*i>s*s+o*o}function Uh(e,t,n,r,i){for(let s=0;s<t.length;++s){const o=t[s];if(!Bv(e,n(o),r(o),i(o)))return!1}return!0}function VP(e,t,n,r){return e.length===1?GP(t(e[0]),n(e[0]),r(e[0])):e.length===2?tl(t(e[0]),n(e[0]),r(e[0]),t(e[1]),n(e[1]),r(e[1])):jv(t(e[0]),n(e[0]),r(e[0]),t(e[1]),n(e[1]),r(e[1]),t(e[2]),n(e[2]),r(e[2]))}function GP(e,t,n){return{x:e,y:t,r:n}}function tl(e,t,n,r,i,s){const o=r-e,a=i-t,l=s-n,c=Math.sqrt(o*o+a*a);return{x:(e+r+o/c*l)/2,y:(t+i+a/c*l)/2,r:(c+n+s)/2}}function jv(e,t,n,r,i,s,o,a,l){const c=e-r,d=e-o,u=t-i,h=t-a,g=s-n,p=l-n,m=e*e+t*t-n*n,_=m-r*r-i*i+s*s,y=m-o*o-a*a+l*l,f=d*u-c*h,x=(u*y-h*_)/(2*f)-e,v=(h*g-u*p)/f,w=(d*_-c*y)/(2*f)-t,b=(c*p-d*g)/f,S=v*v+b*b-1,k=2*(n+x*v+w*b),C=x*x+w*w-n*n,A=-(S?(k+Math.sqrt(k*k-4*S*C))/(2*S):C/k);return{x:e+x+v*A,y:t+w+b*A,r:A}}Me(um,"med"),Me($P,"extend"),Me(bc,"contains"),Me(Bv,"containsWeak"),Me(Uh,"containsWeakAll"),Me(VP,"enclose"),Me(GP,"from1"),Me(tl,"from2"),Me(jv,"from3");var jo=[0,1],$h=[0,2];for(let e=4;e<65535;e<<=2)for(let t=0,n=jo.length;t<n;t++)jo.push(jo[t]|e),$h.push((jo[t]|e)<<1);function HP(e,t){return($h[255&t]|jo[255&e])+65536*($h[t>>8&255]|jo[e>>8&255])+4294967296*($h[t>>16&255]|jo[e>>16&255])}function WP(e,t){let n=e^t,r=65535^n,i=65535^(e|t),s=e&(65535^t),o=n|r>>1,a=n>>1^n,l=i>>1^r&s>>1^i,c=n&i>>1^s>>1^s;n=o,r=a,i=l,s=c,o=n&n>>2^r&r>>2,a=n&r>>2^r&(n^r)>>2,l^=n&i>>2^r&s>>2,c^=r&i>>2^(n^r)&s>>2,n=o,r=a,i=l,s=c,o=n&n>>4^r&r>>4,a=n&r>>4^r&(n^r)>>4,l^=n&i>>4^r&s>>4,c^=r&i>>4^(n^r)&s>>4,n=o,r=a,i=l,s=c,l^=n&i>>8^r&s>>8,c^=r&i>>8^(n^r)&s>>8,n=l^l>>1,r=c^c>>1;let d=e^t,u=r|65535^(d|n);return d=16711935&(d|d<<8),d=252645135&(d|d<<4),d=858993459&(d|d<<2),d=1431655765&(d|d<<1),u=16711935&(u|u<<8),u=252645135&(u|u<<4),u=858993459&(u|u<<2),u=1431655765&(u|u<<1),(u<<1|d)>>>0}Me(HP,"morton"),Me(WP,"hilbert");var XP=1024,vi=new Uint32Array(XP);function YP(e,t){const n=new Uint32Array(t.length);for(let i=0;i<XP;i++)vi[i]=0;const r=255;for(let i=0;i<t.length;i++){const s=t[i];vi[s&r]++,vi[256+(s>>8&r)]++,vi[512+(s>>16&r)]++,vi[768+(s>>24&r)]++}for(let i=0;i<4;i++){let s=0,o=0;const a=256*i;for(let l=0;l<256;l++)s=vi[l+a],vi[l+a]=o,o+=s}for(let i=0;i<t.length;i++){const s=t[i];n[vi[s&r]++]=i}for(let i=0;i<t.length;i++){const s=n[i],o=t[s];e[vi[256+(o>>8&r)]++]=s}for(let i=0;i<t.length;i++){const s=e[i],o=t[s];n[vi[512+(o>>16&r)]++]=s}for(let i=0;i<t.length;i++){const s=n[i],o=t[s];e[vi[768+(o>>24&r)]++]=s}}Me(YP,"radixSort");var Zo=class{constructor(e,t,n,r){this.left=null,this.right=null,this.data=null,this.code=e,this.data=t,this.left=n,this.right=r}};function qP(e,t,n,r,i){const s=new Zo(null,null,null,null),o=[s],a=[r,i];for(;o.length!==0;){const l=a.pop(),c=a.pop(),d=o.pop();if(l-c==0)d.code=n[c],d.data=e[t[c]];else{const u=Uv(t,n,c,l);d.code=u,c<=u&&(d.left=new Zo(null,null,null,null),o.push(d.left),a.push(c,u)),l>u&&(d.right=new Zo(null,null,null,null),o.push(d.right),a.push(u+1,l))}}return s}function ZP(e,t,n,r,i,s){const o=new Zo(null,null,null,null),a=[o],l=[r,i];for(;a.length!==0;){const c=l.pop(),d=l.pop(),u=a.pop();if(c-d<s){const h=new Array(c-d+1);for(let g=d,p=0;g<=c;g++,p++)h[p]=e[t[g]];u.code=n[d],u.data=h}else{const h=Uv(t,n,d,c);u.code=h,d<=h&&(u.left=new Zo(null,null,null,null),a.push(u.left),l.push(d,h)),c>h&&(u.right=new Zo(null,null,null,null),a.push(u.right),l.push(h+1,c))}}return o}Me(Zo,"Node"),Me(qP,"buildIterative"),Me(ZP,"buildIterativeBuckets");var nk=Math.clz32||Me(function(t){let n=-2147483648;for(let r=0;r<31;r+=1){if(n&t)return r;n>>>=1}return 32},"clz");function Uv(e,t,n,r){const i=t[e[n]],s=t[e[r]];if(i===s)return n;const o=nk(i^s);let a,l,c,d=n,u=r-n;do u=u+1>>1,a=d+u,a<r&&(l=t[e[a]],c=nk(i^l),c>o&&(d=a));while(u>1);return d}Me(Uv,"findSplit");var QP,KP,$v,Vv,JP,ri,ny,ry,iy,Gv=class{constructor(e,{getX:t,getY:n,bucketSize:r=0,sfc:i=1}={}){this.bucketSize=0,this._root=null;const s=e.length,o=new Uint32Array(s);let a=1/0,l=1/0,c=-1/0,d=-1/0;this._x=t,this._y=n;const u=i===1?WP:HP;this._project=u;const h=new Uint32Array(s);for(let m=0;m<s;m++){const _=e[m],y=t(_),f=n(_);y<a&&(a=y),f<l&&(l=f),y>c&&(c=y),f>d&&(d=f),h[m]=m}this._minX=a,this._minY=l,this._maxX=c,this._maxY=d;const g=65535/Math.max(c-a,1),p=65535/Math.max(d-l,1);this._hw=g,this._hh=p;for(let m=0;m<s;m++){const _=e[m];o[m]=u(g*(t(_)-a),p*(n(_)-l))}YP(h,o),this._root=r===0?qP(e,h,o,0,s-1):ZP(e,h,o,0,s-1,r),this.bucketSize=r}get root(){return this._root}inOrder(e,t){let n=this._root;const r=[];let i=!1;for(;!i;)if(n)r.push(n),n=n.left;else if(r.length!==0){if(n=r.pop(),e.call(t,n))break;n=n.right}else i=!0;return this}preOrder(e,t){const n=[this._root];for(;n.length!==0;){const r=n.pop();e.call(t,r)||(r.right&&n.push(r.right),r.left&&n.push(r.left))}return this}postOrder(e,t){const n=[];let r,i=this._root;do{for(;i;)i.right&&n.push(i.right),n.push(i),i=i.left;i=n.pop(),r=n.length-1,i.right&&n[r]===i.right?(n[r]=i,i=i.right):(e.call(t,i),i=null)}while(n.length!==0);return this}map(e,t){const n=[];return this.inOrder(r=>{n.push(e.call(t,r))}),n}height(){return Qg(this._root)}toString(e=t=>t.code.toString()){const t=[];return Kg(this._root,"",!0,n=>t.push(n),e),t.join("")}size(){let e=0;return this.preOrder(()=>{e++}),e}destroy(){return this._root=null,this}};function Qg(e){return e?1+Math.max(Qg(e.left),Qg(e.right)):0}function Kg(e,t,n,r,i){if(e){r(t+(n?"^-- ":"|-- ")+i(e)+`
`);const s=t+(n?"    ":"|   ");e.left&&Kg(e.left,s,!1,r,i),e.right&&Kg(e.right,s,!0,r,i)}}Me(Gv,"BVH"),Me(Qg,"treeHeight"),Me(Kg,"row");var Vh=0;function Hv(e,t,n,{X:r,Y:i,R:s,bucketSize:o}){Vh=e,n===null&&(n=new Gv(t,{getX:$v,getY:Vv,bucketSize:o})).postOrder(QP);const a=t.length;for(let l=0;l<a;l++)ri=t[l],ny=r[ri],ry=i[ri],iy=s[ri],n.preOrder(KP);return n}Me(Hv,"repulsion");var lH=Me(({fx:e,fy:t,X:n,Y:r,R:i,masses:s,bucketSize:o},{charge:a,theta:l})=>c=>{let d=0,u=0,h=ny-c.cx||Gn(),g=ry-c.cy||Gn(),p=h*h+g*g,m=iy+c.r;const _=c.data;if(_!==null){if(_===ri)return!1;if(o!==0){const y=_;for(let f=0;f<y.length;f++){const x=y[f];x!==ri&&(h=ny-n[x]||Gn(),g=ry-r[x]||Gn(),p=h*h+g*g,m=iy+i[x],p<1&&(p=Math.sqrt(1*p)),d=a*s[x],u=Vh*d/p,e[ri]+=h*u,t[ri]+=g*u)}}else p<1&&(p=Math.sqrt(1*p)),d=a*c.mass,u=Vh*d/p,e[ri]+=h*u,t[ri]+=g*u}else{const y=m/l;if(p>y*y)return p<1&&(p=Math.sqrt(1*p)),d=a*c.mass,u=Vh*d/p,e[ri]+=h*u,t[ri]+=g*u,!0}},"getApplyForce"),cH=Me(({X:e,Y:t,R:n,masses:r,bucketSize:i})=>s=>{let o,a,l=0,c=0,d=0,u=0;const h=s.data;if(h!==null)if(i!==0){const g=h,p=um(g,$v,Vv,JP);l=p.x,c=p.y,d=p.r;for(let m=0;m<g.length;m++)u+=r[g[m]]}else a=h,l=e[a],c=t[a],d=n[a],u=r[a];else if(s.left&&s.right){const g=s.left.cx,p=s.left.cy,m=s.right.cx,_=s.right.cy,y=s.left.r,f=s.right.r,x=m-g,v=_-p,w=f-y,b=Math.sqrt(x*x+v*v);l=(g+m+x/b*w)/2,c=(p+_+v/b*w)/2,d=(b+y+f)/2,u=s.left.mass+s.right.mass}else o=s.left||s.right,l=o.cx,c=o.cy,d=o.r,u=o.mass;s.cx=l,s.cy=c,s.r=d,s.mass=u},"getAccumulateBodies"),eF=Me((e,t,n)=>{const r=e.length,{X:i,Y:s,R:o,degrees:a,pinned:l,masses:c,nodeIds:d}=t,{scaling:u,defaultRadius:h,bucketSize:g}=n;t.bucketSize=g===void 0?Math.floor(Math.log(r)):g;let p=1/0,m=1/0,_=-1/0,y=-1/0;const f=Math.PI*(3-Math.sqrt(5));let x=0;for(let v=0;v<e.length;v++){const w=e[v];let{x:b,y:S,r:k}=w;const{mass:C}=w;if(isNaN(b)||isNaN(S)){const A=5*Math.sqrt(v),N=v*f;b=A*Math.cos(N),S=A*Math.sin(N)}k=k||h,i[v]=b,s[v]=S,o[v]=k,l[v]=w.pinned?1:0,c[v]=C===void 0?(1+a[v])*u:C,d[v]=v,k>x&&(x=k),b<p&&(p=b),S<m&&(m=S),b>_&&(_=b),S>y&&(y=S)}if(e.length>1&&(_-p<2*x||y-m<2*x)){const v=(p+_)/2,w=(m+y)/2;for(let b=0;b<r;b++)if(!l[b]){const S=5*Math.sqrt(b),k=b*f,C=v+S*Math.cos(k),A=w+S*Math.sin(k);i[b]=C,s[b]=A,C<p&&(p=C),A<m&&(m=A),C>_&&(_=C),A>y&&(y=A)}}$v=Me(v=>i[v],"getX"),Vv=Me(v=>s[v],"getY"),JP=Me(v=>o[v],"getR"),QP=cH(t),KP=lH(t,n)},"initialize");Hv.initialize=eF;var Wv,Xv,tF,nF,rF,oi,Gh,Hh,Wh,dH={};function sy(e,t,n,{X:r,Y:i,R:s,fx:o,fy:a,bucketSize:l},{elasticity:c}){if(c===0)return n;n||(n=new Gv(t,{getX:Wv,getY:Xv,bucketSize:l})).postOrder(nF);for(let d=0;d<t.length;d++)oi=t[d],Gh=r[oi]+o[oi],Hh=i[oi]+a[oi],Wh=s[oi],n.preOrder(rF);return n}Pl(dH,{default:()=>sy}),Me(sy,"collisionForce");var uH=Me(({X:e,Y:t,R:n,bucketSize:r})=>i=>{let s,o,a,l;const c=i.data;if(c!==null)if(r!==0){const d=um(c,Wv,Xv,tF);s=d.x,o=d.y,a=d.r}else{const d=c;s=e[d],o=t[d],a=n[d]}else if(i.left&&i.right){const d=i.left.cx,u=i.left.cy,h=i.right.cx,g=i.right.cy,p=i.left.r,m=i.right.r,_=h-d,y=g-u,f=m-p,x=Math.sqrt(_*_+y*y);s=(d+h+_/x*f)/2,o=(u+g+y/x*f)/2,a=(x+p+m)/2}else l=i.left||i.right,l&&(s=l.cx,o=l.cy,a=l.r);i.cx=s,i.cy=o,i.r=a},"getMeasureBodies"),hH=Me(({X:e,Y:t,R:n,fx:r,fy:i,bucketSize:s},{elasticity:o,margin:a})=>l=>{const c=l.data;if(c===null){const d=l.cx-Gh,u=l.cy-Hh,h=l.r+Wh;return d*d+u*u>h*h}if(s!==0){const d=c;for(let u=0;u<d.length;u++){const h=d[u];if(h>oi){const g=n[h];let p=Gh-e[h]-r[h],m=Hh-t[h]-i[h];const _=Wh+g+a;let y=p*p+m*m;if(y<_*_){p===0&&(p=Gn(),y+=p*p),m===0&&(m=Gn(),y+=m*m);const f=Math.sqrt(y),x=(_-f)*o/f,v=g/_;r[oi]+=p*x*v,i[oi]+=m*x*v,r[h]-=p*x*(1-v),i[h]-=m*x*(1-v)}}}}else{const d=l.data;if(d>oi){const u=n[d];let h=Gh-e[d],g=Hh-t[d];const p=Wh+u+a;let m=h*h+g*g;if(m<p*p){h===0&&(h=Gn(),m+=h*h),g===0&&(g=Gn(),m+=g*g);const _=Math.sqrt(m),y=(p-_)*o/_,f=u/p;r[oi]+=h*y*f,i[oi]+=g*y*f,r[d]-=h*y*(1-f),i[d]-=g*y*(1-f)}}}},"getApplyForce");sy.initialize=(e,t,n)=>{const{X:r,Y:i,R:s}=t;Wv=Me(o=>r[o],"getX"),Xv=Me(o=>i[o],"getY"),tF=Me(o=>s[o],"getR"),nF=uH(t),rF=hH(t,n)};var oy={};function ay(e,t,{X:n,Y:r,fx:i,fy:s},{gravity:o,cx:a,cy:l}){let c=0,d=0;const u=t.length;for(let h=0;h<u;h++)c+=n[h],d+=r[h];c=c/u-a,d=d/u-l;for(let h=0;h<u;h++){const g=t[h],p=a-n[g]||Gn(),m=l-r[g]||Gn(),_=o*e;i[g]+=p*_,s[g]+=m*_}}Pl(oy,{default:()=>ay,initialize:()=>iF}),Me(ay,"center");var iF=Me((e,t,n)=>{const{X:r,Y:i}=t;let s=n.cx,o=n.cy;const a=e.length;if(s===void 0||o===void 0){s=o=0;for(let l=0;l<a;l++)s+=r[l],o+=i[l];s/=a,o/=a}n.cx=s,n.cy=o},"initialize");ay.initialize=iF;var gH={};function Of(e,t,{masses:n,X:r,Y:i,fx:s,fy:o},{charge:a}){const l=t.length;let c,d,u,h,g,p,m,_,y;for(let f=0;f<l;f++){c=t[f];for(let x=f+1;x<l;x++)if(f!==x){if(d=t[x],c===d)continue;u=r[c]-r[d]||Gn(),h=i[c]-i[d]||Gn(),g=u*u+h*h,g<1&&(g=Math.sqrt(1*g)),p=a*n[d],m=e*p/g,_=a*n[c],y=e*_/g,s[c]+=u*m,o[c]+=h*m,s[d]-=u*y,o[d]-=h*y}}}Pl(gH,{default:()=>Of}),Me(Of,"repulsion"),Of.initialize=()=>{};var pH={};function Bf(e,t,{masses:n,X:r,Y:i,R:s,fx:o,fy:a},{friction:l,charge:c}){const d=t.length;for(let u=0;u<d;u++)for(let h=u+1;h<d;h++)if(u!==h){const g=t[u],p=t[h],m=s[g],_=s[p],y=r[g]-r[p]||Gn(),f=i[g]-i[p]||Gn();let x=y*y+f*f,v=+c;x>=(m+_)*(m+_)?v*=n[g]*n[p]:x=l*((m+_)*(m+_));const w=v/x,b=e*y*w,S=e*f*w;o[g]+=b,a[g]+=S,o[p]-=b,a[p]-=S}}function sF(e,t,n){oF(e,t,n),aF(n)}function oF(e,t,{sources:n,targets:r,degrees:i,nodeIds:s,edgeIds:o}){const a={};for(let l=0;l<e.length;l++)a[l]=s[l]=l;for(let l=0;l<t.length;l++){const{source:c,target:d}=t[l],u=a[c],h=a[d];o[l]=l,n[l]=u,r[l]=h,i[u]++,i[h]++}}function aF({nodeIds:e,edgeIds:t,sources:n,targets:r,degrees:i,layer:s,layers:o,component:a,components:l,cluster:c,parent:d}){let u=0,h=1;const g=new Uint32Array(e.length);for(let x=0;x<e.length;x++)g[x]=i[x];const p=new Array(e.length);for(let x=0;x<t.length;x++){const v=t[x],w=n[v],b=r[v];p[w]=p[w]||[],p[b]=p[b]||[],p[w].push(b),p[b].push(w)}const m=new Uint8Array(e.length),_=new Uint8Array(e.length);d.fill(-1);let y=0;for(let x=0;x<e.length;x++)if(m[x]===0){const v=[x];for(;v.length!==0;){const w=v.pop();m[w]===0&&(v.push.apply(v,p[w]),m[w]=1,a[w]=y)}y++}const f=new Array(e.length);for(let x=0;x<e.length;x++)s[x]=0,f[x]=x;for(;f.length!==0;){const x=[],v=[];for(let w=0;w<f.length;w++)g[f[w]]<=u&&(x.push(w),v.push(f[w]));for(let w=0;w<v.length;w++){const b=v[w];_[b]=u,s[b]=h;const S=p[b];if(S)for(let k=0;k<S.length;k++)g[S[k]]--}for(let w=0;w<v.length;w++){const b=v[w],S=p[b];if(S)for(let k=0;k<S.length;k++){const C=S[k],A=s[C];if(A===void 0||A>h){d[b]=C;break}}}x.reverse();for(let w=0;w<x.length;w++)f.splice(x[w],1);if(h+=1,f.length>0){let w=1/0;for(let b=0;b<f.length;b++){const S=g[f[b]];S<w&&(w=S)}w>=u+1&&(u=w,h=1)}}m.fill(0);for(let x=0;x<e.length;x++){const v=e[x],w=s[v];if(d[v]===-1||s[d[v]]===w){const b=[v];for(m.fill(0);b.length!==0;){const S=b.pop();if(m[S])continue;if(s[S]>w){d[v]=S;break}const k=p[S];m[S]=1,k&&b.push.apply(b,k)}}}for(let x=0;x<e.length;x++){const v=e[x],w=a[v];l[w]=l[w]||[],l[w].push(v);const b=s[v]-1;o[b]=o[b]||[],o[b].push(v),c[v]=d[v]}}Pl(pH,{default:()=>Bf}),Me(Bf,"repulsion"),Bf.initialize=()=>{},Me(sF,"default"),Me(oF,"initTopology"),Me(aF,"decomposition");var lF=class{constructor(e,t=!0){this.bucketSize=0;const n=e.nodes.length,r=e.edges.length;zv(n+r),this.X=new Array(n),this.Y=new Array(n),this.R=new Array(n),this.fx=new Float32Array(n),this.fy=new Float32Array(n),this.vx=new Float32Array(n),this.vy=new Float32Array(n),this.pinned=new Uint8Array(n),this.masses=new Float32Array(n),this.weights=new Float32Array(r),this.lengths=new Float32Array(r),this.sources=new Uint32Array(r),this.targets=new Uint32Array(r),this.degrees=new Uint32Array(n),this.layer=new Uint32Array(n),this.parent=new Int32Array(n),this.cluster=new Int32Array(n),this.component=new Uint32Array(n),this.components=[],this.layers=[],this.nodeIds=new Array(n),this.edgeIds=new Array(r),t&&sF(e.nodes,e.edges,this),this.movements=new Array(this.layers.length).fill(0),this.surfaces=new Array(this.layers.length).fill(0),this.movementsPrev=new Array(this.layers.length).fill(0),this.surfacesPrev=new Array(this.layers.length).fill(0)}};function cF(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort((o,a)=>a.h-o.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,s=0;for(const o of e)for(let a=r.length-1;a>=0;a--){const l=r[a];if(!(o.w>l.w||o.h>l.h)){if(o.x=l.x,o.y=l.y,s=Math.max(s,o.y+o.h),i=Math.max(i,o.x+o.w),o.w===l.w&&o.h===l.h){const c=r.pop();a<r.length&&(r[a]=c)}else o.h===l.h?(l.x+=o.w,l.w-=o.w):o.w===l.w?(l.y+=o.h,l.h-=o.h):(r.push({x:l.x+o.w,y:l.y,w:l.w-o.w,h:o.h}),l.y+=o.h,l.h-=o.h);break}}}function dF(e,t=1){return cF(e.map(n=>(n.w+=n.maxr+t,n.h+=n.maxr+t,n)).sort((n,r)=>n.w*n.h-r.w*r.h))}function uF(e,t=20,n,r,i){for(const p of e){const{x:m,y:_,r:y}=um(p.ids,f=>n[f],f=>r[f],f=>i[f]);p.cx=m,p.cy=_,p.radius=y+t}const s=e.slice().sort((p,m)=>p.radius-m.radius),o=s.map(p=>({x:p.cx,y:p.cy,r:p.radius})),a=s.pop();let l=3*Math.PI/2,c=a.radius;const d=2*Math.PI,{cx:u,cy:h}=a,g=[a];for(;s.length!==0;){const p=s[s.length-1],m=c+p.radius,_=u+Math.cos(l)*m,y=h+Math.sin(l)*m;g.some(f=>{const x=f.cx-_,v=f.cy-y;return Math.sqrt(x*x+v*v)<f.radius+p.radius})?c+=1:(p.x=_-p.w/2,p.y=y-p.h/2,p.cx=_,p.cy=y,o[s.length-1].x=_,o[s.length-1].y=y,g.push(s.pop()),l+=(2*p.radius+1)/m*1%d)}}Me(lF,"LayoutData"),Me(cF,"potpack"),Me(dF,"boxpack"),Me(uF,"spiralpack");var hF=class{constructor(){this.ids=[],this.xmin=1/0,this.ymin=1/0,this.xmax=-1/0,this.ymax=-1/0,this.x=0,this.y=0,this.w=0,this.h=0,this.cx=0,this.cy=0,this.radius=0,this.mx=0,this.my=0,this.m=0,this.maxr=0}add(e,t,n,r){this.ids.push(e),t-r<this.xmin&&(this.xmin=t-r),n-r<this.ymin&&(this.ymin=n-r),t+r>this.xmax&&(this.xmax=t+r),n+r>this.ymax&&(this.ymax=n+r),r>this.maxr&&(this.maxr=r),this.mx+=r*t,this.my+=r*n,this.m+=r}measure(e=0){return this.w=this.xmax-this.xmin+2*e,this.h=this.ymax-this.ymin+2*e,this.cx=this.mx/this.m,this.cy=this.my/this.m,this.x=this.xmin,this.y=this.ymin,this.radius=Math.sqrt(this.w*this.w+this.h*this.h)/2,this}};function gF(e,t){return e<t?e*t+Math.pow(t-e-1,2)/4:e*t+Math.pow(e-t-1,2)/4}function pF(e,t){return(e+t)*(e+t+1)/2+t}function mF({edgeIds:e,sources:t,targets:n,pinned:r,degrees:i,X:s,Y:o,R:a},l=0,c=.5){const d={},u={};for(const h of e){const g=t[h],p=n[h];g!==p&&(d[g]=d[g]||{},d[p]=d[p]||{},d[g][p]=!0,d[p][g]=!0)}Object.keys(d).forEach(h=>{const g=Number(h),p=Object.keys(d[Number(g)]);if(p.length===2){const[m,_]=p,y=gF(Number(m),Number(_));y in u||(u[y]=[Number(_),Number(m)]),r[g]||u[y].push(g)}}),Object.keys(u).forEach(h=>{const[g,p,...m]=u[Number(h)];if(m.length<3)return;const _=s[g],y=o[g],f=s[p],x=o[p],v=i[g],w=.25+.5*v/(v+i[p]);let b=_+(f-_)*w,S=y+(x-y)*w,k=-(x-y),C=f-_;const A=Math.sqrt(Math.pow(_-f,2)+Math.pow(y-x,2));k=-2*k/A,C=-2*C/A;const N=Math.acos(k/Math.sqrt(k*k+C*C));l>0&&(N<l||N>Math.PI-l&&N<=Math.PI?(k=2*Math.cos(Math.PI-l),C=2*Math.sin(Math.PI-l)):(N>2*Math.PI-l||N>=Math.PI&&N<Math.PI+l)&&(k=2*Math.cos(l),C=2*Math.sin(l)));let R=0,B=1;m.sort((G,q)=>a[q]-a[G]);let W=0,F=0;const T=Math.max(a[m[0]],a[m[1]])/2;m.length%2==1&&(R=1,b-=k*T,S-=C*T);const H=1+c;for(let G=0;G<m.length;G++){const q=(R+G)%2,te=m[G],J=G>=2?a[te]:T,ue=(q?W:F)+J;s[te]=b+k*B*ue,o[te]=S+C*B*ue,q?W+=J*H:F+=J*H,B=-B}})}function fF(e,t,n,r){let i=0;const s=[];for(const o of r){const a=new hF;for(const l of o)a.add(l,e[l],t[l],n[l]);s.push(a.measure()),o.length>s[i].ids.length&&(i=s.length-1)}return{boxes:s,biggest:i}}function _F(e,t,{X:n,Y:r,R:i,components:s,pinned:o,degrees:a,sources:l,targets:c,edgeIds:d},{update:u,onUpdate:h,placement:g,placementOffset:p,alignSiblings:m,siblingsMinAngle:_,siblingsOffset:y}){if(m&&(mF({X:n,Y:r,R:i,degrees:a,pinned:o,sources:l,targets:c,edgeIds:d},_,y),u(e,n,r)),g){const{boxes:f,biggest:x}=fF(n,r,i,s);if(g==="spiral")uF(f,p,n,r,i);else{if(g!=="box")return;dF(f,p)}const v=f[x].xmin-f[x].x,w=f[x].ymin-f[x].y;for(const b of f){const{xmin:S,ymin:k,x:C,y:A,ids:N}=b,R=S-C-v,B=k-A-w;for(const W of N)n[W]-=R,r[W]-=B}u(e,n,r),h()}}Me(hF,"Component"),Me(gF,"unorderedPair"),Me(pF,"orderedPair"),Me(mF,"alignSiblings"),Me(fF,"groupAndMeasure"),Me(_F,"postprocessing");var rk=0,yF=typeof window>"u",mH=typeof performance<"u"&&performance.now?performance:Date,fH=yF?e=>{const t=mH.now(),n=Math.max(0,16-(t-rk)),r=setTimeout(()=>e(t+n),n);return rk=t+n,r}:window.requestAnimationFrame,_H=yF?e=>clearTimeout(e):window.cancelAnimationFrame;function xF(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.x=t[r],i.y=n[r]}}Me(xF,"defaultUpdate");var ik=Me(e=>{},"noop"),jf={movementRatio:7e-8,surfaceRatio:.0025},vF=class{constructor(e={}){this.onUpdate=ik,this.update=xF,this.nextTick=fH,this.cancelTick=_H,this.onEnd=ik,this.charge=10,this.maxIterations=300,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=1,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=300,this.scaling=1,this.defaultRadius=1,this.autoStop=jf,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in e?e.autoStop&&(typeof e.autoStop=="boolean"?e.autoStop=jf:e.autoStop=J_(J_({},e.autoStop),jf)):e.steps;for(const t in e)e[t]!==void 0&&(this[t]=e[t])}};Me(vF,"Settings");var bF=class{constructor(e){this.promise=new Promise(e)}then(e){return this.promise.then(e)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};Me(bF,"SimulationPromise");var yH={5126:"uniform1f",35664:"uniform2fv",35665:"uniform3fv",35666:"uniform4fv",5124:"uniform1i",35667:"uniform2iv",35668:"uniform3iv",35669:"uniform4iv",35674:"uniformMatrix2fv",35675:"uniformMatrix3fv",35676:"uniformMatrix4fv",35678:"uniform1i",36298:"uniform1i",36306:"uniform1i",35680:"uniform1i"},sk=Me((e,t,n)=>{const r=e.createShader(t);if(r===null)throw new Error("Cannot create WebGL shader.");return e.shaderSource(r,n),e.compileShader(r),r},"createShader"),xH=Me((e,t,n)=>{const r=e.createProgram();if(r===null)throw new Error("Cannot create WebGL program.");if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)){const i=e.getProgramInfoLog(r);throw e.deleteProgram(r),new Error(`Could not link WebGL program: 
${i}`)}return r},"createProgram"),ou=Me((e,{size:t,data:n,type:r,internalFormat:i=e.RGBA32F,format:s=e.RGBA})=>{const o=e.createTexture();if(!o)throw new Error("Cannot create WebGL texture.");const[a,l]=t;return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,i,a,l,0,s,r,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),{size:t,data:n,type:r,format:s,handle:o}},"createTexture"),vH=Me((e,t)=>{const n=e.createFramebuffer();if(!n)throw new Error("Cannot create WebGL frame buffer.");e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE)switch(r){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw new Error("Framebuffer: Attachment is NOT complete.");case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw new Error("Framebuffer: No valid attachment.");case e.FRAMEBUFFER_UNSUPPORTED:throw new Error("Framebuffer: Attachment types are not supported.");default:throw new Error(`Framebuffer: Unknown reason (status: ${r}).`)}return{buffer:n,handle:t}},"createFramebuffer"),bH=Me((e,t,n)=>{e.useProgram(t);const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){const o=e.getActiveUniform(t,s);if(!o)throw new Error(`Cannot get GL active uniform ${s}.`);const{name:a,size:l,type:c}=o,d=e.getUniformLocation(t,a);if(!d)throw new Error(`Cannot get GL uniform location ${a}.`);r[a]={size:l,data:n[a],type:c,location:d}}return r},"createUniforms");function wF(e,t,n){let r=0;return Object.entries(t).forEach(([i,{location:s,type:o,data:a}])=>{let l=n[i]!==void 0?n[i]:a;o!==e.SAMPLER_2D&&o!==e.INT_SAMPLER_2D&&o!==e.UNSIGNED_INT_SAMPLER_2D||(e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,l),l=r,r++),e[yH[o]](s,l)})}Me(wF,"bindUniforms");var wH=Me((e,t,n)=>Object.entries(n).reduce((r,[i,s])=>{const o=e.createBuffer(),a=e.getAttribLocation(t,i);return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),r[i]={data:s,buffer:o,location:a},r},{}),"createAttributeLocs"),EH=`#version 300 es
precision lowp float;precision lowp sampler2D;precision lowp usampler2D;
#define GLSLIFY 1
uniform float charge;uniform vec2 center;uniform float gravity;uniform float edgeStrength;uniform float edgeLength;uniform float elasticity;uniform float margin;uniform float alpha;uniform float inertia;uniform float maxDisplacementSq;uniform int N;uniform sampler2D body;uniform usampler2D node;uniform usampler2D topology;uniform sampler2D property;const float PAIR_ATTRACTION_COEFFICIENT=2.0;out vec4 outColor;float randomSeedShift=1.0;float slide=1.0;float randomSeed1=90.0909;float randomSeed2=3.14159;float nrand(vec2 n){float result=fract(sin(dot((n.xy+1.0)*vec2(randomSeed1*slide,randomSeed2*randomSeedShift),vec2(12.9898,78.233)))*43758.5453);randomSeedShift=result;if(randomSeedShift>0.5){slide+=0.00009;}else{slide+=0.0009;}return result;}void main(){ivec2 bodySize=textureSize(body,0);ivec2 topologySize=textureSize(topology,0);ivec2 targetMatrixCoord=ivec2(gl_FragCoord.xy);int targetIndex=bodySize.x*targetMatrixCoord.y+targetMatrixCoord.x;if(targetIndex>=N)return;vec3 targetProperty=texelFetch(property,targetMatrixCoord,0).xyz;if(targetProperty.z>0.f)return;vec4 targetBody=texelFetch(body,targetMatrixCoord,0).xyzw;vec2 targetPosition=targetBody.xy;vec2 targetVelocity=targetBody.zw;ivec4 targetNode=ivec4(texelFetch(node,targetMatrixCoord,0).xyzw);float targetDegree=float(targetNode.z)+1.f;ivec2 sourceMatrixCoord=ivec2(0);for(int sourceIndex=0;sourceIndex<N;sourceIndex++){if(sourceIndex==targetIndex)continue;vec2 diff=texelFetch(body,sourceMatrixCoord,0).xy-targetPosition;float distSq=dot(diff,diff);if(distSq<1e-2){diff.x=1e-9*(nrand(vec2(sourceMatrixCoord))-.5);diff.y=1e-9*(nrand(vec2(sourceMatrixCoord))-.5);distSq=1e-2;}if(elasticity>0.&&alpha<0.2){vec3 sourceProperty=texelFetch(property,sourceMatrixCoord,0).xyz;float targetDelta=max(targetProperty.y+sourceProperty.y+margin,1e-2);if(distSq<targetDelta*targetDelta){float dist=sqrt(distSq);targetVelocity-=((targetDelta-dist)*elasticity)*sourceProperty.y/targetDelta*diff/dist;}}float sourceDegree=float(texelFetch(node,sourceMatrixCoord,0).z)+1.f;targetVelocity-=alpha*charge*PAIR_ATTRACTION_COEFFICIENT*sourceDegree*targetDegree*diff/distSq/targetProperty.x;sourceMatrixCoord.x+=1;if(sourceMatrixCoord.x>=bodySize.x){sourceMatrixCoord.x=0;sourceMatrixCoord.y+=1;}}sourceMatrixCoord=ivec2(0);for(int sourceIndex=0;sourceIndex<targetNode.z;sourceIndex++){sourceMatrixCoord=ivec2(texelFetch(topology,targetNode.xy,0).xy);vec2 diff=texelFetch(body,sourceMatrixCoord,0).xy-targetPosition;diff*=1.f-(edgeLength+targetProperty.y+texelFetch(property,sourceMatrixCoord,0).y)/(length(diff)+1e-4f);float sourceDegree=float(texelFetch(node,sourceMatrixCoord,0).z)+1.f;float K=alpha*edgeStrength*targetDegree*sourceDegree/(min(targetDegree,sourceDegree)*(sourceDegree+targetDegree));targetVelocity+=min(1.,K)*diff/targetProperty.x;targetNode.x+=1;if(targetNode.x>=topologySize.x){targetNode.x=0;targetNode.y+=1;}}targetVelocity=inertia*(targetVelocity-alpha*gravity*(targetPosition-center));float velSq=dot(targetVelocity,targetVelocity);if(velSq>maxDisplacementSq)targetVelocity*=sqrt(maxDisplacementSq/velSq);outColor=vec4(targetPosition+targetVelocity,targetVelocity);}`,SH=`#version 300 es
#define GLSLIFY 1
in vec2 position;void main(){gl_Position=vec4(position,0.0f,1.0f);}`,kH=2,AH=Me((e,{N:t,bodyTexture:n,nodeTexture:r,topologyTexture:i,propertyTexture:s},{charge:o,center:a,gravity:l,inertia:c,steps:d,edgeStrength:u,edgeLength:h,elasticity:g,margin:p,onStart:m,onStop:_,onTick:y,maxDisplacement:f,batch:x})=>{let v=-1,w=0;const b=Me(()=>{v>-1||(m(w),T())},"start"),S=Me(()=>{v!==-1&&(cancelAnimationFrame(v),v=-1,_(w),w=0)},"stop"),k=ou(e,{type:e.FLOAT,size:n.size,data:new Float32Array(n.data.buffer.slice(0)),format:e.RGBA,internalFormat:e.RGBA32F}),C=sk(e,e.VERTEX_SHADER,SH),A=sk(e,e.FRAGMENT_SHADER,EH),N=xH(e,C,A),R=[k,n].map(({handle:H})=>vH(e,H)),B=wH(e,N,{position:new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])}),W=R.map((H,G)=>{const q=G===0?n:k;return bH(e,N,{alpha:1,inertia:c,maxDisplacementSq:Cl(f,2),charge:o,center:a,gravity:l,edgeStrength:u,edgeLength:h,elasticity:g,margin:p,N:t,body:q.handle,node:r.handle,topology:i.handle,property:s.handle})});e.viewport(0,0,n.size[0],n.size[1]);const F=Me(()=>{for(let H=0;H<R.length;H++)e.bindFramebuffer(e.FRAMEBUFFER,R[H].buffer),e.viewport(0,0,n.size[0],n.size[1]),e.bindBuffer(e.ARRAY_BUFFER,B.position.buffer),e.enableVertexAttribArray(B.position.location),e.vertexAttribPointer(B.location,2,e.FLOAT,!1,0,0),e.useProgram(N),wF(e,W[H],{alpha:w<d-20?1-Cl(w/(d-20),Math.exp(kH)):.01}),e.drawArrays(e.TRIANGLES,0,6);y(w),w++},"step"),T=Me(()=>{for(let H=0;H<Math.max(1,x);H++)F();v=requestAnimationFrame(T),w>=d&&S()},"frame");return{start:b,step:F,stop:S}},"simulation"),CH=AH,hm=Me(e=>Math.ceil(Math.sqrt(e)),"computeNodeMatrixSize"),EF=Me(e=>Math.ceil(Math.sqrt(2*e)),"computeTopologyMatrixSize"),TH=Me((e,t,n,r)=>{const i=hm(t),s=new Float32Array(4*Cl(i,2));for(let o=0;o<t;o++){const a=4*o;s[a]=n[o],s[a+1]=r[o]}return ou(e,{size:[i,i],data:s,type:e.FLOAT,format:e.RGBA,internalFormat:e.RGBA32F})},"createBodyTexture"),LH=Me((e,t,n,r)=>{const i=hm(t),s=EF(n),o=new Uint32Array(3*Cl(i,2));let a=0;for(let l=0;l<t;l++){const c=3*l,d=a,u=Math.floor(d/s),h=d%s;o[c]=h,o[c+1]=u,o[c+2]=r[l],a+=r[l]}return ou(e,{size:[i,i],data:o,type:e.UNSIGNED_INT,format:e.RGB_INTEGER,internalFormat:e.RGB32UI})},"createNodeTexture"),NH=Me((e,t,n,r,i)=>{const s=hm(t),o=EF(n),a=new Uint32Array(2*Cl(o,2)),l=new Map;for(let d=0;d<t;d++)l.set(d,[]);r.forEach((d,u)=>{l.get(d).push(i[u]),l.get(i[u]).push(d)});let c=0;for(let d=0;d<t;d++)for(const u of l.get(d)||[]){const h=Math.floor(u/s),g=u%s;a[c]=g,a[c+1]=h,c+=2}return ou(e,{size:[o,o],data:a,type:e.UNSIGNED_INT,format:e.RG_INTEGER,internalFormat:e.RG32UI})},"createTopologyTexture"),IH=Me((e,t,n,r,i)=>{const s=hm(t),o=new Float32Array(4*Cl(s,2));for(let a=0;a<t;a++){const l=4*a;o[l]=n[a],o[l+1]=r[a],o[l+2]=i[a],o[l+3]=0}return ou(e,{size:[s,s],data:o,type:e.FLOAT,format:e.RGBA,internalFormat:e.RGBA32F})},"createPropertyTexture");function Xh(e,t,n={}){var r;let i,s;t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_color_buffer_float")||(r=t.getExtension("WEBGL_lose_context"))==null||r.loseContext();const o=Me((h={nodes:[],edges:[]})=>(i=h.nodes,s=h.edges,zv(pF(i.length,s.length)),new lF(h,!1)),"setGraph"),a=Me((h={})=>new vF(h),"setOptions");let l,c=o(e),d=a(n),u=!1;return ey.initialize(s,c),ty.initialize(i,c,d),oy.initialize(i,c,d),{setOptions:(h={})=>(d=a(h),this),setGraph:h=>(c=o(h),ey.initialize(s,c),ty.initialize(i,c,d),oy.initialize(i,c,d),this),start(){const h=i.length;h===0&&d.onEnd(0);const g=s.length,p=TH(t,h,new Float32Array(c.X),new Float32Array(c.Y)),m=new Float32Array(p.size[0]*p.size[1]*4),_=Me(()=>{t.readPixels(0,0,p.size[0],p.size[1],t.RGBA,t.FLOAT,m);for(let y=0;y<h;y++){const f=i[y];if(f.pinned)return;f.x=c.X[y]=m[4*y],f.y=c.Y[y]=m[4*y+1]}},"updateNodes");return l=CH(t,{N:h,E:g,bodyTexture:p,nodeTexture:LH(t,h,g,c.degrees),topologyTexture:NH(t,h,g,c.sources,c.targets),propertyTexture:IH(t,h,c.masses,new Float32Array(c.R.map(y=>y||1)),c.pinned)},rH(J_({},d),{center:[d.cx,d.cy],onStart:()=>{},onStop:y=>{u||_F(i,s,c,d),u=!0,_(),d.onEnd(y)},onTick:y=>d.onUpdate(y)})),l.start(),this},iterations:()=>1,data:()=>c,stop(){return l&&l.stop(),this},step(h=1){return l&&l.step(),this}}}/**
* @preserve
* @linkurious/force-layout@0.6.7
* Ogma general-purpose force-directed layout
*/function ok(){var e=(()=>{var t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=Math.pow,l=(M,D,P)=>D in M?t(M,D,{enumerable:!0,configurable:!0,writable:!0,value:P}):M[D]=P,c=(M,D)=>{for(var P in D||(D={}))s.call(D,P)&&l(M,P,D[P]);if(i)for(var P of i(D))o.call(D,P)&&l(M,P,D[P]);return M},d=(M,D)=>t(M,"name",{value:D,configurable:!0}),u={};((M,D)=>{for(var P in D)t(M,P,{get:D[P],enumerable:!0})})(u,{IntegratorType:()=>z,default:()=>wt});var h=class{constructor(M){let D=g();this.c=1,this.s0=D(" "),this.s1=D(" "),this.s2=D(" "),this.s0-=D(String(M)),this.s0<0&&(this.s0+=1),this.s1-=D(String(M)),this.s1<0&&(this.s1+=1),this.s2-=D(M),this.s2<0&&(this.s2+=1),D=null}next(){return()=>{const M=2091639*this.s0+23283064365386963e-26*this.c;return this.s0=this.s1,this.s1=this.s2,this.s2=M-(this.c=0|M)}}nextDouble(){const M=this.next();return()=>M()+11102230246251565e-32*(2097152*M()|0)}nextInt32(){const M=this.next();return()=>4294967296*M()|0}};function g(){let M=4022871197;return D=>{D=D.toString();for(let P=0;P<D.length;P++){M+=D.charCodeAt(P);let $=.02519603282416938*M;M=$>>>0,$-=M,$*=M,M=$>>>0,$-=M,M+=4294967296*$}return 23283064365386963e-26*(M>>>0)}}function p(M){return new h(M.toString()).next()}d(h,"Alea"),d(g,"Mash"),d(p,"impl");var m=p(42);function _(M){m=p(M)}function y(){return 1e-6*(m()-.5)}function f(M){for(let D=M.length-1;D>=0;D--){let P=Math.floor(Math.random()*(D+1));P=Math.max(Math.min(P,D),0);const $=M[D];M[D]=M[P],M[P]=$}return M}d(_,"setSeed"),d(y,"randomize"),d(f,"shuffle");var x=d(M=>M.x,"getX"),v=d(M=>M.y,"getY"),w=d(M=>M.r,"getR");function b(M,D=x,P=v,$=w){const X=f(M.slice()),O=X.length;let j,Q=[],K=0;for(;K<O;){const de=X[K];j&&C(j,D(de),P(de),$(de))?K++:(Q=S(Q,de,D,P,$),j=N(Q,D,P,$),K=0)}return j}function S(M,D,P,$,X){const O=P(D),j=$(D),Q=X(D),K={x:O,y:j,r:Q};if(A(K,M,P,$,X))return[D];for(let de=0;de<M.length;++de){const ne=M[de],re=P(ne),le=$(ne),fe=X(ne);if(!k(K,re,le,fe)&&A(B(re,le,fe,O,j,Q),M,P,$,X))return[M[de],D]}for(let de=0;de<M.length-1;de++)for(let ne=de+1;ne<M.length;ne++){const re=M[de],le=M[ne],fe=P(re),ie=$(re),me=X(re),we=P(le),ve=$(le),be=X(le);if(!k(B(fe,ie,me,we,ve,be),O,j,Q)&&!k(B(fe,ie,me,O,j,Q),we,ve,be)&&!k(B(we,ve,be,O,j,Q),fe,ie,me)&&A(W(fe,ie,me,we,ve,be,O,j,Q),M,P,$,X))return[M[de],M[ne],D]}throw new Error}function k(M,D,P,$){const X=M.r-$,O=D-M.x,j=P-M.y;return X>=0&&X*X>O*O+j*j}function C(M,D,P,$){const X=M.r-$+1e-6,O=D-M.x,j=P-M.y;return X>0&&X*X>O*O+j*j}function A(M,D,P,$,X){for(let O=0;O<D.length;++O){const j=D[O];if(!C(M,P(j),$(j),X(j)))return!1}return!0}function N(M,D,P,$){return M.length===1?R(D(M[0]),P(M[0]),$(M[0])):M.length===2?B(D(M[0]),P(M[0]),$(M[0]),D(M[1]),P(M[1]),$(M[1])):W(D(M[0]),P(M[0]),$(M[0]),D(M[1]),P(M[1]),$(M[1]),D(M[2]),P(M[2]),$(M[2]))}function R(M,D,P){return{x:M,y:D,r:P}}function B(M,D,P,$,X,O){const j=$-M,Q=X-D,K=O-P,de=Math.sqrt(j*j+Q*Q);return{x:(M+$+j/de*K)/2,y:(D+X+Q/de*K)/2,r:(de+P+O)/2}}function W(M,D,P,$,X,O,j,Q,K){const de=M-$,ne=M-j,re=D-X,le=D-Q,fe=O-P,ie=K-P,me=M*M+D*D-P*P,we=me-$*$-X*X+O*O,ve=me-j*j-Q*Q+K*K,be=ne*re-de*le,Ee=(re*ve-le*we)/(2*be)-M,Ce=(le*fe-re*ie)/be,ke=(ne*we-de*ve)/(2*be)-D,Ae=(de*ie-ne*fe)/be,Je=Ce*Ce+Ae*Ae-1,Qe=2*(P+Ee*Ce+ke*Ae),dt=Ee*Ee+ke*ke-P*P,ot=-(Je?(Qe+Math.sqrt(Qe*Qe-4*Je*dt))/(2*Je):dt/Qe);return{x:M+Ee+Ce*ot,y:D+ke+Ae*ot,r:ot}}d(b,"med"),d(S,"extend"),d(k,"contains"),d(C,"containsWeak"),d(A,"containsWeakAll"),d(N,"enclose"),d(R,"from1"),d(B,"from2"),d(W,"from3");var F=[0,1],T=[0,2];for(let M=4;M<65535;M<<=2)for(let D=0,P=F.length;D<P;D++)F.push(F[D]|M),T.push((F[D]|M)<<1);function H(M,D){return(T[255&D]|F[255&M])+65536*(T[D>>8&255]|F[M>>8&255])+4294967296*(T[D>>16&255]|F[M>>16&255])}function G(M,D){let P=M^D,$=65535^P,X=65535^(M|D),O=M&(65535^D),j=P|$>>1,Q=P>>1^P,K=X>>1^$&O>>1^X,de=P&X>>1^O>>1^O;P=j,$=Q,X=K,O=de,j=P&P>>2^$&$>>2,Q=P&$>>2^$&(P^$)>>2,K^=P&X>>2^$&O>>2,de^=$&X>>2^(P^$)&O>>2,P=j,$=Q,X=K,O=de,j=P&P>>4^$&$>>4,Q=P&$>>4^$&(P^$)>>4,K^=P&X>>4^$&O>>4,de^=$&X>>4^(P^$)&O>>4,P=j,$=Q,X=K,O=de,K^=P&X>>8^$&O>>8,de^=$&X>>8^(P^$)&O>>8,P=K^K>>1,$=de^de>>1;let ne=M^D,re=$|65535^(ne|P);return ne=16711935&(ne|ne<<8),ne=252645135&(ne|ne<<4),ne=858993459&(ne|ne<<2),ne=1431655765&(ne|ne<<1),re=16711935&(re|re<<8),re=252645135&(re|re<<4),re=858993459&(re|re<<2),re=1431655765&(re|re<<1),(re<<1|ne)>>>0}d(H,"morton"),d(G,"hilbert");var q=new Uint32Array(1024);function te(M,D){const P=new Uint32Array(D.length);for(let X=0;X<1024;X++)q[X]=0;const $=255;for(let X=0;X<D.length;X++){const O=D[X];q[O&$]++,q[256+(O>>8&$)]++,q[512+(O>>16&$)]++,q[768+(O>>24&$)]++}for(let X=0;X<4;X++){let O=0,j=0;const Q=256*X;for(let K=0;K<256;K++)O=q[K+Q],q[K+Q]=j,j+=O}for(let X=0;X<D.length;X++){const O=D[X];P[q[O&$]++]=X}for(let X=0;X<D.length;X++){const O=P[X],j=D[O];M[q[256+(j>>8&$)]++]=O}for(let X=0;X<D.length;X++){const O=M[X],j=D[O];P[q[512+(j>>16&$)]++]=O}for(let X=0;X<D.length;X++){const O=P[X],j=D[O];M[q[768+(j>>24&$)]++]=O}}d(te,"radixSort");var J=class{constructor(M,D,P,$){this.left=null,this.right=null,this.data=null,this.code=M,this.data=D,this.left=P,this.right=$}};function ue(M,D,P,$,X){const O=new J(null,null,null,null),j=[O],Q=[$,X];for(;j.length!==0;){const K=Q.pop(),de=Q.pop(),ne=j.pop();if(K-de==0)ne.code=P[de],ne.data=M[D[de]];else{const re=_e(D,P,de,K);ne.code=re,de<=re&&(ne.left=new J(null,null,null,null),j.push(ne.left),Q.push(de,re)),K>re&&(ne.right=new J(null,null,null,null),j.push(ne.right),Q.push(re+1,K))}}return O}function Te(M,D,P,$,X,O){const j=new J(null,null,null,null),Q=[j],K=[$,X];for(;Q.length!==0;){const de=K.pop(),ne=K.pop(),re=Q.pop();if(de-ne<O){const le=new Array(de-ne+1);for(let fe=ne,ie=0;fe<=de;fe++,ie++)le[ie]=M[D[fe]];re.code=P[ne],re.data=le}else{const le=_e(D,P,ne,de);re.code=le,ne<=le&&(re.left=new J(null,null,null,null),Q.push(re.left),K.push(ne,le)),de>le&&(re.right=new J(null,null,null,null),Q.push(re.right),K.push(le+1,de))}}return j}d(J,"Node"),d(ue,"buildIterative"),d(Te,"buildIterativeBuckets");var ce=Math.clz32||d(function(D){let P=-2147483648;for(let $=0;$<31;$+=1){if(P&D)return $;P>>>=1}return 32},"clz");function _e(M,D,P,$){const X=D[M[P]],O=D[M[$]];if(X===O)return P;const j=ce(X^O);let Q,K,de,ne=P,re=$-P;do re=re+1>>1,Q=ne+re,Q<$&&(K=D[M[Q]],de=ce(X^K),de>j&&(ne=Q));while(re>1);return ne}d(_e,"findSplit");var ze,Ye,qe,ge,ye,Ze,tt,ut,st,Z=class{constructor(M,{getX:D,getY:P,bucketSize:$=0,sfc:X=1}={}){this.bucketSize=0,this._root=null;const O=M.length,j=new Uint32Array(O);let Q=1/0,K=1/0,de=-1/0,ne=-1/0;this._x=D,this._y=P;const re=X===1?G:H;this._project=re;const le=new Uint32Array(O);for(let me=0;me<O;me++){const we=M[me],ve=D(we),be=P(we);ve<Q&&(Q=ve),be<K&&(K=be),ve>de&&(de=ve),be>ne&&(ne=be),le[me]=me}this._minX=Q,this._minY=K,this._maxX=de,this._maxY=ne;const fe=65535/Math.max(de-Q,1),ie=65535/Math.max(ne-K,1);this._hw=fe,this._hh=ie;for(let me=0;me<O;me++){const we=M[me];j[me]=re(fe*(D(we)-Q),ie*(P(we)-K))}te(le,j),this._root=$===0?ue(M,le,j,0,O-1):Te(M,le,j,0,O-1,$),this.bucketSize=$}get root(){return this._root}inOrder(M,D){let P=this._root;const $=[];let X=!1;for(;!X;)if(P)$.push(P),P=P.left;else if($.length!==0){if(P=$.pop(),M.call(D,P))break;P=P.right}else X=!0;return this}preOrder(M,D){const P=[this._root];for(;P.length!==0;){const $=P.pop();M.call(D,$)||($.right&&P.push($.right),$.left&&P.push($.left))}return this}postOrder(M,D){const P=[];let $,X=this._root;do{for(;X;)X.right&&P.push(X.right),P.push(X),X=X.left;X=P.pop(),$=P.length-1,X.right&&P[$]===X.right?(P[$]=X,X=X.right):(M.call(D,X),X=null)}while(P.length!==0);return this}map(M,D){const P=[];return this.inOrder($=>{P.push(M.call(D,$))}),P}height(){return ee(this._root)}toString(M=D=>D.code.toString()){const D=[];return se(this._root,"",!0,P=>D.push(P),M),D.join("")}size(){let M=0;return this.preOrder(()=>{M++}),M}destroy(){return this._root=null,this}};function ee(M){return M?1+Math.max(ee(M.left),ee(M.right)):0}function se(M,D,P,$,X){if(M){$(D+(P?"^-- ":"|-- ")+X(M)+`
`);const O=D+(P?"    ":"|   ");M.left&&se(M.left,O,!1,$,X),M.right&&se(M.right,O,!0,$,X)}}d(Z,"BVH"),d(ee,"treeHeight"),d(se,"row");var oe=0;function he(M,D,P,{X:$,Y:X,R:O,bucketSize:j}){oe=M,P===null&&(P=new Z(D,{getX:qe,getY:ge,bucketSize:j})).postOrder(ze);const Q=D.length;for(let K=0;K<Q;K++)Ze=D[K],tt=$[Ze],ut=X[Ze],st=O[Ze],P.preOrder(Ye);return P}d(he,"repulsion");var pe=d(({fx:M,fy:D,X:P,Y:$,R:X,masses:O,bucketSize:j},{charge:Q,theta:K})=>de=>{let ne=0,re=0,le=tt-de.cx||y(),fe=ut-de.cy||y(),ie=le*le+fe*fe,me=st+de.r;const we=de.data;if(we!==null){if(we===Ze)return!1;if(j!==0){const ve=we;for(let be=0;be<ve.length;be++){const Ee=ve[be];Ee!==Ze&&(le=tt-P[Ee]||y(),fe=ut-$[Ee]||y(),ie=le*le+fe*fe,me=st+X[Ee],ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*O[Ee],re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re)}}else ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*de.mass,re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re}else{const ve=me/K;if(ie>ve*ve)return ie<1&&(ie=Math.sqrt(1*ie)),ne=Q*de.mass,re=oe*ne/ie,M[Ze]+=le*re,D[Ze]+=fe*re,!0}},"getApplyForce"),De=d(({X:M,Y:D,R:P,masses:$,bucketSize:X})=>O=>{let j,Q,K=0,de=0,ne=0,re=0;const le=O.data;if(le!==null)if(X!==0){const fe=le,ie=b(fe,qe,ge,ye);K=ie.x,de=ie.y,ne=ie.r;for(let me=0;me<fe.length;me++)re+=$[fe[me]]}else Q=le,K=M[Q],de=D[Q],ne=P[Q],re=$[Q];else if(O.left&&O.right){const fe=O.left.cx,ie=O.left.cy,me=O.right.cx,we=O.right.cy,ve=O.left.r,be=O.right.r,Ee=me-fe,Ce=we-ie,ke=be-ve,Ae=Math.sqrt(Ee*Ee+Ce*Ce);K=(fe+me+Ee/Ae*ke)/2,de=(ie+we+Ce/Ae*ke)/2,ne=(Ae+ve+be)/2,re=O.left.mass+O.right.mass}else j=O.left||O.right,K=j.cx,de=j.cy,ne=j.r,re=j.mass;O.cx=K,O.cy=de,O.r=ne,O.mass=re},"getAccumulateBodies"),Ie=d((M,D,P)=>{const $=M.length,{X,Y:O,R:j,degrees:Q,pinned:K,masses:de,nodeIds:ne}=D,{scaling:re,defaultRadius:le,bucketSize:fe}=P;D.bucketSize=fe===void 0?Math.floor(Math.log($)):fe;let ie=1/0,me=1/0,we=-1/0,ve=-1/0;const be=Math.PI*(3-Math.sqrt(5));let Ee=0;for(let Ce=0;Ce<M.length;Ce++){const ke=M[Ce];let{x:Ae,y:Je,r:Qe}=ke;const{mass:dt}=ke;if(isNaN(Ae)||isNaN(Je)){const ot=5*Math.sqrt(Ce),Tt=Ce*be;Ae=ot*Math.cos(Tt),Je=ot*Math.sin(Tt)}Qe=Qe||le,X[Ce]=Ae,O[Ce]=Je,j[Ce]=Qe,K[Ce]=ke.pinned?1:0,de[Ce]=dt===void 0?(1+Q[Ce])*re:dt,ne[Ce]=Ce,Qe>Ee&&(Ee=Qe),Ae<ie&&(ie=Ae),Je<me&&(me=Je),Ae>we&&(we=Ae),Je>ve&&(ve=Je)}if(M.length>1&&(we-ie<2*Ee||ve-me<2*Ee)){const Ce=(ie+we)/2,ke=(me+ve)/2;for(let Ae=0;Ae<$;Ae++)if(!K[Ae]){const Je=5*Math.sqrt(Ae),Qe=Ae*be,dt=Ce+Je*Math.cos(Qe),ot=ke+Je*Math.sin(Qe);X[Ae]=dt,O[Ae]=ot,dt<ie&&(ie=dt),ot<me&&(me=ot),dt>we&&(we=dt),ot>ve&&(ve=ot)}}qe=d(Ce=>X[Ce],"getX"),ge=d(Ce=>O[Ce],"getY"),ye=d(Ce=>j[Ce],"getR"),ze=De(D),Ye=pe(D,P)},"initialize");function Pe(M,D,{masses:P,X:$,Y:X,fx:O,fy:j},{charge:Q}){const K=D.length;let de,ne,re,le,fe,ie,me,we,ve;for(let be=0;be<K;be++){de=D[be];for(let Ee=be+1;Ee<K;Ee++)if(be!==Ee){if(ne=D[Ee],de===ne)continue;re=$[de]-$[ne]||y(),le=X[de]-X[ne]||y(),fe=re*re+le*le,fe<1&&(fe=Math.sqrt(1*fe)),ie=Q*P[ne],me=M*ie/fe,we=Q*P[de],ve=M*we/fe,O[de]+=re*me,j[de]+=le*me,O[ne]-=re*ve,j[ne]-=le*ve}}}function nt(M,D,{sources:P,targets:$,X,Y:O,R:j,fx:Q,fy:K,degrees:de,weights:ne},{edgeStrength:re,edgeLength:le}){for(let fe=0;fe<D.length;fe++){const ie=D[fe],me=P[ie],we=$[ie],ve=1,be=de[me]+ve,Ee=de[we]+ve,Ce=re*ne[ie];let ke=X[we]+Q[we]-X[me]-Q[me]||y(),Ae=O[we]+K[we]-O[me]-K[me]||y();const Je=ke*ke+Ae*Ae,Qe=Math.sqrt(Je),dt=le+j[me]+j[we];if(Qe<=dt)continue;const ot=dt-Qe,Tt=1/Math.min(be,Ee),Yt=Math.min(1,M*Ce*(ot*ot/Je)*Tt);ke*=Yt,Ae*=Yt;const Ht=Ee/(Ee+be);Q[me]+=ke*Ht,K[me]+=Ae*Ht,Q[we]-=ke*(1-Ht),K[we]-=Ae*(1-Ht)}}he.initialize=Ie,d(Pe,"repulsion"),Pe.initialize=()=>{},d(nt,"attraction");var rt,Rt,It,Mt,Wt,vt,lt,Ct,Pt,Dt=d((M,{edgeIds:D,sources:P,targets:$,degrees:X,weights:O})=>{for(let j=0;j<M.length;j++){const{source:Q,target:K,weight:de=1}=M[j];P[j]=Q,$[j]=K,O[j]=de,X[Q]++,X[K]++,D[j]=j,O[j]=de===void 0?1:de}},"initialize");function At(M,D,P,{X:$,Y:X,R:O,fx:j,fy:Q,bucketSize:K},{elasticity:de}){if(de===0)return P;P||(P=new Z(D,{getX:rt,getY:Rt,bucketSize:K})).postOrder(Mt);for(let ne=0;ne<D.length;ne++)vt=D[ne],lt=$[vt]+j[vt],Ct=X[vt]+Q[vt],Pt=O[vt],P.preOrder(Wt);return P}nt.initialize=Dt,d(At,"collisionForce");var bt=d(({X:M,Y:D,R:P,bucketSize:$})=>X=>{let O,j,Q,K;const de=X.data;if(de!==null)if($!==0){const ne=b(de,rt,Rt,It);O=ne.x,j=ne.y,Q=ne.r}else{const ne=de;O=M[ne],j=D[ne],Q=P[ne]}else if(X.left&&X.right){const ne=X.left.cx,re=X.left.cy,le=X.right.cx,fe=X.right.cy,ie=X.left.r,me=X.right.r,we=le-ne,ve=fe-re,be=me-ie,Ee=Math.sqrt(we*we+ve*ve);O=(ne+le+we/Ee*be)/2,j=(re+fe+ve/Ee*be)/2,Q=(Ee+ie+me)/2}else K=X.left||X.right,K&&(O=K.cx,j=K.cy,Q=K.r);X.cx=O,X.cy=j,X.r=Q},"getMeasureBodies"),Gt=d(({X:M,Y:D,R:P,fx:$,fy:X,bucketSize:O},{elasticity:j,margin:Q})=>K=>{const de=K.data;if(de===null){const ne=K.cx-lt,re=K.cy-Ct,le=K.r+Pt;return ne*ne+re*re>le*le}if(O!==0){const ne=de;for(let re=0;re<ne.length;re++){const le=ne[re];if(le>vt){const fe=P[le];let ie=lt-M[le]-$[le],me=Ct-D[le]-X[le];const we=Pt+fe+Q;let ve=ie*ie+me*me;if(ve<we*we){ie===0&&(ie=y(),ve+=ie*ie),me===0&&(me=y(),ve+=me*me);const be=Math.sqrt(ve),Ee=(we-be)*j/be,Ce=fe/we;$[vt]+=ie*Ee*Ce,X[vt]+=me*Ee*Ce,$[le]-=ie*Ee*(1-Ce),X[le]-=me*Ee*(1-Ce)}}}}else{const ne=K.data;if(ne>vt){const re=P[ne];let le=lt-M[ne],fe=Ct-D[ne];const ie=Pt+re+Q;let me=le*le+fe*fe;if(me<ie*ie){le===0&&(le=y(),me+=le*le),fe===0&&(fe=y(),me+=fe*fe);const we=Math.sqrt(me),ve=(ie-we)*j/we,be=re/ie;$[vt]+=le*ve*be,X[vt]+=fe*ve*be,$[ne]-=le*ve*(1-be),X[ne]-=fe*ve*(1-be)}}}},"getApplyForce");function Xt(M,D,{X:P,Y:$,fx:X,fy:O},{gravity:j,cx:Q,cy:K}){let de=0,ne=0;const re=D.length;for(let le=0;le<re;le++)de+=P[le],ne+=$[le];de=de/re-Q,ne=ne/re-K;for(let le=0;le<re;le++){const fe=D[le],ie=Q-P[fe]||y(),me=K-$[fe]||y(),we=j*M;X[fe]+=ie*we,O[fe]+=me*we}}At.initialize=(M,D,P)=>{const{X:$,Y:X,R:O}=D;rt=d(j=>$[j],"getX"),Rt=d(j=>X[j],"getY"),It=d(j=>O[j],"getR"),Mt=bt(D),Wt=Gt(D,P)},d(Xt,"center");var Er=d((M,D,P)=>{const{X:$,Y:X}=D;let O=P.cx,j=P.cy;const Q=M.length;if(O===void 0||j===void 0){O=j=0;for(let K=0;K<Q;K++)O+=$[K],j+=X[K];O/=Q,j/=Q}P.cx=O,P.cy=j},"initialize");function ht(M){let D=0,P=0;for(const j of M)D+=j.w*j.h,P=Math.max(P,j.w);M.sort((j,Q)=>Q.h-j.h);const $=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),P),h:1/0}];let X=0,O=0;for(const j of M)for(let Q=$.length-1;Q>=0;Q--){const K=$[Q];if(!(j.w>K.w||j.h>K.h)){if(j.x=K.x,j.y=K.y,O=Math.max(O,j.y+j.h),X=Math.max(X,j.x+j.w),j.w===K.w&&j.h===K.h){const de=$.pop();Q<$.length&&($[Q]=de)}else j.h===K.h?(K.x+=j.w,K.w-=j.w):j.w===K.w?(K.y+=j.h,K.h-=j.h):($.push({x:K.x+j.w,y:K.y,w:K.w-j.w,h:j.h}),K.y+=j.h,K.h-=j.h);break}}}function xt(M,D=1){return ht(M.map(P=>(P.w+=P.maxr+D,P.h+=P.maxr+D,P)).sort((P,$)=>P.w*P.h-$.w*$.h))}function gt(M,D=20,P,$,X){for(const ie of M){const{x:me,y:we,r:ve}=b(ie.ids,be=>P[be],be=>$[be],be=>X[be]);ie.cx=me,ie.cy=we,ie.radius=ve+D}const O=M.slice().sort((ie,me)=>ie.radius-me.radius),j=O.map(ie=>({x:ie.cx,y:ie.cy,r:ie.radius})),Q=O.pop();let K=3*Math.PI/2,de=Q.radius;const ne=2*Math.PI,{cx:re,cy:le}=Q,fe=[Q];for(;O.length!==0;){const ie=O[O.length-1],me=de+ie.radius,we=re+Math.cos(K)*me,ve=le+Math.sin(K)*me;fe.some(be=>{const Ee=be.cx-we,Ce=be.cy-ve;return Math.sqrt(Ee*Ee+Ce*Ce)<be.radius+ie.radius})?de+=1:(ie.x=we-ie.w/2,ie.y=ve-ie.h/2,ie.cx=we,ie.cy=ve,j[O.length-1].x=we,j[O.length-1].y=ve,fe.push(O.pop()),K+=(2*ie.radius+1)/me*1%ne)}}Xt.initialize=Er,d(ht,"potpack"),d(xt,"boxpack"),d(gt,"spiralpack");var jt=class{constructor(){this.ids=[],this.xmin=1/0,this.ymin=1/0,this.xmax=-1/0,this.ymax=-1/0,this.x=0,this.y=0,this.w=0,this.h=0,this.cx=0,this.cy=0,this.radius=0,this.mx=0,this.my=0,this.m=0,this.maxr=0}add(M,D,P,$){this.ids.push(M),D-$<this.xmin&&(this.xmin=D-$),P-$<this.ymin&&(this.ymin=P-$),D+$>this.xmax&&(this.xmax=D+$),P+$>this.ymax&&(this.ymax=P+$),$>this.maxr&&(this.maxr=$),this.mx+=$*D,this.my+=$*P,this.m+=$}measure(M=0){return this.w=this.xmax-this.xmin+2*M,this.h=this.ymax-this.ymin+2*M,this.cx=this.mx/this.m,this.cy=this.my/this.m,this.x=this.xmin,this.y=this.ymin,this.radius=Math.sqrt(this.w*this.w+this.h*this.h)/2,this}};function Jt(M,D){return M<D?M*D+Math.pow(D-M-1,2)/4:M*D+Math.pow(M-D-1,2)/4}function pn(M,D){return(M+D)*(M+D+1)/2+D}function zn({edgeIds:M,sources:D,targets:P,pinned:$,degrees:X,X:O,Y:j,R:Q},K=0,de=.5){const ne={},re={};for(const le of M){const fe=D[le],ie=P[le];fe!==ie&&(ne[fe]=ne[fe]||{},ne[ie]=ne[ie]||{},ne[fe][ie]=!0,ne[ie][fe]=!0)}Object.keys(ne).forEach(le=>{const fe=Number(le),ie=Object.keys(ne[Number(fe)]);if(ie.length===2){const[me,we]=ie,ve=Jt(Number(me),Number(we));ve in re||(re[ve]=[Number(we),Number(me)]),$[fe]||re[ve].push(fe)}}),Object.keys(re).forEach(le=>{const[fe,ie,...me]=re[Number(le)];if(me.length<3)return;const we=O[fe],ve=j[fe],be=O[ie],Ee=j[ie],Ce=X[fe],ke=.25+.5*Ce/(Ce+X[ie]);let Ae=we+(be-we)*ke,Je=ve+(Ee-ve)*ke,Qe=-(Ee-ve),dt=be-we;const ot=Math.sqrt(Math.pow(we-be,2)+Math.pow(ve-Ee,2));Qe=-2*Qe/ot,dt=-2*dt/ot;const Tt=Math.acos(Qe/Math.sqrt(Qe*Qe+dt*dt));K>0&&(Tt<K||Tt>Math.PI-K&&Tt<=Math.PI?(Qe=2*Math.cos(Math.PI-K),dt=2*Math.sin(Math.PI-K)):(Tt>2*Math.PI-K||Tt>=Math.PI&&Tt<Math.PI+K)&&(Qe=2*Math.cos(K),dt=2*Math.sin(K)));let Yt=0,Ht=1;me.sort((ar,An)=>Q[An]-Q[ar]);let Bn=0,kr=0;const Ar=Math.max(Q[me[0]],Q[me[1]])/2;me.length%2==1&&(Yt=1,Ae-=Qe*Ar,Je-=dt*Ar);const jn=1+de;for(let ar=0;ar<me.length;ar++){const An=(Yt+ar)%2,lr=me[ar],Cn=ar>=2?Q[lr]:Ar,va=(An?Bn:kr)+Cn;O[lr]=Ae+Qe*Ht*va,j[lr]=Je+dt*Ht*va,An?Bn+=Cn*jn:kr+=Cn*jn,Ht=-Ht}})}function mn(M,D,P,$){let X=0;const O=[];for(const j of $){const Q=new jt;for(const K of j)Q.add(K,M[K],D[K],P[K]);O.push(Q.measure()),j.length>O[X].ids.length&&(X=O.length-1)}return{boxes:O,biggest:X}}function Mn(M,D,{X:P,Y:$,R:X,components:O,pinned:j,degrees:Q,sources:K,targets:de,edgeIds:ne},{update:re,onUpdate:le,placement:fe,placementOffset:ie,alignSiblings:me,siblingsMinAngle:we,siblingsOffset:ve}){if(me&&(zn({X:P,Y:$,R:X,degrees:Q,pinned:j,sources:K,targets:de,edgeIds:ne},we,ve),re(M,P,$)),fe){const{boxes:be,biggest:Ee}=mn(P,$,X,O);if(fe==="spiral")gt(be,ie,P,$,X);else{if(fe!=="box")return;xt(be,ie)}const Ce=be[Ee].xmin-be[Ee].x,ke=be[Ee].ymin-be[Ee].y;for(const Ae of be){const{xmin:Je,ymin:Qe,x:dt,y:ot,ids:Tt}=Ae,Yt=Je-dt-Ce,Ht=Qe-ot-ke;for(const Bn of Tt)P[Bn]-=Yt,$[Bn]-=Ht}re(M,P,$),le()}}function Sr(M,D,{X:P,Y:$,nodeIds:X,edgeIds:O,layers:j,movements:Q,movementsPrev:K,surfaces:de,surfacesPrev:ne},re,le,fe){const{nextTick:ie,cancelTick:me,batch:we,steps:ve,minMovement:be,update:Ee,onUpdate:Ce,autoStop:ke}=re;let Ae=0,Je=1,Qe,dt=1-Math.pow(.05,1/ve),ot=!1;const Tt=d(()=>{ot=!0,me(Qe),Ce(),fe(Ae)},"stop");let Yt=!1;const Ht=d(()=>{Je+=(.001-Je)*dt;const Bn=le(Je,X,O),kr=j.length;let Ar=!1,jn=!1;if(ke){Ar=jn=!0;const{movementRatio:An,surfaceRatio:lr}=ke;for(let Cn=0;Cn<kr;Cn++)Ar&&Math.abs(1-de[Cn]/ne[Cn])>lr&&(Ar=!1),jn&&Math.abs(Q[Cn]-K[Cn])>An&&(jn=!1)}Ar&&jn&&!Yt&&(dt=1-Math.pow(.001,1/Math.max(10,Ae)),Yt=!0);const ar=ot||Je<.05||Bn!==0&&Bn<=be;if(Ae%we==0&&(Ee(M,P,$),Ce()),++Ae>=ve||ar)return Tt();for(let An=0;An<kr;An++)K[An]=Q[An],ne[An]=de[An];Qe=ie(Ht)},"simulationStep");return{done:!1,start(){return Qe=setTimeout(Ht),this},stop(){return Tt(),this},get iterations(){return Ae}}}function Fi(M,D,{X:P,Y:$,R:X,degrees:O,nodeIds:j,edgeIds:Q,layers:K,layer:de,cluster:ne,masses:re,weights:le,sources:fe,targets:ie},{cx:me,cy:we,nextTick:ve,cancelTick:be,update:Ee,onUpdate:Ce,batch:ke,maxIterations:Ae,steps:Je,minMovement:Qe},dt,ot){const Tt=K.slice();let Yt,Ht=0;function Bn(){be(Yt),Ee(M,P,$),Ce(),ot(Ht)}d(Bn,"stop");const kr={};for(let qn=0;qn<D.length;qn++)kr[Number(D[qn].id)||qn]=qn;const Ar=new Map;for(let qn=0;qn<Q.length;qn++){const Ri=Q[qn];Ar.set(pn(fe[Ri],ie[Ri]),Ri)}for(let qn=0;qn<K.length;qn++){const Ri=K[qn],ks=qn;for(let _i=0;_i<Ri.length;_i++){const Tn=Ri[_i],wn=ne[Tn];wn!==-1&&(re[wn]+=re[Tn])}for(let _i=0;_i<D.length;_i++){const Tn=D[_i],wn=Number(Tn.id)||_i,Di=Tn.source,So=Tn.target,lu=le[kr[wn]];if(de[Di]===ks&&de[So]===ks){const hw=ne[Di],gw=ne[So];if(hw!==gw){const pw=Ar.get(pn(hw,gw));pw!==void 0&&(le[pw]+=lu)}}}}j.length=0,Q.length=0;let jn=1;const ar=1-Math.pow(.1,1/Je/2),An=(jn-.1)/Je;let lr,Cn,va=.5;function Fm(){jn+=(0-jn)*ar;const qn=dt(jn,j,Q);let Ri=jn<=va||qn<Qe;if(Ht===0||Ri){const ks=Tt.pop();if(ks){lr&&(Cn=lr.reduce((Tn,wn)=>Math.max(Tn,me-P[wn],we-$[wn]),0)),j.push.apply(j,ks);for(let Tn=0;Tn<ks.length;Tn++){const wn=ks[Tn],Di=ne[wn];if(Di!==-1){const So=O[wn]>1?2:1,lu=X[Di]+X[wn];re[Di]-=re[wn],P[wn]=P[Di]+So*lu*(2*m()-1),$[wn]=$[Di]+So*lu*(2*m()-1)}else lr&&(P[wn]=me+2*Cn*(1-2*m()),$[wn]=we+2*Cn*(1-2*m()))}lr=ks;const _i=j.reduce((Tn,wn)=>(Tn[wn]=!0,Tn),{});Q.length=0;for(let Tn=0;Tn<D.length;Tn++){const{source:wn,target:Di,id:So}=D[Tn];_i[wn]&&_i[Di]&&Q.push(kr[Number(So)])}Ri=!1,Tt.length===0?(jn=.2,va=.1):(jn=.1+2*An,va=.1)}}Ht%ke==0&&(Ee(M,P,$),Ce()),++Ht>=1/0||Ri?Bn():Yt=ve(Fm)}return d(Fm,"simulationStep"),{done:!1,start(){return Yt=setTimeout(Fm),this},stop(){return Bn(),this},get iterations(){return Ht}}}function Ut(M,D,{X:P,Y:$,fx:X,fy:O,vx:j,vy:Q,masses:K,pinned:de},ne){let re=0,le=0;const fe=M.length,ie=1/8;for(let me=0;me<fe;me++){const we=M[me],ve=K[we],be=X[we]/ve,Ee=O[we]/ve;j[we]+=be*ie,Q[we]+=Ee*ie;const Ce=.2*j[we]*ie+.5*be*ie*ie,ke=.2*Q[we]*ie+.5*Ee*ie*ie;X[we]=O[we]=0,de[we]||(P[we]+=Ce,$[we]+=ke,re+=Math.abs(Ce)*ve,le+=Math.abs(ke)*ve)}return(re*re+le*le)/fe}function kn(M,D,{X:P,Y:$,fx:X,fy:O,pinned:j,layer:Q,layers:K,surfaces:de,movements:ne},{maxDisplacement:re}){ne.fill(0);let le=0;const fe=M.length;let ie=1/0,me=1/0,we=-1/0,ve=-1/0;const be=re*re;for(let ke=0;ke<fe;ke++){const Ae=M[ke],Je=X[Ae]*=D,Qe=O[Ae]*=D,dt=Q[Ae];let ot=Je,Tt=Qe;const Yt=P[Ae],Ht=$[Ae];if(ot*ot+Tt*Tt>be){const kr=Math.sqrt(ot*ot+Tt*Tt)/re;Tt/=kr,ot/=kr}j[Ae]||(P[Ae]+=ot,$[Ae]+=Tt);const Bn=Math.sqrt(ot*ot+Tt*Tt);j[Ae]||(Yt<ie&&(ie=Yt),Ht<me&&(me=Ht),Yt>ie&&(we=Yt),Ht>me&&(ve=Ht),ne[dt-1]+=Bn),le+=dt*Bn}const Ee=Math.max(we-ie,0),Ce=Math.max(ve-me,0);for(let ke=0;ke<K.length;ke++){const Ae=K[ke],Je=Ae.length;let Qe=1/0,dt=1/0,ot=-1/0,Tt=-1/0,Yt=0;for(let ar=0;ar<Je;ar++){const An=Ae[ar];if(j[An])continue;const lr=P[An],Cn=$[An];lr<Qe&&(Qe=lr),Cn<dt&&(dt=Cn),lr>ot&&(ot=lr),Cn>Tt&&(Tt=Cn),Yt++}const Ht=ot-Qe,Bn=Tt-dt,kr=Math.max(1,Math.sqrt(a(Ht,2)+a(Bn,2)));de[ke]=kr;const Ar=Yt===0?0:ne[ke]/Yt,jn=Ee*Ce||1;ne[ke]=Ar>Yt?Ar/jn:0}return le}function On(M,D,{X:P,Y:$,fx:X,fy:O,vx:j,vy:Q,pinned:K,masses:de},ne){const re=M.length;let le=0;for(let fe=0;fe<re;fe++){const ie=M[fe],me=de[ie],we=X[ie]/me,ve=O[ie]/me,be=j[ie]+1*we,Ee=Q[ie]+1*ve;let Ce=1*be,ke=1*Ee;Ce>1e4&&(Ce=.1),ke>1e4&&(ke=.1),j[ie]=D*(be+j[ie])/2,Q[ie]=D*(Ee+Q[ie])/2,X[ie]=O[ie]=0,K[ie]||(P[ie]+=Ce,$[ie]+=ke),le+=.5*(Ce*Ce+ke*ke)}return le}d(jt,"Component"),d(Jt,"unorderedPair"),d(pn,"orderedPair"),d(zn,"alignSiblings"),d(mn,"groupAndMeasure"),d(Mn,"postprocessing"),d(Sr,"singleLevel"),d(Fi,"multiLevel"),d(Ut,"euler"),d(kn,"velocityVerlet"),d(On,"leapfrog");var z=(M=>(M[M.verlet=0]="verlet",M[M.euler=1]="euler",M))(z||{}),U=0,Y=typeof window>"u",V=typeof performance<"u"&&performance.now?performance:Date,ae=Y?M=>{const D=V.now(),P=Math.max(0,16-(D-U)),$=setTimeout(()=>M(D+P),P);return U=D+P,$}:window.requestAnimationFrame,Le=Y?M=>clearTimeout(M):window.cancelAnimationFrame;function We(M,D,P){for(let $=0;$<M.length;$++){const X=M[$];X.x=D[$],X.y=P[$]}}d(We,"defaultUpdate");var Be=d(M=>{},"noop"),je={movementRatio:7e-8,surfaceRatio:.0025},et=class{constructor(M={}){this.onUpdate=Be,this.update=We,this.nextTick=ae,this.cancelTick=Le,this.onEnd=Be,this.charge=10,this.maxIterations=300,this.minMovement=.1,this.edgeLength=30,this.edgeStrength=3,this.friction=.1,this.elasticity=.9,this.margin=1,this.cx=void 0,this.cy=void 0,this.gravity=.01,this.theta=.34,this.batch=1,this.inertia=.9,this.integrator=0,this.multilevel=!1,this.placement="none",this.placementOffset=10,this.alignSiblings=!1,this.bucketSize=void 0,this.maxDisplacement=1e3,this.siblingsMinAngle=0,this.siblingsOffset=.15,this.steps=300,this.scaling=1,this.defaultRadius=1,this.autoStop=je,this.gpuAcceleration=!0,this.barnesHutOptimization=!0,"autoStop"in M?M.autoStop&&(typeof M.autoStop=="boolean"?M.autoStop=je:M.autoStop=c(c({},M.autoStop),je)):M.steps;for(const D in M)M[D]!==void 0&&(this[D]=M[D])}};function pt(M,D,P){yt(M,D,P),ct(P)}function yt(M,D,{sources:P,targets:$,degrees:X,nodeIds:O,edgeIds:j}){const Q={};for(let K=0;K<M.length;K++)Q[K]=O[K]=K;for(let K=0;K<D.length;K++){const{source:de,target:ne}=D[K],re=Q[de],le=Q[ne];j[K]=K,P[K]=re,$[K]=le,X[re]++,X[le]++}}function ct({nodeIds:M,edgeIds:D,sources:P,targets:$,degrees:X,layer:O,layers:j,component:Q,components:K,cluster:de,parent:ne}){let re=0,le=1;const fe=new Uint32Array(M.length);for(let Ee=0;Ee<M.length;Ee++)fe[Ee]=X[Ee];const ie=new Array(M.length);for(let Ee=0;Ee<D.length;Ee++){const Ce=D[Ee],ke=P[Ce],Ae=$[Ce];ie[ke]=ie[ke]||[],ie[Ae]=ie[Ae]||[],ie[ke].push(Ae),ie[Ae].push(ke)}const me=new Uint8Array(M.length),we=new Uint8Array(M.length);ne.fill(-1);let ve=0;for(let Ee=0;Ee<M.length;Ee++)if(me[Ee]===0){const Ce=[Ee];for(;Ce.length!==0;){const ke=Ce.pop();me[ke]===0&&(Ce.push.apply(Ce,ie[ke]),me[ke]=1,Q[ke]=ve)}ve++}const be=new Array(M.length);for(let Ee=0;Ee<M.length;Ee++)O[Ee]=0,be[Ee]=Ee;for(;be.length!==0;){const Ee=[],Ce=[];for(let ke=0;ke<be.length;ke++)fe[be[ke]]<=re&&(Ee.push(ke),Ce.push(be[ke]));for(let ke=0;ke<Ce.length;ke++){const Ae=Ce[ke];we[Ae]=re,O[Ae]=le;const Je=ie[Ae];if(Je)for(let Qe=0;Qe<Je.length;Qe++)fe[Je[Qe]]--}for(let ke=0;ke<Ce.length;ke++){const Ae=Ce[ke],Je=ie[Ae];if(Je)for(let Qe=0;Qe<Je.length;Qe++){const dt=Je[Qe],ot=O[dt];if(ot===void 0||ot>le){ne[Ae]=dt;break}}}Ee.reverse();for(let ke=0;ke<Ee.length;ke++)be.splice(Ee[ke],1);if(le+=1,be.length>0){let ke=1/0;for(let Ae=0;Ae<be.length;Ae++){const Je=fe[be[Ae]];Je<ke&&(ke=Je)}ke>=re+1&&(re=ke,le=1)}}me.fill(0);for(let Ee=0;Ee<M.length;Ee++){const Ce=M[Ee],ke=O[Ce];if(ne[Ce]===-1||O[ne[Ce]]===ke){const Ae=[Ce];for(me.fill(0);Ae.length!==0;){const Je=Ae.pop();if(me[Je])continue;if(O[Je]>ke){ne[Ce]=Je;break}const Qe=ie[Je];me[Je]=1,Qe&&Ae.push.apply(Ae,Qe)}}}for(let Ee=0;Ee<M.length;Ee++){const Ce=M[Ee],ke=Q[Ce];K[ke]=K[ke]||[],K[ke].push(Ce);const Ae=O[Ce]-1;j[Ae]=j[Ae]||[],j[Ae].push(Ce),de[Ce]=ne[Ce]}}d(et,"Settings"),d(pt,"default"),d(yt,"initTopology"),d(ct,"decomposition");var mt=class{constructor(M,D=!0){this.bucketSize=0;const P=M.nodes.length,$=M.edges.length;_(P+$),this.X=new Array(P),this.Y=new Array(P),this.R=new Array(P),this.fx=new Float32Array(P),this.fy=new Float32Array(P),this.vx=new Float32Array(P),this.vy=new Float32Array(P),this.pinned=new Uint8Array(P),this.masses=new Float32Array(P),this.weights=new Float32Array($),this.lengths=new Float32Array($),this.sources=new Uint32Array($),this.targets=new Uint32Array($),this.degrees=new Uint32Array(P),this.layer=new Uint32Array(P),this.parent=new Int32Array(P),this.cluster=new Int32Array(P),this.component=new Uint32Array(P),this.components=[],this.layers=[],this.nodeIds=new Array(P),this.edgeIds=new Array($),D&&pt(M.nodes,M.edges,this),this.movements=new Array(this.layers.length).fill(0),this.surfaces=new Array(this.layers.length).fill(0),this.movementsPrev=new Array(this.layers.length).fill(0),this.surfacesPrev=new Array(this.layers.length).fill(0)}};d(mt,"LayoutData");var Vt=class{constructor(M){this.promise=new Promise(M)}then(M){return this.promise.then(M)}stop(){return this.simulation.stop(),this}get iterations(){return this.simulation.iterations()}};d(Vt,"SimulationPromise");var fn,Ft={euler:Ut,verlet:kn,leapfrog:On};function wt(M,D={}){let P,$;const X=d((le={nodes:[],edges:[]})=>(P=le.nodes,$=le.edges,_(pn(P.length,$.length)),new mt(le)),"setGraph"),O=d((le={})=>new et(le),"setOptions");let j=X(M),Q=O(D);nt.initialize($,j),he.initialize(P,j,Q),At.initialize(P,j,Q),Xt.initialize(P,j,Q);const K=Ft[Q.integrator]||kn;let de=null;const ne=d((le,fe,ie)=>(de&&(de.destroy(),de=null),fe.length<=1?0:(Q.barnesHutOptimization?de=he(le,fe,de,j):Pe(le,fe,j,Q),nt(le,ie,j,Q),de&&Q.elasticity!==0&&At(0,fe,de,j,Q),Xt(le,fe,j,Q),K(fe,Q.inertia,j,Q))),"step");let re;return{setOptions:(le={})=>(Q=O(le),this),setGraph:({nodes:le,edges:fe})=>(j=X(M),nt.initialize(fe,j),he.initialize(le,j,Q),At.initialize(le,j,Q),Xt.initialize(le,j,Q),this),start(){return re=(Q.multilevel?Fi:Sr)(P,$,j,Q,ne,le=>{re.done||Mn(P,0,j,Q),Q.onEnd(le),re.done=!0}).start(),this},iterations:()=>re.iterations,data:()=>j,stop(){return re&&re.stop(),this},step(le=1){return ne(le,j.nodeIds,j.edgeIds),Q.update(P,j.X,j.Y),this}}}return d(wt,"force"),wt.run=(M,D)=>{let P;const $=new Vt(X=>{D.onEnd=X,P=wt(M,D).start()});return $.simulation=P,$.stop=()=>(P.stop(),$),$},fn=u,((M,D,P,$)=>{if(D&&typeof D=="object"||typeof D=="function")for(let X of r(D))s.call(M,X)||X===P||t(M,X,{get:()=>D[X],enumerable:!($=n(D,X))||$.enumerable});return M})(t({},"__esModule",{value:!0}),fn)})();return e.default.apply(this,arguments)}Me(Xh,"gpuLayout"),Xh.run=(e,t,n)=>{let r;const i=new bF(s=>{n.onEnd=s,r=Xh(e,t,n).start()});return i.simulation=r,i.stop=()=>(r.stop(),i),i};var MH=1.25,ak={name:"force",imports:{force:ok},configure(e,{graph:t,events:n}){const r=e.nodes._indexes,i=t.getNodeAttribute("x").getMultiple(r),s=t.getNodeAttribute("y").getMultiple(r),o=t.getNodeAttribute("radius").getMultiple(r),a=t.getNodeAttribute("layoutable").getMultiple(r),l=e.edges,c=[],d=[],u={};e.edgeStrength===void 0&&(e.edgeStrength=.5),e.gravity==null&&(e.gravity=.01),e.siblingsOffset==null&&(e.siblingsOffset=0),e.theta==null&&(e.theta=.62),e.autoStop=!!e.autoStop,e.alignSiblings=!!e.alignSiblings;const h=e.radiusRatio||MH;for(let p=0;p<e.nodes._indexes.length;p++){const m=e.nodes._indexes[p];u[m]=p,c.push({id:p,x:i[p],y:s[p],r:o[p]*h,pinned:!a[p]})}l.forEach(p=>{const m=u[p.getSource()._index],_=u[p.getTarget()._index];m!==_&&m!==void 0&&_!==void 0&&d.push({source:m,target:_})});const g=Wp(Se({},e));return delete g.nodes,delete g.edges,{graph:{nodes:c,edges:d},options:g,indexes:e.nodes._indexes,done:!1,x:i,y:s,chunkPeriod:250}},update:function(e,t){if(!t.simulation&&e){let n;t.done=!1,t.graph=e.graph,t.options=e.options,t.indexes=e.indexes;let r=!1;if(e.options.gpu){const l=GL("webgl2",{},()=>{ao("GPU layout: WebGL context not available. Falling back on CPU."),t.simulation=void 0,t.options.gpu=!1,t.cleanUp&&t.cleanUp(),this._update(e,t)});l&&(n=l.context,t.cleanUp=l.cleanUp),r=!!n}let i=Date.now();r||(e.options.nextTick=l=>Date.now()-i<=t.chunkPeriod?l():(i=Date.now(),setTimeout(l,0))),e.options.update=(l,c,d)=>{t.x=c,t.y=d},e.options.onEnd=()=>{t.done=!0,t.simulation=void 0,t.cleanUp&&t.cleanUp()},e.options.bucketSize=0,e.options.batch=16;const s=r&&n?Xh(e.graph,n,e.options).start():ok(e.graph,e.options).start(),{X:o,Y:a}=s.data();t.simulation=s,t.x=o,t.y=a}return{graph:t.graph,indexes:t.indexes,x:t.x,y:t.y}},context:function(){return{done:!1,graph:{nodes:[],edges:[]},x:null,y:null,indexes:null,chunkPeriod:250}},stop:function(e){e.done=!0,e.simulation&&(e.simulation.stop(),delete e.simulation)},isRunning:function(e){return!e.done||(e.done=!1,!1)},onSync:function({indexes:e,x:t,y:n}){return{indexes:e,x:t,y:n}}};function PH(e,t,n,r,i){return{x:e+i*(n-e),y:t+i*(r-t)}}var FH=10;function RH(e,t,n){let r,i,s=1/0;for(let o=0,a=t.length;o<a;o++){const l=t[o],c=t[(o+1)%a],d=fv(e[0],e[1],l[0],l[1],c[0],c[1]);d<s&&(s=d,r=l,i=c)}return DH(e[0],e[1],r[0],r[1],i[0],i[1],n)}function DH(e,t,n,r,i,s,o){const a=II(e,t,n,r,i,s);let l=-(r-s),c=n-i;const d=Math.sqrt(l*l+c*c);return l/=d,c/=d,[a.x-o*l,a.y-o*c]}function zH(e,t,n,r){for(let i=0;i<e.length;i++){const[s,o]=e[i],a=Math.abs(s-t),l=Math.abs(o-n);if(a+l<=r||!(a>r||l>r)&&a*a+l*l<=r*r)return!0}return!1}function OH(e,t,n){const r=LI(n.cx,n.cy,e,t,n.minX,n.minY,n.maxX,n.maxY);let i,s=1/0,o={x:n.maxX,y:t};for(const a of r)i=vn(e,t,a.x,a.y),i<s&&(s=i,o=a);return o}function BH(e){const t=e.bottomLeft(),n=e.topRight();return[[t.x,t.y],[t.x,n.y],[n.x,n.y],[n.x,t.y]]}function jH(e,t,n,r){const i=[],s=[],o=[];return e.forEach((a,l)=>{r[l]&&(i.push(a),s.push(t[l]),o.push(n[l]))}),{ids:i,subgraphPositions:s,radii:o}}function UH(e,t,n){const{duration:r=0,margin:i=5,referenceNodes:s,nodes:o}=t,{ids:a,subgraphPositions:l,radii:c}=jH(o.getId(),n,o.getAttribute("radius"),o.getAttribute("layoutable")),d=e.getNodes(a);let u=s;!u||u instanceof ws||(u=e.getNodes(u));const h=u||d.inverse(),g=h.getPosition().map(k=>[k.x,k.y]),p=d.getBoundingBox(),m=h.getBoundingBox();m.pad(m.maxScaledSize);const _={layoutName:"incremental",ids:d.getId(),positions:{before:l,current:l}};if(!d.size)return Promise.resolve(_);const y=Zp(l.map(k=>k.x),l.map(k=>k.y),c),[f,x]=y,v=y[2]+m.maxScaledSize+i;let w,b=0,S=0;if(zH(g,f,x,v))if(h.size<=3){if(tv(f,x,y[2],m.minX,m.minY,m.maxX,m.maxY)){const k=OH(f,x,m);w=vn(m.cx,m.cy,k.x,k.y);const C=PH(m.cx,m.cy,k.x,k.y,(w+v)/w);b=C.x-f,S=C.y-x}}else{const k=Bx.from(g,B=>B[0],B=>B[1]),C=fd(k.triangles,g),A=g.length>3?fd(k.hull,g):BH(m),N=aN(h.getPosition(),FH,v,C,A);let R=RH([f,x],A,v);if(N.length>0){let B=Math.pow(f-R[0],2)+Math.pow(x-R[1],2);for(const W of N)b=f-W[0],S=x-W[1],w=b*b+S*S,w<B&&(B=w,R=W.slice(0,2));b=R[0]-f,S=R[1]-x}else b=R[0]-p.cx,S=R[1]-p.cy}if(b||S){const k=l.map(C=>(C.x+=b,C.y+=S,C));if(t.locate){typeof t.locate=="boolean"&&(t.locate={});const C=e.modules.locate.layoutDataBoundingBox({x:[...g.map(N=>N[0]),...k.map(N=>N.x)],y:[...g.map(N=>N[1]),...k.map(N=>N.y)],indexes:e.getNodes()._indexes}),A=e.modules.locate.computeConfigForBounds(C,t.locate);e.modules.camera.setView(A,{duration:r,easing:t.locate.easing,ignoreZoomLimits:!0})}return _.positions.current=k,d.setAttributes(k,r).then(()=>_)}return d.setAttributes(l,r).then(()=>_)}function $H(e,t,n){const r=cn(t);return r.duration=0,r.dryRun=!0,r.locate=!1,delete r.incremental,n(r).then(i=>UH(e,t,i.positions.current))}function VH(e,t,n){const{nodes:r,duration:i,centralNode:s}=t,o=r,a=o.reduce((c,d)=>(c[d._index]=!0,c),{}),l=e.getNodes();if(t.focusOnGroupShape)return n({nodes:o,duration:0}).then(()=>{const c=o.concat(s),d=c.getAttribute("layoutable");return c.setAttributes({layoutable:!1}),n({nodes:e.getNodes(),duration:i}).then(()=>c.setAttributes(d))});{const c=cn(t);return delete c.centralNode,c.incremental=!1,c.nodes=l,c.nodeMass=(d,u)=>(u+1)*(a[d._index]?1:2),n(c)}}function SF(e,t,n){const r=mP(t.modules.graph,e);if(typeof r.incremental!="boolean"&&"margin"in r.incremental&&!isFinite(r.incremental.margin))throw new Error("Incremental layout: margin has to be a positive number");const i=cn(r);return typeof r.incremental!="boolean"&&(i.margin=r.incremental.margin,i.referenceNodes=r.incremental.referenceNodes),i.centralNode&&!i.centralNode.getAttribute("layoutable")?VH(t,i,n):$H(t,i,n)}var GH=200,HH=15e3,WH=e=>(e.modules.layouts.register(ak),(t={})=>{if(t.incremental)return SF(t,e,e.layouts.force);if(t.edgeStrength!==void 0&&(!isFinite(t.edgeStrength)||t.edgeStrength<0))throw new Error("force layout: edgeStrength must be a positive number");if(t.steps!==void 0&&(!isFinite(t.steps)||t.steps<=0))throw new Error("force layout: 'steps' must be a positive integer");if(t.edgeLength!==void 0&&(!isFinite(t.edgeLength)||t.edgeLength<=0))throw new Error("force layout: 'edgeLength' must be positive");if(t.gravity!==void 0&&(!isFinite(t.gravity)||t.gravity<0||t.gravity>=1))throw new Error("force layout: 'gravity' must be between 0 and 1");if(t.charge!==void 0&&!isFinite(t.charge))throw new Error("force layout: 'charge' must be a number");if(t.radiusRatio!==void 0&&(!isFinite(t.radiusRatio)||t.radiusRatio<0))throw new Error("force layout: 'radiusRatio' must be a positive number");if(t.theta!==void 0&&(!isFinite(t.theta)||t.theta<0||t.theta>1))throw new Error("force layout: 'theta' must be between 0 and 1");if(!(t.cx===void 0&&t.cy===void 0||typeof t.cx=="number"&&typeof t.cy=="number"))throw new Error("force layout: both 'cx' and 'cy' must be numbers");if(t.siblingsOffset!==void 0&&!isFinite(t.siblingsOffset))throw new Error("force layout: 'siblingsOffset' must be a number");const n=!!t.gpu&&(t.nodes?Rn(t.nodes)?t.nodes.length:t.nodes.size:e.getNodes().size)>HH;return t.gpu=!n&&!!t.gpu,t.gpu&&(t.useWebWorker=!1,t.steps=GH),e.modules.layouts.start(ak.name,t)}),lk={name:"forceLink",configure:function(e,{graph:t,camera:n,graphics:r}){const i=e.nodes._indexes,s=e.edges._indexes,o={},a={},l=i.length,c=s.length;let d;var u=t.getObjectList(!0),h=t.getObjectList(!1);(e.nodes||e.edges)&&(delete(e=cn(e)).nodes,delete e.edges);const g=t.getNodeAttribute("innerStroke.width").getMultiple(i),p=t.getNodeAttribute("outerStroke.width").getMultiple(i),m=t.degrees(i),_=t.getNodeAttribute("x").getMultiple(i),y=t.getNodeAttribute("y").getMultiple(i),f=t.getNodeAttribute("radius").getMultiple(i),x=t.nodeList(i).getAttribute("layoutable"),v=typeof e.nodeMass=="function"?e.nodeMass:function(F,T,H){return T+1};delete e.nodeMass;const w=typeof e.edgeWeight=="function"?e.edgeWeight:function(F){return 1};delete e.edgeWeight,isFinite(e.scalingRatio)||delete e.scalingRatio;const b=i.reduce((F,T,H)=>(x[H]||(F[T]=!0),F),{});let S=0,k=0,C=0;const A=n.getZoom();for(d=0;d<i.length;++d){const F=i[d],T=_[d],H=y[d],G=f[d]+(g[d]+p[d])/A;o[F]={id:F,x:T,y:H,degree:m[d],size:G,pinned:!!b[F],mass:v(u.get(F),m[d],d)},C=Math.max(G,C)}if(l>1)for(d=0;d<l;d++){const F=o[i[d]];S+=F.x,k+=F.y}S/=l,k/=l;const N={x:S,y:k},R=t.edgeList(s),B=R.getSource()._indexes,W=R.getTarget()._indexes;for(d=0;d<c;d++){const F=s[d],T=B[d],H=W[d];o[T]&&o[H]&&(a[F]={source:T,target:H},a[F].weight=w(h.get(F)))}return{nodes:o,edges:a,maxSize:C,config:Wp(e),barycentre:N}},context:function(){return{chunkPeriod:250}},update:function(e,t){let n;!t.W&&e?(n={ppn:10,ppe:3,ppr:9,MAX_SUBDIVISION_RETRIES:3,maxForce:10,iterations:0,converged:!1,settings:{linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:100,strongGravityMode:!0,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5,startingIterations:10,iterationsPerRender:10,maxIterations:1e3,avgDistanceThreshold:.01,autoStop:!0,alignNodeSiblings:!0,nodeSiblingsScale:5,nodeSiblingsAngleMin:0}},t.W=n,function(F,T){const H=function(q,te){let J,ue,Te,ce=q.nodes,_e=q.edges,ze=q.maxSize,Ye=Object.keys(q.nodes),qe=Object.keys(q.edges),ge=Ye.length*n.ppn,ye=qe.length*n.ppe,Ze={};const tt=Math.pow(10,Math.log(Math.max(ze,1))-6),ut=tt/2,st=Math.random,Z=te.randomizeFactor||1;let ee;ee=te.randomize==="locally"?he=>he+st()*Z:te.randomize==="globally"?he=>st()*Z:he=>he+st()*tt-ut;const se=new Float32Array(ge),oe=new Float32Array(ye);for(J=ue=0,Te=Ye.length;J<Te;J++){const he=Ye[J],pe=ce[he];let De=pe.x,Ie=pe.y;pe.pinned||(De=ee(De),Ie=ee(Ie)),Ze[he]=ue,se[ue]=De,se[ue+1]=Ie,se[ue+2]=0,se[ue+3]=0,se[ue+4]=0,se[ue+5]=0,se[ue+6]=pe.mass,se[ue+7]=1,se[ue+8]=pe.size,se[ue+9]=pe.pinned||0,ue+=n.ppn}for(J=ue=0,Te=qe.length;J<Te;J++){const he=_e[qe[J]];oe[ue]=Ze[he.source],oe[ue+1]=Ze[he.target],oe[ue+2]=he.weight||0,ue+=n.ppe}return{nodes:se,edges:oe}}(F,T);t.NodeMatrix=H.nodes,t.EdgeMatrix=H.edges,n.nodesLength=t.NodeMatrix.length,n.edgesLength=t.EdgeMatrix.length}(e,e.config),n.settings=function(F,T){for(const H in F)T[H]=F[H];return T}(e.config,n.settings),t.nodes=e.nodes,t.edges=e.edges,t.barycentre=e.barycentre):n=t.W;let r,i=t.NodeMatrix,s=t.EdgeMatrix;const o=0,a=1,l=2,c=3,d=4,u=5,h=6,g=7,p=8,m=9,_=0,y=1,f=2,x=0,v=1,w=2,b=3,S=4,k=5,C=6,A=7,N=8;function R(){let W,F,T,H,G,q,te,J,ue,Te,ce,_e,ze,Ye,qe,ge,ye;for(T=0;T<n.nodesLength;T+=n.ppn)i[T+d]=i[T+l],i[T+u]=i[T+c],i[T+l]=0,i[T+c]=0;if(n.settings.outboundAttractionDistribution){for(ue=0,T=0;T<n.nodesLength;T+=n.ppn)ue+=i[T+h];ue/=n.nodesLength}if(n.settings.barnesHutOptimize){let ee,se,oe,he,pe=1/0,De=-1/0,Ie=1/0,Pe=-1/0;for(r=[],T=0;T<n.nodesLength;T+=n.ppn)pe=Math.min(pe,i[T+o]),De=Math.max(De,i[T+o]),Ie=Math.min(Ie,i[T+a]),Pe=Math.max(Pe,i[T+a]);const nt=De-pe,rt=Pe-Ie;for(nt>rt?(Ie-=(nt-rt)/2,Pe=Ie+nt):(pe-=(rt-nt)/2,De=pe+rt),r[0+x]=-1,r[0+v]=(pe+De)/2,r[0+w]=(Ie+Pe)/2,r[0+b]=Math.max(De-pe,Pe-Ie),r[0+S]=-1,r[0+k]=-1,r[0+C]=0,r[0+A]=0,r[0+N]=0,W=1,T=0;T<n.nodesLength;T+=n.ppn)for(F=0,oe=n.MAX_SUBDIVISION_RETRIES;;){if(!(r[F+k]>=0)){if(r[F+x]<0){r[F+x]=T;break}if(r[F+k]=W*n.ppr,te=r[F+b]/2,J=r[F+k],r[J+x]=-1,r[J+v]=r[F+v]-te,r[J+w]=r[F+w]-te,r[J+b]=te,r[J+S]=J+n.ppr,r[J+k]=-1,r[J+C]=0,r[J+A]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]-te,r[J+w]=r[F+w]+te,r[J+b]=te,r[J+S]=J+n.ppr,r[J+k]=-1,r[J+C]=0,r[J+A]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]+te,r[J+w]=r[F+w]-te,r[J+b]=te,r[J+S]=J+n.ppr,r[J+k]=-1,r[J+C]=0,r[J+A]=0,r[J+N]=0,J+=n.ppr,r[J+x]=-1,r[J+v]=r[F+v]+te,r[J+w]=r[F+w]+te,r[J+b]=te,r[J+S]=r[F+S],r[J+k]=-1,r[J+C]=0,r[J+A]=0,r[J+N]=0,W+=4,he=F+x,ee=i[r[he]+o]<r[F+v]?i[r[he]+a]<r[F+w]?r[F+k]:r[F+k]+n.ppr:i[r[he]+a]<r[F+w]?r[F+k]+2*n.ppr:r[F+k]+3*n.ppr,r[F+C]=i[r[he]+h],r[F+A]=i[r[he]+o],r[F+N]=i[r[he]+a],r[ee+x]=r[F+x],r[F+x]=-1,se=i[T+o]<r[F+v]?i[T+a]<r[F+w]?r[F+k]:r[F+k]+n.ppr:i[T+a]<r[F+w]?r[F+k]+2*n.ppr:r[F+k]+3*n.ppr,ee===se){if(oe--){F=ee;continue}oe=n.MAX_SUBDIVISION_RETRIES;break}r[se+x]=T;break}ee=i[T+o]<r[F+v]?i[T+a]<r[F+w]?r[F+k]:r[F+k]+n.ppr:i[T+a]<r[F+w]?r[F+k]+2*n.ppr:r[F+k]+3*n.ppr,r[F+A]=(r[F+A]*r[F+C]+i[T+o]*i[T+h])/(r[F+C]+i[T+h]),r[F+N]=(r[F+N]*r[F+C]+i[T+a]*i[T+h])/(r[F+C]+i[T+h]),r[F+C]+=i[T+h],F=ee}}if(n.settings.barnesHutOptimize)for(Te=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)for(F=0;;)if(r[F+k]>=0){if(ge=Math.sqrt((i[T+o]-r[F+A])*(i[T+o]-r[F+A])+(i[T+a]-r[F+N])*(i[T+a]-r[F+N])),2*r[F+b]/ge<n.settings.barnesHutTheta){if(ce=i[T+o]-r[F+A],_e=i[T+a]-r[F+N],n.settings.adjustSizes?ge>0?(ye=Te*i[T+h]*r[F+C]/ge/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye):ge<0&&(ye=-Te*i[T+h]*r[F+C]/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye):ge>0&&(ye=Te*i[T+h]*r[F+C]/ge/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye),r[F+S]<0)break;F=r[F+S];continue}F=r[F+k]}else{if(r[F+x]>=0&&r[F+x]!==T&&(ce=i[T+o]-i[r[F+0]+o],_e=i[T+a]-i[r[F+0]+a],ge=Math.sqrt(ce*ce+_e*_e),n.settings.adjustSizes?ge>0?(ye=Te*i[T+h]*i[r[F+0]+h]/ge/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye):ge<0&&(ye=-Te*i[T+h]*i[r[F+0]+h]/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye):ge>0&&(ye=Te*i[T+h]*i[r[F+0]+h]/ge/ge,i[T+l]+=ce*ye,i[T+c]+=_e*ye)),r[F+S]<0)break;F=r[F+S]}else for(Te=n.settings.scalingRatio,H=0;H<n.nodesLength;H+=n.ppn)for(G=0;G<H;G+=n.ppn)ce=i[H+o]-i[G+o],_e=i[H+a]-i[G+a],n.settings.adjustSizes?(ge=Math.sqrt(ce*ce+_e*_e)-i[H+p]-i[G+p],ge>0?(ye=Te*i[H+h]*i[G+h]/ge/ge,i[H+l]+=ce*ye,i[H+c]+=_e*ye,i[G+l]+=ce*ye,i[G+c]+=_e*ye):ge<0&&(ye=100*Te*i[H+h]*i[G+h],i[H+l]+=ce*ye,i[H+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye)):(ge=Math.sqrt(ce*ce+_e*_e),ge>0&&(ye=Te*i[H+h]*i[G+h]/ge/ge,i[H+l]+=ce*ye,i[H+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye));for(J=n.settings.gravity/n.settings.scalingRatio,Te=n.settings.scalingRatio,T=0;T<n.nodesLength;T+=n.ppn)ye=0,ce=i[T+o],_e=i[T+a],ge=Math.sqrt(ce*ce+_e*_e),n.settings.strongGravityMode?ge>0&&(ye=Te*i[T+h]*J):ge>0&&(ye=Te*i[T+h]*J/ge),i[T+l]-=ce*ye,i[T+c]-=_e*ye;for(Te=1*(n.settings.outboundAttractionDistribution?ue:1),q=0;q<n.edgesLength;q+=n.ppe)H=s[q+_],G=s[q+y],te=s[q+f],qe=Math.pow(te,n.settings.edgeWeightInfluence),ce=i[H+o]-i[G+o],_e=i[H+a]-i[G+a],n.settings.adjustSizes?(ge=Math.sqrt(ce*ce+_e*_e)-i[H+p]-i[G+p],n.settings.linLogMode?n.settings.outboundAttractionDistribution?ge>0&&(ye=-Te*qe*Math.log(1+ge)/ge/i[H+h]):ge>0&&(ye=-Te*qe*Math.log(1+ge)/ge):n.settings.outboundAttractionDistribution?ge>0&&(ye=-Te*qe/i[H+h]):ge>0&&(ye=-Te*qe)):(ge=Math.sqrt(ce*ce+_e*_e),n.settings.linLogMode?n.settings.outboundAttractionDistribution?ge>0&&(ye=-Te*qe*Math.log(1+ge)/ge/i[H+h]):ge>0&&(ye=-Te*qe*Math.log(1+ge)/ge):n.settings.outboundAttractionDistribution?(ge=1,ye=-Te*qe/i[H+h]):(ge=1,ye=-Te*qe)),ge>0&&(i[H+l]+=ce*ye,i[H+c]+=_e*ye,i[G+l]-=ce*ye,i[G+c]-=_e*ye);let Ze,tt,ut,st,Z=0;if(n.settings.adjustSizes)for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(Ze=Math.sqrt(i[T+l]*i[T+l]+i[T+c]*i[T+c]),Ze>n.maxForce&&(i[T+l]=i[T+l]*n.maxForce/Ze,i[T+c]=i[T+c]*n.maxForce/Ze),tt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),ut=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,st=.1*Math.log(1+ut)/(1+Math.sqrt(tt)),ze=i[T+o],Ye=i[T+a],i[T+o]=i[T+o]+i[T+l]*(st/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(st/n.settings.slowDown),ce=i[T+o],_e=i[T+a],ge=Math.sqrt((ce-ze)*(ce-ze)+(_e-Ye)*(_e-Ye)),Z+=ge);else for(T=0;T<n.nodesLength;T+=n.ppn)i[T+m]||(tt=i[T+h]*Math.sqrt((i[T+d]-i[T+l])*(i[T+d]-i[T+l])+(i[T+u]-i[T+c])*(i[T+u]-i[T+c])),ut=Math.sqrt((i[T+d]+i[T+l])*(i[T+d]+i[T+l])+(i[T+u]+i[T+c])*(i[T+u]+i[T+c]))/2,st=i[T+g]*Math.log(1+ut)/(1+Math.sqrt(tt)),i[T+g]=Math.min(1,Math.sqrt(st*(i[T+l]*i[T+l]+i[T+c]*i[T+c])/(1+Math.sqrt(tt)))),ze=i[T+o],Ye=i[T+a],i[T+o]=i[T+o]+i[T+l]*(st/n.settings.slowDown),i[T+a]=i[T+a]+i[T+c]*(st/n.settings.slowDown),ce=i[T+o],_e=i[T+a],ge=Math.sqrt((ce-ze)*(ce-ze)+(_e-Ye)*(_e-Ye)),Z+=ge);if(n.iterations++,n.settings.autoStop&&(n.converged=n.iterations>n.settings.maxIterations||Z/n.nodesLength<n.settings.avgDistanceThreshold,n.converged&&n.settings.alignNodeSiblings)){let ee,se,oe={},he={};for(q=0;q<n.edgesLength;q+=n.ppe)H=s[q+_],G=s[q+y],H!==G&&(oe[H]=oe[H]||{},oe[G]=oe[G]||{},oe[H][G]=!0,oe[G][H]=!0);Object.keys(oe).forEach(bt=>{var Gt=~~bt;se=Object.keys(oe[Gt]),se.length==2&&(ee=se[0]+";"+se[1],ee in he||(ee=se[1]+";"+se[0],he[ee]||(he[ee]=[~~se[1],~~se[0]])),he[ee].push(Gt))});let pe,De,Ie,Pe,nt,rt,Rt,It,Mt,Wt,vt,lt,Ct,Pt,Dt,At=n.settings.nodeSiblingsAngleMin;Object.keys(he).forEach(bt=>{if(De=he[bt].shift(),Ie=he[bt].shift(),pe=he[bt].filter(ht=>!i[ht+m]),pe.length==1)return;if(rt=i[De+o],Rt=i[De+a],It=i[Ie+o],Mt=i[Ie+a],Pe=Object.keys(oe[De]).length,nt=Object.keys(oe[Ie]).length,Wt=function(xt,gt,jt,Jt,pn){return(pn-Jt)*(xt-gt)/(jt-gt)+Jt}(Pe/(Pe+nt),0,1,1/4,3/4),lt=function(xt,gt,jt,Jt,pn){return{x:xt+(jt-xt)*pn,y:gt+(Jt-gt)*pn}}(rt,Rt,It,Mt,Wt),Ct=function(xt,gt,jt,Jt){return{xi:-(Jt-gt),yi:jt-xt,xiPrime:Jt-gt,yiPrime:-(jt-xt)}}(rt,Rt,It,Mt),vt=function(xt,gt,jt,Jt){const pn=jt-xt,zn=Jt-gt;return Math.sqrt(pn*pn+zn*zn)}(rt,Rt,It,Mt),Pt=function(xt,gt){return{x:(xt.xiPrime-xt.xi)/gt,y:(xt.yiPrime-xt.yi)/gt}}(Ct,vt),Dt=function(xt){return Math.acos(xt.x/Math.sqrt(xt.x*xt.x+xt.y*xt.y))}(Pt),2*At>Math.PI)throw new Error("ForceLink.Worker - Invalid parameter: angleMin must be smaller than 2 PI.");At>0&&(Dt<At||Dt>Math.PI-At&&Dt<=Math.PI?Pt={x:2*Math.cos(Math.PI-At),y:2*Math.sin(Math.PI-At)}:(Dt>2*Math.PI-At||Dt>=Math.PI&&Dt<Math.PI+At)&&(Pt={x:2*Math.cos(At),y:2*Math.sin(At)}));let Gt=0,Xt=1,Er=1;pe.length%2==1&&(Er=0,Gt=1);for(let ht=0;ht<pe.length;ht++)i[pe[ht]+o]=lt.x+Xt*Pt.x*Er*(Gt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),i[pe[ht]+a]=lt.y+Xt*Pt.y*Er*(Gt||ht>=2?n.settings.nodeSiblingsScale:2*n.settings.nodeSiblingsScale/3),Xt=-Xt,Er+=(ht+Gt)%2})}}function B(W){const F=Object.keys(W),T={};for(let H=0;H<i.length;H+=n.ppn){const G=F[H/n.ppn];T[G]={id:G,x:i[H+o],y:i[H+a],pinned:i[H+m]}}return T}return function(){if(n.settings.autoStop){const F=Date.now();for(;!(n.converged||Date.now()-F>=t.chunkPeriod);)R()}else{const F=n.iterations===0?n.settings.startingIterations:n.iterations+n.settings.iterationsPerRender;for(;n.iterations!==F;)R()}return{nodes:B(t.nodes),barycentre:t.barycentre}}()},isRunning:function(e){return!e.W.settings.autoStop||!e.W.converged||(e.W=void 0,!1)},stop:function(e){e.W&&(e.W.converged=!0)},onSync:function({nodes:e,barycentre:t},{graph:n}){const r=Object.keys(e),i=r.length;let s,o,a,l,c,d,u,h,g=0,p=0;const m=new Array(i),_=new Array(i),y=new Array(i),f=new Array(i),[x,v]=n.getAttributes(!0,["x","y"]);for(s=0;s<i;s++)o=r[s],a=e[o],h=parseInt(o),m[s]=h,f[s]=a.pinned,a.pinned?(l=x.get(h),c=v.get(h)):(l=a.x,c=a.y),_[s]=l,y[s]=c,g+=l,p+=c;for(d=g/i-t.x,u=p/i-t.y,s=0;s<i;s++)f[s]||(_[s]-=d,y[s]-=u);return{indexes:m,x:_,y}}},XH=e=>(e.modules.layouts.register(lk),(t={})=>t.incremental?SF(t,e,e.layouts.forceLink):e.modules.layouts.start(lk.name,t)),ck={name:"grid",configure:function(e,{graph:t,camera:n}){function r(b){return b===void 0||typeof b=="number"&&isFinite(b)&&b>0}const i=e.sortBy,s=e,o=s.nodes,a=Array.from(o._indexes),l=a.length,{rows:c,cols:d,rowDistance:u,colDistance:h}=function(S,k,C,A,N){if(!r(k))throw new TypeError('"rows" should be a positive integer');if(!r(C))throw new TypeError('"cols" should be a positive integer');if(!r(A))throw new TypeError('"rowDistance" should be a positive number');if(!r(N))throw new TypeError('"colDistance" should be a positive number');if(k)return{rows:k,cols:Math.ceil(S/k),rowDistance:A,colDistance:N};if(C)return{cols:C,rows:Math.ceil(S/C),rowDistance:A,colDistance:N};const R=Math.ceil(Math.sqrt(S));return{cols:R,rows:Math.ceil(S/R),rowDistance:A,colDistance:N}}(l,s.rows,s.cols,s.colDistance,s.rowDistance),g=function(S,k,C,A,N){return typeof S!="string"?A.map((R,B)=>B):S==="radius"?k.getAttribute(!0,"radius").getMultiple(A):S==="degree"?C.getDegree():S==="random"?A.map(()=>Math.random()):C.getData(S).map(R=>R||N)}(i,t,o,a,e.sortFallbackValue),p=o.getAttribute("layoutable"),m=a.reduce((b,S,k)=>(p[k]&&b.push({id:S,attr:g[k]}),b),[]),_=o.getBoundingBox(),y=.65*Math.max(_.maxScaledSize,_.maxFixedSize/n.getZoom());let f=_.minX+y,x=_.maxX-y,v=_.minY+y,w=_.maxY-y;return _.width<y*d*2&&(f=_.cx-y*d+y,x=_.cx+y*d-y),_.height<y*c*2&&(v=_.cy-y*c+y,w=_.cy+y*c-y),{sort:!!i,nodes:m,reverse:!!s.reverse,cols:d,rows:c,minX:f,maxX:x,minY:v,maxY:w,rowDistance:u,colDistance:h}},update:function({sort:e,nodes:t,maxX:n,minX:r,maxY:i,minY:s,reverse:o,rows:a,cols:l,rowDistance:c,colDistance:d}){e&&t.sort((y,f)=>{const x=y.attr,v=f.attr;return x<v?-1:x>v?1:0}),o&&t.reverse();let u=(n-r)/(l-1),h=(i-s)/(a-1);const g=r,p=s;isFinite(u)||(u=0),isFinite(h)||(h=0),c!==void 0&&isFinite(c)&&(u=c),d!==void 0&&isFinite(d)&&(h=d);let m=0,_=0;return t.forEach(y=>{y.x=g+m*u,y.y=p+_*h,m+=1,m===l&&(_+=1,m=0)}),t},onSync:function(e){return{indexes:e.map(({id:t})=>t),x:e.map(({x:t})=>t),y:e.map(({y:t})=>t)}}},YH=e=>(e.modules.layouts.register(ck),(t={})=>e.modules.layouts.start(ck.name,t)),Yv={id:"__SENTINEL__",layer:-1,sink:!1,fixed:!1,siblingIndex:-1,parentIds:[],children:[],radius:0,ref:null},wc=e=>e.data===Yv||!1,ly=e=>!wc(e),qH=[],ZH=(e,t)=>({id:e,layer:t,data:Yv,children:qH,ref:void 0,x:0,y:0}),QH=(e,t)=>({id:e,layer:-1,data:t,children:[],x:0,y:0}),dk=class{constructor(e,t,n){this.data=e,this.prev=t,this.next=n}toString(){return this.data}},kF=e=>e.reduce((t,n)=>(t[n]=!0,t),{});function KH(e,t){const n=[e],r=kF(n),i=[e];for(;n.length;){const s=n.shift();for(const o of t[s])r[o]||(r[o]=!0,i.push(o),n.push(o))}return i}function qv(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[r]=t[r]||[],t[n].push(r),t[r].push(n),t),{})}function JH(e){return e.reduce((t,{source:n,target:r})=>(t[n]=t[n]||[],t[n].push(r),t),{})}function e9(e,t,n){const r=n||qv(t||[]);return e.filter(({id:i})=>!(i in r))}function t9(e,t){const n=kF(t);return e.filter(r=>!(r in n))}function Jr(e,t){e.forEach((n,r)=>{n.forEach((i,s,o)=>{t(i,s,o,r)})})}var uk=e=>{let t=Math.floor(e.length/2);return(e=[...e].sort((n,r)=>n-r)).length%2!=0?e[t]:(e[t-1]+e[t])/2};function n9(e,t,n){const r=qv(t);let i=Object.keys(r);const s=[];for(;i.length;){const o=KH(i[0],r);s.push(o),i=t9(i,o)}return n.skipSingletons?s:s.concat(e9(e,t,r).map(({id:o})=>[o]))}function r9(e,t,n){const r=t.reduce((o,a)=>(o[a.source]=o[a.source]||[],o[a.source].push(a),o),{}),{result:i}=e.reduce(function o(a,l){const{visited:c,stack:d,result:u}=a;if(c[l.id])return a;c[l.id]=d[l.id]=1;const h=r[l.id]||[];for(const g of h)d[g.target]?u.push(g):o(a,n[g.target]);return delete d[l.id],a},{visited:{},stack:{},result:[]}),s=i.reduce((o,{source:a,target:l})=>(o[a]=o[a]||{},o[a][l]=1,o),{});return t.map(o=>{const{source:a,target:l,id:c}=o;return s[a]&&s[a][l]?{id:c,source:l,target:a}:o})}function i9(e){let t=0,n=0;for(const o of e)t+=o.w*o.h,n=Math.max(n,o.w);e.sort((o,a)=>a.h-o.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,s=0;for(const o of e)for(let a=r.length-1;a>=0;a--){const l=r[a];if(!(o.w>l.w||o.h>l.h)){if(o.x=l.x,o.y=l.y,s=Math.max(s,o.y+o.h),i=Math.max(i,o.x+o.w),o.w===l.w&&o.h===l.h){const c=r.pop();a<r.length&&(r[a]=c)}else o.h===l.h?(l.x+=o.w,l.w-=o.w):o.w===l.w?(l.y+=o.h,l.h-=o.h):(r.push({x:l.x+o.w,y:l.y,w:l.w-o.w,h:o.h}),l.y+=o.h,l.h-=o.h);break}}return{w:i,h:s,fill:t/(i*s)||0}}var s9={down:()=>{},up:e=>e.y=-e.y,left:e=>{const t=e.x;e.x=-e.y,e.y=t},right:e=>{const t=e.x;e.x=e.y,e.y=-t}},Uf=(e,t)=>isFinite(e)&&e>0?e:t;function o9(e){return{nodesSeparation:Uf(e.nodesSeparation,0),componentsSeparation:Uf(e.componentsSeparation,25),layerSeparation:Uf(e.layerSeparation,50)}}function a9(e,{componentsSeparation:t,layerSeparation:n,packing:r}){const i=n/2,s=[];for(const o of e){const a=o.nodes;if(o.isFake&&o.w!==void 0&&o.h!==void 0){s.push({w:o.w,h:o.h,x:void 0,y:void 0,dag:o});continue}if(o.nodes.length===1){const g=2*a[0].data.radius;s.push({w:g+t,h:g+i,x:void 0,y:void 0,dag:o});continue}const l=a.reduce((g,{x:p,data:m})=>Math.min(g,p-m.radius||1),1/0),c=a.reduce((g,{x:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),d=a.reduce((g,{y:p,data:m})=>Math.min(g,p-m.radius||1),1/0),u=a.reduce((g,{y:p,data:m})=>Math.max(g,p+m.radius||1),-1/0),h=(c+l)/2;a.forEach(g=>{g.x-=h}),s.push({w:Math.abs(c-l)+t,h:Math.abs(u-d)+i,minX:l,x:void 0,y:void 0,dag:o})}if(r!=="singleline")i9(s);else{let o=0;for(const a of s)a.x=o,a.y=0,o+=a.w}return s}function l9(e,t={}){const{componentsSeparation:n,layerSeparation:r}=o9(t);t.direction===void 0&&(t.direction="down");const i=a9(e,{layerSeparation:r,componentsSeparation:n,packing:t.packing});for(const s of i){const{x:o=0,y:a=0,w:l,dag:c}=s;for(const d of c.nodes)d.x+=o+l/2,d.y+=a,s9[t.direction](d)}}var c9=e=>e.reduce((t,{radius:n})=>Math.max(t,2*n),0);function d9(e,t){return Se({nodes:e.map(n=>St(Se({},n),{data:n})),isFake:!0},t)}function u9(e,t,n){const r=qv(t||[]),i=e.filter(({id:g})=>!(g in r)).sort((g,p)=>p.radius-g.radius),s=Math.sqrt(i.length);let o=Math.floor(s),a=Math.ceil(s);o*a<i.length&&(o<a?o++:a++);const l=Math.max(1,c9(i)),c=Math.max(n.nodesGridSeparation||0,1),d=l*a+c*(a-1),u=l*o+c*Math.max(o-1,0),h=d9(i,{w:d,h:u});return h.nodes.forEach((g,p)=>{const m=p%a,_=Math.floor(p/a);g.x=d*m/a,g.y=u*_/o}),h}function h9(e){if(!e||!e.length)throw Error("Cannot stratify empty data");for(const i of e){if(!i)throw Error('Node data is "null"');if(i.id==null)throw Error('Node id contains a "null" value')}const t=e.map(i=>QH(i.id,i)),n=t.reduce((i,s)=>{if(i[s.id])throw Error(`The connected component contains id duplicates: ${s.id}`);return i[s.id]=s,i},{}),r=[];for(const i of t){for(const s of i.data.parentIds){const o=n[s];if(!o)throw Error(`The node ${i.id} has a missing parent id ${s}`);o.children.push(i)}i.data.parentIds.length||r.push(i)}return{isFake:!1,nodes:g9(r)}}function g9(e){const t={},n=[];for(;e.length;){const r=e.pop();t[r.id]||(n.push(r),t[r.id]=!0,e.push(...r.children))}return n}function p9(e){if(e.sort((r,i)=>r-i),e.length===0)return 0;const t=Math.floor(e.length/2),n=Math.floor(e.length/2);return(e[t]+e[n])/2}function cy(e,t,n){const r={};return t.forEach((i,s)=>r[i.id]=s),e.map(i=>(n[i.id]||[]).map(s=>r[s]).sort()).reduce((i,s,o,a)=>{const l=s.length?s[s.length-1]:-1;for(let c=o+1;c<a.length;c++)i+=a[c].filter(d=>d<l).length;return i},0)}function m9(e,t,n,r,i){const s={};for(let o=0;o<e.length;o++)s[e[o].id]=p9((t[e[o].id]||[]).map(a=>n[a]))||0;i?e.sort((o,a)=>{const l=s[o.id]-s[a.id],c=r[o.id]===r[a.id],d=o.data.siblingIndex,u=a.data.siblingIndex;return c&&d>-1&&u>-1?d-u:l===0?n[a.id]-n[o.id]:l}):e.sort((o,a)=>{const l=s[o.id]-s[a.id];return l===0?n[a.id]-n[o.id]:l})}function hk({layers:e,topDown:t,topDownAdj:n,bottomUpAdj:r,idToIndex:i,crossings:s,sortSiblings:o}){const a=t?n:r;for(let l=t?0:e.length-1;t?l<e.length:l>=0;t?l++:l--){m9(e[l],a[l]||{},i,r[l],o);const c=l>0?cy(e[l-1],e[l],n[l-1]):0,d=l<e.length-1?cy(e[l],e[l+1],n[l]):0;d+c<(s[l]||0)+(s[l-1]||0)?(s[l]=d,l>0&&(s[l-1]=c),e[l].forEach((u,h)=>i[u.id]=h)):e[l].sort((u,h)=>i[u.id]-i[h.id])}}var f9=(e,t,n)=>{if(!n&&!t)return;const r={},i=e.map(()=>({})),s=e.map(()=>({}));e.forEach((c,d)=>{c.forEach((u,h)=>{r[u.id]=n?u.data.siblingIndex:h,u.children.forEach(g=>{const p=g.layer;p>d?(i[d][u.id]=i[d][u.id]||[],i[d][u.id].push(g.id),s[p][g.id]=s[p][g.id]||[],s[p][g.id].push(u.id)):(i[p][g.id]=i[p][g.id]||[],i[p][g.id].push(u.id),s[d][u.id]=s[d][u.id]||[],s[d][u.id].push(g.id))})})}),r[-1]=-1,n&&e.forEach(c=>c.sort((d,u)=>r[d.id]-r[u.id]));const o=e.slice(1).map((c,d)=>cy(e[d],c,i[d])),a=Math.max(...e.map(c=>c.length)),l=[[50,100],[100,10],[1e3,1],[5e3,0]].find(([c])=>a<c)[1];for(let c=0;c<l;c++)hk({layers:e,topDown:!0,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n}),hk({layers:e,topDown:!1,topDownAdj:i,bottomUpAdj:s,idToIndex:r,crossings:o,sortSiblings:n})};function _9(e){const t=e.nodes.reduce((n,r)=>r.data.fixed&&(n===null||n.layer>r.layer)?r:n,null);return t&&e.nodes.forEach(n=>n.ref=t.id),e}function y9(e){const t={},n={},r={};e.nodes.forEach(o=>{r[o.id]=o});const i=o=>{if(t[o.id])return n[o.id];t[o.id]=!0;let a=1/0;for(const l of o.children)a=Math.min(a,i(r[l.id])-1);return a===1/0&&(a=0),n[o.id]=a,a};e.nodes.forEach(o=>{o.data.parentIds.length===0&&i(o)});let s=1/0;e.nodes.forEach(o=>{s=Math.min(s,n[o.id])}),e.nodes.forEach(o=>{n[o.id]-=s,o.layer=n[o.id]})}function x9(e){e.nodes.forEach(t=>{t.layer=t.data.layer!=null?t.data.layer:t.layer})}function v9(e){if(e.nodes.every(t=>t.layer)){let t=e.nodes.reduce((n,r)=>Math.min(n,r.layer),1/0);e.nodes.forEach(n=>n.layer-=t)}}function b9(e){const t={};e.nodes.forEach(s=>{t[s.id]=[...t[s.id]||[],...s.children],s.children.forEach(o=>{t[o.id]=[...t[o.id]||[],s]})});const n=[];e.nodes.forEach(s=>{s.layer===0&&n.push(s)});const r={},i={};for(e.nodes.forEach(s=>{s.layer!==-1&&(i[s.id]=s.layer)});n.length;){const s=n.shift().id;for(const o of t[s])if(!r[o.id]){if(i[o.id]===void 0){const a=i[s]+1;i[o.id]=a,o.layer=a}r[o.id]=!0,n.push(o)}}}function w9(e){if(e.nodes.some(t=>t.data.sink)){const t=e.nodes.reduce((n,r)=>Math.max(n,r.layer),-1/0);e.nodes.forEach(n=>{n.data.sink&&(n.layer=t+1)})}}function E9(e){const t=[];e.nodes.forEach(r=>t[r.layer]=0);const n=Array.from(t).reduce((r,i,s)=>{if(s===0)return r.push(0),r;const o=r[s-1];return i!==void 0?(r.push(o),r):(r.push(o-1),r)},[]);e.nodes.forEach(r=>r.layer+=n[r.layer])}function S9(e){if(e.nodes.some(t=>"layer"in t.data&&t.data.layer<0))throw new Error("Some nodes have negative layering information");return e.nodes.some(t=>t.data&&!isNaN(t.data.layer)&&t.data.layer!==null)||y9(e),x9(e),b9(e),w9(e),v9(e),E9(e),e.nodes.forEach(t=>{const{below:n,above:r}=t.children.reduce((i,s)=>(t.layer>s.layer?i.above.push(s):i.below.push(s),i),{above:[],below:[]});r.forEach(i=>i.children.push(t)),t.children=n}),_9(e)}var k9=class{constructor(){this.byId={},this.byIndex={},this.length=0}append(t,n){let r;return this.head?(r=new dk(t,this.tail),this.tail=this.tail.next=r):(r=new dk(t),this.tail=this.head=r),this.byId[n]=r,this.byIndex[this.length++]=r,r}find(t){let n=this.head;do{if(n.data===t)return n;n=n.next}while(n)}forEach(t){let n=this.head,r=0;do t(n,r),r++;while(n=n.next)}},ei=-1,_n=1e-5,$f=[],A9=class{constructor(t,n,r){this.edges=[],this.nodeMap={},this.nodeIndexTopDown={},this.nodeToLayer={},this.longEdges={},this.virt={},this.height={},this.breadth={},this.first=[],this.totalW={},this.mDist={},this.X={},this.block={},this.nodeList=new k9,this.nodeDistance=n,this.layerDistance=r,this.layers=t;const{breadth:i,virt:s,height:o,nodeToLayer:a,nodeIndexTopDown:l,nodeMap:c,longEdges:d,edges:u}=this;let h=0;Jr(this.layers,(_,y,f,x)=>{if(l[_.id]=h++,c[_.id]=_,a[_.id]=x,this.nodeList.append(_,_.id),_.children.forEach(w=>{const b=wc(w)||wc(_);u.push({source:_.id,target:w.id,virtual:b,id:u.length})}),d[_.id])return;const v=[_.id];if(d[_.id]=v,!ly(_))for(let w=0;w<_.children.length;w++){const b=_.children[w];if(ly(b))continue;let S=b;for(;wc(S);)v.push(S.id),d[S.id]=v,S=S.children[0]}});const g=this.adjacencyList=JH(u);this.N=t.reduce((_,y)=>_+y.length,0),this.Y=new Float32Array(t.length),this.first=t.map(_=>_[0]),t.forEach((_,y)=>o[y]=0),Jr(this.layers,(_,y,f,x)=>{const v=g[_.id]?g[_.id].length:0;s[_.id]=wc(_)&&v===1,this.nodeToLayer[_.id]=x,s[_.id]?i[_.id]=0:(i[_.id]=2*_.data.radius,o[x]=Math.max(o[x]||0,2*_.data.radius))});const p={},m={};u.forEach(_=>{const y=_.source,f=_.target;p[f]=p[f]||[],p[f].push(y),m[y]=m[y]||[],m[y].push(f)}),Object.values(p).forEach(_=>{_.sort((y,f)=>this.nodeIndexTopDown[y]-this.nodeIndexTopDown[f])}),Object.values(m).forEach(_=>{_.sort((y,f)=>this.nodeIndexTopDown[y]-this.nodeIndexTopDown[f])}),this.neighbours={prev:p,next:m}}computeMinNodeDistances(){const{layers:t,totalW:n}=this;Jr(t,r=>{n[r.id]=0}),Jr(t,r=>n[r.data.id]=0),this.layers.forEach(r=>{n[r[0].id]=0,r.slice(1).forEach((i,s)=>{const o=r[s],a=i.id;n[a]=n[o.id]+o.data.radius+i.data.radius+this.nodeDistance})})}decrossVirtualEdges(){this.layers.forEach(t=>{let n=-1;t.forEach(r=>{if(!this.virt[r.id])return;const i=this.neighbours.next[r.id][0];if(this.virt[i])if(n!==-1&&n>this.nodeIndexTopDown[i]){const s=this.longEdges[r.id];let o=0;for(o=0;o<s.length&&s[o]!==i;o++);const a=s.slice(o);a.forEach(c=>this.longEdges[c]=a);const l=s.slice(0,o);l.forEach(c=>this.longEdges[c]=l)}else n=this.nodeIndexTopDown[i]})})}placeLongEdges(){const{X:t,layers:n}=this;Jr(n,r=>t[r.id]=0);for(let r=1;r>=-1;r-=2){const i={};let s=0;const o={};Jr(n,d=>o[d.id]=0),o[Yv.id]=0;const a=r;n.forEach(d=>{let u=a===1?d[0]:d[d.length-1];o[u.id]||(this.longEdges[u.id].forEach(p=>{o[p]=s}),s++);let h=a===1?0:d.length-1,g=h+a;for(;g>=0&&g<d.length;)u=d[g],o[u.id]||this.longEdges[u.id].forEach(p=>{o[p]=o[d[h].id]}),h=g,g+=a});const l={};n.forEach(d=>{for(let u=a===1?0:d.length-1;a===1?u<d.length:u>=0;u+=a){const h=d[u],g=o[h.id];l[g]=l[g]||[],l[g].push(h.id)}});const c={};this.nodeList.forEach(d=>c[d.data.id]=0);for(let d=0;d<s;d++){const u={done:!1,dist:0},h=l[d];for(const g of h)this.sortLongEdges(g,r,c,u,o,i);if(!u.done){const g=this.layers[this.nodeToLayer[l[d][0]]],p=[];g.forEach(m=>{for(const _ of this.neighbours.prev[m.id]||$f){const y=Math.abs(c[_]-c[m.id]);p.push(y)}}),p.length!==0&&(u.dist=uk(p))}for(const g of h)c[g]-=r*u.dist}Jr(n,d=>t[d.id]+=c[d.id]/2)}}sortLongEdges(t,n,r,i,s,o){if(o[t])return!1;let a=!1,l=0;const{nodeToLayer:c,totalW:d}=this,u=this.longEdges[t];u.forEach(h=>o[h]=!0),u.forEach(h=>{const g=this.nodeList.byIndex[this.nodeIndexTopDown[h]-n];if(!g)return;const p=g.data.id,m=h,_=c[p]===c[m],y=s[p]===s[m];!_||!y||(this.sortLongEdges(p,n,r,i,s,o),(!a||n*(l-r[p])<n*(d[m]-d[p]))&&(a=!0,l=r[p]+d[m]-d[p]))}),u.forEach(h=>{r[h]=l;const g=this.nodeList.byId[h],p=n===1?g.next:g.prev;if(!p)return;const m=p.data.id,_=h,y=c[m]===c[_],f=s[m]!==s[_],x=n*(d[m]-d[_]-r[m]+r[_]);y&&f&&(!i.done||x>i.dist)&&(i.dist=x,i.done=!0)})}placeNonVirtualNodes(){const t={};Jr(this.layers,c=>t[c.id]=-1);const{X:n,totalW:r,virt:i,nodeIndexTopDown:s,mDist:o,nodeList:a}=this,l={};Jr(this.layers,(c,d,u,h)=>{if(!i[c.id])return void(l[c.id]=!1);let g=this.nodeList.byId[c.id].next;for(;g&&this.nodeToLayer[g.data.id]===h&&!i[g.data.id];)g=g.next;l[c.id]=this.nodeToLayer[g.data.id]===h&&n[g.data.id]-n[c.id]<r[g.data.id]-r[c.id]+_n}),Jr(this.layers,({id:c})=>{l[c]&&t[c]===-1&&this.longEdges[c].forEach(d=>{d!==c&&(t[d]=s[d]<s[c]?1:0)})}),Jr(this.layers,({id:c})=>o[c]=r[c]);for(let c=0;c<2;c++)for(let d=c?this.layers.length-1:0;d>=0&&d<this.layers.length;c?d--:d++){let u=ei;const h=this.layers[d];if(h.forEach(({id:g},p,m)=>{if(i[g]){if(u===ei){this.placeSequence(ei,g,m[0].id,a.byId[g].prev.data.id,c);for(let _=0;_<p;_++){const y=m[_].id;o[y]=o[g]-n[g]+n[y]}}else if(t[u]!==1-c){l[u]||this.placeSequence(u,g,a.byId[u].next.data.id,a.byId[g].prev.data.id,c);const _=c===1?this.neighbours.prev:this.neighbours.next,y=_[u][0],f=_[g][0];if(i[y]&&i[f])for(let x=s[y]+1;x<s[f];x++)t[a.byIndex[x].data.id]=c}u=g}}),u===ei)this.placeSequence(ei,ei,h[0].id,h[h.length-1].id,c),h.forEach(({id:g})=>o[g]=n[g]);else{this.placeSequence(u,ei,a.byId[u].next.data.id,h[h.length-1].id,c);for(let g=h.length-1;g>=0;g--){const p=h[g].id;if(p===u)break;o[p]=o[u]-n[u]+n[p]}}}}placeSequence(t,n,r,i,s,o=0){const a=this.nodeIndexTopDown[r],l=this.nodeIndexTopDown[i],{X:c,nodeIndexTopDown:d,mDist:u}=this;if(a===l)c[r]=this.placeNode(r,t,n,c[r],s);else if(a<l){const h=Math.floor((d[r]+d[i])/2),g=this.nodeList.byIndex[h],p=g.next.data.id,m=u[p]-u[g.data.id];this.placeSequence(t,n,r,g.data.id,s,o+1),this.placeSequence(t,n,p,i,s,o+1),this.combineSequences(t,n,r,i,p,g.data.id,s,m)}}calculateBends(t,n,r,i,s,o,a,l){let c=0;const d=[],{X:u,mDist:h,neighbours:g}=this,p=this.nodeIndexTopDown[r],m=this.nodeIndexTopDown[i];for(let _=this.nodeList.byId[o],y=this.nodeIndexTopDown[_.data.id];y>=p&&y<=m&&_;_=t===-1?_.prev:_.next,y=_&&this.nodeIndexTopDown[_.data.id]){const f=_.data.id,x=(n===0?g.prev[f]:g.next[f])||$f;let v=0;for(const b of x)if(t*(u[b]-u[f])<_n)v++;else{v--;const S=u[b]+h[o]-h[f];t*(u[o]-S)>-_n?c++:(l===ei||t*(S-u[l]+h[l]-h[o])<_n)&&t*(S-u[s])<a-_n&&d.push({value:2,key:S})}const w=u[f]+h[o]-h[f];t*(u[o]-w)>-_n?c+=v:(l===ei||t*(w-u[l]+h[l]-h[o])<_n)&&t*(w-u[s])<a-_n&&d.push({value:v,key:w})}return l!==ei&&d.push({value:this.edges.length,key:u[l]-h[l]+h[o]}),d.sort(({key:_},{key:y})=>_-y),{res:c,bends:d.reduce((_,y,f)=>{if(f<d.length-1){const x=d[f+1];Math.abs(y.key-x.key)>_n?y.value>0&&_.push(y):y.value+=x.value}else y.value>0&&_.push(y);return _},[])}}combineSequences(t,n,r,i,s,o,a,l){const{X:c,mDist:d,nodeIndexTopDown:u}=this;let{res:h,bends:g}=this.calculateBends(-1,a,r,i,s,o,l,t),{res:p,bends:m}=this.calculateBends(1,a,r,i,o,s,l,n);for(g.length>0&&g.reverse();c[s]-c[o]<l-_n;){let f=0,x=0;if(h<p){const v=g.length;if(v>0){const w=g.pop();f=w.value,c[o]=w.key}(v===0||c[s]-c[o]>l+_n)&&(c[o]=c[s]-l)}else if(h>p){const v=m.length;if(v>0){const w=m.pop();x=w.value,c[s]=w.key}(v===0||c[s]-c[o]>l+_n)&&(c[s]=c[o]+l)}else{let v=(l-c[s]+c[o])/2;const w=g.length===0?v+1:c[o]-g[g.length-1].key,b=m.length===0?v+1:m[m.length-1].key-c[s];w<v+_n&&w<b+_n&&(f=g.pop().value),b<v+_n&&b<w+_n&&(x=m.pop().value),v=Math.min(v,w,b),c[o]-=v,c[s]+=v}h+=f,p+=x}let _,y=this.nodeList.byId[o].prev;for(;y&&u[_=y.data.id]>=u[r]&&c[o]-c[_]<d[o]-d[_];)c[_]=c[o]-d[o]+d[_],y=y.prev;for(y=this.nodeList.byId[s].next;y&&u[_=y.data.id]<=u[i]&&c[s]-c[_]>d[s]-d[_];)c[_]=c[s]-d[s]+d[_],y=y.next}placeNode(t,n,r,i,s){const{X:o,neighbours:a,mDist:l}=this,c=((s===0?a.prev:a.next)[t]||$f).map(d=>o[d]);return c.length===0?o[t]:(i=uk(c),n!==ei&&(i=Math.max(i,o[n]+l[t]-l[n])),r!==ei&&(i=Math.min(i,o[r]+l[t]-l[r])),i)}moveLongEdge(t,n,r){const{X:i,virt:s,totalW:o,nodeList:a}=this,{id:l}=t.data;if(r[l]||!s[l])return;const c=this.longEdges[l];if(!c)return;c.forEach(_=>r[_]=!0);const d=c[0],u=c[c.length-1],h=[];n<0?h.push(i[d]<i[u]?i[d]:i[u],i[d]<i[u]?i[u]:i[d]):n>0?h.push(i[d]<i[u]?i[u]:i[d],i[d]<i[u]?i[d]:i[u]):h.push(i[d],i[u]);let g,p=h[0],m=!1;for(;!m&&h.length!==0;)g=h.pop(),m=!0,c.forEach(_=>{const y=this.layers[this.nodeToLayer[_]];if(_!==y[0].id){const f=a.byId[_].prev.data;g-i[f.data.id]<o[_]-o[f.data.id]&&this.moveLongEdge(f,-1,r),m=m&&g-i[f.data.id]>=o[_]-o[f.data.id]-_n}if(_!==y[y.length-1].id){const f=a.byId[_].next.data;g-i[f.data.id]>o[_]-o[f.data.id]&&this.moveLongEdge(f,1,r),m=m&&g-i[f.data.id]<=o[_]-o[f.data.id]+_n}});m||(g=p,c.forEach(_=>{const y=this.layers[this.nodeToLayer[_]];if(_!==y[0].id){const f=a.byId[_].prev.data;g=Math.max(g,i[f.data.id]+o[_]-o[f.data.id])}if(_!==y[y.length-1].id){const f=a.byId[_].next.data;g=Math.min(g,i[f.data.id]+o[_]-o[f.data.id])}})),c.forEach(_=>i[_]=g)}moveLongEdges(){const t={};this.layers.forEach(n=>{const r=Math.floor(n.length/2);for(let i=r;i<n.length;i++)this.moveLongEdge(n[i],0,t);for(let i=r-1;i>=0;i--)this.moveLongEdge(n[i],0,t)})}computeY(){const{Y:t,layers:n,height:r}=this;t[0]=0,n.slice(1).forEach((i,s)=>{t[s+1]=t[s]+r[s+1]+this.layerDistance})}straightenLongEdge(t,n){const{nodeList:r,longEdges:i,neighbours:s,X:o,Y:a,nodeToLayer:l,totalW:c}=this,d=i[t.id];if(n[t.id]||!s.prev[t.id]||s.prev[t.id].length!==1||!s.next[t.id]||s.next[t.id].length!==1||!(d&&d.length<2))return;n[t.id]=!0;const u=s.prev[t.id][0],h=s.next[t.id][0];if(l[h]===l[u])return;let g=o[u]+(o[h]-o[u])*(a[l[t.id]]-a[l[u]])/(a[l[h]]-a[l[u]]);if(t!==this.first[l[t.id]]){const m=r.byId[t.id].prev.data;if(g-o[m.id]<c[t.id]-c[m.id]-_n&&this.straightenLongEdge(m,n),g-o[m.id]<c[t.id]-c[m.id]-_n)return}const p=this.layers[l[t.id]];if(t!==p[p.length-1]){const m=r.byId[t.id].next.data;if(o[m.id]-g<c[m.id]-c[t.id]-_n&&this.straightenLongEdge(m,n),o[m.id]-g<c[m.id]-c[t.id]-_n)return}o[t.id]=g}straightenEdges(){const t={};this.layers.forEach(n=>{const r=Math.floor(n.length/2);for(let i=r;i<n.length;i++)this.straightenLongEdge(n[i],t);for(let i=r-1;i>=0;i--)this.straightenLongEdge(n[i],t)})}run(){this.computeMinNodeDistances(),this.decrossVirtualEdges(),this.placeLongEdges(),this.placeNonVirtualNodes(),this.moveLongEdges(),this.computeY(),this.straightenEdges(),Jr(this.layers,(t,n,r,i)=>{t.x=this.X[t.id],t.y=this.Y[i]})}},C9=(e,t=20,n=50)=>new A9(e,t,n).run(),T9=(e,{nodeDistance:t,layerDistance:n,nodeLookup:r,customSort:i,sortSiblings:s,shouldDecross:o=!0})=>{S9(e);const a=L9(e);return e.nodes.length>1?(f9(a,o,s),i&&a.forEach(l=>{l.sort((c,d)=>i(r[c.id],r[d.id]))}),C9(a,t,n)):(e.nodes[0].x=0,e.nodes[0].y=0),N9(e),e};function L9(e){return e.nodes.reduce((t,n)=>(t[n.layer]=t[n.layer]||[],t[n.layer].push(n),n.children=n.children.map(r=>{if(r.layer===n.layer+1)return r;let i=r;for(let s=r.layer-1;s>n.layer;s--){const o=ZH(`${n.id}->${r.id}@${s}`,s);o.children=[i],t[s]=t[s]||[],t[s].push(o),i=o}return i}),t),[])}function N9(e){e.nodes.forEach(t=>{t.data&&(t.children=t.children.filter(ly))})}var Vf=({id:e,layer:t,sink:n,siblingIndex:r,radius:i,layoutable:s})=>({id:e,layer:t!==void 0?t:void 0,sink:n,siblingIndex:r||0,radius:i||0,fixed:s===!1,parentIds:[],children:[],ref:null});function I9(e){const t={x:0,y:0};let n=0;for(const r of e)for(const i of r.nodes)t.x+=i.x||0,t.y+=i.y||0,n++;return t.x/=n,t.y/=n,t}function M9(e){const t={x:0,y:0};let n=0;for(const r in e)t.x+=e[r].x||0,t.y+=e[r].y||0,n++;return t.x/=n,t.y/=n,t}function P9(e,t,n){const r=I9(n),i=e.x-r.x,s=e.y-r.y;for(const o of n)for(const a of o.nodes){const l=t[a.id];!l||a.data&&a.data.fixed||(l.x=a.x+i,l.y=a.y+s)}}var F9=(e,t={})=>{const n=(e.edges||[]).filter(({source:l,target:c})=>l!==c),r={},i=new Map;for(const l of e.nodes)r[l.id]=l;const s=r9(e.nodes,n,r).filter(l=>{const c=i.get(l.source);if(!c){const d=new Map;return d.set(l.target,!0),i.set(l.source,d),!0}return!c.get(l.target)&&(c.set(l.target,!0),!0)}),o=n9(e.nodes,s,{skipSingletons:t.packing==="grid"}),a=s.reduce((l,c)=>(l[c.source]||(l[c.source]=Vf(r[c.source])),l[c.target]||(l[c.target]=Vf(r[c.target])),l[c.target].children.push(c.source),l[c.target].parentIds.push(c.source),l),{});return{components:o.map(l=>l.map(c=>a[c]||Vf(r[c]))),lookup:r}};function R9(e,t,n){const r=[];for(const i of e){const s=h9(i);r.push(s),T9(s,{nodeDistance:n.nodesSeparation,layerDistance:n.layerSeparation,shouldDecross:n.shouldDecross,customSort:n.customSort,sortSiblings:!!n.sortSiblings,nodeLookup:t})}return r}var gk=(e,t={})=>{if(!e||!e.nodes)return e;const n=St(Se({direction:"down",packing:"fit",nodesGridSeparation:1},t),{shouldDecross:t.shouldDecross!==!1}),{components:r,lookup:i}=F9(e,n),s=M9(i),o=R9(r,i,n);if(n.packing==="grid"){const a=u9(e.nodes,e.edges,n);o.push(a)}return l9(o,n),P9(s,i,o),e},Gf={direction:"TB",nodeDistance:5,levelDistance:50,componentDistance:50,gapWidth:1,arrangeComponents:"fit",gridDistance:50,layer:"layer",siblingIndex:""},dy={name:"hierarchical",imports:{sequential:gk},configure:function(e,{graph:t,data:n}){function r(f,x,v=f.getNodes()){return x?x instanceof ws?x:f.getNodes(x):v}const i=St(Se(Se({},Gf),e),{nodeList:e.nodes});i.direction=e.direction||Gf.direction,i.layerSeparation=i.levelDistance,i.nodesSeparation=i.nodeDistance,i.componentsSeparation=i.componentDistance,i.gapDistance=i.gapWidth,i.packing=i.arrangeComponents;const s=Se({},i),o=i.edges,a=i.nodeList;if(["TB","BT","LR","RL"].indexOf(i.direction)===-1)throw new Error('direction should be one of the "TB", "BT", "LR", "RL"');if(["fit","grid","singleLine"].indexOf(i.packing)===-1)throw new Error('arrangeComponents should be one of the "fit", "grid", "singleLine"');i.nodesGridSeparation=e.gridDistance||Gf.gridDistance;const l=a.getId(),c=a.getAttribute("layoutable").reduce((f,x,v)=>(f[l[v]]=x,f),{}),d=a.getAttributes(["x","y"]).reduce((f,x,v)=>(f[l[v]]=x,f),{}),u=a.getAttribute("radius");if(typeof s.layer!="string")throw new Error("'layer' should be the valid data field name");if(s.siblingIndex===void 0&&(s.siblingIndex=""),typeof s.siblingIndex!="string")throw new Error("'siblingIndex' should be the valid data field name");const h=r(t,i.roots,t.nodeList()),g=n.getProperty(i.nodeList,s.layer),p=s.siblingIndex.length?n.getProperty(i.nodeList,s.siblingIndex):[],m=h.map(f=>{let x=-1;return i.nodeList.forEach((v,w)=>{v===f&&(x=w)}),x});for(const f of m)g[f]=0;const _=r(t,i.sinks,t.nodeList()).toArray().reduce((f,x)=>(f[x.getId()]=!0,f),{}),y=l.map(f=>_[f]);return{nodes:l,edges:o.map(f=>({id:f.getId(),source:f.getSource().getId(),target:f.getTarget().getId()})),options:Wp(i),layoutable:c,radiuses:u,siblingIndexes:p,layers:g,sinks:y,coords:d}},context:ft,update:function({nodes:e,edges:t,options:n,layoutable:r,radiuses:i,layers:s,siblingIndexes:o,sinks:a,coords:l}){const c=t.filter(({source:h,target:g})=>h in r&&g in r),d={nodes:e.map((h,g)=>({id:h,radius:i[g],layer:s[g],siblingIndex:o[g],sink:a[g],layoutable:r[h],x:l[h].x,y:l[h].y})),edges:c},{nodes:u}=gk(d,{packing:{fit:"fit",singleLine:"singleline",grid:"grid"}[n.arrangeComponents],direction:{TB:"down",BT:"up",RL:"left",LR:"right"}[n.direction],layerSeparation:n.layerSeparation,nodesSeparation:n.nodesSeparation,sortSiblings:o.length>0,componentsSeparation:n.componentsSeparation,nodesGridSeparation:n.nodesGridSeparation,evenDistribution:n.evenDistribution});return{positions:u}},isRunning:function(){return!1},onSync:function({positions:e},{graph:t}){return{indexes:e.map(({id:n})=>(t.getNode(n)||{_index:-1})._index),x:e.map(({x:n})=>n),y:e.map(({y:n})=>n)}}},D9=e=>(e.modules.layouts.register(dy),(t={})=>(t.useWebWorker=!1,e.modules.layouts.start(dy.name,t))),uy=(e,t)=>e-t,pk={name:"radial",imports:{minHeap:Dx,bellmanFord:zx,dijkstra:Ox,johnson:o_,distance:vn,circleCircleIntersection:Jx,circleSortCompare:ev,weightedStress:pL,distanceStress:mL,constrainedStress:i_,stressMinimizationStep:s_,removeRadialOverlap:k_,linear:Yg,calculateRadii:OE},configure(e,{graph:t}){let n=e.nodes;const r=n.size;function i(b,S){return b!=null&&isFinite(b)?b:S}if(e.centralNode===void 0)throw new Error('radial layout: missing parameter "centralNode"');const s=t.getNode(e.centralNode);if(s===void 0)throw new Error('radial layout: parameter "centralNode" is not valid');e.radiusRatio=i(e.radiusRatio,Math.SQRT2),e.radiusDelta=i(e.radiusDelta,0),e.nodeGap=i(e.nodeGap,10),e.repulsion=r*i(e.repulsion,1);const o=s.getPosition(),a=i(e.centerX,o.x),l=i(e.centerY,o.y),c=s._index;n.includes(s)||(n=n.concat(s.toList()));let d=n._indexes;const u=n.getAttribute("layoutable");d=d.filter((b,S)=>u[S]||b===c),d.sort(uy);const h=d.length,g=z9(d,t.getConnectedComponents(n,{internalIndexes:!0}),c),p=t.degrees(d),m=new Float32Array(t.getNodeAttribute("x").getMultiple(d)),_=new Float32Array(t.getNodeAttribute("y").getMultiple(d)),y=t.getNodeAttribute("radius").getMultiple(d),f=t.getEdges()._indexes,x=t.getEdgeAttribute("source").getMultiple(f),v=t.getEdgeAttribute("target").getMultiple(f),w=t.getAdjacencyList({internalIndexes:!0,weight:1,indexes:d});return{centerIndex:c,centerIndexPos:0,cx:a,cy:l,D:null,indexes:d,components:g,normIndexes:null,radii:null,rings:null,x:m,y:_,degree:p,size:h,attributes:{size:y,adjacency:w,weights:v.map(()=>1),sources:x,targets:v},sortAttr:null,allowOverlap:!!e.allowOverlap,nodeGap:e.nodeGap,radiusRatio:e.radiusRatio,radiusDelta:e.radiusDelta,repulsion:e.repulsion,randomize:!("randomize"in e)||!!e.randomize,renderSteps:!!e.renderSteps,epsilon:i(e.epsilon,.001),maxSteps:i(e.maxIterations,100),iterationsPerRender:i(e.iterationsPerRender,20),step:-1,stress:Number.POSITIVE_INFINITY,prevStress:0,converged:!1,overlapRemoved:!1,done:!1}},context:()=>({data:null,gridPlacement(e,t,n=8){const r=e.length,i=new Float32Array(r),s=new Float32Array(r);let o=0;for(let h=0,g=e.length;h<g;h++){const p=t[e[h]];p>o&&(o=p)}const a=o*n,l=Math.ceil(Math.sqrt(r)),c=Math.ceil(r/l),d=-Math.floor((c-1)*a/2),u=-Math.floor((l-1)*a/2);for(let h=0;h<l;h++)for(let g=0;g<c;g++)i[h*c+g]=d+g*a,s[h*c+g]=u+h*a;return{x:i,y:s}},connectComponents(e,t,n,r,i,s){let o;function a(l,c){const d=new Uint32Array(l.length+1);return d.set(l),d[l.length]=c,d}for(let l=1;l<e.length;l++){const c=e[l];let d=0,u=0;c.forEach((p,m)=>{const _=i.get(p);_!=null&&_>d&&(u=m,d=_)}),o=c[u];const h=t[s.get(o)];h.weights=h.weights||[],h.nodes=a(h.nodes,n),h.weights.push(r);const g=t[s.get(n)];g.weights=g.weights||[],g.nodes=a(g.nodes,o),g.weights.push(r)}},correctSubgraphsDistances(e,t,n,r,i){const s=Array.prototype.reduce.call(e[n],(a,l,c)=>(c!==n&&l<r&&l>a&&(a=l),a),0),o=r-s-1;for(let a=1;a<t.length;a++){const l=t[a];for(let c=0,d=l.length;c<d;c++){const u=i.get(l[c]);u!=null&&(e[n][u]-=o,e[u][n]-=o)}}},initialize(e,t){e.data=t,t.step=0;const n=new Map,r=new Map;t.normIndexes=t.indexes.reduce((c,d,u)=>(c[u]=u,n.set(d,u),r.set(d,t.degree[u]),e.data&&d===t.centerIndex&&(e.data.centerIndexPos=u),c),new Uint32Array(t.indexes.length));const i=t.centerIndexPos,s=t.components[0].length;e.connectComponents(t.components,t.attributes.adjacency,t.centerIndex,s,r,n);const o=o_({sources:t.attributes.sources,targets:t.attributes.targets,weights:t.attributes.weights,indexes:t.indexes,adjacency:t.attributes.adjacency,undirected:!0});e.correctSubgraphsDistances(o,t.components,i,s,n),t.D=o;const a=o[i],l={};for(let c=0,d=t.normIndexes.length;c<d;c++)if(c!==i){const u=a[c];l[u]=l[u]||[],l[u].push(t.normIndexes[c])}t.rings=l,t.radii=OE(i,t.rings,t.attributes.size,t.nodeGap,t.radiusRatio,t.radiusDelta)},removeOverlaps(e,t){if(!e.data)return;const n=e.data.centerIndexPos,r=t.attributes.size,{rings:i,radii:s}=t,o=t.x[n],a=t.y[n];for(const l in i){const c=i[l];for(let d=0;d<c.length;d++){const u=c[d],h=s[l];let g=t.x[u]-o,p=t.y[u]-a;g+p===0&&(g=Math.sin(u)*Math.random()*.001,p=Math.cos(u)*Math.random()*.001);const m=Math.sqrt(g*g+p*p);if(m-h<0){const _=h/m;t.x[u]=o+g*_,t.y[u]=a+p*_}}}for(const l in i){const c=i[l],d=vn(o,a,t.x[c[0]],t.y[c[0]]);k_({X:t.x,Y:t.y,sizes:r,indexes:c,center:[o,a],R:d,gap:t.nodeGap,inPlace:!0})}}}),update(e,t){e||(e=t.data);const n=e.indexes,r=e.centerIndex;let i;e.x=e.x||new Float32Array(e.size),e.y=e.y||new Float32Array(e.size),e.step===-1&&t.initialize(t,e);const s=e.repulsion,o=a=>e.radii&&e.radii[a]||1;if(e.step===0&&e.randomize&&(i=t.gridPlacement(e.indexes,e.attributes.size),e.x=i.x,e.y=i.y),!e.converged){const a=e.maxSteps,l=e.iterationsPerRender;let c=e.step;const d=Math.min(c+l,a),{D:u,x:h,y:g,size:p,centerIndexPos:m,normIndexes:_}=e;for(;c<=d&&!e.converged;){const y=Yg(Math.min(c,a)/a);e.step=c++,i=s_(u,h,g,p,m,s,y,_,o),e.x=i.x,e.y=i.y,e.prevStress=e.stress,e.stress=i_(u,h,g,p,m,s,y,_),e.converged=e.converged||Math.abs(e.stress-e.prevStress)<=e.epsilon}}if(e.converged)if(e.overlapRemoved||e.allowOverlap){e.done=!0;const a=e.rings||{};e.rings=Object.keys(a).reduce((l,c)=>(l[c]=a[c].map(d=>n[d]),l),{})}else t.removeOverlaps(t,e,r),e.overlapRemoved=!0;return e},isRunning:({data:e})=>!(!e||e.converged&&(e.allowOverlap||e.done))||(e&&(e.step=-1),!1),onSync(e){if(e.renderSteps||e.done)return mk(e)},onEnd:e=>mk(e)};function mk(e){const t=e.x,n=e.y,r=e.indexes.length,i=t[e.centerIndexPos]-e.cx,s=n[e.centerIndexPos]-e.cy;for(let o=0;o<r;o++)t[o]-=i,n[o]-=s;return{indexes:e.indexes,x:t,y:n}}function z9(e,t,n){const r=e.slice().sort(uy),i=[];for(let s=0,o=t.length;s<o;s++){const a=[],l=t[s];let c=!1;for(let d=0,u=l.length;d<u;d++){const h=l[d];yL(r,h)!==-1&&(h===n&&(c=!0),a.push(h))}a.length!==0&&i[c?"unshift":"push"](a.sort(uy))}return i}var O9=e=>(e.modules.layouts.register(pk),t=>{if(t.centralNode===void 0)throw new Error('concentric layout: missing parameter "centralNode"');if(t.maxIterations=t.maxIterations&&isFinite(t.maxIterations)?Math.floor(t.maxIterations):100,t.maxIterations<1)throw new RangeError("maxIterations must be a positive integer");if(t.iterationsPerRender=t.iterationsPerRender&&isFinite(t.iterationsPerRender)?Math.floor(t.iterationsPerRender):20,t.iterationsPerRender<1)throw new RangeError("iterationsPerRender must be a positive integer");if(t.epsilon=t.epsilon&&isFinite(t.epsilon)?t.epsilon:.001,t.epsilon<=0)throw new RangeError("epsilon has to be a positive number");return e.modules.layouts.start(pk.name,t)}),fk=St(Se({},dy),{name:"sequential"}),B9=e=>(e.modules.layouts.register(fk),(t={})=>{t.useWebWorker=!1;const n=St(Se({},t),{evenDistribution:!0});return e.modules.layouts.start(fk.name,n)}),j9=class extends Kt{constructor(){super(...arguments),this.watchNodeObjectProperty=e=>this._ogma.modules.watcher.watchNodeObjectProperty(e),this.watchEdgeObjectProperty=e=>this._ogma.modules.watcher.watchEdgeObjectProperty(e),this.watchNodeNonObjectProperty=e=>this._ogma.modules.watcher.watchNodeNonObjectProperty(e),this.watchEdgeNonObjectProperty=e=>this._ogma.modules.watcher.watchEdgeNonObjectProperty(e)}},U9=class extends Kt{constructor(){super(...arguments),this.set=(e,t)=>this._ogma.modules.brand.set(e,t),this.remove=()=>{this._ogma.modules.brand.remove()}}},$9=class extends Kt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.connectNodes.enable(e),this),this.disable=()=>(this._ogma.modules.connectNodes.disable(),this),this.enabled=()=>this._ogma.modules.connectNodes.enabled()}},V9=class extends Kt{constructor(){super(...arguments),this.enable=e=>(this._ogma.modules.lasso.enable(e),this),this.disable=()=>(this._ogma.modules.lasso.disable(),this),this.enabled=()=>this._ogma.modules.lasso.enabled()}},G9=class extends Kt{constructor(){super(...arguments),this.enable=e=>this._ogma.modules.legend.enable(e),this.disable=()=>this._ogma.modules.legend.disable(),this.enabled=()=>this._ogma.modules.legend.enabled(),this.getOptions=()=>this._ogma.modules.legend.getOptions(),this.export=e=>this._ogma.modules.legend.export(e)}},H9=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.rectangleSelect.enable(e)},this.disable=()=>{this._ogma.modules.rectangleSelect.disable()},this.enabled=()=>this._ogma.modules.rectangleSelect.enabled()}},W9=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.resizing.enable(e)},this.disable=()=>{this._ogma.modules.resizing.disable()},this.enabled=()=>this._ogma.modules.resizing.enabled()}},X9=class extends Kt{constructor(){super(...arguments),this.enable=e=>{this._ogma.modules.rewiring.enable(e)},this.disable=()=>{this._ogma.modules.rewiring.disable()},this.enabled=()=>this._ogma.modules.rewiring.enabled()}},Y9=class extends Kt{constructor(){super(...arguments),this.enable=(e={})=>{this._ogma.modules.snapping.enable(e)},this.disable=()=>{this._ogma.modules.snapping.disable()},this.enabled=()=>this._ogma.modules.snapping.enabled()}},q9=class extends Kt{constructor(){super(...arguments),this.setZoom=(e,t)=>this._ogma.modules.camera.setZoom(e,t),this.zoomIn=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomIn():this._ogma.modules.camera.zoomIn(e),this.zoomOut=e=>this._ogma.geo.enabled()?this._ogma.modules.geo.zoomOut():this._ogma.modules.camera.zoomOut(e),this.getZoom=()=>this._ogma.modules.camera.getZoom(),this.setCenter=(e,t)=>this._ogma.modules.camera.setCenter(e,t),this.move=(e,t)=>this._ogma.modules.camera.move(e,t),this.moveToBounds=(e,t)=>{if(!(e&&e instanceof Nn)){if(!Rn(e)||e.length!==4)throw new Error("ogma.view.zoomToBounds requires a BoundingBox as a parameter");{const[n,r,i,s]=e;e=Nn.from({minX:n,minY:r,maxX:i,maxY:s})}}return this._ogma.modules.camera.moveToBounds(e,t)},this.moveTo=(e,t)=>this._ogma.modules.camera.moveTo(e,t),this.getCenter=()=>this._ogma.modules.camera.getCenter(),this.setAngle=(e,t)=>this._ogma.modules.camera.setAngle(e,t),this.rotate=(e,t)=>this._ogma.modules.camera.rotate(e,t),this.getAngle=()=>this._ogma.modules.camera.getAngle(),this.set=(e,t)=>this._ogma.modules.camera.setView(e,t),this.get=()=>this._ogma.modules.camera.getView(),this.graphToScreenCoordinates=e=>this._ogma.modules.camera.graphToScreenCoordinates(e),this.screenToGraphCoordinates=e=>this._ogma.modules.camera.screenToGraphCoordinates(e),this.getImageData=()=>this._ogma.modules.graphics.getImageData(),this.getElementAt=e=>this._ogma.modules.captor.detectElementAt(e.x,e.y,!1,!0),this.getElementsInView=()=>{const{width:e,height:t}=this.get(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return this._ogma.modules.spatial.query(n.x,n.y,r.x,r.y)},this.getBounds=()=>{const{width:e,height:t}=this.getSize(),n=this.screenToGraphCoordinates({x:0,y:0}),r=this.screenToGraphCoordinates({x:e,y:t});return{cx:(n.x+r.x)/2,cy:(n.y+r.y)/2,width:r.x-n.x,height:r.y-n.y,minX:n.x,minY:n.y,maxX:r.x,maxY:r.y}},this.getElementsInside=(e,t,n,r,i=!0)=>{const{spatial:s,camera:o}=this._ogma.modules;if(i){const a=o.graphToScreenCoordinates({x:e,y:t}),l=o.graphToScreenCoordinates({x:n,y:r});return s.queryProjected(a.x,a.y,l.x,l.y)}return s.queryProjected(e,t,n,r)},this.beforeNextFrame=()=>this._ogma.modules.dom.beforeNextFrame(),this.afterNextFrame=()=>this._ogma.modules.dom.afterNextFrame(),this.setFullScreen=e=>this._ogma.modules.dom.setFullScreen(e),this.isFullScreen=()=>this._ogma.modules.dom.isFullScreen(),this.forceResize=()=>this._ogma.modules.dom.forceResize(),this.getSize=()=>this._ogma.modules.dom.getDimensions(),this.setSize=e=>{if(!e||isNaN(e.width)||isNaN(e.height))throw new Error("Size must follow the format { width: number, height: number }");if(e.width<0)throw new Error("width must be positive");if(e.height<0)throw new Error("height must be positive");return this._ogma.modules.dom.setDimensions(e),Promise.resolve()},this.locateGraph=e=>this._ogma.modules.locate.locateGraph(e),this.locateRawGraph=(e,t)=>this._ogma.modules.locate.locateRawGraph(e,t),this.getGraphBoundingBox=({withTexts:e=!1}={})=>this._ogma.modules.locate.getGraphBoundingBox(e),this.animationInProgress=()=>this._ogma.modules.locate.isLocating()||this._ogma.modules.camera.animationInProgress(),this.getTextBoundingBox=e=>{if(!e)throw new Error("ogma.view.getTextBoundingBox: item must be a Node or an Edge");const t=e.getAttribute("text");return t==null||t===""?null:e.isNode?this._ogma.modules.labels.getTextsBoundingBox(e.toList()):this._ogma.modules.labels.getTextsBoundingBox(void 0,e.toList())},this.getNodeBadgeAt=(e,t)=>{if(!e)throw new Error("ogma.view.getNodeBadgeAt: node is not defined");return zI(t,e._index,this._ogma.modules.graphics.getAttributesManager(),this._ogma.modules.camera,this._ogma.modules.graphics.getGraphicsEngine())}}};function Tl(e,t,n){if(e!=null){if(Array.isArray(e))return e[0];if(t&&n){if(e==="source")return Tl(n.color.get(t.getSource()._index));if(e==="target")return Tl(n.color.get(t.getTarget()._index))}return e}}function hy(e){return e==null?null:typeof e=="string"||typeof e=="number"?`${e}`:e&&hy(e.content)}function Z9(e){if(e!=null)return typeof e=="string"?e:e.style||"line"}var Q9=["color","radius","shape","text.content","x","y"],K9=["color","width","shape.body","text.content"];function J9(e){return e!=="all"?{nodes:["x","y"],edges:[]}:{nodes:Q9,edges:K9}}function eW(e,{nodes:t,edges:n}){const r=e.getOriginalAttributes();return{nodes:t.reduce((i,s)=>(i[s.getId()]={x:r.nodes.x.get(s._index),y:r.nodes.y.get(s._index),color:Tl(r.nodes.color.get(s._index)),radius:r.nodes.radius.get(s._index),shape:r.nodes.shape.get(s._index),text:{content:r.nodes.text.content.get(s._index)}},i),{}),edges:n.reduce((i,s)=>(i[s.getId()]={color:Tl(r.edges.color.get(s._index)),width:r.edges.width.get(s._index),shape:{type:r.edges.shape.body.get(s._index)},text:{content:r.edges.text&&r.edges.text.content&&r.edges.text.content.get(s._index)}},i),{})}}function tW(e){return{nodes:e.nodes.map(({id:t,attributes:n={},data:r})=>{const{color:i,radius:s,shape:o,text:a,x:l,y:c}=n;return{id:t,x:l,y:c,color:Tl(i),size:s,shape:o,text:hy(a),data:r}}),edges:e.edges.map(({id:t,source:n,target:r,attributes:i={},data:s})=>{const{color:o,width:a,text:l,shape:c}=i;return{id:t,source:n,target:r,color:Tl(o),size:a,shape:Z9(c),text:hy(l),data:s}})}}function _k(e){return e instanceof Qi?e.getId():e}function yk(e){return e instanceof po?e.getId():e}function xk(e){return e instanceof ws?e.getId():e instanceof Qi?[e.getId()]:Rn(e)?e.map(_k):[_k(e)]}function vk(e){return e instanceof pa?e.getId():e instanceof po?[e.getId()]:Rn(e)?e.map(yk):[yk(e)]}var Zv="visible";function nW(e,t){return e?xk(e):typeof t=="object"?xk(t.nodes):t||Zv}function rW(e,t){return e?vk(e):typeof t=="object"?vk(t.edges):t||Zv}function AF(e,t,n,r){const i=nW(t,r),s=rW(n,r);return{nodes:e.getNodes(i),edges:e.getEdges(s)}}function CF(e,{nodeAttributes:t,edgeAttributes:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const l=AF(e,r,i,s);return{nodes:l.nodes.toJSON({attributes:t,data:o}),edges:l.edges.toJSON({attributes:n,data:a})}}function gm(e,t,{styles:n,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a}){const{nodes:l,edges:c}=J9(n),d=CF(e,{nodeAttributes:l,edgeAttributes:c,nodes:r,edges:i,filter:s,nodeData:o,edgeData:a});if(n==="original"){const u=eW(t,AF(e,r,i,s));for(const h of d.nodes)h.id!=null&&(h.attributes=u[h.id]);for(const h of d.edges)h.id!=null&&(h.attributes=u[h.id])}return n==="all"&&d.edges.forEach(({source:u,target:h,attributes:g})=>{if(g){const p=e.getNode(u);if(g.color==="source"&&p){const _=p.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}const m=e.getNode(h);if(g.color==="target"&&m){const _=m.getAttribute("color");g.color=Array.isArray(_)?_[0]:_}}}),tW(d)}function iW(e,t){for(let n=0;n<t.length;++n){if(e==null)return;e=e[t[n]]}return e}function sW(e,t,n){for(let r=0;r<t.length-1;++r){const i=t[r];let s=e[i];s===void 0&&(s={},e[i]=s),e=s}e[t[t.length-1]]=n}function oW(e){const t=Se({},e[0]);for(const n of e)for(const r of Object.keys(n))r in t||(t[r]=void 0);return Object.keys(t)}function bk(e,t){return e==null||Array.isArray(e)&&!e.length?t:e}function aW(e){return typeof e=="string"}function lW(e,t,n,r,i){const s=t==="edges",o={};return e.forEach((a,l)=>{const c=i.get(l),d=Tg(bk(n(c),t));if(!d.every(aW))throw Error(`The tab ${t} function returned an invalid value.`);const u=Tg(r(a.data,d));d.forEach((h,g)=>{const p=bk(u[g],{}),m=qp(Se(Se({internal___id:a.id},s?{internal___source:a.source,internal___target:a.target}:{}),p)).reduce((_,{path:y,value:f})=>(_[y.join(".")]=f,_),{});o[h]=o[h]||[],o[h].push(m)})}),o}function cW(e){if(!e.length)return[];const t=oW(e),n=[t];for(const r of e)n.push(t.map(i=>r[i]));return n[0]=n[0].map(r=>r.replace("internal___","")),n}function dW(e,t,n){const r=new KL;let i=t?1:3;const s=[];for(let a=0;a<e.length;++a){const l=e[a],c=new Array(i);let d=l.data;if(n){const h={};n.forEach(g=>{const p=oa(g),m=iW(d,p);sW(h,p,m)}),d=h}const u=qp(d);c[0]=l.id,t||(c[1]=l.source,c[2]=l.target);for(let h=0;h<u.length;++h){const{path:g,value:p}=u[h];g.length&&(r.has(g)?c[r.get(g)]=p:(r.set(g,i),c[i]=p,i++))}s.push(c)}const o=[];return o.push("id"),t||(o.push("source"),o.push("target")),r.keys().forEach(a=>o.push(a[a.length-1])),s.unshift(o),s.forEach(a=>a.length=i),s}var uW=/[=+\-@|%]/,hW=e=>e.length>0&&uW.test(e[0])?`'${e=e.replace("|","|")}`:e;function TF(e){return e===void 0?"":e instanceof Date?e.toISOString():hW(""+e)}var gW={what:void 0,dataProperties:void 0,separator:",",textSeparator:'"',download:!0,filename:"graph.csv",filter:"visible",nodes:void 0,edges:void 0,nodeData:Ni,edgeData:Ni,styles:"none"};function pW(e,t){const{what:n,dataProperties:r,nodes:i,edges:s,separator:o,textSeparator:a,download:l,nodeData:c,edgeData:d,filename:u,filter:h}=Zr(typeof t=="string"?{what:t}:t,gW),g=gm(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:i,edges:s,filter:h,nodeData:c,edgeData:d});try{const p=mW(g,{what:n,separator:o,textSeparator:a,dataProperties:r});return l&&wo(p,u,"text"),Promise.resolve(p)}catch(p){return Promise.reject(p)}}function mW(e,{what:t,separator:n,textSeparator:r,dataProperties:i}){const s=new RegExp(r,"g");if(r&&r!=='"'&&r!=="'")throw new TypeError(`Invalid argument :"textSeparator" is not single-quote or double-quote, was ${r}`);if(t!=="nodes"&&t!=="edges")throw new TypeError('missing argument: "what": should have value "nodes" or "edges"');const o=t==="nodes";return dW(o?e.nodes:e.edges,o,i).map(a=>a.map(l=>function(d){return r+TF(d).replace(s,`${r}${r}`).replace(/\n/g,"\\n").replace(/\r/g,"")+r}(l))).map(a=>a.join(n)).join(`
`)}var Ta=e=>Math.round(255*e);function wk(e,t){if(t==="integer"&&typeof e=="number"){if(e%1!=0)return"float"}else if(typeof e!="number")return typeof e=="boolean"?"boolean":"string";return t}var gy=e=>typeof e=="object"&&e!==null&&e.constructor===Object;function py(e,t={}){return Xi(e,(n,r)=>{gy(n)?py(n,t):t[r]=n}),t}var fW={creator:void 0,description:void 0,styles:"all",download:!0,filename:"graph.gexf",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function _W(e,t={}){const{styles:n,nodes:r,edges:i,download:s,filename:o,creator:a,description:l,filter:c,nodeData:d,edgeData:u}=Zr(t,fW),h=yW(gm(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{creator:a,description:l});return s&&wo(h,o,"text"),Promise.resolve(h)}function yW(e,t){const n=iN(),r={},i={};let s,o=0,a=0;const l=n.createElement("gexf");l.setAttribute("xmlns","http://www.gexf.net/1.2draft"),l.setAttribute("xmlns:viz","http://www.gexf.net/1.2draft/viz"),l.setAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),l.setAttribute("xsi:schemaLocation","http://www.gexf.net/1.2draft http://www.gexf.net/1.2draft/gexf.xsd"),l.setAttribute("version","1.2");const c=n.createElement("meta");if(c.setAttribute("lastmodifieddate",AL()),t.creator){const m=n.createElement("creator");s=n.createTextNode(""+t.creator),m.appendChild(s),c.appendChild(m)}if(t.description){const m=n.createElement("description");s=n.createTextNode(""+t.description),m.appendChild(s),c.appendChild(m)}const d=n.createElement("graph");d.setAttribute("mode","static");const u=n.createElement("nodes");e.nodes.forEach(m=>{const _=n.createElement("node");if(_.setAttribute("id",String(m.id)),m.text&&_.setAttribute("label",Wa(m.text)),gy(m.data)){const f=py(m.data),x=n.createElement("attvalues");Object.keys(f).forEach(v=>{v in r||(r[v]={id:o,type:"integer"},o++);const w=f[v];r[v].type=wk(w,r[v].type);const b=n.createElement("attvalue");b.setAttribute("for",r[v].id),b.setAttribute("value",Wa(w)),x.appendChild(b)}),_.appendChild(x)}if(m.color){const f=yr(m.color);if(f){const x=n.createElement("viz:color");x.setAttribute("r",Ta(f[0])),x.setAttribute("g",Ta(f[1])),x.setAttribute("b",Ta(f[2])),x.setAttribute("a",f[3]),_.appendChild(x)}}const y=n.createElement("viz:position");if(y.setAttribute("x",m.x),y.setAttribute("y",-m.y),_.appendChild(y),m.size){const f=n.createElement("viz:size");f.setAttribute("value",m.size),_.appendChild(f)}u.appendChild(_)});const h=n.createElement("attributes");h.setAttribute("class","node"),Object.keys(r).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",r[m].id),_.setAttribute("title",m),_.setAttribute("type",r[m].type),h.appendChild(_)});const g=n.createElement("edges");e.edges.forEach(m=>{const _=n.createElement("edge");if(_.setAttribute("id",m.id.toString()),_.setAttribute("source",m.source),_.setAttribute("target",m.target),m.size&&_.setAttribute("weight",m.size),m.text&&_.setAttribute("label",Wa(m.text)),gy(m.data)){const y=py(m.data),f=n.createElement("attvalues");Object.keys(y).forEach(x=>{x in i||(i[x]={id:a,type:"integer"},a++);const v=y[x];i[x].type=wk(v,i[x].type);const w=n.createElement("attvalue");w.setAttribute("for",i[x].id),w.setAttribute("value",Wa(v)),f.appendChild(w)}),_.appendChild(f)}if(m.color){const y=yr(m.color);if(y){const f=n.createElement("viz:color");f.setAttribute("r",Ta(y[0])),f.setAttribute("g",Ta(y[1])),f.setAttribute("b",Ta(y[2])),f.setAttribute("a",y[3]),_.appendChild(f)}}if(m.size){const y=n.createElement("viz:size");y.setAttribute("value",m.size),_.appendChild(y)}g.appendChild(_)});const p=n.createElement("attributes");return p.setAttribute("class","edge"),Object.keys(i).forEach(m=>{const _=n.createElement("attribute");_.setAttribute("id",i[m].id),_.setAttribute("title",m),_.setAttribute("type",i[m].type),p.appendChild(_)}),d.appendChild(h),d.appendChild(p),d.appendChild(u),d.appendChild(g),l.appendChild(c),l.appendChild(d),n.appendChild(l),`<?xml version="1.0" encoding="UTF-8"?>${n.serialize()}`}var xW={graphId:"G",directedEdges:!0,styles:"all",download:!0,filename:"graph.graphml",nodes:void 0,edges:void 0,nodeData:e=>e,edgeData:e=>e,filter:"visible"};function vW(e,t){const{styles:n,nodes:r,edges:i,download:s,filename:o,graphId:a,directedEdges:l,filter:c,nodeData:d,edgeData:u}=Zr(t,xW),h=bW(gm(e.modules.graph,e.modules.individualAttributes,{styles:n,nodes:r,edges:i,filter:c,nodeData:d,edgeData:u}),{graphId:a,directedEdges:l,noStyles:n==="none"});return s&&wo(h,o,"text"),Promise.resolve(h)}function bW(e,t){const n=sN();function r(h,g,p,m,_){p=p||{};const y=n.createElement(g);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;const x=p[f];x!==void 0&&y.setAttribute(f,x)}return(m!==void 0||_)&&(Object.prototype.toString.call(m)==="[object Object]"&&(m=JSON.stringify(m)),y.appendChild(n.createTextNode(m))),h.appendChild(y),y}const i=["id","source","target"],s=["size","x","y","shape","text","color"],o={size:{for:"all",type:"double"},x:{for:"node",type:"double"},y:{for:"node",type:"double"},shape:{for:"all",type:"string"},color:{for:"all",type:"string"},r:{for:"all",type:"int"},g:{for:"all",type:"int"},b:{for:"all",type:"int"},a:{for:"all",type:"double"},text:{for:"all",type:"string"}};t.noStyles&&(delete o.color,delete o.r,delete o.g,delete o.b,delete o.a,delete o.shape,s.pop());const a=[],l=[];function c(h,g){const p={id:h.id};s.forEach(m=>{let _=h[m];m==="y"&&_&&(_=-parseFloat(_)),_!==void 0&&(p[(g==="edge"?"edge_":"")+m]=_,m==="color"&&function(f,x){const v=yr(x);v&&(f.r=v[0],f.g=v[1],f.b=v[2])}(p,_))}),Xi(h.data||{},(m,_)=>{s.indexOf(_)===-1&&i.indexOf(_)===-1&&(o[_]?o[_].for!==g&&(o[_].for="all"):o[_]={for:g,type:"string"},p[_]=m)}),g==="edge"?(p.source=h.source,p.target=h.target,l.push(p)):a.push(p)}e.nodes.forEach(h=>c(h,"node")),e.edges.forEach(h=>c(h,"edge"));const d=r(n,"graphml",{xmlns:"http://graphml.graphdrawing.org/xmlns","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd","xmlns:y":"http://www.yworks.com/xml/graphml","xmlns:java":"http://www.yworks.com/xml/yfiles-common/1.0/java","xmlns:sys":"http://www.yworks.com/xml/yfiles-common/markup/primitives/2.0","xmlns:x":"http://ww.yworks.com/xml/yfiles-common/markup/2.0"});Xi(o,(h,g)=>{h.for!=="node"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"node",id:g}),h.for!=="edge"&&h.for!=="all"||r(d,"key",{"attr.name":g,"attr.type":h.type,for:"edge",id:"edge_"+g})}),r(d,"key",{id:"nodegraphics",for:"node","yfiles.type":"nodegraphics","attr.type":"string"}),r(d,"key",{id:"edgegraphics",for:"edge","yfiles.type":"edgegraphics","attr.type":"string"});const u=r(d,"graph",{edgedefault:t.directedEdges||t.directedEdges===void 0?"directed":"undirected",id:t.graphId?t.graphId:"G","parse.nodes":e.nodes.length,"parse.edges":e.edges.length,"parse.order":"nodesfirst"});return a.forEach(h=>{const g=r(u,"node",{id:h.id});(function(m,_){const y=r(m,"data",{key:"nodegraphics"}),f=r(y,"y:ShapeNode");r(f,"y:Geometry",{x:_.x,y:_.y,width:_.size,height:_.size}),t.noStyles||r(f,"y:Fill",{color:w_(_.color),transparent:!1}),r(f,"y:NodeLabel",null,_.text||""),r(f,"y:Shape",{type:_.shape})})(g,h),Xi(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),l.forEach(h=>{const g=r(u,"edge",{id:h.id,source:h.source,target:h.target});(function(m,_){const y=r(m,"data",{key:"edgegraphics"}),f=r(y,"y:PolyLineEdge");r(f,"y:LineStyle",{type:_.edge_type,color:t.noStyles?void 0:w_(_.edge_color),width:_.edge_size}),r(f,"y:EdgeLabel",null,_.edge_label)})(g,h),Xi(h,(p,m)=>{i.indexOf(m)===-1&&r(g,"data",{key:m},p,!0)})}),`<?xml version="1.0" encoding="UTF-8"?>
${Zx(n)}`}var wW={nodeAttributes:["x","y","color","radius","shape","text"],edgeAttributes:["color","width","text"],nodeData:Ni,edgeData:Ni,filter:"visible",pretty:!1,download:!0,filename:"graph.json",anonymize:!1};function EW(e,t={}){t.anonymize&&(t={nodeAttributes:"all",edgeAttributes:"all",nodeData:xd,edgeData:xd,filter:t.filter||"all",download:t.download,pretty:t.pretty,filename:t.filename});const{nodeAttributes:n,edgeAttributes:r,nodeData:i,edgeData:s,filter:o,pretty:a,download:l,filename:c}=Zr(t,wW),d=CF(e.modules.graph,{nodeAttributes:n,edgeAttributes:r,filter:o,nodeData:i,edgeData:s}),u=a?JSON.stringify(d,null," "):JSON.stringify(d);return l&&wo(u,c,"text"),Promise.resolve(d)}function SW(e,t){return e.getBoundingBox().computeForZoom(t).extend(Nn.fromValues(e.getAttribute("x"),e.getAttribute("y"),e.map(n=>n.getAttribute("radius")+n.getAttribute("innerStroke.width")+n.getAttribute("outerStroke.width"))))}function kW(e,t,n){const r=t.view.graphToScreenCoordinates(n.bottomLeft()),i=t.view.graphToScreenCoordinates(n.topRight()),s=i.x-r.x,o=i.y-r.y,a=Math.min(e.width/s,e.height/o);e.width=s*a,e.height=o*a}function LF(e,t={}){const n=e.view.get(),r=typeof t.margin=="number"?t.margin:0,i={pixelRatio:t.pixelRatio||Fr(),angle:0,backgroundColor:null,zoom:0,x:0,y:0,width:0,height:0,hideImages:!1,renderBackground:!0,isBufferDisplayable:yd};if(t.width&&t.height?(i.width=t.width,i.height=t.height):(i.width=n.width,i.height=n.height),t.clip)i.zoom=n.zoom,i.x=n.x,i.y=n.y;else{const s=SW(e.getNodes(t.filter),n.zoom);if(t.texts){const o=e.modules.labels.getTextsBoundingBox();o.isValid()&&s.extend(o)}t.width!=null&&isFinite(t.width)&&t.height!=null&&isFinite(t.height)||kW(i,e,s),i.width=Math.max(i.width,2*r),i.height=Math.max(i.height,2*r),i.x=s.cx,i.y=s.cy,i.zoom=Math.min((i.width-2*r)/s.width,(i.height-2*r)/s.height)}return e.modules.geo.isEnabled()?i.backgroundColor=null:t.background!==void 0&&(i.backgroundColor=t.background),i}function my(e,t,n,r,i=!1){const s=St(Se({},n),{hideImages:i,angle:n.angle||0,currentTime:rr(),isBufferDisplayable:l=>t.texts||!mI(l)}),o={};if(t.badges===!1){const l={text:null,image:null};o.badges={topLeft:l,topRight:l,bottomRight:l,bottomLeft:l}}const a=e.styles.getClass(Do);return a&&a.update({nodeAttributes:o}),e.modules.graphics.export(r,s,t.filter||Zv,t)}var gh=e=>({download:!0,filter:"visible",filename:`graph.${e}`,clip:!1,margin:10,width:void 0,height:void 0,background:null,badges:!0,legend:void 0,texts:!0,preventOverlap:!0,images:!0,textWatermark:{content:"",fontFamily:"Arial",fontSize:48,fontStyle:void 0,fontColor:"red",repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageWatermark:{url:void 0,width:void 0,height:void 0,repeat:!1,angle:0,alpha:.65,space:50,x:void 0,y:void 0},imageCrossOrigin:void 0,layers:!0,pixelRatio:void 0}),AW={png:gh("png"),jpg:gh("jpg"),tiff:gh("tiff"),gif:gh("gif")};function CW(e){const{canvas:t,parameters:n}=e;return n.textWatermark.content&&Ek(t,n.textWatermark,RW,DW),n.imageWatermark.url?FL(n.imageWatermark.url).then(r=>(r&&(n.imageWatermark.content=r,Ek(t,n.imageWatermark,OW,zW)),e)):e}function TW(e){const{ogma:t,canvas:n,parameters:r}=e,i=t.modules.legend;let s=null;return r.legend===void 0&&(s=!!i.enabled()&&i.getCurrentOptions()),r.legend===!0&&(s={}),s&&i.exportOnCanvas(n,s,e.parameters.pixelRatio),e}function LW(e){const{canvas:t,parameters:n,view:r}=e;if(!r.renderBackground)return e;r.renderBackground=!1;const i=t.getContext("2d");return i.fillStyle=n.background,i.fillRect(0,0,t.width,t.height),e}function NW(e){const{ogma:t,view:n}=e;return t.modules.geo.isEnabled()?t.modules.geo.exportBackground(n).then(r=>{const i=n.width*n.pixelRatio,s=n.height*n.pixelRatio,o=Dn(i,s),a=o.getContext("2d");return a.drawImage(r,(i-r.width)/2,(s-r.height)/2),a.drawImage(e.canvas,0,0),e.canvas=o,e}):e}function IW(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,canvas:r,below:!0}).then(()=>e):e}function MW(e){const{ogma:t,view:n,canvas:r,parameters:i}=e;return i.layers?t.modules.layers.export({view:n,below:!1,canvas:r}).then(()=>e):e}function PW(e){const{ogma:t,parameters:n,canvas:r,view:i}=e,s=r.getContext("2d");return my(t,n,i,"canvas",!n.images).then(o=>{try{const a=o.getContext("2d");if(!a)throw new Error("Failed to render graph");return a.getImageData(0,0,1,1),s.drawImage(o,0,0,r.width,r.height),e}catch(a){return ao(a),my(t,n,i,"canvas",!0).then(l=>(s.drawImage(l,0,0,r.width,r.height),e))}})}function FW({canvas:e,parameters:t,type:n}){const r=e.toDataURL("image/"+n);return t.download&&wo(r,t.filename,"dataURL"),r}function ph(e,t,n){const r=Zr(t,AW[n]);r.background===null&&(r.background=e.modules.graphics.getTransparentBackgroundColor());const i=LF(e,r);r.pixelRatio=i.pixelRatio;const s={ogma:e,parameters:r,canvas:Dn(i.width*i.pixelRatio,i.height*i.pixelRatio),view:i,type:n};return Promise.resolve().then(()=>s).then(LW).then(NW).then(IW).then(PW).then(MW).then(CW).then(TW).then(FW)}function RW(e,t,n,r){e.textAlign="center",e.textBaseline="middle",e.fillText(t,n,r)}function DW(e,t,n){return{width:e.measureText(t).width,height:n}}function zW(e,t,n,r,i){return{width:r===void 0?t.width:r,height:i===void 0?t.height:i}}function OW(e,t,n,r,i,s){e.drawImage(t,n-i/2,r-s/2,i,s)}function Ek(e,t,n,r){if(!t)return;if(typeof t!="object")t={content:t};else if(!t.content)return;const{fontFamily:i,fontSize:s,fontStyle:o,fontColor:a,repeat:l,alpha:c,space:d,content:u}=t;let h=t.angle;const g=e.getContext("2d"),p=e.width,m=e.height,_=t.x===void 0?p/2:t.x,y=t.y===void 0?m/2:t.y,f=t.height,x=t.width;h=h/180*Math.PI,ho(g,i,s,o),g.fillStyle=a,g.globalAlpha=c;const v=r(g,u,s,x,f);if(l){const w=v.width+d,b=v.height+d,S=Math.sqrt(p*p+m*m);g.save(),g.translate(0,0),g.rotate(h);for(let k=0;k<S;k+=w)for(let C=0;C<S;C+=b)n(g,u,k,C,v.width,v.height),C!==0&&n(g,u,k,-C,v.width,v.height);g.restore()}else g.save(),g.translate(_,y),g.rotate(h),n(g,u,0,0,v.width,v.height),g.restore()}var BW={download:!0,filename:"graph.svg",width:void 0,height:void 0,background:null,texts:!0,preventOverlap:!0,groupSemantically:!0,images:!0,badges:!0,embedFonts:!1,layers:!0,clip:!1,margin:10,prefix:"ogma"};function jW(e,t){const n=Zr(t,BW),{background:r,filename:i,download:s,layers:o}=n,a=e.modules.graphics;r===null&&(n.background=a.getTransparentBackgroundColor());const l=LF(e,n);return my(e,n,l,"svg",!n.images).then(c=>(c.removeAttribute("pointer-events"),c.setAttribute("version","1.1"),c.setAttributeNS(p_,"xmlns",Vx),c.setAttributeNS(p_,"xmlns:xlink",PL),c)).then(c=>n.groupSemantically?$W(e,c,n):c).then(c=>GW(c,n)).then(c=>UW(e,l,c)).then(c=>Sk(e,l,c,o,!0)).then(c=>Sk(e,l,c,o,!1)).then(c=>{const d=`<?xml version="1.0" encoding="utf-8"?>${Zx(c)}`;return s&&wo(d,i,"text/xml"),d})}function UW(e,t,n){return e.modules.geo.isEnabled()?e.modules.geo.exportBackground(St(Se({},t),{pixelRatio:1})).then(r=>{const i=Ot("image",{width:r.width,height:r.height,x:0,y:0,href:r.toDataURL()});return n.insertBefore(i,n.children[0]),n}):Promise.resolve(n)}function Sk(e,t,n,r,i=!1){return r?e.modules.layers.export({view:t,svg:n,below:i}).then(()=>n):Promise.resolve(n)}function $W(e,t,n){const r=t.childNodes[2],i=r.childNodes,s={},o=n.prefix;for(let g=0;g<i.length;g++){const p=i[g],m=p.getAttribute(ni);m!=null&&(s[m]=s[m]||[],s[m].push(p))}const a=Object.keys(s),l=e.modules.graph,c=l.getNodeAttribute("id"),d=l.getEdgeAttribute("id"),u=Ot("g",{class:`${o}-edges`}),h=Ot("g",{class:`${o}-nodes`});for(let g=0;g<a.length;g++){const p=a[g],m=p.charAt(0)==="n",_=parseInt(p.substring(1)),y=s[p],f=Wa((m?c:d).get(_).toString()),x=Ot("g");x.setAttribute(`data-${m?"node":"edge"}-id`,f),x.setAttribute("class",`${o}-${m?"node":"edge"}`);for(let v=0;v<y.length;v++){const w=y[v];x.appendChild(w),w.removeAttribute(ni)}(m?h:u).appendChild(x)}return r.appendChild(u),r.appendChild(h),t}function VW(e){const t=[].concat(Array.prototype.slice.call(e.getElementsByTagName("text")||[])),n=[],r={};for(let i=0;i<t.length;i++){const s=t[i].parentNode.getAttribute("font-family");if(typeof s=="string"){const o=s.split(",");for(let a=0;a<o.length;a++){const l=o[a].replace(/['"]/g,"");l===""||r[l]||(r[l]=!0,n.push(l))}}}return{list:n,map:r}}function GW(e,t){const n=VW(e).map;return HL().then(r=>r.filter(i=>n[i.name])).then(r=>WL(r,!!t.embedFonts)).then(r=>{if(r.length!==0){const i=Ot("style");for(let s=0;s<r.length;s++)i.appendChild(Gx(r[s]));e.childNodes[0].appendChild(i)}return e})}var HW={what:void 0,dataProperties:void 0,filter:"visible",nodes:void 0,edges:void 0,download:!0,filename:"graph.xlsx",tab:void 0,nodeData:void 0,edgeData:void 0};function WW(e,t={}){typeof t=="string"&&(t={what:t});const{what:n,nodes:r,edges:i,tab:s={nodes:()=>"nodes",edges:()=>"edges"},download:o,filename:a,dataProperties:l,filter:c,nodeData:d,edgeData:u}=Zr(t,HW);s.nodes||(s.nodes=()=>"nodes"),s.edges||(s.edges=()=>"edges");const h=gm(e.modules.graph,e.modules.individualAttributes,{styles:"none",nodes:r,edges:i,filter:c,nodeData:p=>p,edgeData:p=>p}),g=XW(h,{what:n,tabFunctions:s,tabContentFunctions:{nodes:d||(p=>u_(_d(p||{}),l)),edges:u||(p=>u_(_d(p||{}),l))}},{nodes:e.modules.graph.getNodes(h.nodes.map(({id:p})=>p)),edges:e.modules.graph.getEdges(h.edges.map(({id:p})=>p))});return o&&wo(g,a,"blob"),Promise.resolve(g)}function XW(e,{what:t,tabFunctions:n,tabContentFunctions:r},i){const s=gi("XLSX")||gi("xlsx",{throwOnError:!0});if(!s)throw Error('The xlsx exports requires the "xlsx" peer dependency to be associated');const o=new qW;if(t){if(t!=="nodes"&&t!=="edges")throw new TypeError(`Invalid argument: "what" is not "nodes" or "edges", was ${t}`);t==="nodes"&&(e.edges=[]),t==="edges"&&(e.nodes=[])}const a={};for(const l of["nodes","edges"]){const c=lW(e[l],l,n[l],r[l],i[l]);for(const d of Object.keys(c))a[d]=[...a[d]||[],...c[d]]}for(const l of Object.keys(a))o.SheetNames.push(l),o.Sheets[l]=YW(s,cW(a[l]));return o.SheetNames.length===0&&(o.SheetNames=["nodes","edges"],o.Sheets.nodes={},o.Sheets.edges={}),vd([ZW(s.write(o,{bookType:"xlsx",bookSST:!1,type:"binary"}))])}function YW(e,t){const n={},r={s:{c:1e7,r:1e7},e:{c:0,r:0}};for(let i=0;i!==t.length;++i){const s=t[i];for(let o=0;o!==s.length;++o){const a=s[o];r.s.r>i&&(r.s.r=i),r.s.c>o&&(r.s.c=o),r.e.r<i&&(r.e.r=i),r.e.c<o&&(r.e.c=o);const l={v:TF(a)};n[e.utils.encode_cell({c:o,r:i})]=l}}return r.s.c<1e7&&(n["!ref"]=e.utils.encode_range(r)),n}var qW=class{constructor(){this.SheetNames=[],this.Sheets={}}};function ZW(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r!==e.length;++r)n[r]=255&e.charCodeAt(r);return t}var QW=class{getNodesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getNodes()}getEdgesByClassName(e,t){return this.modules.classes.getClassByName(e,!0).getEdges()}},fy={};qd(fy,{gexf:()=>NF,gexfFromUrl:()=>Qv,graphml:()=>FF,graphmlFromUrl:()=>RF,janus:()=>IF,json:()=>MF,jsonFromUrl:()=>Kv,neo4j:()=>PF});var Eo=Rx(gL()),NF=e=>Promise.resolve(Eo.gexf(e)),Qv=e=>Qd(e).then(t=>Eo.gexf(t)),IF=e=>Promise.resolve(Eo.janus(e)),MF=(e,t)=>Promise.resolve(Eo.json(e,t)),Kv=(e,t)=>Qd(e).then(n=>Eo.json(n,t)),PF=e=>Promise.resolve(Eo.neo4j(e)),FF=e=>Promise.resolve(Eo.graphml(e)),RF=e=>Qd(e).then(t=>Eo.graphml(t)),KW=class extends Kt{constructor(){super(...arguments),this.wait=e=>new Promise(t=>setTimeout(t,e)),this.initRandomGraph=e=>this._ogma.generate.random(e).then(this._ogma.setGraph).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.initGrid=e=>{const t=Math.ceil(Math.sqrt(e));return this._ogma.generate.grid({rows:t,columns:t}).then(n=>this._ogma.setGraph(n)).then(()=>this._ogma.view.locateGraph())},this.initLine=e=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:e?{x:0,y:50}:{x:50,y:0}}],edges:[{id:0,source:1,target:0}]}),this._ogma.view.locateGraph()),this.initSingleNode=()=>(this._ogma.setGraph({nodes:[{id:0,attributes:{x:0,y:0}}],edges:[]}),this._ogma.view.locateGraph()),this.initContinuousRenderLoop=({triggerKey:e="r",start:t=!0}={})=>{let n=t;const r=()=>{n&&this._ogma.modules.dom.beforeNextFrame().then(r)};document.addEventListener("keydown",({key:i})=>{i===e&&(n=!n,r())}),r()},this.appendToBody=()=>{const e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.bottom="0",e.style.right="0",document.body.appendChild(e),this._ogma.setContainer(e)},this.loadFile=e=>(e.endsWith(".gexf")?Qv(e):Kv(e)).then(t=>this._ogma.setGraph(t)).then(()=>this._ogma.view.locateGraph()).then(()=>this._ogma.view.afterNextFrame()),this.enableLasso=e=>{this._ogma.events.on("dragStart",()=>{this._ogma.keyboard.isKeyPressed("ctrl")&&this._ogma.tools.lasso.enable(e)})},this.randomizeGraph=({minX:e=0,minY:t=0,maxX:n=500,maxY:r=500}={})=>this._ogma.getNodes().setAttributes(this._ogma.getNodes().map(()=>({x:e+Math.random()*(n-e),y:t+Math.random()*(r-t)})))}},JW=class{setContainer(e){this.modules.dom.setContainer(e)}getContainer(){return this.modules.dom.getContainer()}},eX=class extends Kt{constructor(){super(...arguments),this.once=(e,t)=>(this._ogma.modules.events.once(e,t),this),this.removeListener=e=>{this._ogma.modules.events.off(e)},this.onNodesAdded=e=>(this._ogma.events.on("addNodes",e),this._ogma),this.onBeforeNodesRemoved=e=>(this._ogma.events.on("beforeRemoveNodes",e),this._ogma),this.onNodesRemoved=e=>(this._ogma.events.on("removeNodes",e),this._ogma),this.onEdgesAdded=e=>(this._ogma.events.on("addEdges",e),this._ogma),this.onBeforeEdgesRemoved=e=>(this._ogma.events.on("beforeRemoveEdges",e),this._ogma),this.onEdgesRemoved=e=>(this._ogma.events.on("removeEdges",e),this._ogma),this.onGraphCleared=e=>(this._ogma.events.on("clearGraph",e),this._ogma),this.onNodesClassAdded=(e,t)=>(this._ogma.modules.classes.onNodeClassAdded(e,t),this._ogma),this.onNodesClassRemoved=(e,t)=>(this._ogma.modules.classes.onNodeClassRemoved(e,t),this._ogma),this.onEdgesClassAdded=(e,t)=>(this._ogma.modules.classes.onEdgeClassAdded(e,t),this._ogma),this.onEdgesClassRemoved=(e,t)=>(this._ogma.modules.classes.onEdgeClassRemoved(e,t),this._ogma),this.onNodeDragStart=e=>(this._ogma.events.on("nodesDragStart",e),this._ogma),this.onNodeDragProgress=e=>(this._ogma.events.on("nodesDragProgress",e),this._ogma),this.onNodeDragEnd=e=>(this._ogma.events.on("nodesDragEnd",e),this._ogma),this.onDrop=e=>(this._ogma.events.on("drop",e),this._ogma),this.onNodesSelected=e=>this.onNodesClassAdded(nn,e),this.onNodesUnselected=e=>this.onNodesClassRemoved(nn,e),this.onEdgesSelected=e=>this.onEdgesClassAdded(nn,e),this.onEdgesUnselected=e=>this.onEdgesClassRemoved(nn,e),this.onNodeDataChange=e=>(this._ogma.events.on("updateNodeData",e),this._ogma),this.onEdgeDataChange=e=>(this._ogma.events.on("updateEdgeData",e),this._ogma),this.onAnimate=e=>(this._ogma.events.on("animate",e),this._ogma),this.onMouseMove=e=>(this._ogma.events.on("mousemove",e),this._ogma),this.onMouseButtonDown=e=>(this._ogma.events.on("mousedown",e),this._ogma),this.onMouseButtonUp=e=>(this._ogma.events.on("mouseup",e),this._ogma),this.onClick=e=>(this._ogma.events.on("click",e),this._ogma),this.onDoubleClick=e=>(this._ogma.events.on("doubleclick",e),this._ogma),this.onMouseWheel=e=>(this._ogma.events.on("mousewheel",e),this._ogma),this.onHover=e=>(this._ogma.events.on("mouseover",e),this._ogma),this.onUnhover=e=>(this._ogma.events.on("mouseout",e),this._ogma),this.onDragStart=e=>(this._ogma.events.on("dragStart",e),this._ogma),this.onDragProgress=e=>(this._ogma.events.on("dragProgress",e),this._ogma),this.onDragEnd=e=>(this._ogma.events.on("dragEnd",e),this._ogma),this.onGestureStart=e=>(this._ogma.events.on("gestureStart",e),this._ogma),this.onGestureProgress=e=>(this._ogma.events.on("gestureProgress",e),this._ogma),this.onGestureEnd=e=>(this._ogma.events.on("gestureEnd",e),this._ogma),this.onRendererStateChange=e=>(this._ogma.events.on("rendererStateChange",e),this._ogma),this.onZoomProgress=e=>(this._ogma.events.on("zoom",e),this._ogma),this.onViewChanged=e=>(this._ogma.events.on("viewChanged",e),this._ogma),this.onNodesConnected=e=>(this._ogma.events.on("connectNodes",e),this._ogma),this.onGeoModeEnabled=e=>(this._ogma.events.on("geoEnabled",e),this._ogma),this.onGeoModeDisabled=e=>(this._ogma.events.on("geoDisabled",e),this._ogma),this.onGeoModeLoaded=e=>(this._ogma.events.on("geoLoaded",e),this._ogma),this.onLayoutStart=e=>(this._ogma.events.on("layoutStart",e),this._ogma),this.onLayoutComplete=e=>(this._ogma.events.on("layoutEnd",e),this._ogma),this.onLayoutComputed=e=>(this._ogma.events.on("layoutComputed",e),this._ogma),this.onTooltipShown=e=>(this._ogma.events.on("tooltipShow",e),this._ogma),this.onTooltipHidden=e=>(this._ogma.events.on("tooltipHide",e),this._ogma),this.onTransformationEnabled=e=>(this._ogma.events.on("transformationEnabled",e),this._ogma),this.onTransformationDisabled=e=>(this._ogma.events.on("transformationDisabled",e),this._ogma),this.onTransformationSetIndex=e=>(this._ogma.events.on("transformationSetIndex",e),this._ogma),this.onTransformationDestroyed=e=>(this._ogma.modules.events.on("transformationDestroyed",e),this._ogma),this.onTransformationRefreshed=e=>(this._ogma.events.on("transformationRefresh",e),this._ogma)}on(e,t){return this._ogma.modules.events.on(e,t),this}off(e){return this._ogma.modules.events.off(e),this}onKeyPress(e,t){return this._ogma.modules.keyboard.onKeyPress(e,t),this._ogma}},tX=class extends Kt{constructor(e){super(e),this.csv=t=>pW(this._ogma,t),this.xlsx=t=>(t&&t.dataProperties&&void 0,WW(this._ogma,t)),this.gexf=t=>_W(this._ogma,t),this.graphml=(t={})=>vW(this._ogma,t),this.json=(t={})=>EW(this._ogma,t),this.svg=(t={})=>jW(this._ogma,t),this.png=(t={})=>ph(this._ogma,t,"png"),this.jpg=(t={})=>ph(this._ogma,t,"jpg"),this.tiff=(t={})=>ph(this._ogma,t,"tiff"),this.gif=(t={})=>ph(this._ogma,t,"gif"),e.styles.createClass({name:Do,isBuiltin:!0})}},Jn=Rx(rO()),nX=class extends Kt{constructor(){super(...arguments),this.balancedTree=e=>Promise.resolve(Jn.balancedTree.generate(Jn.balancedTree.configure(e))),this.barabasiAlbert=e=>Promise.resolve(Jn.barabasiAlbert.generate(Jn.barabasiAlbert.configure(e))),this.erdosRenyi=e=>Promise.resolve(Jn.erdosRenyi.generate(Jn.erdosRenyi.configure(e))),this.flower=e=>Promise.resolve(Jn.flower.generate(Jn.flower.configure(e))),this.grid=e=>Promise.resolve(Jn.grid.generate(Jn.grid.configure(e))),this.path=e=>Promise.resolve(Jn.path.generate(Jn.path.configure(e))),this.random=e=>Promise.resolve(Jn.random.generate(Jn.random.configure(e))),this.randomTree=e=>Promise.resolve(Jn.randomTree.generate(Jn.randomTree.configure(e)))}},rX=class{reloadFonts(){this.modules.graphics.reloadFonts()}},iX=class extends Kt{constructor(){super(...arguments),this.gexf=e=>NF(e),this.gexfFromUrl=e=>Qv(e),this.janus=e=>IF(e),this.json=(e,t)=>MF(e,t),this.jsonFromUrl=(e,t)=>Kv(e,t),this.neo4j=e=>PF(e),this.graphml=e=>FF(e),this.graphmlFromUrl=e=>RF(e)}},sX=class extends Kt{constructor(e){super(e),this.stop=()=>this._ogma.modules.layouts.stop(),this.concentric=K7(e),this.radial=O9(e),this.force=WH(e),this.forceLink=XH(e),this.hierarchical=D9(e),this.sequential=B9(e),this.grid=YH(e)}},oX=class extends Kt{constructor(){super(...arguments),this.move=e=>this._ogma.modules.virtualMouse.move(e),this.down=e=>this._ogma.modules.virtualMouse.down(e),this.up=e=>this._ogma.modules.virtualMouse.up(e),this.click=e=>this._ogma.modules.virtualMouse.click(e),this.rightClick=e=>this._ogma.modules.virtualMouse.rightClick(e),this.doubleclick=e=>this._ogma.modules.virtualMouse.doubleclick(e),this.drag=(e,t)=>this._ogma.modules.virtualMouse.drag(e,t),this.wheel=e=>this._ogma.modules.virtualMouse.wheel(e)}},aX=class extends Kt{constructor(){super(...arguments),this.map=e=>this._ogma.modules.rules.createMapping(e),this.slices=e=>this._ogma.modules.rules.createSlices(e),this.template=e=>this._ogma.modules.rules.createTemplate(e)}},lX=class{clearSelection(){return this.modules.selection.clear()}getSelectedNodes(){return this.modules.selection.getSelectedNodes()}getNonSelectedNodes(){return this.modules.selection.getNonSelectedNodes()}getSelectedEdges(){return this.modules.selection.getSelectedEdges()}getNonSelectedEdges(){return this.modules.selection.getNonSelectedEdges()}},cX=class{setOptions(e){return this.modules.settings.update(e)}getOptions(){return this.modules.settings.get()}},dX=class extends Kt{constructor(){super(...arguments),this.setNodesVisibility=e=>this._ogma.modules.graphics.setNodesVisibility(e),this.setEdgesVisibility=e=>this._ogma.modules.graphics.setEdgesVisibility(e),this.setNodeTextsVisibility=e=>this._ogma.modules.graphics.setNodeTextsVisibility(e),this.setEdgeTextsVisibility=e=>this._ogma.modules.graphics.setEdgeTextsVisibility(e),this.addRule=(e={})=>this._ogma.modules.styleRules.addRule(e),this.getRuleList=()=>this._ogma.modules.styleRules.getRuleList(),this.addNodeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({nodeAttributes:n,nodeSelector:r})},this.addEdgeRule=(e,t)=>{let n,r;return t===void 0?(n=e,r=void 0):(n=t,r=e),this.addRule({edgeAttributes:n,edgeSelector:r})},this.getNodeRules=()=>this.getRuleList().filter(e=>e.getDefinition().edgeAttributes===void 0),this.getEdgeRules=()=>this.getRuleList().filter(e=>e.getDefinition().nodeAttributes===void 0),this.createClass=e=>this._ogma.modules.classes.createClass(e),this.getClass=e=>this._ogma.modules.classes.getClassByName(e),this.getClassList=()=>this._ogma.modules.classes.getClassList(),this.setHoveredNodeAttributes=(e,t)=>{this._ogma.modules.hover.updateNodeAttributes(e,t)},this.setHoveredEdgeAttributes=(e,t)=>{this._ogma.modules.hover.updateEdgeAttributes(e,t)},this.setSelectedNodeAttributes=(e,t)=>this._ogma.modules.selection.setNodeAttributes(e,!!t),this.setSelectedEdgeAttributes=(e,t)=>this._ogma.modules.selection.setEdgeAttributes(e,!!t),this.setTheme=({nodeAttributes:e,edgeAttributes:t,selectedNodeAttributes:n,selectedEdgeAttributes:r,hoveredNodeAttributes:i,hoveredEdgeAttributes:s})=>{this._ogma.modules.pulses.setTheme(e&&e.pulse||{},t&&t.pulse||{}),this._ogma.modules.graphics.getAttributesManager().setDefaultAttributes(e||{},t||{}),this.setSelectedNodeAttributes(n||{}),this.setSelectedEdgeAttributes(r||{}),this.setHoveredNodeAttributes(i||{}),this.setHoveredEdgeAttributes(s||{})}}},uX=class extends Kt{constructor(){super(...arguments),this.onNodeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.node",e,t)},this.onNodeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.node",e,t)},this.onNodeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.node",e,t)},this.onNodeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.node",e,t)},this.onEdgeHover=(e,t={})=>{this._ogma.modules.tooltip.setHandler("hover.edge",e,t)},this.onEdgeClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.edge",e,t)},this.onEdgeRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.edge",e,t)},this.onEdgeDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.edge",e,t)},this.onBackgroundClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.left.background",e,t)},this.onBackgroundRightClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("click.right.background",e,t)},this.onBackgroundDoubleClick=(e,t={})=>{this._ogma.modules.tooltip.setHandler("doubleclick.left.background",e,t)},this.refresh=()=>this._ogma.modules.tooltip.refresh(),this.isShown=()=>this._ogma.modules.tooltip.isShown(),this.hide=()=>{this._ogma.modules.tooltip.hide()},this.show=(e,t)=>this._ogma.modules.tooltip.show(e,t)}},hX=class extends Kt{constructor(e){super(e),this.lasso=new V9(e),this.connectNodes=new $9(e),this.legend=new G9(e),this.rectangleSelect=new H9(e),this.resize=new W9(e),this.rewire=new X9(e),this.snapping=new Y9(e),this.tooltip=new uX(e),this.brand=new U9(e)}};function gX(e,t,n){const r=e.getEdge(t.id||"");return!r||r.getTransformation()===n}var Jg=e=>!0,Md=e=>"";function Pd(e,t,n){return{}}var DF=class extends fa{constructor(e){super(e),this._checkEdgeDataUpdate=!0,this._checkNodeDataUpdate=!0,this._nodeSelector=e.nodeSelector||Jg,this._nodeGroupIdFunction=e.nodeGroupIdFunction||Md,this._nodeGenerator=e.nodeGenerator||Pd,this._edgeSelector=e.edgeSelector||Jg,this._edgeGroupIdFunction=e.edgeGroupIdFunction||Md,this._edgeGenerator=e.edgeGenerator||Pd,this._edgeSource=e.edgeSource,this._edgeTarget=e.edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._groupEdges=e.groupEdges}_computeNodeGroupId(e){if(this._nodeGroupIdFunction)return this._nodeSelector(e)?this._nodeGroupIdFunction(e):void 0}_computeEdgeGroupId(e){if(this._edgeGroupIdFunction)return this._edgeSelector(e)?this._edgeGroupIdFunction(e):void 0}_addMetaNodes(){const e=this._id,t=this._ogma,n=t.getNodes().reduce((a,l)=>l.getTransformation()===this?a.concat(l.getSubNodes()):a.concat(l.toList()),this._ogma.nodeList()),r=new Map;for(let a=0;a<n.size;++a){const l=n.get(a),c=this._computeNodeGroupId(l);if(c!==void 0){let d=r.get(c);d||(d={id:c,nodes:[]},r.set(c,d)),d.nodes.push(l)}}const i=go(r),s=i.map(({nodes:a})=>t.getNodes(a)),o=[];for(let a=0;a<i.length;++a){const l=i[a].id,c=s[a],d=this._nodeGenerator(c,l,this);d.id===void 0&&(d.id=ep(l,e)),d.position=_v(c.getPosition()),o.push(d)}return t.addNodes(o.map(a=>({id:a.id,attributes:a.position})),{virtual:!0}).then(()=>{const a=t.getNodes(o.map(c=>c.id));a.replaceOriginalAttributes(o.map(c=>c.attributes),["x","y","radius"]);const l=a.getData();for(let c=0;c<l.length;c++){const d=l[c],u=o[c];l[c]=Vr(Vr(d,u.data),this._context.nodeDataUpdates.get(a._indexes[c]))}return this._checkNodeDataUpdate=!1,a.setData(null,l),a.setVisible(!0),this._ogma.modules.grouping.setSubElements(a,s),s.forEach((c,d)=>{this._ogma.modules.grouping.setMetaElement(c,a.get(d))}),a})}_addMetaEdges(){const e=this._id,t=this._ogma,n=t.getEdges(),r=new Map,i=this._ogma.modules.graphics.getAttributesManager().getUsedEdgeAttributes().filter(l=>l!=="curvature");for(let l=0;l<n.size;++l){const c=n.get(l),d=this._computeEdgeGroupId(c);if(d!==void 0){const u=this._edgeSource(c),h=this._edgeTarget(c),g=this._groupEdges?mX(d,u.getId(),h.getId(),this._separateEdgesByDirection):String(c.getId());let p=r.get(g);p||(p={id:g,source:u,target:h,edges:[]},r.set(g,p)),p.edges.push(c)}}const s=go(r),o=s.map(({edges:l})=>t.getEdges(l)),a=[];for(let l=0;l<s.length;++l){const c=s[l],d=c.id,u=o[l],h=this._groupEdges?this._edgeGenerator(u,d,this):fX(u,i);if(h.id!=null&&!gX(t,h,this))throw Error(`The id ${h.id} returned by the edgeGenerator function is not a unique id.`);h.id===void 0&&(h.id=ep(d,e)),h.source=c.source.getId(),h.target=c.target.getId(),a.push(h)}return t.addEdges(pX(a),{virtual:!0}).then(()=>{const l=t.getEdges(a.map(d=>d.id));l.setAttributes(a.map(d=>d.attributes));const c=l.getData();for(let d=0;d<c.length;d++){const u=a[d],h=c[d];c[d]=Vr(h,u.data)}return this._checkEdgeDataUpdate=!1,l.setData(null,c),l.setVisible(!1),this._ogma.modules.grouping.setSubElements(l,o),o.forEach((d,u)=>{this._ogma.modules.grouping.setMetaElement(d,l.get(u))}),l})}_removeMetaEdge(e){e.forEach(t=>{const n=t.getSubEdges();if(!n)return;const r=t.getMetaEdge()||null;this._ogma.modules.grouping.setMetaElement(n,r),r&&this._ogma.modules.grouping.setSubElements(r.toList(),[n.concat((r.getSubEdges()||this._ogma.edgeList()).filter(i=>i!==t))]),n.filter(i=>i.getTarget().isVisible()&&i.getSource().isVisible()).setVisible(!0)})}_removeMetaNode(e){e.forEach(t=>{const n=t.getSubNodes();n&&(this._ogma.modules.grouping.setMetaElement(n,null),n.setVisible(!0))})}_checkChanges(e,t){const n=t?this._context.nodeDataUpdates:this._context.edgeDataUpdates;for(let r=0;r<e.length;r++){const i=t?e[r].nodes.filter(s=>s.getTransformation()===this):e[r].edges.filter(s=>s.getTransformation()===this);if(i.size)for(let s=0;s<i._indexes.length;s++){let o=n.get(i._indexes[s])||{};const a=e[r].property,l=e[r].newValues[s];a?Zi(o,a,l):o=l,n.set(i._indexes[s],o)}}}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._nodeGroupIdFunction=e.nodeGroupIdFunction||this._nodeGroupIdFunction,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._edgeGroupIdFunction=e.edgeGroupIdFunction||this._edgeGroupIdFunction,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._edgeSource=e.edgeSource||this._edgeSource,this._edgeTarget=e.edgeTarget||this._edgeTarget,this._separateEdgesByDirection=e.separateEdgesByDirection!==void 0?!!e.separateEdgesByDirection:this._separateEdgesByDirection,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._groupEdges=e.groupEdges!==void 0?!!e.groupEdges:this._groupEdges}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodeDataUpdates:new Map,edgeDataUpdates:new Map})}initialize(e){super.initialize(e),this._ogma.events.on("updateNodeData",({changes:t})=>{this._checkNodeDataUpdate?this._checkChanges(t,!0):this._checkNodeDataUpdate=!0}),this._ogma.events.on("updateEdgeData",({changes:t})=>{this._checkEdgeDataUpdate?this._checkChanges(t,!1):this._checkEdgeDataUpdate=!0})}};function pX(e){return e.map(({id:t,source:n,target:r})=>({id:t,source:n,target:r}))}function mX(e,t,n,r){let i=t,s=n;return!r&&i.toString()>s.toString()&&(i=n,s=t),`${e}[${i}-${s}]`}function fX(e,t){const n=e.get(0);return{data:n.getData(),attributes:n.getAttributes(t)}}function ep(e,t){return`gen_grp_${t}_${e}`}var _X=()=>"",kk=()=>({}),yX=class extends fa{constructor(e){super(e),this._groupSelfLoopEdges=!1,this._isCleaningUp=!1,this._isRunning=!1,this._onPreAddGraph=ft,this._onBeforeAdd=t=>{if(this._isCleaningUp||!this.enabled)return;const{isNode:n,objects:r}=t;xX(t.objects,n?this._groupNodes(r):this._groupEdges(r)),this._shouldSetVirtual=!0},this._onAfterAdd=t=>{this._shouldSetVirtual&&(this._shouldSetVirtual=!1,this._setVirtual(t.nodes||t.edges,!!t.nodes))},this._onRequestElementsToDelete=t=>{if(t.virtual)return;const n=t.elementsToRemove.isNode,r=n?this._ogma.getNodes:this._ogma.getEdges,i=n?this._context.metaNodesSet:this._context.metaEdgesSet,s=n?this._context.nodeGroups:this._context.edgeGroups,o=n?this._ogma.removeNodes:this._ogma.removeEdges,a=t.elementsToRemove.size,l=r(Array.from(i)),c=t.elementsToRemove.slice();if(t.elementsToRemove=t.elementsToRemove.subtract(l),t.elementsToRemove.size===a)return;const d=c.subtract(t.elementsToRemove);if(d.forEach(u=>{s.delete(u.getId())}),n){const u=d.getAdjacentEdges().filter(h=>h.isVirtual());this._ogma.removeEdges(u)}o(d,{virtual:!0})},this._nodeToGroupId=e.groupIdFunction||_X,this._groupSelfLoopEdges=!!e.groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||kk,this._edgeGenerator=e.edgeGenerator||kk,this._shouldSetVirtual=!1,this._selector=e.selector,this.shouldDo=e.enabled===void 0||!!e.enabled}initialize(e){super.initialize(e),this._ogma.events.on("preAddElements",this._onBeforeAdd).on("requestElementsToDelete",this._onRequestElementsToDelete).on("preAddGraph",this._onPreAddGraph).on(["postAddGraph","addNodes","addEdges"],this._onAfterAdd),this.shouldDo&&(this.enable(),this.shouldDo=!1)}enable(){return this.enabled?Promise.resolve():(this.enabled=!0,this.shouldDo=!0,this.shouldUndo=!1,this._isRunning=!0,this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>(this.resolve(),this._isRunning=!1,Promise.resolve())))}disable(){return this.enabled?(this.enabled=!1,this.shouldDo=!1,this.shouldUndo=!1,this.cleanup().then(()=>{Promise.resolve()})):Promise.resolve()}run(){return this.enabled||!this.shouldDo?Promise.resolve(this._context):this._ogma.export.json({download:!1,edgeAttributes:"all",nodeAttributes:"all"}).then(e=>Promise.all([e,this._ogma.clearGraph()])).then(([e])=>e).then(e=>this._ogma.setGraph(e)).then(()=>Promise.resolve(this._context))}undo(){return Promise.resolve(this._context)}getName(){return"node-clustering"}cleanup(){if(this._isRunning)return Promise.resolve();this._isCleaningUp=!0;const e=this._ogma.getNodes(Array.from(this._context.metaNodesSet)),t=this._ogma.getEdges(Array.from(this._context.metaEdgesSet)),n=this._getSubNodes(),r=this._getSubEdges();return this.resetContext(),this._ogma.removeNodes(e,{virtual:!0}).then(()=>this._ogma.removeEdges(t,{virtual:!0})).then(()=>this._ogma.addNodes(n)).then(()=>this._ogma.addEdges(r)).then(()=>{this._isCleaningUp=!1,Promise.resolve()})}resetContext(){this._isRunning||(super.resetContext(),this._context=St(Se({},this._context),{nodeGroups:new Map,edgeGroups:new Map,metaNodesSet:new Set,metaEdgesSet:new Set,nodeToGroupId:new Map}))}getSubNodes(e){const t=this._context.nodeGroups.get(e.getId());return t?t.nodes:[]}getSubEdges(e){const t=this._context.edgeGroups.get(e.getId());return t?t.edges:[]}_getSubNodes(){return Array.from(this._context.nodeGroups.values()).reduce((e,{nodes:t})=>(e.push(...t),e),[])}_getSubEdges(){return Array.from(this._context.edgeGroups.values()).reduce((e,{edges:t})=>(e.push(...t),e),[])}_setVirtual(e,t){if(!e)return;const n=t?this._context.metaNodesSet:this._context.metaEdgesSet,r=e.filter(i=>n.has(i.getId()));this._ogma.modules.graph.storage.fetch(t).getFlexArray("virtual").setMultiple(r._indexes,1),t?this._context.virtualNodes=this._context.virtualNodes.concat(r):this._context.virtualEdges=this._context.virtualEdges.concat(r)}setContext(e){}_computeEdgeGroupId(e,t){return e>t?`${t}:${e}`:`${e}:${t}`}_groupEdges(e){const t=this._id,n=new Map,r=this._context.nodeToGroupId;this._context.edgeGroups.forEach(a=>{a.newEdges=[],n.set(a.id,a)});const i=[];for(let a=0;a<e.length;++a){const l=e[a];let c=this._context.nodeToGroupId.get(l.source),d=this._context.nodeToGroupId.get(l.target);if(!c&&!d){i.push(l);continue}c=c||l.source,d=d||l.target;const u=this._computeEdgeGroupId(c,d);if(u!==void 0){const h=r.get(l.source)||l.source,g=r.get(l.target)||l.target;let p=n.get(u);p||(p={id:u,source:h,target:g,edges:[],newEdges:[]},n.set(u,p)),p.edges.push(l),p.newEdges.push(l)}}const s=go(n),o=s.map(({edges:a})=>a);for(let a=0;a<s.length;++a){const l=s[a];if(!l.newEdges.length)continue;const c=l.id,d=o[a],u=this._edgeGenerator(d,c,this);u.id===void 0&&(u.id=ep(c,t)),u.source=l.source,u.target=l.target,l.metaEdge=u,this._context.metaEdgesSet.add(u.id),this._context.edgeGroups.get(u.id)||this._context.edgeGroups.set(u.id,l),(this._groupSelfLoopEdges||u.source!==u.target)&&i.push(u)}return this._ogma.view.afterNextFrame().then(()=>{this._context.edgeGroups.forEach(({newEdges:a,metaEdge:l})=>{if(!(a.length&&l&&l.id&&l.attributes))return;const c=this._ogma.getEdge(l.id);c==null||c.setAttributes(l.attributes)})}),i}_groupNodes(e){const t=this._id,n=new Map;this._context.nodeGroups.forEach(l=>{l.newNodes=[],n.set(l.id,l)});const r=[];for(let l=0;l<e.length;l++){const c=e[l];if(this._selector&&!this._selector(c)){r.push(c);continue}c.id=PN(c.id);const d=this._nodeToGroupId(c);if(d!==void 0){let u=n.get(d);u||(u={id:d,nodes:[],newNodes:[]},n.set(d,u)),u.nodes.push(c),u.newNodes.push(c)}else this._context.nodeToGroupId.set(c.id,c.id)}const i=go(n),s=i.map(({nodes:l})=>l),o=i.map(({newNodes:l})=>l),a=[];for(let l=0;l<i.length;++l){if(!i[l].newNodes.length)continue;const c=i[l].id,d=s[l],u=this._nodeGenerator(d,c,this);i[l].metaNode=u,u.id===void 0&&(u.id=ep(c,t));for(const h of o[l])this._context.nodeToGroupId.set(h.id,u.id);this._context.metaNodesSet.add(u.id),this._context.nodeGroups.get(u.id)||this._context.nodeGroups.set(u.id,i[l]),a.push(u)}return a.push(...r),this._ogma.view.afterNextFrame().then(()=>{this._context.nodeGroups.forEach(({newNodes:l,metaNode:c})=>{if(!(l.length&&c&&c.id&&c.attributes))return;const d=this._ogma.getNode(c.id);d==null||d.setAttributes(c.attributes)})}),a}_setOptions(e){this._nodeToGroupId=e.groupIdFunction||this._nodeToGroupId,this._groupSelfLoopEdges=e.groupSelfLoopEdges!==void 0?!!e.groupSelfLoopEdges:this._groupSelfLoopEdges,this._nodeGenerator=e.nodeGenerator||this._nodeGenerator,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,this._selector=e.selector||this._selector}};function xX(e,t){const n=t.length;return e.length=n,e.splice(0,n,...t),e}var vX=e=>({addNodeClustering:(t={})=>e.modules.transformations.add(new yX(t))}),bX=e=>({addNodeFilter:t=>e.modules.filters.addNodeFilter(t),addEdgeFilter:t=>e.modules.filters.addEdgeFilter(t),getNodeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="node-filter"),getEdgeFilters:()=>e.modules.transformations.getList().filter(t=>t.getName()==="edge-filter")}),wX=class extends DF{constructor({selector:e=Jg,duration:t,enabled:n,groupIdFunction:r=Md,generator:i=Pd,separateEdgesByDirection:s=!1}={}){super({nodeSelector:null,nodeGroupIdFunction:null,nodeGenerator:null,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}getName(){return"edge-grouping"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{metaEdges:this._ogma.edgeList(),subEdges:this._ogma.edgeList(),invalidMetaEdges:this._ogma.edgeList(),invalidSubEdges:this._ogma.edgeList()})}run(){let e,t;const n=this.getAnimationDuration();return this._addMetaEdges().then(r=>{e=r,t=e.getSubEdges().reduce((o,a)=>o.concat(a),this._ogma.createEdgeList());const i=this._context.invalidSubEdges.subtract(t),s=t.reduce((o,a)=>(o[a.getId()]=!0,o),{});return Promise.all([...e.map((o,a)=>{const l=o.getParallelEdges({filter:"visible"}),c=l.filter(d=>!s[d.getId()]).reduce((d,u)=>(d[u.getId()]=!0,d),{});return c[o.getId()]=!0,l.setAttribute("curvature",l.map(d=>this._ogma.modules.curvatureManager.computeCurvature(s[d.getId()]?o:d,"all",u=>c[u.getId()])),n)}),i.setAttribute("curvature",this._getCurvatures(i),n)])}).then(()=>(t.setVisible(!1),e.setVisible(!0),St(Se({},this._context),{metaEdges:e,subEdges:t,virtualEdges:e,invalidMetaEdges:this._context.metaEdges.subtract(e),invalidSubEdges:t})))}undo(){const{metaEdges:e,subEdges:t}=this._context,n=this.getAnimationDuration(!1);return this._removeMetaEdge(e),e.setVisible(!1),t.filter(r=>r.getSource().isVisible()&&r.getTarget().isVisible()).setVisible(!0),e.setVisible(!1),this._context.invalidSubEdges=this._context.subEdges,t.getParallelEdges().setAttribute("curvature",this._getCurvatures(t),n)}_getCurvatures(e){return e.map(t=>this._ogma.modules.curvatureManager.computeCurvature(t,"visible",n=>!0))}cleanup(){const{virtualEdges:e,invalidMetaEdges:t}=this._context;return this._ogma.removeEdges(e.concat(t),{virtual:!0}).then(()=>(this._context.metaEdges=this._ogma.edgeList(),this._context.virtualEdges=this._ogma.edgeList(),this._context.invalidMetaEdges=this._ogma.edgeList(),this._context.invalidSubEdges=this._ogma.edgeList(),Promise.resolve()))}_setOptions({selector:e,duration:t,enabled:n,groupIdFunction:r,generator:i,separateEdgesByDirection:s}){super._setOptions({nodeSelector:void 0,nodeGroupIdFunction:void 0,nodeGenerator:void 0,edgeSelector:e,edgeGroupIdFunction:r,edgeGenerator:i,edgeSource:o=>o.getSource(),edgeTarget:o=>o.getTarget(),separateEdgesByDirection:s,groupEdges:!0,duration:t,enabled:n})}};function _y(e,t,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;zF(e,t,o,r,i,s%2),_y(e,t,n,r,o-1,s+1),_y(e,t,n,o+1,i,s+1)}function zF(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const c=i-r+1,d=n-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1);zF(e,t,n,Math.max(r,Math.floor(n-d*h/c+g)),Math.min(i,Math.floor(n+(c-d)*h/c+g)),s)}const o=t[2*n+s];let a=r,l=i;for(nc(e,t,r,n),t[2*i+s]>o&&nc(e,t,r,i);a<l;){for(nc(e,t,a,l),a++,l--;t[2*a+s]<o;)a++;for(;t[2*l+s]>o;)l--}t[2*r+s]===o?nc(e,t,r,l):(l++,nc(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function nc(e,t,n,r){Hf(e,n,r),Hf(t,2*n,2*r),Hf(t,2*n+1,2*r+1)}function Hf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EX(e,t,n,r,i,s,o){const a=[0,e.length-1,0],l=[];let c,d;for(;a.length;){const u=a.pop(),h=a.pop(),g=a.pop();if(h-g<=o){for(let _=g;_<=h;_++)c=t[2*_],d=t[2*_+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[_]);continue}const p=Math.floor((g+h)/2);c=t[2*p],d=t[2*p+1],c>=n&&c<=i&&d>=r&&d<=s&&l.push(e[p]);const m=(u+1)%2;(u===0?n<=c:r<=d)&&(a.push(g),a.push(p-1),a.push(m)),(u===0?i>=c:s>=d)&&(a.push(p+1),a.push(h),a.push(m))}return l}function SX(e,t,n,r,i,s){const o=[0,e.length-1,0],a=[],l=i*i;for(;o.length;){const c=o.pop(),d=o.pop(),u=o.pop();if(d-u<=s){for(let _=u;_<=d;_++)Ak(t[2*_],t[2*_+1],n,r)<=l&&a.push(e[_]);continue}const h=Math.floor((u+d)/2),g=t[2*h],p=t[2*h+1];Ak(g,p,n,r)<=l&&a.push(e[h]);const m=(c+1)%2;(c===0?n-i<=g:r-i<=p)&&(o.push(u),o.push(h-1),o.push(m)),(c===0?n+i>=g:r+i>=p)&&(o.push(h+1),o.push(d),o.push(m))}return a}function Ak(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}var kX=e=>e[0],AX=e=>e[1],CX=class{constructor(e,t=kX,n=AX,r=64,i=Float64Array){this.nodeSize=r,this.points=e;const s=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(e.length),a=this.coords=new i(2*e.length);for(let l=0;l<e.length;l++)o[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);_y(o,a,r,0,o.length-1,0)}range(e,t,n,r){return EX(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return SX(this.ids,this.coords,e,t,n,this.nodeSize)}};function TX(e){return e&&e.then==="function"?e:Promise.resolve(e)}var OF=class extends DF{constructor({duration:e,enabled:t,padding:n=0,selector:r=Jg,groupIdFunction:i=Md,edgeGroupIdFunction:s=Md,nodeGenerator:o=Pd,edgeGenerator:a=Pd,separateEdgesByDirection:l=!1,groupSelfLoopEdges:c=!1,groupEdges:d=!0,restorePositions:u=!0,showContents:h=!1,onCreated:g}={}){super({nodeSelector:r,nodeGroupIdFunction:i,edgeGroupIdFunction:s,nodeGenerator:o,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGenerator:a,edgeSource:p=>mh(p.getSource()),edgeTarget:p=>mh(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._metaNodesIds=new Set,this._padding=n,this._showContents=typeof h!="function"?()=>h:h,this._restorePositions=u,this._onCreated=g||((p,m,_,y)=>{})}getName(){return"node-grouping"}get context(){return this._context}get padding(){return this._padding}set padding(e){this._padding=e,this._refresh()}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{metaNodes:this._ogma.nodeList(),metaEdges:this._ogma.edgeList(),subNodes:this._ogma.nodeList(),collapsedSubNodes:this._ogma.nodeList(),subEdges:this._ogma.edgeList(),subnodesVisibility:[],offsets:[]})}run(){let e,t;const n=this._ogma,r=this.getAnimationDuration();let i=n.createNodeList(),s=n.createNodeList(),o=n.createEdgeList();const a=[],l=this._ogma.modules.grouping,c=[],d=new Set,u=new Set;let h=[];return this._addMetaNodes().then(g=>(e=g,h=e.reduce((p,m)=>{const _=m.getSubNodes();return p.concat(_?_.isVisible():[])},[]),e.setVisible(!1),this._addMetaEdges())).then(g=>(t=g,e.forEach(p=>{const m=p.getSubNodes(),_=p.getPosition(),y=this._showContents(p);if(!m||m.map(f=>!f.isVisible()).every(f=>f))p.setVisible(!1);else if(m){if(y){d.add(p._index);const f=m.getAdjacentEdges({bothExtremities:!0});m.setVisible(!0),f.forEach(x=>u.add(x._index))}else{d.delete(p._index),l.removeVisibleGroup(p),a.push(...m.getPosition().map(x=>(x.x=x.x-_.x,x.y=x.y-_.y,x))),i=i.concat(m);const f=m.toArray();for(;f.length!==0;){const x=f.pop(),v=x.getSubNodes();v&&l.isVisibleGroup(x)&&(v.setVisible(!1),v.getAdjacentEdges({bothExtremities:!0}).setVisible(!1),f.push.apply(f,v.toArray()))}}s=s.concat(m)}}),o=t.getSubEdges().reduce((p,m)=>{const _=m.filter(y=>{if(u.has(y._index))return!1;const f=y.getSource().getMetaNode(),x=y.getTarget().getMetaNode();return!(f&&x&&l.isVisibleGroup(f)&&l.isVisibleGroup(x)&&f===x)});return p.concat(_)},n.createEdgeList()),i.setAttributes(i.getPosition().map((p,m)=>{const _=a[m];return p.x-=_.x,p.y-=_.y,p}),r))).then(()=>{i.setVisible(!1),o.setVisible(!1),e.setVisible(!0),this._ogma.modules.events.fire("groupingRun",{metaNodes:e,padding:isNaN(+this._padding)?e.map(g=>(0,this._padding)(g)||0):this._padding}),t.filter(g=>this._groupSelfLoopEdges||g.getSource()!==g.getTarget()).setVisible(!0)}).then(()=>{const g=new Set;e.forEach(p=>{const m=d.has(p._index),_=p.getSubNodes();if(_){const y=_.getAdjacentEdges({filter:"all",bothExtremities:!0});if(m){const f=_.reduce((x,v)=>{const w=l.getNodeDepth(v);return g.add(v._index),w<x?w:x},0);y.forEach(x=>u.add(x._index)),l.addVisibleGroup(p,w4+f),this._metaNodesIds.has(p.getId())||(this._metaNodesIds.add(p.getId()),c.push(TX(this._onCreated(p,m,_,y)).then(n.view.afterNextFrame)))}}}),t.forEach(p=>{const m=Math.min(l.getNodeDepth(p.getSource()),l.getNodeDepth(p.getTarget()));p.setAttribute("layer",m)}),o=o.filter(p=>!u.has(p._index)),i=i.filter(p=>!g.has(p._index)),n.removeNodes(this.context.metaNodes.subtract(e),{virtual:!0}),n.removeEdges(this.context.metaEdges.subtract(t),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update()}).then(()=>Promise.all(c)).then(()=>({metaNodes:e,metaEdges:t,subnodesVisibility:h,collapsedSubNodes:i,virtualNodes:e,virtualEdges:t,subNodes:s,nodeDataUpdates:this._context.nodeDataUpdates,edgeDataUpdates:this._context.edgeDataUpdates,subEdges:o,offsets:a}))}undo(){const{metaNodes:e,metaEdges:t,subnodesVisibility:n,subNodes:r,offsets:i,collapsedSubNodes:s,subEdges:o}=this._context,a=this.getAnimationDuration(),l=this._ogma.modules.grouping,c=this._ogma.getNodes(s.getMetaNode()).getPosition(),d=c.map((u,h)=>LX(u,i[h]));return r.forEach((u,h)=>u.setVisible(n[h])),o.setVisible(!0),l.setMetaElement(r,null),l.setMetaElement(o,null),e.setVisible(!1),t.setVisible(!1),s.setAttributes(c).then(()=>this._restorePositions?s.setAttributes(d,a):Promise.resolve(s))}cleanup(){const e=this._ogma,t=this._context,{metaNodes:n,metaEdges:r}=t;return Promise.all([()=>this._ogma.modules.grouping.resetOffsets(),e.removeEdges(r,{virtual:!0}),e.removeNodes(n,{virtual:!0})]).then(()=>Promise.resolve())}_setOptions({duration:e,enabled:t,padding:n,selector:r,groupIdFunction:i,nodeGenerator:s,edgeGroupIdFunction:o,edgeGenerator:a,separateEdgesByDirection:l,groupSelfLoopEdges:c,groupEdges:d,restorePositions:u,showContents:h,onCreated:g}={}){super._setOptions({nodeSelector:r,nodeGroupIdFunction:i,nodeGenerator:s,edgeSelector:p=>!(!p.getSource().getMetaNode()&&!p.getTarget().getMetaNode()),edgeGroupIdFunction:o,edgeGenerator:a,edgeSource:p=>mh(p.getSource()),edgeTarget:p=>mh(p.getTarget()),separateEdgesByDirection:l,groupEdges:d,groupSelfLoopEdges:c,duration:e,enabled:t}),this._padding=n!==void 0?n:this.padding,this._showContents=h!==void 0?typeof h!="function"?()=>h:h:this._showContents,this._restorePositions=u===void 0?this._restorePositions:u,this._onCreated=g||this._onCreated}};function mh(e){return e.getMetaNode()||e}function LX(e,t){return{x:e.x+t.x,y:e.y+t.y}}var NX=e=>e/360+.5,IX=e=>{const t=Math.sin(e*Math.PI/180);return(e=.5-.25*Math.log((1+t)/(1-t))/Math.PI)<0?0:e>1?1:e},MX=256,PX=class extends OF{constructor(e){super(St(Se({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=Vr(i.data,s):i.data=s,i}})),this._zoomLevels=e.zoomLevels?e.zoomLevels:[0,22],this._groupingRadius=e.radius===void 0?60:e.radius,this._generateIdFunction=e.groupIdFunction||(()=>""),this._shouldEnable=e.enabled,this._shouldRefreshClusters=!0}initialize(e){super.initialize(e);const t=this._ogma;this._ogma.modules.events.on("beforeGeoCameraMove",({zoom:n})=>{this.enabled&&t.geo.enabled()&&this.getClosestZoomLevel(n).zoom!==this._currentClusters.zoom&&(this._shouldRefreshClusters=!1,this._refresh())}),t.events.on("geoDisabled",()=>{this.isEnabled()&&this.disable(0).then(()=>{this._shouldEnable=!0})}),t.events.on("geoEnabled",()=>{this._shouldEnable&&this.enable(0)})}getPosition(e){return{x:e.getData(this._ogma.modules.geo.latitudePath),y:e.getData(this._ogma.modules.geo.longitudePath)}}getMercatorPosition(e){return{x:NX(e.getData(this._ogma.modules.geo.longitudePath)),y:IX(e.getData(this._ogma.modules.geo.latitudePath))}}getNodeId(e){var t;return((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.id)||""}enable(e){return this._ogma&&!this._ogma.modules.geo.isEnabled()?(this._shouldEnable=!0,Promise.resolve()):super.enable(e)}disable(e){return this._shouldEnable=!1,super.disable(e)}getCoords(e){var t;const n=((t=this._currentClusters.idToCluster.get(e._index))==null?void 0:t.center)||{x:0,y:0},r={};return this.setToPropertyPath(r,this._ogma.modules.geo.latitudePath,n.x),this.setToPropertyPath(r,this._ogma.modules.geo.longitudePath,n.y),r}setToPropertyPath(e,t,n){if(typeof t=="string")return this.setToPropertyPath(e,t.split("."),n);{let r=e;t.forEach((i,s)=>{s===t.length-1?r[i]=n:r[i]||(r[i]={}),r=r[i]})}}nodeToElement(e){return{nodeId:e._index,generatedId:this._generateIdFunction(e),nodes:this._ogma.nodeList(new Uint32Array([e._index])),radius:e.getAttribute("radius"),center:this.getPosition(e),mercatorCenter:this.getMercatorPosition(e),zoom:1/0}}getCluster(e){const t=e.reduce((i,s)=>({x:i.x+s.center.x/e.length,y:i.y+s.center.y/e.length}),{x:0,y:0}),n=e.reduce((i,s)=>({x:i.x+s.mercatorCenter.x/e.length,y:i.y+s.mercatorCenter.y/e.length}),{x:0,y:0}),r=e.reduce((i,s)=>{const o=t.x-s.center.x,a=t.y-s.center.y,l=s.radius+Math.sqrt(o*o+a*a);return Math.max(l,i)},0);return{nodes:this._ogma.nodeList(new Uint32Array(e.map(({nodeId:i})=>i))),generatedId:e[0].generatedId,center:t,mercatorCenter:n,radius:r}}onePassCluster(e){const t=e.map(s=>this.nodeToElement(s)),[n,r]=this._zoomLevels,i=[];for(let s=r;Math.abs(s-n)>.01;s-=1*(r-n)/19){const o=[],a=new CX(t,({mercatorCenter:l})=>l.x,({mercatorCenter:l})=>l.y,16,Float32Array);t.forEach(l=>{if(l.zoom<=s)return;const c=this._groupingRadius/(MX*Math.pow(2,l.zoom-1));let d=a.within(l.mercatorCenter.x,l.mercatorCenter.y,c).map(u=>t[u]).filter(u=>u.zoom>s&&u&&u.generatedId===l.generatedId);d.length||(d=[l]),d.forEach(u=>u.zoom=s),o.push(St(Se({},this.getCluster(d)),{zoom:s,id:`${s.toFixed(2)}-${o.length}`}))}),i.push({zoom:s,clusters:o})}return i.map(({zoom:s,clusters:o})=>{const a=new Map;return o.forEach(l=>{l.nodes.forEach(({_index:c})=>a.set(c,l))}),{zoom:s,idToCluster:a}})}getClosestZoomLevel(e){return this._clustersByZoom.reduce((t,n)=>Math.abs(e-n.zoom)<Math.abs(e-t.zoom)?n:t)}run(){var e;this._shouldRefreshClusters&&(this._clustersByZoom=this.onePassCluster(this._ogma.getNodes().filter(n=>this._nodeSelector(n))));const t=((e=this._ogma.geo.getMap())==null?void 0:e.getZoom())||0;return this._currentClusters=this.getClosestZoomLevel(t),this.whenApplied().then(()=>{this._ogma.view.afterNextFrame().then(()=>{this._ogma.modules.geo.updateProjection()})}),this._shouldRefreshClusters=!0,super.run()}_setOptions(e){super._setOptions(St(Se({},e),{selector:t=>{const n=this.getPosition(t);return n&&!isNaN(n.x)&&!isNaN(n.y)&&(!e.selector||e.selector(t))},groupIdFunction:t=>{let n=e.groupIdFunction?e.groupIdFunction(t):"geo-cluster";return n||(n="geo-cluster"),`${n}-${this.getNodeId(t)}`},nodeGenerator:(t,n,r)=>{let i=e.nodeGenerator?e.nodeGenerator(t,n,r):{};i||(i={});const s=this.getCoords(t.get(0));return i.data?i.data=Vr(i.data,s):i.data=s,i},edgeGroupIdFunction:t=>{let n=e.edgeGroupIdFunction?e.edgeGroupIdFunction(t):"";return n||(n=""),`${n}-${this.getNodeId(t.getSource())}-${this.getNodeId(t.getTarget())}`}})),this._groupingRadius=e.radius===void 0?this._groupingRadius:e.radius,this._generateIdFunction=e.groupIdFunction||this._generateIdFunction,this._shouldRefreshClusters=!0,this._shouldEnable=e.enabled,this._ogma.modules.geo.filter._refresh(),this._refresh()}},FX=e=>({addNodeGrouping:(t={})=>{const n=new OF(t);return e.modules.transformations.add(n)},addEdgeGrouping:(t={})=>e.modules.transformations.add(new wX(t)),addGeoClustering:t=>{if(e.modules.transformations.getList().find(n=>n.getName()==="geo-clustering"))throw new Error("Trying to add more than one geo clustering. Please refer to the documentation about this issue.");return e.modules.transformations.add(new PX(t))}});function RX(e){return e!=null}function Ck(e,t){return{source:e.getId(),target:t.getId()}}var DX=class extends fa{constructor(e){super(e);const{selector:t=Xp,neighborIdFunction:n=xd,nodeGenerator:r=()=>({}),edgeGenerator:i=Ck}=e;this._generateIds=s=>t&&t(s)&&n(s)||null,this._nodeGenerator=r,this._edgeGenerator=i||Ck}getName(){return"neighbor-generation"}run(){const e=this._id,t=this._ogma,n=this.getAnimationDuration(),r=t.getNodes(),i=new Map;for(let u=0;u<r.size;++u){const h=r.get(u),g=(zX(this._generateIds(h))||[]).filter(RX);if(g)for(let p=0;p<g.length;++p){const m=g[p];let _=i.get(m);_||(_=[],i.set(m,_)),_.push(h)}}const s=new Array(i.size),o=[],a=Yp(i),l=go(i).map(u=>t.getNodes(u));for(let u=0;u<s.length;++u){const h=a[u],g=l[u],p=this._nodeGenerator(h,g);p.id=`_gen_${e}_${h}`;const m=_v(g.getPosition());p.attributes=p.attributes||{},p.attributes.x=m.x,p.attributes.y=m.y,s[u]=p}let c,d;return t.addNodes(s.map(u=>({id:u.id,attributes:u.attributes})),{virtual:!0}).then(()=>{c=t.getNodes(s.map(u=>u.id)),c.replaceOriginalAttributes(s.map(u=>u.attributes),["x","y"]),c.setData(null,s.map(u=>u.data));for(let u=0;u<c.size;++u){const h=c.get(u),g=l[u];for(let p=0;p<g.size;++p){const m=g.get(p),_=this._edgeGenerator(m,h);_.source||_.target||(_.source=m.getId(),_.target=h.getId()),_.id||(_.id=`${_.source}-${_.target}`),o.push(_)}}return t.addEdges(o,{virtual:!0})}).then(()=>(d=t.getEdges(o.map(u=>u.id)),c.setVisible(!0),d.setVisible(!0),c.addClass(dn),d.addClass(dn),t.removeNodes(this._context.virtualNodes.subtract(c),{virtual:!0}),t.removeEdges(this._context.virtualEdges.subtract(d),{virtual:!0}),Promise.all([c.removeClass(dn,n),d.removeClass(dn,n)]))).then(()=>({virtualNodes:c,virtualEdges:d}))}undo(){const{virtualNodes:e,virtualEdges:t}=this._context;if(!t||!e)return Promise.resolve(this._context);const n=this.getAnimationDuration();return Promise.all([e.addClass(dn,n),t.addClass(dn,n)]).then(()=>{e.setVisible(!1),t.setVisible(!1)})}cleanup(){const{virtualEdges:e,virtualNodes:t}=this._context;if(e&&t){const n=t.filter(i=>!i.isVisible()),r=e.filter(i=>!i.isVisible());this._ogma.removeNodes(n,{virtual:!0}),this._ogma.removeEdges(r,{virtual:!0})}return Promise.resolve()}_setOptions(e){const{selector:t,neighborIdFunction:n,nodeGenerator:r,edgeGenerator:i}=e;this._generateIds=t?s=>t&&t(s)&&n(s)||null:this._generateIds,this._nodeGenerator=r||this._nodeGenerator,this._edgeGenerator=i||this._edgeGenerator,super._setOptions(e)}};function zX(e){return Array.isArray(e)?e:e?[e]:null}var OX=class extends fa{constructor(e){super(e),this._selector=e.selector||yd,this._dataFunction=e.dataFunction||ft}run(){const e=this.getAnimationDuration(),t=this._ogma,n=t.getNodes().filter(this._selector?this._selector:d=>!0),r=[],i=new Map;for(let d=0;d<n.size;++d){const u=n.get(d),h=u.getAdjacentEdges(),g=this._dataFunction(u);for(let p=0;p<h.size;++p){const m=h.get(p),_=m.getSource(),y=m.getTarget();if(_!==y&&g!==void 0){const f=_===u?y:_;let x=i.get(f);x||(x=[],i.set(f,x)),x.push(g)}r.push(m)}}const s=t.getEdges(r),o=t.getNodes(Yp(i)),a=go(i),l=o.getData(),c=new Array(o.size);for(let d=0;d<c.length;++d){const u=a[d];let h=l[d];for(let g=0;g<u.length;++g)h=Vr(h,u[g]);c[d]=h}return Promise.all([n.addClass(dn,e),s.addClass(dn,e)]).then(()=>(n.setVisible(!1),s.setVisible(!1),o.setData(c),St(Se({},this._context),{hiddenNodes:n,hiddenEdges:s,nodesWithDataChange:o,oldDataList:l})))}getName(){return"neighbor-merging"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList(),nodesWithDataChange:this._ogma.nodeList(),oldDataList:[]})}undo(){const{hiddenNodes:e,hiddenEdges:t,nodesWithDataChange:n,oldDataList:r}=this._context;e.setVisible(!0),t.setVisible(!0),e.addClass(dn),t.addClass(dn);const i=this.getAnimationDuration();return Promise.all([e.removeClass(dn,i),t.removeClass(dn,i)]).then(()=>{n.setData(r)})}cleanup(){return Promise.resolve()}_setOptions(e){this._selector=e.selector||this._selector,this._dataFunction=e.dataFunction||this._dataFunction,super._setOptions(e)}},BX=e=>({addNeighborGeneration:t=>e.modules.transformations.add(new DX(t)),addNeighborMerging:t=>e.modules.transformations.add(new OX(t))});function jX(e,t){return e.size===t.size&&e.filter(n=>t.includes(n)).size>0}var UX=class extends fa{constructor(e){super(e),this._selector=e.selector||(t=>!1),this._edgeGenerator=e.edgeGenerator||(()=>({}))}getName(){return"node-collapsing"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{hiddenNodes:this._ogma.nodeList(),hiddenEdges:this._ogma.edgeList()})}run(){const e=this._ogma,t=this.getAnimationDuration(),n=e.getNodes().filter(this._selector),r=n.getAdjacentEdges(),i=[],s=n.map(o=>o.getAdjacentNodes().filter(a=>!this._selector(a)));for(let o=0;o<n.size;o++)for(let a=o;a<n.size;a++){const l=n.get(o),c=n.get(a);if(this._ogma.modules.graph.getEdgesBetweenTwoNodes(l,c).size>0&&(s[o].size||s[a].size)&&!jX(s[o],s[a]))throw Error(`addNodeCollapsing: invalid connected nodes [${l.getId()}] and [${c.getId()}] to be collapsed. The addNodeCollapsing function supports only disconnected nodes.`)}for(let o=0;o<n.size;++o){const a=n.get(o),l=s[o];for(let c=0;c<l.size-1;++c){const d=l.get(c),u=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,d);if(d!==a)for(let h=c+1;h<l.size;++h){const g=l.get(h),p=this._ogma.modules.graph.getEdgesBetweenTwoNodes(a,g),m=this._edgeGenerator(a,d,g,u,p);if(m){const _=Tg(m);for(let y=0;y<_.length;++y)i.push($X(e,_[y],y,a,d,g,u,p))}}}}return e.addEdges(i,{virtual:!0}).then(()=>this._ogma.getEdges(i.map(o=>o.id)).addClass(dn)).then(o=>Promise.all([o.removeClass(dn,t),n.addClass(dn,t),r.addClass(dn,t)])).then(([o])=>(n.setVisible(!1),r.setVisible(!1),o.setVisible(!0),e.removeEdges(this.context.virtualEdges.subtract(o),{virtual:!0}),this._ogma.modules.graphics.getAttributesManager().update(),St(Se({},this._context),{virtualEdges:o,hiddenNodes:n,hiddenEdges:r})))}undo(){const{hiddenNodes:e,hiddenEdges:t}=this._context,n=this._ogma,r=this.getAnimationDuration(),i=this._context.virtualEdges||n.createEdgeList();return e.setVisible(!0),t.setVisible(!0),Promise.all([e.addClass(dn),t.addClass(dn)]).then(()=>Promise.all([i.addClass(dn,r),e.removeClass(dn,r),t.removeClass(dn,r)])).then(()=>{i.setVisible(!1)})}cleanup(){const e=this._context.virtualEdges||this._ogma.createEdgeList();return this._ogma.removeEdges(e,{virtual:!0})}_setOptions(e){this._selector=e.selector||this._selector,this._edgeGenerator=e.edgeGenerator||this._edgeGenerator,super._setOptions(e)}};function $X(e,t,n,r,i,s,o,a){let l,c;if(t.source!==void 0&&(l=e.getNode(t.source),l!==i&&l!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid source [${t.source}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(t.target!==void 0&&(c=e.getNode(t.target),c!==i&&c!==s))throw new Error([`addNodeCollapsing: edge generator produced RawEdge with invalid target [${t.target}]`,`expected to be [${i.getId()}] or [${s.getId()}]`].join("; "));if(l&&c&&l===c)throw new Error(`addNodeCollapsing: edge generator produced RawEdge with same source and target [${l.getId()}]`);if(l&&!c)c=l===i?s:i;else if(c&&!l)l=c===i?s:i;else if(!l&&!c){let d=!0;for(let u=0;u<o.size;++u)o.get(u).getSource()===i&&(d=!1);for(let u=0;u<a.size;++u)a.get(u).getTarget()===s&&(d=!1);d?(l=s,c=i):(l=i,c=s)}return l&&c?St(Se({},t),{id:`_gen_${r.getId()}_${l.getId()}_${c.getId()}_${n}`,source:l.getId(),target:c.getId()}):{}}var VX=e=>({addNodeCollapsing:(t={})=>e.modules.transformations.add(new UX(t))}),GX=class extends fa{constructor(e){super(e),this._nodeSelector=e.nodeSelector||(t=>!0),this._edgeSelector=e.edgeSelector||(t=>!0),this._nodeDataFunction=e.nodeDataFunction||null,this._edgeDataFunction=e.edgeDataFunction||null}getName(){return"virtual-properties"}get context(){return this._context}resetContext(){super.resetContext(),this._context=St(Se({},this._context),{nodes:this._ogma.nodeList(),oldNodesData:[],edges:this._ogma.edgeList(),oldEdgesData:[]})}run(){const e=this._ogma,t=this._context;return this._nodeDataFunction&&(t.nodes=e.getNodes().filter(this._nodeSelector),t.oldNodesData=Tk(t.nodes,this._nodeDataFunction)),this._edgeDataFunction&&(t.edges=e.getEdges().filter(this._edgeSelector),t.oldEdgesData=Tk(t.edges,this._edgeDataFunction)),Promise.resolve(t)}undo(){const{nodes:e,oldNodesData:t,edges:n,oldEdgesData:r}=this._context;return e&&e.setData(t),n&&n.setData(r),Promise.resolve()}cleanup(){return Promise.resolve()}_setOptions(e){this._nodeSelector=e.nodeSelector||this._nodeSelector,this._edgeSelector=e.edgeSelector||this._edgeSelector,this._nodeDataFunction=e.nodeDataFunction||this._nodeDataFunction,this._edgeDataFunction=e.edgeDataFunction||this._edgeDataFunction,super._setOptions(e)}};function Tk(e,t){const n=[];for(let r=0;r<e.size;++r){const i=e.get(r),s=i.getData(),o=t(i),a=Vr(s,o);n.push(s),i.setData(a)}return n}var HX=e=>({addVirtualProperties:t=>e.modules.transformations.add(new GX(t))}),WX=class extends Kt{constructor(e){super(e),this.getList=()=>this._ogma.modules.transformations.getList(),this.clear=()=>this._ogma.modules.transformations.clear(),this.getById=g=>this._ogma.modules.transformations.getById(g),this.afterNextUpdate=()=>this._ogma.modules.transformations.whenApplied();const{addNodeGrouping:t,addEdgeGrouping:n,addGeoClustering:r}=FX(e);this.addNodeGrouping=t,this.addEdgeGrouping=n,this.addGeoClustering=r;const{addNodeClustering:i}=vX(e);this.addNodeClustering=i;const{addNodeFilter:s,addEdgeFilter:o,getNodeFilters:a,getEdgeFilters:l}=bX(e);this.addNodeFilter=s,this.addEdgeFilter=o,this.getNodeFilters=a,this.getEdgeFilters=l;const{addNeighborGeneration:c,addNeighborMerging:d}=BX(e);this.addNeighborGeneration=c,this.addNeighborMerging=d;const{addNodeCollapsing:u}=VX(e);this.addNodeCollapsing=u;const{addVirtualProperties:h}=HX(e);this.addVirtualProperties=h}},XX=class{constructor(e,t){this._ogma=e,rP==="webgl"&&Gc.cacheInitData(Gc.createInitData()),this.settings=new R$(e),this.events=new M$(e),this.dom=new a4(e,t.dimensions),this.animations=new fV(e),this.camera=new nP(e),this.graph=new Q4(e),this.data=new d4(e),this.graphics=new k$(e),this.layers=new H7(e),this.individualAttributes=new F$(e),this.algorithms=new W7(e),this.position=new M7(e),this.touch=new iV(e),this.mouse=new nV(e),this.virtualMouse=new QV(e),this.spatial=new G$(e),this.captor=new MG(e),this.interactions=new SG(e),this.classes=new B$(e),this.cameraInteractions=new y$(e,!!t.debug),this.hover=new I7(e),this.keyboard=new WG(e),this.selection=new lV(e),this.styleRules=new nG(e),this.legend=new L7(e),this.sync=new cV(e),this.rules=new O7(e),this.transformations=new oV(e),this.filters=new U7(e),this.locate=new K$(e),this.drag=new PG(e),this.grouping=new sV(e),this.pulses=new gV(e),this.curvatureManager=new IV(e),this.workers=new DV(e),this.layouts=new UV(e),this.watcher=new WV(e),this.rectangleSelect=new rG(e),this.labels=new EG(e,t),this.brand=new LV(e),this.lasso=new fP(e),this.rewiring=new RG(e),this.resizing=new DG(e),this.snapping=new KV(e),this.connectNodes=new OG(e),this.tooltip=new GG(e),this.geo=new NV(e),Object.keys(this).forEach(n=>{const r=this[n];r instanceof it&&(r._setModules(this),r.onMounted())}),e.onReady(()=>{Object.keys(this).forEach(n=>{const r=this[n];r instanceof it&&r.onReady(t)})})}destroy(){Object.keys(this).forEach(e=>{const t=this[e];t instanceof it&&t.destroy(this._ogma)})}},YX=1,qX=[QW,Y7,JW,Z4,rX,lX,cX],yy={version:"4.6.0",commit:"482a4f4bf",buildTime:"Tue Nov 28 2023 11:08:09 GMT+0000 (Coordinated Universal Time)"},xy=class{constructor(e={}){this.node=t=>new Qi(t,this),this.edge=t=>new po(t,this),this.nodeList=t=>new ws(t||new Uint32Array(0),this),this.edgeList=t=>new pa(t||new Uint32Array(0),this),this._onReady=[],this.build=yy,this._init(e)}_init(e){this._initParameters=e,this._debug=!!e.debug,this._token=YX++,this.modules=new XX(this,e),this.styles=new dX(this),this.algorithms=new X7(this),this.export=new tX(this),this.keyboard=new Z7(this),this.generate=new nX(this),this.layouts=new sX(this),this.parse=new iX(this),this.transformations=new WX(this),this.tools=new hX(this),this.view=new q9(this),this.mouse=new oX(this),this.events=new eX(this),this.schema=new j9(this),this.rules=new aX(this),this.geo=new q7(this),this.layers=new Q7(this),this.debug=new KW(this),this._onReady.forEach(t=>t(this)),this.safelyBindToInstance(),this.modules.events.register(["destroy"]),this.build={version:"4.6.0",commit:"482a4f4bf",buildTime:"Tue Nov 28 2023 11:08:09 GMT+0000 (Coordinated Universal Time)"}}safelyBindToInstance(){for(const e of Object.getOwnPropertyNames(xy.prototype))typeof xy.prototype[e]=="function"&&(this[e]=this[e].bind(this))}onReady(e){this._onReady.push(e)}_destroy(){if(!this._token)throw new Error('"destroy" called twice on the same instance of Ogma');this._onReady=[],this.modules.destroy(),this.modules=null}destroy(){this.modules.events.fire("destroy",{}),this._destroy()}isDestroyed(){return!this.modules}reset(){const e=this._initParameters;this._destroy(),this._init(e)}isDebug(){return this._debug}},ti=xy;ti.libraries=EL,ti.geometry=sP,ti.parse=fy,ti.build=yy,ti.algorithms=r_,ti.utils=a_,ti.algorithms=r_,ti.utils=a_,ti.parse=fy,ti.build=yy,IO(ti,qX);var ZX=ti,BF=Rx(gL()),QX=ZX;BF.Neo4JEdgeData;BF.Neo4JNodeData;var Fl={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jF=L;function _t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cr=Object.prototype.hasOwnProperty,KX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lk={},Nk={};function UF(e){return Cr.call(Nk,e)?!0:Cr.call(Lk,e)?!1:KX.test(e)?Nk[e]=!0:(Lk[e]=!0,!1)}function br(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function eb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jv,eb);Xn[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jv,eb);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jv,eb);Xn[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});var Yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JX=["Webkit","ms","Moz","O"];Object.keys(Yh).forEach(function(e){JX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yh[t]=Yh[e]})});var eY=/["'&<>]/;function fr(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=eY.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var tY=/([A-Z])/g,nY=/^ms-/,vy=Array.isArray;function Ji(e,t){return{insertionMode:e,selectedValue:t}}function rY(e,t,n){switch(t){case"select":return Ji(1,n.value!=null?n.value:n.defaultValue);case"svg":return Ji(2,null);case"math":return Ji(3,null);case"foreignObject":return Ji(1,null);case"table":return Ji(4,null);case"thead":case"tbody":case"tfoot":return Ji(5,null);case"colgroup":return Ji(7,null);case"tr":return Ji(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ji(1,null):e}var Ik=new Map;function $F(e,t,n){if(typeof n!="object")throw Error(_t(62));t=!0;for(var r in n)if(Cr.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=fr(r);i=fr((""+i).trim())}else{s=r;var o=Ik.get(s);o!==void 0||(o=fr(s.replace(tY,"-$1").toLowerCase().replace(nY,"-ms-")),Ik.set(s,o)),s=o,i=typeof i=="number"?i===0||Cr.call(Yh,r)?""+i:i+"px":fr((""+i).trim())}t?(t=!1,e.push(' style="',s,":",i)):e.push(";",s,":",i)}}t||e.push('"')}function Rr(e,t,n,r){switch(n){case"style":$F(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Xn.hasOwnProperty(n)?Xn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',fr(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',fr(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',fr(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',fr(r),'"')}}else if(UF(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',fr(r),'"')}}}function qh(e,t,n){if(t!=null){if(n!=null)throw Error(_t(60));if(typeof t!="object"||!("__html"in t))throw Error(_t(61));t=t.__html,t!=null&&e.push(""+t)}}function iY(e){var t="";return jF.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function Wf(e,t,n,r){e.push(Bi(n));var i=n=null,s;for(s in t)if(Cr.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Rr(e,r,s,o)}}return e.push(">"),qh(e,i,n),typeof n=="string"?(e.push(fr(n)),null):n}var sY=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Mk=new Map;function Bi(e){var t=Mk.get(e);if(t===void 0){if(!sY.test(e))throw Error(_t(65,e));t="<"+e,Mk.set(e,t)}return t}function oY(e,t,n,r,i){switch(t){case"select":e.push(Bi("select"));var s=null,o=null;for(d in n)if(Cr.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Rr(e,r,d,a)}}return e.push(">"),qh(e,o,s),s;case"option":o=i.selectedValue,e.push(Bi("option"));var l=a=null,c=null,d=null;for(s in n)if(Cr.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Rr(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:iY(a),vy(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(' selected=""');break}}else""+o===n&&e.push(' selected=""');else c&&e.push(' selected=""');return e.push(">"),qh(e,d,a),a;case"textarea":e.push(Bi("textarea")),d=o=s=null;for(a in n)if(Cr.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(_t(91));default:Rr(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(">"),d!=null){if(s!=null)throw Error(_t(92));if(vy(d)&&1<d.length)throw Error(_t(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s!==null&&e.push(fr(""+s)),null;case"input":e.push(Bi("input")),l=d=a=s=null;for(o in n)if(Cr.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Rr(e,r,o,c)}return d!==null?Rr(e,r,"checked",d):l!==null&&Rr(e,r,"checked",l),s!==null?Rr(e,r,"value",s):a!==null&&Rr(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(Bi("menuitem"));for(var h in n)if(Cr.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(_t(400));default:Rr(e,r,h,s)}return e.push(">"),null;case"title":e.push(Bi("title")),s=null;for(u in n)if(Cr.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(_t(434));default:Rr(e,r,u,o)}return e.push(">"),s;case"listing":case"pre":e.push(Bi(t)),o=s=null;for(l in n)if(Cr.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Rr(e,r,l,a)}if(e.push(">"),o!=null){if(s!=null)throw Error(_t(60));if(typeof o!="object"||!("__html"in o))throw Error(_t(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof s=="string"&&s[0]===`
`&&e.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Bi(t));for(var g in n)if(Cr.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(_t(399,t));default:Rr(e,r,g,s)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Wf(e,n,t,r);case"html":return i.insertionMode===0&&e.push("<!DOCTYPE html>"),Wf(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Wf(e,n,t,r);e.push(Bi(t)),o=s=null;for(c in n)if(Cr.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":$F(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:UF(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",c,'="',fr(a),'"')}return e.push(">"),qh(e,o,s),s}}function Pk(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(_t(395));return e.push(n),e.push('"></template>')}function aY(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(_t(397))}}function lY(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(_t(397))}}var cY=/[<\u2028\u2029]/g;function Xf(e){return JSON.stringify(e).replace(cY,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function dY(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function Fk(e,t,n,r){return n.generateStaticMarkup?(e.push(fr(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(fr(t)),e=!0),e)}var Yc=Object.assign,uY=Symbol.for("react.element"),VF=Symbol.for("react.portal"),GF=Symbol.for("react.fragment"),HF=Symbol.for("react.strict_mode"),WF=Symbol.for("react.profiler"),XF=Symbol.for("react.provider"),YF=Symbol.for("react.context"),qF=Symbol.for("react.forward_ref"),ZF=Symbol.for("react.suspense"),QF=Symbol.for("react.suspense_list"),KF=Symbol.for("react.memo"),tb=Symbol.for("react.lazy"),hY=Symbol.for("react.scope"),gY=Symbol.for("react.debug_trace_mode"),pY=Symbol.for("react.legacy_hidden"),mY=Symbol.for("react.default_value"),Rk=Symbol.iterator;function by(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case GF:return"Fragment";case VF:return"Portal";case WF:return"Profiler";case HF:return"StrictMode";case ZF:return"Suspense";case QF:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YF:return(e.displayName||"Context")+".Consumer";case XF:return(e._context.displayName||"Context")+".Provider";case qF:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KF:return t=e.displayName||null,t!==null?t:by(e.type)||"Memo";case tb:t=e._payload,e=e._init;try{return by(e(t))}catch{}}return null}var JF={};function Dk(e,t){if(e=e.contextTypes,!e)return JF;var n={},r;for(r in e)n[r]=t[r];return n}var Uo=null;function pm(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(_t(401))}else{if(n===null)throw Error(_t(401));pm(e,n)}t.context._currentValue2=t.value}}function eR(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&eR(e)}function tR(e){var t=e.parent;t!==null&&tR(t),e.context._currentValue2=e.value}function nR(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(_t(402));e.depth===t.depth?pm(e,t):nR(e,t)}function rR(e,t){var n=t.parent;if(n===null)throw Error(_t(402));e.depth===n.depth?pm(e,n):rR(e,n),t.context._currentValue2=t.value}function tp(e){var t=Uo;t!==e&&(t===null?tR(e):e===null?eR(t):t.depth===e.depth?pm(t,e):t.depth>e.depth?nR(t,e):rR(t,e),Uo=e)}var zk={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function Ok(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=zk,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:Yc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&zk.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=Yc({},s,a)):Yc(s,a))}e.state=s}else s.queue=null}var fY={id:1,overflow:""};function wy(e,t,n){var r=e.id;e=e.overflow;var i=32-Zh(r)-1;r&=~(1<<i),n+=1;var s=32-Zh(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-Zh(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var Zh=Math.clz32?Math.clz32:xY,_Y=Math.log,yY=Math.LN2;function xY(e){return e>>>=0,e===0?32:31-(_Y(e)/yY|0)|0}function vY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bY=typeof Object.is=="function"?Object.is:vY,xs=null,nb=null,Qh=null,qt=null,Ec=!1,np=!1,Fd=0,Zs=null,mm=0;function Lo(){if(xs===null)throw Error(_t(321));return xs}function Bk(){if(0<mm)throw Error(_t(312));return{memoizedState:null,queue:null,next:null}}function rb(){return qt===null?Qh===null?(Ec=!1,Qh=qt=Bk()):(Ec=!0,qt=Qh):qt.next===null?(Ec=!1,qt=qt.next=Bk()):(Ec=!0,qt=qt.next),qt}function ib(){nb=xs=null,np=!1,Qh=null,mm=0,qt=Zs=null}function iR(e,t){return typeof t=="function"?t(e):t}function jk(e,t,n){if(xs=Lo(),qt=rb(),Ec){var r=qt.queue;if(t=r.dispatch,Zs!==null&&(n=Zs.get(r),n!==void 0)){Zs.delete(r),r=qt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return qt.memoizedState=r,[r,t]}return[qt.memoizedState,t]}return e=e===iR?typeof t=="function"?t():t:n!==void 0?n(t):t,qt.memoizedState=e,e=qt.queue={last:null,dispatch:null},e=e.dispatch=wY.bind(null,xs,e),[qt.memoizedState,e]}function Uk(e,t){if(xs=Lo(),qt=rb(),t=t===void 0?null:t,qt!==null){var n=qt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!bY(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),qt.memoizedState=[e,t],e}function wY(e,t,n){if(25<=mm)throw Error(_t(301));if(e===xs)if(np=!0,e={action:n,next:null},Zs===null&&(Zs=new Map),n=Zs.get(t),n===void 0)Zs.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function EY(){throw Error(_t(394))}function fh(){}var $k={readContext:function(e){return e._currentValue2},useContext:function(e){return Lo(),e._currentValue2},useMemo:Uk,useReducer:jk,useRef:function(e){xs=Lo(),qt=rb();var t=qt.memoizedState;return t===null?(e={current:e},qt.memoizedState=e):t},useState:function(e){return jk(iR,e)},useInsertionEffect:fh,useLayoutEffect:function(){},useCallback:function(e,t){return Uk(function(){return e},t)},useImperativeHandle:fh,useEffect:fh,useDebugValue:fh,useDeferredValue:function(e){return Lo(),e},useTransition:function(){return Lo(),[!1,EY]},useId:function(){var e=nb.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Zh(e)-1)).toString(32)+t;var n=Kh;if(n===null)throw Error(_t(404));return t=Fd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Lo(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(_t(407));return n()}},Kh=null,Yf=jF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function SY(e){return console.error(e),null}function Sc(){}function kY(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?SY:i,onAllReady:s===void 0?Sc:s,onShellReady:o===void 0?Sc:o,onShellError:a===void 0?Sc:a,onFatalError:l===void 0?Sc:l},n=rp(t,0,null,n,!1,!1),n.parentFlushed=!0,e=sb(t,e,null,n,d,JF,null,fY),c.push(e),t}function sb(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&aR(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function rp(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function Rd(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function ip(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function Vk(e,t,n,r,i){for(xs={},nb=t,Fd=0,e=n(r,i);np;)np=!1,Fd=0,mm+=1,qt=null,e=n(r,i);return ib(),e}function Gk(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(_t(108,by(r)||"Unknown",a));r=Yc({},o,n)}t.legacyContext=r,Or(e,t,i),t.legacyContext=o}else Or(e,t,i)}function Hk(e,t){if(e&&e.defaultProps){t=Yc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ey(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=Dk(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue2:i),Ok(s,n,r,i),Gk(e,t,s,n)}else{s=Dk(n,t.legacyContext),i=Vk(e,t,n,r,s);var o=Fd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Ok(i,n,r,s),Gk(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=wy(r,1,0);try{Or(e,t,i)}finally{t.treeContext=r}}else Or(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=oY(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=rY(o,n,r),Sy(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",n,">")}i.lastPushedText=!1}else{switch(n){case pY:case gY:case HF:case WF:case GF:Or(e,t,r.children);return;case QF:Or(e,t,r.children);return;case hY:throw Error(_t(343));case ZF:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=rp(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=rp(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(Sy(e,t,r),e.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),c.status=1,sp(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=Rd(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=sb(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case qF:if(r=Vk(e,t,n.render,r,i),Fd!==0){n=t.treeContext,t.treeContext=wy(n,1,0);try{Or(e,t,r)}finally{t.treeContext=n}}else Or(e,t,r);return;case KF:n=n.type,r=Hk(n,r),Ey(e,t,n,r,i);return;case XF:if(i=r.children,n=n._context,r=r.value,s=n._currentValue2,n._currentValue2=r,o=Uo,Uo=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Or(e,t,i),e=Uo,e===null)throw Error(_t(403));r=e.parentValue,e.context._currentValue2=r===mY?e.context._defaultValue:r,e=Uo=e.parent,t.context=e;return;case YF:r=r.children,r=r(n._currentValue2),Or(e,t,r);return;case tb:i=n._init,n=i(n._payload),r=Hk(n,r),Ey(e,t,n,r,void 0);return}throw Error(_t(130,n==null?n:typeof n,""))}}function Or(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case uY:Ey(e,t,n.type,n.props,n.ref);return;case VF:throw Error(_t(257));case tb:var r=n._init;n=r(n._payload),Or(e,t,n);return}if(vy(n)){Wk(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=Rk&&n[Rk]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);Wk(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(_t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Fk(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Fk(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function Wk(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=wy(s,r,i);try{Sy(e,t,n[i])}finally{t.treeContext=s}}}function Sy(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Or(e,t,n)}catch(l){if(ib(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=rp(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=sb(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,tp(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,tp(s),l}}function AY(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,oR(this,t,e)}function sR(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(_t(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return sR(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function sp(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&sp(e,n)}else e.completedSegments.push(t)}function oR(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(_t(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Sc,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&sp(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(AY,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(sp(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function aR(e){if(e.status!==2){var t=Uo,n=Yf.current;Yf.current=$k;var r=Kh;Kh=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){tp(o.context);try{Or(a,o,o.node),a.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),o.abortSet.delete(o),l.status=1,oR(a,o.blockedBoundary,l)}catch(p){if(ib(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=Rd(a,u);if(d===null?ip(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&ob(e,e.destination)}catch(p){Rd(e,p),ip(e,p)}finally{Kh=r,Yf.current=n,n===$k&&tp(t)}}}function _h(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)t.push(r[s]);i=fm(e,t,i)}for(;s<r.length-1;s++)t.push(r[s]);return s<r.length&&(i=t.push(r[s])),i;default:throw Error(_t(390))}}function fm(e,t,n){var r=n.boundary;if(r===null)return _h(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=fr(r),t.push(r),t.push('"')),t.push("></template>")),_h(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),r=r.id=i,Pk(t,e.responseState,r),_h(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),Pk(t,e.responseState,r.id),_h(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(_t(391));return fm(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function Xk(e,t,n){return aY(t,e.responseState,n.formatContext,n.id),fm(e,t,n),lY(t,n.formatContext)}function Yk(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)lR(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(_t(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function lR(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(_t(392));return Xk(e,t,r)}return Xk(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(e.placeholderPrefix),t.push(i),t.push('")<\/script>')}function ob(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){fm(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(_t(395));if(r.push(l),r.push('"'),c||d||u){r.push(",");var h=Xf(c||"");r.push(h)}if(d||u){r.push(",");var g=Xf(d||"");r.push(g)}if(u){r.push(",");var p=Xf(u);r.push(p)}if(!r.push(")<\/script>")){e.destination=null,s++,i.splice(0,s);return}}i.splice(0,s);var m=e.completedBoundaries;for(s=0;s<m.length;s++)if(!Yk(e,t,m[s])){e.destination=null,s++,m.splice(0,s);return}m.splice(0,s);var _=e.partialBoundaries;for(s=0;s<_.length;s++){var y=_[s];e:{i=e,o=t;var f=y.completedSegments;for(a=0;a<f.length;a++)if(!lR(i,o,y,f[a])){a++,f.splice(0,a);var x=!1;break e}f.splice(0,a),x=!0}if(!x){e.destination=null,s++,_.splice(0,s);return}}_.splice(0,s);var v=e.completedBoundaries;for(s=0;s<v.length;s++)if(!Yk(e,t,v[s])){e.destination=null,s++,v.splice(0,s);return}v.splice(0,s)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function CY(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return sR(r,e,t)}),n.clear(),e.destination!==null&&ob(e,e.destination)}catch(r){Rd(e,r),ip(e,r)}}function TY(){}function cR(e,t,n,r){var i=!1,s=null,o="",a={push:function(c){return c!==null&&(o+=c),!0},destroy:function(c){i=!0,s=c}},l=!1;if(e=kY(e,dY(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,TY,void 0,function(){l=!0},void 0,void 0),aR(e),CY(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{ob(e,a)}catch(c){Rd(e,c),ip(e,c)}}if(i)throw s;if(!l)throw Error(_t(426));return o}Fl.renderToNodeStream=function(){throw Error(_t(207))};Fl.renderToStaticMarkup=function(e,t){return cR(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fl.renderToStaticNodeStream=function(){throw Error(_t(208))};Fl.renderToString=function(e,t){return cR(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Fl.version="18.2.0";var ab={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=L;function Et(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Br=null,jr=0;function Ke(e,t){if(t.length!==0)if(512<t.length)0<jr&&(e.enqueue(new Uint8Array(Br.buffer,0,jr)),Br=new Uint8Array(512),jr=0),e.enqueue(t);else{var n=Br.length-jr;n<t.length&&(n===0?e.enqueue(Br):(Br.set(t.subarray(0,n),jr),e.enqueue(Br),t=t.subarray(n)),Br=new Uint8Array(512),jr=0),Br.set(t,jr),jr+=t.length}}function sn(e,t){return Ke(e,t),!0}function qk(e){Br&&0<jr&&(e.enqueue(new Uint8Array(Br.buffer,0,jr)),Br=null,jr=0)}var uR=new TextEncoder;function kt(e){return uR.encode(e)}function $e(e){return uR.encode(e)}function hR(e,t){typeof e.error=="function"?e.error(t):e.close()}var Tr=Object.prototype.hasOwnProperty,LY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zk={},Qk={};function gR(e){return Tr.call(Qk,e)?!0:Tr.call(Zk,e)?!1:LY.test(e)?Qk[e]=!0:(Zk[e]=!0,!1)}function wr(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yn[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yn[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yn[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yn[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yn[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yn[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yn[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yn[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yn[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var lb=/[\-:]([a-z])/g;function cb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lb,cb);Yn[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lb,cb);Yn[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lb,cb);Yn[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yn[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yn[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NY=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(e){NY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jh[t]=Jh[e]})});var IY=/["'&<>]/;function Vn(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=IY.exec(e);if(t){var n="",r,i=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(n+=e.substring(i,r)),i=r+1,n+=t}e=i!==r?n+e.substring(i,r):n}return e}var MY=/([A-Z])/g,PY=/^ms-/,ky=Array.isArray,FY=$e("<script>"),RY=$e("<\/script>"),DY=$e('<script src="'),zY=$e('<script type="module" src="'),Kk=$e('" async=""><\/script>'),OY=/(<\/|<)(s)(cript)/gi;function BY(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function jY(e,t,n,r,i){e=e===void 0?"":e,t=t===void 0?FY:$e('<script nonce="'+Vn(t)+'">');var s=[];if(n!==void 0&&s.push(t,kt((""+n).replace(OY,BY)),RY),r!==void 0)for(n=0;n<r.length;n++)s.push(DY,kt(Vn(r[n])),Kk);if(i!==void 0)for(r=0;r<i.length;r++)s.push(zY,kt(Vn(i[r])),Kk);return{bootstrapChunks:s,startInlineScript:t,placeholderPrefix:$e(e+"P:"),segmentPrefix:$e(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function ji(e,t){return{insertionMode:e,selectedValue:t}}function UY(e){return ji(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function $Y(e,t,n){switch(t){case"select":return ji(1,n.value!=null?n.value:n.defaultValue);case"svg":return ji(2,null);case"math":return ji(3,null);case"foreignObject":return ji(1,null);case"table":return ji(4,null);case"thead":case"tbody":case"tfoot":return ji(5,null);case"colgroup":return ji(7,null);case"tr":return ji(6,null)}return 4<=e.insertionMode||e.insertionMode===0?ji(1,null):e}var db=$e("<!-- -->");function Jk(e,t,n,r){return t===""?r:(r&&e.push(db),e.push(kt(Vn(t))),!0)}var eA=new Map,VY=$e(' style="'),tA=$e(":"),GY=$e(";");function pR(e,t,n){if(typeof n!="object")throw Error(Et(62));t=!0;for(var r in n)if(Tr.call(n,r)){var i=n[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var s=kt(Vn(r));i=kt(Vn((""+i).trim()))}else{s=r;var o=eA.get(s);o!==void 0||(o=$e(Vn(s.replace(MY,"-$1").toLowerCase().replace(PY,"-ms-"))),eA.set(s,o)),s=o,i=typeof i=="number"?i===0||Tr.call(Jh,r)?kt(""+i):kt(i+"px"):kt(Vn((""+i).trim()))}t?(t=!1,e.push(VY,s,tA,i)):e.push(GY,s,tA,i)}}t||e.push(No)}var Ps=$e(" "),Ia=$e('="'),No=$e('"'),nA=$e('=""');function Dr(e,t,n,r){switch(n){case"style":pR(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=Yn.hasOwnProperty(n)?Yn[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=kt(t.attributeName),t.type){case 3:r&&e.push(Ps,n,nA);break;case 4:r===!0?e.push(Ps,n,nA):r!==!1&&e.push(Ps,n,Ia,kt(Vn(r)),No);break;case 5:isNaN(r)||e.push(Ps,n,Ia,kt(Vn(r)),No);break;case 6:!isNaN(r)&&1<=r&&e.push(Ps,n,Ia,kt(Vn(r)),No);break;default:t.sanitizeURL&&(r=""+r),e.push(Ps,n,Ia,kt(Vn(r)),No)}}else if(gR(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ps,kt(n),Ia,kt(Vn(r)),No)}}}var Fs=$e(">"),rA=$e("/>");function eg(e,t,n){if(t!=null){if(n!=null)throw Error(Et(60));if(typeof t!="object"||!("__html"in t))throw Error(Et(61));t=t.__html,t!=null&&e.push(kt(""+t))}}function HY(e){var t="";return dR.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var qf=$e(' selected=""');function Zf(e,t,n,r){e.push(Ui(n));var i=n=null,s;for(s in t)if(Tr.call(t,s)){var o=t[s];if(o!=null)switch(s){case"children":n=o;break;case"dangerouslySetInnerHTML":i=o;break;default:Dr(e,r,s,o)}}return e.push(Fs),eg(e,i,n),typeof n=="string"?(e.push(kt(Vn(n))),null):n}var Qf=$e(`
`),WY=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,iA=new Map;function Ui(e){var t=iA.get(e);if(t===void 0){if(!WY.test(e))throw Error(Et(65,e));t=$e("<"+e),iA.set(e,t)}return t}var XY=$e("<!DOCTYPE html>");function YY(e,t,n,r,i){switch(t){case"select":e.push(Ui("select"));var s=null,o=null;for(d in n)if(Tr.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Dr(e,r,d,a)}}return e.push(Fs),eg(e,o,s),s;case"option":o=i.selectedValue,e.push(Ui("option"));var l=a=null,c=null,d=null;for(s in n)if(Tr.call(n,s)){var u=n[s];if(u!=null)switch(s){case"children":a=u;break;case"selected":c=u;break;case"dangerouslySetInnerHTML":d=u;break;case"value":l=u;default:Dr(e,r,s,u)}}if(o!=null)if(n=l!==null?""+l:HY(a),ky(o)){for(r=0;r<o.length;r++)if(""+o[r]===n){e.push(qf);break}}else""+o===n&&e.push(qf);else c&&e.push(qf);return e.push(Fs),eg(e,d,a),a;case"textarea":e.push(Ui("textarea")),d=o=s=null;for(a in n)if(Tr.call(n,a)&&(l=n[a],l!=null))switch(a){case"children":d=l;break;case"value":s=l;break;case"defaultValue":o=l;break;case"dangerouslySetInnerHTML":throw Error(Et(91));default:Dr(e,r,a,l)}if(s===null&&o!==null&&(s=o),e.push(Fs),d!=null){if(s!=null)throw Error(Et(92));if(ky(d)&&1<d.length)throw Error(Et(93));s=""+d}return typeof s=="string"&&s[0]===`
`&&e.push(Qf),s!==null&&e.push(kt(Vn(""+s))),null;case"input":e.push(Ui("input")),l=d=a=s=null;for(o in n)if(Tr.call(n,o)&&(c=n[o],c!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,"input"));case"defaultChecked":l=c;break;case"defaultValue":a=c;break;case"checked":d=c;break;case"value":s=c;break;default:Dr(e,r,o,c)}return d!==null?Dr(e,r,"checked",d):l!==null&&Dr(e,r,"checked",l),s!==null?Dr(e,r,"value",s):a!==null&&Dr(e,r,"value",a),e.push(rA),null;case"menuitem":e.push(Ui("menuitem"));for(var h in n)if(Tr.call(n,h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Et(400));default:Dr(e,r,h,s)}return e.push(Fs),null;case"title":e.push(Ui("title")),s=null;for(u in n)if(Tr.call(n,u)&&(o=n[u],o!=null))switch(u){case"children":s=o;break;case"dangerouslySetInnerHTML":throw Error(Et(434));default:Dr(e,r,u,o)}return e.push(Fs),s;case"listing":case"pre":e.push(Ui(t)),o=s=null;for(l in n)if(Tr.call(n,l)&&(a=n[l],a!=null))switch(l){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Dr(e,r,l,a)}if(e.push(Fs),o!=null){if(s!=null)throw Error(Et(60));if(typeof o!="object"||!("__html"in o))throw Error(Et(61));n=o.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(Qf,kt(n)):e.push(kt(""+n)))}return typeof s=="string"&&s[0]===`
`&&e.push(Qf),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Ui(t));for(var g in n)if(Tr.call(n,g)&&(s=n[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(Et(399,t));default:Dr(e,r,g,s)}return e.push(rA),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Zf(e,n,t,r);case"html":return i.insertionMode===0&&e.push(XY),Zf(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return Zf(e,n,t,r);e.push(Ui(t)),o=s=null;for(c in n)if(Tr.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":s=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":pR(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:gR(c)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ps,kt(c),Ia,kt(Vn(a)),No)}return e.push(Fs),eg(e,o,s),s}}var qY=$e("</"),ZY=$e(">"),QY=$e('<template id="'),KY=$e('"></template>'),JY=$e("<!--$-->"),eq=$e('<!--$?--><template id="'),tq=$e('"></template>'),nq=$e("<!--$!-->"),rq=$e("<!--/$-->"),iq=$e("<template"),sq=$e('"'),oq=$e(' data-dgst="');$e(' data-msg="');$e(' data-stck="');var aq=$e("></template>");function sA(e,t,n){if(Ke(e,eq),n===null)throw Error(Et(395));return Ke(e,n),sn(e,tq)}var lq=$e('<div hidden id="'),cq=$e('">'),dq=$e("</div>"),uq=$e('<svg aria-hidden="true" style="display:none" id="'),hq=$e('">'),gq=$e("</svg>"),pq=$e('<math aria-hidden="true" style="display:none" id="'),mq=$e('">'),fq=$e("</math>"),_q=$e('<table hidden id="'),yq=$e('">'),xq=$e("</table>"),vq=$e('<table hidden><tbody id="'),bq=$e('">'),wq=$e("</tbody></table>"),Eq=$e('<table hidden><tr id="'),Sq=$e('">'),kq=$e("</tr></table>"),Aq=$e('<table hidden><colgroup id="'),Cq=$e('">'),Tq=$e("</colgroup></table>");function Lq(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Ke(e,lq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,cq);case 2:return Ke(e,uq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,hq);case 3:return Ke(e,pq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,mq);case 4:return Ke(e,_q),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,yq);case 5:return Ke(e,vq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,bq);case 6:return Ke(e,Eq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,Sq);case 7:return Ke(e,Aq),Ke(e,t.segmentPrefix),Ke(e,kt(r.toString(16))),sn(e,Cq);default:throw Error(Et(397))}}function Nq(e,t){switch(t.insertionMode){case 0:case 1:return sn(e,dq);case 2:return sn(e,gq);case 3:return sn(e,fq);case 4:return sn(e,xq);case 5:return sn(e,wq);case 6:return sn(e,kq);case 7:return sn(e,Tq);default:throw Error(Et(397))}}var Iq=$e('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Mq=$e('$RS("'),Pq=$e('","'),Fq=$e('")<\/script>'),Rq=$e('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Dq=$e('$RC("'),zq=$e('","'),Oq=$e('")<\/script>'),Bq=$e('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),jq=$e('$RX("'),Uq=$e('"'),$q=$e(")<\/script>"),Kf=$e(","),Vq=/[<\u2028\u2029]/g;function Jf(e){return JSON.stringify(e).replace(Vq,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var qc=Object.assign,Gq=Symbol.for("react.element"),mR=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),_R=Symbol.for("react.strict_mode"),yR=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),vR=Symbol.for("react.context"),bR=Symbol.for("react.forward_ref"),wR=Symbol.for("react.suspense"),ER=Symbol.for("react.suspense_list"),SR=Symbol.for("react.memo"),ub=Symbol.for("react.lazy"),Hq=Symbol.for("react.scope"),Wq=Symbol.for("react.debug_trace_mode"),Xq=Symbol.for("react.legacy_hidden"),Yq=Symbol.for("react.default_value"),oA=Symbol.iterator;function Ay(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fR:return"Fragment";case mR:return"Portal";case yR:return"Profiler";case _R:return"StrictMode";case wR:return"Suspense";case ER:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vR:return(e.displayName||"Context")+".Consumer";case xR:return(e._context.displayName||"Context")+".Provider";case bR:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case SR:return t=e.displayName||null,t!==null?t:Ay(e.type)||"Memo";case ub:t=e._payload,e=e._init;try{return Ay(e(t))}catch{}}return null}var kR={};function aA(e,t){if(e=e.contextTypes,!e)return kR;var n={},r;for(r in e)n[r]=t[r];return n}var $o=null;function _m(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Et(401))}else{if(n===null)throw Error(Et(401));_m(e,n)}t.context._currentValue=t.value}}function AR(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&AR(e)}function CR(e){var t=e.parent;t!==null&&CR(t),e.context._currentValue=e.value}function TR(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Et(402));e.depth===t.depth?_m(e,t):TR(e,t)}function LR(e,t){var n=t.parent;if(n===null)throw Error(Et(402));e.depth===n.depth?_m(e,n):LR(e,n),t.context._currentValue=t.value}function op(e){var t=$o;t!==e&&(t===null?CR(e):e===null?AR(t):t.depth===e.depth?_m(t,e):t.depth>e.depth?TR(t,e):LR(t,e),$o=e)}var lA={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function cA(e,t,n,r){var i=e.state!==void 0?e.state:null;e.updater=lA,e.props=n,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:r,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(n,i),i=o==null?i:qc({},i,o),e.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&lA.enqueueReplaceState(e,e.state,null),s.queue!==null&&0<s.queue.length)if(t=s.queue,o=s.replace,s.queue=null,s.replace=!1,o&&t.length===1)e.state=t[0];else{for(s=o?t[0]:e.state,i=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,s,n,r):a,a!=null&&(i?(i=!1,s=qc({},s,a)):qc(s,a))}e.state=s}else s.queue=null}var qq={id:1,overflow:""};function Cy(e,t,n){var r=e.id;e=e.overflow;var i=32-tg(r)-1;r&=~(1<<i),n+=1;var s=32-tg(t)+i;if(30<s){var o=i-i%5;return s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,{id:1<<32-tg(t)+i|n<<i|r,overflow:s+e}}return{id:1<<s|n<<i|r,overflow:e}}var tg=Math.clz32?Math.clz32:Kq,Zq=Math.log,Qq=Math.LN2;function Kq(e){return e>>>=0,e===0?32:31-(Zq(e)/Qq|0)|0}function Jq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eZ=typeof Object.is=="function"?Object.is:Jq,vs=null,hb=null,ng=null,Zt=null,kc=!1,ap=!1,Dd=0,Qs=null,ym=0;function Io(){if(vs===null)throw Error(Et(321));return vs}function dA(){if(0<ym)throw Error(Et(312));return{memoizedState:null,queue:null,next:null}}function gb(){return Zt===null?ng===null?(kc=!1,ng=Zt=dA()):(kc=!0,Zt=ng):Zt.next===null?(kc=!1,Zt=Zt.next=dA()):(kc=!0,Zt=Zt.next),Zt}function pb(){hb=vs=null,ap=!1,ng=null,ym=0,Zt=Qs=null}function NR(e,t){return typeof t=="function"?t(e):t}function uA(e,t,n){if(vs=Io(),Zt=gb(),kc){var r=Zt.queue;if(t=r.dispatch,Qs!==null&&(n=Qs.get(r),n!==void 0)){Qs.delete(r),r=Zt.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Zt.memoizedState=r,[r,t]}return[Zt.memoizedState,t]}return e=e===NR?typeof t=="function"?t():t:n!==void 0?n(t):t,Zt.memoizedState=e,e=Zt.queue={last:null,dispatch:null},e=e.dispatch=tZ.bind(null,vs,e),[Zt.memoizedState,e]}function hA(e,t){if(vs=Io(),Zt=gb(),t=t===void 0?null:t,Zt!==null){var n=Zt.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!eZ(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Zt.memoizedState=[e,t],e}function tZ(e,t,n){if(25<=ym)throw Error(Et(301));if(e===vs)if(ap=!0,e={action:n,next:null},Qs===null&&(Qs=new Map),n=Qs.get(t),n===void 0)Qs.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function nZ(){throw Error(Et(394))}function yh(){}var gA={readContext:function(e){return e._currentValue},useContext:function(e){return Io(),e._currentValue},useMemo:hA,useReducer:uA,useRef:function(e){vs=Io(),Zt=gb();var t=Zt.memoizedState;return t===null?(e={current:e},Zt.memoizedState=e):t},useState:function(e){return uA(NR,e)},useInsertionEffect:yh,useLayoutEffect:function(){},useCallback:function(e,t){return hA(function(){return e},t)},useImperativeHandle:yh,useEffect:yh,useDebugValue:yh,useDeferredValue:function(e){return Io(),e},useTransition:function(){return Io(),[!1,nZ]},useId:function(){var e=hb.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-tg(e)-1)).toString(32)+t;var n=rg;if(n===null)throw Error(Et(404));return t=Dd++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Io(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Et(407));return n()}},rg=null,e0=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function rZ(e){return console.error(e),null}function Ac(){}function iZ(e,t,n,r,i,s,o,a,l){var c=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:c,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?rZ:i,onAllReady:s===void 0?Ac:s,onShellReady:o===void 0?Ac:o,onShellError:a===void 0?Ac:a,onFatalError:l===void 0?Ac:l},n=lp(t,0,null,n,!1,!1),n.parentFlushed=!0,e=mb(t,e,null,n,d,kR,null,qq),c.push(e),t}function mb(e,t,n,r,i,s,o,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var l={node:t,ping:function(){var c=e.pingedTasks;c.push(l),c.length===1&&PR(e)},blockedBoundary:n,blockedSegment:r,abortSet:i,legacyContext:s,context:o,treeContext:a};return i.add(l),l}function lp(e,t,n,r,i,s){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:i,textEmbedded:s}}function zd(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function cp(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,hR(e.destination,t)):(e.status=1,e.fatalError=t)}function pA(e,t,n,r,i){for(vs={},hb=t,Dd=0,e=n(r,i);ap;)ap=!1,Dd=0,ym+=1,Zt=null,e=n(r,i);return pb(),e}function mA(e,t,n,r){var i=n.render(),s=r.childContextTypes;if(s!=null){var o=t.legacyContext;if(typeof n.getChildContext!="function")r=o;else{n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(Et(108,Ay(r)||"Unknown",a));r=qc({},o,n)}t.legacyContext=r,Ur(e,t,i),t.legacyContext=o}else Ur(e,t,i)}function fA(e,t){if(e&&e.defaultProps){t=qc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ty(e,t,n,r,i){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){i=aA(n,t.legacyContext);var s=n.contextType;s=new n(r,typeof s=="object"&&s!==null?s._currentValue:i),cA(s,n,r,i),mA(e,t,s,n)}else{s=aA(n,t.legacyContext),i=pA(e,t,n,r,s);var o=Dd!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)cA(i,n,r,s),mA(e,t,i,n);else if(o){r=t.treeContext,t.treeContext=Cy(r,1,0);try{Ur(e,t,i)}finally{t.treeContext=r}}else Ur(e,t,i)}else if(typeof n=="string"){switch(i=t.blockedSegment,s=YY(i.chunks,n,r,e.responseState,i.formatContext),i.lastPushedText=!1,o=i.formatContext,i.formatContext=$Y(o,n,r),Ly(e,t,s),i.formatContext=o,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(qY,kt(n),ZY)}i.lastPushedText=!1}else{switch(n){case Xq:case Wq:case _R:case yR:case fR:Ur(e,t,r.children);return;case ER:Ur(e,t,r.children);return;case Hq:throw Error(Et(343));case wR:e:{n=t.blockedBoundary,i=t.blockedSegment,s=r.fallback,r=r.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},l=lp(e,i.chunks.length,a,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var c=lp(e,0,null,i.formatContext,!1,!1);c.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=c;try{if(Ly(e,t,r),c.lastPushedText&&c.textEmbedded&&c.chunks.push(db),c.status=1,dp(a,c),a.pendingTasks===0)break e}catch(d){c.status=4,a.forceClientRender=!0,a.errorDigest=zd(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=i}t=mb(e,s,n,l,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case bR:if(r=pA(e,t,n.render,r,i),Dd!==0){n=t.treeContext,t.treeContext=Cy(n,1,0);try{Ur(e,t,r)}finally{t.treeContext=n}}else Ur(e,t,r);return;case SR:n=n.type,r=fA(n,r),Ty(e,t,n,r,i);return;case xR:if(i=r.children,n=n._context,r=r.value,s=n._currentValue,n._currentValue=r,o=$o,$o=r={parent:o,depth:o===null?0:o.depth+1,context:n,parentValue:s,value:r},t.context=r,Ur(e,t,i),e=$o,e===null)throw Error(Et(403));r=e.parentValue,e.context._currentValue=r===Yq?e.context._defaultValue:r,e=$o=e.parent,t.context=e;return;case vR:r=r.children,r=r(n._currentValue),Ur(e,t,r);return;case ub:i=n._init,n=i(n._payload),r=fA(n,r),Ty(e,t,n,r,void 0);return}throw Error(Et(130,n==null?n:typeof n,""))}}function Ur(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case Gq:Ty(e,t,n.type,n.props,n.ref);return;case mR:throw Error(Et(257));case ub:var r=n._init;n=r(n._payload),Ur(e,t,n);return}if(ky(n)){_A(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=oA&&n[oA]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var i=[];do i.push(n.value),n=r.next();while(!n.done);_A(e,t,i)}return}throw e=Object.prototype.toString.call(n),Error(Et(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=Jk(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=Jk(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function _A(e,t,n){for(var r=n.length,i=0;i<r;i++){var s=t.treeContext;t.treeContext=Cy(s,r,i);try{Ly(e,t,n[i])}finally{t.treeContext=s}}}function Ly(e,t,n){var r=t.blockedSegment.formatContext,i=t.legacyContext,s=t.context;try{return Ur(e,t,n)}catch(l){if(pb(),typeof l=="object"&&l!==null&&typeof l.then=="function"){n=l;var o=t.blockedSegment,a=lp(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=mb(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,op(s)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=s,op(s),l}}function sZ(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,MR(this,t,e)}function IR(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Et(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return IR(i,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function dp(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&dp(e,n)}else e.completedSegments.push(t)}function MR(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Et(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ac,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&dp(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(sZ,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(dp(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function PR(e){if(e.status!==2){var t=$o,n=e0.current;e0.current=gA;var r=rg;rg=e.responseState;try{var i=e.pingedTasks,s;for(s=0;s<i.length;s++){var o=i[s],a=e,l=o.blockedSegment;if(l.status===0){op(o.context);try{Ur(a,o,o.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(db),o.abortSet.delete(o),l.status=1,MR(a,o.blockedBoundary,l)}catch(p){if(pb(),typeof p=="object"&&p!==null&&typeof p.then=="function"){var c=o.ping;p.then(c,c)}else{o.abortSet.delete(o),l.status=4;var d=o.blockedBoundary,u=p,h=zd(a,u);if(d===null?cp(a,u):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=h,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var g=a.onAllReady;g()}}}finally{}}}i.splice(0,s),e.destination!==null&&fb(e,e.destination)}catch(p){zd(e,p),cp(e,p)}finally{rg=r,e0.current=n,n===gA&&op(t)}}}function xh(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Ke(t,QY),Ke(t,e.placeholderPrefix),e=kt(r.toString(16)),Ke(t,e),sn(t,KY);case 1:n.status=2;var i=!0;r=n.chunks;var s=0;n=n.children;for(var o=0;o<n.length;o++){for(i=n[o];s<i.index;s++)Ke(t,r[s]);i=xm(e,t,i)}for(;s<r.length-1;s++)Ke(t,r[s]);return s<r.length&&(i=sn(t,r[s])),i;default:throw Error(Et(390))}}function xm(e,t,n){var r=n.boundary;if(r===null)return xh(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,sn(t,nq),Ke(t,iq),r&&(Ke(t,oq),Ke(t,kt(Vn(r))),Ke(t,sq)),sn(t,aq),xh(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var i=e.responseState,s=i.nextSuspenseID++;i=$e(i.boundaryPrefix+s.toString(16)),r=r.id=i,sA(t,e.responseState,r),xh(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),sA(t,e.responseState,r.id),xh(e,t,n);else{if(sn(t,JY),n=r.completedSegments,n.length!==1)throw Error(Et(391));xm(e,t,n[0])}return sn(t,rq)}function yA(e,t,n){return Lq(t,e.responseState,n.formatContext,n.id),xm(e,t,n),Nq(t,n.formatContext)}function xA(e,t,n){for(var r=n.completedSegments,i=0;i<r.length;i++)FR(e,t,n,r[i]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Ke(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ke(t,Dq):(e.sentCompleteBoundaryFunction=!0,Ke(t,Rq)),r===null)throw Error(Et(395));return n=kt(n.toString(16)),Ke(t,r),Ke(t,zq),Ke(t,e.segmentPrefix),Ke(t,n),sn(t,Oq)}function FR(e,t,n,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Et(392));return yA(e,t,r)}return yA(e,t,r),e=e.responseState,Ke(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ke(t,Mq):(e.sentCompleteSegmentFunction=!0,Ke(t,Iq)),Ke(t,e.segmentPrefix),i=kt(i.toString(16)),Ke(t,i),Ke(t,Pq),Ke(t,e.placeholderPrefix),Ke(t,i),sn(t,Fq)}function fb(e,t){Br=new Uint8Array(512),jr=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){xm(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Ke(t,r[n]);n<r.length&&sn(t,r[n])}var i=e.clientRenderedBoundaries,s;for(s=0;s<i.length;s++){var o=i[s];r=t;var a=e.responseState,l=o.id,c=o.errorDigest,d=o.errorMessage,u=o.errorComponentStack;if(Ke(r,a.startInlineScript),a.sentClientRenderFunction?Ke(r,jq):(a.sentClientRenderFunction=!0,Ke(r,Bq)),l===null)throw Error(Et(395));Ke(r,l),Ke(r,Uq),(c||d||u)&&(Ke(r,Kf),Ke(r,kt(Jf(c||"")))),(d||u)&&(Ke(r,Kf),Ke(r,kt(Jf(d||"")))),u&&(Ke(r,Kf),Ke(r,kt(Jf(u)))),sn(r,$q)}i.splice(0,s);var h=e.completedBoundaries;for(s=0;s<h.length;s++)xA(e,t,h[s]);h.splice(0,s),qk(t),Br=new Uint8Array(512),jr=0;var g=e.partialBoundaries;for(s=0;s<g.length;s++){var p=g[s];e:{i=e,o=t;var m=p.completedSegments;for(a=0;a<m.length;a++)if(!FR(i,o,p,m[a])){a++,m.splice(0,a);var _=!1;break e}m.splice(0,a),_=!0}if(!_){e.destination=null,s++,g.splice(0,s);return}}g.splice(0,s);var y=e.completedBoundaries;for(s=0;s<y.length;s++)xA(e,t,y[s]);y.splice(0,s)}finally{qk(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function vA(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return IR(r,e,t)}),n.clear(),e.destination!==null&&fb(e,e.destination)}catch(r){zd(e,r),cp(e,r)}}ab.renderToReadableStream=function(e,t){return new Promise(function(n,r){var i,s,o=new Promise(function(d,u){s=d,i=u}),a=iZ(e,jY(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),UY(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,s,function(){var d=new ReadableStream({type:"bytes",pull:function(u){if(a.status===1)a.status=2,hR(u,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=u;try{fb(a,u)}catch(h){zd(a,h),cp(a,h)}}},cancel:function(){vA(a)}},{highWaterMark:0});d.allReady=o,n(d)},function(d){o.catch(function(){}),r(d)},i);if(t&&t.signal){var l=t.signal,c=function(){vA(a,l.reason),l.removeEventListener("abort",c)};l.addEventListener("abort",c)}PR(a)})};ab.version="18.2.0";var Rl,RR;Rl=Fl,RR=ab;Rl.version;var Ny=Rl.renderToString;Rl.renderToStaticMarkup;Rl.renderToNodeStream;Rl.renderToStaticNodeStream;RR.renderToReadableStream;const DR=L.createContext(void 0),sr=()=>{const e=L.useContext(DR);if(!e)throw new Error("useOgma must be used within an OgmaProvider");return e};var zR={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function oZ(){if(bA)return rc;bA=1;var e=E,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var d,u={},h=null,g=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(u[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)u[d]===void 0&&(u[d]=l[d]);return{$$typeof:t,type:a,key:h,ref:g,props:u,_owner:i.current}}return rc.Fragment=n,rc.jsx=o,rc.jsxs=o,rc}(function(e){e.exports=oZ()})(zR);const wA=zR.exports.jsx,EA={},aZ=({options:e=EA,children:t,graph:n,onReady:r},i)=>{const[s,o]=L.useState(!1),[a,l]=L.useState(),[c,d]=L.useState(null),[u,h]=L.useState(),[g,p]=L.useState(EA);return L.useImperativeHandle(i,()=>a,[a]),L.useEffect(()=>{if(c){const m=new QX({container:c,graph:n,options:e});l(m),o(!0),r&&r(m)}},[l,c]),L.useLayoutEffect(()=>{const m=()=>a==null?void 0:a.view.forceResize();return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),L.useEffect(()=>{a&&(n&&a&&n!==u&&(h(n),a.setGraph(n)),e&&g!==e&&(p(e),a.setOptions(e)))},[n,e]),wA(DR.Provider,{value:a,children:wA("div",{style:{width:"100%",height:"100%"},ref:m=>d(m),children:s&&t})})},lZ=L.forwardRef(aZ),cZ=({selector:e,attributes:t},n)=>{const r=sr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addNodeRule(e,t):r.styles.addNodeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(cZ);const dZ=({selector:e,attributes:t},n)=>{const r=sr(),[i,s]=L.useState();return L.useImperativeHandle(n,()=>i,[i]),L.useEffect(()=>{const o=e?r.styles.addEdgeRule(e,t):r.styles.addEdgeRule(t);return s(o),()=>{o.destroy(),s(void 0)}},[e,t]),null};L.forwardRef(dZ);function _a(e,t,n){t===e.isEnabled()&&(t?e.disable(n):e.enable(n))}function ya(e,t,n){const r=({target:l})=>{l===t&&e.onEnabled&&e.onEnabled(t)},i=({target:l})=>{l===t&&e.onDisabled&&e.onDisabled(t)},s=({target:l})=>{l===t&&e.onUpdated&&e.onUpdated(t)},o=({target:l,index:c})=>{l===t&&e.onSetIndex&&e.onSetIndex(t,c)},a=({target:l})=>{l===t&&(e.onDestroyed&&e.onDestroyed(t),n.events.off(r).off(i).off(s).off(o).off(a))};return n.events.on("transformationEnabled",r).on("transformationDisabled",i).on("transformationDestroyed",a).on("transformationSetIndex",o).on("transformationRefresh",s),()=>{n.events.off(r).off(i).off(s).off(o).off(a)}}function uZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeGrouping({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.groupIdFunction,e.groupSelfLoopEdges,e.edgeGenerator,e.nodeGenerator,e.groupEdges,e.padding,e.selector,e.showContents,e.separateEdgesByDirection]),null}L.forwardRef(uZ);function hZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeGrouping({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.selector,e.generator,e.groupIdFunction,e.separateEdgesByDirection]),null}L.forwardRef(hZ);function gZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeCollapsing({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.selector]),null}L.forwardRef(gZ);function pZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborMerging({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.dataFunction,e.selector]),null}L.forwardRef(pZ);function mZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNeighborGeneration({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.edgeGenerator,e.nodeGenerator,e.neighborIdFunction,e.selector]),null}L.forwardRef(mZ);function fZ(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addEdgeFilter({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(fZ);function _Z(e,t){const n=sr(),[r,i]=L.useState();return L.useImperativeHandle(t,()=>r,[r]),L.useEffect(()=>{const s=n.transformations.addNodeFilter({...e,enabled:!e.disabled});return ya(e,s,n),i(s),()=>{s.destroy(),i(void 0)}},[]),L.useEffect(()=>{r&&_a(r,!!e.disabled,e.duration)},[e.disabled]),L.useEffect(()=>{r==null||r.setOptions(e)},[e.criteria]),null}L.forwardRef(_Z);function Iy(e,t,n,r){return typeof n=="string"?n:Ny(typeof n=="function"?n(e,t):r)}function Ll(e,t){return typeof e=="function"?e(t):e}const up=(e,t)=>`${e} ${e}--${t}`;function SA(e="&times;",t){if(e){const n=typeof e=="string"?e:Ny(e);return`<div class=${t}>${n}</div>`}return""}function yZ(e,t,n,r){const{width:i,height:s}=r.view.getSize(),{x:o,y:a}=r.view.graphToScreenCoordinates(e);let l=t;const{width:c,height:d}=n;return t==="left"&&o-c<0?l="right":t==="right"&&o+c>i?l="left":t==="bottom"&&a+d>s?l="top":t==="top"&&a-d<0&&(l="bottom"),l==="right"||l==="left"?a+d/2>s?l="top":a-d/2<0&&(l="bottom"):o+c/2>i?l="left":o-c/2<0&&(l="right"),l}function xZ(){}const t0={x:-9999,y:-9999},vZ="ogma-popup--content",bZ="ogma-popup--close",wZ="ogma-popup--body",EZ="ogma-popup",SZ=({content:e,position:t,children:n,isOpen:r=!0,closeButton:i,onClose:s=xZ,placement:o="top",popupClass:a=EZ,closeButtonClass:l=bZ,contentClass:c=vZ,popupBodyClass:d=wZ,size:u,closeOnEsc:h=!0},g)=>{const p=sr(),[m,_]=L.useState(null);return L.useImperativeHandle(g,()=>m,[m]),L.useEffect(()=>{const y=Ll(t,p)||t0,f=Iy(p,y,e,n),x=p.layers.addOverlay({position:y||t0,element:`<div class="${up(a,o)}"/>
          <div class="${d}">
            ${SA(i,l)}
            <div class="${c} ">${f}</div>
          </div>
        </div>`,size:u||{width:"auto",height:"auto"},scaled:!1}),v=b=>{const S=x.element.querySelector(`.${l}`);b.target&&S.contains(b.target)&&(b.stopPropagation(),b.preventDefault(),s())},w=({code:b})=>{b===27&&s()};return h&&p.events.on("keyup",w),x.element.addEventListener("click",v),_(x),r||x.hide(),()=>{m&&(m.element.removeEventListener("click",v),p.events.off(w),m.destroy(),_(null))}},[]),L.useEffect(()=>{if(m){const y=Ll(t,p)||t0,f=Iy(p,y,e),{element:x}=m;x.className=up(a,o),x.querySelector(`.${d}`).innerHTML=`
      ${SA(i,l)}
      <div class="${c} ">${f}</div>`,m.setPosition(y),r?m.show():m.hide()}},[e,t,r,o]),!m||!n?null:bo.createPortal(n,m.element.querySelector(`.${d}`))};L.forwardRef(SZ);const kZ=({tooltipClass:e="ogma-tooltip",placement:t="right",position:n,size:r={width:"auto",height:"auto"},children:i,content:s,visible:o=!0},a)=>{const l=sr(),[c,d]=L.useState(),[u,h]=L.useState(),[g,p]=L.useState(""),[m,_]=L.useState(),y=L.useRef();return L.useImperativeHandle(a,()=>c,[c]),L.useEffect(()=>{const f=`<div class="${up(e,t)}"><div class="${e}--content" /></div>`,x=Ll(n,l);h(x);const v=l.layers.addOverlay({position:x||{x:-9999,y:-9999},element:f,scaled:!1,size:r});return d(v),()=>{v.destroy()}},[]),L.useEffect(()=>{const f=Iy(l,u,s,i);if(c){f!==g&&(c.element.firstElementChild.innerHTML=f,p(f),_({width:c.element.offsetWidth,height:c.element.offsetHeight}));const x=Ll(n,l);u!==x&&h(x),o?c.show():c.hide()}return y.current=requestAnimationFrame(()=>{c&&u&&m&&(c.element.className=up(e,yZ(u,t,m,l)),c.setPosition(u))}),()=>cancelAnimationFrame(y.current)},[i,s,n,o]),null};L.forwardRef(kZ);const AZ=({noClear:e=!1,isStatic:t=!1,render:n,index:r,visible:i},s)=>{const o=sr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=o.layers.addCanvasLayer(n,{isStatic:t,noClear:e},r);return l(c),()=>{c&&(c.destroy(),l(null))}},[]),L.useEffect(()=>{a&&(r!==void 0&&isFinite(r)&&a.moveTo(r),i===a.isHidden()&&i?a.show():a.hide())},[a,r,i]),null};L.forwardRef(AZ);const n0={x:-9999,y:-9999};L.forwardRef(({position:e,children:t,className:n="",size:r,scaled:i},s)=>{const o=sr(),[a,l]=L.useState(null);return L.useImperativeHandle(s,()=>a,[a]),L.useEffect(()=>{const c=Ll(e,o)||n0,d=document.createElement("div");d.className=n;const u=o.layers.addOverlay({position:c||n0,element:d,size:r||{width:"auto",height:"auto"},scaled:i});return l(u),()=>{a&&(a.destroy(),l(null))}},[]),L.useEffect(()=>{if(a){const c=Ll(e,o)||n0;n&&(a.element.className=n),a.setPosition(c)}},[e,n]),a?bo.createPortal(t,a.element):null});const CZ=L.forwardRef(({children:e,className:t="",index:n},r)=>{const i=sr(),[s,o]=L.useState(null);return L.useImperativeHandle(r,()=>s,[s]),L.useEffect(()=>{const a=document.createElement("div");a.className=t;const l=i.layers.addLayer(a,n);return o(l),()=>{s&&(s.destroy(),o(null))}},[]),L.useEffect(()=>{s&&(s.element.className=t)},[t]),s?bo.createPortal(e,s.element):null});var TZ=Object.defineProperty,LZ=(e,t,n)=>t in e?TZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ve=(e,t,n)=>(LZ(e,typeof t!="symbol"?t+"":t,n),n),NZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OR={exports:{}};(function(e){(function(t,n){e.exports=n()})("Vector",function(){var t=function(){var n=Math.PI*2,r=180/Math.PI,i=Math.PI/180;function s(c){return Math.round(c*1e8)/1e8}function o(c,d){var u=d.x-c.x,h=d.y-c.y;return Math.sqrt(u*u+h*h)}function a(c,d,u){var h=d.y-c.y,g=d.x-c.x,p=Math.atan2(h,g);if(u)for(;p<0;)p+=n;return p}function l(c,d){this.x=c!==void 0?c:0,this.y=d!==void 0?d:0}return l.fromRadians=function(c){var d=Math.cos(c),u=Math.sin(c);return new l(d,u)},l.fromDegrees=function(c){var d=c*(Math.PI/180);return l.fromRadians(d)},l.fromString=function(c){var d=c.split(",");return new l(parseFloat(d[0]),parseFloat(d[1]))},l.fromArray=function(c){return new l(c[0],c[1])},l.prototype={version:"2.0.1",clone:function(){return new l(this.x,this.y)},equals:function(c){return this.prototype===c.prototype&&this.x===c.x&&this.y===c.y},copy:function(c){return this.x=c.x,this.y=c.y,this},copyX:function(c){return this.x=c.x,this},copyY:function(c){return this.y=c.y,this},toDict:function(){return{x:this.x,y:this.y}},toArray:function(){return[this.x,this.y]},set:function(c,d){return c!==void 0&&(this.x=c),d!==void 0&&(this.y=d),this},flipXY:function(){return new l(this.y,this.x)},flipXYSelf:function(){return this.y=[this.x,this.x=this.y][0],this},invert:function(){return this.mulScalar(-1)},invertSelf:function(){return this.mulScalarSelf(-1),this},distanceFrom:function(c){return o(this,c)},radiansTo:function(c){return a(this,c,!0)},degreesTo:function(c){return a(this,c,!0)*r},toRadians:function(c){return a(l.zero,this,!0)},toDegrees:function(c){return this.toRadians()*r},rotateDegreesSelf:function(c){return this.rotateRadiansSelf(c*i)},rotateDegrees:function(c){return this.clone().rotateDegreesSelf(c)},rotateRadiansSelf:function(c){var d=Math.cos(c),u=Math.sin(c),h=this.x*d-this.y*u,g=this.x*u+this.y*d;return this.x=s(h),this.y=s(g),this},rotateRadians:function(c){return this.clone().rotateRadiansSelf(c)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalizeSelf:function(){var c=Math.sqrt(this.x*this.x+this.y*this.y);return c===0?this:(this.x/=c,this.y/=c,this)},normalize:function(){return this.clone().normalizeSelf()},addSelf:function(c){return typeof c=="number"?this.addScalarSelf(c):(this.x+=c.x,this.y+=c.y,this)},subSelf:function(c){return typeof c=="number"?this.subScalarSelf(c):(this.x-=c.x,this.y-=c.y,this)},divSelf:function(c){return typeof c=="number"?this.divScalarSelf(c):(this.x/=c.x,this.y/=c.y,this)},mulSelf:function(c){return typeof c=="number"?this.mulScalarSelf(c):(this.x*=c.x,this.y*=c.y,this)},addScalarSelf:function(c){return this.x+=c,this.y+=c,this},subScalarSelf:function(c){return this.x-=c,this.y-=c,this},divScalarSelf:function(c){return this.x/=c,this.y/=c,this},mulScalarSelf:function(c){return this.x*=c,this.y*=c,this},add:function(c){return this.clone().addSelf(c)},sub:function(c){return this.clone().subSelf(c)},mul:function(c){return this.clone().mulSelf(c)},div:function(c){return this.clone().divSelf(c)},addScalar:function(c){return this.clone().addScalarSelf(c)},subScalar:function(c){return this.clone().subScalarSelf(c)},mulScalar:function(c){return this.clone().mulScalarSelf(c)},divScalar:function(c){return this.clone().divScalarSelf(c)},clampSelf:function(c,d){return this.x<c.x&&(this.x=c.x),this.y<c.y&&(this.y=c.y),this.x>d.x&&(this.x=d.x),this.y>d.y&&(this.y=d.y),this},clamp:function(c,d){return this.clone().clampSelf(c,d)},applySelf:function(c){return this.x=c(this.x),this.y=c(this.y),this},apply:function(c){return this.clone().applySelf(c)},absSelf:function(){return this.applySelf(Math.abs)},abs:function(){return this.clone().absSelf()},roundSelf:function(){return this.applySelf(Math.round)},round:function(){return this.clone().roundSelf()},dot:function(c){return this.x*c.x+this.y*c.y},cross:function(c){return this.x*c.y-this.y*c.x},repairSelf:function(c,d){return(typeof this.x!="number"||isNaN(this.x+1))&&(this.x=c||0),(typeof this.y!="number"||isNaN(this.y+1))&&(this.y=d||0),this},repair:function(c,d){return this.clone().repairSelf(c,d)},toString:function(){return this.x+","+this.y},format:function(c){return c=c||"%x,%y",c=c.replace(new RegExp("%x","g"),this.x),c=c.replace(new RegExp("%y","g"),this.y),c}},l}();return t.zero=new t(0,0),t.one=new t(1,1),t.up=new t(0,-1),t.down=new t(0,1),t.left=new t(-1,0),t.right=new t(1,0),t.upLeft=new t(-1,-1),t.downLeft=new t(-1,1),t.upRight=new t(1,-1),t.downRight=new t(1,1),t.prototype.magnitude=t.prototype.length,Object.freeze&&(Object.freeze(t.zero),Object.freeze(t.one),Object.freeze(t.up),Object.freeze(t.down),Object.freeze(t.left),Object.freeze(t.right),Object.freeze(t.upLeft),Object.freeze(t.downLeft),Object.freeze(t.upRight),Object.freeze(t.downRight)),t})})(OR);var IZ=OR.exports;const ai=_b(IZ);let vm=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const Od={strokeType:"plain",strokeColor:"black",strokeWidth:1,head:"none",tail:"none"},kA={id:0,type:"Feature",properties:{type:"arrow",style:{...Od}},geometry:{type:"LineString",coordinates:[[0,0],[100,100]]}},BR=(e=0,t=0,n=0,r=0,i={...Od})=>({id:vm(),type:"Feature",properties:{type:"arrow",style:{...Od,...i}},geometry:{type:"LineString",coordinates:[[e,t],[n,r]]}}),MZ="http://www.w3.org/2000/svg";function Zc(e){return document.createElementNS(MZ,e)}function jR(e){return e.geometry.bbox||PZ(e),e.geometry.bbox}function Ks(e){const t=jR(e);return{width:t[2]-t[0],height:t[3]-t[1]}}function Vo(e){const t=jR(e);return{x:t[0],y:t[1]}}function PZ(e){const[t,n]=e.geometry.coordinates[0][0],[r,i]=e.geometry.coordinates[0][2];e.geometry.bbox=[t,n,r,i]}function FZ(e,t,n,r,i){e.geometry.bbox=[t,n,t+r,n+i],e.geometry.coordinates=[[[t,n],[t+r,n],[t+r,n+i],[t,n+i],[t,n]]]}function hp(e){const[t,n]=e.geometry.coordinates[0];return{x:t,y:n}}function AA(e,t){const[n,r]=e.geometry.coordinates[t==="start"?0:1];return{x:n,y:r}}function yb(e){const[t,n]=e.geometry.coordinates[1];return{x:t,y:n}}function UR(e,t,n){e.geometry.coordinates[0]=[t,n]}function $R(e,t,n){e.geometry.coordinates[1]=[t,n]}function gp(e){return{start:hp(e),end:yb(e)}}function r0(e,t,n,r){t==="start"?UR(e,n,r):$R(e,n,r)}const VR=e=>parseInt(e.getAttribute("data-handle-id")||"-1");function CA(e,t,n){const r=Math.atan2(e.y-t.y,e.x-t.x);return{x:t.x+n*Math.cos(r),y:t.y+n*Math.sin(r)}}function GR(e,t=5,n=30){var r;const{start:i,end:s}=gp(e),o=new ai(i.x,i.y),a=new ai(s.x,s.y).sub(o),l=e.properties.style&&e.properties.style.strokeWidth?(r=e.properties.style)==null?void 0:r.strokeWidth:0;return Math.min(n,Math.max(3*l,a.length()*.1,t))}function TA(e,t,n,r){const i=t.clone().normalize().invert().mul(r);if(!n||n==="none")return"";const s=e.clone().add(i.rotateRadians(Math.PI/8)),o=e.clone().add(i.rotateRadians(-Math.PI/8)),a=`${e.x} ${e.y}`;return`M ${s.x} ${s.y} L ${a} ${o.x} ${o.y} ${n==="arrow"?"":`${s.x} ${s.y}`}`}function RZ(e,t,n,r,i){const{start:s,end:o}=gp(e),{tail:a,head:l,strokeColor:c,strokeWidth:d}=e.properties.style||n,u=new ai(s.x,s.y),h=new ai(o.x,o.y),g=h.clone().sub(u),p=GR(e,r,i),m=Zc("path");m.setAttribute("data-annotation",`${e.id}`),m.setAttribute("data-annotation-type","arrow");const _=l==="arrow-plain"||a==="arrow";m.setAttribute("stroke",c||"none"),m.setAttribute("stroke-width",`${d}`),m.setAttribute("fill",_?c||"":"none"),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round");const y=TA(u,g.clone().invert(),a,p),f=TA(h,g,l,p),x=y+`M ${u.x} ${u.y} ${h.x} ${h.y}`+f;m.setAttribute("d",x),t.appendChild(m)}const En=-1,xb="dragging",vb="dragstart",Bd="dragend",My="select",Py="unselect",DZ="hover",zZ="unhover",Fy="remove",Ry="add",OZ="cancelDrawing",Dy="update",BZ="link";var HR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,u||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var u=0,h=d.length,g=new Array(h);u<h;u++)g[u]=d[u].fn;return g},a.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,c,d,u,h,g){var p=n?n+l:l;if(!this._events[p])return!1;var m=this._events[p],_=arguments.length,y,f;if(m.fn){switch(m.once&&this.removeListener(l,m.fn,void 0,!0),_){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,d),!0;case 4:return m.fn.call(m.context,c,d,u),!0;case 5:return m.fn.call(m.context,c,d,u,h),!0;case 6:return m.fn.call(m.context,c,d,u,h,g),!0}for(f=1,y=new Array(_-1);f<_;f++)y[f-1]=arguments[f];m.fn.apply(m.context,y)}else{var x=m.length,v;for(f=0;f<x;f++)switch(m[f].once&&this.removeListener(l,m[f].fn,void 0,!0),_){case 1:m[f].fn.call(m[f].context);break;case 2:m[f].fn.call(m[f].context,c);break;case 3:m[f].fn.call(m[f].context,c,d);break;case 4:m[f].fn.call(m[f].context,c,d,u);break;default:if(!y)for(v=1,y=new Array(_-1);v<_;v++)y[v-1]=arguments[v];m[f].fn.apply(m[f].context,y)}}return!0},a.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},a.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},a.prototype.removeListener=function(l,c,d,u){var h=n?n+l:l;if(!this._events[h])return this;if(!c)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===c&&(!u||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var p=0,m=[],_=g.length;p<_;p++)(g[p].fn!==c||u&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(HR);var jZ=HR.exports;const WR=_b(jZ);class XR extends WR{constructor(t,n){super(),Ve(this,"ogma"),Ve(this,"elements"),Ve(this,"layer"),Ve(this,"editor"),Ve(this,"selectedId",En),Ve(this,"hoveredId",En),Ve(this,"ogmaOptions"),Ve(this,"shouldDetect"),Ve(this,"isDragging"),Ve(this,"_onKeyUp",r=>{r.code===27&&this.selectedId!==En?this.unselect():(r.code===46||r.code===8)&&this.selectedId!==En&&this._canRemove()&&this.remove(this.selectedId)}),Ve(this,"_onClickMouseMove",r=>{if(!r.domEvent||this.isDragging||!this.shouldDetect)return;const i=this.ogma.view.screenToGraphCoordinates(r),s=this.shouldDetect||!this.shouldDetect&&+this.selectedId>-1?this.detect(i,0):void 0;r.domEvent.type==="mousemove"?s?this.hover(s.id):this.hoveredId!==En&&this.unhover():s?this.select(s.id):this.selectedId!==En&&this.unselect()}),this.ogma=t,this.elements=[],this.shouldDetect=!0,this.isDragging=!1,this.ogmaOptions=t.getOptions(),t.events.on(["click","mousemove"],this._onClickMouseMove).on("keyup",this._onKeyUp),this.layer=t.layers.addSVGLayer({draw:r=>this.draw(r)}),this.layer.moveToTop(),this.editor=t.layers.addOverlay({element:n,position:{x:0,y:0},size:{width:0,height:0}}),this.editor.hide()}_canRemove(){return!0}add(t){const n=this.getDefaultOptions(),r=Object.assign(t,{id:t.id===void 0?vm():t.id,type:t.type,properties:{...n.properties,...t.properties||{},style:{...n.properties.style,...t.properties.style||{}}},geometry:{...n.geometry,...t.geometry}});return this.elements.push(r),this.layer.refresh(),this.emit(Ry,r),r}updateStyle(t,n){this.updateAnnotation(t,{properties:{style:n}})}updateGeometry(t,n){this.updateAnnotation(t,{geometry:n})}update(t,n){const r=this.getById(t);this.updateAnnotation(r,n)}updateAnnotation(t,n){if(!t)return;const r=t.id;Object.keys(n).forEach(i=>{if(i!=="id")if(i==="properties"){const s=n.properties||{style:{}};t.properties={...t.properties||{},...s||{},style:{...t.properties.style||{},...s.style||{}}}}else i==="geometry"?t.geometry={...t.geometry,...n.geometry}:t[i]=n[i]}),r===this.selectedId&&this.refreshEditor(),this.layer.refresh()}getById(t){for(let n=0;n<this.elements.length;n++){const r=this.elements[n];if(r.id===t)return r}}select(t){const n=this.getById(t);n&&(this.editor.show(),this.selectedId=t,this.refreshEditor(),this.layer.refresh(),this.emit(My,n))}hover(t){const n=this.getById(t);n&&(this.editor.show(),this.hoveredId=t,this.refreshEditor(),this.layer.refresh(),this.emit(DZ,n))}getSelectedFeature(){return this.selectedId===En?null:this.getById(this.selectedId)}unselect(){const t=this.getById(this.selectedId);return t&&this.emit(Py,t),this.selectedId=En,this.hoveredId===En&&this.editor.hide(),this.layer.refresh(),this}unhover(){const t=this.getById(this.hoveredId);return this.emit(zZ,t),this.hoveredId=En,this.selectedId===En&&this.editor.hide(),this.layer.refresh(),this}remove(t){const n=this.getById(t);t===this.hoveredId&&this.unhover(),t===this.selectedId&&this.unselect(),this.elements=this.elements.filter(r=>r.id!==t),n&&this.emit(Fy,n),this.layer.refresh()}disableDragging(){this.ogma.setOptions({interactions:{drag:{enabled:!1},pan:{enabled:!1}},detect:{nodes:!1,edges:!1,nodeTexts:!1,edgeTexts:!1}})}restoreDragging(){this.ogma.setOptions(this.ogmaOptions)}enableDetection(){this.shouldDetect=!0}disableDetection(){this.shouldDetect=!1}refreshLayer(){this.layer.refresh()}getElements(){return[...this.elements]}destroy(){this.ogma.events.off(this._onClickMouseMove).off(this._onKeyUp),this.layer.destroy()}}const LA="handle-line",NA="handle-start",IA="handle-end";class UZ extends XR{constructor(t,n={}){super(t,`
    <div class="arrow-handle">
      <div id="${LA}" data-handle-id="0" class="handle line"></div>
      <div id="${NA}" data-handle-id="1" class="handle"></div>
      <div id="${IA}" data-handle-id="2" class="handle"></div>
    </div>
  `),Ve(this,"draggedHandle",En),Ve(this,"start",{x:0,y:0}),Ve(this,"end",{x:0,y:0}),Ve(this,"arrow",{...kA}),Ve(this,"startX",0),Ve(this,"startY",0),Ve(this,"minArrowHeight",0),Ve(this,"maxArrowHeight",0),Ve(this,"handles",[]),Ve(this,"onHandleMouseDown",r=>{const i=this.getById(this.selectedId)||this.getById(this.hoveredId);i&&(this.startDragging(i,r.clientX,r.clientY),this.draggedHandle=VR(r.target))}),Ve(this,"onMouseUp",()=>{this.draggedHandle!==-1&&(this.restoreDragging(),this.isDragging=!1,this.draggedHandle=En,this.emit(Bd,this.arrow))}),Ve(this,"onMouseMove",r=>{if(!this.isDragging||this.draggedHandle===En)return;const i=this.handles[this.draggedHandle],s=this.ogma.view.getZoom(),o=(r.clientX-this.startX)/s,a=(r.clientY-this.startY)/s,l=i.id===LA,c=i.id===NA,d=i.id===IA;(l||c)&&UR(this.arrow,this.start.x+o,this.start.y+a),(l||d)&&$R(this.arrow,this.end.x+o,this.end.y+a),this.emit(xb,this.arrow,l?"line":c?"start":"end"),this.refreshEditor(),this.layer.refresh()}),this.minArrowHeight=n.minArrowHeight||0,this.maxArrowHeight=n.maxArrowHeight||1e6,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".arrow-handle>.handle")),this.handles.forEach(r=>r.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp)}startDrawing(t,n,r=BR(t,n,t,n,Od)){this.add(r),this.hoveredId=r.id;const i=this.ogma.view.graphToScreenCoordinates({x:t,y:n});this.startDragging(this.getById(r.id),i.x,i.y),this.draggedHandle=2}cancelDrawing(){this.isDragging&&(this.remove(this.arrow.id),this.emit(Bd,this.arrow),this.restoreDragging(),this.isDragging=!1,this.draggedHandle=En)}startDragging(t,n,r){this.selectedId!==t.id&&this.select(this.hoveredId),this.arrow=t,this.startX=n,this.startY=r,this.start=hp(this.arrow),this.end=yb(this.arrow),this.disableDragging(),this.emit(vb,this.arrow),this.isDragging=!0}detect(t,n=0){return this.elements.find(r=>{const{start:i,end:s}=gp(r),o=new ai(t.x,t.y).sub(new ai((i.x+s.x)/2,(i.y+s.y)/2)),a=new ai(s.x,s.y).sub(new ai(i.x,i.y)),l=a.length(),c=a.normalize(),d=GR(r);return Math.abs(c.dot(o))<l/2+n&&Math.abs(c.rotateRadians(Math.PI/2).dot(o))<d/2+n})}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.selectedId!==En?this.getById(this.selectedId):this.getById(this.hoveredId),{start:n,end:r}=gp(t);this.editor.setPosition({x:0,y:0}).setSize({width:"100%",height:"100%"});const[i,s,o]=Array.prototype.slice.call(this.editor.element.querySelectorAll(".handle"));s.style.left=`${n.x}px`,s.style.top=`${n.y}px`,o.style.left=`${r.x}px`,o.style.top=`${r.y}px`;const a={x:(r.x+n.x)/2,y:(r.y+n.y)/2},l=new ai(r.x-n.x,r.y-n.y),c=l.mul(1/l.length()),d=Math.atan2(c.y,c.x);i.style.width=`${l.length()}px`,i.style.left=`${a.x}px`,i.style.top=`${a.y}px`,i.style.transform=`translate(-50%, -50%) rotate(${d}rad)`}getDefaultOptions(){return kA}draw(t){t.innerHTML="";const n=Zc("g");this.elements.forEach(r=>RZ(r,n,Od,this.minArrowHeight,this.maxArrowHeight)),t.appendChild(n)}destroy(){super.destroy(),document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp)}}const hl={font:"sans-serif",fontSize:"12",color:"black",background:"",strokeWidth:1,strokeColor:"#000",strokeType:"plain"},i0={id:0,type:"Feature",properties:{type:"text",content:"",style:{...hl}},geometry:{type:"Polygon",coordinates:[[[0,0],[100,0],[100,50],[0,50],[0,0]]]}},MA={handleSize:3.5,placeholder:"Your text..."},YR=(e=0,t=0,n=100,r=50,i="",s={...hl})=>({id:vm(),type:"Feature",properties:{type:"text",content:i,style:{...hl,...s}},geometry:{type:"Polygon",coordinates:[[[e,t],[e+n,t],[e+n,t+r],[e,t+r],[e,t]]]}});var qR={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(NZ,()=>(()=>{var n={d:(z,U)=>{for(var Y in U)n.o(U,Y)&&!n.o(z,Y)&&Object.defineProperty(z,Y,{enumerable:!0,get:U[Y]})},o:(z,U)=>Object.prototype.hasOwnProperty.call(z,U)},r={};function i(z){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},i(z)}n.d(r,{default:()=>On});var s=/^((?:[a-z\d-]+\s+)*)([\d.]+(%|em|px)|(?:x+-)?large|(?:x+-)?small|medium)(?:\s*\/\s*(normal|[\d.]+(%|px|em)?))?(\s.+)?$/,o=/\bsmall-caps\b/,a=/\b(?:italic|oblique)\b/,l=/\bbold(?:er)?\b/,c=13.3333333,d={"xx-small":9,"x-small":10,smaller:13.3333,small:13,medium:16,large:18,larger:19.2,"x-large":24,"xx-large":32};function u(z){var U="",Y=this;return Y.style&&Y.style!=="normal"&&(U+=Y.style),Y.variant&&Y.variant!=="normal"&&(U+=(U?" ":"")+Y.variant),Y.weight&&Y.weight!=="normal"&&(U+=(U?" ":"")+Y.weight),Y.size&&(U+=(U?" ":"")+Y.size+"px",Y.height!==Y.size&&(U+="/"+Y.height+"px")),Y.family&&(U+=(U?" ":"")+Y.family),z&&(U+="::"+Y.baseline),z&&(U+="::"+Y.color),U}var h={id:"",family:"sans-serif",height:14,size:12,variant:"",style:"",weight:"",baseline:"",color:null,toString:u,valueOf:u};function g(z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=s.exec(z);U.family=(Y[6]||"").trim();var V=d[Y[2]]||parseFloat(Y[2]);Y[3]==="%"?V*=.16:Y[3]==="em"?V*=16:Y[3]==="pt"&&(V*=c),U.size=V;var ae=parseFloat(Y[4]);if(ae!=="normal"&&ae!=="inherit"&&ae?Y[5]&&Y[5]!=="em"?Y[5]==="pt"?U.height=ae*c:Y[5]==="%"?U.height=.01*V:U.height=ae:U.height=ae*V:U.height=Math.round(V*(7/6)),o.test(Y[1])&&(U.variant="small-caps"),a.test(Y[1])&&(U.style="italic"),l.test(Y[1]))U.weight="bold";else{var Le=parseInt(/\b(\d+)\b/.exec(Y[1]),10);Le>=100&&Le!==400&&(U.weight=Le)}return U}function p(){var z,U,Y,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"12px/14px sans-serif",ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=14,We=12,Be=null,je=null,et="";if(V&&V.nodeType){var pt=V&&(V.ownerDocument&&V.ownerDocument.defaultView||V.document&&V||V.defaultView),yt=pt.getComputedStyle(V,null);z=yt.getPropertyValue("font-family")||"",We=parseFloat(yt.getPropertyValue("font-size")),Le=yt.getPropertyValue("line-height"),Be=yt.getPropertyValue("font-weight"),je=yt.getPropertyValue("font-style"),et=yt.getPropertyValue("font-variant")||""}else if(typeof V=="string"){var ct=g(V);z=ct.family,We=ct.size,Le=ct.height,et=ct.variant,je=ct.style,Be=ct.weight}else i(V)==="object"&&(z=V.family,We=V.size,Le=V.height,et=V.variant,Be=V.weight,je=V.style,U=V.baseline,Y=V.color);ae.size&&ae.size<3&&(We*=ae.size),Le=Le!=="normal"&&Le?parseFloat(Le):We*(7/6),ae.height&&ae.height<3&&(Le*=ae.height);var mt=Object.create(h);return mt.family=ae.family||z||"sans-serif",mt.height=Le??14,mt.size=We??12,mt.variant=ae.variant||et||"",mt.style=ae.style||je||"",mt.weight=ae.weight||Be||"",mt.baseline=U||0,ae.baseline!=null&&(mt.baseline=ae.baseline),mt.color=ae.color||Y||"",mt.id=u.call(mt,!0),mt}const m={"\n":.28,"\r":.28," ":.28," ":.28," ":.28,"᠎":0," ":.5," ":1," ":.5," ":1," ":.33," ":.25," ":.16," ":.56," ":.28," ":.2," ":.15,"​":0," ":.16," ":.22,"　":1,"\uFEFF":0};var _,y=function(z){var U=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(100,100)||z&&z.createElement("canvas");if(U&&U.getContext){var Y=U.getContext("2d");if(Y&&typeof Y.measureText=="function")return function(V,ae){return Y.font=String(ae),Y.measureText(V).width}}}(typeof document<"u"?document:null)||(_={},function(z,U){if(!_[U]){var Y=p(U);_[U]=Y,/\bmonospace\b/.test(Y.family)?Y.size*=.6:(Y.size*=.45,Y.weight&&(Y.size*=1.18))}return z.length*_[U].size}),f={},x={trim:!0,collapse:!0};function v(z,U,Y){var V=Object.assign({},x,Y),ae=String(z);if(!ae)return 0;if(ae in m){var Le=U.id+"/"+ae;return Le in f||(f[Le]=y("_".concat(ae,"_"),U)-y("__",U)),f[Le]}return V.trim&&V.collapse?V.trim?ae=ae.trim():V.collapse&&(ae=ae.replace(/\s+/g," ")):ae=ae.replace(/\n/g," "),y(ae,U)+U.size*(z.tracking||0)}function w(z){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},w(z)}function b(z,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(U&&U.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),U&&S(z,U)}function S(z,U){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,V){return Y.__proto__=V,Y},S(z,U)}function k(z){var U=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Y,V=A(z);if(U){var ae=A(this).constructor;Y=Reflect.construct(V,arguments,ae)}else Y=V.apply(this,arguments);return C(this,Y)}}function C(z,U){if(U&&(w(U)==="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}(z)}function A(z){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},A(z)}function N(z,U){if(!(z instanceof U))throw new TypeError("Cannot call a class as a function")}function R(z,U){for(var Y=0;Y<U.length;Y++){var V=U[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,We){if(w(Le)!=="object"||Le===null)return Le;var Be=Le[Symbol.toPrimitive];if(Be!==void 0){var je=Be.call(Le,We);if(w(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),w(ae)==="symbol"?ae:String(ae)),V)}var ae}function B(z,U,Y){return U&&R(z.prototype,U),Y&&R(z,Y),Object.defineProperty(z,"prototype",{writable:!1}),z}var W=function(){function z(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";N(this,z),this.value=U,this.weight=null,this.style=null,this.font=null,this.href=null,this.sub=!1,this.sup=!1}return B(z,[{key:"clone",value:function(){var U=new z(this.value);return U.value=this.value,U.weight=this.weight,U.style=this.style,U.font=this.font,U.href=this.href,U.sub=this.sub,U.sup=this.sup,U}},{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}}]),z}(),F=function(z){b(Y,z);var U=k(Y);function Y(){return N(this,Y),U.apply(this,arguments)}return B(Y)}(W),T=function(z){b(Y,z);var U=k(Y);function Y(){return N(this,Y),U.apply(this,arguments)}return B(Y)}(W),H=function(z){b(Y,z);var U=k(Y);function Y(){return N(this,Y),U.apply(this,arguments)}return B(Y)}(W),G=/^[\n\r\t\x20\xA0\u2000-\u200B\u205F\u3000]/,q=/^[^\n\r\t\u0020\u2000-\u200B\u205F\u3000]{2,}/,te=/^[\xA0\u2011\u202F\u2060\uFEFF]/,J=/^(?:[;\xAD%?…]|,(?!\d))/,ue=/^[´±°¢£¤$¥\u2212]/;function Te(z,U){U!==!1&&(z=z.trim());for(var Y,V,ae=[],Le=z.charAt(0),We=0,Be=1,je=z.length;Be<je;Be++){Y=z.charAt(Be),V=z.charAt(Be+1);var et=G.test(Le),pt=G.test(Y),yt=pt||et,ct=void 0;if((ue.test(Y)&&!te.test(Le)||J.test(Le+V)&&!te.test(Y))&&(yt=!0),Le!=="-"&&Le!=="‐"&&Le!=="–"&&Le!=="—"||((ct=G.test(z.charAt(Be-2)))&&!pt&&(yt=!1),!ct&&q.test(Y+V)&&(yt=!0)),yt){var mt=z.slice(We,Be);/\u00AD$/.test(mt)?(ae.push(new W(mt.slice(0,-1))),ae.push(new H)):(ae.push(new W(mt)),ae.push(new F)),We=Be}Le=Y}return ae.push(new W(z.slice(We))),ae}const ce={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"⊥",or:"⊦",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›"};var _e=/^[\n\r\x20\u2000-\u200B\u205F\u3000]/,ze=/^<\/([a-zA-Z0-9]+)([^>]*)>/,Ye=/^<([a-zA-Z0-9]+)((?:\s[^=\s/]+(?:\s*=\s*(?:"[^"]+"|'[^']+'|[^>\\s]+))?)+)?\s*(\/?)>(\n*)/,qe=/^<!--(.+?)-->/,ge=/&(?:#(\d\d{2,})|#x([\da-fA-F]{2,})|([a-zA-Z][a-zA-Z1-4]{1,8}));/g,ye={b:function(z){z.weight="bold"},strong:function(z){z.weight="bold"},i:function(z){z.style="italic"},em:function(z){z.style="italic"},dfn:function(z){z.style="italic"},cite:function(z){z.style="italic"},code:function(z){z.family="monospace"},kbd:function(z){z.family="monospace"},samp:function(z){z.family="monospace"},var:function(z){z.family="monospace"},tt:function(z){z.family="monospace"},sub:function(z){z.sub=!0},sup:function(z){z.sup=!0}},Ze={div:1,li:1,blockquote:2,h1:2,h2:2,h3:2,h4:2,h5:2,h6:2,ul:2,ol:2,hr:2,p:2};function tt(z){return z.replace(ge,function(U,Y,V,ae){if(Y||V){var Le=Y?10:16;return String.fromCharCode(parseInt(Y||V,Le))}return ae in ce?ce[ae]:U})}function ut(z){return z&&z.length>1&&(z[0]==='"'&&z[z.length-1]==='"'||z[0]==="'"&&z[z.length-1]==="'")?z.slice(1,-1):z}var st=/^\s*([^=\s&]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/;function Z(z){var U,Y={};if(z){do if(U=st.exec(z)){var V=tt(ut(U[2]||"")).replace(/[ \r\n\t]+/g," ").trim();if(Y[U[1]]=V,(z=z.slice(U[0].length)).length&&/^\S/.test(z[0]))throw new Error("Attribute error")}while(U&&z.length);if(/\S/.test(z))throw new Error("Attribute error")}return Y}const ee={copyright:"©",textcopyright:"©",dag:"†",textdagger:"†",ddag:"‡",textdaggerdbl:"‡",guillemotleft:"«",guillemotright:"»",guilsinglleft:"‹",guilsinglright:"›",ldots:"…",dots:"…",textellipsis:"…",lq:"‘",P:"¶",textparagraph:"¶",pounds:"£",textsterling:"£",quotedblbase:"„",quotesinglbase:"‚",rq:"’",S:"§",sim:"~",textasciicircum:"^",textasciitilde:"˜",texttildelow:"~",textasteriskcentered:"*",textbackslash:"'",textbar:"|",textbardbl:"╎",textbigcircle:"◯",textbraceleft:"{",textbraceright:"}",textbullet:"•",textdollar:"$",textemdash:"—",textendash:"—",texteuro:"€",eurosym:"€",euro:"€",textexclamdown:"¡",textgreater:">",textless:"<",textordfeminine:"ª",textordmasculine:"º",textperiodcentered:"·",cdot:"·",textquestiondown:"¿",textquotedblleft:"“",textquotedblright:"”",textquoteleft:"‘",textquoteright:"’",textquotestraightbase:"‚",textquotestraightdblbase:"„",textregistered:"®",textthreequartersemdash:"-",texttrademark:"™",texttwelveudash:"-",textunderscore:"_",textvisiblespace:"␣",gets:"←",textleftarrow:"←",to:"→",textrightarrow:"→",textdegree:"°",infty:"∞",triangle:"△",triangledown:"▽",blacktriangle:"▲",blacktriangledown:"▼",angle:"∠",sphericalangle:"∢",aleph:"ℵ",hbar:"ħ",imath:"𝚤",jmath:"𝚥",ell:"ℓ",wp:"℘",Re:"ℜ",Im:"ℑ",mho:"℧",prime:"′",emptyset:"∅",nabla:"∇",surd:"√",partial:"∂",top:"⟙",bot:"⟂",vdash:"⟝",dashv:"⟞",forall:"∀",exists:"∃",nexists:"∄",neg:"¬",lnot:"¬",flat:"♭",natural:"♮",sharp:"♯",backslash:"\\",Box:"□",Diamond:"♢",clubsuit:"♣",diamondsuit:"♦",heartsuit:"♥",spadesuit:"♠",Join:"⨝",blacksquare:"■",bigstar:"★",diagdown:"╲",diagup:"╱",blacklozenge:"⧫",rfloor:"⌋",lfloor:"⌊",rceil:"⌉",lceil:"⌈",rangle:"⟩",langle:"⟨",sum:"∑",int:"∫",oint:"∮",prod:"∏",coprod:"∏",bigcap:"∩",bigcup:"∪",bigsqcup:"⊔",bigvee:"∨",bigwedge:"∧",bigodot:"⊙",bigotimes:"⊗",bigoplus:"⊕",biguplus:"⊎",alpha:"α",beta:"β",chi:"χ",delta:"δ",epsilon:"ε",eta:"η",gamma:"γ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",omega:"ω",phi:"φ",pi:"π",psi:"ψ",rho:"ρ",sigma:"σ",tau:"τ",theta:"θ",upsilon:"υ",xi:"ξ",zeta:"ζ",Alpha:"Α",Beta:"Β",Chi:"Χ",Delta:"Δ",Epsilon:"Ε",Eta:"Η",Gamma:"Γ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Omega:"Ω",Phi:"Φ",Pi:"Π",Psi:"Ψ",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Theta:"Θ",Upsilon:"Υ",Xi:"Ξ",Zeta:"Ζ",aa:"å",AA:"Å",ae:"æ",AE:"Æ",dh:"ð",DH:"Ð",dj:"đ",DJ:"Đ",ij:"ĳ",IJ:"Ĳ",l:"ł",L:"Ł",ng:"ŋ",NG:"Ŋ",o:"ø",O:"Ø",oe:"œ",OE:"Œ",ss:"ß",SS:"SS",th:"þ",TH:"Þ"};var se=/^(\^|_|\\[^#$%&~_^\\{}()\s]+)(\{)?/,oe=/^%[^\n]+(?:\n|$)/,he=/^[^#$%&~_^\\{}]+/,pe=/^\\([&{}$%#_])/,De=/(?:\\[\\@,!:;-]|-{2,3}|[!?]`|``?|,,|''?|~|<<|>>)/g,Ie={"---":"—","--":"–","!`":"¡","?`":"¿","``":"“",",,":"„","''":"”","`":"‘","'":"’","<<":"«",">>":"»","~":" ","\\-":"­","\\,":" ","\\;":" ","\\:":" ","\\!":" ","\\@":"\uFEFF","\\\\":"\\newline{}"},Pe={bf:function(z){z.weight="bold"},it:function(z){z.style="italic"},sl:function(z){z.style="italic"},color:function(z,U){z.color=U},href:function(z,U){z.href=U},"^":function(z){z.sup=!0},_:function(z){z.sub=!0},par:function(z){this.tokens.push(new T,new T)},newline:function(z){this.tokens.push(new T)},url:function(z,U){this.open_context().href=U,this.add_token(new W(U)),this.close_context()}};Pe.textsuperscript=Pe["^"],Pe.textsubscript=Pe._,Pe.textsl=Pe.sl,Pe.mathbf=Pe.bf,Pe.mathit=Pe.it,Pe.textbf=Pe.bf,Pe.textit=Pe.it,Pe.textcolor=Pe.color;var nt=/[\r\n\xA0]+/g;function rt(z,U){z.sup&&(z.baseline=.45,z.size=.7),z.sub&&(z.baseline=-.3,z.size=.7);var Y=U;return(z.style||z.weight||z.baseline||z.color||z.size||z.family)&&(Y=p(U,z)),Y}function Rt(z,U,Y){for(var V,ae,Le=z.width;Le+Y.width>U&&z.length;)ae=(V=z[z.length-1]).width,V.width>Y.width?(V.value=V.value.slice(0,-1),V.width=v(V,V.font),Le+=V.width):z.pop(),Le-=ae;z[z.length-1]instanceof H&&z.pop(),V=z[z.length-1]||V||{},Y.font=p(Y.font,V.bold,V.italic,""),Y.href=z.length?V.href:null,Y.rel=z.length?V.rel:null,Y.target=z.length?V.target:null,z.push(Y)}function It(z){return Math.round(1e6*z)/1e6}function Mt(z){return function(U){if(Array.isArray(U))return Wt(U)}(z)||function(U){if(typeof Symbol<"u"&&U[Symbol.iterator]!=null||U["@@iterator"]!=null)return Array.from(U)}(z)||function(U,Y){if(U){if(typeof U=="string")return Wt(U,Y);var V=Object.prototype.toString.call(U).slice(8,-1);return V==="Object"&&U.constructor&&(V=U.constructor.name),V==="Map"||V==="Set"?Array.from(U):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?Wt(U,Y):void 0}}(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wt(z,U){(U==null||U>z.length)&&(U=z.length);for(var Y=0,V=new Array(U);Y<U;Y++)V[Y]=z[Y];return V}var vt={center:"middle",right:"end"},lt={middle:.5,center:.5,bottom:1,end:1},Ct=function(z,U){return!z&&!U||z===U};function Pt(z,U){var Y=[],V=U.font(),ae=V.size,Le=V.family,We=U.align(),Be=U.createElement();if(z.length){var je=V.height,et=U.valign(),pt=U.height()(),yt=U.width()(0),ct=!isFinite(yt)&&z.length===1,mt=ct?null:U.x(),Vt=It(je/ae),fn=ct?null:It(je/(1.15*ae+(je-ae)/2));if(lt[et]&&isFinite(pt)){var Ft=et==="bottom"?1:.5;fn+=(pt*Ft-je*z.length*Ft)/ae}var wt=We==="justify",M=0;We==="right"?M=yt:We==="center"&&(M=yt/2);for(var D=[],P="tspan",$=null,X="",O=function(){if(X){var ke=Be(P,$,X);D.push(ke)}P="tspan",$=null,X=""},j=0,Q=z.length;j<Q;j++){var K="",de="",ne=0,re=z[j];if(re.length){D=[];for(var le=0,fe=0,ie=void 0,me=0,we=re.length;me<we;me++){var ve=re[me],be=ve.font;ve.whitespace&&le++,fe+=ve.width,me&&!ve.tracking&&!ne&&Ct(be.id,K)&&Ct(ve.class,de)&&Ct(ie,ve.href)?X+=ve.value:(O(),X=ve.value,$={fontFamily:be.family!==Le?be.family:null,fontSize:be.size!==ae?be.size:null,fontWeight:be.weight||null,fontStyle:be.style||null,fontVariant:be.variant!=="normal"&&be.variant||null,fill:be.color||null,baselineShift:be.baseline?100*be.baseline+"%":null,className:ve.class||null},ne&&($.dx=It(ne),ne=0),ve.tracking&&(ne=be.size*ve.tracking),ve.href&&!ie?(ie=ve.href,P="a",$.href=ie,$.rel=ve.rel,$.target=ve.target):ie=null,K=be.id,de=ve.class)}if(O(),ct)Y.push.apply(Y,Mt(D));else{var Ee=null,Ce=j===Q-1||re[re.length-1]instanceof T;wt&&re.length>1&&!Ce&&(Ee=It((yt-fe)/le)),Y.push(Be.apply(void 0,["tspan",{wordSpacing:Ee,x:mt(j)+M,dy:It(j?Vt:fn)+"em"}].concat(Mt(D))))}}else Y.push(Be("tspan",{x:mt(j),dy:It(j?Vt:fn)+"em"}," "))}}return Be.apply(void 0,["text",{fontFamily:Le,fontSize:ae,textAnchor:vt[We]||"start"}].concat(Y))}var Dt={middle:.5,center:.5,bottom:1,end:1};function At(z,U,Y){if(z.length){Y.textBaseline="middle";var V=U.font(),ae=V.height,Le=V.size,We=U.valign(),Be=U.height()(),je=U.width()(0),et=U.align(),pt=et==="justify",yt=.5*ae,ct=Dt[We];if(ct&&isFinite(Be)){var mt=z.length*ae;yt+=Be*ct-mt*ct}z.forEach(function(Vt,fn){var Ft=U.x()(fn),wt=fn*ae+yt,M=0,D=0;Vt.forEach(function(X){X.whitespace&&M++,D+=X.width});var P=0,$=fn===z.length-1||Vt[Vt.length-1]instanceof T;pt&&Vt.length>1&&!$&&(P=(je-D)/M),Vt.forEach(function(X){Y.font=X.font;var O=X.font,j=O.baseline?Le*-O.baseline+.15*Le:0;Y.fillStyle=function(de,ne){return de.color?de.color:ne.href?"#00C":"#000"}(O,X);var Q=0;if(et==="right"?Q+=je-D:et==="center"?Q+=je/2-D/2:et==="justify"&&(X.whitespace||X instanceof T)&&(Ft+=P),Y.fillText(X.value,Ft+Q,wt+j),X.href){Y.beginPath(),Y.strokeStyle=Y.fillStyle;var K=Math.floor(wt+.45*Le)+.5;Y.moveTo(Ft+Q,K),Y.lineTo(Ft+Q+X.width,K),Y.stroke()}Ft+=X.width})})}}function bt(z){return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},bt(z)}function Gt(z){for(var U={},Y=0;Y<z.length;Y++){var V=z[Y];typeof V!="number"&&V!=null&&(typeof V=="string"?U.text=V:typeof V=="function"?U.fn=V:bt(V)==="object"&&V._groups?U.d3=V:V&&V.nodeType&&V.getContext?U.ctx=V.getContext("2d"):V&&V.fillText&&V.beginPath?U.ctx=V:V&&(U.text=V))}return U}function Xt(z){return Xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},Xt(z)}function Er(z,U){for(var Y=0;Y<U.length;Y++){var V=U[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,We){if(Xt(Le)!=="object"||Le===null)return Le;var Be=Le[Symbol.toPrimitive];if(Be!==void 0){var je=Be.call(Le,We);if(Xt(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),Xt(ae)==="symbol"?ae:String(ae)),V)}var ae}var ht=p(),xt=function(z){return typeof z=="function"?z:function(){return z}},gt=function(){function z(V){if(function(Le,We){if(!(Le instanceof We))throw new TypeError("Cannot call a class as a function")}(this,z),this.props={overflow:"ellipsis",lineclamp:null,align:"left",wordBreak:null,valign:"top",width:function(){return 1/0},height:function(){return 1/0},x:function(){return 0},font:null,tAnchor:0,parser:z.defaultparser},V)for(var ae in V)typeof this[ae]=="function"&&this[ae](V[ae])}var U,Y;return U=z,Y=[{key:"linebreak",value:function(V){var ae=this,Le=this.props.parser(String(V)),We=this.font(),Be=function(je,et,pt){if(!je.length)return[];var yt=et.height(),ct=et.width(),mt=et.overflowLine(),Vt=et.overflowWrap(),fn=p(pt,!0,!1),Ft=isFinite(yt())?Math.floor(yt()/pt.height):1/0;if(!yt()&&!ct(0)||!Ft)return[];for(var wt=0,M=0,D=0,P=[],$=[],X=!1;wt<je.length&&M<Ft;){var O=je[wt],j=rt(O,pt);if(O.width=v(O,j),O.font=j,O.line=M,O.whitespace=O.value in m,O.value&&(O.value=O.value.replace(nt," ")),!(!D&&O.whitespace||X&&O.whitespace))if(O instanceof T)D=0,$=[],P.push(wt+1),M++;else if(O instanceof F||O instanceof H)$.push({index:wt,width:D});else if(O.whitespace||D+O.width<ct(M))D+=O.width;else if($.length){var Q=void 0,K=void 0;do{K=!0,Q=$.pop();var de=je[Q.index],ne=void 0;de instanceof H&&(ne=v("-",de.font),Q.width+ne>ct(M)&&(K=!$.length))}while(!K);P.push(Q.index+1),D=0,M++,wt=Q.index,$=[]}else if(Vt==="break-word"){var re=ct(M);if(D+O.width>re){var le=O.clone();do O.value=O.value.slice(0,-1),O.width=v(O,O.font),D+=O.width;while(O.value&&O.width>re);le.value=le.value.slice(O.value.length),je.splice(wt+1,0,new F,le)}P.push(wt+1),D=0,M++}else D+=O.width;wt++,X=O.whitespace}wt!==P[P.length-1]&&P.push(wt);var fe=0,ie=0,me=P.map(function(ke){for(var Ae,Je=fe;(Ae=je[Je])&&(Ae.whitespace||!Ae.value);)Je++;for(var Qe=ke,dt=null;Qe>Je&&(Ae=je[Qe-1])&&(Ae.whitespace||!(Ae.value||Ae instanceof H));)Ae instanceof T&&(dt=Ae),Qe--;Ae instanceof H&&(Ae.value="-",Ae.width=v("-",Ae.font)),fe=ke;var ot=je.slice(Je,Qe).filter(function(Tt){return Tt.value});return dt&&ot.push(dt),ot.width=ot.reduce(function(Tt,Yt){return Tt+Yt.width},0),ot.width>ie&&(ie=ot.width),ot});if(me.hasLineOverflow=!1,mt){var we=mt==="ellipsis"?"…":mt;me.forEach(function(ke,Ae){var Je=ct(Ae);if(ke.width>Je){var Qe=new W(we);Qe.font=pt,Qe.width=v(we,fn),Rt(ke,Je,Qe),me.hasLineOverflow=!0}})}var ve=et.overflow()==="ellipsis"?"…":et.overflow();if(ve&&wt!==je.length){var be=ct(me.length-1),Ee=me[me.length-1],Ce=new W(ve);Ce.font=pt,Ce.width=v(ve,fn),Rt(Ee,be,Ce),me.hasOverflow=!0}else me.hasOverflow=!1;return me.font=pt,me.width=ie,me}(Le,this,We);return Be.height=Be.length*We.height,Be.render=function(je){return ae.render(Be,je)},Be.svg=Be.render,Be.draw=Be.render,Be}},{key:"font",value:function(V){return arguments.length?(this.props.font=p(V),this):this.props.font||p(ht)}},{key:"overflow",value:function(V){return arguments.length?(this.props.overflow=String(V),this):this.props.overflow}},{key:"overflowLine",value:function(V){return arguments.length?(this.props.lineclamp=String(V),this):this.props.lineclamp}},{key:"valign",value:function(V){return arguments.length?(this.props.valign=V,this):this.props.valign}},{key:"align",value:function(V){if(!arguments.length)return this.props.align;var ae=String(V).toLowerCase();return ae==="left"||ae==="start"?(this.props.align="left",this.props.tAnchor=0):ae==="center"||ae==="middle"?(this.props.align="center",this.props.tAnchor=-.5):ae==="end"||ae==="right"?(this.props.align="right",this.props.tAnchor=-1):ae==="justify"&&(this.props.align=V,this.props.tAnchor=0),this}},{key:"overflowWrap",value:function(V){if(!arguments.length)return this.props.overflowWrap||"normal";var ae=String(V).toLowerCase();return ae==="break-word"?this.props.overflowWrap="break-word":ae!=="normal"&&V!=null||(this.props.overflowWrap=null),this}},{key:"width",value:function(V){return arguments.length?(this.props.width=xt(V),this):this.props.width}},{key:"height",value:function(V){return arguments.length?(this.props.height=xt(V),this):this.props.height}},{key:"x",value:function(V){return arguments.length?(this.props.x=xt(V),this):this.props.x}},{key:"parser",value:function(V){if(!arguments.length)return this.props.parser;if(typeof V=="string"){var ae=z[V]||z[V+"parser"];typeof ae=="function"&&(V=ae)}if(typeof V!="function")throw new Error("Unknown parser: "+V);return this.props.parser=V,this}},{key:"createElement",value:function(V){return arguments.length?(this.props.createElement=V,this):this.props.createElement||z.createElement}},{key:"render",value:function(){var V=Gt(arguments);return typeof V.text=="string"&&(V.text=this.linebreak(V.text)),V.ctx?At(V.text,this,V.ctx):Pt(V.text,this)}}],Y&&Er(U.prototype,Y),Object.defineProperty(U,"prototype",{writable:!1}),z}();function jt(z){return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},jt(z)}function Jt(z,U){(U==null||U>z.length)&&(U=z.length);for(var Y=0,V=new Array(U);Y<U;Y++)V[Y]=z[Y];return V}function pn(z,U){for(var Y=0;Y<U.length;Y++){var V=U[Y];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,(ae=function(Le,We){if(jt(Le)!=="object"||Le===null)return Le;var Be=Le[Symbol.toPrimitive];if(Be!==void 0){var je=Be.call(Le,We);if(jt(je)!=="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Le)}(V.key,"string"),jt(ae)==="symbol"?ae:String(ae)),V)}var ae}var zn=function(z){return typeof z=="function"?z:function(){return z}},mn=function(){function z(V){if(function(Le,We){if(!(Le instanceof We))throw new TypeError("Cannot call a class as a function")}(this,z),this.props={width:function(){return 1/0},height:function(){return 1/0},rotation:0,vAnchor:0,hAnchor:0},V)for(var ae in V)typeof this[ae]=="function"&&this[ae](V[ae]);this.render=this.render.bind(this)}var U,Y;return U=z,Y=[{key:"anchor",value:function(V){var ae=this.props,Le=ae.hAnchor,We=ae.vAnchor,Be=ae.width,je=ae.height;if(!arguments.length)return[Le*Be(0),We*je(0)];if(typeof V=="string"){var et=this.props;V.toLowerCase().trim().split(/\s+/).forEach(function(pt){pt==="top"&&(et.vAnchor=-0),pt==="middle"&&(et.vAnchor=-.5),pt==="bottom"&&(et.vAnchor=-1),pt==="left"&&(et.hAnchor=-0),pt==="center"&&(et.hAnchor=-.5),pt==="right"&&(et.hAnchor=-1)})}return this}},{key:"width",value:function(V){return arguments.length?(this.props.width=zn(V),this):this.props.width}},{key:"height",value:function(V){return arguments.length?(this.props.height=zn(V),this):this.props.height}},{key:"rotate",value:function(V){return arguments.length?(this.props.rotation=V,this):this.props.rotation}},{key:"createElement",value:function(V){return arguments.length?(this.props.createElement=V,this):this.props.createElement||z.createElement}},{key:"canvas",value:function(V,ae){var Le,We=V.getContext?V.getContext("2d"):V;return We.save(),We.rotate(this.rotate()*Math.PI/180),We.translate.apply(We,function(Be){if(Array.isArray(Be))return Jt(Be)}(Le=this.anchor())||function(Be){if(typeof Symbol<"u"&&Be[Symbol.iterator]!=null||Be["@@iterator"]!=null)return Array.from(Be)}(Le)||function(Be,je){if(Be){if(typeof Be=="string")return Jt(Be,je);var et=Object.prototype.toString.call(Be).slice(8,-1);return et==="Object"&&Be.constructor&&(et=Be.constructor.name),et==="Map"||et==="Set"?Array.from(Be):et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?Jt(Be,je):void 0}}(Le)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ae(We),We.restore(),We}},{key:"render",value:function(){var V=Gt(arguments);if(V.d3)return V.d3.attr("transform","rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")"));if(V.ctx)return this.canvas(V.ctx,V.fn);if(V.text){var ae=typeof V.text.render=="function"?V.text.render():V.text;return this.createElement()("g",{transform:"rotate(".concat(this.rotate(),") translate(").concat(this.anchor(),")")},ae)}}}],Y&&pn(U.prototype,Y),Object.defineProperty(U,"prototype",{writable:!1}),z}(),Mn=Object.prototype.hasOwnProperty,Sr={};function Fi(z){return Sr[z]||(Sr[z]=z.replace(/([a-z])([A-Z])/g,function(U,Y,V){return Y+"-"+V.toLowerCase()})),Sr[z]}function Ut(z,U){if(Array.isArray(U))return U.forEach(function(Y){return Ut(z,Y)});typeof U=="string"&&(U=document.createTextNode(U)),z.appendChild(U)}function kn(z,U){if(typeof document<"u"){var Y=typeof z=="string"?document.createElementNS("http://www.w3.org/2000/svg",z):z;if(U&&Y.setAttribute)for(var V in U)Mn.call(U,V)&&U[V]!=null&&Y.setAttribute(V==="className"?"class":Fi(V),U[V]);for(var ae=arguments.length,Le=new Array(ae>2?ae-2:0),We=2;We<ae;We++)Le[We-2]=arguments[We];return Le!=null&&Le.length&&Le.forEach(function(Be){Ut(Y,Be)}),Y}}gt.createElement=kn,gt.textparser=Te,gt.defaultparser=Te,gt.htmlparser=function(z){z=String(z||"").trim();for(var U,Y,V={weight:null,style:null,sub:!1,sup:!1,href:null,color:null,rel:null,target:null},ae=[],Le=[],We=function(yt){for(var ct in V)V[ct]&&(yt[ct]=V[ct]);ae.push(yt)},Be=function(yt){var ct=ae.length,mt=Ze[yt];if(ct&&mt){for(var Vt=ct-1;ae[Vt]&&(ae[Vt]instanceof F||_e.test(ae[Vt].value));)Vt--;for(;mt&&ae[Vt]&&ae[Vt]instanceof T;)Vt--,mt--;for(;mt-- >0;)ae.push(new T)}};z.length;){if(U=/^[^<]+/.exec(z))Te(tt(U[0]),!1).forEach(We);else if(!(U=qe.exec(z)))if(U=ze.exec(z))Le.length&&(V=Le.pop()),Be(U[1]);else if(U=Ye.exec(z)){var je=U[1];Be(je),Le.push(V),V=Object.create(V),ye[je]&&ye[je](V,"");var et=Z(U[2]);je==="a"&&(et.href&&(V.href=et.href),et.rel&&(V.rel=et.rel),et.target&&(V.target=et.target)),et.class&&(V.class=V.class?V.class+" "+et.class:et.class),et.style&&(Y=/(?:^|\s|;)color\s*:\s*([^;\s"']+)/.exec(et.style))&&Y[1]&&(V.color=Y[1]),je==="br"&&ae.push(new T)}else U=[z.slice(0,1)],We(new W(U[0]));z=z.slice(U[0].length)}for(var pt=ae[ae.length-1];pt instanceof T;)ae.pop(),pt=ae[ae.length-1];return ae},gt.latexparser=function(z){z=String(z||"").trim();var U=[0];z=z.replace(/\\verb,(.*?),/,function(Ft,wt){return U.push(wt),"\\verb,"+(U.length-1)+","}).replace(/\\\\\n/g,function(){return"\\\\"}).replace(De,function(Ft,wt,M){return M.charAt(wt-1)==="\\"?Ft:Ie[Ft]}).replace(/\n\s+/g,function(Ft){return/\n/.test(Ft.slice(1))?"\\par ":Ft}).replace(/\\symbol\{(\d+)\}/,function(Ft,wt,M,D){return D.charAt(M-1)==="\\"?Ft:String.fromCharCode(1*wt)}).replace(/(^|[^\\])(\^|_)(\d|[^{]\S*)/g,function(Ft,wt,M,D){return wt+M+"{"+D+"}"}).replace(/\\verb,(.*?),/,function(Ft,wt){return"\\verb,".concat(U[+wt],",")});for(var Y,V={weight:null,italic:null,variant:null,sub:!1,sup:!1,href:null},ae=[],Le=[],We=function(Ft){for(var wt in V)V[wt]&&(Ft[wt]=V[wt]);return ae.push(Ft),Ft},Be=function(){Le.push(V),V=Object.create(V)},je=function(){if(!Le.length)throw new Error("Unexpected }");V=Le.pop()},et={tokens:ae,open_context:Be,close_context:je,add_token:We};z.length;){if(Y=he.exec(z))Te(Y[0],!1).forEach(We);else if(Y=pe.exec(z))We(new W(Y[1]));else if(!(Y=oe.exec(z))){if(Y=/^\{/.exec(z))Be();else if(Y=/^\}/.exec(z))je();else if(!(Y=/^\$/.exec(z)))if(Y=/^\\verb,([^,]+),/.exec(z))We(new W(Y[1]));else if(Y=se.exec(z)){var pt=Y[1].slice(1)||Y[1],yt=!!Y[2];if(/^(La)?TeX$/i.test(pt)){Be(),V.family="serif";var ct=void 0;pt==="LaTeX"&&((ct=We(new W("L"))).tracking=-.25,(ct=We(new W("A"))).size=.7,ct.baseline=.3,ct.tracking=-.1),(ct=We(new W("T"))).tracking=-.17,(ct=We(new W("E"))).baseline=-.22,ct.tracking=-.13,ct=We(new W("X")),je()}else if(pt in ee)We(new W(ee[pt])),yt&&Be();else if(pt in Pe){var mt=[],Vt=Pe[pt].length-1,fn=void 0;if(Vt){for(yt=!1,z=z.slice(Y[0].length-1);Vt--;){if(!(fn=/^\{([^}]+)\}/.exec(z)))throw new Error(pt+" is missing an argument");mt.push(fn[1]),z=z.slice(fn[0].length)}Y[0]=/^\{/.exec(z)?"{":"",yt=!!Y[0]}yt&&Be(),Pe[pt].apply(et,[V].concat(mt))}else console.warn("unknown latex command",pt),We(new W(Y[1])),yt&&Be()}else Y=[z.slice(0,1)],We(new W(Y[0]))}z=z.slice(Y[0].length)}return ae},gt.measureText=function(z,U,Y){return v(z,p(U),Y)},gt.Token=W,gt.Break=F,gt.LineBreak=T,gt.SoftHyphen=H,gt.Rotator=mn,mn.createElement=kn;const On=gt;return r.default})())})(qR);var $Z=qR.exports;const PA=_b($Z);function VZ(e,t){const n=Ks(e),{fontSize:r,font:i,padding:s=0}=e.properties.style||{};if(n.width===n.height&&n.width===0)return;const o=new PA({font:`${r}px/${r}px ${i}`.replace(/(px)+/g,"px"),width:n.width-s*2,height:n.height-s*2,align:"left",valign:"top",x:0,overflow:"ellipsis",parser:"html",createElement:PA.createElement}).linebreak(e.properties.content.replaceAll(`
`,"<br>")).render();o.setAttribute("transform",`translate(${s}, ${s})`),t.appendChild(o)}const FA=20;class GZ extends XR{constructor(t,n={}){super(t,`
    <div class="annotation-text-handle">
      <span class="handle line-handle top" data-handle-id="0"></span>
      <span class="handle line-handle bottom" data-handle-id="1"></span>
      <span class="handle line-handle left" data-handle-id="2"></span>
      <span class="handle line-handle right" data-handle-id="3"></span>
      <span class="handle top right point-handle top-right" data-handle-id="4"></span>
      <span class="handle left top point-handle top-left" data-handle-id="5"></span>
      <span class="handle bottom right point-handle bottom-right" data-handle-id="6"></span>
      <span class="handle left bottom left-handle point-handle bottom-left" data-handle-id="7"></span>
      <textarea wrap="off"></textarea>
    </div>
  `),Ve(this,"textArea"),Ve(this,"handleSize"),Ve(this,"rect",{x:0,y:0,width:0,height:0}),Ve(this,"annotation",{...i0}),Ve(this,"startX",0),Ve(this,"startY",0),Ve(this,"handles",[]),Ve(this,"draggedHandle",En),Ve(this,"isFocused",!1),Ve(this,"placeholder","Type your text here..."),Ve(this,"_onFocus",()=>{this.textArea.value===this.placeholder&&(this.textArea.value=""),this.isFocused=!0}),Ve(this,"_onBlur",()=>{this.isFocused=!1}),Ve(this,"startDrawing",(i,s,o=YR(i,s,0,0,"",hl))=>{this.add(o);const a=this.ogma.view.graphToScreenCoordinates({x:i,y:s});this.select(o.id),this.startDragging(this.getById(o.id),a.x,a.y),this.draggedHandle=6}),Ve(this,"cancelDrawing",()=>{this.isDragging&&(this.remove(this.annotation.id),this.annotation={...i0},this.draggedHandle=En,this.isDragging=!1,this.emit(Bd,this.annotation))}),Ve(this,"startDragging",(i,s,o)=>{this.annotation=i;const a=Vo(this.annotation),l=Ks(this.annotation);this.rect.x=a.x,this.rect.y=a.y,this.rect.width=l.width,this.rect.height=l.height,this.startX=s,this.startY=o,this.disableDragging(),this.textArea.classList.add("noevents"),this.textArea.setAttribute("disabled","disabled"),this.emit(vb,this.annotation),this.isDragging=!0}),Ve(this,"onHandleMouseDown",i=>{const s=this.getById(this.selectedId)||this.getById(this.hoveredId);s&&(this.selectedId!==s.id&&this.select(this.hoveredId),this.startDragging(s,i.clientX,i.clientY),this.draggedHandle=VR(i.target))}),Ve(this,"onMouseMove",i=>{requestAnimationFrame(()=>this._onMouseMove(i))}),Ve(this,"_onMouseMove",i=>{if(!this.isDragging)return;i.stopPropagation(),i.preventDefault();const s=this.handles[this.draggedHandle],o=s.classList.contains("top"),a=s.classList.contains("left"),l=s.classList.contains("right"),c=s.classList.contains("bottom"),d=s.classList.contains("line-handle"),u=this.ogma.view.getZoom(),h=(i.clientX-this.startX)/u,g=(i.clientY-this.startY)/u,p=a||d?this.rect.x+h:this.rect.x,m=o||d?this.rect.y+g:this.rect.y,_=Math.max(this.rect.width+h*(d?0:a?-1:l?1:0),FA),y=Math.max(this.rect.height+g*(d?0:o?-1:c?1:0),FA);FZ(this.annotation,p,m,_,y),this.emit(xb,this.annotation,"text"),this.refreshEditor(),this.layer.refresh()}),Ve(this,"onMouseUp",()=>{!this.isDragging||this.draggedHandle===En||(this.restoreDragging(),this.textArea.classList.remove("noevents"),this.textArea.removeAttribute("disabled"),this.emit(Bd,this.annotation),this.isDragging=!1,this.draggedHandle=En)}),Ve(this,"onViewChanged",()=>{const i=Math.max(2,this.handleSize/this.ogma.view.getZoom());document.documentElement.style.setProperty("--handle-width",`${i}px`)}),Ve(this,"_onInput",()=>{const i=this.getById(this.selectedId);i&&(this.textArea.value=this.textArea.value.replace(/ +(?= )/g,""),this.textArea.focus(),i.properties.content=this.textArea.value,this.emit(Dy,i),this.layer.refresh())}),this.handleSize=MA.handleSize,this.placeholder=MA.placeholder;const r=this.textArea=this.editor.element.querySelector("textarea");r.addEventListener("input",this._onInput),r.addEventListener("focus",this._onFocus),r.addEventListener("blur",this._onBlur),r.spellcheck=!1,this.handles=Array.prototype.slice.call(this.editor.element.querySelectorAll(".annotation-text-handle > .handle")),this.handles.forEach(i=>i.addEventListener("mousedown",this.onHandleMouseDown)),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove,!0),t.events.on(["viewChanged","zoom"],this.onViewChanged)}_canRemove(){return!this.isFocused}detect({x:t,y:n},r=0){return this.elements.find(i=>{const{x:s,y:o}=Vo(i),{width:a,height:l}=Ks(i);return s-r<t&&o-r<n&&s+a+r>t&&o+l+r>n})}draw(t){t.innerHTML="";const n="";this.elements.forEach((i,s)=>{const o=`class${s}`,a=Ks(i),l=Vo(i),c=i.id,{color:d,fontSize:u,font:h,strokeColor:g,strokeWidth:p,strokeType:m,background:_}=i.properties.style||hl;if(c===this.selectedId||this.selectedId===-1&&c===this.hoveredId)return;const y=Zc("g");y.setAttribute("fill",`${d}`),y.setAttribute("font-size",`${u}`),y.setAttribute("font-family",`${h}`);const f=Zc("rect");let x=!1;m&&m!=="none"&&(x=!0,f.setAttribute("stroke",g||"black"),f.setAttribute("stroke-width",`${p}`),m==="dashed"&&f.setAttribute("stroke-dasharray","5,5")),(_&&_.length||x)&&(x=!0,f.setAttribute("fill",_||"transparent")),x&&(f.setAttribute("width",`${a.width}`),f.setAttribute("height",`${a.height}`)),y.appendChild(f),VZ(i,y),y.setAttribute("transform",`translate(${l.x},${l.y})`),y.classList.add(o),y.setAttribute("data-annotation",`${i.id}`),y.setAttribute("data-annotation-type","text"),t.appendChild(y)});const r=Zc("style");r.innerHTML=n,t.firstChild&&t.insertBefore(r,t.firstChild)}getDefaultOptions(){return i0}refreshEditor(){if(+this.selectedId<0&&+this.hoveredId<0)return;const t=this.getById(this.selectedId)||this.getById(this.hoveredId),n=Ks(t),r=Vo(t),{font:i,fontSize:s,color:o,background:a,padding:l=0}=t.properties.style||hl;this.textArea.value=t.properties.content,this.editor.setPosition({x:r.x,y:r.y}),this.editor.setSize(n),this.textArea.style.fontFamily=i||"sans-serif",this.textArea.style.fontSize=`${s}px`,this.textArea.style.padding=`${l}px`,this.textArea.style.lineHeight=`${s}px`,this.textArea.style.boxSizing="border-box",this.textArea.style.color=o||"black",this.textArea.style.background=a||"transparent",this.textArea.placeholder=this.placeholder,this.layer.refresh()}select(t){super.select(t),this.textArea.focus()}destroy(){super.destroy(),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove,!0),this.ogma.events.off(this.onViewChanged)}}class HZ{constructor(){Ve(this,"links",{}),Ve(this,"linksByTargetId",{}),Ve(this,"linksByArrowId",{})}add(t,n,r,i,s){const o=vm(),a=t.id,l={id:o,arrow:a,target:r,targetType:i,connectionPoint:s,side:n};return this.links[o]=l,this.linksByTargetId[r]||(this.linksByTargetId[r]=[]),this.linksByTargetId[r].push(o),this.linksByArrowId[a]||(this.linksByArrowId[a]={}),this.linksByArrowId[a][n]=o,t.properties.link=t.properties.link||{},t.properties.link[n]={id:r,side:n,type:i,magnet:s},this}arrowIsLinked(t,n){var r;return!!((r=this.linksByArrowId[t])!=null&&r[n])}remove(t,n){var r,i;const s=t.id,o=(r=this.linksByArrowId[s])==null?void 0:r[n];if((i=t.properties.link)==null||delete i[n],!o)return this;const a=this.links[o];delete this.links[o];const l=this.linksByTargetId[a.target];for(let c=0;c<l.length;c++)if(l[c]===o){l.splice(c,1);break}return delete this.linksByArrowId[s][n],this}getArrowLink(t,n){var r;const i=(r=this.linksByArrowId[t])==null?void 0:r[n];return i?this.links[i]:null}getTargetLinks(t){var n;return((n=this.linksByTargetId[t])==null?void 0:n.map(r=>this.links[r]))??[]}}const Vi=e=>e.properties.type==="arrow",is=e=>e.properties.type==="text",WZ=e=>e.type==="FeatureCollection",XZ={magnetColor:"#3e8",detectMargin:20,magnetHandleRadius:5,magnetRadius:10,textPlaceholder:"Type here",arrowHandleSize:3.5,textHandleSize:3.5,minArrowHeight:20,maxArrowHeight:30},RA=["start","end"],DA=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:0,y:.5},{x:1,y:.5},{x:0,y:1},{x:.5,y:1},{x:1,y:1}];class YZ extends WR{constructor(t,n={}){super(),Ve(this,"arrows"),Ve(this,"texts"),Ve(this,"links",new HZ),Ve(this,"layer"),Ve(this,"annotations"),Ve(this,"ogma"),Ve(this,"options"),Ve(this,"selected",null),Ve(this,"updateTimeout",0),Ve(this,"hoveredNode",null),Ve(this,"dragged",null),Ve(this,"textToMagnet"),Ve(this,"activeLinks",[]),Ve(this,"_render",r=>{if(!this.dragged||this.textToMagnet===void 0)return;r.beginPath(),r.fillStyle="green";const i=this.ogma.view.getZoom();DA.forEach(s=>{if(!this.textToMagnet)return;const o=Ks(this.textToMagnet),a=Vo(this.textToMagnet),{x:l,y:c}=new ai(s.x,s.y).mul({x:o.width,y:o.height}).add(a);r.moveTo(l,c),r.arc(l,c,this.options.magnetHandleRadius/i,0,Math.PI*2)}),r.fill(),r.closePath()}),Ve(this,"_onFeatureDrag",(r,i)=>{const s=i;if(Vi(r)&&s!=="line"){const o=s==="start"?hp(r):yb(r);this._snapToText(r,s,o)||this._findAndSnapToNode(r,s,o)}else is(r)&&(this.activeLinks.forEach(({arrow:o,side:a,connectionPoint:l})=>{const c=this.getAnnotation(o),d=Ks(r),u=Vo(r),h=new ai(l.x,l.y).mul({x:d.width,y:d.height}).add(u);c.geometry.coordinates[a==="start"?0:1]=[h.x,h.y]}),this.activeLinks.length&&this.arrows.refreshLayer());this.layer.refresh()}),Ve(this,"_onFeatureDragEnd",r=>{this.dragged!==null&&Vi(r)&&hp(this.dragged)&&RA.forEach(i=>{this.links.getArrowLink(r.id,i)&&this.emit(BZ,{arrow:r,link:this.links.getArrowLink(r.id,i)})}),(is(r)||Vi(r))&&this.onUpdate(r),this.dragged=null,this.activeLinks=[],this.textToMagnet=void 0,this.annotations.forEach(i=>i.enableDetection()),this.layer.refresh()}),Ve(this,"_onFeatureDragStart",r=>{this.textToMagnet=void 0,Vi(r)?this.dragged=r:is(r)&&this.activeLinks.push(...this.links.getTargetLinks(r.id)),this.annotations.forEach(i=>{const s=i.getSelectedFeature();s&&s!==r&&i.unhover().unselect(),i.disableDetection()})}),Ve(this,"_onNodesDragStart",()=>{this.arrows.unhover().unselect(),this.texts.unhover().unselect()}),Ve(this,"_onNodesDrag",r=>{const{dx:i,dy:s}=r;this._moveNodes(r.nodes,i,s)}),Ve(this,"_onAdded",r=>{this.emit(Ry,r)}),Ve(this,"_onRemoved",r=>{this.emit(Fy,r)}),Ve(this,"_onUnselect",r=>{this.selected=null,this.emit(Py,r)}),Ve(this,"_onSelect",r=>{this.selected!==r&&(this.selected=r,this.emit(My,this.selected))}),Ve(this,"onUpdate",r=>{cancelAnimationFrame(this.updateTimeout),this.updateTimeout=requestAnimationFrame(()=>this._onUpdate(r))}),Ve(this,"_onUpdate",r=>{this.emit(Dy,r)}),this.options=this.setOptions({...XZ,...n}),this.ogma=t,this.arrows=new UZ(t,this.options),this.texts=new GZ(t,this.options),this.annotations=[this.arrows,this.texts],this.annotations.forEach(r=>{r.on(vb,this._onFeatureDragStart).on(xb,this._onFeatureDrag).on(Bd,this._onFeatureDragEnd).on(Dy,this.onUpdate).on(Py,this._onUnselect).on(My,this._onSelect).on(Ry,this._onAdded).on(Fy,this._onRemoved)}),this.ogma.events.on("nodesDragStart",this._onNodesDragStart).on("nodesDragProgress",this._onNodesDrag),this.layer=t.layers.addCanvasLayer(this._render),this.layer.moveToBottom()}_moveNodes(t,n,r){t.forEach(i=>{const s=this.links.getTargetLinks(i.getId()),o=i.getPosition();s.forEach(a=>{const l=this.getAnnotation(a.arrow),c=a.side,d=AA(l,c==="start"?"end":"start");let u=o;const h=+i.getAttribute("radius"),g=1e-6;(a.connectionPoint.x-(o.x-n)>g||a.connectionPoint.y-(o.y-r)>g)&&(u=CA(d,o,h)),r0(l,c,u.x,u.y)})}),this.arrows.refreshLayer()}_snapToText(t,n,r){const i=this.texts.detect(r,this.options.detectMargin);if(this.links.remove(t,n),!i)return!1;this.textToMagnet=i;const s=this.findMagnetPoint(DA,i,r);return s?(r0(t,n,s.point.x,s.point.y),this.links.add(t,n,i.id,"text",s.magnet),!0):!1}_findAndSnapToNode(t,n,r){const i=this.ogma.view.graphToScreenCoordinates(r),s=this.ogma.view.getElementAt(i);this.links.remove(t,n),s&&s.isNode?(this.hoveredNode=s,this.hoveredNode.setSelected(!0),this._snapToNode(t,n,s,i)):(this.hoveredNode&&this.hoveredNode.setSelected(!1),this.hoveredNode=null)}_snapToNode(t,n,r,i){const s=r.getPositionOnScreen(),o=+r.getAttribute("radius"),a=o*this.ogma.view.getZoom(),l=i.x-s.x,c=i.y-s.y,d=Math.sqrt(l*l+c*c),u=r.getPosition();if(d<a+this.options.detectMargin){let h=u;if(d>a/2){const g=AA(t,n==="end"?"start":"end");h=CA(g,h,o)}r0(t,n,h.x,h.y),this.links.add(t,n,r.getId(),"node",h)}}getSelected(){return this.selected}findMagnetPoint(t,n,r){let i;for(const s of t){const o=Ks(n),a=Vo(n),l=new ai(s.x,s.y).mul({x:o.width,y:o.height}).add(a),c=l.sub(r).length(),d=this.options.magnetRadius*this.ogma.view.getZoom();if(c<Math.max(d,this.options.magnetHandleRadius)){i={point:l,magnet:s};break}}return i}setOptions(t={}){return this.options={...this.options||{},...t},this.options}select(t){const n=this.getAnnotations().features.find(r=>r.id===t);return n?(Vi(n)?this.arrows.select(n.id):is(n)&&this.texts.select(n.id),this):this}unselect(){return this.selected?(Vi(this.selected)?this.arrows.unselect():is(this.selected)&&this.texts.unselect(),this):this}add(t){if(WZ(t))return t.features.forEach(n=>this.add(n)),this;switch(t.properties.type){case"text":this.texts.add(t);break;default:this.arrows.add(t),this.loadLink(t);break}return this}loadLink(t){if(t.properties.link)for(const n of RA){const r=t.properties.link[n];if(r)if(this.getAnnotation(r.id))this.links.add(t,n,r.id,r.type,r.magnet);else{if(!this.ogma.getNode(r.id))continue;this.links.add(t,n,r.id,r.type,r.magnet)}}}startArrow(t,n,r){this.cancelDrawing(),this.arrows.startDrawing(t,n,r)}startText(t,n,r){this.cancelDrawing(),this.texts.startDrawing(t,n,r)}cancelDrawing(){this.annotations.forEach(t=>t.cancelDrawing()),this.emit(OZ)}updateStyle(t,n){const r=this.getAnnotations().features.find(i=>i.id===t);return r?(Vi(r)?this.arrows.updateStyle(r,n):is(r)&&this.texts.updateStyle(r,n),this.onUpdate(r),this):this}getAnnotations(){const t={type:"FeatureCollection",features:[]};return this.annotations.forEach(n=>{t.features=[...t.features,...n.getElements()]}),t}getAnnotation(t){return this.getAnnotations().features.find(n=>n.id===t)}destroy(){this.annotations.forEach(t=>t.destroy()),this.layer.destroy()}}const zy=[8,10,12,14,16,24,32,48,64,72],zA="none",ZR="#333333",s0=["#FFFFFF","#F44E3B","#FE9200","#FCDC00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#1E88E5","#333333","#808080","#cccccc"],qZ=["Roboto","Helvetica Neue","Helvetica","Arial","sans-serif","Georgia, serif","Menlo","Monaco","Consolas","Courier New","monospace"].sort((e,t)=>e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase())),QR={head:"arrow",strokeColor:ZR,strokeWidth:5},ZZ=.25,KR={font:"Roboto",fontSize:zy[2].toString(),padding:zy[2]*ZZ,color:ZR,strokeType:zA,background:zA};function QZ(e){return e.reduce((t,n)=>t+n,0)/e.length}function OA(e,t=0,n=1){return t+(n-t)*e}function BA(e,t=0,n=1){return(e-t)/(n-t)}const JR=L.createContext(void 0),e3=()=>L.useContext(JR),KZ=(e,t)=>{switch(t.type){case"add":return{...e,features:[...e.features,t.payload]};case"remove":return{...e,features:e.features.filter(n=>n.id!==t.payload.id)};case"update":return{...e,features:e.features.map(n=>n.id===t.payload.id?t.payload:n)};default:return e}},JZ=({children:e})=>{const t=sr(),[n,r]=L.useReducer(KZ,{type:"FeatureCollection",features:[]}),[i,s]=L.useState(null),[o,a]=L.useState(QR),[l,c]=L.useState(KR),[d,u]=L.useState(),[h,g]=L.useState(1),[p,m]=L.useState(1);return L.useEffect(()=>{if(!t)return;const _=new YZ(t,{minArrowHeight:1}),y=QZ(t.getNodes().getAttribute("radius"))/5,f=h;return a({...o,strokeWidth:(o.strokeWidth||1)*f}),g(f),m(y),_.on("select",x=>{Vi(x)?a({...x.properties.style||{}}):is(x)&&c({...x.properties.style||{}}),s(x)}).on("unselect",()=>{s(null)}),u(_),()=>{d==null||d.destroy()}},[t]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="arrow"&&d.updateStyle(i.id,o)},[d,o]),L.useEffect(()=>{d&&i&&(i==null?void 0:i.properties.type)==="text"&&d.updateStyle(i.id,l)},[d,l]),at.jsx(JR.Provider,{value:{annotations:n,updateAnnotations:r,currentAnnotation:i,setCurrentAnnotation:s,textStyle:l,setTextStyle:c,arrowStyle:o,setArrowStyle:a,arrowWidthFactor:h,setArrowWidthFactor:g,textSizeFactor:p,setTextSizeFactor:m,editor:d,setEditor:u},children:e})};function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function eQ(e){if(Array.isArray(e))return e}function tQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t3(e,t){if(e){if(typeof e=="string")return Oy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oy(e,t)}}function nQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(e,t){return eQ(e)||tQ(e,t)||t3(e,t)||nQ()}function rQ(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Re(e,t){if(e==null)return{};var n=rQ(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var iQ={},Qo={},n3={};function sQ(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return t>>>0}var oQ=sQ,r3={};(function(e){e.__esModule=!0,e.default=void 0;function t(a,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,l,c){return l&&t(a.prototype,l),c&&t(a,c),a}var r=typeof process<"u"&&iQ&&!0,i=function(l){return Object.prototype.toString.call(l)==="[object String]"},s=function(){function a(c){var d=c===void 0?{}:c,u=d.name,h=u===void 0?"stylesheet":u,g=d.optimizeForSpeed,p=g===void 0?r:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;o(i(h),"`name` must be a string"),this._name=h,this._deletedRulePlaceholder="#"+h+"-deleted-rule____{}",o(typeof p=="boolean","`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=p,this._isBrowser=_,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var y=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=y?y.getAttribute("content"):null}var l=a.prototype;return l.setOptimizeForSpeed=function(d){o(typeof d=="boolean","`setOptimizeForSpeed` accepts a boolean"),o(this._rulesCount===0,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=d,this.inject()},l.isOptimizeForSpeed=function(){return this._optimizeForSpeed},l.inject=function(){var d=this;if(o(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(h,g){return typeof g=="number"?d._serverSheet.cssRules[g]={cssText:h}:d._serverSheet.cssRules.push({cssText:h}),g},deleteRule:function(h){d._serverSheet.cssRules[h]=null}}},l.getSheetForTag=function(d){if(d.sheet)return d.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===d)return document.styleSheets[u]},l.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},l.insertRule=function(d,u){if(o(i(d),"`insertRule` accepts only strings"),!this._isBrowser)return typeof u!="number"&&(u=this._serverSheet.cssRules.length),this._serverSheet.insertRule(d,u),this._rulesCount++;if(this._optimizeForSpeed){var h=this.getSheet();typeof u!="number"&&(u=h.cssRules.length);try{h.insertRule(d,u)}catch{return r||console.warn(`StyleSheet: illegal rule: 

`+d+`

See https://stackoverflow.com/q/20007992 for more info`),-1}}else{var g=this._tags[u];this._tags.push(this.makeStyleTag(this._name,d,g))}return this._rulesCount++},l.replaceRule=function(d,u){if(this._optimizeForSpeed||!this._isBrowser){var h=this._isBrowser?this.getSheet():this._serverSheet;if(u.trim()||(u=this._deletedRulePlaceholder),!h.cssRules[d])return d;h.deleteRule(d);try{h.insertRule(u,d)}catch{r||console.warn(`StyleSheet: illegal rule: 

`+u+`

See https://stackoverflow.com/q/20007992 for more info`),h.insertRule(this._deletedRulePlaceholder,d)}}else{var g=this._tags[d];o(g,"old rule at index `"+d+"` not found"),g.textContent=u}return d},l.deleteRule=function(d){if(!this._isBrowser){this._serverSheet.deleteRule(d);return}if(this._optimizeForSpeed)this.replaceRule(d,"");else{var u=this._tags[d];o(u,"rule at index `"+d+"` not found"),u.parentNode.removeChild(u),this._tags[d]=null}},l.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach(function(d){return d&&d.parentNode.removeChild(d)}),this._tags=[]):this._serverSheet.cssRules=[]},l.cssRules=function(){var d=this;return this._isBrowser?this._tags.reduce(function(u,h){return h?u=u.concat(Array.prototype.map.call(d.getSheetForTag(h).cssRules,function(g){return g.cssText===d._deletedRulePlaceholder?null:g})):u.push(null),u},[]):this._serverSheet.cssRules},l.makeStyleTag=function(d,u,h){u&&o(i(u),"makeStyleTag acceps only strings as second parameter");var g=document.createElement("style");this._nonce&&g.setAttribute("nonce",this._nonce),g.type="text/css",g.setAttribute("data-"+d,""),u&&g.appendChild(document.createTextNode(u));var p=document.head||document.getElementsByTagName("head")[0];return h?p.insertBefore(g,h):p.appendChild(g),g},n(a,[{key:"length",get:function(){return this._rulesCount}}]),a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheet: "+l+".")}})(r3);(function(e){e.__esModule=!0,e.default=void 0;var t=r(oQ),n=r(r3);function r(a){return a&&a.__esModule?a:{default:a}}var i=function(l){return l.replace(/\/style/gi,"\\/style")},s=function(){function a(c){var d=c===void 0?{}:c,u=d.styleSheet,h=u===void 0?null:u,g=d.optimizeForSpeed,p=g===void 0?!1:g,m=d.isBrowser,_=m===void 0?typeof window<"u":m;this._sheet=h||new n.default({name:"styled-jsx",optimizeForSpeed:p}),this._sheet.inject(),h&&typeof p=="boolean"&&(this._sheet.setOptimizeForSpeed(p),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=_,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var l=a.prototype;return l.add=function(d){var u=this;this._optimizeForSpeed===void 0&&(this._optimizeForSpeed=Array.isArray(d.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(_,y){return _[y]=0,_},{}));var h=this.getIdAndRules(d),g=h.styleId,p=h.rules;if(g in this._instancesCounts){this._instancesCounts[g]+=1;return}var m=p.map(function(_){return u._sheet.insertRule(_)}).filter(function(_){return _!==-1});this._indices[g]=m,this._instancesCounts[g]=1},l.remove=function(d){var u=this,h=this.getIdAndRules(d),g=h.styleId;if(o(g in this._instancesCounts,"styleId: `"+g+"` not found"),this._instancesCounts[g]-=1,this._instancesCounts[g]<1){var p=this._fromServer&&this._fromServer[g];p?(p.parentNode.removeChild(p),delete this._fromServer[g]):(this._indices[g].forEach(function(m){return u._sheet.deleteRule(m)}),delete this._indices[g]),delete this._instancesCounts[g]}},l.update=function(d,u){this.add(u),this.remove(d)},l.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},l.cssRules=function(){var d=this,u=this._fromServer?Object.keys(this._fromServer).map(function(g){return[g,d._fromServer[g]]}):[],h=this._sheet.cssRules();return u.concat(Object.keys(this._indices).map(function(g){return[g,d._indices[g].map(function(p){return h[p].cssText}).join(d._optimizeForSpeed?"":`
`)]}).filter(function(g){return!!g[1]}))},l.createComputeId=function(){var d={};return function(u,h){if(!h)return"jsx-"+u;var g=String(h),p=u+g;return d[p]||(d[p]="jsx-"+(0,t.default)(u+"-"+g)),d[p]}},l.createComputeSelector=function(d){d===void 0&&(d=/__jsx-style-dynamic-selector/g);var u={};return function(h,g){this._isBrowser||(g=i(g));var p=h+g;return u[p]||(u[p]=g.replace(d,h)),u[p]}},l.getIdAndRules=function(d){var u=this,h=d.children,g=d.dynamic,p=d.id;if(g){var m=this.computeId(p,g);return{styleId:m,rules:Array.isArray(h)?h.map(function(_){return u.computeSelector(m,_)}):[this.computeSelector(m,h)]}}return{styleId:this.computeId(p),rules:Array.isArray(h)?h:[h]}},l.selectFromServer=function(){var d=Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]'));return d.reduce(function(u,h){var g=h.id.slice(2);return u[g]=h,u},{})},a}();e.default=s;function o(a,l){if(!a)throw new Error("StyleSheetRegistry: "+l+".")}})(n3);(function(e){e.__esModule=!0,e.default=s,e.flush=o;var t=E,n=r(n3);function r(a){return a&&a.__esModule?a:{default:a}}var i=new n.default;function s(a){return typeof window>"u"?(i.add(a),null):((0,t.useLayoutEffect)(function(){return i.add(a),function(){i.remove(a)}},[a.id,String(a.dynamic)]),null)}s.dynamic=function(a){return a.map(function(l){var c=l[0],d=l[1];return i.computeId(c,d)}).join(" ")};function o(){var a=i.cssRules();return i.flush(),a}})(Qo);var I=Qo.default||Qo;I.flush=Qo.flush;var pp={};(function(e){e.__esModule=!0,e.default=i,e.flushToHTML=s;var t=r(E),n=Qo.default||Qo;n.flush=Qo.flush;function r(o){return o&&o.__esModule?o:{default:o}}function i(o){return o===void 0&&(o={}),(0,n.flush)().map(function(a){var l=a[0],c=a[1];return t.default.createElement("style",{id:"__"+l,key:"__"+l,nonce:o.nonce?o.nonce:void 0,dangerouslySetInnerHTML:{__html:c}})})}function s(o){return o===void 0&&(o={}),(0,n.flush)().reduce(function(a,l){var c=l[0],d=l[1];return a+='<style id="__'+c+'"'+(o.nonce?' nonce="'+o.nonce+'"':"")+">"+d+"</style>",a},"")}})(pp);var i3=pp.default||pp;i3.flushToHTML=pp.flushToHTML;function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}var s3={sans:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace"},mp={xs:{min:"0",max:"650px"},sm:{min:"650px",max:"900px"},md:{min:"900px",max:"1280px"},lg:{min:"1280px",max:"1920px"},xl:{min:"1920px",max:"10000px"}},o3={gap:"16pt",gapNegative:"-16pt",gapHalf:"8pt",gapHalfNegative:"-8pt",gapQuarter:"4pt",gapQuarterNegative:"-4pt",pageMargin:"16pt",pageWidth:"750pt",pageWidthWithMargin:"782pt",breakpointMobile:mp.xs.max,breakpointTablet:mp.sm.max,radius:"5px",unit:"16px"},aQ={accents_1:"#fafafa",accents_2:"#eaeaea",accents_3:"#999",accents_4:"#888",accents_5:"#666",accents_6:"#444",accents_7:"#333",accents_8:"#111",background:"#fff",foreground:"#000",selection:"#79ffe1",secondary:"#666",code:"#f81ce5",border:"#eaeaea",error:"#e00",errorLight:"#ff1a1a",errorLighter:"#f7d4d6",errorDark:"#c50000",success:"#0070f3",successLight:"#3291ff",successLighter:"#d3e5ff",successDark:"#0761d1",warning:"#f5a623",warningLight:"#f7b955",warningLighter:"#ffefcf",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#0070f3"},lQ={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 4px 4px 0 rgba(0, 0, 0, 0.02)",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 5px 10px rgba(0, 0, 0, 0.12)",shadowMedium:"0 8px 30px rgba(0, 0, 0, 0.12)",shadowLarge:"0 30px 60px rgba(0, 0, 0, 0.12)",portalOpacity:.25},cQ=s3,dQ=mp,uQ=o3,bb={type:"light",font:cQ,layout:uQ,palette:aQ,breakpoints:dQ,expressiveness:lQ},hQ={accents_1:"#111",accents_2:"#333",accents_3:"#444",accents_4:"#666",accents_5:"#888",accents_6:"#999",accents_7:"#eaeaea",accents_8:"#fafafa",background:"#000",foreground:"#fff",selection:"#f81ce5",secondary:"#888",code:"#79ffe1",border:"#333",error:"#e00",errorLighter:"#f7d4d6",errorLight:"#ff1a1a",errorDark:"#c50000",success:"#0070f3",successLighter:"#d3e5ff",successLight:"#3291ff",successDark:"#0761d1",warning:"#f5a623",warningLighter:"#ffefcf",warningLight:"#f7b955",warningDark:"#ab570a",cyan:"#50e3c2",cyanLighter:"#aaffec",cyanLight:"#79ffe1",cyanDark:"#29bc9b",violet:"#7928ca",violetLighter:"#e3d7fc",violetLight:"#8a63d2",violetDark:"#4c2889",purple:"#f81ce5",alert:"#ff0080",magenta:"#eb367f",link:"#3291ff"},gQ={linkStyle:"none",linkHoverStyle:"none",dropdownBoxShadow:"0 0 0 1px #333",scrollerStart:"rgba(255, 255, 255, 1)",scrollerEnd:"rgba(255, 255, 255, 0)",shadowSmall:"0 0 0 1px #333",shadowMedium:"0 0 0 1px #333",shadowLarge:"0 0 0 1px #333",portalOpacity:.75},pQ=s3,mQ=mp,fQ=o3,a3={type:"dark",font:pQ,layout:fQ,palette:hQ,breakpoints:mQ,expressiveness:gQ},vh=function(t){return t&&By(t)==="object"},_Q=function e(t,n){if(!vh(n)||!vh(t))return t;for(var r=Object.keys(t),i={},s=0,o=r;s<o.length;s++){var a=o[s],l=t[a],c=n[a];Array.isArray(l)&&Array.isArray(c)?i[a]=c.concat(l):vh(l)&&vh(c)?i[a]=e(l,xe({},c)):c?i[a]=c:i[a]=l}return i},l3=function(){return[bb,a3]},yQ=function(){return bb},bm=function(t){if(!t)return!1;var n=l3(),r=n.find(function(i){return i.type===t});return!r},xQ=function(t){if(!t)return!1;var n=typeof t=="string",r=n?t:t.type;return!bm(r)},vQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return!!t.find(function(n){return bm(n.type)})},wb=function(t,n){if(!bm(n.type))throw new Error("Duplicate or unavailable theme type");return _Q(t,n)},bQ=function(t){return wb(a3,t)},wQ=function(t){return wb(bb,t)},EQ={isPresetTheme:xQ,isAvailableThemeType:bm,hasUserCustomTheme:vQ,getPresets:l3,getPresetStaticTheme:yQ,create:wb,createFromDark:bQ,createFromLight:wQ},SQ=EQ.getPresetStaticTheme(),kQ=E.createContext(SQ),Oe=function(){return E.useContext(kQ)},AQ=function(t){var n=t.children,r=t.isRight,i=Oe();return E.createElement("span",{className:I.dynamic([["3089782703",[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]]])+" "+((r?"right":"")||"")},n,E.createElement(I,{id:"3089782703",dynamic:[i.layout.gapHalf,i.palette.accents_4,i.palette.accents_1,i.layout.radius,i.layout.radius,i.palette.border,i.palette.border,i.palette.border,i.layout.radius,i.layout.radius,i.palette.border]},"span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:initial;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none;margin:0;padding:0 ".concat(i.layout.gapHalf,";color:").concat(i.palette.accents_4,";background-color:").concat(i.palette.accents_1,";border-top-left-radius:").concat(i.layout.radius,";border-bottom-left-radius:").concat(i.layout.radius,";border-top:1px solid ").concat(i.palette.border,";border-left:1px solid ").concat(i.palette.border,";border-bottom:1px solid ").concat(i.palette.border,";font-size:inherit;line-height:1;}span.right.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";border-left:0;border-right:1px solid ").concat(i.palette.border,";}")))},jA=E.memo(AQ),c3=function(t){var n=t.children,r=Oe();return E.createElement("label",{className:I.dynamic([["1278828862",[r.palette.accents_6]]])},n,E.createElement(I,{id:"1278828862",dynamic:[r.palette.accents_6]},"label.__jsx-style-dynamic-selector{display:block;font-weight:normal;color:".concat(r.palette.accents_6,";padding:0 0 0 1px;margin-bottom:0.5em;font-size:1em;line-height:1.5;}label.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}label.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};c3.displayName="GeistInputBlockLabel";var CQ=E.memo(c3),d3=function(t){var n=t.icon,r=t.clickable,i=t.onClick;return E.createElement("span",{onClick:i,className:I.dynamic([["4247656379",[r?"pointer":"default",r?"auto":"none"]]])+" input-icon"},n,E.createElement(I,{id:"4247656379",dynamic:[r?"pointer":"default",r?"auto":"none"]},".input-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin:0;padding:0;line-height:1;position:relative;cursor:".concat(r?"pointer":"default",";pointer-events:").concat(r?"auto":"none",";}.input-icon.__jsx-style-dynamic-selector svg{width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))};d3.displayName="GeistInputIcon";var UA=E.memo(d3),TQ=function(t){var n=t.onClick,r=t.disabled,i=t.visible,s=Oe(),o=function(l){l.preventDefault(),l.stopPropagation(),l.nativeEvent.stopImmediatePropagation(),n&&n(l)};return E.createElement("div",{onClick:o,className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])+" "+"clear-icon ".concat(i?"visible":"")},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1567030211",[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]]])})),E.createElement(I,{id:"1567030211",dynamic:[r?"not-allowed":"pointer",s.palette.accents_3,r?s.palette.accents_3:s.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(var(--input-height) - 2px);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:".concat(r?"not-allowed":"pointer",";-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;margin:0;padding:0;color:").concat(s.palette.accents_3,";visibility:hidden;opacity:0;}.visible.__jsx-style-dynamic-selector{visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r?s.palette.accents_3:s.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:calc(var(--input-height) - 2px);height:calc(var(--input-height) - 2px);-webkit-transform:scale(0.44);-ms-transform:scale(0.44);transform:scale(0.44);}")))},LQ=E.memo(TQ),u3=function(t,n){var r={default:{color:t.foreground,borderColor:t.border,hoverBorder:t.accents_5},secondary:{color:t.foreground,borderColor:t.secondary,hoverBorder:t.secondary},success:{color:t.foreground,borderColor:t.successLight,hoverBorder:t.success},warning:{color:t.foreground,borderColor:t.warningLight,hoverBorder:t.warning},error:{color:t.error,borderColor:t.error,hoverBorder:t.errorDark}};return n?r[n]:r.default},h3={disabled:!1,readOnly:!1,clearable:!1,iconClickable:!1,type:"default",htmlType:"text",autoComplete:"off",className:"",placeholder:"",initialValue:""},ur=function(t){return"".concat(t)},NQ={getScaleableProps:function(){},SCALES:{pl:ur,pr:ur,pb:ur,pt:ur,px:ur,py:ur,mb:ur,ml:ur,mr:ur,mt:ur,mx:ur,my:ur,width:ur,height:ur,font:ur},unit:"16px"},g3=E.createContext(NQ),Ge=function(){return E.useContext(g3)},p3=function(){return Math.random().toString(32).slice(2,10)},Qc=function(t,n){var r=E.Children.map(t,function(i){return E.isValidElement(i)?i.type:null});return(r||[]).includes(n)},mi=function(t,n){var r=[],i=E.Children.map(t,function(o){return E.isValidElement(o)&&o.type===n?(r.push(o),null):o}),s=r.length>=0?r:void 0;return[i,s]},m3=function(t,n,r){var i=[],s=Array.isArray(r),o=E.Children.map(t,function(l){return E.isValidElement(l)?l.props?s?r.includes(l.props[n])?(i.push(l),null):l:l.props[n]===r?(i.push(l),null):l:l:null}),a=i.length>=0?i:void 0;return[o,a]},IQ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(E.Children.count(t)===0)return[];var i=r.length===0,s=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)};return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(i)return s(o,n);var a=r.find(function(l){return l===o.type});return a?s(o,n):o})},MQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(E.Children.count(t)===0)return[];var r=n.length===0,i=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E.cloneElement(a,l)},s=0;return E.Children.map(t,function(o){if(!E.isValidElement(o))return o;if(s=s+1,r)return i(o,{index:s});var a=n.find(function(l){return l===o.type});return a?i(o,{index:s}):(s=s-1,o)})},PQ=function(t){return t?typeof t!="function"?t:t():null},f3=function(t,n){if(!t||!n)return!1;for(var r=n;r;){if(r===t)return!0;r=r.parentNode}return!1},_3=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},$A=function(){return _3()?navigator.platform.toUpperCase().indexOf("MAC")>=0:!1},FQ=function(t){return t!==void 0&&!Number.isNaN(+t)},RQ=["children"];function DQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zQ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function zQ(e,t){if(e){if(typeof e=="string")return VA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(e,t)}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var OQ=function(t){if(t===1)return t;var n=Math.abs((t-1)/2);return t>1?1+n:1-n},He=function(t){var n=L.forwardRef(function(r,i){var s,o,a,l,c,d,u,h,g,p,m,_,y,f,x,v,w,b,S,k,C,A,N,R,B,W,F,T,H,G,q,te,J=r.children,ue=Re(r,RQ),Te=Oe(),ce=Te.layout,_e=ue.paddingLeft,ze=ue.pl,Ye=ue.paddingRight,qe=ue.pr,ge=ue.paddingTop,ye=ue.pt,Ze=ue.paddingBottom,tt=ue.pb,ut=ue.marginTop,st=ue.mt,Z=ue.marginRight,ee=ue.mr,se=ue.marginBottom,oe=ue.mb,he=ue.marginLeft,pe=ue.ml,De=ue.px,Ie=ue.py,Pe=ue.mx,nt=ue.my,rt=ue.width,Rt=ue.height,It=ue.font,Mt=ue.w,Wt=ue.h,vt=ue.margin,lt=ue.padding,Ct=ue.unit,Pt=Ct===void 0?ce.unit:Ct,Dt=ue.scale,At=Dt===void 0?1:Dt,bt=function(ht){return function(xt,gt){xt===0&&(xt=1,gt=gt||0);var jt=OQ(At)*xt;if(typeof ht>"u")return typeof gt<"u"?"".concat(gt):"calc(".concat(jt," * ").concat(Pt,")");if(!FQ(ht))return"".concat(ht);var Jt=jt*Number(ht);return"calc(".concat(Jt," * ").concat(Pt,")")}},Gt=function(ht){if(!Array.isArray(ht))return ue[ht];var xt=void 0,gt=DQ(ht),jt;try{for(gt.s();!(jt=gt.n()).done;){var Jt=jt.value,pn=ue[Jt];typeof pn<"u"&&(xt=pn)}}catch(zn){gt.e(zn)}finally{gt.f()}return xt},Xt={unit:Pt,SCALES:{pt:bt((s=(o=ge??ye)!==null&&o!==void 0?o:Ie)!==null&&s!==void 0?s:lt),pr:bt((a=(l=Ye??qe)!==null&&l!==void 0?l:De)!==null&&a!==void 0?a:lt),pb:bt((c=(d=Ze??tt)!==null&&d!==void 0?d:Ie)!==null&&c!==void 0?c:lt),pl:bt((u=(h=_e??ze)!==null&&h!==void 0?h:De)!==null&&u!==void 0?u:lt),px:bt((g=(p=(m=(_=De??_e)!==null&&_!==void 0?_:Ye)!==null&&m!==void 0?m:ze)!==null&&p!==void 0?p:qe)!==null&&g!==void 0?g:lt),py:bt((y=(f=(x=(v=Ie??ge)!==null&&v!==void 0?v:Ze)!==null&&x!==void 0?x:ye)!==null&&f!==void 0?f:tt)!==null&&y!==void 0?y:lt),mt:bt((w=(b=ut??st)!==null&&b!==void 0?b:nt)!==null&&w!==void 0?w:vt),mr:bt((S=(k=Z??ee)!==null&&k!==void 0?k:Pe)!==null&&S!==void 0?S:vt),mb:bt((C=(A=se??oe)!==null&&A!==void 0?A:nt)!==null&&C!==void 0?C:vt),ml:bt((N=(R=he??pe)!==null&&R!==void 0?R:Pe)!==null&&N!==void 0?N:vt),mx:bt((B=(W=(F=(T=Pe??he)!==null&&T!==void 0?T:Z)!==null&&F!==void 0?F:pe)!==null&&W!==void 0?W:ee)!==null&&B!==void 0?B:vt),my:bt((H=(G=(q=(te=nt??ut)!==null&&te!==void 0?te:se)!==null&&q!==void 0?q:st)!==null&&G!==void 0?G:oe)!==null&&H!==void 0?H:vt),width:bt(rt??Mt),height:bt(Rt??Wt),font:bt(It)},getScaleableProps:Gt};return E.createElement(g3.Provider,{value:Xt},E.createElement(t,xe({},ue,{ref:i}),J))});return n.displayName="Scaleable".concat(t.displayName||"Wrapper"),n};function BQ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jQ(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var c=n.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function jQ(e,t){if(e){if(typeof e=="string")return GA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(e,t)}}function GA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UQ=["paddingLeft","pl","paddingRight","pr","paddingTop","pt","paddingBottom","pb","marginTop","mt","marginRight","mr","marginBottom","mb","marginLeft","ml","px","py","mx","my","width","height","font","unit","scale","size"],Ue=function(t){if(!t)return{};var n=Object.keys(t).filter(function(a){return a!==""}),r={},i=BQ(n),s;try{for(i.s();!(s=i.n()).done;){var o=s.value;UQ.includes(o)||(r[o]=t[o])}}catch(a){i.e(a)}finally{i.f()}return r},$Q=["label","labelRight","type","htmlType","icon","iconRight","iconClickable","onIconClick","initialValue","onChange","readOnly","value","onClearClick","clearable","className","onBlur","onFocus","autoComplete","placeholder","children","disabled"],VQ=function(t,n){return xe({},n,{target:t,currentTarget:t})},Eb=E.forwardRef(function(e,t){var n=e.label,r=e.labelRight,i=e.type,s=e.htmlType,o=e.icon,a=e.iconRight,l=e.iconClickable,c=e.onIconClick,d=e.initialValue,u=e.onChange,h=e.readOnly,g=e.value,p=e.onClearClick,m=e.clearable,_=e.className,y=e.onBlur,f=e.onFocus,x=e.autoComplete,v=e.placeholder,w=e.children,b=e.disabled,S=Re(e,$Q),k=Oe(),C=Ge(),A=C.SCALES,N=L.useRef(null);L.useImperativeHandle(t,function(){return N.current});var R=L.useState(d),B=Fe(R,2),W=B[0],F=B[1],T=L.useState(!1),H=Fe(T,2),G=H[0],q=H[1],te=L.useMemo(function(){return g!==void 0},[g]),J=L.useMemo(function(){return r?"right-label":n?"left-label":""},[n,r]),ue=L.useMemo(function(){return a?"right-icon":o?"left-icon":""},[o,a]),Te=L.useMemo(function(){return u3(k.palette,i)},[k.palette,i]),ce=Te.color,_e=Te.borderColor,ze=Te.hoverBorder,Ye=function(ee){b||h||(F(ee.target.value),u&&u(ee))},qe=function(ee){if(F(""),p&&p(ee),!!N.current){var se=VQ(N.current,ee);se.target.value="",u&&u(se),N.current.focus()}},ge=function(ee){q(!0),f&&f(ee)},ye=function(ee){q(!1),y&&y(ee)},Ze=function(ee){b||c&&c(ee)},tt=L.useMemo(function(){return{clickable:l,onClick:Ze}},[l,Ze]);L.useEffect(function(){te&&F(g)});var ut=te?{value:W}:{defaultValue:d},st=xe({},S,ut);return E.createElement("div",{className:I.dynamic([["3855354928",[A.height(2.25),A.font(.875),A.width(1,"initial"),A.pt(0),A.pr(0),A.pb(0),A.pl(0),A.mt(0),A.mr(0),A.mb(0),A.ml(0),A.width(1,"initial"),k.layout.radius,_e,k.palette.accents_1,k.palette.accents_2,ze,A.font(.875),ce,k.palette.accents_3,k.palette.background,ce]]])+" with-label"},w&&E.createElement(CQ,null,w),E.createElement("div",{className:I.dynamic([["3855354928",[A.height(2.25),A.font(.875),A.width(1,"initial"),A.pt(0),A.pr(0),A.pb(0),A.pl(0),A.mt(0),A.mr(0),A.mb(0),A.ml(0),A.width(1,"initial"),k.layout.radius,_e,k.palette.accents_1,k.palette.accents_2,ze,A.font(.875),ce,k.palette.accents_3,k.palette.background,ce]]])+" "+"input-container ".concat(_)},n&&E.createElement(jA,null,n),E.createElement("div",{className:I.dynamic([["3855354928",[A.height(2.25),A.font(.875),A.width(1,"initial"),A.pt(0),A.pr(0),A.pb(0),A.pl(0),A.mt(0),A.mr(0),A.mb(0),A.ml(0),A.width(1,"initial"),k.layout.radius,_e,k.palette.accents_1,k.palette.accents_2,ze,A.font(.875),ce,k.palette.accents_3,k.palette.background,ce]]])+" "+"input-wrapper ".concat(G?"hover":""," ").concat(b?"disabled":""," ").concat(J)},o&&E.createElement(UA,xe({icon:o},tt)),E.createElement("input",xe({type:s,ref:N,placeholder:v,disabled:b,readOnly:h,onFocus:ge,onBlur:ye,onChange:Ye,autoComplete:x},st,{className:I.dynamic([["3855354928",[A.height(2.25),A.font(.875),A.width(1,"initial"),A.pt(0),A.pr(0),A.pb(0),A.pl(0),A.mt(0),A.mr(0),A.mb(0),A.ml(0),A.width(1,"initial"),k.layout.radius,_e,k.palette.accents_1,k.palette.accents_2,ze,A.font(.875),ce,k.palette.accents_3,k.palette.background,ce]]])+" "+(st&&st.className!=null&&st.className||"".concat(b?"disabled":""," ").concat(ue))})),m&&E.createElement(LQ,{visible:!!(N.current&&N.current.value!==""),disabled:b||h,onClick:qe}),a&&E.createElement(UA,xe({icon:a},tt))),r&&E.createElement(jA,{isRight:!0},r)),E.createElement(I,{id:"3855354928",dynamic:[A.height(2.25),A.font(.875),A.width(1,"initial"),A.pt(0),A.pr(0),A.pb(0),A.pl(0),A.mt(0),A.mr(0),A.mb(0),A.ml(0),A.width(1,"initial"),k.layout.radius,_e,k.palette.accents_1,k.palette.accents_2,ze,A.font(.875),ce,k.palette.accents_3,k.palette.background,ce]},".with-label.__jsx-style-dynamic-selector{display:inline-block;box-sizing:border-box;-webkit-box-align:center;--input-height:".concat(A.height(2.25),";font-size:").concat(A.font(.875),";width:").concat(A.width(1,"initial"),";height:var(--input-height);padding:").concat(A.pt(0)," ").concat(A.pr(0)," ").concat(A.pb(0)," ").concat(A.pl(0),";margin:").concat(A.mt(0)," ").concat(A.mr(0)," ").concat(A.mb(0)," ").concat(A.ml(0),";}.input-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:").concat(A.width(1,"initial"),";height:var(--input-height);}.input-wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:").concat(k.layout.radius,";border:1px solid ").concat(_e,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;}.input-wrapper.left-label.__jsx-style-dynamic-selector{border-top-left-radius:0;border-bottom-left-radius:0;}.input-wrapper.right-label.__jsx-style-dynamic-selector{border-top-right-radius:0;border-bottom-right-radius:0;}.input-wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(k.palette.accents_1,";border-color:").concat(k.palette.accents_2,";cursor:not-allowed;}input.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}.input-wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(ze,";}input.__jsx-style-dynamic-selector{margin:0.25em 0.625em;padding:0;box-shadow:none;font-size:").concat(A.font(.875),";background-color:transparent;border:none;color:").concat(ce,";outline:none;border-radius:0;width:100%;min-width:0;-webkit-appearance:none;}input.left-icon.__jsx-style-dynamic-selector{margin-left:0;}input.right-icon.__jsx-style-dynamic-selector{margin-right:0;}.__jsx-style-dynamic-selector::-webkit-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(k.palette.accents_3,";}.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(k.palette.accents_3,";}.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(k.palette.accents_3,";}.__jsx-style-dynamic-selector::placeholder,.__jsx-style-dynamic-selector::-moz-placeholder,.__jsx-style-dynamic-selector:-ms-input-placeholder,.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:").concat(k.palette.accents_3,";}.__jsx-style-dynamic-selector::-ms-reveal{display:none !important;}input.__jsx-style-dynamic-selector:-webkit-autofill,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,input.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(k.palette.background," inset !important;-webkit-text-fill-color:").concat(ce," !important;}")))});Eb.defaultProps=h3;Eb.displayName="GeistInput";var wm=He(Eb),or=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n},y3=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};or("default","secondary","success","warning","error","abort","secondary-light","success-light","warning-light","error-light");or("default","secondary","success","warning","error");or("default","secondary","success","warning","error","dark","lite");or("default","secondary","success","warning","error","dark","lite","alert","purple","violet","cyan");or("default","silent","prevent");or("hover","click");or("top","topStart","topEnd","left","leftStart","leftEnd","bottom","bottomStart","bottomEnd","right","rightStart","rightEnd");or("start","center","end","left","right");var GQ=["type","disabled","readOnly","onFocus","onBlur","className","initialValue","onChange","value","placeholder","resize"];or("none","both","horizontal","vertical","initial","inherit");var HQ={initialValue:"",type:"default",disabled:!1,readOnly:!1,className:"",resize:"none"},Sb=E.forwardRef(function(e,t){var n=e.type,r=e.disabled,i=e.readOnly,s=e.onFocus,o=e.onBlur,a=e.className,l=e.initialValue,c=e.onChange,d=e.value,u=e.placeholder,h=e.resize,g=Re(e,GQ),p=Oe(),m=Ge(),_=m.SCALES,y=L.useRef(null);L.useImperativeHandle(t,function(){return y.current});var f=L.useMemo(function(){return d!==void 0},[d]),x=L.useState(l),v=Fe(x,2),w=v[0],b=v[1],S=L.useState(!1),k=Fe(S,2),C=k[0],A=k[1],N=L.useMemo(function(){return u3(p.palette,n)},[p.palette,n]),R=N.color,B=N.borderColor,W=N.hoverBorder,F=function(J){r||i||(b(J.target.value),c&&c(J))},T=function(J){A(!0),s&&s(J)},H=function(J){A(!1),o&&o(J)};L.useEffect(function(){f&&b(d)});var G=f?{value:w}:{defaultValue:l},q=xe({},g,G);return E.createElement("div",{className:I.dynamic([["4034828312",[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),W,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+"wrapper ".concat(C?"hover":""," ").concat(r?"disabled":""," ").concat(a)},E.createElement("textarea",xe({ref:y,disabled:r,placeholder:u,readOnly:i,onFocus:T,onBlur:H,onChange:F},q,{className:I.dynamic([["4034828312",[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),W,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]]])+" "+(q&&q.className!=null&&q.className||"")})),E.createElement(I,{id:"4034828312",dynamic:[p.layout.radius,B,R,_.font(.875),_.height(1,"auto"),_.width(1,"initial"),_.mt(0),_.mr(0),_.mb(0),_.ml(0),W,p.palette.accents_1,p.palette.accents_2,p.font.sans,_.pt(.5),_.pr(.5),_.pb(.5),_.pl(.5),h,p.palette.background]},".wrapper.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:".concat(p.layout.radius,";border:1px solid ").concat(B,";color:").concat(R,";-webkit-transition:border 0.2s ease 0s,color 0.2s ease 0s;transition:border 0.2s ease 0s,color 0.2s ease 0s;min-width:12.5rem;max-width:95vw;--textarea-font-size:").concat(_.font(.875),";--textarea-height:").concat(_.height(1,"auto"),";width:").concat(_.width(1,"initial"),";height:var(--textarea-height);margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}.wrapper.hover.__jsx-style-dynamic-selector{border-color:").concat(W,";}.wrapper.disabled.__jsx-style-dynamic-selector{background-color:").concat(p.palette.accents_1,";border-color:").concat(p.palette.accents_2,";cursor:not-allowed;}textarea.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:none;display:block;font-family:").concat(p.font.sans,";font-size:var(--textarea-font-size);width:100%;height:var(--textarea-height);border:none;outline:none;padding:").concat(_.pt(.5)," ").concat(_.pr(.5)," ").concat(_.pb(.5)," ").concat(_.pl(.5),";resize:").concat(h,";}.disabled.__jsx-style-dynamic-selector>textarea.__jsx-style-dynamic-selector{cursor:not-allowed;}textarea.__jsx-style-dynamic-selector:-webkit-autofill,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:hover,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:active,textarea.__jsx-style-dynamic-selector:-webkit-autofill.__jsx-style-dynamic-selector:focus{-webkit-box-shadow:0 0 0 30px ").concat(p.palette.background," inset !important;}")))});Sb.defaultProps=HQ;Sb.displayName="GeistTextarea";var WQ=He(Sb),XQ=function(t){var n=t.visible;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"}},n?E.createElement(E.Fragment,null,E.createElement("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"}),E.createElement("path",{d:"M1 1l22 22"})):E.createElement(E.Fragment,null,E.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),E.createElement("circle",{cx:"12",cy:"12",r:"3"})))},YQ=E.memo(XQ),qQ=["hideToggle","children"],ZQ=xe({},h3,{hideToggle:!1}),kb=E.forwardRef(function(e,t){var n=e.hideToggle,r=e.children,i=Re(e,qQ),s=L.useRef(null),o=L.useState(!1),a=Fe(o,2),l=a[0],c=a[1];L.useImperativeHandle(t,function(){return s.current});var d=function(){c(function(p){return!p}),s&&s.current&&s.current.focus()},u=L.useMemo(function(){return xe({},i,{ref:s,iconClickable:!0,onIconClick:d,htmlType:l?"text":"password"})},[i,d,l,s]),h=L.useMemo(function(){return n?null:E.createElement(YQ,{visible:l})},[n,l]);return E.createElement(wm,xe({iconRight:h},u),r)});kb.defaultProps=ZQ;kb.displayName="GeistInputPassword";wm.Textarea=WQ;wm.Password=kb;var QQ={visible:!1},x3=E.createContext(QQ),v3=function(){return E.useContext(x3)},KQ=function(t){var n=t.children,r=t.height;return E.createElement("span",{className:I.dynamic([["822089635",[r]]])},n,E.createElement(I,{id:"822089635",dynamic:[r]},"span.__jsx-style-dynamic-selector{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:".concat(r,";min-width:0;}")))};const Ab=E.memo(KQ);var JQ={},Cb=function(t){var n=t.value,r=t.children,i=t.isLabelOnly,s=Oe(),o=Ge(),a=o.SCALES,l=v3(),c=l.value,d=l.updateValue,u=l.updateVisible,h=function(){d&&d(n),u&&u(!1)},g=L.useMemo(function(){return c===n},[n,c]);return E.createElement("div",{onClick:h,className:I.dynamic([["2003094915",[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]]])+" "+"item ".concat(g?"active":"")},i?E.createElement(Ab,{height:a.height(2)},r):r,E.createElement(I,{id:"2003094915",dynamic:[s.palette.background,s.palette.foreground,a.font(.875),a.width(1,"auto"),i?a.height(2.5):a.height(1,"auto"),a.pt(0),a.pr(.75),a.pb(0),a.pl(.75),a.mt(0),a.mr(0),a.mb(0),a.ml(0),s.layout.radius,s.layout.radius,s.layout.radius,s.layout.radius,s.palette.accents_1,s.palette.accents_1,s.palette.success]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;background-color:".concat(s.palette.background,";color:").concat(s.palette.foreground,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:pointer;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(i?a.height(2.5):a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.75)," ").concat(a.pb(0)," ").concat(a.pl(.75),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.item.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(s.layout.radius,";border-top-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:last-of-type{border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";}.item.__jsx-style-dynamic-selector:hover{background-color:").concat(s.palette.accents_1,";}.item.active.__jsx-style-dynamic-selector{background-color:").concat(s.palette.accents_1,";color:").concat(s.palette.success,";}")))};Cb.defaultProps=JQ;Cb.displayName="GeistAutoCompleteItem";var Tb=He(Cb),eK=function(){var t=L.useState(!1),n=Fe(t,2),r=n[0],i=n[1];return L.useEffect(function(){i(_3())},[]),{isBrowser:r,isServer:!r}},HA=function(t){var n=document.createElement("div");return n.setAttribute("id",t),n},au=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p3(),n=arguments.length>1?arguments[1]:void 0,r="geist-ui-".concat(t),i=eK(),s=i.isBrowser,o=L.useState(s?HA(r):null),a=Fe(o,2),l=a[0],c=a[1];return L.useEffect(function(){var d=n?n():null,u=d||document.body,h=u.querySelector("#".concat(r)),g=h||HA(r);h||u.appendChild(g),c(g)},[]),l},Lb=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;L.useEffect(function(){var r=function(){return t()};return n&&r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}},[])},tK=["children","className","visible","enterTime","leaveTime","clearTime","name"],nK={visible:!1,enterTime:60,leaveTime:60,clearTime:60,className:"",name:"transition"},xa=function(t){var n=t.children,r=t.className,i=t.visible,s=t.enterTime,o=t.leaveTime,a=t.clearTime,l=t.name,c=Re(t,tK),d=L.useState(""),u=Fe(d,2),h=u[0],g=u[1],p=L.useState(i),m=Fe(p,2),_=m[0],y=m[1];return L.useEffect(function(){var f=i?"enter":"leave",x=i?s:o;i&&!_&&y(!0),g("".concat(l,"-").concat(f));var v=setTimeout(function(){g("".concat(l,"-").concat(f," ").concat(l,"-").concat(f,"-active")),clearTimeout(v)},x),w=setTimeout(function(){i||(g(""),y(!1)),clearTimeout(w)},x+a);return function(){clearTimeout(v),clearTimeout(w)}},[i,_]),!E.isValidElement(n)||!_?null:E.cloneElement(n,xe({},c,{className:"".concat(n.props.className," ").concat(r," ").concat(h)}))};xa.defaultProps=nK;xa.displayName="GeistCssTransition";var b3=function(t){L.useEffect(function(){var n=function(i){return t(i)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}},[t])},rK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r={attributes:!1,childList:!0,subtree:!0};L.useEffect(function(){if(!(!t||!t.current)){var i=!1,s=function(){i||n.apply(void 0,arguments)},o=new MutationObserver(s);return o.observe(t.current,r),function(){i=!0,o.disconnect()}}},[t])},WA={},Mi=function(t,n){var r=n?" [".concat(n,"]"):" ",i="[Geist UI]".concat(r,": ").concat(t);typeof console>"u"||WA[i]||(WA[i]=!0,console.warn(i))},w3={top:-1e3,left:-1e3,right:-1e3,width:0},iK=function(t){if(!t)return{top:0,left:0};var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{top:r,left:i}},XA=function(t,n){if(!t||!t.current)return w3;var r=t.current.getBoundingClientRect(),i=n?n():null,s=i||document.documentElement,o=iK(i),a=o.top,l=o.left;return xe({},r,{width:r.width||r.right-r.left,top:r.bottom+s.scrollTop-a,left:r.left+s.scrollLeft-l})},E3=E.memo(function(e){var t=e.children,n=e.parent,r=e.visible,i=e.disableMatchWidth,s=e.getPopupContainer,o=au("dropdown",s),a=L.useState(w3),l=Fe(a,2),c=l[0],d=l[1];if(!n)return null;var u=function(){var m=XA(n,s),_=m.top,y=m.left,f=m.right,x=m.width;d({top:_,left:y,right:f,width:x})};Lb(u),b3(function(){var p=XA(n,s),m=p.top,_=p.left,y=m!==c.top||_!==c.left;y&&u()}),rK(n,function(){u()}),L.useEffect(function(){if(!(!n||!n.current))return n.current.addEventListener("mouseenter",u),function(){!n||!n.current||n.current.removeEventListener("mouseenter",u)}},[n]);var h=function(m){m.stopPropagation(),m.nativeEvent.stopImmediatePropagation(),m.preventDefault()},g=function(m){m.preventDefault()};return o?bo.createPortal(E.createElement(xa,{visible:r},E.createElement("div",{onClick:h,onMouseDown:g,className:I.dynamic([["2976859150",[c.top+2,c.left,c.width,c.width]]])+" "+"dropdown ".concat(i?"disable-match":"width-match")},t,E.createElement(I,{id:"2976859150",dynamic:[c.top+2,c.left,c.width,c.width]},".dropdown.__jsx-style-dynamic-selector{position:absolute;top:".concat(c.top+2,"px;left:").concat(c.left,"px;z-index:1100;}.width-match.__jsx-style-dynamic-selector{width:").concat(c.width,"px;}.disable-match.__jsx-style-dynamic-selector{min-width:").concat(c.width,"px;}")))),o):null}),sK={className:"",dropdownStyle:{}},Nb=function(t){var n=t.children,r=t.visible,i=t.className,s=t.dropdownStyle,o=t.disableMatchWidth,a=t.getPopupContainer,l=Oe(),c=v3(),d=c.ref,u=L.useMemo(function(){return!r||E.Children.count(n)===0},[n,r]),h=function(p){p.preventDefault(),p.stopPropagation(),p.nativeEvent.stopImmediatePropagation()};return E.createElement(E3,{parent:d,visible:r,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{style:s,onClick:h,className:I.dynamic([["155200262",[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]]])+" "+"auto-complete-dropdown ".concat(i)},n,E.createElement(I,{id:"155200262",dynamic:[l.layout.radius,u?"none":l.expressiveness.shadowLarge,l.palette.background]},".auto-complete-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(u?"none":l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";overflow-y:auto;max-height:15rem;overflow-anchor:none;}"))))};Nb.defaultProps=sK;Nb.displayName="GeistAutoCompleteDropdown";var oK={className:""},Ib=function(t){var n=t.children,r=t.className,i=Oe(),s=Ge(),o=s.SCALES;return E.createElement("div",{className:I.dynamic([["2266351824",[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")},n,E.createElement(I,{id:"2266351824",dynamic:[i.layout.gapHalf,i.palette.background,i.palette.accents_5,i.layout.radius,o.font(.875),o.width(1,"auto"),o.height(1,"auto"),o.pt(.875),o.pr(.875),o.pb(.875),o.pl(.875),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;white-space:pre;padding:".concat(i.layout.gapHalf,";line-height:1;background-color:").concat(i.palette.background,";color:").concat(i.palette.accents_5,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;border-radius:").concat(i.layout.radius,";font-size:").concat(o.font(.875),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(.875)," ").concat(o.pr(.875)," ").concat(o.pb(.875)," ").concat(o.pl(.875),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};Ib.defaultProps=oK;Ib.displayName="GeistAutoCompleteSearch";var fp=He(Ib),aK={hidden:!1,className:""},jd=function(t){var n=t.children,r=t.hidden,i=t.className;return r?null:E.createElement(fp,{className:i},n)};jd.defaultProps=aK;jd.displayName="GeistAutoCompleteEmpty";var lK=["children","type","color","className","spaceRatio"],cK={type:"default",className:"",spaceRatio:1},dK=function(t,n,r){var i={default:n.accents_6,secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r||i[t]},Mb=function(t){var n=t.children,r=t.type,i=t.color,s=t.className,o=t.spaceRatio,a=Re(t,lK),l=Oe(),c=Ge(),d=c.SCALES,u=L.useMemo(function(){return dK(r,l.palette,i)},[r,l.palette,i]);return E.createElement("div",xe({},Ue(a),{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" "+"loading-container ".concat(s)}),E.createElement("span",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])+" loading"},n&&E.createElement("label",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])},n),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])}),E.createElement("i",{className:I.dynamic([["2201634259",[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]]])})),E.createElement(I,{id:"2201634259",dynamic:[d.font(1),d.width(1,"100%"),d.height(1,"100%"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),l.palette.accents_5,u,o]},".loading-container.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:".concat(d.font(1),";width:").concat(d.width(1,"100%"),";height:").concat(d.height(1,"100%"),";min-height:1em;padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}label.__jsx-style-dynamic-selector{margin-right:0.5em;color:").concat(l.palette.accents_5,";line-height:1;}label.__jsx-style-dynamic-selector *{margin:0;}.loading.__jsx-style-dynamic-selector{position:absolute;top:50%;left:50%;width:100%;height:100%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}i.__jsx-style-dynamic-selector{width:0.25em;height:0.25em;border-radius:50%;background-color:").concat(u,";margin:0 calc(0.25em / 2 * ").concat(o,");display:inline-block;-webkit-animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;animation:loading-blink-__jsx-style-dynamic-selector 1.4s infinite both;}i.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:0.2s;animation-delay:0.2s;}i.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:0.4s;animation-delay:0.4s;}@-webkit-keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}@keyframes loading-blink-__jsx-style-dynamic-selector{0%{opacity:0.2;}20%{opacity:1;}100%{opacity:0.2;}}")))};Mb.defaultProps=cK;Mb.displayName="GeistLoading";var Pb=He(Mb),fi=function(t){var n=L.useState(function(){return typeof t=="function"?t():t}),r=Fe(n,2),i=r[0],s=r[1],o=L.useRef(t);L.useEffect(function(){o.current=i},[i]);var a=function(c){var d=typeof c=="function"?c(o.current):c;o.current=d,s(d)};return[i,a,o]},uK=["options","initialValue","onSelect","onSearch","onChange","searching","children","type","value","clearable","disabled","dropdownClassName","dropdownStyle","disableMatchWidth","disableFreeSolo","getPopupContainer"],hK={options:[],initialValue:"",disabled:!1,clearable:!1,type:"default",disableMatchWidth:!1,disableFreeSolo:!1,className:""},gK=function(t){return t.map(function(n,r){var i="auto-complete-item-".concat(r);if(E.isValidElement(n))return E.cloneElement(n,{key:i});var s=n;return E.createElement(Tb,{key:i,value:s.value,isLabelOnly:!0},s.label)})},pK=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t===void 0?null:t?E.createElement(Pb,{scale:+n/2}):E.createElement("span",null)},Fb=E.forwardRef(function(e,t){var n=e.options,r=e.initialValue,i=e.onSelect,s=e.onSearch,o=e.onChange,a=e.searching,l=e.children,c=e.type,d=e.value,u=e.clearable,h=e.disabled,g=e.dropdownClassName,p=e.dropdownStyle,m=e.disableMatchWidth,_=e.disableFreeSolo,y=e.getPopupContainer,f=Re(e,uK),x=L.useRef(),v=Ge(),w=v.SCALES,b=v.getScaleableProps,S=L.useRef(null),k=L.useRef(null),C=fi(r),A=Fe(C,3),N=A[0],R=A[1],B=A[2],W=L.useState(r),F=Fe(W,2),T=F[0],H=F[1],G=L.useState(!1),q=Fe(G,2),te=q[0],J=q[1];L.useImperativeHandle(t,function(){return k.current});var ue=mi(l,fp),Te=Fe(ue,2),ce=Te[1],_e=mi(l,jd),ze=Fe(_e,2),Ye=ze[1],qe=L.useMemo(function(){var se=ce&&E.Children.count(ce)>0,oe=Ye&&E.Children.count(Ye)>0;return a?se?ce:E.createElement(fp,null,"Searching..."):n.length===0?N===""?null:oe?Ye:E.createElement(jd,null,"No Options"):gK(n)},[a,n]),ge=L.useMemo(function(){return u&&a===void 0},[u,a]),ye=function(oe){h||(H(oe),i&&i(oe),R(oe),k.current&&k.current.focus())},Ze=function(oe){return J(oe)},tt=function(oe){J(!0),s&&s(oe.target.value),R(oe.target.value)},ut=function(){_&&(!N||N===""||N!==T&&R(T))};L.useEffect(function(){o&&o(N)},[N]),L.useEffect(function(){d!==void 0&&R(d)},[d]);var st=L.useMemo(function(){return{ref:S,value:N,updateValue:ye,visible:te,updateVisible:Ze}},[N,te]),Z=function(oe){clearTimeout(x.current),J(oe),oe?s&&s(B.current):x.current=window.setTimeout(function(){ut(),clearTimeout(x.current)},100)},ee=xe({},Ue(f),{disabled:h,value:N});return E.createElement(x3.Provider,{value:st},E.createElement("div",{ref:S,className:I.dynamic([["2878925540",[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]]])+" auto-complete"},E.createElement(wm,xe({ref:k,type:c,onChange:tt,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)},clearable:ge,width:w.width(1,"initial"),height:w.height(2.25),iconRight:pK(a,b("scale"))},ee)),E.createElement(Nb,{visible:te,disableMatchWidth:m,className:g,dropdownStyle:p,getPopupContainer:y},qe),E.createElement(I,{id:"2878925540",dynamic:[w.width(1,"max-content"),w.height(1,"auto"),w.pt(0),w.pr(0),w.pb(0),w.pl(0),w.mt(0),w.mr(0),w.mb(0),w.ml(0)]},".auto-complete.__jsx-style-dynamic-selector{width:".concat(w.width(1,"max-content"),";height:").concat(w.height(1,"auto"),";padding:").concat(w.pt(0)," ").concat(w.pr(0)," ").concat(w.pb(0)," ").concat(w.pl(0),";margin:").concat(w.mt(0)," ").concat(w.mr(0)," ").concat(w.mb(0)," ").concat(w.ml(0),";}.auto-complete.__jsx-style-dynamic-selector .loading{width:-webkit-max-content;width:-moz-max-content;width:max-content;}"))))});Fb.defaultProps=hK;Fb.displayName="GeistAutoComplete";var Em=He(Fb);Em.Item=Tb;Em.Option=Tb;Em.Searching=fp;Em.Empty=jd;var mK=["src","stacked","text","isSquare","className"],fK={stacked:!1,text:"",isSquare:!1,className:""},_K=function(t){return t.length<=4?t:t.slice(0,3)},Rb=function(t){var n=t.src,r=t.stacked,i=t.text,s=t.isSquare,o=t.className,a=Re(t,mK),l=Oe(),c=Ge(),d=c.SCALES,u=!n,h=s?l.layout.radius:"50%",g=r?d.ml(-.625):d.ml(0),p=Ue(a);return E.createElement("span",{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+"avatar ".concat(o)},!u&&E.createElement("img",xe({alt:"avatar",src:n,draggable:!1},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-img")})),u&&E.createElement("span",xe({},p,{className:I.dynamic([["2295275975",[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]]])+" "+(p&&p.className!=null&&p.className||"avatar-text")}),_K(i)),E.createElement(I,{id:"2295275975",dynamic:[l.palette.accents_2,h,l.palette.background,d.width(1.75)||d.height(1.75),d.height(1.75)||d.width(1.75),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),g,h,d.font(1)]},".avatar.__jsx-style-dynamic-selector{display:inline-block;position:relative;overflow:hidden;border:1px solid ".concat(l.palette.accents_2,";border-radius:").concat(h,";vertical-align:top;background-color:").concat(l.palette.background,";box-sizing:border-box;width:").concat(d.width(1.75)||d.height(1.75),";height:").concat(d.height(1.75)||d.width(1.75),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(g,";}.avatar-img.__jsx-style-dynamic-selector{display:inline-block;object-fit:cover;width:100%;height:100%;border-radius:").concat(h,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.avatar-text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;font-size:").concat(d.font(1),";text-align:center;-webkit-transform:translate(-50%,-50%) scale(0.65);-ms-transform:translate(-50%,-50%) scale(0.65);transform:translate(-50%,-50%) scale(0.65);white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};Rb.defaultProps=fK;Rb.displayName="GeistAvatar";var S3=He(Rb),yK={className:""},Db=function(t){var n=t.count,r=t.className,i=t.children,s=Oe(),o=Ge(),a=o.SCALES;return E.createElement("div",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" "+"avatar-group ".concat(r)},i,n&&E.createElement("span",{className:I.dynamic([["1135268764",[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]]])+" count"},"+",n),E.createElement(I,{id:"1135268764",dynamic:[a.width(1,"max-content"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),a.ml(.625),a.font(.875),s.palette.accents_7]},".avatar-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(a.width(1,"max-content"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.avatar-group.__jsx-style-dynamic-selector .avatar{margin-left:-").concat(a.ml(.625),";}.count.__jsx-style-dynamic-selector{font-size:").concat(a.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:5.5px;color:").concat(s.palette.accents_7,";}")))};Db.defaultProps=yK;Db.displayName="GeistAvatarGroup";var xK=He(Db);S3.Group=xK;var vK=["type","className","children","dot"],bK={type:"default",dot:!1,className:""},wK=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary};return r[t]},zb=function(t){var n=t.type,r=t.className,i=t.children,s=t.dot,o=Re(t,vK),a=Oe(),l=Ge(),c=l.SCALES,d=L.useMemo(function(){return wK(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!n||n==="default"?a.palette.background:"white"},[n,a.palette.background]);return E.createElement("span",xe({},Ue(o),{className:I.dynamic([["427831233",[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]]])+" "+"badge ".concat(s?"dot":""," ").concat(r)}),!s&&i,E.createElement(I,{id:"427831233",dynamic:[d,u,c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(.25),c.pr(.4375),c.pb(.25),c.pl(.4375),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.py(.25),c.px(.25)]},".badge.__jsx-style-dynamic-selector{display:inline-block;border-radius:16px;font-variant:tabular-nums;line-height:1;vertical-align:middle;background-color:".concat(d,";color:").concat(u,";border:0;font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(.25)," ").concat(c.pr(.4375)," ").concat(c.pb(.25)," ").concat(c.pl(.4375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.dot.__jsx-style-dynamic-selector{padding:").concat(c.py(.25)," ").concat(c.px(.25),";border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}")))};zb.defaultProps=bK;zb.displayName="GeistBadge";var k3=He(zb);or("topLeft","topRight","bottomLeft","bottomRight");var EK={placement:"topRight",className:""},SK=function(t){var n={topLeft:{top:"0",left:"0",value:"translate(-50%, -50%)",origin:"0% 0%"},topRight:{top:"0",right:"0",value:"translate(50%, -50%)",origin:"100% 0%"},bottomLeft:{left:"0",bottom:"0",value:"translate(-50%, 50%)",origin:"0% 100%"},bottomRight:{right:"0",bottom:"0",value:"translate(50%, 50%)",origin:"100% 100%"}};return n[t]},Ob=function(t){var n=t.children,r=t.placement,i=mi(n,k3),s=Fe(i,2),o=s[0],a=s[1],l=L.useMemo(function(){return SK(r)},[r]),c=l.top,d=l.bottom,u=l.left,h=l.right,g=l.value,p=l.origin;return E.createElement("div",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])+" anchor"},o,E.createElement("sup",{className:I.dynamic([["1121745930",[c||"auto",u||"auto",h||"auto",d||"auto",g,p]]])},a),E.createElement(I,{id:"1121745930",dynamic:[c||"auto",u||"auto",h||"auto",d||"auto",g,p]},".anchor.__jsx-style-dynamic-selector{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;box-sizing:border-box;}sup.__jsx-style-dynamic-selector{position:absolute;top:".concat(c||"auto",";left:").concat(u||"auto",";right:").concat(h||"auto",";bottom:").concat(d||"auto",";-webkit-transform:").concat(g,";-ms-transform:").concat(g,";transform:").concat(g,";-webkit-transform-origin:").concat(p,";-ms-transform-origin:").concat(p,";transform-origin:").concat(p,";z-index:1;}")))};Ob.defaultProps=EK;Ob.displayName="GeistBadgeAnchor";k3.Anchor=Ob;var kK={className:""},Bb=function(t){var n=t.children,r=t.className,i=Ge(),s=i.SCALES;return E.createElement("div",{className:I.dynamic([["1571781185",[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]]])+" "+"separator ".concat(r)},n,E.createElement(I,{id:"1571781185",dynamic:[s.width(1,"auto"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(.5),s.mb(0),s.ml(.5)]},".separator.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:".concat(s.width(1,"auto"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(.5)," ").concat(s.mb(0)," ").concat(s.ml(.5),";}")))};Bb.defaultProps=kK;Bb.displayName="GeistBreadcrumbsSeparator";var Kc=He(Bb),AK=function(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=t.replace(n,function(s,o,a,l){return"".concat(o).concat(o).concat(a).concat(a).concat(l).concat(l)}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!i)throw new Error("Geist UI: Unsupported ".concat(t," color."));return[Number.parseInt(i[1],16),Number.parseInt(i[2],16),Number.parseInt(i[3],16)]},CK=function(t){if(t.charAt(0)==="#")return AK(t);var n=t.replace(/ /g,""),r=t.substr(0,4),i=n.match(/\((.+)\)/);if(!r.startsWith("rgb")||!i)throw console.log(t),new Error('Geist UI: Only support ["RGB", "RGBA", "HEX"] color.');return i[1].split(",").map(function(s){return Number.parseFloat(s)})},hs=function(t,n){if(!/^#|rgb|RGB/.test(t))return t;var r=CK(t),i=Fe(r,3),s=i[0],o=i[1],a=i[2],l=n>1?1:n<0?0:n;return"rgba(".concat(s,", ").concat(o,", ").concat(a,", ").concat(l,")")},TK={separator:"/",className:""},jb=function(t){var n=t.separator,r=t.children,i=t.className,s=Oe(),o=Ge(),a=o.SCALES,l=L.useMemo(function(){return hs(s.palette.link,.85)},[s.palette.link]),c=E.Children.toArray(r),d=c.map(function(u,h){if(!E.isValidElement(u))return u;var g=c[h-1],p=E.isValidElement(g)&&g.type===Kc,m=u.type===Kc;return!p&&!m&&h>0?E.createElement(E.Fragment,{key:h},E.createElement(Kc,null,n),u):u});return E.createElement("nav",{className:I.dynamic([["2351830500",[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]]])+" "+(i||"")},d,E.createElement(I,{id:"2351830500",dynamic:[s.palette.accents_4,a.font(1),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0),l,s.palette.accents_6]},"nav.__jsx-style-dynamic-selector{line-height:inherit;color:".concat(s.palette.accents_4,";box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:").concat(a.font(1),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}nav.__jsx-style-dynamic-selector .link:hover{color:").concat(l,";}nav.__jsx-style-dynamic-selector>span:last-of-type{color:").concat(s.palette.accents_6,";}nav.__jsx-style-dynamic-selector>.separator:last-child{display:none;}nav.__jsx-style-dynamic-selector svg{width:1em;height:1em;margin:0 4px;}nav.__jsx-style-dynamic-selector .breadcrums-item{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};jb.defaultProps=TK;jb.displayName="GeistBreadcrumbs";var A3=He(jb),C3=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3000088640 icon"},E.createElement("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6",className:"jsx-3000088640"}),E.createElement("path",{d:"M15 3h6v6",className:"jsx-3000088640"}),E.createElement("path",{d:"M10 14L21 3",className:"jsx-3000088640"}),E.createElement(I,{id:"3000088640"},".icon.jsx-3000088640{margin:0 0.3125em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;color:currentColor;}"))};C3.displayName="GeistLinkIcon";var LK=E.memo(C3),NK=["href","color","underline","pure","children","className","block","icon"],IK={href:"",color:!1,pure:!1,icon:!1,underline:!1,block:!1,className:""},Ub=E.forwardRef(function(e,t){var n=e.href,r=e.color,i=e.underline,s=e.pure,o=e.children,a=e.className,l=e.block,c=e.icon,d=Re(e,NK),u=Oe(),h=Ge(),g=h.SCALES,p=r||l?u.palette.link:"inherit",m=r||l?u.palette.successLight:"inherit",_=i?"underline":"none";return s&&Mi('Props "pure" is deprecated, now the default Link is pure.'),E.createElement("a",xe({href:n},Ue(d),{ref:t,className:I.dynamic([["3960817863",[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?hs(u.palette.link,.1):"unset",m]]])+" "+"link ".concat(l?"block":""," ").concat(a)}),o,c&&E.createElement(LK,null),E.createElement(I,{id:"3960817863",dynamic:[p,l?u.layout.radius:0,g.font(1,"inherit"),g.width(1,"fit-content"),g.height(1,"auto"),g.mt(0),g.mr(0),g.mb(0),g.ml(0),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.pt(.268),g.pr(.5625),g.pb(.268),g.pl(.5625),_,l?hs(u.palette.link,.1):"unset",m]},".link.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;line-height:inherit;color:".concat(p,";-webkit-text-decoration:none;text-decoration:none;border-radius:").concat(l?u.layout.radius:0,";-webkit-transition:color 200ms ease 0ms;transition:color 200ms ease 0ms;font-size:").concat(g.font(1,"inherit"),";width:").concat(g.width(1,"fit-content"),";height:").concat(g.height(1,"auto"),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";}.block.__jsx-style-dynamic-selector{padding:").concat(g.pt(.268)," ").concat(g.pr(.5625)," ").concat(g.pb(.268)," ").concat(g.pl(.5625),";}.link.__jsx-style-dynamic-selector:hover,.link.__jsx-style-dynamic-selector:active,.link.__jsx-style-dynamic-selector:focus{-webkit-text-decoration:").concat(_,";text-decoration:").concat(_,";}.link.__jsx-style-dynamic-selector:hover{background-color:").concat(l?hs(u.palette.link,.1):"unset",";color:").concat(m,";}")))});Ub.defaultProps=IK;Ub.displayName="GeistLink";var $b=He(Ub),MK=["href","nextLink","onClick","children","className"],PK={nextLink:!1,className:""},Vb=E.forwardRef(function(e,t){var n=e.href,r=e.nextLink,i=e.onClick,s=e.children,o=e.className,a=Re(e,MK),l=L.useMemo(function(){return n!==void 0||r},[n,r]),c=mi(s,Kc),d=Fe(c,1),u=d[0],h=function(p){i&&i(p)};return l?E.createElement($b,xe({className:"breadcrums-item ".concat(o),href:n,onClick:h,ref:t},a),u):E.createElement("span",{className:"breadcrums-item ".concat(o),onClick:h},u)});Vb.defaultProps=PK;Vb.displayName="GeistBreadcrumbsItem";A3.Item=Vb;A3.Separator=Kc;var FK={x:0,y:0},Gb=function(t){var n=t.x,r=t.y,i=t.color,s=t.onCompleted,o=L.useRef(null),a=Number.isNaN(+r)?0:r-10,l=Number.isNaN(+n)?0:n-10;return L.useEffect(function(){if(o.current)return o.current.addEventListener("animationend",s),function(){o.current&&o.current.removeEventListener("animationend",s)}}),E.createElement("div",{ref:o,className:"jsx-3424889537 drip"},E.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",style:{top:a,left:l},className:"jsx-3424889537"},E.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:"jsx-3424889537"},E.createElement("g",{fill:i,className:"jsx-3424889537"},E.createElement("rect",{width:"100%",height:"100%",rx:"10",className:"jsx-3424889537"})))),E.createElement(I,{id:"3424889537"},".drip.jsx-3424889537{position:absolute;left:0;right:0;top:0;bottom:0;}svg.jsx-3424889537{position:absolute;-webkit-animation:350ms ease-in expand-jsx-3424889537;animation:350ms ease-in expand-jsx-3424889537;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;width:1rem;height:1rem;}@-webkit-keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}@keyframes expand-jsx-3424889537{0%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}30%{opacity:1;}80%{opacity:0.5;}100%{-webkit-transform:scale(28);-ms-transform:scale(28);transform:scale(28);opacity:0;}}"))};Gb.defaultProps=FK;Gb.displayName="GeistButtonDrip";var T3=function(t){var n=t.color;return E.createElement("div",{className:"jsx-3416748964 btn-loading"},E.createElement(Pb,{color:n}),E.createElement(I,{id:"3416748964"},".btn-loading.jsx-3416748964{position:absolute;top:0;left:0;right:0;bottom:0;z-index:2;background-color:var(--geist-ui-button-bg);}"))};T3.displayName="GeistButtonLoading";var RK=["isRight","isSingle","children","className"],DK={isRight:!1,className:""},_p=function(t){var n=t.isRight,r=t.isSingle,i=t.children,s=t.className,o=Re(t,RK);return E.createElement("span",xe({},Ue(o),{className:"jsx-643337184 "+"icon ".concat(n?"right":""," ").concat(r?"single":""," ").concat(s)}),i,E.createElement(I,{id:"643337184"},".icon.jsx-643337184{position:absolute;left:var(--geist-ui-button-icon-padding);right:auto;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:var(--geist-ui-button-color);z-index:1;}.right.jsx-643337184{right:var(--geist-ui-button-icon-padding);left:auto;}.icon.jsx-643337184 svg{background:transparent;height:calc(var(--geist-ui-button-height) / 2.35);width:calc(var(--geist-ui-button-height) / 2.35);}.single.jsx-643337184{position:static;-webkit-transform:none;-ms-transform:none;transform:none;}"))};_p.defaultProps=DK;_p.displayName="GeistButtonIcon";var zK=function(t,n,r){var i=r.icon,s=r.iconRight,o=i||s,a=!!s,l=t?"calc(var(--geist-ui-button-height) / 2 + var(--geist-ui-button-icon-padding) * .5)":0;return o?E.Children.count(n)===0?E.createElement(_p,{isRight:a,isSingle:!0},o):E.createElement(E.Fragment,null,E.createElement(_p,{isRight:a},o),E.createElement("div",{className:I.dynamic([["3568181479",[l,l]]])+" "+"text ".concat(a?"right":"left")},n,E.createElement(I,{id:"3568181479",dynamic:[l,l]},".left.__jsx-style-dynamic-selector{padding-left:".concat(l,";}.right.__jsx-style-dynamic-selector{padding-right:").concat(l,";}")))):E.createElement("div",{className:"text"},n)},OK=function(t,n){return n.isButtonGroup?xe({},t,{auto:!0,shadow:!1,ghost:n.ghost||t.ghost,type:n.type||t.type,disabled:n.disabled||t.disabled}):t},BK={isButtonGroup:!1,disabled:!1},L3=E.createContext(BK),jK=function(){return E.useContext(L3)},UK=function(t,n){var r={secondary:{bg:t.background,border:t.foreground,color:t.foreground},success:{bg:t.background,border:t.success,color:t.success},warning:{bg:t.background,border:t.warning,color:t.warning},error:{bg:t.background,border:t.error,color:t.error}};return r[n]||null},N3=function(t,n){var r=n.type,i=n.disabled,s=n.ghost,o={default:{bg:t.background,border:t.border,color:t.accents_5},secondary:{bg:t.foreground,border:t.foreground,color:t.background},success:{bg:t.success,border:t.success,color:"#fff"},warning:{bg:t.warning,border:t.warning,color:"#fff"},error:{bg:t.error,border:t.error,color:"#fff"},abort:{bg:"transparent",border:"transparent",color:t.accents_5}};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};var a=r==null?void 0:r.replace("-light",""),l=o.default;return s?UK(t,a)||l:o[a]||l},$K=function(t,n){var r={secondary:{bg:t.foreground,border:t.background,color:t.background},success:{bg:t.success,border:t.background,color:"white"},warning:{bg:t.warning,border:t.background,color:"white"},error:{bg:t.error,border:t.background,color:"white"}},i=n.replace("-light","");return r[i]||null},I3=function(t,n){var r=n.type,i=n.disabled,s=n.loading,o=n.shadow,a=n.ghost,l=N3(t,n),c=hs(l.bg,.85),d={default:{bg:t.background,border:t.foreground},secondary:{bg:t.background,border:t.foreground},success:{bg:t.background,border:t.success},warning:{bg:t.background,border:t.warning},error:{bg:t.background,border:t.error},abort:{bg:"transparent",border:"transparent",color:t.accents_5},"secondary-light":xe({},l,{bg:c}),"success-light":xe({},l,{bg:c}),"warning-light":xe({},l,{bg:c}),"error-light":xe({},l,{bg:c})};if(i)return{bg:t.accents_1,border:t.accents_2,color:"#ccc"};if(s)return xe({},l,{color:"transparent"});if(o)return l;var u=(a?$K(t,r):d[r])||d.default;return xe({},u,{color:u.color||u.border})},VK=function(t,n){return t?{cursor:"not-allowed",events:"auto"}:n?{cursor:"default",events:"none"}:{cursor:"pointer",events:"auto"}},GK=function(t,n){var r=n.type,i=r.endsWith("light"),s=I3(t,n);return hs(i?s.bg:t.accents_2,.65)},HK=["children","disabled","type","loading","shadow","ghost","effect","onClick","auto","icon","htmlType","iconRight","className"],WK={type:"default",htmlType:"button",ghost:!1,loading:!1,shadow:!1,auto:!1,effect:!0,disabled:!1,className:""},Hb=E.forwardRef(function(e,t){var n=Oe(),r=Ge(),i=r.SCALES,s=L.useRef(null);L.useImperativeHandle(t,function(){return s.current});var o=L.useState(!1),a=Fe(o,2),l=a[0],c=a[1],d=L.useState(0),u=Fe(d,2),h=u[0],g=u[1],p=L.useState(0),m=Fe(p,2),_=m[0],y=m[1],f=jK(),x=OK(e,f),v=x.children,w=x.disabled;x.type;var b=x.loading,S=x.shadow,k=x.ghost,C=x.effect,A=x.onClick,N=x.auto,R=x.icon,B=x.htmlType,W=x.iconRight,F=x.className,T=Re(x,HK),H=L.useMemo(function(){return N3(n.palette,x)},[n.palette,x]),G=H.bg,q=H.border,te=H.color,J=L.useMemo(function(){return I3(n.palette,x)},[n.palette,x]),ue=L.useMemo(function(){return VK(w,b)},[w,b]),Te=ue.cursor,ce=ue.events,_e=L.useMemo(function(){return GK(n.palette,x)},[n.palette,x]),ze=function(){c(!1),g(0),y(0)},Ye=function(tt){if(!(w||b)){var ut=!S&&!k&&C;if(ut&&s.current){var st=s.current.getBoundingClientRect();c(!0),g(tt.clientX-st.left),y(tt.clientY-st.top)}A&&A(tt)}},qe=L.useMemo(function(){return zK(N,v,{icon:R,iconRight:W})},[N,v,R,W]),ge=N?i.pl(1.15):i.pl(1.375),ye=N?i.pr(1.15):i.pr(1.375);return E.createElement("button",xe({ref:s,type:B,disabled:w,onClick:Ye},Ue(T),{className:I.dynamic([["1191936485",[i.height(2.5),n.layout.radius,i.font(.875),te,G,q,Te,ce,S?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),te,G,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),ye,i.pb(0),ge,i.mt(0),i.mr(0),i.mb(0),i.ml(0),J.color,J.color,J.bg,J.border,Te,ce,S?n.expressiveness.shadowMedium:"none",S?"-1px":"0px"]]])+" "+"btn ".concat(F)}),b&&E.createElement(T3,{color:te}),qe,l&&E.createElement(Gb,{x:h,y:_,color:_e,onCompleted:ze}),E.createElement(I,{id:"1191936485",dynamic:[i.height(2.5),n.layout.radius,i.font(.875),te,G,q,Te,ce,S?n.expressiveness.shadowSmall:"none",i.pl(.727),i.height(2.5),te,G,N?"min-content":i.width(12.5),N?"auto":"initial",i.height(2.5),i.pt(0),ye,i.pb(0),ge,i.mt(0),i.mr(0),i.mb(0),i.ml(0),J.color,J.color,J.bg,J.border,Te,ce,S?n.expressiveness.shadowMedium:"none",S?"-1px":"0px"]},".btn.__jsx-style-dynamic-selector{box-sizing:border-box;display:inline-block;line-height:".concat(i.height(2.5),";border-radius:").concat(n.layout.radius,";font-weight:400;font-size:").concat(i.font(.875),";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;text-transform:capitalize;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;white-space:nowrap;-webkit-transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;transition:background-color 200ms ease 0ms,box-shadow 200ms ease 0ms, border 200ms ease 0ms,color 200ms ease 0ms;position:relative;overflow:hidden;color:").concat(te,";background-color:").concat(G,";border:1px solid ").concat(q,";cursor:").concat(Te,";pointer-events:").concat(ce,";box-shadow:").concat(S?n.expressiveness.shadowSmall:"none",";--geist-ui-button-icon-padding:").concat(i.pl(.727),";--geist-ui-button-height:").concat(i.height(2.5),";--geist-ui-button-color:").concat(te,";--geist-ui-button-bg:").concat(G,";min-width:").concat(N?"min-content":i.width(12.5),";width:").concat(N?"auto":"initial",";height:").concat(i.height(2.5),";padding:").concat(i.pt(0)," ").concat(ye," ").concat(i.pb(0)," ").concat(ge,";margin:").concat(i.mt(0)," ").concat(i.mr(0)," ").concat(i.mb(0)," ").concat(i.ml(0),";}.btn.__jsx-style-dynamic-selector:hover,.btn.__jsx-style-dynamic-selector:focus{color:").concat(J.color,";--geist-ui-button-color:").concat(J.color,";background-color:").concat(J.bg,";border-color:").concat(J.border,";cursor:").concat(Te,";pointer-events:").concat(ce,";box-shadow:").concat(S?n.expressiveness.shadowMedium:"none",";-webkit-transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);-ms-transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);transform:translate3d(0px,").concat(S?"-1px":"0px",",0px);}.btn.__jsx-style-dynamic-selector .text{position:relative;z-index:1;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;line-height:inherit;top:-1px;}.btn.__jsx-style-dynamic-selector .text p,.btn.__jsx-style-dynamic-selector .text pre,.btn.__jsx-style-dynamic-selector .text div{margin:0;}")))});Hb.defaultProps=WK;Hb.displayName="GeistButton";var Ko=He(Hb),M3=function(t,n){var r=L.useRef(n);L.useEffect(function(){r.current=n},[r]),L.useEffect(function(){var i=function(o){var a=t.current;!o||!a||a.contains(o.target)||r.current(o)};return document.addEventListener("click",i),function(){return document.removeEventListener("click",i)}},[t])},P3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i={default:{color:t.accents_5,bgColor:t.background,borderLeftColor:t.accents_2,hoverBgColor:t.accents_1,hoverBorder:t.accents_2},secondary:{color:t.background,bgColor:t.foreground,borderLeftColor:t.accents_7,hoverBgColor:t.accents_7,hoverBorder:t.accents_7},success:{color:t.background,bgColor:t.success,borderLeftColor:t.successDark,hoverBgColor:t.successDark,hoverBorder:t.successDark},warning:{color:t.background,bgColor:t.warning,borderLeftColor:t.warningDark,hoverBgColor:t.warningDark,hoverBorder:t.warningDark},error:{color:t.background,bgColor:t.error,borderLeftColor:t.errorDark,hoverBgColor:t.errorDark,hoverBorder:t.errorDark}};return r?xe({},i.default,{bgColor:t.accents_1,color:t.accents_4}):n?i[n]:i.default},F3=function(t){var n=t.color,r=t.height;return E.createElement("svg",{stroke:n,style:{color:n},viewBox:"0 0 24 24",width:r,height:r,strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-3359574434"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-3359574434"}),E.createElement(I,{id:"3359574434"},"svg.jsx-3359574434{-webkit-transform:scale(0.6);-ms-transform:scale(0.6);transform:scale(0.6);}"))};F3.displayName="GeistButtonDropdownIcon";var XK={type:"default",auto:!1,disabled:!1,loading:!1},R3=E.createContext(XK),YK=function(){return E.useContext(R3)},qK=["children","onClick","className","main","type"],ZK={main:!1,type:"default",onClick:function(){},className:""},Sm=function(t){var n=t.children,r=t.onClick,i=t.className,s=t.main,o=t.type,a=Re(t,qK),l=Oe(),c=YK(),d=c.type,u=c.disabled,h=c.loading,g=s?d:o,p=P3(l.palette,g,u),m=function(f){u||h||r&&r(f)},_=L.useMemo(function(){return h?"default":u?"not-allowed":"pointer"},[h,u]);return E.createElement("button",xe({onClick:m},Ue(a),{className:I.dynamic([["772098729",[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]]])+" "+(i||"")}),h?E.createElement(Pb,null):n,E.createElement(I,{id:"772098729",dynamic:[_,p.bgColor,p.color,p.hoverBorder,p.hoverBgColor]},"button.__jsx-style-dynamic-selector{position:relative;-webkit-appearance:button;text-rendering:auto;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:middle;text-align:center;cursor:".concat(_,";box-sizing:border-box;margin:0;border:none;background-color:").concat(p.bgColor,";color:").concat(p.color,";width:100%;height:var(--geist-ui-dropdown-height);min-width:var(--geist-ui-dropdown-min-width);padding:var(--geist-ui-dropdown-padding);font-size:var(--geist-ui-dropdown-font-size);}button.__jsx-style-dynamic-selector:hover{border-color:").concat(p.hoverBorder,";background-color:").concat(p.hoverBgColor,";}")))};Sm.defaultProps=ZK;Sm.displayName="GeistButtonDropdownItem";var QK=["children","type","auto","className","disabled","loading"],KK={type:"default",auto:!1,loading:!1,disabled:!1,className:""},YA=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},Wb=function(t){var n=t.children,r=t.type,i=t.auto,s=t.className,o=t.disabled,a=t.loading,l=Re(t,QK),c=Ge(),d=c.SCALES,u=L.useRef(null),h=Oe(),g=P3(h.palette,r),p=mi(n,Sm)[1],m=m3(p,"main",!0),_=Fe(m,2),y=_[0],f=_[1],x=L.useState(!1),v=Fe(x,2),w=v[0],b=v[1],S=L.useCallback(function(R){R.preventDefault(),YA(R),!(o||a)&&b(!w)},[w]),k={type:r,auto:i,disabled:o,loading:a},C=L.useMemo(function(){return o||a?h.palette.accents_1:w?g.hoverBgColor:g.bgColor},[w,g,h.palette]),A=i?d.pl(1.15):d.pl(1.375),N=i?d.pr(1.15):d.pr(1.375);return M3(u,function(){return b(!1)}),E.createElement(R3.Provider,{value:k},E.createElement("div",xe({ref:u,onClick:YA},Ue(l),{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),A,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" "+"btn-dropdown ".concat(s)}),f,E.createElement("details",{open:w,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),A,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement("summary",{onClick:S,className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),A,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])},E.createElement(F3,{color:g.color,height:d.height(2.5)})),E.createElement("div",{className:I.dynamic([["3157107390",[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),A,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]]])+" content"},y)),E.createElement(I,{id:"3157107390",dynamic:[h.palette.border,h.layout.radius,d.height(2.5),i?"min-content":d.width(12.5),d.pt(0),N,d.pb(0),A,d.font(.875),h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius,g.color,C,d.height(2.5),g.borderLeftColor,o||a?"not-allowed":"pointer",g.hoverBorder,g.hoverBgColor,h.layout.radius,h.expressiveness.shadowLarge,h.layout.gapHalf,h.palette.background,h.layout.radius,h.layout.radius,h.layout.radius,h.layout.radius]},".btn-dropdown.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;position:relative;box-sizing:border-box;border:1px solid ".concat(h.palette.border,";border-radius:").concat(h.layout.radius,";--geist-ui-dropdown-height:").concat(d.height(2.5),";--geist-ui-dropdown-min-width:").concat(i?"min-content":d.width(12.5),";--geist-ui-dropdown-padding:").concat(d.pt(0)," ").concat(N," ").concat(d.pb(0)," ").concat(A,";--geist-ui-dropdown-font-size:").concat(d.font(.875),";}.btn-dropdown.__jsx-style-dynamic-selector>button{border-top-left-radius:").concat(h.layout.radius,";border-bottom-left-radius:").concat(h.layout.radius,";}details.__jsx-style-dynamic-selector{border-top-right-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";overflow:hidden;}summary.__jsx-style-dynamic-selector{box-sizing:border-box;-webkit-tap-highlight-color:transparent;list-style:none;outline:none;color:").concat(g.color,";background-color:").concat(C,";height:").concat(d.height(2.5),";border-left:1px solid ").concat(g.borderLeftColor,";cursor:").concat(o||a?"not-allowed":"pointer",";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:auto;padding:0 1px;-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;}summary.__jsx-style-dynamic-selector:hover{border-color:").concat(g.hoverBorder,";background-color:").concat(g.hoverBgColor,";}.content.__jsx-style-dynamic-selector{position:absolute;right:0;left:0;z-index:90;width:100%;border-radius:").concat(h.layout.radius,";box-shadow:").concat(h.expressiveness.shadowLarge,";-webkit-transform:translateY(").concat(h.layout.gapHalf,");-ms-transform:translateY(").concat(h.layout.gapHalf,");transform:translateY(").concat(h.layout.gapHalf,");background-color:").concat(h.palette.background,";}.content.__jsx-style-dynamic-selector>button:first-of-type{border-top-left-radius:").concat(h.layout.radius,";border-top-right-radius:").concat(h.layout.radius,";}.content.__jsx-style-dynamic-selector>button:last-of-type{border-bottom-left-radius:").concat(h.layout.radius,";border-bottom-right-radius:").concat(h.layout.radius,";}"))))};Wb.displayName="GeistButtonDropdown";Wb.defaultProps=KK;var JK=He(Wb);JK.Item=Sm;var eJ=["disabled","type","ghost","vertical","children","className"],tJ={disabled:!1,vertical:!1,ghost:!1,type:"default",className:""},nJ=function(t,n){var r=n.ghost,i=n.type;if(!r&&i!=="default")return t.background;var s={default:t.border,success:t.success,secondary:t.secondary,error:t.error,warning:t.warning},o=i.replace("-light","");return s[o]||s.default},Xb=function(t){var n=Oe(),r=Ge(),i=r.SCALES,s=t.disabled,o=t.type,a=t.ghost,l=t.vertical,c=t.children,d=t.className,u=Re(t,eJ),h=L.useMemo(function(){return{disabled:s,type:o,ghost:a,isButtonGroup:!0}},[s,o]),g=L.useMemo(function(){return nJ(n.palette,t)},[n,o,s,a]);return E.createElement(L3.Provider,{value:h},E.createElement("div",xe({},Ue(u),{className:I.dynamic([["809583503",[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]]])+" "+"btn-group ".concat(l?"vertical":"horizontal"," ").concat(d)}),c,E.createElement(I,{id:"809583503",dynamic:[n.layout.radius,g,i.width(1,"auto"),i.height(1,"min-content"),i.mt(.313),i.mr(.313),i.mb(.313),i.ml(.313),i.pt(0),i.pr(0),i.pb(0),i.pl(0),g,g]},".btn-group.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;border-radius:".concat(n.layout.radius,";border:1px solid ").concat(g,";background-color:transparent;overflow:hidden;width:").concat(i.width(1,"auto"),";height:").concat(i.height(1,"min-content"),";margin:").concat(i.mt(.313)," ").concat(i.mr(.313)," ").concat(i.mb(.313)," ").concat(i.ml(.313),";padding:").concat(i.pt(0)," ").concat(i.pr(0)," ").concat(i.pb(0)," ").concat(i.pl(0),";}.vertical.__jsx-style-dynamic-selector{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.btn-group.__jsx-style-dynamic-selector .btn{border:none;}.btn-group.__jsx-style-dynamic-selector .btn .text{top:0;}.horizontal.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid ").concat(g,";}.horizontal.__jsx-style-dynamic-selector .btn:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0;}.vertical.__jsx-style-dynamic-selector .btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0;border-top:1px solid ").concat(g,";}.vertical.__jsx-style-dynamic-selector .btn:not(:last-child){border-bottom-left-radius:0;border-bottom-right-radius:0;}"))))};Xb.defaultProps=tJ;Xb.displayName="GeistButtonGroup";var rJ=He(Xb),iJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,i=t/n,s=(Number.isNaN(i)?0:i)*100;if(s>100)return 100;if(s<0)return 0;if(!"".concat(s).includes("."))return s;var o="".concat(s).split(".")[1];return o.length<r?s:+s.toFixed(r)},D3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;return L.useMemo(function(){return iJ(t,n,r)},[t,n,r])},sJ=["value","limit","color","className"],oJ={value:0,limit:100,color:"",className:""},aJ=function(t,n){return t<33?n.cyan:t<66?n.warning:n.errorDark},Yb=function(t){var n=t.value,r=t.limit,i=t.color,s=t.className,o=Re(t,sJ),a=Oe(),l=Ge(),c=l.SCALES,d=D3(n,r),u=L.useMemo(function(){return i&&i!==""?i:aJ(d,a.palette)},[i,d,a.palette]);return E.createElement("div",xe({title:"".concat(d,"%")},Ue(o),{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])+" "+"capacity ".concat(s)}),E.createElement("span",{className:I.dynamic([["2706946339",[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]]])}),E.createElement(I,{id:"2706946339",dynamic:[c.width(3.125),c.height(.625),a.layout.radius,a.palette.accents_2,c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),d,u]},".capacity.__jsx-style-dynamic-selector{width:".concat(c.width(3.125),";height:").concat(c.height(.625),";border-radius:").concat(a.layout.radius,";overflow:hidden;background-color:").concat(a.palette.accents_2,";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}span.__jsx-style-dynamic-selector{width:").concat(d,"%;background-color:").concat(u,";height:100%;margin:0;padding:0;display:block;}")))};Yb.defaultProps=oJ;Yb.displayName="GeistCapacity";He(Yb);var lJ=function(t,n,r){var i={default:{color:n.foreground,bgColor:n.background},dark:{color:n.background,bgColor:n.foreground},secondary:{color:n.background,bgColor:n.secondary},success:{color:n.background,bgColor:n.success},warning:{color:n.background,bgColor:n.warning},error:{color:n.background,bgColor:n.error},lite:{color:n.foreground,bgColor:n.background},alert:{color:"white",bgColor:n.alert},purple:{color:"white",bgColor:n.purple},violet:{color:"white",bgColor:n.violet},cyan:{color:"black",bgColor:n.cyan}},s=t==="default"&&!r;return xe({},i[t],{borderColor:s?n.border:"transparent"})},cJ=["children","className","disableAutoMargin"],dJ={disableAutoMargin:!1,className:""},qb=function(t){var n=t.children,r=t.className,i=t.disableAutoMargin,s=Re(t,cJ),o=Oe(),a=Ge(),l=a.SCALES;return E.createElement("footer",xe({},Ue(s),{className:I.dynamic([["1602358380",[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]]])+" "+"".concat(i?"":"auto-margin"," ").concat(r)}),n,E.createElement(I,{id:"1602358380",dynamic:[l.py(.66),l.px(1.31),l.font(.875),o.palette.border,o.layout.radius,o.layout.radius,l.height(3.3),l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.layout.gapQuarter]},"footer.__jsx-style-dynamic-selector{padding:".concat(l.py(.66)," ").concat(l.px(1.31),";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:inherit;background-color:inherit;font-size:").concat(l.font(.875),";border-top:1px solid ").concat(o.palette.border,";border-bottom-left-radius:").concat(o.layout.radius,";border-bottom-right-radius:").concat(o.layout.radius,";min-height:").concat(l.height(3.3),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.auto-margin.__jsx-style-dynamic-selector *{margin-top:0;margin-bottom:0;margin-right:").concat(o.layout.gapQuarter,";}")))};qb.defaultProps=dJ;qb.displayName="GeistCardFooter";var Zb=He(qb),uJ=["className","children"],hJ={className:""},Qb=function(t){var n=t.className,r=t.children,i=Re(t,uJ),s=Ge(),o=s.SCALES;return E.createElement("div",xe({},Ue(i),{className:I.dynamic([["490544004",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"490544004",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1),o.pr(1),o.pb(1),o.pl(1),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1)," ").concat(o.pr(1)," ").concat(o.pb(1)," ").concat(o.pl(1),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector>p:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>p:last-child{margin-bottom:0;}")))};Qb.defaultProps=hJ;Qb.displayName="GeistCardContent";var yp=He(Qb),gJ=["opacity"],pJ={opacity:.5},Kb=E.memo(function(e){var t=e.opacity,n=Re(e,gJ),r=Oe();return E.createElement("div",xe({},Ue(n),{className:I.dynamic([["2946022605",[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]]])+" skeleton"}),E.createElement(I,{id:"2946022605",dynamic:[r.palette.accents_1,r.palette.accents_2,r.palette.accents_2,r.palette.accents_1,t]},".skeleton.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background-image:linear-gradient( 270deg, ".concat(r.palette.accents_1,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_2,", ").concat(r.palette.accents_1," );background-size:400% 100%;-webkit-animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;animation:loading-__jsx-style-dynamic-selector 3s ease-in-out infinite;opacity:").concat(t,";-webkit-transition:opacity 300ms ease-out;transition:opacity 300ms ease-out;}@-webkit-keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}@keyframes loading-__jsx-style-dynamic-selector{0%{background-position:200% 0;}to{background-position:-200% 0;}}")))});Kb.defaultProps=pJ;Kb.displayName="GeistImageSkeleton";var mJ=["src","disableSkeleton","className","maxDelay"],fJ={disableSkeleton:!1,className:"",maxDelay:3e3},Jb=function(t){var n=t.src,r=t.disableSkeleton,i=t.className,s=t.maxDelay,o=Re(t,mJ),a=Ge(),l=a.SCALES,c=a.getScaleableProps,d=c(["width","w"]),u=c(["height","h"]),h=!r&&d&&u,g=Oe(),p=L.useState(!0),m=Fe(p,2),_=m[0],y=m[1],f=L.useState(!0),x=Fe(f,2),v=x[0],w=x[1],b=L.useRef(null),S=function(){h&&y(!1)};return L.useEffect(function(){h&&b.current&&b.current.complete&&(y(!1),w(!1))}),L.useEffect(function(){var k=setTimeout(function(){h&&w(!1),clearTimeout(k)},s);return function(){return clearTimeout(k)}},[_]),E.createElement("div",{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])+" "+"image ".concat(i)},v&&h&&E.createElement(Kb,{opacity:_?.5:0}),E.createElement("img",xe({ref:b,onLoad:S,src:n},Ue(o),{className:I.dynamic([["932238951",[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]]])})),E.createElement(I,{id:"932238951",dynamic:[g.layout.radius,l.width(1,"auto"),l.height(1,"auto"),l.mt(0),l.mr(0,"auto"),l.mb(0),l.ml(0,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.width(1,"auto"),l.height(1,"auto")]},".image.__jsx-style-dynamic-selector{position:relative;border-radius:".concat(g.layout.radius,";overflow:hidden;max-width:100%;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";margin:").concat(l.mt(0)," ").concat(l.mr(0,"auto")," ").concat(l.mb(0)," ").concat(l.ml(0,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";}img.__jsx-style-dynamic-selector{width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";object-fit:scale-down;display:block;}")))};Jb.defaultProps=fJ;Jb.displayName="GeistImage";var z3=He(Jb),_J=function(){return E.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-4165143638"},E.createElement("path",{d:"M5 10.2H19V21H5V10.2Z",className:"jsx-4165143638"}),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C13.933 12 15.5 10.3882 15.5 8.4C15.5 6.41177 13.933 4.8 12 4.8C10.067 4.8 8.5 6.41177 8.5 8.4C8.5 10.3882 10.067 12 12 12ZM12 13.8C14.8995 13.8 17.25 11.3823 17.25 8.4C17.25 5.41766 14.8995 3 12 3C9.10051 3 6.75 5.41766 6.75 8.4C6.75 11.3823 9.10051 13.8 12 13.8Z",className:"jsx-4165143638"}),E.createElement(I,{id:"4165143638"},"svg.jsx-4165143638{width:1em;height:1em;}"))},yJ=E.memo(_J),xJ=function(t,n){return t?{color:n.background,barBgColor:n.foreground,inputBgColor:n.accents_8,borderColor:n.accents_7,titleColor:n.accents_2}:{color:n.foreground,barBgColor:n.background,inputBgColor:n.accents_1,borderColor:n.border,titleColor:n.accents_5}},vJ=["url","title","children","showFullLink","invert","anchorProps","className"],bJ={className:"",showFullLink:!1,anchorProps:{},invert:!1},wJ=function(t){try{return new URL(t).host}catch{return t}},EJ=function(t,n){return E.createElement("div",{className:I.dynamic([["524099755",[n.titleColor]]])+" title"},t,E.createElement(I,{id:"524099755",dynamic:[n.titleColor]},".title.__jsx-style-dynamic-selector{color:".concat(n.titleColor,";font-size:0.75em;}")))},SJ=function(t,n,r,i){return E.createElement("div",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" address-input"},E.createElement("span",{className:I.dynamic([["2765629350",[r.inputBgColor]]])+" https"},E.createElement(yJ,null)),E.createElement($b,xe({href:t,title:t,target:"_blank"},i),n?t:wJ(t)),E.createElement(I,{id:"2765629350",dynamic:[r.inputBgColor]},".address-input.__jsx-style-dynamic-selector{height:1.75em;max-width:60%;min-width:40%;background-color:".concat(r.inputBgColor,";color:inherit;border-radius:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0 10px;overflow:hidden;position:relative;}.address-input.__jsx-style-dynamic-selector *{font-size:0.75em;color:inherit;}.address-input.__jsx-style-dynamic-selector a{max-width:90%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:inline-block;color:inherit;}.https.__jsx-style-dynamic-selector{width:0.75em;height:0.75em;font-size:1em;margin-right:0.31em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-top:-1px;color:inherit;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))},e1=E.forwardRef(function(e,t){var n=e.url,r=e.title,i=e.children,s=e.showFullLink,o=e.invert,a=e.anchorProps,l=e.className,c=Re(e,vJ),d=Oe(),u=Ge(),h=u.SCALES,g=L.useMemo(function(){return xJ(o,d.palette)},[o,d.palette]),p=L.useMemo(function(){return n?SJ(n,s,g,a):r?EJ(r,g):null},[n,s,r,g,a]);return E.createElement("div",xe({ref:t},Ue(c),{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" "+"browser ".concat(l)}),E.createElement("header",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])},E.createElement("div",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" traffic"},E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" close"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" mini"}),E.createElement("span",{className:I.dynamic([["3239040194",[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]]])+" full"})),p),i,E.createElement(I,{id:"3239040194",dynamic:[d.expressiveness.shadowLarge,d.layout.radius,h.font(1),h.width(1,"max-content"),h.height(1,"auto"),h.mt(0),h.mr(0,"auto"),h.mb(0),h.ml(0,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),g.color,g.barBgColor,g.borderColor,d.layout.gapHalf]},".browser.__jsx-style-dynamic-selector{background-color:transparent;box-shadow:".concat(d.expressiveness.shadowLarge,";max-width:100%;border-radius:").concat(d.layout.radius,";overflow:hidden;font-size:").concat(h.font(1),";width:").concat(h.width(1,"max-content"),";height:").concat(h.height(1,"auto"),";margin:").concat(h.mt(0)," ").concat(h.mr(0,"auto")," ").concat(h.mb(0)," ").concat(h.ml(0,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";}.browser.__jsx-style-dynamic-selector .image{border-top-left-radius:0;border-top-right-radius:0;}header.__jsx-style-dynamic-selector{height:2.5em;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:relative;color:").concat(g.color,";background-color:").concat(g.barBgColor,";border-bottom:1px solid ").concat(g.borderColor,";}.traffic.__jsx-style-dynamic-selector{width:auto;position:absolute;left:").concat(d.layout.gapHalf,";top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);bottom:0;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:inherit;}.traffic.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{border-radius:50%;width:0.75em;height:0.75em;max-width:20px;max-height:20px;display:inline-block;margin-right:0.5em;}.close.__jsx-style-dynamic-selector{background-color:#ff5f56;}.mini.__jsx-style-dynamic-selector{background-color:#ffbd2e;}.full.__jsx-style-dynamic-selector{background-color:#27c93f;}")))});e1.defaultProps=bJ;e1.displayName="GeistImageBrowser";var kJ=He(e1);z3.Browser=kJ;var AJ=["children","hoverable","className","shadow","type"],CJ={type:"default",hoverable:!1,shadow:!1,className:""},t1=function(t){var n=t.children,r=t.hoverable,i=t.className,s=t.shadow,o=t.type,a=Re(t,AJ),l=Oe(),c=Ge(),d=c.SCALES,u=L.useMemo(function(){return s?l.expressiveness.shadowMedium:r?l.expressiveness.shadowSmall:"none"},[r,s,l.expressiveness]),h=L.useMemo(function(){return lJ(o,l.palette,s)},[o,l.palette,s]),g=h.color,p=h.bgColor,m=h.borderColor,_=mi(n,Zb),y=Fe(_,2),f=y[0],x=y[1],v=mi(f,z3),w=Fe(v,2),b=w[0],S=w[1],k=Qc(b,yp);return E.createElement("div",xe({},Ue(a),{className:I.dynamic([["4234389955",[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]]])+" "+"card ".concat(i)}),S,k?b:E.createElement(yp,null,b),x,E.createElement(I,{id:"4234389955",dynamic:[l.palette.background,l.layout.radius,s?l.expressiveness.shadowSmall:"none",g,p,m,d.width(1,"auto"),d.height(1,"auto"),d.pt(0),d.pr(0),d.pb(0),d.pl(0),d.mt(0),d.mr(0),d.mb(0),d.ml(0),u]},".card.__jsx-style-dynamic-selector{background:".concat(l.palette.background,";-webkit-transition:all 0.2s ease;transition:all 0.2s ease;border-radius:").concat(l.layout.radius,";box-shadow:").concat(s?l.expressiveness.shadowSmall:"none",";box-sizing:border-box;color:").concat(g,";background-color:").concat(p,";border:1px solid ").concat(m,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(0)," ").concat(d.pr(0)," ").concat(d.pb(0)," ").concat(d.pl(0),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.card.__jsx-style-dynamic-selector:hover{box-shadow:").concat(u,";}.card.__jsx-style-dynamic-selector img{width:100%;}.card.__jsx-style-dynamic-selector .image{border-bottom-left-radius:0;border-bottom-right-radius:0;}")))};t1.defaultProps=CJ;t1.displayName="GeistCard";var km=He(t1);km.Footer=Zb;km.Actions=Zb;km.Content=yp;km.Body=yp;var TJ={disabledAll:!1,inGroup:!1,values:[]},O3=E.createContext(TJ),LJ=function(){return E.useContext(O3)},B3=function(t){var n=t.fill,r=t.bg,i=t.disabled,s=t.checked,o=Oe(),a=L.useMemo(function(){return{propsFill:n,propsBg:r}},[o.palette]),l=a.propsFill,c=a.propsBg;return E.createElement(E.Fragment,null,s?E.createElement("svg",{viewBox:"0 0 17 16",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M12.1429 0H3.85714C1.7269 0 0 1.79086 0 4V12C0 14.2091 1.7269 16 3.85714 16H12.1429C14.2731 16 16 14.2091 16 12V4C16 1.79086 14.2731 0 12.1429 0Z",fill:l,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])}),E.createElement("path",{d:"M16 3L7.72491 11L5 8",stroke:c,strokeWidth:"1.5",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})):E.createElement("svg",{viewBox:"0 0 12 12",fill:"none",className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])},E.createElement("path",{d:"M8.5 0.5H3.5C1.84315 0.5 0.5 1.84315 0.5 3.5V8.5C0.5 10.1569 1.84315 11.5 3.5 11.5H8.5C10.1569 11.5 11.5 10.1569 11.5 8.5V3.5C11.5 1.84315 10.1569 0.5 8.5 0.5Z",stroke:o.palette.accents_5,className:I.dynamic([["996181129",[i?.4:1,i?"not-allowed":"pointer"]]])})),E.createElement(I,{id:"996181129",dynamic:[i?.4:1,i?"not-allowed":"pointer"]},"svg.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;width:calc(0.86 * var(--checkbox-size));height:calc(0.86 * var(--checkbox-size));-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:".concat(i?.4:1,";cursor:").concat(i?"not-allowed":"pointer",";}")))};B3.displayName="GeistCheckboxIcon";var NJ=E.memo(B3),IJ=function(t,n){var r={default:{fill:t.foreground,bg:t.background},secondary:{fill:t.foreground,bg:t.background},success:{fill:t.success,bg:t.background},warning:{fill:t.warning,bg:t.background},error:{fill:t.error,bg:t.background}};return n?r[n]:r.default},MJ=["checked","initialChecked","disabled","onChange","className","children","type","value"],PJ={disabled:!1,type:"default",initialChecked:!1,className:"",value:""},n1=function(t){var n=t.checked,r=t.initialChecked,i=t.disabled,s=t.onChange,o=t.className,a=t.children,l=t.type,c=t.value,d=Re(t,MJ),u=Oe(),h=Ge(),g=h.SCALES,p=L.useState(r),m=Fe(p,2),_=m[0],y=m[1],f=LJ(),x=f.updateState,v=f.inGroup,w=f.disabledAll,b=f.values,S=v&&w||i;v&&n&&Mi('Remove props "checked" when [Checkbox] component is in the group.',"Checkbox"),v&&L.useEffect(function(){var R=b.includes(c);R!==_&&y(R)},[b.join(",")]);var k=L.useMemo(function(){return IJ(u.palette,l)},[u.palette,l]),C=k.fill,A=k.bg,N=L.useCallback(function(R){if(!S){var B={target:{checked:!_},stopPropagation:R.stopPropagation,preventDefault:R.preventDefault,nativeEvent:R};v&&x&&x&&x(c,!_),y(!_),s&&s(B)}},[x,s,S,_]);return L.useEffect(function(){n!==void 0&&y(n)},[n]),E.createElement("label",{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])+" "+"checkbox ".concat(o)},E.createElement(NJ,{fill:C,bg:A,disabled:S,checked:_}),E.createElement("input",xe({type:"checkbox",disabled:S,checked:_,onChange:N},Ue(d),{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])})),E.createElement("span",{className:I.dynamic([["4126727675",[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]]])+" text"},a),E.createElement(I,{id:"4126727675",dynamic:[g.font(.875),S?"not-allowed":"pointer",S?.75:1,g.width(1,"auto"),g.height(1,"var(--checkbox-size)"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0),S?"not-allowed":"pointer"]},".checkbox.__jsx-style-dynamic-selector{--checkbox-size:".concat(g.font(.875),";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:").concat(S?"not-allowed":"pointer",";opacity:").concat(S?.75:1,";line-height:var(--checkbox-size);width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"var(--checkbox-size)"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}.text.__jsx-style-dynamic-selector{font-size:var(--checkbox-size);line-height:var(--checkbox-size);padding-left:calc(var(--checkbox-size) * 0.5);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:").concat(S?"not-allowed":"pointer",";}input.__jsx-style-dynamic-selector{opacity:0;outline:none;position:absolute;width:0;height:0;margin:0;padding:0;z-index:-1;font-size:0;background-color:transparent;}")))};n1.defaultProps=PJ;n1.displayName="GeistCheckbox";var FJ=He(n1);function RJ(e){if(Array.isArray(e))return Oy(e)}function DJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xr(e){return RJ(e)||DJ(e)||t3(e)||zJ()}var OJ=["disabled","onChange","value","children","className"],BJ={disabled:!1,className:""},r1=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=Re(t,OJ),l=Ge(),c=l.SCALES,d=L.useState([]),u=Fe(d,2),h=u[0],g=u[1];i||(i=[],Mi('Props "value" is required.',"Checkbox Group"));var p=function(y,f){var x=h.filter(function(w){return w!==y}),v=f?[].concat(Xr(x),[y]):x;g(v),r&&r(v)},m=L.useMemo(function(){return{updateState:p,disabledAll:n,inGroup:!0,values:h}},[n,h]);return L.useEffect(function(){g(i)},[i.join(",")]),E.createElement(O3.Provider,{value:m},E.createElement("div",xe({},Ue(a),{className:I.dynamic([["1727163828",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]]])+" "+"group ".concat(o)}),s,E.createElement(I,{id:"1727163828",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.font(1),c.font(1)]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.group.__jsx-style-dynamic-selector label{margin-right:calc(").concat(c.font(1)," * 2);--checkbox-size:").concat(c.font(1),";}.group.__jsx-style-dynamic-selector label:last-of-type{margin-right:0;}"))))};r1.defaultProps=BJ;r1.displayName="GeistCheckboxGroup";var jJ=He(r1);FJ.Group=jJ;var UJ=["children","block","className"],$J={block:!1,className:""},i1=function(t){var n=t.children,r=t.block,i=t.className,s=Re(t,UJ),o=Ge(),a=o.SCALES,l=Ue(s);return r?E.createElement(E.Fragment,null,E.createElement("pre",xe({},l,{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])+" "+(l&&l.className!=null&&l.className||i||"")}),E.createElement("code",{className:I.dynamic([["1286851807",[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]]])},n)),E.createElement(I,{id:"1286851807",dynamic:[a.font(.875),a.width(1,"initial"),a.height(1,"auto"),a.pt(1),a.pr(1.3),a.pb(1),a.pl(1.3),a.mt(1.3),a.mr(0),a.mb(1.3),a.ml(0)]},"pre.__jsx-style-dynamic-selector{max-width:100%;font-size:".concat(a.font(.875),";width:").concat(a.width(1,"initial"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(1)," ").concat(a.pr(1.3)," ").concat(a.pb(1)," ").concat(a.pl(1.3),";margin:").concat(a.mt(1.3)," ").concat(a.mr(0)," ").concat(a.mb(1.3)," ").concat(a.ml(0),";}.dark.__jsx-style-dynamic-selector{color:white;background:black;}.dark.__jsx-style-dynamic-selector code.__jsx-style-dynamic-selector{color:white;}"))):E.createElement("code",l,n)};i1.defaultProps=$J;i1.displayName="GeistCode";He(i1);var VJ=function(t){var n=t.active;return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentColor"},className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])},E.createElement("path",{d:"M6 9l6 6 6-6",className:I.dynamic([["2249786880",[n?"-180deg":"0"]]])}),E.createElement(I,{id:"2249786880",dynamic:[n?"-180deg":"0"]},"svg.__jsx-style-dynamic-selector{-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;-webkit-transform:rotateZ(".concat(n?"-180deg":"0",");-ms-transform:rotateZ(").concat(n?"-180deg":"0",");transform:rotateZ(").concat(n?"-180deg":"0",");width:1.5em;height:1.5em;}")))},GJ=E.memo(VJ),HJ=function(t){var n={width:0,height:0};if(!t||typeof window>"u")return n;var r=t.getBoundingClientRect(),i=window.getComputedStyle(t),s=i.width,o=i.height,a=function(c,d){if(!c)return 0;var u=c.includes("px")?+c.split("px")[0]:c.includes("%")?+c.split("%")[0]*d*.01:c;return Number.isNaN(+u)?0:+u};return{width:a("".concat(s),r.width),height:a("".concat(o),r.height)}},j3=function(t){var n=L.useState({width:0,height:0}),r=Fe(n,2),i=r[0],s=r[1],o=function(){var l=HJ(t.current),c=l.width,d=l.height;s({width:c,height:d})};return L.useEffect(function(){return o()},[t.current]),[i,o]},WJ={isExpanded:!1,delay:200},Am=function(t){var n=t.isExpanded,r=t.delay,i=t.children,s=L.useState(n?"auto":"0"),o=Fe(s,2),a=o[0],l=o[1],c=L.useState(n),d=Fe(c,2),u=d[0],h=d[1],g=L.useState(n),p=Fe(g,2),m=p[0],_=p[1],y=L.useRef(null),f=L.useRef(),x=L.useRef(),v=L.useRef(),w=j3(y),b=Fe(w,2),S=b[0],k=b[1];return L.useEffect(function(){return l("".concat(S.height,"px"))},[S.height]),L.useEffect(function(){return n?_(n):(k(),l("".concat(S.height,"px"))),f.current=window.setTimeout(function(){h(n),clearTimeout(f.current)},30),n?v.current=window.setTimeout(function(){l("auto"),clearTimeout(v.current)},r):x.current=window.setTimeout(function(){_(n),clearTimeout(x.current)},r/2),function(){clearTimeout(f.current),clearTimeout(x.current),clearTimeout(v.current)}},[n]),E.createElement("div",{className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" "+"container ".concat(u?"expanded":"")},E.createElement("div",{ref:y,className:I.dynamic([["1918690829",[m?"visible":"hidden",r,a]]])+" content"},i),E.createElement(I,{id:"1918690829",dynamic:[m?"visible":"hidden",r,a]},".container.__jsx-style-dynamic-selector{padding:0;margin:0;height:0;overflow:hidden;visibility:".concat(m?"visible":"hidden",";-webkit-transition:height ").concat(r,"ms ease;transition:height ").concat(r,"ms ease;}.expanded.__jsx-style-dynamic-selector{height:").concat(a,";visibility:visible;}")))};Am.defaultProps=WJ;Am.displayName="GeistExpand";var XJ={values:[]},U3=E.createContext(XJ),YJ=function(){return E.useContext(U3)},qJ=["children","title","subtitle","initialVisible","shadow","className","index"],ZJ={className:"",shadow:!1,initialVisible:!1},s1=function(t){var n=t.children,r=t.title,i=t.subtitle,s=t.initialVisible,o=t.shadow,a=t.className,l=t.index,c=Re(t,qJ),d=Oe(),u=Ge(),h=u.SCALES,g=YJ(),p=g.values,m=g.updateValues,_=fi(s),y=Fe(_,3),f=y[0],x=y[1],v=y[2];r||Mi('"title" is required.',"Collapse"),L.useEffect(function(){if(p.length){var b=!!p.find(function(S){return S===l});x(b)}},[p.join(",")]);var w=function(){var S=!v.current;x(S),m&&m(l,S)};return E.createElement("div",xe({},Ue(c),{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" "+"collapse ".concat(o?"shadow":""," ").concat(a)}),E.createElement("div",{role:"button",onClick:w,className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" view"},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" title"},E.createElement("h3",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])},r)," ",E.createElement(GJ,{active:f})),i&&E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" subtitle"},i)),E.createElement(Am,{isExpanded:f},E.createElement("div",{className:I.dynamic([["3106940587",[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]]])+" content"},n)),E.createElement(I,{id:"3106940587",dynamic:[d.palette.border,d.palette.border,h.font(1),h.width(1,"auto"),h.height(1,"auto"),h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),d.expressiveness.shadowSmall,d.layout.radius,d.layout.gap,d.palette.foreground,d.palette.accents_5,h.pt(1.2),h.pr(0),h.pb(1.2),h.pl(0)]},".collapse.__jsx-style-dynamic-selector{border-top:1px solid ".concat(d.palette.border,";border-bottom:1px solid ").concat(d.palette.border,";font-size:").concat(h.font(1),";width:").concat(h.width(1,"auto"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.shadow.__jsx-style-dynamic-selector{box-shadow:").concat(d.expressiveness.shadowSmall,";border:none;border-radius:").concat(d.layout.radius,";padding:").concat(d.layout.gap,";}.view.__jsx-style-dynamic-selector{cursor:pointer;outline:none;}.title.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(d.palette.foreground,";}.title.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{margin:0;font-size:1.5em;}.subtitle.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_5,";margin:0;}.subtitle.__jsx-style-dynamic-selector>*{margin:0;}.content.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.6em;padding:").concat(h.pt(1.2)," ").concat(h.pr(0)," ").concat(h.pb(1.2)," ").concat(h.pl(0),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};s1.defaultProps=ZJ;s1.displayName="GeistCollapse";var $3=He(s1),QJ=["children","accordion","className"],KJ={accordion:!0,className:""},o1=function(t){var n=t.children,r=t.accordion,i=t.className,s=Re(t,QJ),o=Ge(),a=o.SCALES,l=fi([]),c=Fe(l,3),d=c[0],u=c[1],h=c[2],g=function(y,f){var x=h.current.find(function(v){return v===y});if(r)return u(f?[y]:[]);if(f)return x?void 0:u([].concat(Xr(h.current),[y]));u(h.current.filter(function(v){return v!==y}))},p=L.useMemo(function(){return{values:d,updateValues:g}},[d.join(",")]),m=L.useMemo(function(){return MQ(n,[$3])},[n]);return E.createElement(U3.Provider,{value:p},E.createElement("div",xe({},Ue(s),{className:I.dynamic([["2415399140",[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"collapse-group ".concat(i)}),m,E.createElement(I,{id:"2415399140",dynamic:[a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(.6),a.pb(0),a.pl(.6),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},".collapse-group.__jsx-style-dynamic-selector{width:".concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(.6)," ").concat(a.pb(0)," ").concat(a.pl(.6),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.collapse-group.__jsx-style-dynamic-selector>div + div{border-top:none;}"))))};o1.defaultProps=KJ;o1.displayName="GeistCollapseGroup";var JJ=He(o1);$3.Group=JJ;var eee=["title","content","className"],tee={title:"Title",content:"",className:""},a1=function(t){var n=t.title,r=t.content,i=t.className,s=Re(t,eee),o=Oe(),a=Ge(),l=a.SCALES;return E.createElement("dl",xe({},Ue(s),{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])+" "+"description ".concat(i)}),E.createElement("dt",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},n),E.createElement("dd",{className:I.dynamic([["2323318745",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]]])},r),E.createElement(I,{id:"2323318745",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),o.palette.accents_5,o.palette.foreground]},".description.__jsx-style-dynamic-selector{font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}dt.__jsx-style-dynamic-selector{font-size:0.75em;line-height:1em;margin-bottom:0.5em;text-transform:uppercase;white-space:nowrap;color:").concat(o.palette.accents_5,";font-weight:500;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}dd.__jsx-style-dynamic-selector{font-size:0.875em;margin:0;line-height:1.1em;color:").concat(o.palette.foreground,";font-weight:500;}dd.__jsx-style-dynamic-selector p,dt.__jsx-style-dynamic-selector p{margin:0;}")))};a1.defaultProps=tee;a1.displayName="GeistDescription";He(a1);var nee=["children","caption","shadow","className"],ree={caption:"",shadow:!1,className:""},l1=function(t){var n=t.children,r=t.caption,i=t.shadow,s=t.className,o=Re(t,nee),a=Oe(),l=Ge(),c=l.SCALES,d=L.useMemo(function(){return i&&a.type!=="dark"},[a.type,i]);return E.createElement("div",xe({},Ue(o),{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" "+"display ".concat(s)}),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" content"},n),E.createElement("div",{className:I.dynamic([["2213400331",[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]]])+" caption"},r),E.createElement(I,{id:"2213400331",dynamic:[c.font(.875),c.width(1,"100%"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(2.5),c.mr(0,"auto"),c.mb(2.5),c.ml(0,"auto"),c.width(1,"max-content"),d?a.expressiveness.shadowLarge:"none",a.palette.accents_5,i?"2.5em":"1.3em"]},".display.__jsx-style-dynamic-selector{display:block;max-width:100%;font-size:".concat(c.font(.875),";width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(2.5)," ").concat(c.mr(0,"auto")," ").concat(c.mb(2.5)," ").concat(c.ml(0,"auto"),";}.content.__jsx-style-dynamic-selector{display:block;margin:0 auto;border-radius:4px;overflow:hidden;width:").concat(c.width(1,"max-content"),";box-shadow:").concat(d?a.expressiveness.shadowLarge:"none",";max-width:100%;}.content.__jsx-style-dynamic-selector pre{margin:0;-webkit-transition:min-width ease 0.2s;transition:min-width ease 0.2s;}.content.__jsx-style-dynamic-selector img{display:block;}.caption.__jsx-style-dynamic-selector{font-size:inherit;line-height:1.5em;color:").concat(a.palette.accents_5,";margin:").concat(i?"2.5em":"1.3em"," auto 0;text-align:center;max-width:85%;}")))};l1.defaultProps=ree;l1.displayName="GeistDisplay";He(l1);var iee=["type","align","children","className"],see={align:"center",type:"default",className:""},oee=function(t,n){var r={default:n.border,lite:n.accents_1,success:n.successLight,warning:n.warningLight,error:n.errorLight,secondary:n.secondary,dark:n.foreground};return r[t]},c1=function(t){var n=t.type,r=t.align,i=t.children,s=t.className,o=Re(t,iee),a=Oe(),l=Ge(),c=l.SCALES,d=L.useMemo(function(){return oee(n,a.palette)},[n,a.palette]),u=L.useMemo(function(){return!r||r==="center"?"":r==="left"||r==="start"?"start":"end"},[r]),h=n==="default"?a.palette.foreground:d;return E.createElement("div",xe({role:"separator"},Ue(o),{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"divider ".concat(s)}),i&&E.createElement("span",{className:I.dynamic([["3410666717",[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]]])+" "+"text ".concat(u)},i),E.createElement(I,{id:"3410666717",dynamic:[d,c.font(1),c.width(1,"auto"),c.height(.0625),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(.5),c.mr(0),c.mb(.5),c.ml(0),a.palette.background,h]},".divider.__jsx-style-dynamic-selector{max-width:100%;background-color:".concat(d,";position:relative;font-size:").concat(c.font(1),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(.0625),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(.5)," ").concat(c.mr(0)," ").concat(c.mb(.5)," ").concat(c.ml(0),";}.text.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;min-height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:0 0.75em;font-size:inherit;font-weight:bold;text-transform:capitalize;background-color:").concat(a.palette.background,";color:").concat(h,";z-index:10;}.text.start.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:7%;}.text.end.__jsx-style-dynamic-selector{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:auto;right:7%;}")))};c1.defaultProps=see;c1.displayName="GeistDivider";He(c1);var aee=["type","children","className"],lee={type:"default",className:""},cee=function(t,n){var r={default:n.palette.accents_2,success:n.palette.success,warning:n.palette.warning,error:n.palette.error};return r[t]||r.default},d1=function(t){var n=t.type,r=t.children,i=t.className,s=Re(t,aee),o=Oe(),a=Ge(),l=a.SCALES,c=L.useMemo(function(){return cee(n,o)},[n,o]);return E.createElement("span",xe({},Ue(s),{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" "+"dot ".concat(i)}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" icon"}),E.createElement("span",{className:I.dynamic([["4266900845",[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]]])+" label"},r),E.createElement(I,{id:"4266900845",dynamic:[l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(0),l.pr(0),l.pb(0),l.pl(0),l.mt(0),l.mr(0),l.mb(0),l.ml(0),c]},".dot.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:".concat(l.font(1),";width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(0)," ").concat(l.pr(0)," ").concat(l.pb(0)," ").concat(l.pl(0),";margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.icon.__jsx-style-dynamic-selector{width:0.625em;height:0.625em;min-width:calc(0.625 * 12px);min-height:calc(0.625 * 12px);line-height:0.625em;border-radius:50%;background-color:").concat(c,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.label.__jsx-style-dynamic-selector{margin-left:0.5em;font-size:1em;line-height:1em;text-transform:capitalize;}")))};d1.defaultProps=lee;d1.displayName="GeistDot";He(d1);var dee={scrollLayer:!1},ic=new Map,uee=function(){return typeof window>"u"||!window.navigator?!1:/iP(ad|hone|od)/.test(window.navigator.platform)},qA=function(t){return t.touches&&t.touches.length>1?!0:(t.preventDefault(),!1)},V3=function(t,n){if(typeof document>"u")return[!1,function(d){return d}];var r=t||L.useRef(document.body),i=L.useState(!1),s=Fe(i,2),o=s[0],a=s[1],l=xe({},dee,n||{}),c=function(){return l.scrollLayer?!1:uee()};return L.useEffect(function(){if(!(!r||!r.current)){var d=r.current.style.overflow;if(o){if(ic.has(r.current))return;c()?document.addEventListener("touchmove",qA,{passive:!1}):r.current.style.overflow="hidden",ic.set(r.current,{last:d});return}if(ic.has(r.current)){if(c())document.removeEventListener("touchmove",qA);else{var u=ic.get(r.current);r.current.style.overflow=u.last}ic.delete(r.current)}}},[o,r]),[o,a]},xp;(function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.PauseBreak=19]="PauseBreak",e[e.CapsLock=20]="CapsLock",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.Meta=91]="Meta",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Equal=187]="Equal",e[e.Minus=189]="Minus",e[e.Backquote=192]="Backquote",e[e.Backslash=220]="Backslash"})(xp||(xp={}));var Ud;(function(e){e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl"})(Ud||(Ud={}));var hee=function(){return{CtrlCmd:$A()?"metaKey":"ctrlKey",WinCtrl:$A()?"ctrlKey":"metaKey"}},gee=function(t){var n=t.filter(function(i){return!!Ud[i]}),r={CtrlCmd:!1,Shift:!1,Alt:!1,WinCtrl:!1};return n.forEach(function(i){var s=Ud[i];r[s]=!0}),r},G3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Array.isArray(n)?n:[n],s=r.disableGlobalEvent,o=s===void 0?!1:s,a=r.capture,l=a===void 0?!1:a,c=r.stopPropagation,d=c===void 0?!1:c,u=r.preventDefault,h=u===void 0?!0:u,g=r.event,p=g===void 0?"keydown":g,m=gee(i),_=i.filter(function(b){return!Ud[b]})[0],y=hee(),f=y.CtrlCmd,x=y.WinCtrl,v=function(S){m.Shift&&!S.shiftKey||m.Alt&&!S.altKey||m.CtrlCmd&&!S[f]||m.WinCtrl&&!S[x]||_&&S.keyCode!==_||(d&&S.stopPropagation(),h&&S.preventDefault(),t&&t(S))};L.useEffect(function(){return o||document.addEventListener(p,v),function(){document.removeEventListener(p,v)}},[o]);var w=function(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return S!==p?function(){}:k!==l?function(){}:function(C){return v(C)}};return{bindings:{onKeyDown:w("keydown"),onKeyDownCapture:w("keydown",!0),onKeyPress:w("keypress"),onKeyPressCapture:w("keypress",!0),onKeyUp:w("keyup"),onKeyUpCapture:w("keyup",!0)}}},pee=["children","onClick","visible","width","onContentClick"],mee={onClick:function(){},visible:!1,onContentClick:function(){}},Cm=E.memo(function(e){var t=e.children,n=e.onClick,r=e.visible,i=e.width,s=e.onContentClick,o=Re(e,pee),a=Oe(),l=fi(!1),c=Fe(l,3),d=c[1],u=c[2],h=function(m){u.current||n&&n(m)},g=function(){if(u.current)var m=setTimeout(function(){d(!1),clearTimeout(m)},0)};return E.createElement(xa,{name:"backdrop-wrapper",visible:r,clearTime:300},E.createElement("div",xe({onClick:h,onMouseUp:g},Ue(o),{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" backdrop"}),E.createElement("div",{className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" layer"}),E.createElement("div",{onClick:s,onMouseDown:function(){return d(!0)},className:I.dynamic([["2429486860",[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]]])+" content"},t),E.createElement(I,{id:"2429486860",dynamic:[i,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity,a.expressiveness.portalOpacity]},".backdrop.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;z-index:1000;-webkit-overflow-scrolling:touch;box-sizing:border-box;text-align:center;}.content.__jsx-style-dynamic-selector{position:relative;z-index:1001;outline:none;max-width:90%;width:".concat(i,";margin:20px auto;vertical-align:middle;display:inline-block;}.backdrop.__jsx-style-dynamic-selector:before{display:inline-block;width:0;height:100%;vertical-align:middle;content:'';}.layer.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;opacity:").concat(a.expressiveness.portalOpacity,";background-color:black;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1);pointer-events:none;z-index:1000;}.backdrop-wrapper-enter.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}.backdrop-wrapper-enter-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:").concat(a.expressiveness.portalOpacity,";}.backdrop-wrapper-leave-active.__jsx-style-dynamic-selector .layer.__jsx-style-dynamic-selector{opacity:0;}"))))});Cm.defaultProps=mee;Cm.displayName="GeistBackdrop";or("top","right","bottom","left");var fee=function(t){var n={top:{initial:"translate3d(0, -100%, 0)",hidden:"translate3d(0, -100%, 0)",visible:"translate3d(0, 0, 0)"},left:{initial:"translate3d(-100%, 0, 0)",hidden:"translate3d(-100%, 0, 0)",visible:"translate3d(0, 0, 0)"},bottom:{initial:"translate3d(0, 100%, 0)",hidden:"translate3d(0, 100%, 0)",visible:"translate3d(0, 0, 0)"},right:{initial:"translate3d(100%, 0, 0)",hidden:"translate3d(100%, 0, 0)",visible:"translate3d(0, 0, 0)"}};return n[t]},_ee=["className","children","visible","placement"],yee={className:"",visible:!1},u1=function(t){var n=t.className,r=t.children,i=t.visible,s=t.placement,o=Re(t,_ee),a=Oe(),l=Ge(),c=l.SCALES,d=L.useRef(null),u=L.useRef(null),h=L.useRef(null),g=L.useMemo(function(){return fee(s)},[s]);L.useEffect(function(){if(i){var m=document.activeElement,_=f3(d.current,m);_||u.current&&u.current.focus()}},[i]);var p=function(_){var y=_.keyCode===9;if(!(!i||!y)){var f=document.activeElement;_.shiftKey?f===u.current&&h.current&&h.current.focus():f===h.current&&u.current&&u.current.focus()}};return E.createElement(xa,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",xe({role:"dialog",tabIndex:-1,onKeyDown:p,ref:d},Ue(o),{className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" "+"wrapper ".concat(s," ").concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab start"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:h,className:I.dynamic([["3022633861",[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]]])+" hide-tab end"}),E.createElement(I,{id:"3022633861",dynamic:[a.palette.background,a.palette.foreground,a.layout.radius,a.expressiveness.shadowLarge,g.initial,c.font(1),c.pl(1.3125),c.pr(1.3125),c.pt(1.3125),c.pb(1.3125),c.mt(0),c.mr(0),c.mb(0),c.ml(0),c.width(1,"100%"),c.height(1,"auto"),c.width(1,"auto"),c.height(1,"100%"),g.hidden,g.visible,g.visible,g.hidden]},".wrapper.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;right:0;bottom:0;max-width:100%;vertical-align:middle;overflow:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;background-color:".concat(a.palette.background,";color:").concat(a.palette.foreground,";border-radius:calc(3 * ").concat(a.layout.radius,");box-shadow:").concat(a.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:").concat(g.initial,";-ms-transform:").concat(g.initial,";transform:").concat(g.initial,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.6,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.6,0.1,1);font-size:").concat(c.font(1),";--modal-wrapper-padding-left:").concat(c.pl(1.3125),";--modal-wrapper-padding-right:").concat(c.pr(1.3125),";padding:").concat(c.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(c.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}.top.__jsx-style-dynamic-selector,.bottom.__jsx-style-dynamic-selector{width:").concat(c.width(1,"100%"),";height:").concat(c.height(1,"auto"),";}.left.__jsx-style-dynamic-selector,.right.__jsx-style-dynamic-selector{width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"100%"),";}.top.__jsx-style-dynamic-selector{bottom:auto;border-top-left-radius:0;border-top-right-radius:0;}.left.__jsx-style-dynamic-selector{right:auto;border-top-left-radius:0;border-bottom-left-radius:0;}.bottom.__jsx-style-dynamic-selector{top:auto;border-bottom-left-radius:0;border-bottom-right-radius:0;}.right.__jsx-style-dynamic-selector{left:auto;border-top-right-radius:0;border-bottom-right-radius:0;}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:").concat(g.visible,";-ms-transform:").concat(g.visible,";transform:").concat(g.visible,";-webkit-transition:opacity,-webkit-transform 400ms cubic-bezier(0.1,0.2,0.1,1);-webkit-transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);transition:opacity,transform 400ms cubic-bezier(0.1,0.2,0.1,1);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0.4;-webkit-transform:").concat(g.hidden,";-ms-transform:").concat(g.hidden,";transform:").concat(g.hidden,";}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};u1.defaultProps=yee;u1.displayName="GeistDrawerWrapper";var xee=["visible","keyboard","disableBackdropClick","onClose","onContentClick","wrapClassName","children"],vee={wrapClassName:"",keyboard:!0,disableBackdropClick:!1,placement:"right"},h1=function(t){var n=t.visible,r=t.keyboard,i=t.disableBackdropClick,s=t.onClose,o=t.onContentClick,a=t.wrapClassName,l=t.children,c=Re(t,xee),d=au("drawer"),u=L.useState(!1),h=Fe(u,2),g=h[0],p=h[1],m=V3(null,{scrollLayer:!0}),_=Fe(m,2),y=_[1],f=function(){s&&s(),p(!1),y(!1)};L.useEffect(function(){typeof n>"u"||(p(n),y(n))},[n]);var x=G3(function(){r&&f()},xp.Escape,{disableGlobalEvent:!0}),v=x.bindings,w=function(){i||f()};return d?bo.createPortal(E.createElement(Cm,xe({onClick:w,onContentClick:o,visible:g,width:"100%"},v),E.createElement(u1,xe({visible:g,className:a},Ue(c)),l)),d):null};h1.defaultProps=vee;h1.displayName="GeistDrawer";var g1=He(h1),bee=["className","children"],wee={className:""},p1=function(t){var n=t.className,r=t.children,i=Re(t,bee),s=Oe(),o=Ge(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("h2",xe({},Ue(i),{className:I.dynamic([["2865939188",[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2865939188",dynamic:[a.font(1.5),s.palette.foreground,a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"h2.__jsx-style-dynamic-selector{line-height:1.6;font-weight:normal;text-align:center;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;word-break:break-word;text-transform:capitalize;font-size:".concat(a.font(1.5),";color:").concat(s.palette.foreground,";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};p1.defaultProps=wee;p1.displayName="GeistModalTitle";var H3=He(p1),Eee=["className","children"],See={className:""},m1=function(t){var n=t.className,r=t.children,i=Re(t,Eee),s=Oe(),o=Ge(),a=o.SCALES;return E.createElement(E.Fragment,null,E.createElement("p",xe({},Ue(i),{className:I.dynamic([["2550488204",[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r),E.createElement(I,{id:"2550488204",dynamic:[s.palette.accents_5,a.font(.875),a.width(1,"auto"),a.height(1,"1.5em"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"p.__jsx-style-dynamic-selector{font-weight:normal;display:inline-block;text-align:center;word-break:break-word;text-transform:uppercase;color:".concat(s.palette.accents_5,";font-size:").concat(a.font(.875),";line-height:1.5em;width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"1.5em"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};m1.defaultProps=See;m1.displayName="GeistModalSubtitle";var W3=He(m1),kee=["className","children"],Aee={className:""},f1=function(t){var n=t.className,r=t.children,i=Re(t,kee),s=Ge(),o=s.SCALES;return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ue(i),{className:I.dynamic([["498745028",[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]]])+" "+"content ".concat(n)}),r),E.createElement(I,{id:"498745028",dynamic:[o.font(1),o.width(1,"auto"),o.height(1,"auto"),o.pt(1.3125),o.pr(1.3125),o.pb(.6625),o.pl(1.3125),o.mt(0),o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)"),o.mb(0),o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)")]},".content.__jsx-style-dynamic-selector{position:relative;text-align:left;font-size:".concat(o.font(1),";width:").concat(o.width(1,"auto"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3125)," ").concat(o.pr(1.3125)," ").concat(o.pb(.6625)," ").concat(o.pl(1.3125),";margin:").concat(o.mt(0)," ").concat(o.mr(0,"calc(var(--modal-wrapper-padding-right) * -1)")," ").concat(o.mb(0)," ").concat(o.ml(0,"calc(var(--modal-wrapper-padding-left) * -1)"),";}.content.__jsx-style-dynamic-selector>*:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector>*:last-child{margin-bottom:0;}")))};f1.defaultProps=Aee;f1.displayName="GeistModalContent";var X3=He(f1);g1.Title=H3;g1.Subtitle=W3;g1.Content=X3;var Cee=["className","children"],Tee={className:""},$d=function(t){var n=t.className,r=t.children,i=Re(t,Cee);return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ue(i),{className:"jsx-4105044205 "+"title ".concat(n)}),r),E.createElement(I,{id:"4105044205"},".title.jsx-4105044205{line-height:1.5;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;word-break:break-word;font-weight:600;-webkit-letter-spacing:-0.020625em;-moz-letter-spacing:-0.020625em;-ms-letter-spacing:-0.020625em;letter-spacing:-0.020625em;font-size:1.25em;width:auto;}"))};$d.defaultProps=Tee;$d.displayName="GeistFieldsetTitle";var Lee=["className","children"],Nee={className:""},Vd=function(t){var n=t.className,r=t.children,i=Re(t,Lee);return E.createElement(E.Fragment,null,E.createElement("div",xe({},Ue(i),{className:"jsx-2265168013 "+(n||"")}),r),E.createElement(I,{id:"2265168013"},"div.jsx-2265168013{font-size:0.875em;line-height:1.6;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;margin:0.75em 0;}"))};Vd.defaultProps=Nee;Vd.displayName="GeistFieldsetSubtitle";var Iee=["className","children"],Mee={className:""},_1=function(t){var n=t.className,r=t.children,i=Re(t,Iee),s=Oe(),o=Ge(),a=o.SCALES;return E.createElement("footer",xe({},Ue(i),{className:I.dynamic([["903731644",[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"903731644",dynamic:[s.palette.accents_1,s.palette.border,s.layout.radius,s.layout.radius,s.palette.accents_6,s.layout.gapHalf,s.layout.gap,a.font(.875),a.width(1,"auto"),a.height(2.875),a.pt(.625),a.pr(1.31),a.pb(.625),a.pl(1.31),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"footer.__jsx-style-dynamic-selector{background-color:".concat(s.palette.accents_1,";border-top:1px solid ").concat(s.palette.border,";border-bottom-left-radius:").concat(s.layout.radius,";border-bottom-right-radius:").concat(s.layout.radius,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden;color:").concat(s.palette.accents_6,";padding:").concat(s.layout.gapHalf," ").concat(s.layout.gap,";box-sizing:border-box;font-size:").concat(a.font(.875),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(2.875),";padding:").concat(a.pt(.625)," ").concat(a.pr(1.31)," ").concat(a.pb(.625)," ").concat(a.pl(1.31),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}")))};_1.defaultProps=Mee;_1.displayName="GeistFieldsetFooter";var Y3=He(_1),Pee=["className","children"],Fee={className:""},y1=function(t){var n=t.className,r=t.children,i=Re(t,Pee),s=Ge(),o=s.SCALES;return E.createElement("div",xe({},Ue(i),{className:I.dynamic([["93049118",[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"content ".concat(n)}),r,E.createElement(I,{id:"93049118",dynamic:[o.width(1,"100%"),o.height(1,"auto"),o.pt(1.3),o.pr(1.3),o.pb(1.3),o.pl(1.3),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".content.__jsx-style-dynamic-selector{width:".concat(o.width(1,"100%"),";height:").concat(o.height(1,"auto"),";padding:").concat(o.pt(1.3)," ").concat(o.pr(1.3)," ").concat(o.pb(1.3)," ").concat(o.pl(1.3),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.content.__jsx-style-dynamic-selector > *:first-child{margin-top:0;}.content.__jsx-style-dynamic-selector > *:last-child{margin-bottom:0;}")))};y1.defaultProps=Fee;y1.displayName="GeistFieldsetContent";var vp=He(y1),Ree={inGroup:!1,currentValue:""},q3=E.createContext(Ree),Dee=function(){return E.useContext(q3)},zee=["className","title","subtitle","children","value","label"],Oee={value:"",label:"",disabled:!1,title:"",subtitle:"",className:""},x1=function(t){var n=t.className,r=t.title,i=t.subtitle,s=t.children,o=t.value,a=t.label,l=Re(t,zee),c=Oe(),d=Ge(),u=d.SCALES,h=Dee(),g=h.inGroup,p=h.currentValue,m=h.register,_=L.useState(g),y=Fe(_,2),f=y[0],x=y[1],v=mi(s,Y3),w=Fe(v,2),b=w[0],S=w[1],k=Qc(b,$d),C=Qc(b,Vd),A=Qc(b,vp);g&&(a||Mi('Props "label" is required when in a group.',"Fieldset Group"),(!o||o==="")&&(o=a),L.useEffect(function(){m&&m({value:o,label:a})},[]),L.useEffect(function(){!p||p===""||x(p!==o)},[p]));var N=L.useMemo(function(){return E.createElement(E.Fragment,null,b,!k&&r&&E.createElement($d,null,r),!C&&i&&E.createElement(Vd,null,i))},[b,k,C,r,i]);return E.createElement("div",xe({},Ue(l),{className:I.dynamic([["3253250630",[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+"fieldset ".concat(n)}),A?N:E.createElement(vp,null,N),S&&S,E.createElement(I,{id:"3253250630",dynamic:[c.palette.background,c.palette.border,c.layout.radius,f?"none":"block",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},".fieldset.__jsx-style-dynamic-selector{background-color:".concat(c.palette.background,";border:1px solid ").concat(c.palette.border,";border-radius:").concat(c.layout.radius,";overflow:hidden;display:").concat(f?"none":"block",";font-size:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}")))};x1.defaultProps=Oee;x1.displayName="GeistFieldset";var Dl=He(x1),Bee=["className","children","value","onChange"],jee={className:""},v1=function(t){var n=t.className,r=t.children,i=t.value,s=t.onChange,o=Re(t,Bee),a=Oe(),l=Ge(),c=l.SCALES,d=L.useState(i),u=Fe(d,2),h=u[0],g=u[1],p=fi([]),m=Fe(p,3),_=m[0],y=m[1],f=m[2],x=function(S){var k=f.current.find(function(C){return C.value===S.value});k&&Mi('The "value" of each "Fieldset" must be unique.',"Fieldset"),y([].concat(Xr(f.current),[S]))},v=L.useMemo(function(){return{currentValue:h,inGroup:!0,register:x}},[h]),w=L.useCallback(function(b){g(b),s&&s(b)},[s]);return E.createElement(q3.Provider,{value:v},E.createElement("div",xe({},Ue(o),{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+"group ".concat(n)}),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-tabs"},_.map(function(b){return E.createElement("button",{onClick:function(){return w(b.value)},key:b.value,className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" "+((h===b.value?"active":"")||"")},b.label)})),E.createElement("div",{className:I.dynamic([["3411776855",[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]]])+" group-content"},r),E.createElement(I,{id:"3411776855",dynamic:[c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0,0),c.ml(0),c.font(1),a.palette.accents_3,a.palette.accents_1,a.palette.border,a.palette.background,a.palette.foreground,a.layout.radius,a.layout.radius]},".group.__jsx-style-dynamic-selector{width:".concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0,0)," ").concat(c.ml(0),";}.group-tabs.__jsx-style-dynamic-selector{white-space:nowrap;overflow-y:hidden;overflow-x:auto;font-size:").concat(c.font(1),";margin-bottom:-1px;}.group-content.__jsx-style-dynamic-selector{border-top-left-radius:0;overflow:hidden;}.group-content.__jsx-style-dynamic-selector .fieldset{border-top-left-radius:0;}button.__jsx-style-dynamic-selector{height:2.7em;line-height:2.7em;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:").concat(a.palette.accents_3,";background-color:").concat(a.palette.accents_1,";font-size:0.875em;white-space:nowrap;text-transform:capitalize;-webkit-appearance:none;cursor:pointer;margin:0;padding:0 1.45em;overflow:hidden;-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;border-radius:0;border:1px solid ").concat(a.palette.border,";-webkit-text-decoration:none;text-decoration:none;outline:none;}button.active.__jsx-style-dynamic-selector{border-bottom-color:transparent;background-color:").concat(a.palette.background,";color:").concat(a.palette.foreground,";cursor:default;}button.__jsx-style-dynamic-selector:first-of-type{border-top-left-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector:last-of-type{border-top-right-radius:").concat(a.layout.radius,";}button.__jsx-style-dynamic-selector+button.__jsx-style-dynamic-selector{border-left:0;}"))))};v1.defaultProps=jee;v1.displayName="GeistFieldsetGroup";var Uee=He(v1);Dl.Title=$d;Dl.Subtitle=Vd;Dl.Footer=Y3;Dl.Group=Uee;Dl.Content=vp;Dl.Body=vp;var $ee={toasts:[],toastHovering:!1,updateToasts:function(t){return t},updateToastHoverStatus:function(){}},Vee=E.createContext($ee),Gee=function(){return E.useContext(Vee)},Hee=["xs","sm","md","lg","xl","justify","direction","alignItems","alignContent","children","className"],Wee={xs:!1,sm:!1,md:!1,lg:!1,xl:!1,className:""},sc=function(t){var n=t===0?"display: none;":"display: inherit;";if(typeof t=="number"){var r=4.166666666666667*t,i=r>100?"100%":r<0?"0":"".concat(r,"%");return{grow:0,display:n,width:i,basis:i}}return{grow:1,display:n,width:"100%",basis:"0"}},Tm=function(t){var n=t.xs,r=t.sm,i=t.md,s=t.lg,o=t.xl,a=t.justify,l=t.direction,c=t.alignItems,d=t.alignContent,u=t.children,h=t.className,g=Re(t,Hee),p=Oe(),m=Ge(),_=m.SCALES,y=L.useMemo(function(){var x={justify:a,direction:l,alignItems:c,alignContent:d,xs:n,sm:r,md:i,lg:s,xl:o},v=Object.keys(x).reduce(function(w,b){return x[b]!==void 0&&x[b]!==!1?"".concat(w," ").concat(b):w},"");return v.trim()},[a,l,c,d,n,r,i,s,o]),f=L.useMemo(function(){return{xs:sc(n),sm:sc(r),md:sc(i),lg:sc(s),xl:sc(o)}},[n,r,i,s,o]);return E.createElement("div",xe({},Ue(g),{className:I.dynamic([["2419486498",[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]]])+" "+"item ".concat(y," ").concat(h)}),u,E.createElement(I,{id:"2419486498",dynamic:[_.font(1,"inherit"),_.height(1,"auto"),a,l,d,c,f.xs.grow,f.xs.width,f.xs.basis,f.xs.display,p.breakpoints.sm.min,f.sm.grow,f.sm.width,f.sm.basis,f.sm.display,p.breakpoints.md.min,f.md.grow,f.md.width,f.md.basis,f.md.display,p.breakpoints.lg.min,f.lg.grow,f.lg.width,f.lg.basis,f.lg.display,p.breakpoints.xl.min,f.xl.grow,f.xl.width,f.xl.basis,f.xl.display]},".item.__jsx-style-dynamic-selector{font-size:".concat(_.font(1,"inherit"),";height:").concat(_.height(1,"auto"),";}.justify.__jsx-style-dynamic-selector{-webkit-box-pack:").concat(a,";-webkit-justify-content:").concat(a,";-ms-flex-pack:").concat(a,";justify-content:").concat(a,";}.direction.__jsx-style-dynamic-selector{-webkit-flex-direction:").concat(l,";-ms-flex-direction:").concat(l,";flex-direction:").concat(l,";}.alignContent.__jsx-style-dynamic-selector{-webkit-align-content:").concat(d,";-ms-flex-line-pack:").concat(d,";align-content:").concat(d,";}.alignItems.__jsx-style-dynamic-selector{-webkit-align-items:").concat(c,";-webkit-box-align:").concat(c,";-ms-flex-align:").concat(c,";align-items:").concat(c,";}.xs.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xs.grow,";-webkit-flex-grow:").concat(f.xs.grow,";-ms-flex-positive:").concat(f.xs.grow,";flex-grow:").concat(f.xs.grow,";max-width:").concat(f.xs.width,";-webkit-flex-basis:").concat(f.xs.basis,";-ms-flex-preferred-size:").concat(f.xs.basis,";flex-basis:").concat(f.xs.basis,";").concat(f.xs.display,";}@media only screen and (min-width:").concat(p.breakpoints.sm.min,"){.sm.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.sm.grow,";-webkit-flex-grow:").concat(f.sm.grow,";-ms-flex-positive:").concat(f.sm.grow,";flex-grow:").concat(f.sm.grow,";max-width:").concat(f.sm.width,";-webkit-flex-basis:").concat(f.sm.basis,";-ms-flex-preferred-size:").concat(f.sm.basis,";flex-basis:").concat(f.sm.basis,";").concat(f.sm.display,";}}@media only screen and (min-width:").concat(p.breakpoints.md.min,"){.md.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.md.grow,";-webkit-flex-grow:").concat(f.md.grow,";-ms-flex-positive:").concat(f.md.grow,";flex-grow:").concat(f.md.grow,";max-width:").concat(f.md.width,";-webkit-flex-basis:").concat(f.md.basis,";-ms-flex-preferred-size:").concat(f.md.basis,";flex-basis:").concat(f.md.basis,";").concat(f.md.display,";}}@media only screen and (min-width:").concat(p.breakpoints.lg.min,"){.lg.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.lg.grow,";-webkit-flex-grow:").concat(f.lg.grow,";-ms-flex-positive:").concat(f.lg.grow,";flex-grow:").concat(f.lg.grow,";max-width:").concat(f.lg.width,";-webkit-flex-basis:").concat(f.lg.basis,";-ms-flex-preferred-size:").concat(f.lg.basis,";flex-basis:").concat(f.lg.basis,";").concat(f.lg.display,";}}@media only screen and (min-width:").concat(p.breakpoints.xl.min,"){.xl.__jsx-style-dynamic-selector{-webkit-box-flex:").concat(f.xl.grow,";-webkit-flex-grow:").concat(f.xl.grow,";-ms-flex-positive:").concat(f.xl.grow,";flex-grow:").concat(f.xl.grow,";max-width:").concat(f.xl.width,";-webkit-flex-basis:").concat(f.xl.basis,";-ms-flex-preferred-size:").concat(f.xl.basis,";flex-basis:").concat(f.xl.basis,";").concat(f.xl.display,";}}")))};Tm.defaultProps=Wee;Tm.displayName="GeistGridBasicItem";var Xee=["children","className"],Yee={className:""},b1=function(t){var n=t.children,r=t.className,i=Re(t,Xee),s=Ge(),o=s.SCALES,a={styles:E.createElement(I,{id:"1271839607",dynamic:[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]},"div.__jsx-style-dynamic-selector{margin:".concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";box-sizing:border-box;padding:").concat(o.pt(0,"var(--grid-gap-unit)")," ").concat(o.pr(0,"var(--grid-gap-unit)")," ").concat(o.pb(0,"var(--grid-gap-unit)")," ").concat(o.pl(0,"var(--grid-gap-unit)"),";}")),className:I.dynamic([["1271839607",[o.mt(0),o.mr(0),o.mb(0),o.ml(0),o.pt(0,"var(--grid-gap-unit)"),o.pr(0,"var(--grid-gap-unit)"),o.pb(0,"var(--grid-gap-unit)"),o.pl(0,"var(--grid-gap-unit)")]]])},l=a.className,c=a.styles;return E.createElement(Tm,xe({className:"".concat(l," ").concat(r)},Ue(i)),n,c)};b1.defaultProps=Yee;b1.displayName="GeistGrid";var w1=He(b1),qee=["gap","wrap","children","className"],Zee={gap:0,wrap:"wrap",className:""},E1=function(t){var n=t.gap,r=t.wrap,i=t.children,s=t.className,o=Re(t,qee),a=Ge(),l=a.unit,c=a.SCALES,d=L.useMemo(function(){return"calc(".concat(n," * ").concat(l," * 1/3)")},[n,l]),u={styles:E.createElement(I,{id:"3631618093",dynamic:[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]},"div.__jsx-style-dynamic-selector{--grid-gap-unit:".concat(d,";--grid-container-margin:calc(-1 * var(--grid-gap-unit));--grid-container-width:calc(100% + var(--grid-gap-unit) * 2);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:").concat(r,";-ms-flex-wrap:").concat(r,";flex-wrap:").concat(r,";box-sizing:border-box;width:").concat(c.width(1,"var(--grid-container-width)"),";margin:").concat(c.mt(0,"var(--grid-container-margin)")," ").concat(c.mr(0,"var(--grid-container-margin)")," ").concat(c.mb(0,"var(--grid-container-margin)")," ").concat(c.ml(0,"var(--grid-container-margin)"),";}")),className:I.dynamic([["3631618093",[d,r,c.width(1,"var(--grid-container-width)"),c.mt(0,"var(--grid-container-margin)"),c.mr(0,"var(--grid-container-margin)"),c.mb(0,"var(--grid-container-margin)"),c.ml(0,"var(--grid-container-margin)")]]])},h=u.className,g=u.styles;return E.createElement(Tm,xe({className:"".concat(h," ").concat(s)},Ue(o)),i,g)};E1.defaultProps=Zee;E1.displayName="GeistGridContainer";var Qee=He(E1);w1.Container=Qee;var Kee=["command","shift","option","ctrl","children","className"],Jee={command:!1,shift:!1,option:!1,ctrl:!1,className:""},S1=function(t){var n=t.command,r=t.shift,i=t.option,s=t.ctrl,o=t.children,a=t.className,l=Re(t,Kee),c=Oe(),d=Ge(),u=d.SCALES;return E.createElement("kbd",xe({},Ue(l),{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])+" "+(a||"")}),n&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},"⌘"),r&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},"⇧"),i&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},"⌥"),s&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},"⌃"),o&&E.createElement("span",{className:I.dynamic([["921453049",[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]]])},o),E.createElement(I,{id:"921453049",dynamic:[c.palette.accents_5,c.palette.accents_1,c.font.sans,c.layout.radius,c.palette.accents_2,u.font(.875),u.width(1,"fit-content"),u.height(1,"auto"),u.pt(0),u.pr(.34),u.pb(0),u.pl(.34),u.mt(0),u.mr(0),u.mb(0),u.ml(0)]},"kbd.__jsx-style-dynamic-selector{line-height:2em;text-align:center;display:inline-block;color:".concat(c.palette.accents_5,";background-color:").concat(c.palette.accents_1,";font-family:").concat(c.font.sans,";border-radius:").concat(c.layout.radius,";border:1px solid ").concat(c.palette.accents_2,";font-size:").concat(u.font(.875),";width:").concat(u.width(1,"fit-content"),";height:").concat(u.height(1,"auto"),";min-width:2em;min-height:2em;padding:").concat(u.pt(0)," ").concat(u.pr(.34)," ").concat(u.pb(0)," ").concat(u.pl(.34),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}span.__jsx-style-dynamic-selector{line-height:2em;font-size:1em;text-align:center;}span.__jsx-style-dynamic-selector+span.__jsx-style-dynamic-selector{margin-left:0.3em;}")))};S1.defaultProps=Jee;S1.displayName="GeistKeyboard";He(S1);var ete=["className","children","visible"],tte={className:"",visible:!1},k1=function(t){var n=t.className,r=t.children,i=t.visible,s=Re(t,ete),o=Oe(),a=Ge(),l=a.SCALES,c=L.useRef(null),d=L.useRef(null),u=L.useRef(null);L.useEffect(function(){if(i){var g=document.activeElement,p=f3(c.current,g);p||d.current&&d.current.focus()}},[i]);var h=function(p){var m=p.keyCode===9;if(!(!i||!m)){var _=document.activeElement;p.shiftKey?_===d.current&&u.current&&u.current.focus():_===u.current&&d.current&&d.current.focus()}};return E.createElement(xa,{name:"wrapper",visible:i,clearTime:300},E.createElement("div",xe({role:"dialog",tabIndex:-1,onKeyDown:h,ref:c},Ue(s),{className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" "+"wrapper ".concat(n)}),E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:d,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),r,E.createElement("div",{tabIndex:0,"aria-hidden":"true",ref:u,className:I.dynamic([["4268738715",[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]]])+" hide-tab"}),E.createElement(I,{id:"4268738715",dynamic:[o.palette.background,o.palette.foreground,o.layout.radius,o.expressiveness.shadowLarge,l.font(1),l.height(1,"auto"),l.pl(1.3125),l.pr(1.3125),l.pt(1.3125),l.pb(1.3125),l.mt(0),l.mr(0),l.mb(0),l.ml(0)]},".wrapper.__jsx-style-dynamic-selector{max-width:100%;vertical-align:middle;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;box-sizing:border-box;background-color:".concat(o.palette.background,";color:").concat(o.palette.foreground,";border-radius:").concat(o.layout.radius,";box-shadow:").concat(o.expressiveness.shadowLarge,";opacity:0;outline:none;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, -webkit-transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;-webkit-transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;transition:opacity 0.35s cubic-bezier(0.4,0,0.2,1) 0s, transform 0.35s cubic-bezier(0.4,0,0.2,1) 0s;width:100%;font-size:").concat(l.font(1),";height:").concat(l.height(1,"auto"),";--modal-wrapper-padding-left:").concat(l.pl(1.3125),";--modal-wrapper-padding-right:").concat(l.pr(1.3125),";padding:").concat(l.pt(1.3125)," var(--modal-wrapper-padding-right) ").concat(l.pb(1.3125)," var(--modal-wrapper-padding-left);margin:").concat(l.mt(0)," ").concat(l.mr(0)," ").concat(l.mb(0)," ").concat(l.ml(0),";}.wrapper-enter.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.wrapper-enter-active.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave.__jsx-style-dynamic-selector{opacity:1;-webkit-transform:translate3d(0px,0px,0px);-ms-transform:translate3d(0px,0px,0px);transform:translate3d(0px,0px,0px);}.wrapper-leave-active.__jsx-style-dynamic-selector{opacity:0;-webkit-transform:translate3d(0px,-30px,0px);-ms-transform:translate3d(0px,-30px,0px);transform:translate3d(0px,-30px,0px);}.hide-tab.__jsx-style-dynamic-selector{outline:none;overflow:hidden;width:0;height:0;opacity:0;}"))))};k1.defaultProps=tte;k1.displayName="GeistModalWrapper";var nte={},Z3=E.createContext(nte),rte=function(){return E.useContext(Z3)},ite=["className","children","onClick","passive","disabled"],ste={className:"",passive:!1,disabled:!1},A1=E.forwardRef(function(e,t){var n=e.className,r=e.children,i=e.onClick,s=e.passive,o=e.disabled,a=Re(e,ite),l=Oe(),c=Ge(),d=c.SCALES,u=L.useRef(null),h=rte(),g=h.close;L.useImperativeHandle(t,function(){return u.current});var p=function(b){if(!o){var S=Object.assign({},b,{close:function(){return g&&g()}});i&&i(S)}},m=L.useMemo(function(){return s?l.palette.accents_5:l.palette.foreground},[l.palette,s,o]),_=L.useMemo(function(){return o?l.palette.accents_1:l.palette.background},[l.palette,o]),y={styles:E.createElement(I,{id:"930885138",dynamic:[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]},"button.btn.__jsx-style-dynamic-selector{font-size:".concat(d.font(.75),";border:none;color:").concat(m,";background-color:").concat(l.palette.background,";display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex:1;-ms-flex:1;flex:1;height:").concat(d.height(3.5625),";border-radius:0;min-width:0;}button.btn.__jsx-style-dynamic-selector:hover,button.btn.__jsx-style-dynamic-selector:focus{color:").concat(o?m:l.palette.foreground,";background-color:").concat(o?_:l.palette.accents_1,";}")),className:I.dynamic([["930885138",[d.font(.75),m,l.palette.background,d.height(3.5625),o?m:l.palette.foreground,o?_:l.palette.accents_1]]])},f=y.className,x=y.styles,v=xe({},a,{effect:!1,ref:u});return E.createElement(Ko,xe({className:"".concat(f," ").concat(n),onClick:p,disabled:o},v),r,x)});A1.defaultProps=ste;A1.displayName="GeistModalAction";var Q3=He(A1),ote=["children"],K3=function(t){var n=t.children,r=Re(t,ote),i=Oe(),s=L.useRef(null),o=L.useState("auto"),a=Fe(o,2),l=a[0],c=a[1];return L.useEffect(function(){s.current&&c("".concat(s.current.clientHeight,"px"))},[s]),E.createElement(E.Fragment,null,E.createElement("div",{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),E.createElement("footer",xe({ref:s},Ue(r),{className:I.dynamic([["2914444644",[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]]])}),n),E.createElement(I,{id:"2914444644",dynamic:[i.palette.border,i.layout.radius,i.layout.radius,i.palette.border,l]},"footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;width:100%;height:auto;position:absolute;bottom:0;left:0;right:0;border-top:1px solid ".concat(i.palette.border,";border-bottom-left-radius:").concat(i.layout.radius,";border-bottom-right-radius:").concat(i.layout.radius,";}footer.__jsx-style-dynamic-selector>button.btn + button.btn{border-left:1px solid ").concat(i.palette.border,";}div.__jsx-style-dynamic-selector{height:").concat(l,";-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}")))};K3.displayName="GeistModalActions";var ate=E.memo(K3),lte={wrapClassName:"",keyboard:!0,disableBackdropClick:!1},C1=function(t){var n=t.visible,r=t.onClose,i=t.children,s=t.keyboard,o=t.wrapClassName,a=t.onContentClick,l=t.disableBackdropClick,c=au("modal"),d=Ge(),u=d.SCALES,h=V3(null,{scrollLayer:!0}),g=Fe(h,2),p=g[1],m=L.useState(!1),_=Fe(m,2),y=_[0],f=_[1],x=mi(i,Q3),v=Fe(x,2),w=v[0],b=v[1],S=b&&E.Children.count(b)>0,k=function(){r&&r(),f(!1),p(!1)};L.useEffect(function(){typeof n>"u"||(f(n),p(n))},[n]);var C=G3(function(){s&&k()},xp.Escape,{disableGlobalEvent:!0}),A=C.bindings,N=function(){l||k()},R=L.useMemo(function(){return{close:k}},[]);return c?bo.createPortal(E.createElement(Z3.Provider,{value:R},E.createElement(Cm,xe({onClick:N,onContentClick:a,visible:y,width:u.width(26)},A),E.createElement(k1,{visible:y,className:o},w,S&&E.createElement(ate,null,b)))),c):null};C1.defaultProps=lte;C1.displayName="GeistModal";var Lm=He(C1);Lm.Title=H3;Lm.Subtitle=W3;Lm.Content=X3;Lm.Action=Q3;var cte=["children","type","label","filled","className"],dte={type:"default",label:"note",filled:!1,className:""},ute=function(t,n,r){var i={secondary:r.palette.secondary,success:r.palette.success,warning:r.palette.warning,error:r.palette.error},s=i[t];if(!n)return{color:s||r.palette.foreground,borderColor:s||r.palette.border,bgColor:r.palette.background};var o=s?"white":r.palette.background;return{color:o,borderColor:s||r.palette.foreground,bgColor:s||r.palette.foreground}},T1=function(t){var n=t.children,r=t.type,i=t.label,s=t.filled,o=t.className,a=Re(t,cte),l=Oe(),c=Ge(),d=c.SCALES,u=L.useMemo(function(){return ute(r,s,l)},[r,s,l]),h=u.color,g=u.borderColor,p=u.bgColor;return E.createElement("div",xe({},Ue(a),{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" "+"note ".concat(o)}),i&&E.createElement("span",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])+" label"},E.createElement("b",{className:I.dynamic([["1082065680",[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]]])},i,":")),n,E.createElement(I,{id:"1082065680",dynamic:[g,h,p,l.layout.radius,d.font(.875),d.width(1,"auto"),d.height(1,"auto"),d.pt(.667),d.pr(1.32),d.pb(.667),d.pl(1.32),d.mt(0),d.mr(0),d.mb(0),d.ml(0)]},".note.__jsx-style-dynamic-selector{line-height:1.8;border:1px solid ".concat(g,";color:").concat(h,";background-color:").concat(p,";border-radius:").concat(l.layout.radius,";font-size:").concat(d.font(.875),";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";padding:").concat(d.pt(.667)," ").concat(d.pr(1.32)," ").concat(d.pb(.667)," ").concat(d.pl(1.32),";margin:").concat(d.mt(0)," ").concat(d.mr(0)," ").concat(d.mb(0)," ").concat(d.ml(0),";}.note.__jsx-style-dynamic-selector p{margin:0;}.label.__jsx-style-dynamic-selector{text-transform:uppercase;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1.5;padding-right:0.38em;}")))};T1.defaultProps=dte;T1.displayName="GeistNote";He(T1);var hte=["className","children"],gte={className:""},L1=function(t){var n=t.className,r=t.children,i=Re(t,hte),s=Ge(),o=s.SCALES;return E.createElement("main",xe({},Ue(i),{className:I.dynamic([["3887979816",[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(n||"")}),r,E.createElement(I,{id:"3887979816",dynamic:[o.font(1),o.width(1,"100%"),o.height(1,"100%"),o.pt(3.125),o.pr(0),o.pb(3.125),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"main.__jsx-style-dynamic-selector{font-size:".concat(o.font(1),";width:").concat(o.width(1,"100%"),";height:").concat(o.height(1,"100%"),";padding:").concat(o.pt(3.125)," ").concat(o.pr(0)," ").concat(o.pb(3.125)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};L1.defaultProps=gte;L1.displayName="GeistPageContent";var bp=He(L1),pte=["children","render","dotBackdrop","className"];or("default","effect","effect-seo");var mte={render:"default",dotBackdrop:!1},fte=function(){return E.createElement("span",{className:"jsx-3167743014"},E.createElement(I,{id:"3167743014"},"body{background-image:radial-gradient(#e3e3e3 1px,transparent 0), radial-gradient(#e3e3e3 1px,transparent 0);background-position:0 0,25px 25px;background-attachment:fixed;background-size:50px 50px;}"))},N1=function(t){var n=t.children,r=t.render,i=t.dotBackdrop,s=t.className,o=Re(t,pte),a=Oe(),l=Ge(),c=l.SCALES,d=L.useMemo(function(){return a.type==="dark"?!1:i},[i,a.type]),u=L.useState(r!=="default"),h=Fe(u,2),g=h[0],p=h[1];if(L.useEffect(function(){p(!1)},[]),g){var m=r==="effect-seo";return m?E.createElement("div",{"aria-hidden":"true",className:"jsx-3942095687 hidden"},n,E.createElement(I,{id:"3942095687"},".hidden.jsx-3942095687{opacity:0;display:none;}")):null}var _=Qc(n,bp);return E.createElement("section",xe({},Ue(o),{className:I.dynamic([["1515698274",[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]]])+" "+(s||"")}),_?n:E.createElement(bp,null,n),d&&E.createElement(fte,null),E.createElement(I,{id:"1515698274",dynamic:[c.font(1),c.width(1,"calc(100% - 100pt)"),c.height(1,"auto"),c.pt(0),c.pr(1.34),c.pb(0),c.pl(1.34),c.mt(0),c.mr(0,"auto"),c.mb(0),c.ml(0,"auto")]},"section.__jsx-style-dynamic-selector{max-width:100vw;min-height:100vh;box-sizing:border-box;position:relative;font-size:".concat(c.font(1),";width:").concat(c.width(1,"calc(100% - 100pt)"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(1.34)," ").concat(c.pb(0)," ").concat(c.pl(1.34),";margin:").concat(c.mt(0)," ").concat(c.mr(0,"auto")," ").concat(c.mb(0)," ").concat(c.ml(0,"auto"),";}")))};N1.defaultProps=mte;N1.displayName="GeistPage";var Nm=He(N1),_te=["children","center","className"],yte={center:!1,className:""},I1=function(t){var n=t.children,r=t.center,i=t.className,s=Re(t,_te),o=Ge(),a=o.SCALES;return E.createElement("header",xe({},Ue(s),{className:I.dynamic([["3053482948",[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]]])+" "+"".concat(r?"center":""," ").concat(i)}),n,E.createElement(I,{id:"3053482948",dynamic:[a.font(1),a.width(1,"100%"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0)]},"header.__jsx-style-dynamic-selector{font-size:".concat(a.font(1),";width:").concat(a.width(1,"100%"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0),";}.center.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")))};I1.defaultProps=yte;I1.displayName="GeistPageHeader";var xte=He(I1),vte=["children"],bte={className:""},M1=function(t){var n=t.children,r=Re(t,vte),i=Ge(),s=i.SCALES;return E.createElement("footer",xe({},Ue(r),{className:I.dynamic([["3447440073",[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]]])}),n,E.createElement(I,{id:"3447440073",dynamic:[s.font(1),s.width(1,"100%"),s.height(1,"auto"),s.pt(0),s.pr(0),s.pb(0),s.pl(0),s.mt(0),s.mr(0),s.mb(0),s.ml(0)]},"footer.__jsx-style-dynamic-selector{position:absolute;bottom:0;font-size:".concat(s.font(1),";width:").concat(s.width(1,"100%"),";height:").concat(s.height(1,"auto"),";padding:").concat(s.pt(0)," ").concat(s.pr(0)," ").concat(s.pb(0)," ").concat(s.pl(0),";margin:").concat(s.mt(0)," ").concat(s.mr(0)," ").concat(s.mb(0)," ").concat(s.ml(0),";}")))};M1.defaultProps=bte;M1.displayName="GeistPageFooter";var wte=He(M1);Nm.Header=xte;Nm.Content=bp;Nm.Body=bp;Nm.Footer=wte;var Ete=["active","children","disabled","onClick"],Jo=function(t){var n=t.active,r=t.children,i=t.disabled,s=t.onClick,o=Re(t,Ete),a=Oe(),l=L.useMemo(function(){return[hs(a.palette.success,.1),hs(a.palette.success,.8)]},[a.palette.success]),c=Fe(l,2),d=c[0],u=c[1],h=function(p){i||s&&s(p)};return E.createElement("li",{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])},E.createElement("button",xe({onClick:h},Ue(o),{className:I.dynamic([["1657796974",[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]]])+" "+"".concat(n?"active":""," ").concat(i?"disabled":"")}),r),E.createElement(I,{id:"1657796974",dynamic:[a.palette.success,a.layout.radius,a.palette.background,d,a.palette.success,a.palette.background,a.expressiveness.shadowSmall,u,a.expressiveness.shadowMedium,a.palette.accents_4,a.palette.accents_2]},"li.__jsx-style-dynamic-selector{margin-right:0.428em;display:inline-block;}button.__jsx-style-dynamic-selector{border:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-sizing:border-box;text-transform:capitalize;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;text-align:center;vertical-align:middle;box-shadow:none;outline:none;height:var(--pagination-size);min-width:var(--pagination-size);font-size:inherit;cursor:pointer;color:".concat(a.palette.success,";border-radius:").concat(a.layout.radius,";background-color:").concat(a.palette.background,";-webkit-transition:all linear 200ms 0ms;transition:all linear 200ms 0ms;}button.__jsx-style-dynamic-selector:hover{background-color:").concat(d,";}.active.__jsx-style-dynamic-selector{font-weight:bold;background-color:").concat(a.palette.success,";color:").concat(a.palette.background,";box-shadow:").concat(a.expressiveness.shadowSmall,";}.active.__jsx-style-dynamic-selector:hover{background-color:").concat(u,";box-shadow:").concat(a.expressiveness.shadowMedium,";}.disabled.__jsx-style-dynamic-selector{color:").concat(a.palette.accents_4,";cursor:not-allowed;}.disabled.__jsx-style-dynamic-selector:hover{background-color:").concat(a.palette.accents_2,";}button.__jsx-style-dynamic-selector svg{width:1.3em;height:1.3em;}")))};Jo.displayName="GeistPaginationItem";or("prev","next","click");var Ste={},J3=E.createContext(Ste),eD=function(){return E.useContext(J3)},kte=["children"],wp=function(t){var n=t.children,r=Re(t,kte),i=eD(),s=i.update,o=i.isFirst;return E.createElement(Jo,xe({onClick:function(){return s&&s("prev")},disabled:o},Ue(r)),n)};wp.displayName="GeistPaginationPrevious";var Ate=["children"],Ep=function(t){var n=t.children,r=Re(t,Ate),i=eD(),s=i.update,o=i.isLast;return E.createElement(Jo,xe({onClick:function(){return s&&s("next")},disabled:o},Ue(r)),n)};Ep.displayName="GeistPaginationNext";var jy=function(t){var n=t.isBefore,r=t.onClick,i=L.useState(!1),s=Fe(i,2),o=s[0],a=s[1];return E.createElement(Jo,{onClick:function(c){return r&&r(c)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},o?E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])+" more"},E.createElement("path",{d:"M13 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("path",{d:"M6 17l5-5-5-5",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})):E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])},E.createElement("circle",{cx:"12",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"19",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])}),E.createElement("circle",{cx:"5",cy:"12",r:"1",fill:"currentColor",className:I.dynamic([["2928474255",[n?"180deg":"0deg"]]])})),E.createElement(I,{id:"2928474255",dynamic:[n?"180deg":"0deg"]},"svg.__jsx-style-dynamic-selector{color:currentColor;stroke:currentColor;width:1em;height:1em;}.more.__jsx-style-dynamic-selector{-webkit-transform:rotate(".concat(n?"180deg":"0deg",");-ms-transform:rotate(").concat(n?"180deg":"0deg",");transform:rotate(").concat(n?"180deg":"0deg",");}")))};jy.displayName="GeistPaginationEllipsis";var tD=function(t){var n=t.limit,r=t.count,i=t.current,s=t.setPage,o=L.useMemo(function(){var y=n%2===0?n-1:n;return y-2},[n]),a=(o+1)/2,l=L.useMemo(function(){var y=r>n;return[y&&i>a+1,y&&i<r-a]},[i,o,a,r,n]),c=Fe(l,2),d=c[0],u=c[1],h=L.useMemo(function(){return Xr(new Array(o))},[o]),g=L.useCallback(function(y,f){return E.createElement(Jo,{key:"pagination-item-".concat(y),active:y===f,onClick:function(){return s(y)}},y)},[]),p=h.map(function(y,f){var x=f+2;return g(x,i)}),m=h.map(function(y,f){var x=a-(f+1),v=i-x;return E.createElement(Jo,{key:"pagination-middle-".concat(f),active:f+1===a,onClick:function(){return s(v)}},v)}),_=h.map(function(y,f){var x=r-(o-f);return g(x,i)});return r<=n?E.createElement(E.Fragment,null,Xr(new Array(r)).map(function(y,f){var x=f+1;return E.createElement(Jo,{key:"pagination-item-".concat(x),active:x===i,onClick:function(){return s(x)}},x)})):E.createElement(E.Fragment,null,g(1,i),d&&E.createElement(jy,{key:"pagination-ellipsis-before",isBefore:!0,onClick:function(){return s(function(f){return f-5>=1?f-5:1})}}),d&&u?m:d?_:p,u&&E.createElement(jy,{key:"pagination-ellipsis-after",onClick:function(){return s(function(f){return f+5<=r?f+5:r})}}),g(r,i))};tD.displayName="GeistPaginationPages";var Cte={initialPage:1,count:1,limit:7},P1=function(t){var n=t.page,r=t.initialPage,i=t.count,s=t.limit,o=t.children,a=t.onChange,l=Ge(),c=l.SCALES,d=fi(r),u=Fe(d,3),h=u[0],g=u[1],p=u[2],m=mi(o,wp),_=Fe(m,2),y=_[1],f=mi(o,Ep),x=Fe(f,2),v=x[1],w=L.useMemo(function(){var N=function(F){return E.Children.count(F)>0},R=E.createElement(wp,null,"prev"),B=E.createElement(Ep,null,"next");return[N(y)?y:R,N(v)?v:B]},[y,v]),b=Fe(w,2),S=b[0],k=b[1],C=function(R){R==="prev"&&p.current>1&&g(function(B){return B-1}),R==="next"&&p.current<i&&g(function(B){return B+1})},A=L.useMemo(function(){return{isFirst:h<=1,isLast:h>=i,update:C}},[h]);return L.useEffect(function(){a&&a(h)},[h]),L.useEffect(function(){n!==void 0&&g(n)},[n]),E.createElement(J3.Provider,{value:A},E.createElement("nav",{className:I.dynamic([["3826701357",[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])},S,E.createElement(tD,{count:i,current:h,limit:s,setPage:g}),k),E.createElement(I,{id:"3826701357",dynamic:[c.font(2),c.font(.875),c.width(1,"auto"),c.height(1,"auto"),c.pt(0),c.pr(0),c.pb(0),c.pl(0),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"nav.__jsx-style-dynamic-selector{font-variant:tabular-nums;font-feature-settings:'tnum';--pagination-size:".concat(c.font(2),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1,"auto"),";padding:").concat(c.pt(0)," ").concat(c.pr(0)," ").concat(c.pb(0)," ").concat(c.pl(0),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}nav.__jsx-style-dynamic-selector button:last-of-type{margin-right:0;}")))};P1.defaultProps=Cte;P1.displayName="GeistPagination";var nD=He(P1);nD.Previous=wp;nD.Next=Ep;var Tte=function(t,n){var r={default:n.background,success:n.success,warning:n.warning,error:n.error,secondary:n.secondary,dark:n.foreground,lite:n.background},i=t==="lite"||t==="default"?n.foreground:n.background;return{color:i,bgColor:r[t]}},Lte={top:"-1000px",left:"-1000px",transform:"none"},Nte=function(t,n,r){var i={top:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, -100%)"},topStart:{top:"".concat(n.top-r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, -100%)"},topEnd:{top:"".concat(n.top-r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, -100%)"},bottom:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width/2,"px"),transform:"translate(-50%, 0)"},bottomStart:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left,"px"),transform:"translate(0, 0)"},bottomEnd:{top:"".concat(n.bottom+r,"px"),left:"".concat(n.left+n.width,"px"),transform:"translate(-100%, 0)"},left:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -50%)"},leftStart:{top:"".concat(n.top,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, 0)"},leftEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.left-r,"px"),transform:"translate(-100%, -100%)"},right:{top:"".concat(n.top+n.height/2,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -50%)"},rightStart:{top:"".concat(n.top,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, 0)"},rightEnd:{top:"".concat(n.top+n.height,"px"),left:"".concat(n.right+r,"px"),transform:"translate(0, -100%)"}};return i[t]||i.top},Ite=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"3px",s={top:{top:"auto",right:"auto",left:"50%",bottom:"".concat(i),transform:"translate(-50%, 100%) rotate(-90deg)"},topStart:{top:"auto",right:"auto",left:"".concat(n),bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},topEnd:{top:"auto",right:"".concat(n),left:"auto",bottom:"".concat(i),transform:"translate(0, 100%) rotate(-90deg)"},bottom:{top:"".concat(i),right:"auto",left:"50%",bottom:"auto",transform:"translate(-50%, -100%) rotate(90deg)"},bottomStart:{top:"".concat(i),right:"auto",left:"".concat(n),bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},bottomEnd:{top:"".concat(i),right:"".concat(n),left:"auto",bottom:"auto",transform:"translate(0, -100%) rotate(90deg)"},left:{top:"50%",right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftStart:{top:"".concat(r),right:"0",left:"auto",bottom:"auto",transform:"translate(100%, -50%) rotate(180deg)"},leftEnd:{top:"auto",right:"0",left:"auto",bottom:"".concat(r),transform:"translate(100%, 50%) rotate(180deg)"},right:{top:"50%",right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightStart:{top:"".concat(r),right:"auto",left:"0",bottom:"auto",transform:"translate(-100%, -50%) rotate(0deg)"},rightEnd:{top:"auto",right:"auto",left:"0",bottom:"".concat(r),transform:"translate(-100%, 50%) rotate(0deg)"}};return s[t]||s.top},Mte=function(t){var n=t.placement,r=t.shadow,i=Oe(),s=L.useMemo(function(){return Ite(n,"var(--tooltip-icon-offset-x)","var(--tooltip-icon-offset-y)")},[n]),o=s.transform,a=s.top,l=s.left,c=s.right,d=s.bottom,u=L.useMemo(function(){return!r||i.type!=="dark"?"var(--tooltip-content-bg)":i.palette.accents_2},[i.type,r]);return E.createElement("span",{className:I.dynamic([["2440507693",[u,l,a,c,d,o]]])},E.createElement(I,{id:"2440507693",dynamic:[u,l,a,c,d,o]},"span.__jsx-style-dynamic-selector{width:0;height:0;border-style:solid;border-width:6px 7px 6px 0;border-color:transparent ".concat(u," transparent transparent;position:absolute;left:").concat(l,";top:").concat(a,";right:").concat(c,";bottom:").concat(d,";-webkit-transform:").concat(o,";-ms-transform:").concat(o,";transform:").concat(o,";}")))},Pte={top:-1e3,left:-1e3,right:-1e3,bottom:-1e3,width:0,height:0},rD=function(t){if(!t||!t.current)return Pte;var n=t.current.getBoundingClientRect();return xe({},n,{width:n.width||n.right-n.left,height:n.height||n.bottom-n.top,top:n.top+document.documentElement.scrollTop,bottom:n.bottom+document.documentElement.scrollTop,left:n.left+document.documentElement.scrollLeft,right:n.right+document.documentElement.scrollLeft})},Fte=function(t){var n=t.children,r=t.parent,i=t.visible,s=t.offset,o=t.iconOffset,a=t.placement,l=t.type,c=t.className,d=t.hideArrow,u=Oe(),h=Ge(),g=h.SCALES,p=au("tooltip"),m=L.useRef(null),_=L.useState(Lte),y=Fe(_,2),f=y[0],x=y[1],v=L.useMemo(function(){return Tte(l,u.palette)},[l,u.palette]),w=l==="default";if(!r)return null;var b=function(){var C=Nte(a,rD(r),s);x(C)};Lb(b),b3(function(){return b()}),L.useEffect(function(){b()},[i]);var S=function(C){C.stopPropagation(),C.nativeEvent.stopImmediatePropagation()};return p?bo.createPortal(E.createElement(xa,{visible:i},E.createElement("div",{ref:m,onClick:S,className:I.dynamic([["2387841858",[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" "+"tooltip-content ".concat(c)},E.createElement("div",{className:I.dynamic([["2387841858",[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]]])+" inner"},!d&&E.createElement(Mte,{placement:a,shadow:w}),n),E.createElement(I,{id:"2387841858",dynamic:[o.x,o.y,v.bgColor,f.top,f.left,f.transform,v.color,u.layout.radius,w?u.expressiveness.shadowMedium:"none",g.width(1,"auto"),g.height(1,"auto"),g.font(1),g.pt(.65),g.pr(.9),g.pb(.65),g.pl(.9)]},".tooltip-content.__jsx-style-dynamic-selector{--tooltip-icon-offset-x:".concat(o.x,";--tooltip-icon-offset-y:").concat(o.y,";--tooltip-content-bg:").concat(v.bgColor,";box-sizing:border-box;position:absolute;top:").concat(f.top,";left:").concat(f.left,";-webkit-transform:").concat(f.transform,";-ms-transform:").concat(f.transform,";transform:").concat(f.transform,";background-color:var(--tooltip-content-bg);color:").concat(v.color,";border-radius:").concat(u.layout.radius,";padding:0;z-index:1000;box-shadow:").concat(w?u.expressiveness.shadowMedium:"none",";width:").concat(g.width(1,"auto"),";height:").concat(g.height(1,"auto"),";}.inner.__jsx-style-dynamic-selector{box-sizing:border-box;position:relative;font-size:").concat(g.font(1),";padding:").concat(g.pt(.65)," ").concat(g.pr(.9)," ").concat(g.pb(.65)," ").concat(g.pl(.9),";height:100%;}")))),p):null},Rte=["children","initialVisible","text","offset","placement","portalClassName","enterDelay","leaveDelay","trigger","type","className","onVisibleChange","hideArrow","visible"],Dte={initialVisible:!1,hideArrow:!1,type:"default",trigger:"hover",placement:"top",enterDelay:100,leaveDelay:150,offset:12,className:"",portalClassName:"",onVisibleChange:function(){}},F1=function(t){var n=t.children,r=t.initialVisible,i=t.text,s=t.offset,o=t.placement,a=t.portalClassName,l=t.enterDelay,c=t.leaveDelay,d=t.trigger,u=t.type,h=t.className,g=t.onVisibleChange,p=t.hideArrow,m=t.visible,_=Re(t,Rte),y=L.useRef(),f=L.useRef(null),x=L.useState(r),v=Fe(x,2),w=v[0],b=v[1],S=L.useMemo(function(){if(!(f!=null&&f.current))return{x:"0.75em",y:"0.75em"};var R=rD(f);return{x:"".concat(R.width?R.width/2:0,"px"),y:"".concat(R.height?R.height/2:0,"px")}},[f==null?void 0:f.current]),k={type:u,visible:w,offset:s,placement:o,hideArrow:p,iconOffset:S,parent:f,className:a},C=function(B){var W=function(){clearTimeout(y.current),y.current=void 0},F=function(G){b(G),g(G),W()};if(W(),B){y.current=window.setTimeout(function(){return F(!0)},l);return}var T=d==="click"?0:c;y.current=window.setTimeout(function(){return F(!1)},T)},A=function(B){return d==="hover"&&C(B)},N=function(){return d==="click"&&C(!w)};return M3(f,function(){return d==="click"&&C(!1)}),L.useEffect(function(){m!==void 0&&C(m)},[m]),E.createElement("div",xe({ref:f,onClick:N,onMouseEnter:function(){return A(!0)},onMouseLeave:function(){return A(!1)}},Ue(_),{className:"jsx-418573366 "+"tooltip ".concat(h)}),n,E.createElement(Fte,k,i),E.createElement(I,{id:"418573366"},".tooltip.jsx-418573366{width:-webkit-max-content;width:-moz-max-content;width:max-content;display:inline-block;}"))};F1.defaultProps=Dte;F1.displayName="GeistTooltip";var zte=He(F1),Ote={disableItemsAutoClose:!1,onItemClick:function(){}},iD=E.createContext(Ote),Bte=function(){return L.useContext(iD)},jte=["content","children","trigger","placement","initialVisible","portalClassName","disableItemsAutoClose","onVisibleChange","visible"],Ute={disableItemsAutoClose:!1,trigger:"click",placement:"bottom",portalClassName:"",initialVisible:!1,hideArrow:!1,type:"default",enterDelay:100,leaveDelay:150,offset:12,className:"",onVisibleChange:function(){}},R1=function(t){var n=t.content,r=t.children,i=t.trigger,s=t.placement,o=t.initialVisible,a=t.portalClassName,l=t.disableItemsAutoClose,c=t.onVisibleChange,d=t.visible,u=Re(t,jte),h=Ge(),g=h.SCALES,p=L.useState(o),m=Fe(p,2),_=m[0],y=m[1],f=L.useMemo(function(){return PQ(n)},[n]),x=function(){w(!1)},v=L.useMemo(function(){return{onItemClick:x,disableItemsAutoClose:l}},[l]),w=function(S){y(S),c(S)};return L.useEffect(function(){d!==void 0&&w(d)},[d]),E.createElement(iD.Provider,{value:v},E.createElement(zte,xe({text:f,trigger:i,placement:s,portalClassName:"popover ".concat(a),visible:_,onVisibleChange:w},u),r,E.createElement(I,{id:"622655983",dynamic:[g.pt(.9),g.pr(0),g.pb(.9),g.pl(0)]},".tooltip-content.popover > .inner{padding:".concat(g.pt(.9)," ").concat(g.pr(0)," ").concat(g.pb(.9)," ").concat(g.pl(0),";}"))))};R1.defaultProps=Ute;R1.displayName="GeistPopover";var sD=He(R1),$te=["children","line","title","className","onClick","disableAutoClose"],Vte={line:!1,title:!1,disableAutoClose:!1,className:""},D1=function(t){var n=t.children,r=t.line,i=t.title,s=t.className,o=t.onClick,a=t.disableAutoClose,l=Re(t,$te),c=Oe(),d=Ge(),u=d.SCALES,h=Bte(),g=h.disableItemsAutoClose,p=h.onItemClick,m=!!o,_=a||g||i||r,y=function(x){if(o&&o(x),_)return x.stopPropagation();p(x)};return E.createElement(E.Fragment,null,E.createElement("div",xe({onClick:y},Ue(l),{className:I.dynamic([["190621384",[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]]])+" "+"item ".concat(r?"line":""," ").concat(i?"title":""," ").concat(s)}),n,E.createElement(I,{id:"190621384",dynamic:[c.palette.accents_5,u.font(.875),u.width(1,"auto"),u.height(1,"auto"),u.mt(0),u.mr(0),u.mb(0),u.ml(0),u.pt(.5),u.pr(.75),u.pb(.5),u.pl(.75),m?"pointer":"default",c.palette.foreground,c.palette.border,u.height(.0625),u.mt(.35),u.mr(0),u.mb(.35),u.ml(0),u.width(1,"100%"),u.font(.925),c.palette.foreground]},".item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:".concat(c.palette.accents_5,";-webkit-transition:color,background-color 150ms linear;transition:color,background-color 150ms linear;line-height:1.25em;font-size:").concat(u.font(.875),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";padding:").concat(u.pt(.5)," ").concat(u.pr(.75)," ").concat(u.pb(.5)," ").concat(u.pl(.75),";cursor:").concat(m?"pointer":"default",";}.item.__jsx-style-dynamic-selector:hover{color:").concat(c.palette.foreground,";}.item.line.__jsx-style-dynamic-selector{line-height:0;padding:0;background-color:").concat(c.palette.border,";height:").concat(u.height(.0625),";margin:").concat(u.mt(.35)," ").concat(u.mr(0)," ").concat(u.mb(.35)," ").concat(u.ml(0),";width:").concat(u.width(1,"100%"),";}.item.title.__jsx-style-dynamic-selector{font-weight:500;font-size:").concat(u.font(.925),";color:").concat(c.palette.foreground,";}"))),i&&E.createElement(z1,{line:!0,title:!1}))};D1.defaultProps=Vte;D1.displayName="GeistPopoverItem";var z1=He(D1);sD.Item=z1;sD.Option=z1;var Gte=["value","max","className","type","colors","fixedTop","fixedBottom"],Hte={value:0,max:100,type:"default",fixedTop:!1,fixedBottom:!1,className:""},Wte=function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s={default:n.foreground,success:n.success,secondary:n.secondary,warning:n.warning,error:n.error},o=Object.keys(i);if(o.length===0)return s[r];var a=o.find(function(l){return t<=+l});return!a||Number.isNaN(+a)?s[r]:i[+a]},O1=function(t){var n=t.value,r=t.max,i=t.className,s=t.type,o=t.colors,a=t.fixedTop,l=t.fixedBottom,c=Re(t,Gte),d=Oe(),u=Ge(),h=u.SCALES,g=D3(n,r),p=Wte(g,d.palette,s,o),m=a||l;return E.createElement("div",{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+"progress ".concat(i," ").concat(m?"fixed":"")},E.createElement("div",{title:"".concat(g,"%"),className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" inner"}),E.createElement("progress",xe({value:n,max:r},Ue(c),{className:I.dynamic([["1239801602",[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]]])+" "+(i||"")})),E.createElement(I,{id:"1239801602",dynamic:[d.palette.accents_2,d.layout.radius,h.width(1,"100%"),h.height(.625),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),a?0:"unset",l?0:"unset",d.layout.radius,p,g]},"progress.__jsx-style-dynamic-selector{position:fixed;top:-1000px;opacity:0;visibility:hidden;pointer-events:none;}.progress.__jsx-style-dynamic-selector{position:relative;background-color:".concat(d.palette.accents_2,";border-radius:").concat(d.layout.radius,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(.625),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.fixed.__jsx-style-dynamic-selector{position:fixed;top:").concat(a?0:"unset",";bottom:").concat(l?0:"unset",";left:0;border-radius:0;}.fixed.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{border-radius:0;}.inner.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;height:100%;bottom:0;-webkit-transition:all 100ms ease-in;transition:all 100ms ease-in;border-radius:").concat(d.layout.radius,";background-color:").concat(p,";width:").concat(g,"%;}")))};O1.defaultProps=Hte;O1.displayName="GeistProgress";He(O1);var Xte={disabledAll:!1,inGroup:!1},oD=E.createContext(Xte),Yte=function(){return E.useContext(oD)},qte=["className","children"],Zte={className:""},B1=function(t){var n=t.className,r=t.children,i=Re(t,qte),s=Oe(),o=Ge(),a=o.SCALES;return E.createElement("span",xe({},Ue(i),{className:I.dynamic([["2489497926",[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]]])+" "+(n||"")}),r,E.createElement(I,{id:"2489497926",dynamic:[s.palette.accents_3,a.font(.85,"calc(var(--radio-size) * 0.85)"),a.width(1,"auto"),a.height(1,"auto"),a.pt(0),a.pr(0),a.pb(0),a.pl(0),a.mt(0),a.mr(0),a.mb(0),a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)")]},"span.__jsx-style-dynamic-selector{color:".concat(s.palette.accents_3,";font-size:").concat(a.font(.85,"calc(var(--radio-size) * 0.85)"),";width:").concat(a.width(1,"auto"),";height:").concat(a.height(1,"auto"),";padding:").concat(a.pt(0)," ").concat(a.pr(0)," ").concat(a.pb(0)," ").concat(a.pl(0),";margin:").concat(a.mt(0)," ").concat(a.mr(0)," ").concat(a.mb(0)," ").concat(a.ml(0,"calc(var(--radio-size) + var(--radio-size) * 0.375)"),";}")))};B1.defaultProps=Zte;B1.displayName="GeistRadioDescription";var j1=He(B1),Qte=function(t,n){var r={default:{label:t.foreground,border:t.border,bg:t.foreground},secondary:{label:t.foreground,border:t.border,bg:t.foreground},success:{label:t.success,border:t.success,bg:t.success},warning:{label:t.warning,border:t.warning,bg:t.warning},error:{label:t.error,border:t.error,bg:t.error}};return n?r[n]:r.default},Kte=["className","checked","onChange","disabled","type","value","children"],Jte={type:"default",disabled:!1,className:""},U1=function(t){var n=t.className,r=t.checked,i=t.onChange,s=t.disabled,o=t.type,a=t.value,l=t.children,c=Re(t,Kte),d=Oe(),u=Ge(),h=u.SCALES,g=L.useState(!!r),p=Fe(g,2),m=p[0],_=p[1],y=Yte(),f=y.value,x=y.disabledAll,v=y.inGroup,w=y.updateState,b=mi(l,j1),S=Fe(b,2),k=S[0],C=S[1];v&&(r!==void 0&&Mi('Remove props "checked" if in the Radio.Group.',"Radio"),a===void 0&&Mi('Props "value" must be deinfed if in the Radio.Group.',"Radio"),L.useEffect(function(){_(f===a)},[f,a]));var A=L.useMemo(function(){return Qte(d.palette,o)},[d.palette,o]),N=A.label,R=A.border,B=A.bg,W=L.useMemo(function(){return s||x},[s,x]),F=function(H){if(!W){var G={target:{checked:!m},stopPropagation:H.stopPropagation,preventDefault:H.preventDefault,nativeEvent:H};_(!m),v&&w&&w(a),i&&i(G)}};return L.useEffect(function(){r!==void 0&&_(!!r)},[r]),E.createElement("div",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]]])+" "+"radio ".concat(n)},E.createElement("label",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]]])},E.createElement("input",xe({type:"radio",value:a,checked:m,onChange:F},Ue(c),{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]]])})),E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]]])+" name"},E.createElement("span",{className:I.dynamic([["293719529",[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]]])+" "+"point ".concat(m?"active":"")}),k),C&&C),E.createElement(I,{id:"293719529",dynamic:[h.font(1),h.width(1,"initial"),h.height(1,"auto"),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(0),h.mr(0),h.mb(0),h.ml(0),W?d.palette.accents_4:N,W?"not-allowed":"pointer",R,W?d.palette.accents_4:B]},"input.__jsx-style-dynamic-selector{opacity:0;visibility:hidden;overflow:hidden;width:1px;height:1px;top:-1000px;right:-1000px;position:fixed;font-size:0;}.radio.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;--radio-size:".concat(h.font(1),";width:").concat(h.width(1,"initial"),";height:").concat(h.height(1,"auto"),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:").concat(W?d.palette.accents_4:N,";cursor:").concat(W?"not-allowed":"pointer",";}.name.__jsx-style-dynamic-selector{font-size:var(--radio-size);font-weight:bold;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.point.__jsx-style-dynamic-selector{height:var(--radio-size);width:var(--radio-size);border-radius:50%;border:1px solid ").concat(R,";-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;position:relative;display:inline-block;-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);margin-right:calc(var(--radio-size) * 0.375);}.point.__jsx-style-dynamic-selector:before{content:'';position:absolute;left:-1px;top:-1px;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);height:var(--radio-size);width:var(--radio-size);border-radius:50%;background-color:").concat(W?d.palette.accents_4:B,";}.point.active.__jsx-style-dynamic-selector:before{-webkit-transform:scale(0.875);-ms-transform:scale(0.875);transform:scale(0.875);-webkit-transition:all 0.2s ease 0s;transition:all 0.2s ease 0s;}")))};U1.defaultProps=Jte;U1.displayName="GeistRadio";var $1=He(U1),ene=["disabled","onChange","value","children","className","initialValue","useRow"],tne={disabled:!1,className:"",useRow:!1},V1=function(t){var n=t.disabled,r=t.onChange,i=t.value,s=t.children,o=t.className,a=t.initialValue,l=t.useRow,c=Re(t,ene),d=Ge(),u=d.SCALES,h=L.useState(a),g=Fe(h,2),p=g[0],m=g[1],_=function(x){m(x),r&&r(x)},y=L.useMemo(function(){return{updateState:_,disabledAll:n,inGroup:!0,value:p}},[n,p]);return L.useEffect(function(){i!==void 0&&m(i)},[i]),E.createElement(oD.Provider,{value:y},E.createElement("div",xe({},Ue(c),{className:I.dynamic([["1223822443",[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]]])+" "+"radio-group ".concat(o)}),s),E.createElement(I,{id:"1223822443",dynamic:[l?"col":"column",u.font(1),u.width(1,"auto"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),l?0:"var(--radio-group-gap)",l?"var(--radio-group-gap)":0,u.font(1)]},".radio-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:".concat(l?"col":"column",";-ms-flex-direction:").concat(l?"col":"column",";flex-direction:").concat(l?"col":"column",";--radio-group-gap:").concat(u.font(1),";width:").concat(u.width(1,"auto"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.radio-group.__jsx-style-dynamic-selector .radio{margin-top:").concat(l?0:"var(--radio-group-gap)",";margin-left:").concat(l?"var(--radio-group-gap)":0,";--radio-size:").concat(u.font(1),";}.radio-group.__jsx-style-dynamic-selector .radio:first-of-type{margin:0;}")))};V1.defaultProps=tne;V1.displayName="GeistRadioGroup";var nne=He(V1);$1.Group=nne;$1.Description=j1;$1.Desc=j1;var aD=function(){return E.createElement("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},E.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))};aD.displayName="GeistRatingIcon";var rne=["type","className","icon","count","value","initialValue","onValueChange","locked","onLockedChange"];y3(2,3,4,5,6,7,8,9,10);y3(0,1,2,3,4,5,6,7,8,9,10);var ine={type:"default",className:"",icon:E.createElement(aD,null),count:5,initialValue:1,locked:!1},sne=function(t,n){var r={default:n.foreground,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},G1=function(t){var n=t.type,r=t.className,i=t.icon,s=t.count,o=t.value,a=t.initialValue,l=t.onValueChange,c=t.locked,d=t.onLockedChange,u=Re(t,rne),h=Oe(),g=Ge(),p=g.SCALES,m=L.useMemo(function(){return sne(n,h.palette)},[n,h.palette]),_=L.useState(a),y=Fe(_,2),f=y[0],x=y[1],v=L.useState(c),w=Fe(v,2),b=w[0],S=w[1],k=function(B){S(B),d&&d(B)},C=function(B){x(B);var W=B>s?s:B;l&&l(W)},A=function(B){if(b)return k(!1);C(B),k(!0)},N=function(B){b||C(B)};return L.useEffect(function(){typeof o>"u"||x(o<0?0:o)},[o]),E.createElement("div",xe({},Ue(u),{className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"rating ".concat(r)}),Xr(Array(s)).map(function(R,B){return E.createElement("div",{key:B,onMouseEnter:function(){return N(B+1)},onClick:function(){return A(B+1)},className:I.dynamic([["884600549",[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]]])+" "+"icon-box ".concat(B+1<=f?"hovered":"")},i)}),E.createElement(I,{id:"884600549",dynamic:[p.font(1),p.width(1,"auto"),p.height(1,"auto"),p.pt(0),p.pr(0),p.pb(0),p.pl(0),p.mt(0),p.mr(0),p.mb(0),p.ml(0),m,b?"default":"pointer",m]},".rating.__jsx-style-dynamic-selector{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;--rating-font-size:".concat(p.font(1),";font-size:var(--rating-font-size);width:").concat(p.width(1,"auto"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(0)," ").concat(p.pr(0)," ").concat(p.pb(0)," ").concat(p.pl(0),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}.icon-box.__jsx-style-dynamic-selector{box-sizing:border-box;color:").concat(m,";width:calc(var(--rating-font-size) * 1.5);height:calc(var(--rating-font-size) * 1.5);margin-right:calc(var(--rating-font-size) * 1 / 5);cursor:").concat(b?"default":"pointer",";}.icon-box.__jsx-style-dynamic-selector svg{width:100%;height:100%;fill:transparent;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform,color,fill 30ms linear;-webkit-transition:transform,color,fill 30ms linear;transition:transform,color,fill 30ms linear;}.hovered.__jsx-style-dynamic-selector svg{fill:").concat(m,";-webkit-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);}")))};G1.defaultProps=ine;G1.displayName="GeistRating";He(G1);var lD=function(){return E.createElement("svg",{viewBox:"0 0 24 24",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:"jsx-2742933678"},E.createElement("path",{d:"M6 9l6 6 6-6",className:"jsx-2742933678"}),E.createElement(I,{id:"2742933678"},"svg.jsx-2742933678{color:inherit;stroke:currentColor;-webkit-transition:all 200ms ease;transition:all 200ms ease;width:1.214em;height:1.214em;}"))};lD.displayName="GeistSelectIcon";var one=E.memo(lD),ane={visible:!1,disableAll:!1},cD=E.createContext(ane),dD=function(){return E.useContext(cD)},lne={className:"",dropdownStyle:{}},H1=E.forwardRef(function(e,t){var n=e.visible,r=e.children,i=e.className,s=e.dropdownStyle,o=e.disableMatchWidth,a=e.getPopupContainer,l=Oe(),c=L.useRef(null),d=dD(),u=d.ref;return L.useImperativeHandle(t,function(){return c.current}),E.createElement(E3,{parent:u,visible:n,disableMatchWidth:o,getPopupContainer:a},E.createElement("div",{ref:c,style:s,className:I.dynamic([["2782510679",[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]]])+" "+"select-dropdown ".concat(i)},r,E.createElement(I,{id:"2782510679",dynamic:[l.layout.radius,l.expressiveness.shadowLarge,l.palette.background]},".select-dropdown.__jsx-style-dynamic-selector{border-radius:".concat(l.layout.radius,";box-shadow:").concat(l.expressiveness.shadowLarge,";background-color:").concat(l.palette.background,";max-height:17em;overflow-y:auto;overflow-anchor:none;padding:0.38em 0;-webkit-scroll-behavior:smooth;-moz-scroll-behavior:smooth;-ms-scroll-behavior:smooth;scroll-behavior:smooth;}"))))});H1.defaultProps=lne;H1.displayName="GeistSelectDropdown";var cne=function(t){var n=t.onClick,r=Oe(),i=function(o){o.preventDefault(),o.stopPropagation(),o.nativeEvent.stopImmediatePropagation(),n&&n(o)};return E.createElement("div",{onClick:i,className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])+" clear-icon"},E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])},E.createElement("path",{d:"M18 6L6 18",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])}),E.createElement("path",{d:"M6 6l12 12",className:I.dynamic([["1984024521",[r.palette.accents_3,r.palette.foreground]]])})),E.createElement(I,{id:"1984024521",dynamic:[r.palette.accents_3,r.palette.foreground]},".clear-icon.__jsx-style-dynamic-selector{padding:0 0 0 0.5em;margin:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;cursor:pointer;box-sizing:border-box;-webkit-transition:color 150ms ease 0s;transition:color 150ms ease 0s;color:".concat(r.palette.accents_3,";visibility:visible;opacity:1;}.clear-icon.__jsx-style-dynamic-selector:hover{color:").concat(r.palette.foreground,";}svg.__jsx-style-dynamic-selector{color:currentColor;width:1em;height:1em;}")))},dne=E.memo(cne),uD=function(t){var n=t.disabled,r=t.onClear,i=t.children,s=Oe();return E.createElement(w1,null,E.createElement("div",{className:I.dynamic([["3357578496",[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]]])+" item"},i,!!r&&E.createElement(dne,{onClick:r})),E.createElement(I,{id:"3357578496",dynamic:[s.layout.radius,s.palette.accents_2,n?s.palette.accents_4:s.palette.accents_6]},".item.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;justify-items:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0 0.5em;font-size:var(--select-font-size);height:calc(var(--select-font-size) * 2);border-radius:".concat(s.layout.radius,";background-color:").concat(s.palette.accents_2,";color:").concat(n?s.palette.accents_4:s.palette.accents_6,";}.item.__jsx-style-dynamic-selector>div:not(.clear-icon),.item.__jsx-style-dynamic-selector>div:not(.clear-icon):hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}")))};uD.displayName="GeistSelectMultipleValue";var une=function(t,n){var r={default:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},secondary:{border:t.border,borderActive:t.foreground,iconBorder:t.accents_5,placeholderColor:t.accents_3},success:{border:t.successLight,borderActive:t.successDark,iconBorder:t.success,placeholderColor:t.accents_3},warning:{border:t.warningLight,borderActive:t.warningDark,iconBorder:t.warning,placeholderColor:t.accents_3},error:{border:t.errorLight,borderActive:t.errorDark,iconBorder:t.error,placeholderColor:t.error}};return n?r[n]:r.default},hD=E.forwardRef(function(e,t){var n=e.visible,r=e.onBlur,i=e.onFocus,s=L.useRef(null);return L.useImperativeHandle(t,function(){return s.current}),L.useEffect(function(){if(n){var o;(o=s.current)===null||o===void 0||o.focus()}},[n]),E.createElement(E.Fragment,null,E.createElement("input",{ref:s,type:"search",role:"combobox","aria-haspopup":"listbox",readOnly:!0,unselectable:"on","aria-expanded":n,onBlur:r,onFocus:i,className:"jsx-2813108835"}),E.createElement(I,{id:"2813108835"},"input.jsx-2813108835{position:fixed;top:-10000px;left:-10000px;opacity:0;z-index:-1;width:0;height:0;padding:0;font-size:0;border:none;}"))});hD.displayName="GeistSelectInput";var hne=["children","type","disabled","initialValue","value","icon","onChange","pure","multiple","clearable","placeholder","className","dropdownClassName","dropdownStyle","disableMatchWidth","getPopupContainer","onDropdownVisibleChange"],gne={disabled:!1,type:"default",icon:one,pure:!1,multiple:!1,clearable:!0,className:"",disableMatchWidth:!1,onDropdownVisibleChange:function(){}},W1=E.forwardRef(function(e,t){var n=e.children,r=e.type,i=e.disabled,s=e.initialValue,o=e.value,a=e.icon,l=e.onChange,c=e.pure,d=e.multiple,u=e.clearable,h=e.placeholder,g=e.className,p=e.dropdownClassName,m=e.dropdownStyle,_=e.disableMatchWidth,y=e.getPopupContainer,f=e.onDropdownVisibleChange,x=Re(e,hne),v=Oe(),w=Ge(),b=w.SCALES,S=L.useRef(null),k=L.useRef(null),C=L.useRef(null),A=L.useState(!1),N=Fe(A,2),R=N[0],B=N[1],W=L.useState(!1),F=Fe(W,2),T=F[0],H=F[1],G=fi(function(){return!d||Array.isArray(s)?s:typeof s>"u"?[]:[s]}),q=Fe(G,3),te=q[0],J=q[1],ue=q[2],Te=L.useMemo(function(){return Array.isArray(te)?te.length===0:!te},[te]),ce=L.useMemo(function(){return une(v.palette,r)},[v.palette,r]),_e=ce.border,ze=ce.borderActive,Ye=ce.iconBorder,qe=ce.placeholderColor,ge=function(se){f(se),B(se)},ye=function(se){J(function(oe){return Array.isArray(oe)?oe.includes(se)?oe.filter(function(he){return he!==se}):[].concat(Xr(oe),[se]):se}),l&&l(ue.current),d||ge(!1)},Ze=L.useMemo(function(){return{value:te,visible:R,updateValue:ye,updateVisible:ge,ref:S,disableAll:i}},[R,i,S,te,d]),tt=function(se){se.stopPropagation(),se.nativeEvent.stopImmediatePropagation(),se.preventDefault(),!i&&(ge(!R),se.preventDefault())},ut=function(se){R&&se.preventDefault()};L.useEffect(function(){o!==void 0&&J(o)},[o]),L.useImperativeHandle(t,function(){return{focus:function(){var se;return(se=k.current)===null||se===void 0?void 0:se.focus()},blur:function(){var se;return(se=k.current)===null||se===void 0?void 0:se.blur()},scrollTo:function(se){var oe;return(oe=C.current)===null||oe===void 0?void 0:oe.scrollTo(se)}}},[k,C]);var st=L.useMemo(function(){var ee=m3(n,"value",te),se=Fe(ee,2),oe=se[1];return E.Children.map(oe,function(he){if(!E.isValidElement(he))return null;var pe=E.cloneElement(he,{preventAllEvents:!0});return d?E.createElement(uD,{disabled:i,onClear:u?function(){return ye(he.props.value)}:null},pe):pe})},[te,n,d]),Z=function(){ge(!1),H(!1)};return E.createElement(cD.Provider,{value:Ze},E.createElement("div",xe({ref:S,onClick:tt,onMouseDown:ut},Ue(x),{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]]])+" "+"select ".concat(T||R?"active":""," ").concat(d?"multiple":""," ").concat(g)}),E.createElement(hD,{ref:k,visible:R,onBlur:Z,onFocus:function(){return H(!0)}}),Te&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]]])+" value placeholder"},E.createElement(Ab,{height:"var(--select-height)"},h)),te&&!d&&E.createElement("span",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]]])+" value"},st),te&&d&&E.createElement(w1.Container,{gap:.5},st),E.createElement(H1,{ref:C,visible:R,className:p,dropdownStyle:m,disableMatchWidth:_,getPopupContainer:y},n),!c&&E.createElement("div",{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]]])+" icon"},E.createElement(a,{className:I.dynamic([["3282295248",[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]]])})),E.createElement(I,{id:"3282295248",dynamic:[i?"not-allowed":"pointer",_e,v.layout.radius,i?v.palette.accents_1:v.palette.background,b.font(.875),b.height(2.25),b.width(1,"initial"),b.pt(0),b.pr(.334),b.pb(0),b.pl(.667),b.mt(0),b.mr(0),b.mb(0),b.ml(0),b.pt(.334),b.pr(.334),b.pb(.334),b.pl(.667),i?v.palette.border:ze,i?v.palette.accents_5:ze,i?v.palette.accents_4:v.palette.foreground,qe,v.layout.gapQuarter,R?"180":"0",Ye]},".select.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;position:relative;cursor:".concat(i?"not-allowed":"pointer",";max-width:90vw;overflow:hidden;-webkit-transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;transition:border 150ms ease-in 0s,color 200ms ease-out 0s, box-shadow 200ms ease 0s;border:1px solid ").concat(_e,";border-radius:").concat(v.layout.radius,";background-color:").concat(i?v.palette.accents_1:v.palette.background,";--select-font-size:").concat(b.font(.875),";--select-height:").concat(b.height(2.25),";min-width:11.5em;width:").concat(b.width(1,"initial"),";height:var(--select-height);padding:").concat(b.pt(0)," ").concat(b.pr(.334)," ").concat(b.pb(0)," ").concat(b.pl(.667),";margin:").concat(b.mt(0)," ").concat(b.mr(0)," ").concat(b.mb(0)," ").concat(b.ml(0),";}.multiple.__jsx-style-dynamic-selector{height:auto;min-height:var(--select-height);padding:").concat(b.pt(.334)," ").concat(b.pr(.334)," ").concat(b.pb(.334)," ").concat(b.pl(.667),";}.select.active.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover{border-color:").concat(i?v.palette.border:ze,";}.select.active.icon.__jsx-style-dynamic-selector,.select.__jsx-style-dynamic-selector:hover .icon.__jsx-style-dynamic-selector{color:").concat(i?v.palette.accents_5:ze,";}.value.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex:1;-ms-flex:1;flex:1;height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;line-height:1;padding:0;margin-right:1.25em;font-size:var(--select-font-size);color:").concat(i?v.palette.accents_4:v.palette.foreground,";width:calc(100% - 1.25em);}.value.__jsx-style-dynamic-selector>div,.value.__jsx-style-dynamic-selector>div:hover{border-radius:0;background-color:transparent;padding:0;margin:0;color:inherit;}.placeholder.__jsx-style-dynamic-selector{color:").concat(qe,";}.icon.__jsx-style-dynamic-selector{position:absolute;right:").concat(v.layout.gapQuarter,";font-size:var(--select-font-size);top:50%;bottom:0;-webkit-transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);-ms-transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);transform:translateY(-50%) rotate(").concat(R?"180":"0","deg);pointer-events:none;-webkit-transition:-webkit-transform 200ms ease;-webkit-transition:transform 200ms ease;transition:transform 200ms ease;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(Ye,";}"))))});W1.defaultProps=gne;W1.displayName="GeistSelect";var Cc=He(W1),pne=["value","className","children","disabled","divider","label","preventAllEvents"],mne={disabled:!1,divider:!1,label:!1,className:"",preventAllEvents:!1},X1=function(t){var n=t.value,r=t.className,i=t.children,s=t.disabled,o=t.divider,a=t.label,l=t.preventAllEvents,c=Re(t,pne),d=Oe(),u=Ge(),h=u.SCALES,g=dD(),p=g.updateValue,m=g.value,_=g.disableAll,y=L.useMemo(function(){return s||_},[s,_]),f=L.useMemo(function(){return a||o},[a,o]);!f&&n===void 0&&Mi('The props "value" is required.',"Select Option");var x=L.useMemo(function(){return m?typeof m=="string"?n===m:m.includes("".concat(n)):!1},[n,m]),v=L.useMemo(function(){return y?d.palette.accents_1:x?d.palette.accents_2:d.palette.background},[x,y,d.palette]),w=L.useMemo(function(){return y||f||x?v:d.palette.accents_1},[x,y,d.palette,f,v]),b=L.useMemo(function(){return y?d.palette.accents_4:x?d.palette.foreground:d.palette.accents_5},[x,y,d.palette]),S=function(C){l||(C.stopPropagation(),C.nativeEvent.stopImmediatePropagation(),C.preventDefault(),!(y||f)&&p&&p(n))};return E.createElement("div",xe({onClick:S},Ue(c),{className:I.dynamic([["199367556",[v,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]]])+" "+"option ".concat(o?"divider":""," ").concat(a?"label":""," ").concat(r)}),E.createElement(Ab,{height:h.height(2.25)},i),E.createElement(I,{id:"199367556",dynamic:[v,b,y?"not-allowed":"pointer",h.font(.75),h.width(1,"100%"),h.height(2.25),h.pt(0),h.pr(.667),h.pb(0),h.pl(.667),h.mt(0),h.mr(0),h.mb(0),h.ml(0),w,d.palette.accents_7,d.palette.border,h.width(1,"100%"),h.height(1,0),h.pt(0),h.pr(0),h.pb(0),h.pl(0),h.mt(.5),h.mr(0),h.mb(.5),h.ml(0),d.palette.accents_7,d.palette.border,h.font(.875),h.width(1,"100%")]},".option.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;max-width:100%;box-sizing:border-box;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-weight:normal;background-color:".concat(v,";color:").concat(b,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:0;cursor:").concat(y?"not-allowed":"pointer",";-webkit-transition:background 0.2s ease 0s,border-color 0.2s ease 0s;transition:background 0.2s ease 0s,border-color 0.2s ease 0s;--select-font-size:").concat(h.font(.75),";font-size:var(--select-font-size);width:").concat(h.width(1,"100%"),";height:").concat(h.height(2.25),";padding:").concat(h.pt(0)," ").concat(h.pr(.667)," ").concat(h.pb(0)," ").concat(h.pl(.667),";margin:").concat(h.mt(0)," ").concat(h.mr(0)," ").concat(h.mb(0)," ").concat(h.ml(0),";}.option.__jsx-style-dynamic-selector:hover{background-color:").concat(w,";color:").concat(d.palette.accents_7,";}.divider.__jsx-style-dynamic-selector{line-height:0;overflow:hidden;border-top:1px solid ").concat(d.palette.border,";width:").concat(h.width(1,"100%"),";height:").concat(h.height(1,0),";padding:").concat(h.pt(0)," ").concat(h.pr(0)," ").concat(h.pb(0)," ").concat(h.pl(0),";margin:").concat(h.mt(.5)," ").concat(h.mr(0)," ").concat(h.mb(.5)," ").concat(h.ml(0),";}.label.__jsx-style-dynamic-selector{color:").concat(d.palette.accents_7,";border-bottom:1px solid ").concat(d.palette.border,";text-transform:capitalize;cursor:default;font-size:").concat(h.font(.875),";width:").concat(h.width(1,"100%"),";font-weight:500;}")))};X1.defaultProps=mne;X1.displayName="GeistSelectOption";var fne=He(X1);Cc.Option=fne;var _ne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},s=L.useRef(!1),o=fi(0),a=Fe(o,3),l=a[1],c=a[2],d=fi(0),u=Fe(d,3),h=u[1],g=u[2],p=function(){return{startX:c.current,currentX:g.current}},m=function(x){x.stopPropagation(),x.stopImmediatePropagation(),s.current=!0,!(!t||!t.current)&&(l(t.current.getBoundingClientRect().x),r(p()))},_=function(x){s.current&&(x.type==="touchmove"?h(x.changedTouches[0].clientX):h(x.clientX),n(p()))},y=function(){s.current&&(s.current=!1,i(p()))};L.useEffect(function(){if(!(!t||!t.current))return t.current.addEventListener("mousedown",m),t.current.addEventListener("touchstart",m),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),window.addEventListener("mouseup",y),window.addEventListener("touchend",y),function(){window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_),window.removeEventListener("mouseup",y),window.removeEventListener("touchend",y),!(!t||!t.current)&&(t.current.removeEventListener("mousedown",m),t.current.removeEventListener("touchstart",m))}},[t])},yne={left:0,disabled:!1,isClick:!1},Y1=E.forwardRef(function(e,t){var n=e.children,r=e.disabled,i=e.left,s=e.isClick,o=Oe();return E.createElement("div",{ref:t,className:I.dynamic([["3479628597",[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]]])+" "+"dot ".concat(r?"disabled":""," ").concat(s?"click":"")},n,E.createElement(I,{id:"3479628597",dynamic:[i,o.palette.success,o.palette.background,o.palette.accents_2,o.palette.accents_4]},".dot.__jsx-style-dynamic-selector{position:absolute;left:".concat(i,"%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);height:calc(var(--slider-font-size) * 1.25);min-width:calc(var(--slider-font-size) * 1.25);line-height:calc(var(--slider-font-size) * 1.25);border-radius:calc(var(--slider-font-size) * 0.625);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-weight:700;font-size:calc(var(--slider-font-size) * 0.75);z-index:100;background-color:").concat(o.palette.success,";color:").concat(o.palette.background,";text-align:center;padding:0 calc(0.57 * var(--slider-font-size));}.dot.disabled.__jsx-style-dynamic-selector{cursor:not-allowed !important;background-color:").concat(o.palette.accents_2,";color:").concat(o.palette.accents_4,";}.dot.click.__jsx-style-dynamic-selector{-webkit-transition:all 200ms ease;transition:all 200ms ease;}.dot.__jsx-style-dynamic-selector:hover{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}.dot.__jsx-style-dynamic-selector:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}")))});Y1.defaultProps=yne;Y1.displayName="GeistSliderDot";var xne=function(t,n,r){var i=n-t,s=i%r?Math.ceil:Math.floor,o=s(i/r)-1;return o>=99?[]:Xr(new Array(o)).map(function(a,l){return r*(l+1)*100/i})},vne=function(t){var n=t.step,r=t.max,i=t.min,s=Oe(),o=L.useMemo(function(){return xne(i,r,n)},[i,r,n]);return E.createElement(E.Fragment,null,o.map(function(a,l){return E.createElement("span",{key:"".concat(a,"-").concat(l),style:{left:"".concat(a,"%")},className:I.dynamic([["324900419",[s.palette.background]]])})}),E.createElement(I,{id:"324900419",dynamic:[s.palette.background]},"span.__jsx-style-dynamic-selector{position:absolute;width:2px;height:100%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:".concat(s.palette.background,";}")))},bne=function(t,n){var r={default:{bg:t.accents_8},secondary:{bg:t.accents_8},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},wne=["hideValue","disabled","type","step","max","min","initialValue","value","onChange","className","showMarkers"],Ene={hideValue:!1,type:"default",initialValue:0,step:1,min:0,max:100,disabled:!1,showMarkers:!1,className:""},o0=function(t){if(!t||!t.current)return 0;var n=t.current.getBoundingClientRect();return n.width||n.right-n.left},Sne=function(t,n,r,i,s){if(i<0)return n;if(i>s)return t;var o=s/(t-n)*r;if(o<=0)return n;var a=Math.round(i/o)*r+n;return Number.isInteger(a)?a:Number.parseFloat(a.toFixed(1))},q1=function(t){var n=t.hideValue,r=t.disabled,i=t.type,s=t.step,o=t.max,a=t.min,l=t.initialValue,c=t.value,d=t.onChange,u=t.className,h=t.showMarkers,g=Re(t,wne),p=Oe(),m=Ge(),_=m.SCALES,y=L.useState(l),f=Fe(y,2),x=f[0],v=f[1],w=fi(0),b=Fe(w,3),S=b[1],k=b[2],C=fi(0),A=Fe(C,3),N=A[1],R=A[2],B=L.useState(!1),W=Fe(B,2),F=W[0],T=W[1],H=L.useRef(null),G=L.useRef(null),q=L.useMemo(function(){return(x-a)/(o-a)*100},[x,o,a]),te=function(ge){var ye=o0(H),Ze=(ge-a)/(o-a)*ye;N(Ze)},J=L.useCallback(function(qe){var ge=Sne(o,a,s,qe,k.current);v(ge),d&&d(ge)},[o,a,s,k]),ue=L.useMemo(function(){return bne(p.palette,i)},[p.palette,i]),Te=ue.bg,ce=function(ge){if(!r){var ye=ge.currentX-ge.startX,Ze=ye+R.current;J(Ze)}},_e=function(){T(!1),S(o0(H))},ze=function(ge){if(!r){var ye=ge.currentX-ge.startX,Ze=ye+R.current,tt=Ze<0?0:Math.min(Ze,k.current);N(tt)}},Ye=function(ge){if(!r&&!(!H||!H.current)){T(!0),S(o0(H));var ye=ge.clientX-H.current.getBoundingClientRect().x;N(ye),J(ye)}};return _ne(G,ce,_e,ze),L.useEffect(function(){c!==void 0&&c!==x&&v(c)},[c,x]),L.useEffect(function(){l&&te(l)},[]),E.createElement("div",xe({onClick:Ye,ref:H},Ue(g),{className:I.dynamic([["219401708",[r?p.palette.accents_2:Te,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]]])+" "+"slider ".concat(u)}),E.createElement(Y1,{disabled:r,ref:G,isClick:F,left:q},n||x),h&&E.createElement(vne,{max:o,min:a,step:s}),E.createElement(I,{id:"219401708",dynamic:[r?p.palette.accents_2:Te,r?"not-allow":"pointer",_.font(1),_.width(1,"100%"),_.height(.5),_.pt(0),_.pr(0),_.pb(0),_.pl(0),_.mt(0),_.mr(0),_.mb(0),_.ml(0)]},".slider.__jsx-style-dynamic-selector{border-radius:50px;background-color:".concat(r?p.palette.accents_2:Te,";position:relative;cursor:").concat(r?"not-allow":"pointer",";--slider-font-size:").concat(_.font(1),";width:").concat(_.width(1,"100%"),";height:").concat(_.height(.5),";padding:").concat(_.pt(0)," ").concat(_.pr(0)," ").concat(_.pb(0)," ").concat(_.pl(0),";margin:").concat(_.mt(0)," ").concat(_.mr(0)," ").concat(_.mb(0)," ").concat(_.ml(0),";}")))};q1.defaultProps=Ene;q1.displayName="GeistSlider";var kne=He(q1),Ane=function(t,n,r){var i={default:{color:n.foreground,border:n.border,bgColor:n.background},success:{color:n.success,border:n.success,bgColor:n.background},warning:{color:n.warning,border:n.warning,bgColor:n.background},error:{color:n.error,border:n.error,bgColor:n.background},secondary:{color:n.secondary,border:n.secondary,bgColor:n.background},lite:{color:n.foreground,border:n.border,bgColor:n.accents_1},dark:{color:n.background,border:n.foreground,bgColor:n.foreground}},s=["success","warning","error","secondary"],o=i[t],a=s.includes(t);return!r||!a?o:xe({},o,{color:o.bgColor,bgColor:o.color})},gD=function(){return E.createElement("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",style:{color:"currentcolor"},className:"jsx-418323402"},E.createElement("path",{d:"M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z",className:"jsx-418323402"}),E.createElement(I,{id:"418323402"},"svg.jsx-418323402{width:calc(var(--snippet-font-size) * 1.69);height:calc(var(--snippet-font-size) * 1.69);}"))};gD.displayName="GeistSnippetIcon";var Cne=E.memo(gD),Tne={onError:function(){return Mi("Failed to copy.","use-clipboard")}},Lne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tne,n=au("clipboard"),r=function(o,a){if(!(!o||!a)){var l=window.getSelection();if(l){o.style.whiteSpace="pre",o.textContent=a;var c=window.document.createRange();l.removeAllRanges(),c.selectNode(o),l.addRange(c);try{window.document.execCommand("copy")}catch{t.onError&&t.onError()}l.removeAllRanges(),o&&(o.textContent="")}}},i=L.useCallback(function(s){r(n,s)},[n]);return{copy:i}},Nne={delay:2e3},a0=[],ZA=0,l0,Ine=function(){var t=Gee(),n=t.updateToasts,r=t.toastHovering,i=t.toasts,s=fi(r),o=Fe(s,3),a=o[1],l=o[2];L.useEffect(function(){return a(r)},[r]);var c=function(h,g){g<=ZA||(clearTimeout(l0),ZA=g,l0=window.setTimeout(function(){n(function(p){return a0.length<p.length?p:(a0=[],[])}),clearTimeout(l0)},h+350))},d=function(h){var g="toast-".concat(p3()),p=h.delay||Nne.delay,m=function(f,x){n(function(v){return v.map(function(w){return w.id!==f?w:xe({},w,{willBeDestroy:!0})})}),a0.push(f),c(x,performance.now())};n(function(y){var f=xe({},h,{id:g,delay:p,cancel:function(x){function v(){return x.apply(this,arguments)}return v.toString=function(){return x.toString()},v}(function(){return m(g,p)})});return[].concat(Xr(y),[f])});var _=function y(f,x){var v=window.setTimeout(function(){if(l.current)return y(f,x),clearTimeout(v);m(f,x),clearTimeout(v)},x)};_(g,p)};return[i,d]},Mne=["type","filled","children","symbol","toastText","toastType","text","copy","className"],Pne={filled:!1,symbol:"$",toastText:"Copied to clipboard!",toastType:"success",copy:"default",type:"default",className:""},Fne=function(t){return t.reduce(function(n,r){return r?n?"".concat(n,`
`).concat(r):r:n},"")},Z1=function(t){var n=t.type,r=t.filled,i=t.children,s=t.symbol,o=t.toastText,a=t.toastType,l=t.text,c=t.copy,d=t.className,u=Re(t,Mne),h=Oe(),g=Ge(),p=g.SCALES,m=Lne(),_=m.copy,y=Ine(),f=Fe(y,2),x=f[1],v=L.useRef(null),w=l&&Array.isArray(l),b=L.useMemo(function(){return Ane(n,h.palette,r)},[n,h.palette,r]),S=L.useMemo(function(){return c!=="prevent"},[c]),k=L.useMemo(function(){return w?Fne(l):i?v.current?v.current.textContent:"":l},[v.current,i,l]),C=L.useMemo(function(){var N=s.trim();return N?"".concat(N," "):""},[s]),A=function(){!k||!S||(_(k),c!=="silent"&&x({text:o,type:a}))};return E.createElement("div",xe({},Ue(u),{className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" "+"snippet ".concat(d)}),w?l.map(function(N,R){return E.createElement("pre",{key:"snippet-".concat(R,"-").concat(N),className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},N)}):E.createElement("pre",{ref:v,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])},i||l),S&&E.createElement("div",{onClick:A,className:I.dynamic([["1687463382",[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]]])+" copy"},E.createElement(Cne,null)),E.createElement(I,{id:"1687463382",dynamic:[b.color,b.bgColor,b.border,h.layout.radius,p.font(.8125),p.pt(.667),p.width(1,"initial"),p.height(1,"auto"),p.pt(.667),p.pr(2.667),p.pb(.667),p.pl(.667),p.mt(0),p.mr(0),p.mb(0),p.ml(0),b.color,C,b.bgColor,w?"flex-start":"center",h.layout.radius,w?"var(--snippet-padding-top)":0]},".snippet.__jsx-style-dynamic-selector{position:relative;max-width:100%;color:".concat(b.color,";background-color:").concat(b.bgColor,";border:1px solid ").concat(b.border,";border-radius:").concat(h.layout.radius,";--snippet-font-size:").concat(p.font(.8125),";--snippet-padding-top:").concat(p.pt(.667),";font-size:var(--snippet-font-size);width:").concat(p.width(1,"initial"),";height:").concat(p.height(1,"auto"),";padding:").concat(p.pt(.667)," ").concat(p.pr(2.667)," ").concat(p.pb(.667)," ").concat(p.pl(.667),";margin:").concat(p.mt(0)," ").concat(p.mr(0)," ").concat(p.mb(0)," ").concat(p.ml(0),";}pre.__jsx-style-dynamic-selector{margin:0;padding:0;border:none;background-color:transparent;color:").concat(b.color,";font-size:inherit;}pre.__jsx-style-dynamic-selector::before{content:'").concat(C,"';-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}pre.__jsx-style-dynamic-selector *{margin:0;padding:0;font-size:inherit;color:inherit;}.copy.__jsx-style-dynamic-selector{position:absolute;right:0;top:0;bottom:0;height:calc(100% - 2px);background-color:").concat(b.bgColor,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:").concat(w?"flex-start":"center",";-webkit-box-align:").concat(w?"flex-start":"center",";-ms-flex-align:").concat(w?"flex-start":"center",";align-items:").concat(w?"flex-start":"center",";width:calc(3.281 * var(--snippet-font-size));color:inherit;-webkit-transition:opacity 0.2s ease 0s;transition:opacity 0.2s ease 0s;border-radius:").concat(h.layout.radius,";cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-top:").concat(w?"var(--snippet-padding-top)":0,";}.copy.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};Z1.defaultProps=Pne;Z1.displayName="GeistSnippet";He(Z1);var Rne=["inline","className"],Dne={inline:!1,className:""},Q1=function(t){var n=t.inline,r=t.className,i=Re(t,Rne),s=Ge(),o=s.SCALES;return E.createElement("span",xe({},Ue(i),{className:I.dynamic([["1994396435",[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+(r||"")}),E.createElement(I,{id:"1994396435",dynamic:[n?"inline-block":"block",o.width(1),o.height(1),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},"span.__jsx-style-dynamic-selector{display:".concat(n?"inline-block":"block",";width:").concat(o.width(1),";height:").concat(o.height(1),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}")))};Q1.defaultProps=Dne;Q1.displayName="GeistSpacer";He(Q1);var zne=["className"],One={className:""},Bne=function(t){return Xr(new Array(12)).map(function(n,r){return E.createElement("span",{key:"spinner-".concat(r),className:I.dynamic([["3296107463",[t.palette.foreground,t.layout.radius]]])},E.createElement(I,{id:"3296107463",dynamic:[t.palette.foreground,t.layout.radius]},"span.__jsx-style-dynamic-selector{background-color:".concat(t.palette.foreground,";position:absolute;top:-3.9%;width:24%;height:8%;left:-10%;border-radius:").concat(t.layout.radius,";-webkit-animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;animation:spinner-__jsx-style-dynamic-selector 1.2s linear 0s infinite normal none running;}span.__jsx-style-dynamic-selector:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s;-webkit-transform:rotate(0deg) translate(146%);-ms-transform:rotate(0deg) translate(146%);transform:rotate(0deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s;-webkit-transform:rotate(30deg) translate(146%);-ms-transform:rotate(30deg) translate(146%);transform:rotate(30deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s;-webkit-transform:rotate(60deg) translate(146%);-ms-transform:rotate(60deg) translate(146%);transform:rotate(60deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(4){-webkit-animation-delay:-0.9s;animation-delay:-0.9s;-webkit-transform:rotate(90deg) translate(146%);-ms-transform:rotate(90deg) translate(146%);transform:rotate(90deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(5){-webkit-animation-delay:-0.8s;animation-delay:-0.8s;-webkit-transform:rotate(120deg) translate(146%);-ms-transform:rotate(120deg) translate(146%);transform:rotate(120deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(6){-webkit-animation-delay:-0.7s;animation-delay:-0.7s;-webkit-transform:rotate(150deg) translate(146%);-ms-transform:rotate(150deg) translate(146%);transform:rotate(150deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(7){-webkit-animation-delay:-0.6s;animation-delay:-0.6s;-webkit-transform:rotate(180deg) translate(146%);-ms-transform:rotate(180deg) translate(146%);transform:rotate(180deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(8){-webkit-animation-delay:-0.5s;animation-delay:-0.5s;-webkit-transform:rotate(210deg) translate(146%);-ms-transform:rotate(210deg) translate(146%);transform:rotate(210deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(9){-webkit-animation-delay:-0.4s;animation-delay:-0.4s;-webkit-transform:rotate(240deg) translate(146%);-ms-transform:rotate(240deg) translate(146%);transform:rotate(240deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(10){-webkit-animation-delay:-0.3s;animation-delay:-0.3s;-webkit-transform:rotate(270deg) translate(146%);-ms-transform:rotate(270deg) translate(146%);transform:rotate(270deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(11){-webkit-animation-delay:-0.2s;animation-delay:-0.2s;-webkit-transform:rotate(300deg) translate(146%);-ms-transform:rotate(300deg) translate(146%);transform:rotate(300deg) translate(146%);}span.__jsx-style-dynamic-selector:nth-child(12){-webkit-animation-delay:-0.1s;animation-delay:-0.1s;-webkit-transform:rotate(330deg) translate(146%);-ms-transform:rotate(330deg) translate(146%);transform:rotate(330deg) translate(146%);}@-webkit-keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}@keyframes spinner-__jsx-style-dynamic-selector{0%{opacity:1;}100%{opacity:0.15;}}")))})},K1=function(t){var n=t.className,r=Re(t,zne),i=Oe(),s=Ge(),o=s.SCALES;return E.createElement("div",xe({},Ue(r),{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" "+"spinner ".concat(n)}),E.createElement("div",{className:I.dynamic([["1153799566",[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]]])+" container"},Bne(i)),E.createElement(I,{id:"1153799566",dynamic:[o.width(1.25),o.height(1.25),o.pt(0),o.pr(0),o.pb(0),o.pl(0),o.mt(0),o.mr(0),o.mb(0),o.ml(0)]},".spinner.__jsx-style-dynamic-selector{display:block;box-sizing:border-box;width:".concat(o.width(1.25),";height:").concat(o.height(1.25),";padding:").concat(o.pt(0)," ").concat(o.pr(0)," ").concat(o.pb(0)," ").concat(o.pl(0),";margin:").concat(o.mt(0)," ").concat(o.mr(0)," ").concat(o.mb(0)," ").concat(o.ml(0),";}.container.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;left:50%;top:50%;}")))};K1.defaultProps=One;K1.displayName="GeistSpinner";He(K1);var jne={className:""},Une=function(t,n){var r=n.filter(function(o){return!o.width}).length,i=n.reduce(function(o,a){return a.width?o+a.width:o},0),s=(t-i)/r;return s<=0?E.createElement("colgroup",null):E.createElement("colgroup",null,n.map(function(o,a){return E.createElement("col",{key:"colgroup-".concat(a),width:o.width||s})}))},J1=function(t){var n=Oe(),r=t,i=r.columns,s=r.width,o=L.useMemo(function(){return i.find(function(l){return!!l.width})},[i]),a=L.useMemo(function(){return o?Une(s,i):E.createElement("colgroup",null)},[o,s]);return E.createElement(E.Fragment,null,a,E.createElement("thead",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},E.createElement("tr",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])},i.map(function(l,c){return E.createElement("th",{key:"table-th-".concat(l.prop,"-").concat(c),className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" "+(l.className||"")},E.createElement("div",{className:I.dynamic([["134865897",[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]]])+" thead-box"},l.label))}))),E.createElement(I,{id:"134865897",dynamic:[n.palette.accents_5,n.palette.accents_1,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius,n.palette.border,n.palette.border,n.palette.border,n.layout.radius,n.layout.radius]},"thead.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;font-size:inherit;}th.__jsx-style-dynamic-selector{padding:0 0.5em;font-size:calc(0.75 * var(--table-font-size));font-weight:normal;text-align:left;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;vertical-align:middle;min-height:calc(2.5 * var(--table-font-size));color:".concat(n.palette.accents_5,";background:").concat(n.palette.accents_1,";border-bottom:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-radius:0;}th.__jsx-style-dynamic-selector:nth-child(1){border-bottom:1px solid ").concat(n.palette.border,";border-left:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-left-radius:").concat(n.layout.radius,";border-bottom-left-radius:").concat(n.layout.radius,";}th.__jsx-style-dynamic-selector:last-child{border-bottom:1px solid ").concat(n.palette.border,";border-right:1px solid ").concat(n.palette.border,";border-top:1px solid ").concat(n.palette.border,";border-top-right-radius:").concat(n.layout.radius,";border-bottom-right-radius:").concat(n.layout.radius,";}.thead-box.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-align:center;min-height:calc(2.5 * var(--table-font-size));text-transform:uppercase;}")))};J1.defaultProps=jne;J1.displayName="GeistTableHead";var $ne=function(t){var n=t.columns,r=t.row,i=t.rowIndex,s=t.emptyText,o=t.onCellClick;return E.createElement(E.Fragment,null,n.map(function(a,l){var c=r[a.prop],d=c||s,u=a.renderHandler(c,r,i);return E.createElement("td",{key:"row-td-".concat(l,"-").concat(a.prop),onClick:function(){return o&&o(c,i,l)},className:a.className},E.createElement("div",{className:"cell"},u||d))}))},Vne={columns:[],updateColumn:function(){}},pD=E.createContext(Vne),mD=function(){return E.useContext(pD)},Gne={className:""},ew=function(t){var n=t.data,r=t.hover,i=t.emptyText,s=t.onRow,o=t.onCell,a=t.rowClassName,l=Oe(),c=mD(),d=c.columns,u=function(g,p){s&&s(g,p)};return E.createElement("tbody",{className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])},n.map(function(h,g){var p=a(h,g);return E.createElement("tr",{key:"tbody-row-".concat(g),onClick:function(){return u(h,g)},className:I.dynamic([["1102342339",[l.palette.accents_1,l.palette.border,l.palette.accents_6]]])+" "+"".concat(r?"hover":""," ").concat(p)},E.createElement($ne,{columns:d,row:h,rowIndex:g,emptyText:i,onCellClick:o}))}),E.createElement(I,{id:"1102342339",dynamic:[l.palette.accents_1,l.palette.border,l.palette.accents_6]},"tr.__jsx-style-dynamic-selector{-webkit-transition:background-color 0.25s ease;transition:background-color 0.25s ease;font-size:inherit;}tr.hover.__jsx-style-dynamic-selector:hover{background-color:".concat(l.palette.accents_1,";}tr.__jsx-style-dynamic-selector td{padding:0 0.5em;border-bottom:1px solid ").concat(l.palette.border,";color:").concat(l.palette.accents_6,";font-size:calc(0.875 * var(--table-font-size));text-align:left;}tr.__jsx-style-dynamic-selector .cell{min-height:calc(3.125 * var(--table-font-size));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;}")))};ew.defaultProps=Gne;ew.displayName="GeistTableBody";var Hne={className:"",render:function(){}},Im=function(t){var n=t,r=n.children,i=n.prop,s=n.label,o=n.width,a=n.className,l=n.render,c=mD(),d=c.updateColumn,u="".concat(i).trim();return u||Mi('The props "prop" is required.',"Table.Column"),L.useEffect(function(){d({label:r||s,prop:u,width:o,className:a,renderHandler:l})},[r,s,i,o,a,l]),null};Im.defaultProps=Hne;Im.displayName="GeistTableColumn";var Wne=["children","data","initialData","hover","emptyText","onRow","onCell","onChange","className","rowClassName"],Xne={hover:!0,initialData:[],emptyText:"",className:"",rowClassName:function(){return""}};function Mm(e){var t=e,n=t.children,r=t.data,i=t.initialData,s=t.hover,o=t.emptyText,a=t.onRow,l=t.onCell;t.onChange;var c=t.className,d=t.rowClassName,u=Re(t,Wne),h=Ge(),g=h.SCALES,p=L.useRef(null),m=j3(p),_=Fe(m,2),y=_[0].width,f=_[1],x=L.useState([]),v=Fe(x,2),w=v[0],b=v[1],S=L.useState(i),k=Fe(S,2),C=k[0],A=k[1],N=function(W){b(function(F){var T=F.find(function(H){return H.prop===W.prop});return T?F.map(function(H){return H.prop!==W.prop?H:W}):[].concat(Xr(F),[W])})},R=L.useMemo(function(){return{columns:w,updateColumn:N}},[w]);return L.useEffect(function(){typeof r>"u"||A(r)},[r]),Lb(function(){return f()}),E.createElement(pD.Provider,{value:R},E.createElement("table",xe({ref:p},Ue(u),{className:I.dynamic([["2132340556",[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]]])+" "+(c||"")}),E.createElement(J1,{columns:w,width:y}),E.createElement(ew,{data:C,hover:s,emptyText:o,onRow:a,onCell:l,rowClassName:d}),n,E.createElement(I,{id:"2132340556",dynamic:[g.font(1),g.width(1,"100%"),g.height(1,"auto"),g.pt(0),g.pr(0),g.pb(0),g.pl(0),g.mt(0),g.mr(0),g.mb(0),g.ml(0)]},"table.__jsx-style-dynamic-selector{border-collapse:separate;border-spacing:0;--table-font-size:".concat(g.font(1),";font-size:var(--table-font-size);width:").concat(g.width(1,"100%"),";height:").concat(g.height(1,"auto"),";padding:").concat(g.pt(0)," ").concat(g.pr(0)," ").concat(g.pb(0)," ").concat(g.pl(0),";margin:").concat(g.mt(0)," ").concat(g.mr(0)," ").concat(g.mb(0)," ").concat(g.ml(0),";}"))))}Mm.defaultProps=Xne;Mm.displayName="GeistTable";Mm.Column=Im;var Yne=He(Mm);Yne.Column=Im;var qne={inGroup:!1},fD=E.createContext(qne),Zne=function(){return E.useContext(fD)},Qne=["initialValue","value","hideDivider","children","onChange","className"],Kne={className:"",hideDivider:!1},tw=function(t){var n=t.initialValue,r=t.value,i=t.hideDivider,s=t.children,o=t.onChange,a=t.className,l=Re(t,Qne),c=Oe(),d=Ge(),u=d.SCALES,h=L.useState(n),g=Fe(h,2),p=g[0],m=g[1],_=L.useState([]),y=Fe(_,2),f=y[0],x=y[1],v=function(k){x(function(C){var A=C.find(function(N){return N.value===k.value});return A?C.map(function(N){return N.value!==k.value?N:xe({},N,k)}):[].concat(Xr(C),[k])})},w=L.useMemo(function(){return{register:v,currentValue:p,inGroup:!0}},[p]);L.useEffect(function(){typeof r>"u"||m(r)},[r]);var b=function(k){m(k),o&&o(k)};return E.createElement(fD.Provider,{value:w},E.createElement("div",xe({},Ue(l),{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"tabs ".concat(a)}),E.createElement("header",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])},E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" "+"scroll-container ".concat(i?"hide-divider":"")},f.map(function(S){var k=S.cell,C=S.value;return E.createElement(k,{key:C,value:p,onClick:b,className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])})}))),E.createElement("div",{className:I.dynamic([["4088875350",[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]]])+" content"},s),E.createElement(I,{id:"4088875350",dynamic:[u.font(1),u.width(1,"initial"),u.height(1,"auto"),u.pt(0),u.pr(0),u.pb(0),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.border]},".tabs.__jsx-style-dynamic-selector{font-size:".concat(u.font(1),";width:").concat(u.width(1,"initial"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(0)," ").concat(u.pb(0)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}header.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-y:hidden;overflow-x:scroll;-webkit-scrollbar-width:none;-moz-scrollbar-width:none;-ms-scrollbar-width:none;scrollbar-width:none;position:relative;}.scroll-container.__jsx-style-dynamic-selector{width:100%;height:100%;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid ").concat(c.palette.border,";}header.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none;}.hide-divider.__jsx-style-dynamic-selector{border-color:transparent;}.content.__jsx-style-dynamic-selector{padding-top:0.625rem;}"))))};tw.defaultProps=Kne;tw.displayName="GeistTabs";var _D=He(tw),Jne={disabled:!1},nw=function(t){var n=t.children,r=t.value,i=t.label,s=t.disabled,o=Oe(),a=Ge(),l=a.SCALES,c=Zne(),d=c.register,u=c.currentValue,h=L.useMemo(function(){return u===r},[u,r]),g=function(m){var _=m.value,y=m.onClick,f=function(){s||y&&y(r)};return E.createElement("div",{role:"button",key:r,onClick:f,className:I.dynamic([["1613686401",[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]]])+" "+"tab ".concat(r===_?"active":""," ").concat(s?"disabled":"")},i,E.createElement(I,{id:"1613686401",dynamic:[o.palette.accents_6,l.font(1),l.width(1,"auto"),l.height(1,"auto"),l.pt(.334),l.pr(.218),l.pb(.334),l.pl(.218),l.mt(0),l.mr(.5334),l.mb(0),l.ml(.5334),o.palette.foreground,o.palette.foreground,o.palette.accents_3]},".tab.__jsx-style-dynamic-selector{box-sizing:border-box;cursor:pointer;outline:0;-webkit-transition:all 200ms ease;transition:all 200ms ease;text-transform:capitalize;white-space:nowrap;color:".concat(o.palette.accents_6,";-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;font-size:").concat(l.font(1),";line-height:1.25em;width:").concat(l.width(1,"auto"),";height:").concat(l.height(1,"auto"),";padding:").concat(l.pt(.334)," ").concat(l.pr(.218)," ").concat(l.pb(.334)," ").concat(l.pl(.218),";margin:").concat(l.mt(0)," ").concat(l.mr(.5334)," ").concat(l.mb(0)," ").concat(l.ml(.5334),";}.tab.__jsx-style-dynamic-selector:after{position:absolute;content:'';bottom:-1px;left:0;right:0;width:100%;height:2px;border-radius:4px;-webkit-transform:scaleX(0.75);-ms-transform:scaleX(0.75);transform:scaleX(0.75);background-color:transparent;-webkit-transition:all 200ms ease;transition:all 200ms ease;}.tab.active.__jsx-style-dynamic-selector:after{background-color:").concat(o.palette.foreground,";-webkit-transform:scaleX(1);-ms-transform:scaleX(1);transform:scaleX(1);}.tab.__jsx-style-dynamic-selector svg{max-height:1em;margin-right:5px;}.tab.__jsx-style-dynamic-selector:first-of-type{margin-left:0;}.tab.active.__jsx-style-dynamic-selector{color:").concat(o.palette.foreground,";}.tab.disabled.__jsx-style-dynamic-selector{color:").concat(o.palette.accents_3,";cursor:not-allowed;}")))};return g.displayName="GeistTabsInternalCell",L.useEffect(function(){d&&d({value:r,cell:g})},[r,i,s,g]),h?E.createElement(E.Fragment,null,n):null};nw.defaultProps=Jne;nw.displayName="GeistTabsItem";var yD=He(nw);_D.Item=yD;_D.Tab=yD;var ere=["type","children","className","invert"],tre={type:"default",invert:!1,className:""},nre=function(t,n,r){var i={default:{color:n.foreground},success:{color:n.success},warning:{color:n.warning},error:{color:n.error},secondary:{color:n.secondary},dark:{color:n.foreground,bgColor:n.background},lite:{color:n.foreground,bgColor:n.accents_2}},s=r||t==="lite",o=xe({},i[t],{bgColor:i[t].bgColor||n.background,borderColor:s?"transparent":i[t].color});return r?xe({},o,{color:o.bgColor,bgColor:o.color}):o},rw=function(t){var n=t.type,r=t.children,i=t.className,s=t.invert,o=Re(t,ere),a=Oe(),l=Ge(),c=l.SCALES,d=L.useMemo(function(){return nre(n,a.palette,s)},[n,a.palette,s]),u=d.color,h=d.bgColor,g=d.borderColor;return E.createElement("span",xe({},Ue(o),{className:I.dynamic([["3652870078",[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]]])+" "+(i||"")}),r,E.createElement(I,{id:"3652870078",dynamic:[g,h,u,c.height(.3125),c.font(.875),c.width(1,"auto"),c.height(1.75),c.pt(.375),c.pr(.375),c.pb(.375),c.pl(.375),c.mt(0),c.mr(0),c.mb(0),c.ml(0)]},"span.__jsx-style-dynamic-selector{display:inline-block;border:1px solid ".concat(g,";background-color:").concat(h,";color:").concat(u,";box-sizing:border-box;line-height:1em;border-radius:").concat(c.height(.3125),";font-size:").concat(c.font(.875),";width:").concat(c.width(1,"auto"),";height:").concat(c.height(1.75),";padding:").concat(c.pt(.375)," ").concat(c.pr(.375)," ").concat(c.pb(.375)," ").concat(c.pl(.375),";margin:").concat(c.mt(0)," ").concat(c.mr(0)," ").concat(c.mb(0)," ").concat(c.ml(0),";}")))};rw.defaultProps=tre;rw.displayName="GeistTag";He(rw);var rre=["children","tag","className","type"],ire={type:"default",className:""},sre=function(t,n){var r={default:"inherit",secondary:n.secondary,success:n.success,warning:n.warning,error:n.error};return r[t]||r.default},Pm=function(t){var n=t.children,r=t.tag,i=t.className,s=t.type,o=Re(t,rre),a=r,l=Oe(),c=Ge(),d=c.SCALES,u=c.getScaleableProps,h=u("font"),g=u(["margin","marginLeft","marginRight","mx","ml","mr"]),p=u(["margin","marginTop","marginBottom","my","mt","mb"]),m=u(["padding","paddingLeft","paddingRight","pl","pr","px"]),_=u(["padding","paddingTop","paddingBottom","pt","pb","py"]),y=L.useMemo(function(){return sre(s,l.palette)},[s,l.palette]),f=L.useMemo(function(){var x=[{value:g,className:"mx"},{value:p,className:"my"},{value:m,className:"px"},{value:_,className:"py"},{value:h,className:"font"}],v=x.reduce(function(w,b){return typeof b.value>"u"?w:"".concat(w," ").concat(b.className)},"");return"".concat(v," ").concat(i).trim()},[g,p,m,_,h,i]);return E.createElement(a,xe({},Ue(o),{className:I.dynamic([["3155699851",[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]]])+" "+(f||"")}),n,E.createElement(I,{id:"3155699851",dynamic:[r,y,d.width(1,"auto"),d.height(1,"auto"),d.font(1,"inherit"),d.ml(0,"revert"),d.mr(0,"revert"),d.mt(0,"revert"),d.mb(0,"revert"),d.pl(0,"revert"),d.pr(0,"revert"),d.pt(0,"revert"),d.pb(0,"revert")]},"".concat(r,".__jsx-style-dynamic-selector{color:").concat(y,";width:").concat(d.width(1,"auto"),";height:").concat(d.height(1,"auto"),";}.font.__jsx-style-dynamic-selector{font-size:").concat(d.font(1,"inherit"),";}.mx.__jsx-style-dynamic-selector{margin-left:").concat(d.ml(0,"revert"),";margin-right:").concat(d.mr(0,"revert"),";}.my.__jsx-style-dynamic-selector{margin-top:").concat(d.mt(0,"revert"),";margin-bottom:").concat(d.mb(0,"revert"),";}.px.__jsx-style-dynamic-selector{padding-left:").concat(d.pl(0,"revert"),";padding-right:").concat(d.pr(0,"revert"),";}.py.__jsx-style-dynamic-selector{padding-top:").concat(d.pt(0,"revert"),";padding-bottom:").concat(d.pb(0,"revert"),";}")))};Pm.defaultProps=ire;Pm.displayName="GeistTextChild";var ore=["h1","h2","h3","h4","h5","h6","p","b","small","i","span","del","em","blockquote","children","className"],are={h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,p:!1,b:!1,small:!1,i:!1,span:!1,del:!1,em:!1,blockquote:!1,className:"",type:"default"},lre=function e(t,n){if(!t.length)return n;var r=t.slice(1,t.length);return E.createElement(Pm,{tag:t[0]},e(r,n))},iw=function(t){var n=t.h1,r=t.h2,i=t.h3,s=t.h4,o=t.h5,a=t.h6,l=t.p,c=t.b,d=t.small,u=t.i,h=t.span,g=t.del,p=t.em,m=t.blockquote,_=t.children,y=t.className,f=Re(t,ore),x={h1:n,h2:r,h3:i,h4:s,h5:o,h6:a,p:l,blockquote:m},v={span:h,small:d,b:c,em:p,i:u,del:g},w=Object.keys(x).filter(function(A){return x[A]}),b=Object.keys(v).filter(function(A){return v[A]}),S=L.useMemo(function(){return w[0]?w[0]:b[0]?b[0]:"p"},[w,b]),k=b.filter(function(A){return A!==S}),C=L.useMemo(function(){return k.length?lre(k,_):_},[k,_]);return E.createElement(Pm,xe({className:y,tag:S},f),C)};iw.defaultProps=are;iw.displayName="GeistText";He(iw);var cre=function(t,n){var r={default:{bg:t.success},secondary:{bg:t.secondary},success:{bg:t.success},warning:{bg:t.warning},error:{bg:t.error}};return n?r[n]:r.default},dre=["initialChecked","checked","disabled","onChange","type","className"],ure={type:"default",disabled:!1,initialChecked:!1,className:""},sw=function(t){var n=t.initialChecked,r=t.checked,i=t.disabled,s=t.onChange,o=t.type,a=t.className,l=Re(t,dre),c=Oe(),d=Ge(),u=d.SCALES,h=L.useState(n),g=Fe(h,2),p=g[0],m=g[1],_=L.useCallback(function(x){if(!i){var v={target:{checked:!p},stopPropagation:x.stopPropagation,preventDefault:x.preventDefault,nativeEvent:x};m(!p),s&&s(v)}},[i,p,s]),y=L.useMemo(function(){return cre(c.palette,o)},[c.palette,o]),f=y.bg;return L.useEffect(function(){r!==void 0&&m(r)},[r]),E.createElement("label",xe({},Ue(l),{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+(a||"")}),E.createElement("input",{type:"checkbox",disabled:i,checked:p,onChange:_,className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])}),E.createElement("div",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" "+"toggle ".concat(p?"checked":""," ").concat(i?"disabled":"")},E.createElement("span",{className:I.dynamic([["4106206985",[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]]])+" inner"})),E.createElement(I,{id:"4106206985",dynamic:[i?"not-allowed":"pointer",u.font(1),u.height(.875),u.width(1.75),u.pt(.1875),u.pr(0),u.pb(.1875),u.pl(0),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.palette.accents_2,c.palette.background,c.palette.accents_2,c.palette.accents_1,c.palette.accents_2,c.palette.accents_4,c.palette.accents_4,f]},"label.__jsx-style-dynamic-selector{-webkit-tap-highlight-color:transparent;display:inline-block;vertical-align:middle;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:".concat(i?"not-allowed":"pointer",";--toggle-font-size:").concat(u.font(1),";--toggle-height:").concat(u.height(.875),";width:").concat(u.width(1.75),";height:var(--toggle-height);padding:").concat(u.pt(.1875)," ").concat(u.pr(0)," ").concat(u.pb(.1875)," ").concat(u.pl(0),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}input.__jsx-style-dynamic-selector{overflow:hidden;visibility:hidden;height:0;opacity:0;width:0;position:absolute;background-color:transparent;z-index:-1;}.toggle.__jsx-style-dynamic-selector{height:var(--toggle-height);width:100%;border-radius:var(--toggle-height);-webkit-transition-delay:0.12s;transition-delay:0.12s;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-property:background,border;transition-property:background,border;-webkit-transition-timing-function:cubic-bezier(0,0,0.2,1);transition-timing-function:cubic-bezier(0,0,0.2,1);position:relative;border:1px solid transparent;background-color:").concat(c.palette.accents_2,";padding:0;}.inner.__jsx-style-dynamic-selector{width:calc(var(--toggle-height) - 2px);height:calc(var(--toggle-height) - 2px);position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:1px;box-shadow:rgba(0,0,0,0.2) 0 1px 2px 0,rgba(0,0,0,0.1) 0 1px 3px 0;-webkit-transition:left 280ms cubic-bezier(0,0,0.2,1);transition:left 280ms cubic-bezier(0,0,0.2,1);border-radius:50%;background-color:").concat(c.palette.background,";}.disabled.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_2,";background-color:").concat(c.palette.accents_1,";}.disabled.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{background-color:").concat(c.palette.accents_2,";}.disabled.checked.__jsx-style-dynamic-selector{border-color:").concat(c.palette.accents_4,";background-color:").concat(c.palette.accents_4,";}.checked.__jsx-style-dynamic-selector{background-color:").concat(f,";}.checked.__jsx-style-dynamic-selector>.inner.__jsx-style-dynamic-selector{left:calc(100% - (var(--toggle-height) - 2px));box-shadow:none;}")))};sw.defaultProps=ure;sw.displayName="GeistToggle";He(sw);var hre={width:22,height:22},ow=function(t){var n=t.color,r=t.width,i=t.height,s=Oe();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M13 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V9z",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement("path",{d:"M13 2v7h7",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};ow.defaultProps=hre;ow.displayName="GeistTreeFileIcon";var gre={initialExpand:!1,isImperative:!1},pre=E.createContext(gre),xD=function(){return E.useContext(pre)},vD=function(t){var n=t.count;return n===0?null:E.createElement(E.Fragment,null,Xr(new Array(n)).map(function(r,i){return E.createElement("span",{key:"indent-".concat(i),className:I.dynamic([["2622387629",[i+1]]])+" indent"},E.createElement(I,{id:"2622387629",dynamic:[i+1]},"span.indent.__jsx-style-dynamic-selector{left:calc(-1.875rem * ".concat(i+1," + 0.75rem);}")))}))},mre=function(t,n){return E.Children.toArray(t).sort(function(r,i){return!E.isValidElement(r)||!E.isValidElement(i)?0:r.type!==i.type?r.type!==n?1:-1:"".concat(r.props.name).charCodeAt(0)-"".concat(i.props.name).charCodeAt(0)})},bD=function(t,n){return n?"".concat(n,"/").concat(t):t},wD=function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},fre=["name","parentPath","level","extra","className"],_re={level:0,className:"",parentPath:""},aw=function(t){var n=t.name,r=t.parentPath,i=t.level,s=t.extra,o=t.className,a=Re(t,fre),l=Oe(),c=xD(),d=c.onFileClick,u=L.useMemo(function(){return bD(n,r)},[]),h=function(p){wD(p),d&&d(u)};return E.createElement("div",xe({onClick:h},Ue(a),{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" "+"file ".concat(o)}),E.createElement("div",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" names"},E.createElement(vD,{count:i}),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" icon"},E.createElement(ow,null)),E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" name"},n,s&&E.createElement("span",{className:I.dynamic([["4220802947",[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]]])+" extra"},s))),E.createElement(I,{id:"4220802947",dynamic:[i,l.palette.accents_2,l.palette.accents_8,l.palette.accents_5]},".file.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-left:calc(1.875rem * ".concat(i,");}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(l.palette.accents_2,";margin-left:-1px;}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:0.5rem;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(l.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(l.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}")))};aw.defaultProps=_re;aw.displayName="GeistTreeFile";var yre={width:22,height:22},lw=function(t){var n=t.color,r=t.width,i=t.height,s=Oe();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])},E.createElement("path",{d:"M2.707 7.454V5.62C2.707 4.725 3.469 4 4.409 4h4.843c.451 0 .884.17 1.204.474l.49.467c.126.12.296.186.473.186h8.399c.94 0 1.55.695 1.55 1.59v.737m-18.661 0h-.354a.344.344 0 00-.353.35l.508 11.587c.015.34.31.609.668.609h17.283c.358 0 .652-.269.667-.61L22 7.805a.344.344 0 00-.353-.35h-.278m-18.662 0h18.662",className:I.dynamic([["4043754792",[n||s.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||s.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||s.palette.accents_8,";}")))};lw.defaultProps=yre;lw.displayName="GeistTreeFolderIcon";var xre={width:12,height:12,active:!1},cw=function(t){var n=t.color,r=t.width,i=t.height,s=t.active,o=Oe();return E.createElement("svg",{viewBox:"0 0 24 24",width:r,height:i,stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])},E.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),!s&&E.createElement("path",{d:"M12 8v8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement("path",{d:"M8 12h8",className:I.dynamic([["4043754792",[n||o.palette.accents_8]]])}),E.createElement(I,{id:"4043754792",dynamic:[n||o.palette.accents_8]},"svg.__jsx-style-dynamic-selector{color:".concat(n||o.palette.accents_8,";}")))};cw.defaultProps=xre;cw.displayName="GeistTreeStatusIcon";var vre=["name","children","parentPath","level","extra","className"],bre={level:0,className:"",parentPath:""},ED=function e(t){var n=t.name,r=t.children,i=t.parentPath,s=t.level,o=t.extra,a=t.className,l=Re(t,vre),c=Oe(),d=xD(),u=d.initialExpand,h=d.isImperative,g=L.useState(u),p=Fe(g,2),m=p[0],_=p[1];L.useEffect(function(){return _(u)},[]);var y=L.useMemo(function(){return bD(n,i)},[]),f=function(){return _(!m)},x=IQ(r,{parentPath:y,level:s+1},[e,aw]),v=h?x:mre(x,e);return E.createElement("div",xe({onClick:f},Ue(l),{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" "+"folder ".concat(a)}),E.createElement("div",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" names"},E.createElement(vD,{count:s}),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" status"},E.createElement(cw,{active:m})),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" icon"},E.createElement(lw,null)),E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" name"},n,o&&E.createElement("span",{className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" extra"},o))),E.createElement(Am,{isExpanded:m},E.createElement("div",{onClick:wD,className:I.dynamic([["1983983326",[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]]])+" content"},v)),E.createElement(I,{id:"1983983326",dynamic:[s,c.palette.accents_2,c.palette.background,c.palette.accents_8,c.palette.accents_5]},".folder.__jsx-style-dynamic-selector{cursor:pointer;line-height:1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.names.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:1.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:calc(1.875rem * ".concat(s,");position:relative;}.names.__jsx-style-dynamic-selector>.indent{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:1px;height:100%;background-color:").concat(c.palette.accents_2,";margin-left:-1px;}.status.__jsx-style-dynamic-selector{position:absolute;left:calc(-1.125rem);top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:0.875rem;height:0.875rem;z-index:10;background-color:").concat(c.palette.background,";}.icon.__jsx-style-dynamic-selector{width:1.5rem;height:100%;margin-right:0.5rem;}.status.__jsx-style-dynamic-selector,.icon.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.name.__jsx-style-dynamic-selector{-webkit-transition:opacity 100ms ease 0ms;transition:opacity 100ms ease 0ms;color:").concat(c.palette.accents_8,";white-space:nowrap;font-size:0.875rem;}.extra.__jsx-style-dynamic-selector{font-size:0.75rem;-webkit-align-self:baseline;-ms-flex-item-align:baseline;align-self:baseline;padding-left:4px;color:").concat(c.palette.accents_5,";}.name.__jsx-style-dynamic-selector:hover{opacity:0.7;}.content.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:auto;}")))};ED.defaultProps=bre;ED.displayName="GeistTreeFolder";var wre=or("directory","file");wre[0];var Ere=["src","text","name","children","className","altText"],Sre={className:""},dw=function(t){var n=t.src,r=t.text,i=t.name,s=t.children,o=t.className,a=t.altText,l=Re(t,Ere),c=Oe(),d=Ge(),u=d.SCALES,h=d.getScaleableProps,g=h("scale");return E.createElement("div",xe({},Ue(l),{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" "+"user ".concat(o)}),E.createElement(S3,{src:n,scale:g,text:r,alt:a}),E.createElement("div",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" names"},E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" name"},i),E.createElement("span",{className:I.dynamic([["3188576998",[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]]])+" social"},s)),E.createElement(I,{id:"3188576998",dynamic:[u.font(1),u.width(1,"max-content"),u.height(1,"auto"),u.pt(0),u.pr(.5),u.pb(0),u.pl(.5),u.mt(0),u.mr(0),u.mb(0),u.ml(0),c.layout.gapHalf,c.palette.accents_8,c.palette.accents_6]},".user.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:100%;--user-font-size:".concat(u.font(1),";font-size:var(--user-font-size);width:").concat(u.width(1,"max-content"),";height:").concat(u.height(1,"auto"),";padding:").concat(u.pt(0)," ").concat(u.pr(.5)," ").concat(u.pb(0)," ").concat(u.pl(.5),";margin:").concat(u.mt(0)," ").concat(u.mr(0)," ").concat(u.mb(0)," ").concat(u.ml(0),";}.names.__jsx-style-dynamic-selector{font-size:inherit;margin-left:").concat(c.layout.gapHalf,";display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;white-space:nowrap;}.name.__jsx-style-dynamic-selector{font-size:calc(0.89 * var(--user-font-size));color:").concat(c.palette.accents_8,";line-height:1.1em;text-transform:capitalize;font-weight:500;max-width:15rem;text-overflow:ellipsis;overflow:hidden;}.social.__jsx-style-dynamic-selector{font-size:calc(0.75 * var(--user-font-size));color:").concat(c.palette.accents_6,";}.social.__jsx-style-dynamic-selector *:first-child{margin-top:0;}.social.__jsx-style-dynamic-selector *:last-child{margin-bottom:0;}")))};dw.defaultProps=Sre;dw.displayName="GeistUser";var kre=He(dw),Are=["href","className","children"],Cre={className:""},uw=E.forwardRef(function(e,t){var n=e.href,r=e.className,i=e.children,s=Re(e,Are);return E.createElement("div",xe({},Ue(s),{className:"jsx-3263947648 "+(r||"")}),E.createElement($b,{ref:t,href:n,color:!0,target:"_blank",rel:"noopener"},i),E.createElement(I,{id:"3263947648"},"div.jsx-3263947648 a:hover{opacity:0.7;}"))});uw.defaultProps=Cre;uw.displayName="GeistUserLink";kre.Link=uw;or("xs","sm","md","lg","xl","mobile");or("up","down","default");var Tre=function(t){var n=t.children,r=Oe();return E.createElement(E.Fragment,null,n,E.createElement(I,{id:"2379574914",dynamic:[r.palette.background,r.palette.foreground,r.palette.background,r.font.sans,r.font.sans,r.palette.link,r.expressiveness.linkStyle,r.expressiveness.linkHoverStyle,r.layout.gapHalf,r.layout.gapHalf,r.layout.gapHalf,r.layout.gap,r.palette.foreground,r.palette.accents_4,r.palette.code,r.font.mono,r.layout.gap,r.layout.gap,r.layout.gap,r.palette.accents_2,r.layout.radius,r.font.mono,r.palette.foreground,r.palette.accents_2,r.palette.accents_1,r.layout.gap,r.layout.gap,r.palette.accents_5,r.palette.accents_1,r.layout.radius,r.palette.border,r.palette.selection,r.palette.foreground]},"html,body{background-color:".concat(r.palette.background,";color:").concat(r.palette.foreground,";}html{font-size:16px;--geist-icons-background:").concat(r.palette.background,";}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.5;margin:0;padding:0;min-height:100%;position:relative;overflow-x:hidden;font-family:").concat(r.font.sans,";}#__next{overflow-x:hidden;}*,*:before,*:after{box-sizing:inherit;text-rendering:geometricPrecision;-webkit-tap-highlight-color:transparent;}p,small{font-weight:400;color:inherit;-webkit-letter-spacing:-0.005625em;-moz-letter-spacing:-0.005625em;-ms-letter-spacing:-0.005625em;letter-spacing:-0.005625em;font-family:").concat(r.font.sans,";}p{margin:1em 0;font-size:1em;line-height:1.625em;}small{margin:0;line-height:1.5;font-size:0.875em;}b{font-weight:600;}span{font-size:inherit;color:inherit;font-weight:inherit;}img{max-width:100%;}a{cursor:pointer;font-size:inherit;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-box-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:").concat(r.palette.link,";-webkit-text-decoration:").concat(r.expressiveness.linkStyle,";text-decoration:").concat(r.expressiveness.linkStyle,";}a:hover{-webkit-text-decoration:").concat(r.expressiveness.linkHoverStyle,";text-decoration:").concat(r.expressiveness.linkHoverStyle,";}ul,ol{padding:0;list-style-type:none;margin:").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gapHalf," ").concat(r.layout.gap,";color:").concat(r.palette.foreground,";}ol{list-style-type:decimal;}li{margin-bottom:0.625em;font-size:1em;line-height:1.625em;}ul li:before{content:'–';display:inline-block;color:").concat(r.palette.accents_4,";position:absolute;margin-left:-0.9375em;}h1,h2,h3,h4,h5,h6{color:inherit;margin:0 0 0.7rem 0;}h1{font-size:3rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;line-height:1.5;font-weight:700;}h2{font-size:2.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h3{font-size:1.5rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h4{font-size:1.25rem;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;}h5{font-size:1rem;-webkit-letter-spacing:-0.01em;-moz-letter-spacing:-0.01em;-ms-letter-spacing:-0.01em;letter-spacing:-0.01em;font-weight:600;}h6{font-size:0.875rem;-webkit-letter-spacing:-0.005em;-moz-letter-spacing:-0.005em;-ms-letter-spacing:-0.005em;letter-spacing:-0.005em;font-weight:600;}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;color:inherit;margin:0;}button:focus,input:focus,select:focus,textarea:focus{outline:none;}code{color:").concat(r.palette.code,";font-family:").concat(r.font.mono,";font-size:0.9em;white-space:pre-wrap;}code:before,code:after{content:'\\`';}pre{padding:calc(").concat(r.layout.gap," * 0.75) ").concat(r.layout.gap,";margin:").concat(r.layout.gap," 0;border:1px solid ").concat(r.palette.accents_2,";border-radius:").concat(r.layout.radius,";font-family:").concat(r.font.mono,";white-space:pre;overflow:auto;line-height:1.5;text-align:left;font-size:13px;-webkit-overflow-scrolling:touch;}pre code{color:").concat(r.palette.foreground,";font-size:0.8125rem;line-height:1.25em;white-space:pre;}pre code:before,pre code:after{display:none;}pre p{margin:0;}pre::-webkit-scrollbar{display:none;width:0;height:0;background:transparent;}hr{border-color:").concat(r.palette.accents_2,";}details{background-color:").concat(r.palette.accents_1,";border:none;}details:focus,details:hover,details:active{outline:none;}summary{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;list-style:none;outline:none;}summary::marker,summary::before{display:none;}summary::-moz-list-bullet{font-size:0;}summary:focus,summary:hover,summary:active{outline:none;list-style:none;}blockquote{padding:calc(0.667 * ").concat(r.layout.gap,") ").concat(r.layout.gap,";color:").concat(r.palette.accents_5,";background-color:").concat(r.palette.accents_1,";border-radius:").concat(r.layout.radius,";margin:1.5em 0;border:1px solid ").concat(r.palette.border,";}blockquote *:first-child{margin-top:0;}blockquote *:last-child{margin-bottom:0;}::selection{background-color:").concat(r.palette.selection,";color:").concat(r.palette.foreground,";}")))},Lre=E.memo(Tre);Lre.flush=i3;const Nre=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",strokeWidth:"1.5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",fr:"",children:at.jsx("path",{d:"M6 12h12",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Ire=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:at.jsx("path",{d:"M 9 12 h 12 m 2 0 l -3 -3 m 3 3 l -3 3 m -10 -6 l -3 3 m 0 0 l 3 3",transform:"translate(-3,0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Mre=()=>at.jsx("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#000000",children:at.jsx("path",{d:"M9 12h13m0 0l-3-3m3 3l-3 3",transform:"translate(-3 0)",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Pre=qZ.map(e=>({value:e,label:e})),Fre=zy.map(e=>({value:`${e}`,label:e})),c0=({color:e,setColor:t,hasTransparent:n})=>{const[r,i]=L.useState(s0);L.useEffect(()=>{i(n?["none",...s0.slice(0,-1)]:[...s0])},[n]);const[s,o]=L.useState(e);return at.jsx("span",{className:"colorpicker",children:r.map(a=>at.jsx("div",{className:a===s?"selected":"",style:{width:12,height:12,borderRadius:10,backgroundColor:a==="none"?"#fff":a,margin:5,cursor:"pointer"},onClick:()=>{o(a),t&&t(a)}},a))})},Rre=()=>{const{editor:e,arrowStyle:t,textStyle:n}=e3(),r=sr();function i(o){const a=r.getOptions();r.setOptions({cursor:{default:"crosshair"}}),r.events.once("click",l=>{const{x:c,y:d}=r.view.screenToGraphCoordinates(l),u=o==="arrow"?BR(c,d,c,d,{...QR}):YR(c,d,0,0,"...",{...KR});setTimeout(()=>{Vi(u)&&e.startArrow(c,d,u),is(u)&&e.startText(c,d,u)},50),e.once("add",()=>{r.setOptions(a)})})}function s(){const o=document.createElement("a");o.href=URL.createObjectURL(new Blob([JSON.stringify(e.getAnnotations())],{type:"text/plain"})),o.download="annotations.json",o.click()}return at.jsxs(at.Fragment,{children:[at.jsx(Ko,{onClick:()=>i("arrow"),children:"Add arrow"}),at.jsx(Ko,{onClick:()=>i("text"),children:"Add text"}),at.jsx(Ko,{onClick:()=>s(),children:"Save"})]})},Dre=({minThickness:e,maxThickness:t})=>{const{currentAnnotation:n,arrowStyle:r,setArrowStyle:i,textStyle:s,setTextStyle:o}=e3();function a(m){const _={head:"none",tail:"none"};m==="one"&&(_.head="arrow"),m==="both"&&(_.head="arrow",_.tail="arrow"),i({...r,..._})}function l(m){const _=OA(BA(m,0,100),e,t);console.log(_),i({...r,strokeWidth:_})}function c(m){i({...r,strokeColor:m})}function d(m){o({...s,font:m})}function u(m){o({...s,fontSize:`${m}`})}function h(m){o({...s,background:m})}function g(m){o({...s,color:m})}function p(m){return m.preventDefault(),m.stopPropagation(),!1}return at.jsx(CZ,{children:at.jsxs("div",{className:"ui",children:[!n&&at.jsx("span",{className:"add-buttons",children:at.jsx(Rre,{})}),at.jsxs("div",{className:"tweakpanel",onMouseUp:p,onMouseDown:p,onClick:p,children:[n&&Vi(n)&&at.jsxs("span",{className:"rows",children:[at.jsx("span",{children:"Shape"}),at.jsxs(rJ,{children:[at.jsx(Ko,{onClick:()=>a("none"),icon:at.jsx(Nre,{})}),at.jsx(Ko,{onClick:()=>a("one"),icon:at.jsx(Mre,{})}),at.jsx(Ko,{onClick:()=>a("both"),icon:at.jsx(Ire,{})})]}),at.jsx("span",{children:"Color"}),at.jsx(c0,{color:r.strokeColor,setColor:m=>c(m)}),at.jsx("span",{children:"Thickness"}),at.jsx(kne,{min:0,max:100,onChange:m=>l(m),initialValue:Math.floor(OA(BA(r.strokeWidth||0,e,t),0,100))})]}),n&&is(n)&&at.jsxs("span",{className:"rows",children:[at.jsx("span",{children:"Font"}),at.jsx(Cc,{onChange:m=>d(m),initialValue:s.font,children:Pre.map(m=>at.jsx(Cc.Option,{value:m.value,children:m.label},m.value))}),at.jsx("span",{children:"Size"}),at.jsx(Cc,{onChange:m=>u(m),initialValue:s.fontSize,children:Fre.map(m=>at.jsx(Cc.Option,{value:m.value,children:m.label},m.value))}),at.jsx("span",{children:"Color"}),at.jsx(c0,{color:s.color,setColor:m=>g(m)}),at.jsx("span",{children:"Background"}),at.jsx(c0,{hasTransparent:!0,color:s.background,setColor:m=>h(m)})]})]})]})})};function zre(){const[e]=L.useState({nodes:[{id:0,attributes:{x:0,y:0}},{id:1,attributes:{x:100,y:100}}],edges:[]});return at.jsx("div",{className:"App",children:at.jsx(lZ,{graph:e,children:at.jsx(JZ,{children:at.jsx(Dre,{minThickness:1,maxThickness:10})})})})}d0.createRoot(document.getElementById("root")).render(at.jsx(zre,{}))});export default Ore();
